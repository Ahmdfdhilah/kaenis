"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d24eac92-47ed-5b01-9be3-1bb109a2e7a7")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[1565],{238241:(e,i,n)=>{n.d(i,{E:()=>f,c:()=>j});var t=n(104076),l=n(962856),s=n(416381),r=n(838167),d=n(364031),o=n(937505),a=n(624155),u=n(564914),c=n(423683),p=n(391145),g=n(415567),m=n(434103),x=n(561437);function v({color:e}){if((0,a.w$)(e.type===m.q.STYLE?e.dsStyle:void 0),e.type===m.q.STYLE){let i=e.dsStyle.value;return e.dsStyle.kind===u.AT.SUBSCRIBED_WITHOUT_LIBRARY&&(i.style_type="FILL"),(0,t.jsx)(x.zi,{dsStyle:i,disableTooltip:!0})}return(0,t.jsx)(p.J,{className:"code_and_properties_panel_preview--colorChit--N58wX",paint:e.paint})}function h(){let{chits:e=[],total:i}=(0,r.x1)();return i?(0,t.jsxs)("span",{className:"code_and_properties_panel_preview--colorChitRow--cMZM3",children:[e.map(e=>(0,t.jsx)(v,{color:e},e.type===m.q.RAW?e.encodedPaint:e.dsStyle?.value?.node_id)),i>3&&(0,t.jsxs)("span",{children:["+",i-3]})]}):null}function j({plugin:e}){return(0,t.jsx)(l.E,{variant:"defaultOutline",iconPrefix:(0,t.jsx)(c.d,{plugin:e}),children:e.name})}function f(){let e=(0,d.sQ)(),i=(0,o.AF)(),n=(0,s.v4)(),l=(0,s.AC)(n),r="SECTION"===(0,g.rb)();return i&&e&&"first-party"!==n.type&&l&&!r?(0,t.jsx)(j,{plugin:l}):(0,t.jsx)(h,{})}},838167:(e,i,n)=>{n.d(i,{Fe:()=>P,r_:()=>N,x1:()=>S});var t=n(104076),l=n(716976),s=n(903927),r=n(192075),d=n(315361),o=n(130161),a=n(552001),u=n(266808),c=n(322839),p=n(111297),g=n(835307),m=n(697874),x=n(728233),v=n(405210);function h({isSubsection:e}){let i=(0,c.q6)("EFFECT"),n=(0,c.q6)("TEXT"),l=(0,d.uQ)();return(0,g.Fk)((e,i)=>{if(!i)return!1;let n=e?.get(i);return!!n&&("SECTION"===n.type||"FRAME"===n.type)},l)?(0,t.jsxs)(t.Fragment,{children:[i.visibleItems.length>0&&(0,t.jsx)(p.fu,{name:"Selection styles panel",properties:{resourceType:"Effect",count:i.totalItems},children:(0,t.jsxs)(m.VZ,{title:(0,r.t)("dev_handoff.selection_effect_styles"),recordingKey:"devModeSelectionEffectStyles",isSubsection:e,noPadding:e,noBorder:e,children:[i.visibleItems.map(e=>(0,t.jsx)(j,{styleData:e},e?.key)),i.showMoreButton]})}),n.visibleItems.length>0&&(0,t.jsx)(p.fu,{name:"Selection styles panel",properties:{resourceType:"Text",count:n.totalItems},children:(0,t.jsxs)(m.VZ,{title:(0,r.t)("dev_handoff.selection_text_styles"),recordingKey:"devModeSelectionTextStyles",isSubsection:e,noPadding:e,noBorder:e,children:[n.visibleItems.map(e=>(0,t.jsx)(j,{styleData:e},e?.key)),n.showMoreButton]})})]}):null}function j({styleData:e}){return(0,t.jsx)(x._p,{styleId:e.key,styleNodeId:e.node_id,styleType:e.style_type,onMouseEnter:()=>{u.kTx?.highlightOnlySameStyleInSublayers(e.guids)},onMouseLeave:()=>{u.kTx?.highlightOnlySameStyleInSublayers([])},className:"selection_styles_panel--styleRow--t--sj",children:(0,t.jsx)(v.s0,{styleKey:e.key,styleType:e.style_type,rowWithAccessoryButton:!0})})}var f=n(371952),I=n(3041),_=n(346260),y=n(773726),w=n(425119),b=n(884828),T=n(126494),C=n(109456);function S(){let e=(0,_.SG)(),i=(0,_.VS)(),n=T.N()?.[0],{selectionVariables:t,selectionStyles:r,selectionValues:d}=(0,o.M)(),a=(0,s.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded);return l.useMemo(()=>{if(!e.length&&!i.length&&!n?.strokeColors.length&&!t.length&&!r.length&&!d.length)return{total:0,chits:[],emptyDueToLimitExceeded:a};let l=e.length+i.length+(n?.strokeColors.length??0)+t.length+r.length+d.length,s=[];for(let l of[e,i,n?.strokeColors,t,r,d])if(l&&0!==l.length&&(s.push(...l.slice(0,3-s.length)),3===s.length))break;return{chits:s,total:l,emptyDueToLimitExceeded:a}},[e,i,n?.strokeColors,t,r,d,a])}function N(){let{total:e,emptyDueToLimitExceeded:i}=S();return e||i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.J,{isSubsection:!0}),(0,t.jsxs)(m.VZ,{title:(0,r.t)("inspect_panel.colors.title"),additionalHeaders:(0,t.jsx)(_.Af,{}),recordingKey:"colors",noBorder:!0,noPadding:!0,isSubsection:!0,children:[(0,t.jsx)(_.ZN,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(T.o,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(a.V,{hideBorder:!0,noPadding:!0,isSubsection:!0})]})]}):null}function P(){(0,f.JG)({enabled:!0});let e=(0,d.uQ)();return(0,g.Fk)((e,i)=>{if(!i)return!1;let n=e?.get(i);return!!n&&!!n.isAlive&&"SECTION"===n.type},e)?(0,t.jsx)(N,{}):(0,t.jsxs)("div",{className:"figma_properties_section--figmaPropertiesSection--H09WT",children:[(0,t.jsx)(w.X,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(C.U,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(N,{}),(0,t.jsx)(v.yg,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(y.F,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(h,{isSubsection:!0}),(0,t.jsx)(I.t,{isSubsection:!0})]})}},303327:(e,i,n)=>{n.d(i,{$b:()=>N,jp:()=>A,gn:()=>F,Be:()=>E});var t=n(104076),l=n(716976),s=n(903927),r=n(962856),d=n(623411),o=n(307829),a=n(266808),u=n(641518),c=n(407899),p=n(192075),g=n(416381),m=n(238241),x=n(886377),v=n(566866),h=n(599441),j=n(506192),f=n(937505),I=n(894210),_=n(881547),y=n(405223),w=n(697874),b=n(954741);let T="code_settings_panel--codeSettingRow--81hbo",C="code_settings_panel--codeSettingLabel--OV3RZ",S="code_settings_panel--codeSettingValueWrapper--UMoQH";function N({onlyShowFirstPartyLanguages:e,disabled:i}){(0,h.YE)();let n=(0,h.Em)(),l=(0,f.AF)();return(0,t.jsx)(w.VZ,{title:(0,p.t)("dev_handoff.code.settings"),recordingKey:"codeSettings",collapsiblePanelKey:"code_settings",additionalHeaders:l?(0,t.jsx)(_.u,{}):void 0,collapsedHeaders:l?(0,t.jsx)(P,{}):void 0,children:(0,t.jsx)("div",{className:"code_settings_panel--codeSettingsPanel--LR2Tt",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R,{onlyShowFirstPartyLanguages:e,disabled:i}),n&&(0,t.jsx)(k,{disabled:i}),!i&&(0,t.jsx)(B,{recordingKey:"codeSettings.pluginSettings"})]}):(0,t.jsx)("div",{className:T,children:(0,p.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")})})})}function P(){let e=(0,g.v4)(),i=(0,g.AC)(e),n=(0,g.P0)().format(e);return"first-party"===e.type?(0,t.jsx)(r.E,{variant:"inactiveOutline",children:n}):i?(0,t.jsx)(m.c,{plugin:i}):null}function R({onlyShowFirstPartyLanguages:e,disabled:i}){return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)("div",{className:C,children:(0,p.tx)("dev_handoff.code.settings.language")}),(0,t.jsx)("div",{className:S,children:(0,t.jsx)(x.NH,{dropdownId:"DEV_HANDOFF_NO_SELECTION_CODE_LANGUAGE_DROPDOWN",onlyShowFirstPartyLanguages:e,disabled:i})})]})}function k({disabled:e}){let i=(0,g.v4)(),n=(0,h.Bs)(),s=(0,g.QN)(),r=(0,h.RH)(),o=l.useCallback(e=>n(i,s,{unit:e}),[i,n,s]),a=l.useId();return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)(d.J,{className:C,htmlFor:a,children:(0,p.tx)("dev_handoff.alternative_units.dimension_unit")}),(0,t.jsx)(F,{currentUnit:r,onChangeUnit:o,disabled:e,dropdownId:a})]})}function F({currentUnit:e,onChangeUnit:i,disabled:n,dropdownId:s}){let r=(0,h.wQ)(),d=l.useMemo(()=>new E(r),[r]),a=d.format(e),{manager:u,getTriggerProps:g}=o.b({initialPosition:"bottom"});return(0,t.jsxs)(o.bL,{manager:u,children:[(0,t.jsx)(c.e,{...g({id:s}),"aria-label":(0,p.t)("dev_handoff.alternative_units.dimension_unit_named",{unit:a}),htmlAttributes:{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.alternative_units.dimension_unit"),"data-testid":"dimension_unit"},disabled:n,children:a}),(0,t.jsx)(o.mc,{children:v.zq.map(n=>(0,t.jsx)(o.q7,{onClick:()=>i(n),"aria-checked":n===e,children:d.format(n)},n))})]})}class E{constructor(e){this.scaledUnitName=e}format(e){return e===a.tKW.PIXEL?(0,p.t)("dev_handoff.alternative_units.pixel_unit"):this.scaledUnitName}}function B(e){let i=(0,h.SF)({includeActions:!1});return 0===i.length?null:(0,t.jsx)(t.Fragment,{children:i.map(i=>(0,t.jsx)(D,{item:i,recordingKey:u.Pt(e,`${i.name}`)},i.name))})}function D({item:e,recordingKey:i}){return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)("div",{className:C,children:e.displayText}),(0,t.jsx)(A,{item:e,recordingKey:i})]})}function A({item:e,recordingKey:i}){let{showing:n,data:r,toggle:d}=(0,j.BK)("CODEGEN_PLUGIN_SETTINGS_DROPDOWN"),o=(0,s.wA)(),a=l.useRef(null),c=e.name===r?.name&&n,p=e.children?.find(e=>e.isChecked)?.displayText??"",g=u.rf(u.Pt(i,"select"),"click",()=>d({data:{name:e.name??""}}));return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{ref:a,className:S,children:(0,t.jsx)(b.uQ,{formatter:{format:e=>e},property:p,onClick:g})}),c&&a.current&&(0,t.jsx)(y.j,{activatePathOnMount:p?[p]:void 0,alwaysShowCheckMarkOffset:!0,dispatch:o,items:e.children??[],lean:"right",leanPadding:8,onSelectItem:e=>{e.callback?.("",null,o)},parentRect:a.current.getBoundingClientRect(),recordingKey:u.Pt(i,"dropdown"),showPoint:!1})]})}},130161:(e,i,n)=>{n.d(i,{L:()=>d,M:()=>o});var t=n(104076),l=n(716976),s=n(322839);let r=l.createContext({selectionVariables:[],selectionStyles:[],selectionValues:[]});function d({children:e}){let{selectionVariables:i,selectionStyles:n,selectionValues:l}=(0,s.MK)();return(0,t.jsx)(r.Provider,{value:{selectionVariables:i,selectionStyles:n,selectionValues:l},children:e})}function o(){return l.useContext(r)}},552001:(e,i,n)=>{n.d(i,{V:()=>I});var t=n(104076),l=n(903927),s=n(293422),r=n(266808),d=n(883765),o=n(630615),a=n(192075),u=n(220729),c=n(130161),p=n(968169),g=n(211862),m=n(624155),x=n(564914),v=n(346260),h=n(697874),j=n(434103),f=n(737139);function I({hideBorder:e,noPadding:i,isSubsection:n}){let{selectionVariables:u,selectionStyles:p,selectionValues:m}=(0,c.M)(),x=(0,l.d4)(g.sS),I=(0,l.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:w,showMoreButton:b}=(0,o.y)({items:[...u,...p,...m],shouldResetOnSelectionChange:!0});return I||w.length?(0,t.jsxs)(h.VZ,{title:(0,a.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:n?void 0:(0,t.jsx)(v.Af,{}),fadedTitle:n,snugTitle:n,noPadding:i,noBorder:e,isSubsection:n,children:[I&&(0,t.jsx)(f.fI,{children:(0,t.jsx)("div",{className:"selection_colors_panel--ignoreLimitButton--US3qr",children:(0,t.jsx)(s.$n,{variant:"secondary",onClick:()=>{(0,d.sx)("Show Selection Paints For Large Selection",{fileKey:x||""}),r.Osy.ignoreLimitWhenCollectingPaints()},children:(0,a.tx)("dev_handoff.selection_colors.show_colors")})})}),w.map((e,i)=>e.type===j.q.STYLE?(0,t.jsx)(_,{colorStyle:e},i):(0,t.jsx)(y,{colorValue:e},i)),b]}):null}function _({colorStyle:e}){let{dsStyle:i,styleGUIDs:n}=e;(0,m.w$)(i);let l=i.value;i.kind===x.AT.SUBSCRIBED_WITHOUT_LIBRARY&&(l.style_type="FILL",l.node_id=i.value.node_id);let s=(0,p.Ku)();return(0,t.jsx)(v.Gz,{color:e,format:s,onMouseEnter:()=>r.Osy.highlightOnlySameStyleInSublayers(n),onMouseLeave:()=>r.Osy.highlightOnlySameStyleInSublayers([])})}function y({colorValue:e}){let{paint:i,encodedPaint:n,valueFormatter:l}=e,s=(0,p.Ku)(),{isVariableRow:r,onMouseEnter:d,onMouseLeave:o,variable:a,variableDisplayName:c}=(0,u.X)({...i,encodedPaint:n,valueFormatter:l});return r?(0,t.jsx)(v.DP,{formattableColor:{...e,variable:{variable:a,variableDisplayName:c}},format:s,onMouseEnter:d,onMouseLeave:o}):(0,t.jsx)(v.DP,{formattableColor:e,format:s,onMouseEnter:d,onMouseLeave:o})}},201975:(e,i,n)=>{n.d(i,{p:()=>x,t:()=>m});var t=n(903927),l=n(437540),s=n(366535),r=n(443192),d=n(4033),o=n(912610),a=n(792028),u=n(417553),c=n(717648),p=n(447584),g=n(498011);function m(e,i,n){let{appModel:m,selectedView:x}=(0,l.R)(e=>({appModel:e.mirror.appModel,selectedView:e.selectedView})),v=(0,t.wA)(),h=(0,d.cW)()[e],j=(0,o.uF)(h),f=(0,d.Be)(),I=f.plugins[e]||f.orgPlugins[e]||j,_=Object.values((0,d.$1)()).find(i=>i.plugin_id===e),y=_?.manifest.menu&&_.manifest.menu.length>0&&!(0,o.LW)(_)?(0,p.z)(_.manifest.menu,_):[],w=I.manifest.menu&&I.manifest.menu.length>0&&!(0,o.LW)(I)?(0,p.z)(I.manifest.menu,I):[],b=(0,c.jv)(w.map(e=>(0,g.q)(e,e=>()=>i(e))),{appModel:m,selectedView:x}),T=(0,c.jv)(y.map(e=>(0,g.q)(e,e=>()=>n(e))),{appModel:m,selectedView:x});if(!_)return b;if(!h||h&&!h.current_plugin_version_id)return T;let C=[];return _.error?C.push({displayText:"\u26A0 In-development version",callback:()=>{v((0,s.to)({type:u.r,data:{dispatch:v,error:_.error,resourceType:a.bD.PLUGIN},showModalsBeneath:!0}))}}):C.push({displayText:"In-development version",...T.length>0?{children:T}:{callback:()=>{"figma"===(0,o.T)()&&(v(r.b({seen_published_plugin_onboarding_modal:!0})),v(r.b({seen_development_plugin_onboarding_modal:!0}))),n()}}}),C.push({displayText:"Published version",...b.length>0?{children:b}:{callback:()=>{"figma"===(0,o.T)()&&(v(r.b({seen_published_plugin_onboarding_modal:!0})),v(r.b({seen_development_plugin_onboarding_modal:!0}))),i()}}}),C}function x(e,i){let n=(0,t.d4)(e=>e.mirror.appModel),l=(0,t.d4)(e=>e.selectedView),s=(0,d.cW)()[e],r=(0,o.uF)(s),a=r.manifest.menu&&r.manifest.menu.length>0?(0,p.z)(r.manifest.menu,r):[];return(0,c.jv)(a.map(e=>(0,g.q)(e,e=>()=>i(e))),{appModel:n,selectedView:l})}},327439:(e,i,n)=>{n.d(i,{pG:()=>W,qs:()=>U});var t=n(104076),l=n(716976),s=n(54527),r=n(404377),d=n(189311),o=n(754245),a=n(903927),u=n(454851),c=n(781767),p=n(266808),g=n(795033),m=n(824570),x=n(166887),v=n(559954),h=n(665261),j=n(1188),f=n(236631),I=n(192075),_=n(549571),y=n(147046),w=n(475034),b=n(92063),T=n(201975),C=n(489175),S=n(819851),N=n(4232),P=n(4033),R=n(772523),k=n(506192),F=n(792028),E=n(894210),B=n(830178),D=n(989745),A=n(423683),O=n(405223),L=n(215853),M=n(945810),V=n(966990);function U(){let e=(0,D.VR)(),i=(0,P.x)();return(0,t.jsx)(W,{...e,runPlugin:i})}let W=l.memo(function(e){return!function(){let[e,i]=l.useState(!1);return l.useEffect(()=>{let e=requestAnimationFrame(()=>{i(!0)});return()=>cancelAnimationFrame(e)},[]),e}()?null:(0,t.jsx)(j.tH,{boundaryKey:"PinnedPlugins",fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsxs)(v.hh,{children:[(0,t.jsx)(z,{...e}),(0,t.jsx)(G,{})]})})});function G(){let e=Y(),i=!!e,[n,s]=l.useState({x:0,y:0});return l.useEffect(()=>{if(i){let e=e=>{s({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}},[i]),e?o.createPortal((0,t.jsx)(A.V,{plugin:e,className:f.s.h16.w16.bRadius2.$,style:{position:"fixed",left:n.x-8,top:n.y-8,pointerEvents:"none",zIndex:1e5}}),document.body):null}function z(e){let{pinnedPlugins:i,unpinPlugin:n,movePin:s,runPlugin:r}=e,d=(0,g.md)(B.be),[o,u]=l.useState(!1),c=Y(),p=(0,a.wA)(),{shownPlugins:x,overflowPlugins:v}=i.length>3?{shownPlugins:i.slice(0,2),overflowPlugins:i.slice(2)}:{shownPlugins:i,overflowPlugins:[]},h=d?.plugin_id??null,j=v.findIndex(e=>e.plugin_id===h);if(-1!==j){let e=v[j];c||v.splice(j,1),x.push(e)}let I=x[x.length-1]?.plugin_id,_=(0,m.k9)(()=>new Set(i.map(e=>e.plugin_id)),[i]);return l.useEffect(()=>{p(w.Vg({resourceType:F.bD.PLUGIN,resourceIds:Array.from(_)}))},[_,p]),(0,t.jsx)("div",{className:f.s.flex.flexRow.flexGrow1.itemsEnd.$,"data-testid":"pinned-plugins",children:(0,t.jsxs)("div",{className:"pinned_plugins--pins--1aHI1",children:[(0,t.jsx)(Z,{target:{type:"begin"},variant:"vertical"}),x.map(e=>{let i=e.plugin_id===h&&!!c&&-1!==j;return(0,t.jsxs)("div",{style:{visibility:i?"hidden":"visible",display:"contents"},children:[(0,t.jsx)($,{plugin:e,unpinPlugin:n,movePin:s,runPlugin:r,setIsDropdownShown:u}),(0,t.jsx)(Z,{target:{type:"after",id:e.plugin_id},variant:"vertical",disabled:i})]},e.plugin_id)}),v.length>0&&(0,t.jsx)(H,{isDropdownShown:!!c||o,setIsDropdownShown:u,plugins:v,unpinPlugin:n,lastShownPluginID:I,movePin:s,runPlugin:r})]})})}function $({plugin:e,unpinPlugin:i,movePin:n,runPlugin:r,setIsDropdownShown:d}){let o=(0,N.Gt)(e.plugin_id,"pinned"),u=(0,g.md)(B.be),c=u?.plugin_id??null,m=(0,x.U)(),v=l.useRef(null),h=(0,_._I)(),j=(0,S.m0)()&&!h,I=(0,a.wA)(),w=(0,k.Um)(),C=(0,T.p)(e.plugin_id,o),P=C.length>0,F=(0,V.yG)(e.plugin_id,"pinned")&&P,D=l.useCallback(i=>{if(P){F?I(y.oB()):I((0,V.dr)({pluginId:e.plugin_id,tileType:"pinned"}));return}o()},[P,o,F,I,e.plugin_id]),[{isDragging:L},U]=(0,s.i)(()=>({type:"pinned-plugin",collect:e=>({isDragging:!!e.isDragging()}),item:e,canDrag:()=>c!==e.plugin_id&&!j,end:(i,t)=>{let l=t.getDropResult();t.didDrop()&&l&&n(e.plugin_id,l)}}),[j,n,c,e.plugin_id]),W=w?.type===q&&w.data.pluginId===e.plugin_id,G=l.useCallback(i=>{i.stopPropagation(),i.preventDefault(),W?I(y.oB()):I(y.j7({type:q,data:{targetRect:i.currentTarget.getBoundingClientRect(),pluginId:e.plugin_id}}))},[I,W,e.plugin_id]),z=v.current?.getBoundingClientRect();return(0,t.jsxs)("div",{className:f.s.relative.$,ref:v,children:[(0,t.jsx)("button",{className:u?.plugin_id===e.plugin_id?"pinned_plugins--runningPin--SFxzi pinned_plugins--basePin--ivx6q":"pinned_plugins--pin--QIbCP pinned_plugins--basePin--ivx6q","data-tooltip-type":W||L?void 0:E.Ib.TEXT,"data-tooltip":W||L?void 0:e.name,onClick:i=>{j?((0,R.ax)(p._gJ.PLUGIN),I(b.IN({fdPreviewResource:{id:e.plugin_id,type:M.s.PLUGIN}}))):P?D(i):r&&((0,R.ax)(p._gJ.PLUGIN),c!==e.plugin_id&&(o(),m("Dev Handoff Ran Pinned Plugin",{pluginId:e.plugin_id})),d(!1))},onContextMenu:G,children:(0,t.jsx)(A.V,{plugin:e,draggable:!1,className:f.s.h16.w16.bRadius2.$,ref:U,style:{opacity:L?.5:1}})}),W&&(0,t.jsx)(K,{plugin:e,unpinPlugin:i}),F&&z&&(0,t.jsx)(O.j,{showPoint:!1,items:C,onSelectItem:i=>{i.callback&&(i.callback("",null,I),d(!1),m("Dev Handoff Ran Pinned Plugin Submenu",{pluginId:e.plugin_id}))},parentRect:z,dispatch:I,lean:"left"})]})}function H({plugins:e,unpinPlugin:i,lastShownPluginID:n,isDropdownShown:s,setIsDropdownShown:r,movePin:d,runPlugin:o}){let a=l.useRef(null);return l.useEffect(()=>{let e=e=>{a.current&&!a.current.contains(e.target)&&r(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[r]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"pinned_plugins--dotContainer--SMpVn",ref:a,children:[(0,t.jsx)(u.d,{recordingKey:"overflow_pins","aria-expanded":!1,onClick:()=>{r(!s)},"aria-label":(0,I.t)("dev_handoff.inspect_panel.more_plugins"),htmlAttributes:{onMouseDown:C.dG,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,I.t)("dev_handoff.inspect_panel.more_plugins")},children:(0,t.jsx)(c.J,{})}),s&&(0,t.jsxs)("div",{className:"pinned_plugins--dropdown--qIr18",children:[(0,t.jsx)(Z,{target:{type:"after",id:n},variant:"horizontal"}),e.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)($,{plugin:e,unpinPlugin:i,movePin:d,runPlugin:o,setIsDropdownShown:r}),(0,t.jsx)(Z,{target:{type:"after",id:e.plugin_id},variant:"horizontal"})]},e.plugin_id))]})]})})}function K({plugin:e,unpinPlugin:i}){let n=(0,k.Um)();return(0,t.jsx)(L.Cf,{targetRect:n?.data.targetRect,lean:"left",minWidth:64,maxWidth:120,disableDropdownScrollContainer:!0,propagateCloseClick:!0,children:(0,t.jsx)(h.c$,{onClick:()=>i(e.plugin_id),children:(0,I.tx)("dev_handoff.inspect_panel.unpin")})})}function Z({target:e,variant:i,disabled:n=!1}){let[{isOver:l},s]=(0,r.H)(()=>({accept:"pinned-plugin",drop:()=>e,collect:e=>({isOver:!!e.isOver()}),canDrop:()=>!n}),[e,n]),d={position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"begin"===e.type?1:0,..."vertical"===i?"begin"===e.type?{position:"relative",justifyContent:"end",minWidth:16,height:24,marginRight:-8}:{width:16,height:24,top:0,left:-8}:{width:24,height:16,top:-8,left:0}};return(0,t.jsx)("div",{style:{position:"relative",flexGrow:"begin"===e.type?1:0,width:0,height:0,display:"flex",overflow:"visible",zIndex:1},children:(0,t.jsx)("div",{style:d,ref:s,children:l&&(0,t.jsx)(J,{variant:i,target:e})})})}function J({variant:e,target:i}){return(0,t.jsx)("div",{style:{background:"var(--color-icon-brand)",..."horizontal"===e?{height:2,width:32}:{height:32,width:2},..."begin"===i.type?{marginRight:6}:{}}})}function Y(){let e=(0,d.u)(),[i,n]=l.useState(null);return l.useEffect(()=>e.getMonitor().subscribeToStateChange(()=>{"pinned-plugin"===e.getMonitor().getItemType()?n(e.getMonitor().getItem()):n(null)}),[e,n]),i}let q="PINNED_PLUGIN_DROPDOWN"},593979:(e,i,n)=>{n.d(i,{_:()=>v,n:()=>x});var t=n(104076),l=n(716976),s=n(420680),r=n(217193),d=n(541542),o=n(812714),a=n(511570),u=n.n(a),c=n(192075),p=n(894210),g=n(822034),m=n(824079),x=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(x||{});function v(e){let{isSavedForUser:i,save:n,unsave:l}=(0,g.QK)(e.resourceId,e.resourceType);return(0,t.jsx)(h,{onClick:e=>{i?l():n(),e.stopPropagation()},isSaved:i,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function h(e){let i="title"===e.parentView?u()({"save_button--showOnFocus--IJG5J":(0,o.kc)().figjam_a11y_inserts_modal&&!e.isSaved,[m.Xb]:!e.isSaved,[m.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?m._P:"",{SaveIcon:n,SaveFilledIcon:a}=l.useMemo(()=>(e.parentView,{SaveIcon:r.k,SaveFilledIcon:d.y}),[e.parentView]);return(0,t.jsx)("div",{className:i,children:(0,t.jsx)(s.K,{onClick:e.onClick,"aria-label":e.isSaved?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save"),"aria-pressed":e.isSaved,htmlAttributes:{"data-tooltip-type":p.Ib.TEXT,"data-tooltip":e.isSaved?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},children:e.isSaved?(0,t.jsx)(a,{}):(0,t.jsx)(n,{})})})}},966990:(e,i,n)=>{n.d(i,{Cg:()=>ew,GJ:()=>eG,R7:()=>eg,dr:()=>eU,ff:()=>eI,tO:()=>eM,yG:()=>eW});var t=n(104076),l=n(716976),s=n(903927);if(443==n.j)var r=n(276800);var d=n(382629),o=n(420680),a=n(207321);if(443==n.j)var u=n(144209);var c=n(781767),p=n(170627),g=n(511570),m=n.n(g),x=n(633065),v=n(225686),h=n(555013),j=n(848561),f=n(652539),I=n(236631),_=n(192075),y=n(659062),w=n(911990),b=n(208632),T=n(45468),C=n(159240),S=n(950382),N=n(860120),P=n(15329),R=n(147046),k=n(443192),F=n(111297),E=n(201975),B=n(819851),D=n(4232),A=n(4033),O=n(249586),L=n(548883),M=n(36362),V=n(156134),U=n(506192),W=n(288747),G=n(944350),z=n(912610),$=n(792028),H=n(437761),K=n(894210),Z=n(97945),J=n(423683),Y=n(995104),q=n(874216),Q=n(702388),X=n(611373),ee=n(405223),ei=n(721187),en=n(631722),et=n(820579),el=n(593979);if(443==n.j)var es=n(196497);var er=n(487030),ed=n(991104),eo=n(213233),ea=n(945810),eu=n(824079),ec=n(957897);if(443==n.j)var ep=n(586486);var eg=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(eg||{});function em(e){let i=(0,s.d4)(e=>e.orgById);if(e.resource.is_private){let n=e.resource?.org_id&&i[e.resource.org_id]?.name;return(0,t.jsx)(a.s,{className:eu.Sx,"data-tooltip-type":K.Ib.TEXT,"data-tooltip":n?(0,_.t)("community.plugins.private_for_plugin_org_name",{orgName:n}):(0,_.t)("community.plugins.private_for_plugin_org")})}return(0,t.jsx)(t.Fragment,{})}let ex=l.createContext(null);function ev(){return(0,d.sR)(l.useContext(ex),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let eh=l.createContext(null);function ej(){return(0,d.sR)(l.useContext(eh),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ef(e,i,n){let t=l.useRef(null),s=l.useCallback(()=>{t.current&&t.current.click()},[t]),{setKeyboardNavigationElement:r,isFauxFocused:d,keyboardNavigationItem:o}=(0,j.M3)({path:i||[0],fauxClick:s,id:e}),a=n&&i&&i.length>=2&&i[0]===eo.B6&&0===i[1];return l.useEffect(()=>{a&&o?.fauxFocus()},[a,o]),{setKeyboardNavigationElement:r,isFauxFocused:d,keyboardNavigationButtonRef:t}}function eI({resourceId:e,type:i,keyboardNavigationPath:n,shouldFocusFirstItem:s}){let r;let{activeTab:d,viewResource:o}=(0,eo.IT)(),a=(0,A.$1)(),u="development"===i?Object.values(a).find(i=>String(i.localFileId)===e):null,c=u?.plugin_id,p=l.useCallback(()=>o({id:c??e}),[e,o,c]),g=l.useMemo(()=>d===ea.s.WIDGET?{viewWidgetDetails:p,keyboardNavigationPath:n,shouldFocusFirstItem:s}:{viewPluginDetails:p,keyboardNavigationPath:n,shouldFocusFirstItem:s},[d,n,p,s]);if(d===ea.s.WIDGET){switch(i){case"community":r=(0,t.jsx)(eA,{widgetId:e});break;case"recent":r=(0,t.jsx)(ek,{widgetId:e,type:"recent"});break;case"development":r=(0,t.jsx)(eB,{localFileId:e});break;case"development_missing_local":r=(0,t.jsx)(eB,{widgetId:e});break;case"org_private":r=(0,t.jsx)(eE,{widgetId:e});break;case"saved":r=(0,t.jsx)(eF,{widgetId:e,type:"saved"});break;case"invited":r=(0,t.jsx)(eD,{widgetId:e});break;default:return null}return(0,t.jsx)(ex.Provider,{value:g,children:r})}switch(i){case"community":r=(0,t.jsx)(ey,{pluginId:e});break;case"recent":r=(0,t.jsx)(e_,{pluginId:e});break;case"development":r=(0,t.jsx)(eS,{localFileId:e});break;case"development_missing_local":r=(0,t.jsx)(eS,{pluginId:e});break;case"org_private":r=(0,t.jsx)(eN,{pluginId:e});break;case"saved":r=(0,t.jsx)(eT,{pluginId:e,type:"saved"});break;case"invited":r=(0,t.jsx)(eb,{pluginId:e});break;default:return null}return(0,t.jsx)(eh.Provider,{value:g,children:r})}function e_({pluginId:e}){let i=(0,A.b4)()[e],n=(0,A.cW)()[e],l=(0,L.tw)(n);return i?(0,H.ZQ)(i)?(0,t.jsx)(eS,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,t.jsx)(eT,{pluginId:i.plugin_id,type:"recent"}):null}function ey(e){let i=(0,A.cW)()[e.pluginId];if(e.plugin&&(i=e.plugin),!i)return null;let n=(0,z.uF)(i),{description:l,tagline:s}=n,r=(0,eo.fO)(i),d=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:eu.y7,children:(0,P.G8)({tagline:s,description:l},v.$J)}),(0,t.jsx)("div",{className:eu.Yl,children:r})]});return(0,t.jsx)(eR,{pluginVersion:n,subheader:d,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function ew({plugin:e,ctaButton:i,onClick:n}){let l={viewPluginDetails:r.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return(0,t.jsx)(eh.Provider,{value:l,children:(0,t.jsx)(ey,{pluginId:e.id,plugin:e,ctaButton:i,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n})})}function eb(e){let i=(0,A.cW)()[e.pluginId],n=(0,s.wA)(),r=l.useCallback(()=>{n(R.oB())},[n]);if(!i)return null;let d=(0,z.uF)(i),{description:o,tagline:a}=d,u=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:eu.Pg,children:(0,P.G8)({tagline:a,description:o},v.$J)}),(0,t.jsx)("div",{className:eu.Yl,children:(0,eo.fO)(i)})]});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(eR,{pluginVersion:d,subheader:u,pluginId:e.pluginId,onClick:r,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:(0,t.jsx)(et.PE,{resource:i})})})}let eT=l.memo(function(e){let i=(0,A.Be)(),n=i.plugins[e.pluginId]||i.orgPlugins[e.pluginId],s=(0,A.b4)()[e.pluginId],r=(0,A.cW)()[e.pluginId],d=l.useMemo(()=>"recent"===e.type?s:"org_private"===e.type?(0,z.uF)(r):n,[n,e.type,r,s]),o=(0,U.Um)(),a=o?.type===ed._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,u=eW(e.pluginId,e.type);return(0,t.jsx)(eC,{pluginId:e.pluginId,type:e.type,dropdownIsShown:a,runOptionsDropdownIsShown:u,version:d})}),eC=l.memo(function(e){let{dropdownIsShown:i,version:n}=e,r=(0,s.wA)(),{viewPluginDetails:d}=ej(),o=l.useCallback(n=>{n.stopPropagation(),i?r(R.oB()):r(R.j7({type:ed._n,data:{pluginId:e.pluginId,targetRect:n.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[i,r,e.pluginId,e.type]),a=(0,D.dR)(e.pluginId,"universal-insert"),u=(0,D.Gt)(e.pluginId,"universal-insert"),c=(0,E.t)(e.pluginId,u,a),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=l.useRef(null),{validatePublishedPluginInOrgAllowlist:x,isPluginBlockedByAllowlist:v}=(0,A.j1)(e.pluginId),h=(0,D.RK)(e.pluginId),j=l.useCallback(i=>{if(i?.stopPropagation(),x()){if(p){g?r(R.oB()):r(eU({pluginId:e.pluginId,tileType:e.type}));return}h?u():a(),r(k.b({seen_published_plugin_onboarding_modal:!0})),r(k.b({seen_development_plugin_onboarding_modal:!0}))}},[x,p,h,r,g,e.pluginId,e.type,u,a]),f=m.current?.getBoundingClientRect();if(!n)return null;let I=!!(g&&f)||i,_=(0,t.jsx)(el._,{resourceId:e.pluginId,resourceType:$.vt.PLUGIN,parentView:el.n.TILE,isFauxFocused:I});return(0,t.jsxs)("div",{children:[(0,t.jsx)(eR,{isFauxFocused:I,onClick:j,onOptionsClick:o,optionsButtonIsActive:i,pluginId:e.pluginId,pluginVersion:n,primaryCTAButton:_,secondaryIcon:(0,t.jsx)(em,{resource:n}),showOnClickDropdownChevron:p,visuallyDisabled:v}),(0,t.jsx)("div",{ref:m}),g&&f&&(0,t.jsx)(ee.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,r)},parentRect:f,dispatch:r}),i&&(0,t.jsx)(ed.EJ,{viewResource:d,plugin:n})]})});function eS(e){let i=(0,s.wA)(),n=(0,A.nl)({allowNonVsCodePluginsInVsCode:!0}),r=e.localFileId?n[e.localFileId]:void 0,d=r?r.plugin_id:e.pluginId,o=(0,A.kd)({includePendingPublishers:!1}).find(e=>e.id===d),c=o?(0,z.uF)(o):void 0,p=(0,U.Um)(),{viewPluginDetails:g}=ej(),m=p?.type===ed.lD&&p?.data.localFileId===e.localFileId&&p?.data.pluginId===d,x=l.useCallback(n=>{if(n.stopPropagation(),m)i(R.oB());else{let t=n.currentTarget.getBoundingClientRect();i(R.j7({type:ed.lD,data:{localFileId:e.localFileId,pluginId:d,targetRect:t}}))}},[i,e.localFileId,d,m]),v=(0,D.Gt)(d,"universal-insert"),h=(0,D.dR)(d,"universal-insert"),j=(0,E.t)(d,v,h),I=j.length>0,y=l.useRef(null),w=y.current?.getBoundingClientRect(),T=eW(d,e.isRecentTile?"recent_development":"development")&&I,C=l.useCallback(()=>{if(I){T?i(R.oB()):d&&i(eU({pluginId:d,tileType:e.isRecentTile?"recent_development":"development"}));return}h()},[I,h,T,i,d,e.isRecentTile]);if(!r&&!o)return null;let S=(0,t.jsx)(ei.A,{localResource:r,publishedResource:o}),N=o&&(0,P.AC)(o),k=o&&c?.redirect_icon_url,F=o&&!N?o.roles.is_public?u.$:a.s:void 0,B=(0,t.jsx)(b.Ex,{height:"16",children:(0,t.jsx)("span",{children:(0,_.tx)("universal_insert.development")})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eR,{icon:k?void 0:(0,t.jsx)(f.B,{svg:ep.A,className:eu.Bx}),inReview:N,localPlugin:r,onClick:C,onOptionsClick:x,optionsButtonIsActive:m,pluginId:d,pluginVersion:c,publishingStatusIcon:F,secondaryIcon:B,showEditorTypeIcon:!1,showOnClickDropdownChevron:I,subheader:S}),(0,t.jsx)("div",{ref:y}),T&&w&&(0,t.jsx)(ee.j,{showPoint:!1,lean:"center",items:j,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:w,dispatch:i}),m&&(r?(0,t.jsx)(ed.T9,{localResource:r,viewResource:g}):(0,t.jsx)(ed.T9,{publishedResource:o,viewResource:g}))]})}function eN(e){return(0,A.cW)()[e.pluginId]?(0,t.jsx)(eT,{pluginId:e.pluginId,type:"org_private"}):null}function eP({pluginId:e,name:i,icon:n,iconUrl:s}){let[r,d]=l.useState(!!n);return(0,t.jsx)("div",{className:m()(r?eu.lP:eu.vt),children:n||(0,t.jsx)(J.V,{plugin:{name:i,plugin_id:e,redirect_icon_url:s??""},loading:"lazy",alt:`${i} icon`,onLoad:()=>d(!0)})})}function eR(e){let i;let n=e.pluginVersion?.name??e.localPlugin?.name??"",l=e.pluginVersion?.redirect_icon_url,{isPluginSetToAutoRun:s}=(0,Z.bE)(e.pluginVersion??null),r=e.localPlugin?e.localPlugin.manifest.editorType:e.pluginVersion?.manifest.editorType,d=!e.subheader,{viewPluginDetails:a,keyboardNavigationPath:u,shouldFocusFirstItem:p}=ej(),{setKeyboardNavigationElement:g,isFauxFocused:x,keyboardNavigationButtonRef:v}=ef(`plugin_${n}`,u,!!p),h=(0,F.j6)(),j=(0,L.ul)(e.pluginId),S=Object.values((0,A.$1)()).find(i=>String(i.plugin_id)===e.pluginId),N=(0,z.uF)(j),P=(0,z.pk)(N),R=(0,L.EO)(j)&&!S,k=(0,L.OY)(j),E=(0,L.gn)(j)&&!S,D=(0,W.sZ)(),V=(0,A.ll)(),U=!S&&(0,M.BF)({org:D,extensionVersion:N??e.pluginVersion,isWidget:!1,allowlistedExtensions:V}),G=e.isCommunityPreview&&!U&&!e.isDevModeWizard,$=R&&!k?(0,t.jsx)(ez,{plugin:j,hideFreeTrialBadge:!0}):E?(0,t.jsx)(en.ur,{}):G?(0,t.jsx)(eM,{pluginId:e.pluginId,buttonRef:v,usePrimaryButtonStyles:!0}):void 0,H=(0,T.QP)({resource:j,validBadges:[T.op.FREEMIUM,T.op.OFF_PLATFORM,T.op.PURCHASED]}),J=e.metadataOverrideNode??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:eu.FV,children:[(0,t.jsxs)(w.Y,{spacing:4,children:[(0,t.jsx)("div",{className:m()(eu.B6,{[I.s.colorTextDisabled.$]:e.visuallyDisabled}),children:n}),s&&(0,t.jsx)(b.Ex,{height:"16",children:(0,_.t)("universal_insert.auto_run")}),e.inReview&&(0,t.jsx)(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,H&&!E&&(0,t.jsx)("div",{className:eu.UK,children:H}),e.publishingStatusIcon&&(0,t.jsx)("div",{className:eu.TW,children:(0,t.jsx)(e.publishingStatusIcon,{})}),e.showOnClickDropdownChevron&&(0,t.jsx)(f.B,{svg:ec.A,className:eu.o2})]}),e.subheader&&(0,t.jsx)("div",{className:eu.ZK,children:e.subheader})]}),$&&(0,t.jsx)("div",{className:eu.D1,children:$}),e.primaryCTAButton&&(0,t.jsx)("div",{style:y.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton}),e.onOptionsClick&&(0,t.jsx)(o.K,{onClick:e.onOptionsClick,"aria-label":(0,_.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":K.Ib.TEXT,"data-tooltip":(0,_.t)("universal_insert.more_options")},children:(0,t.jsx)(c.J,{})})]}),Y=function(e,i){if((0,B.m0)());else if(e&&i)return!0;return!1}(e.showEditorTypeIcon,r),q=(0,B.m0)();i=Y?(0,t.jsxs)(X.li.IconAndBadgeContainer,{children:[(0,t.jsx)(eP,{pluginId:e.pluginId,name:n,iconUrl:l,icon:e.icon}),(0,t.jsx)(X.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,t.jsx)(X.dn,{editorType:r,is16x16:!0})})]}):q&&P?(0,t.jsxs)(X.li.IconAndBadgeContainer,{children:[(0,t.jsx)(eP,{pluginId:e.pluginId,name:n,icon:e.icon,iconUrl:l}),(0,t.jsx)(X.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,t.jsx)(X.ZA,{})})]}):(0,t.jsx)(eP,{pluginId:e.pluginId,name:n,icon:e.icon,iconUrl:l});let Q=()=>{if((0,O.Cu)({trackingContext:h.name,pluginId:e.pluginId}),R&&!k||U){a();return}if(e.onClick){e.onClick();return}a()};return(0,t.jsxs)("div",{className:m()(d?eu.$C:eu.MJ,x||e.isFauxFocused?eu.c6:void 0,e.isDevModeWizard?eu.NH:void 0),onClick:Q,role:"button",tabIndex:0,ref:u?g:void 0,children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),Q()},ref:G?void 0:v,"data-testid":"plugin-tile-button"}),(0,t.jsxs)("div",{className:eu.ot,children:[e.isNotification&&(0,t.jsx)("div",{className:eu.Vx}),i]}),J]})}function ek(e){let i=(0,A.YO)()[e.widgetId],n=(0,A.ZT)()[e.widgetId],l=(0,L.tw)(n);return i?(0,H.ZQ)(i)?(0,t.jsx)(eB,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,t.jsx)(eF,{widgetId:e.widgetId,type:"recent"}):null}function eF(e){let i=(0,s.wA)(),{viewWidgetDetails:n}=ev(),r=(0,A.ZT)()[e.widgetId],d=(0,A.Be)().widgets[e.widgetId],o=(0,A.YO)()[e.widgetId],a="recent"===e.type?o:"org_private"===e.type?(0,z.uF)(r):d,u=(0,U.Um)(),c=u?.type===ed._n&&u.data.widgetId===e.widgetId&&u.data.targetRect&&u.data.viewType===e.type,g=(0,A.Ud)(e.widgetId),m=l.useRef(null),v=(0,A.WK)(e.widgetId),h=x.eD&&!!g&&!v,j=!!v||h,f=(0,U.Um)(),I=l.useRef(null),_=u?.type===er.cH&&u.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:y}=(0,A.Ys)(e.widgetId),w=l.useCallback(n=>{if(j){if(n.preventDefault(),n.stopPropagation(),_)i(R.oB());else{let t=n.currentTarget.getBoundingClientRect();i(R.j7({type:er.cH,data:{targetRect:t,widgetId:e.widgetId}}))}}},[i,e.widgetId,_,j]),b=l.useCallback(()=>{(0,V.j)({pluginID:e.widgetId,widgetName:a.name,pluginVersionID:a.id,triggeredFrom:"universal-insert"})},[a,e.widgetId]),T=l.useCallback(e=>{j?w(e):p.l7.user("insert-published-widget",()=>{b()})},[b,w,j]),C=l.useCallback(n=>{n.stopPropagation(),c?i(R.oB()):i(R.j7({type:ed._n,data:{widgetId:e.widgetId,targetRect:n.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[c,i,e.widgetId,e.type]);if(!a)return null;if((0,H.ZQ)(a))return(0,t.jsx)(eB,{localFileId:a.localFileId.toString()});let S=I.current?.getBoundingClientRect(),N=!!(f&&S)||c,P=(0,t.jsx)(el._,{resourceId:e.widgetId,resourceType:$.vt.WIDGET,parentView:el.n.TILE,isFauxFocused:N});return(0,t.jsxs)("div",{children:[(0,t.jsx)(eL,{iconUrl:a.redirect_snapshot_url??void 0,isFauxFocused:N,localWidget:v,onClick:T,onOptionsClick:C,optionsButtonIsActive:c,primaryCTAButton:P,secondaryIcon:(0,t.jsx)(em,{resource:a}),subheader:(0,eo.CF)(a),useHorizontalLayout:!0,visuallyDisabled:y,widget:a,widgetId:e.widgetId}),(0,t.jsx)("div",{ref:m}),f&&S&&(0,t.jsx)(ed.NR,{targetRect:S,widgetId:e.widgetId,lean:"center"}),c&&(0,t.jsx)(ed.EJ,{viewResource:n,plugin:a})]})}function eE(e){return(0,A.ZT)()[e.widgetId]?(0,t.jsx)(eF,{widgetId:e.widgetId,type:"org_private"}):null}function eB(e){let i=(0,s.wA)(),n=(0,A.yQ)(),r=l.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),d=(0,A.jg)(),o=r?r.plugin_id:e.widgetId,c=(0,A.bh)({includePendingPublishers:!1}),p=l.useMemo(()=>Object.values(c).find(e=>e.id===o),[c,o]),g=l.useMemo(()=>p&&p.current_plugin_version_id?p.versions[p.current_plugin_version_id]:void 0,[p]),m=(0,U.Um)(),{viewWidgetDetails:x}=ev(),v=m?.type===Q.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&m?.data.isRecentTile===e.isRecentTile&&m?.data.localFileId===e.localFileId&&m?.data.pluginId===o&&m?.data.targetRect,h=l.useCallback(n=>{if(n.stopPropagation(),v)i(R.oB());else{let t=n.currentTarget.getBoundingClientRect();i(R.j7({type:Q.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:t}}))}},[i,e.localFileId,o,e.isRecentTile,v]),j=l.useCallback(()=>{r&&(0,V.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[r]);if(!r&&!p)return null;let f=(0,t.jsx)(ei.A,{localResource:r,publishedResource:p}),I=p&&(0,P.AC)(p),_=p&&(0,z.uF)(p).redirect_snapshot_url||e.localFileId&&d[e.localFileId]&&d[e.localFileId].metadata.widgetSnapshotImageSrc||es.J,y=p&&!I?p.roles.is_public?u.$:a.s:void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eL,{iconUrl:_,inReview:I,localWidget:r,onClick:()=>j(),onOptionsClick:h,optionsButtonIsActive:v,publishingStatusIcon:y,showEditorTypeIcon:!1,subheader:f,useHorizontalLayout:!0,widget:g,widgetId:o}),v&&(r?(0,t.jsx)(ed.T9,{localResource:r,viewResource:x}):(0,t.jsx)(ed.T9,{publishedResource:p,viewResource:x}))]})}function eD(e){let{widgetId:i}=e,n=(0,A.ZT)()[i]??null;if(!n)return null;let l=(0,z.uF)(n),{redirect_snapshot_url:s,manifest:r}=l;return(0,t.jsx)(eL,{widget:l,iconUrl:s??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:r.editorType,isNotification:!0,metadataOverrideNode:(0,t.jsx)(et.PE,{resource:n})})}function eA(e){let i=(0,L.J$)(e.widgetId);if(!i)return null;let n=(0,z.uF)(i),l=(0,eo.fO)(i),s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:eu.rz,children:(0,P.G8)(n,v.$J)}),(0,t.jsx)("div",{className:eu.Yl,children:l})]});return(0,t.jsx)(eL,{widget:n,subheader:s,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eO({useHorizontalLayout:e=!1,onIconClick:i,disabled:n,iconUrl:r="",widget:d,publishedWidget:o,keyboardNavigationButtonRef:a}){let u=l.useMemo(()=>e?[T.op.PRICE]:[T.op.PURCHASED,T.op.OFF_PLATFORM,T.op.FREEMIUM,T.op.PRICE],[e]),c=(0,s.d4)(e=>e.authedActiveCommunityProfile);return(0,t.jsxs)("div",{className:e?eu.Zv:eu.Cq,onClick:i,role:"button",tabIndex:0,children:[n?(0,t.jsx)(Y.z,{src:r,context:G._Y.DESIGN}):(0,t.jsx)(q._,{widget:d,src:r,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:a,context:G._Y.DESIGN}),(0,t.jsx)("div",{className:eu.VJ,children:(0,T.$3)({resource:o,authedActiveCommunityProfile:c,validBadges:u,size:e?"md":"lg"})})]})}let eL=l.memo(function(e){let i=e.localWidget??e.widget??z.lT,{viewWidgetDetails:n,keyboardNavigationPath:l,shouldFocusFirstItem:s}=ev(),{setKeyboardNavigationElement:r,isFauxFocused:d,keyboardNavigationButtonRef:a}=ef(`widget_${i.name}`,l,!!s),u=(0,A.ZT)()[e.widgetId],p=(0,L.EO)(u),g=(0,L.gn)(u),x=u?(0,z.uF)(u):null,v=i.name;x?.name&&x?.name!==""&&(v=x?.name);let h=(0,W.sZ)(),j=(0,A.U6)(),f=!e.localWidget&&(0,M.BF)({org:h,extensionVersion:x??e.widget,isWidget:!0,allowlistedExtensions:j}),b=!!(p||f),T=(0,F.j6)(),S=b?void 0:e=>e.stopPropagation(),N=e.metadataOverrideNode??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:eu.QF,children:[(0,t.jsx)("div",{className:eu.JW,children:(0,t.jsxs)(w.Y,{spacing:4,verticalAlignItems:"center",children:[(0,t.jsx)("div",{className:m()(eu.Y2,{[I.s.colorTextDisabled.$]:e.visuallyDisabled}),children:v}),e.inReview&&(0,t.jsx)(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&(0,t.jsx)("div",{className:eu.TW,children:(0,t.jsx)(e.publishingStatusIcon,{})}),g&&(0,t.jsx)("div",{className:eu.Y9,children:(0,t.jsx)(en.xY,{})})]})}),(0,t.jsx)("div",{className:eu.ML,children:e.subheader})]}),e.primaryCTAButton&&(0,t.jsx)("div",{style:y.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton}),e.onOptionsClick&&(0,t.jsx)(o.K,{"aria-label":(0,_.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":K.Ib.TEXT,"data-tooltip":(0,_.t)("universal_insert.more_options")},onClick:e.onOptionsClick,children:(0,t.jsx)(c.J,{})})]});return(0,t.jsxs)("div",{className:m()(e.useHorizontalLayout?eu.Gy:eu.BG,d?eu.c6:void 0),onClick:i=>{(0,O.Cu)({trackingContext:T.name,widgetId:e.widgetId}),b?n():e.onClick?e.onClick(i):n()},role:"button",tabIndex:0,ref:l?r:void 0,"data-testid":"widget-tile",children:[(0,t.jsxs)("div",{className:eu.ot,children:[e.isNotification&&(0,t.jsx)("div",{className:eu.Vx}),e.showEditorTypeIcon?(0,t.jsxs)(X.li.IconAndBadgeContainer,{children:[(0,t.jsx)(eO,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:S,disabled:b,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:a}),(0,t.jsx)(X.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget",children:(0,t.jsx)(X.dn,{editorType:e.editorType,is16x16:!0})})]}):(0,t.jsx)(eO,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:S,disabled:b,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:a})]}),N]})});function eM(e){let i=(0,s.wA)(),n=l.useRef(null),r=(0,U.Um)(),d=(0,A.x)(),o=(0,B.m0)(),a=(0,D.dR)(e.pluginId,"universal-insert"),u=(0,D.Gt)(e.pluginId,"universal-insert"),c=(0,E.t)(e.pluginId,u,a),p=c.length>0,g=eW(e.pluginId,"community"),m=p&&r?.type===e.dropdownShownType&&r?.data.pluginId===e.pluginId,x=g||m,{validatePublishedPluginInOrgAllowlist:v}=(0,A.j1)(e.pluginId),j=(0,D.RK)(e.pluginId),I=l.useCallback(n=>{if(n.stopPropagation(),v()){if(p){x?i(R.oB()):(e.dropdownShownType&&i(R.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),i(eU({pluginId:e.pluginId,tileType:"community"})));return}j?u():a(),i(k.b({seen_published_plugin_onboarding_modal:!0})),i(k.b({seen_development_plugin_onboarding_modal:!0}))}},[v,p,j,i,x,e.dropdownShownType,e.pluginId,u,a]);if(o&&!d)return null;let y=n.current?.getBoundingClientRect(),w=e.usePrimaryButtonStyles?(0,t.jsxs)(h.$$,{onClick:I,className:eu.lI,children:[(0,_.tx)("universal_insert.run"),p&&(0,t.jsx)(f.B,{svg:ec.A,className:eu.sI})]}):(0,t.jsxs)("button",{className:eu.lO,onClick:I,ref:e.buttonRef,children:[(0,_.tx)("universal_insert.run"),p&&(0,t.jsx)(f.B,{svg:ec.A,className:eu.zZ})]});return(0,t.jsxs)("div",{className:e.usePrimaryButtonStyles?eu.od:void 0,"data-testid":"run-plugin-button",children:[(0,t.jsx)("div",{ref:n,children:w}),x&&y&&(0,t.jsx)(ee.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:y,dispatch:i,lean:"left"})]})}let eV="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function eU(e){return R.j7({type:eV,data:e})}function eW(e,i){let n=(0,U.Um)();return n?.type===eV&&n.data.pluginId===e&&i===n.data.tileType}function eG(e){let i=(0,s.wA)(),n=(0,A.ZT)()[e.widgetId],r=(0,A.WK)(e.widgetId),d=(0,A.Ud)(e.widgetId),o=x.eD&&!!d&&!r,a=!!r||o,u=(0,U.Um)(),c=u?.type===er.cH&&u.data.widgetId===e.widgetId,g=l.useRef(null),m=l.useCallback(n=>{if(a){if(n.preventDefault(),n.stopPropagation(),c)i(R.oB());else{let t=n.currentTarget.getBoundingClientRect();i(R.j7({type:er.cH,data:{targetRect:t,widgetId:e.widgetId}}))}}},[i,e.widgetId,c,a]),v=l.useCallback(()=>{let e=(0,z.uF)(n);(0,V.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[n]),j=l.useCallback(e=>{a?m(e):p.l7.user("insert-published-widget",()=>{v()})},[v,m,a]);if(!n)return null;let I=(0,t.jsxs)(h.$$,{onClick:j,className:eu.lI,children:[(0,_.tx)("universal_insert.add"),a&&(0,t.jsx)(f.B,{svg:ec.A,className:eu.sI})]}),y=g.current?.getBoundingClientRect();return(0,t.jsxs)("div",{className:eu.od,children:[(0,t.jsx)("div",{ref:g,children:I}),c&&y&&(0,t.jsx)(ed.NR,{targetRect:y,widgetId:e.widgetId})]})}function ez(e){let i=(0,L.lt)(e.plugin);return e.plugin.monetized_resource_metadata?(0,t.jsxs)("div",{className:eu.y2,children:[(0,t.jsx)("div",{className:eu.lO,children:(0,N.bV)(e.plugin.monetized_resource_metadata)}),!e.hideFreeTrialBadge&&(0,N.Lt)({resource:e.plugin,payment:i})&&(0,t.jsx)(S.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})]}):null}},541542:(e,i,n)=>{n.d(i,{y:()=>l});var t=n(104076);let l=(0,n(716976).memo)(function(e){return(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",d:"M8 6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71L12 16.525l-2.295 2.28c-.631.627-1.705.18-1.705-.71z"}),(0,t.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m12 15.116.705.7L15 18.096V6.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5v11.597l2.295-2.28zm0 1.41 2.295 2.28c.631.627 1.705.18 1.705-.71V6.5A1.5 1.5 0 0 0 14.5 5h-5A1.5 1.5 0 0 0 8 6.5v11.597c0 .89 1.074 1.336 1.705.71z",clipRule:"evenodd"})]})})}}]);

//# debugId=d24eac92-47ed-5b01-9be3-1bb109a2e7a7

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/aa925686e931e33196cd5a69f8a1bed6fae35610/1565-9b3b347b7099394f.min.js.map