"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="adeaa960-03e9-5999-a74a-96beaecd5a07")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[1389],{990609:(e,t,i)=>{i.d(t,{S:()=>eu});var s=i(104076),n=i(716976),r=i(500275),l=i(307829),a=i(980852),o=i(812714),c=i(795033),d=i(120440),x=i(883765),u=i(211862),p=i(835307),h=i(810149),f=i(700126),g=i(107799),m=i(956839),y=i(266808),k=i(170627),C=i(192075),j=i(848358),v=i(542653),b=i(638004),w=i(9378),L=i.n(w),E=i(550209),_=i(58212),S=i(354114),M=i(754651),T=i(951002);let O=(0,n.createContext)(null);function D({children:e,value:t}){return(0,s.jsx)(O.Provider,{value:t,children:e})}function I(){let e=(0,n.useContext)(O);return(0,T.KF)(!!e,"useFileTreeContext must be used within a FileTreeProvider"),e}var N=i(312071);let z=[".ts",".tsx",".js",".jsx",".css",".scss",".html",".json",".md",".txt"];function P({path:e}){let{onNewFileCreated:t}=I();return(0,s.jsx)(l.q7,{onClick:()=>{x.az.trackDefinedEvent("figmake.filesystem_action",{fileKey:c.zl.get(u.ze)??void 0,action:"create_file",targetType:e?"folder":"root",entryPoint:"context_menu",codeFileGuid:void 0}),k.l7.user("create-new-code-file",()=>{try{let i=G("new-file.tsx",e),s=e?`${e.replace(/\/$/,"")}/${i}`:i,n=a.UN()?.createNewCodeFile({path:s,sourceCode:"",entryPoint:"file_context_menu",isEntrypointCodeFile:!1,onError:e=>{E.$D(b.e.MAKE,e)},enableDuplicateCheck:o.kc().bake_dup_code_files});if(S.Y5.commit(),n){let e=(0,a.UN)().get(n);e&&(0,N.nU)(e),t(n)}}catch(e){(0,E.$D)(b.e.MAKE,e)}})},children:(0,C.t)("figmake.filesystem.context_menu.create_new_file")})}function A({path:e}){return(0,s.jsx)(l.q7,{onClick:()=>{x.az.trackDefinedEvent("figmake.filesystem_action",{fileKey:c.zl.get(u.ze)??void 0,action:"copy_path",targetType:e.includes(".")?"file":"folder",entryPoint:"context_menu",codeFileGuid:void 0}),navigator.clipboard.writeText(e)},children:(0,C.t)("figmake.filesystem.context_menu.copy_path")})}function $({node:e,disabled:t}){return(0,s.jsx)(l.q7,{onClick:()=>{x.az.trackDefinedEvent("figmake.filesystem_action",{fileKey:c.zl.get(u.ze)??void 0,action:"delete_file",targetType:"file",entryPoint:"context_menu",codeFileGuid:e.guid}),k.l7.user("delete-code-file",()=>{y.glU?.deleteCodeFile(e.guid),y.glU?.commit()})},disabled:t,children:(0,C.t)("figmake.filesystem.context_menu.delete")})}function F(e){let t=(0,a.UN)();if(!t)return;let i=t.get(e.guid);if(i)return i.sourceCode}function K({fileOrFolder:e}){return(0,s.jsx)(l.q7,{onClick:()=>{x.az.trackDefinedEvent("figmake.filesystem_action",{fileKey:c.zl.get(u.ze)??void 0,action:"download",targetType:e.type,entryPoint:"context_menu",codeFileGuid:"file"===e.type?e.guid:void 0});let{name:t,blob:i}=function(e){if("file"===e.type){let t=F(e);return{name:e.name,blob:new Blob([t||""],{type:"text/plain"})}}{let t=new(L());!function e(t,i,s){if("file"===i.type){let e=F(i);if(!e)return;let{name:n}=i,r=i.codeFilePath?i.codeFilePath.slice(s.length)+"/":"";t.file(r+n,new TextEncoder().encode(e))}else for(let n of i.children)e(t,n,s)}(t,e,e.path);let i=t.generate({type:"blob"});return{name:e.path.length>0?e.path.split("/").pop()+".zip":"project.zip",blob:i}}}(e),s=URL.createObjectURL(i),n=document.createElement("a");n.href=s,n.download=t,n.click(),URL.revokeObjectURL(s)},children:(0,C.t)("figmake.filesystem.context_menu.download")})}function q({handleRename:e,disabled:t}){return(0,s.jsx)(l.q7,{onClick:()=>{x.az.trackDefinedEvent("figmake.filesystem_action",{fileKey:c.zl.get(u.ze)??void 0,action:"rename",targetType:"file",entryPoint:"context_menu",codeFileGuid:void 0}),e()},htmlAttributes:{onPointerUp:e=>e.preventDefault()},disabled:t,children:(0,C.t)("figmake.filesystem.context_menu.rename")})}function G(e,t,i){let s,n=0,r=e,l=i||(0,v.$d)(t);for(;n<1e4;)if(s=t?t+"/"+r:r,`/${s}`in l){let t=(0,M.dv)(e),i=t?e.replace(/\.[^/.]+$/,""):e;n++,r=t?`${i}-${n}${t}`:`${i}-${n}`}else break;if(n>=1e4)throw Error(`Unable to generate unique filename for "${e}" - too many existing files with similar names`);return r}function R(e){return e.isFile&&"file"in e}function U(e){return e.isDirectory&&"createReader"in e}async function Z(e,t,i){if(e.length>100){let t=(0,C.t)("figmake.filesystem.file_upload.error_too_many_files",{count:e.length,max:100});i?.(_.F.enqueue({message:t,error:!0,timeoutOverride:3e3}));return}let s=[];for(let t of e)try{let e=await new Promise(e=>{t.file(e)});if(e){let i="fullPath"in t?t.fullPath.replace(/^\//,""):e.name;s.push({file:e,relativePath:i})}}catch(e){console.error("Failed to process file entry:",e)}for(let{file:e,relativePath:n}of s)await V(e,n,t,i)}function H(e){let t=e.lastIndexOf("/");return t>=0?e.substring(0,t):void 0}async function V(e,t,i,s){let n=i?`${i}/${t}`:t;try{!function(e){let t=(0,M.dv)(e.name);if(!z.includes(t))throw Error((0,C.t)("figmake.filesystem.file_upload.error_invalid_type"));if(e.size>0xa00000)throw Error((0,C.t)("figmake.filesystem.file_upload.error_too_large"))}(e);let t=await new Promise((t,i)=>{let s=new FileReader;s.onload=e=>{let s=new TextDecoder("utf-8",{fatal:!0});try{if(e.target?.result&&"object"==typeof e.target.result&&e.target.result instanceof ArrayBuffer){let i=s.decode(e.target.result);"string"==typeof i&&t(i)}}finally{i(Error("Failed to read file as text"))}},s.onerror=()=>i(Error("Failed to read file")),s.readAsArrayBuffer(e)}),i=G(e.name,H(n)),s=H(n)?`${H(n)}/${i}`:i;k.l7.user("create-file-from-drop",()=>{let e=a.UN()?.createNewCodeFile({path:s,sourceCode:t,entryPoint:"file_drop",isEntrypointCodeFile:!1,onError:e=>{E.$D(b.e.MAKE,e)},enableDuplicateCheck:o.kc().bake_dup_code_files});if(S.Y5.commit(),x.az.trackDefinedEvent("figmake.file_upload_result",{fileKey:c.zl.get(u.ze)??void 0,success:!0,errorMessage:void 0,codeFileGuid:e??void 0}),e){let t=(0,a.UN)().get(e);t&&(0,N.nU)(t)}})}catch(i){x.az.trackDefinedEvent("figmake.file_upload_result",{fileKey:c.zl.get(u.ze)??void 0,success:!1,errorMessage:i instanceof Error?i.message:void 0,codeFileGuid:void 0});let t=i instanceof Error?i.message:(0,C.t)("figmake.filesystem.file_upload.error_failed",{name:e.name});s?.(_.F.enqueue({message:t,error:!0,timeoutOverride:3e3}))}}async function B(e,t,i){if(e&&0!==e.length){if(e[0]&&"webkitGetAsEntry"in e[0]){await W(e,t,i);return}await Y(e,t,i)}}async function W(e,t,i){let s=[],n=[],r=!1;for(let t of e)if(t.webkitGetAsEntry){let e=t.webkitGetAsEntry();e&&(R(e)?s.push(e):U(e)&&(r=!0,n.push(function e(t,i){return new Promise(s=>{let n=t.createReader(),r=()=>{n.readEntries(t=>{if(0===t.length){s();return}let n=[];for(let s of t)R(s)?i.push(s):U(s)&&n.push(e(s,i));Promise.all(n).then(()=>{r()})})};r()})}(e,s))))}else if("file"===t.kind){let e=t.getAsFile();e&&s.push({file:t=>t(e)})}await Promise.all(n),x.az.trackDefinedEvent("figmake.file_upload",{fileKey:c.zl.get(u.ze)??void 0,fileCount:s.length,hasDirectories:r}),await Z(s,t,i)}async function Y(e,t,i){let s=Array.from(e);if(x.az.trackDefinedEvent("figmake.file_upload",{fileKey:c.zl.get(u.ze)??void 0,fileCount:s.length,hasDirectories:!1}),s.length>100){let e=(0,C.t)("figmake.filesystem.file_upload.error_too_many_files",{count:s.length,max:100});i?.(_.F.enqueue({message:e,error:!0,timeoutOverride:3e3}));return}for(let e of s)await V(e,e.name,t,i)}function X({manager:e,file:t,handleRename:i,featureType:o}){let d=(0,a.UN)().get(t.guid),p=(0,f.l)(),h=(0,r.QK)(d,o);return n.useEffect(()=>{e.isOpen&&x.az.trackDefinedEvent("figmake.filesystem_open_context_menu",{fileKey:c.zl.get(u.ze)??void 0,targetType:"file",codeFileGuid:t.guid})},[e.isOpen,t]),(0,s.jsx)(l.bL,{manager:e,children:(0,s.jsxs)(l.mc,{children:[(0,s.jsx)(A,{path:t.codeFilePath?t.codeFilePath+"/"+t.name:t.name}),(0,s.jsx)(K,{fileOrFolder:t}),!p&&(0,s.jsx)(q,{handleRename:i,disabled:h}),!p&&d&&(0,s.jsx)($,{node:d,disabled:h})]})})}let Q={fileItemLabel:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kmVPX3:"x7qmaab",kaIpWk:"x12oqio5",kMwMTN:"x1akne3o","--color-icon":"xtlvio2",k9WMMc:"xdpxx8g",kWkggS:"xjbqb8w x12tve8b",khDVqt:"xuxw1ft",kXHlph:"x6ikm8r",kg5iWk:"xlyipyv",kzqmXN:"xh8yej3",$$css:!0},fileItemLabelRenaming:{kWkggS:"x1n5bzlp",$$css:!0},fileItemLabelActive:{kWkggS:"xcr9a89",kMwMTN:"x1akne3o",k63SB2:"x6xwguf","--color-icon":"xtlvio2",$$css:!0},disabled:{kMwMTN:"xge78cn",kWkggS:"x1yjdb4r",$$css:!0}};function J({selectedNode:e,file:t,indentLevel:i,codeIsStreaming:x,featureType:u}){let p=(0,n.useRef)(null),{getContextMenuTriggerProps:g,manager:v}=l.b(),{newlyCreatedFileGuid:b,onNewFileFocused:w}=I(),[L,E]=n.useState(!1),[_]=(0,c.fp)(h.ES),[S]=(0,c.fp)(h.KO),M=(0,a.UN)().get(t.guid),T=b===t.guid,O=(0,f.l)(),D=(0,r.QK)(M,u),z=n.useCallback(()=>{E(!0),w()},[w]);return(0,s.jsxs)("button",{"aria-label":(0,C.t)("figmake.filesystem.file.description",{name:t.name}),onClick:()=>{let e=(0,a.UN)().get(t.guid);e&&(0,N.nU)(e)},className:"x10w6t97 x78zum5 x6s0dn4 xjbqb8w xj8oexa xnjsko4",disabled:x,...g(),children:[(0,s.jsxs)("div",{...d.Ay.props(Q.fileItemLabel,e?.guid!==t.guid||L||null!==_||S?void 0:Q.fileItemLabelActive,x?Q.disabled:void 0,L?Q.fileItemLabelRenaming:void 0),style:{paddingLeft:8+16*i},children:[(0,s.jsx)("span",{style:{flexShrink:0,...(0,N.Ql)(x)},children:(0,s.jsx)(m.i,{})}),(0,s.jsx)(j.p,{fileName:t.name,onChange:e=>{E(!1),M&&k.l7.user("edit-code-file-name",()=>{M.setHasBeenManuallyRenamed(!0),M.name=e,y.glU?.commit()})},disabled:x,readOnly:O||D,onFocus:z,ref:p,path:t.codeFilePath,autoFocus:T})]}),(0,o.kc)().bake_context_menu&&(0,s.jsx)(X,{manager:v,file:t,handleRename:()=>p.current?.focus(),featureType:u})]},t.guid)}var ee=i(658704),et=i(774056),ei=i(543206),es=i(772963),en=i(903927);function er(e,t,i){let s=(0,en.wA)(),[r,l]=(0,c.fp)(h.ES),[a]=(0,c.fp)(h.KO),o=r===e&&!a;return{isDragOver:o,handleDragOver:n.useCallback(t=>{t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect=i?.disabled?"none":"copy",a||l(e)},[e,l,a,i?.disabled]),handleDragLeave:n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||l(null)},[l]),handleDrop:n.useCallback(async e=>{if(e.preventDefault(),e.stopPropagation(),l(null),i?.disabled)return;let n=e.dataTransfer;n?.items&&n.items.length>0?await B(Array.from(n.items),t,s):await B(n?.files,t,s)},[t,s,l,i?.disabled])}}function el({manager:e,folder:t,rootPath:i}){let r=(0,f.l)();return n.useEffect(()=>{e.isOpen&&x.az.trackDefinedEvent("figmake.filesystem_open_context_menu",{fileKey:c.zl.get(u.ze)??void 0,targetType:"folder",codeFileGuid:void 0})},[e.isOpen,t]),(0,s.jsx)(l.bL,{manager:e,children:(0,s.jsxs)(l.mc,{children:[!r&&(0,s.jsx)(P,{path:(i?i+"/":"")+t.path.slice(1)}),(0,s.jsx)(A,{path:t.path.slice(1)}),(0,s.jsx)(K,{fileOrFolder:t})]})})}let ea={folderItemContainerDragOver:{kWkggS:"xcr9a89",kVAEAm:"x1n2onr6",kgeoSG:"x1cpjm7i",kEoFBp:"x1hmns74",k96MEf:"x1y3wzot",k75S9Q:"x1wlytlt",kLBHJ3:"xb0dqd5",k5Ofw7:"xhq5o37",k5Ohv7:"xpmqpgo",kj4x2v:"x1fo1fc9",kfXFYZ:"x1vzh1im",kPB484:"xb52w3a",km8f2m:"xkk1bqk",kxmVGU:"x12maryy",$$css:!0},folderItemLabel:{kzQI83:"x1iyjqo2",kmuXW:"xs83m0k",kCS8Yb:"x1t1x2f9",k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kOIVth:"x195vfkc",kaIpWk:"x12oqio5",kWkggS:"xjbqb8w x12tve8b",$$css:!0},folderItemLabelDragActive:{kWkggS:"x1n5bzlp",$$css:!0},disabled:{kMwMTN:"xge78cn",kWkggS:"x1yjdb4r",$$css:!0}};function eo({selectedNode:e,folder:t,indentLevel:i,codeIsStreaming:r,openFolderPaths:a,toggleFolder:p,featureType:g,rootPath:m}){let y=a.has(t.path),{getContextMenuTriggerProps:k,manager:j}=l.b(),[v]=(0,c.fp)(h.ES),[b]=(0,c.fp)(h.KO),w=null!==v||b,L=n.useRef(),E=n.useCallback(e=>{w&&!y&&!r&&e.dataTransfer?.items.length>0&&(L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{p(t.path)},250))},[w,y,r,p,t.path]),_=n.useCallback(e=>{!e.currentTarget.contains(e.relatedTarget)&&L.current&&clearTimeout(L.current)},[]);n.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]);let S=n.useMemo(()=>(0,N.w_)([...t.children]),[t.children]),M=(0,f.l)(),T=m?`${m}/${t.path.replace(/^\//,"")}`:t.path.replace(/^\//,""),{isDragOver:O,handleDragOver:D,handleDragLeave:I,handleDrop:z}=er(`folder-${m||"root"}-${t.path}`,T,{disabled:r||M}),P=n.useCallback(e=>{_(e),I(e)},[_,I]);return(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x195vfkc xkh2ocl xjbqb8w x12oqio5 xj8oexa xnjsko4",onDragOver:D,onDragEnter:E,onDragLeave:P,onDrop:z,"data-folder-item":!0,children:[(0,s.jsx)("div",{...d.Ay.props(O&&!M?ea.folderItemContainerDragOver:void 0),children:(0,s.jsxs)("div",{className:"x10w6t97 x78zum5 x6s0dn4 xjbqb8w",children:[(0,s.jsxs)("button",{...k(),"aria-label":(0,C.t)("figmake.filesystem.folder.description",{name:t.name}),"aria-expanded":y,onClick:()=>{p(t.path),x.az.trackDefinedEvent("figmake.toggle_folder",{fileKey:c.zl.get(u.ze)??void 0,isOpening:!y})},...d.Ay.props(ea.folderItemLabel,r?ea.disabled:void 0,w?ea.folderItemLabelDragActive:void 0),disabled:r,children:[(0,s.jsxs)("div",{style:{paddingLeft:16*i,display:"flex",alignItems:"center",...(0,N.Ql)(r)},children:[(0,s.jsx)("span",{style:{flexShrink:0},children:y?(0,s.jsx)(ee.r,{}):(0,s.jsx)(et.R,{})}),(0,s.jsx)("span",{style:{flexShrink:0},children:(0,s.jsx)(ei.e,{})})]}),(0,s.jsx)(es.G,{text:t.name})]}),(0,o.kc)().bake_context_menu&&(0,s.jsx)(el,{manager:j,folder:t,rootPath:m})]})}),y?S.map(t=>"file"===t.type?(0,s.jsx)(J,{selectedNode:e,file:t,indentLevel:i+1,codeIsStreaming:r,featureType:g},t.guid):(0,s.jsx)(eo,{selectedNode:e,folder:t,indentLevel:i+1,codeIsStreaming:r,openFolderPaths:a,toggleFolder:p,featureType:g,rootPath:m},t.name)):null]})}function ec({isDragActive:e,canScrollUp:t,canScrollDown:i,onScrollTriggerEnter:n,onScrollTriggerLeave:r}){return e?(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"x10l6tqk xu96u03 x3m8u43 xh8yej3 x1lasm2m xsaw067 x13vifvy x67bb7w",onDragEnterCapture:e=>{e.preventDefault(),e.stopPropagation(),n("up",e)},onDragOverCapture:e=>{e.preventDefault(),e.stopPropagation(),n("up",e)},onDragLeaveCapture:e=>{e.preventDefault(),e.stopPropagation(),r()}}),i&&(0,s.jsx)("div",{className:"x10l6tqk xu96u03 x3m8u43 xh8yej3 x1lasm2m xsaw067 x1ey2m1c x67bb7w",onDragEnterCapture:e=>{e.preventDefault(),e.stopPropagation(),n("down",e)},onDragOverCapture:e=>{e.preventDefault(),e.stopPropagation(),n("down",e)},onDragLeaveCapture:e=>{e.preventDefault(),e.stopPropagation(),r()}})]}):null}let ed=3;function ex({manager:e,rootPath:t,codeProject:i}){let r=(0,f.l)();return n.useEffect(()=>{e.isOpen&&x.az.trackDefinedEvent("figmake.filesystem_open_context_menu",{fileKey:c.zl.get(u.ze)??void 0,targetType:"root",codeFileGuid:void 0})},[e.isOpen,t]),(0,s.jsx)(l.bL,{manager:e,children:(0,s.jsxs)(l.mc,{children:[!r&&(0,s.jsx)(P,{path:t}),(0,s.jsx)(K,{fileOrFolder:i})]})})}function eu({selectedCodeFileNode:e,nodeWithChatMessages:t,featureType:i,rootPath:d}){let{getContextMenuTriggerProps:x,manager:u}=l.b(),[m,y]=(0,n.useState)(null),k=(0,p.Fk)((e,t)=>(0,r.Ns)(e,t),d),[C,j]=(0,c.fp)(h.wy),[v]=(0,c.fp)(h.ES),[b]=(0,c.fp)(h.KO),w=null!==v||b,L=n.useCallback(e=>{j(t=>{let i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})},[j]),E=n.useCallback(()=>{let e=k.children.find(e=>"file"===e.type&&"App.tsx"===e.name)?.guid;if(e||(e=k.children.find(e=>"file"===e.type)?.guid),e){let t=(0,a.UN)().get(e);t&&(0,N.nU)(t)}},[k]);(0,n.useEffect)(()=>{(0,r.kv)(e)||E()},[e,k,E]);let _=n.useMemo(()=>(0,N.w_)([...k.children]),[k.children]),S=function(e){let{exchange:t}=(0,g.$W)(e?.guid);return Object.values(t?.fileUpdates??{}).length>0}(t),M=(0,f.l)(),T=`file-tree-${d||"root"}`,O=(0,n.useRef)(null),{isDragOver:I,handleDragOver:z,handleDragLeave:P,handleDrop:A}=er(T,d,{disabled:S||M}),{handleScrollTriggerEnter:$,handleScrollTriggerLeave:F,canScrollUp:K,canScrollDown:q}=function(e){let t=(0,n.useRef)(null),i=(0,n.useRef)(null),s=(0,n.useRef)(ed),r=(0,n.useRef)(null),[,l]=(0,c.fp)(h.KO),[a,o]=n.useState(!1),[d,x]=n.useState(!1),u=n.useCallback(()=>{if(!e.current)return;let t=e.current,i=t.scrollTop<=1,s=t.scrollTop>=t.scrollHeight-t.clientHeight-1;o(!i),x(!s)},[e]);n.useEffect(()=>{let t=e.current;if(!t)return;u();let i=()=>{u()};return t.addEventListener("scroll",i),()=>t.removeEventListener("scroll",i)},[e,u]);let p=n.useCallback(()=>{t.current&&(cancelAnimationFrame(t.current),t.current=null,i.current=null,l(!1)),r.current&&(clearTimeout(r.current),r.current=null)},[l]),f=n.useCallback((n,r=ed)=>{if(s.current=r,i.current===n&&t.current||(t.current&&(cancelAnimationFrame(t.current),t.current=null),!e.current))return;i.current=n;let a=e.current;if("up"===n&&a.scrollTop<=1||"down"===n&&a.scrollTop>=a.scrollHeight-a.clientHeight-1)return;l(!0);let o=()=>{if(!e.current||!i.current)return;let n=s.current,r="up"===i.current?-n:n,l=e.current.scrollTop+r;if("up"===i.current&&l<=0){e.current.scrollTop=0,p(),u();return}let a=e.current.scrollHeight-e.current.clientHeight;if("down"===i.current&&l>=a){e.current.scrollTop=a,p(),u();return}e.current.scrollTop=l,t.current=requestAnimationFrame(o)};t.current=requestAnimationFrame(o)},[e,l,u,p]),g=n.useCallback((t,i)=>{r.current&&(clearTimeout(r.current),r.current=null);let s=ed;if(i&&e.current){let n=e.current.getBoundingClientRect(),r=i.clientY;s="up"===t?Math.max(1,Math.min(16,Math.round(16-(r-n.top)/50*15))):Math.max(1,Math.min(16,Math.round(16-(n.bottom-r)/50*15)))}f(t,s)},[f,e]),m=n.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{p()},50)},[p]);return(0,n.useEffect)(()=>()=>{p()},[p]),{canScrollUp:a,canScrollDown:d,handleScrollTriggerEnter:g,handleScrollTriggerLeave:m}}(O),G=n.useCallback(e=>{y(e);let t=(0,a.UN)().get(e);if(t?.codeFilePath){let e="/"+t.codeFilePath;C.has(e)||j(t=>new Set([...t,e]))}},[C,j]),R=n.useCallback(()=>{y(null)},[]),U=n.useMemo(()=>({newlyCreatedFileGuid:m,onNewFileCreated:G,onNewFileFocused:R}),[m,G,R]);return(0,s.jsx)(D,{value:U,children:(0,s.jsxs)("div",{className:"x1n2onr6 x5yr21d x1vjfegm",children:[(0,s.jsxs)("div",{ref:O,...{0:{className:"xysyzu8 x6ikm8r x1n2onr6 x5yr21d x2lah0s x12oqio5"},2:{className:"xysyzu8 x6ikm8r x5yr21d x2lah0s x12oqio5 xcr9a89 x1n2onr6 x1cpjm7i x1hmns74 x1y3wzot x1wlytlt xb0dqd5 xhq5o37 xpmqpgo x1fo1fc9 x1vzh1im xb52w3a xkk1bqk x12maryy"},1:{className:"xysyzu8 x6ikm8r x1n2onr6 x5yr21d x2lah0s x12oqio5"},3:{className:"xysyzu8 x6ikm8r x5yr21d x2lah0s x12oqio5 xcr9a89 x1n2onr6 x1cpjm7i x1hmns74 x1y3wzot x1wlytlt xb0dqd5 xhq5o37 xpmqpgo x1fo1fc9 x1vzh1im xb52w3a xkk1bqk x12maryy"}}[!!(I&&!M)<<1|!!w<<0],...x(),onDragOver:z,onDragLeave:P,onDrop:A,children:[(0,o.kc)().bake_context_menu&&(0,s.jsx)(ex,{manager:u,rootPath:d,codeProject:k}),(0,s.jsx)("div",{className:"x12ulsxz xdqyycr x78zum5 xdt5ytf xlqzeqv x1qjc9v5 x1nd3289 xrxpjvj",children:_.map(t=>"file"===t.type?(0,s.jsx)(J,{selectedNode:e,file:t,indentLevel:0,codeIsStreaming:S,featureType:i},t.guid):(0,s.jsx)(eo,{selectedNode:e,folder:t,indentLevel:0,codeIsStreaming:S,openFolderPaths:C,toggleFolder:L,featureType:i,rootPath:d},t.name))})]}),(0,s.jsx)(ec,{isDragActive:w,canScrollUp:K,canScrollDown:q,onScrollTriggerEnter:$,onScrollTriggerLeave:F})]})})}},588402:(e,t,i)=>{i.d(t,{U:()=>b});var s=i(104076),n=i(716976),r=i(651234),l=i(967325),a=i(542653),o=i(266808),c=i(812714),d=i(824570),x=i(211862),u=i(141524),p=i(577932),h=i(107799),f=i(847112),g=i(410915),m=i(743558),y=i(385446),k=i.n(y),C=i(580276);function j(e,t){return(0,n.useMemo)(()=>{let i=[],s=!1;for(let n=0;n<e.length;n++){let a=e[n];switch(a.type){case o.K$p.USER_MESSAGE:let c=t.usersById?.[a.userId];if(c){let e=(0,r.MK)(a.textContent||""),t=(0,l.gG)(e);e.hidden||i.push({type:"user",user:c,id:a.id,plainText:e.plainText||"",imports:e.imports,inspectedElement:e.inspectedElement,selectedNodeIds:e.selectedNodeIds,libraryKey:e.libraryKey}),s=t}continue;case o.K$p.SYSTEM_MESSAGE:let d=function(e){let t=(0,r.U1)(e.textContent||"");if(!t)return null;let i={type:"system",id:e.id,systemMessageType:t.type,title:"title"in t?t.title:void 0};switch(t.type){case"restore":return{...i,systemMessageType:"restore",codeSnapshotKey:t.codeSnapshot?.codeSnapshotKey,fileVersionId:t.codeSnapshot?.fileVersionId};case"manual_edit":return{...i,systemMessageType:"manual_edit",changedFiles:t.changedFiles,codeSnapshotKey:t.codeSnapshot?.codeSnapshotKey,fileVersionId:t.codeSnapshot?.fileVersionId};case"duplicated_file":return{...i,systemMessageType:"duplicated_file",fileKeyHash:t.fileKeyHash};case"deleted_chat_history":return{...i,systemMessageType:"deleted_chat_history",userId:t.userId,timestamp:t.timestamp};default:return{...i,systemMessageType:"generic",plainText:t.plainText||""}}}(a);d&&i.push(d),s=!1;continue;case o.K$p.ASSISTANT_MESSAGE:let x=[a],u=(0,r.lr)(a.textContent||"").title,p=n;for(let t=n+1;t<e.length;t++){let i=e[t];if(!i)break;let s=(0,r.lr)(i.textContent||"");u||=s.title;let n=!0===s.hidden,l=i.type===o.K$p.SYSTEM_MESSAGE,a=i.type===o.K$p.ASSISTANT_MESSAGE,c=i.type===o.K$p.TOOL_MESSAGE;if(a||n&&l||c)p=t;else break;if(c){let e=i.toolResults[0];if(!e)continue;let t=x[x.length-1];if(!t||!t.toolCalls.find(t=>t.toolCallId===e.toolCallId&&t.toolName===e.toolName))continue;if(t.toolResults.push(e),(0,C.d4)(e.toolName))break}else x.push(i)}let h=function(e){let t=[];return e.forEach(e=>{if(e.type===o.K$p.ASSISTANT_MESSAGE){let s=(0,r.lr)(e.textContent),n=[];switch(s.signedReasoning&&n.push({id:e.id,type:"reasoning",reasoning:s.signedReasoning.text}),s.mode){case"code":s.codeFilePath&&n.push({id:e.id,type:"code",code:s.code,file:s.codeFilePath});break;case"message":n.push({id:e.id,type:"message",message:s.plainText});break;case"visible_message":var i;n.push({id:e.id,type:"visible_message",message:(i=s.plainText)?i.replace(/<figma[^>]*>([\s\S]*?)<\/figma>/g,(e,t)=>e.includes("\n")?"":e):i,codeSnapshot:s.codeSnapshot});break;case"plan":n.push({id:e.id,type:"plan",plan:s.plainText,title:s.title||""});break;case"summary":n.push({id:e.id,type:"summary",summary:s.plainText,codeSnapshot:s.codeSnapshot});break;case"work":n.push({id:e.id,type:"work",work:s.plainText});break;default:s.plainText.length>0&&n.push({id:e.id,type:"message",message:s.plainText})}e.toolCalls&&e.toolCalls.forEach(t=>{if((0,r.Eb)(t.toolName)){let i=(0,r.Vm)(t);if(!i)return;let s={id:e.id,type:"clientSideToolCall",toolCall:i},l=e.toolResults.find(e=>e.toolCallId===t.toolCallId&&e.toolName===t.toolName);if(l){let e=(0,r.Xy)(l);e&&(s.toolResult=e)}n.push(s)}else n.push({id:e.id,type:"toolCall",name:t.toolName})}),t.push(...n)}}),t}(x);i.push({type:"assistant",messages:h,isAutoErrorFix:s,title:u}),s=!1,n=p;continue;case o.K$p.TOOL_MESSAGE:continue}}return i},[e,t])}var v=i(254362);function b({setInput:e,chatMessagesNode:t,chatMessagesNodeGuid:i,codeInstanceGuid:y,layerDisplayName:C,sendMessage:b,emptyState:w,sendDisabled:L,enableAssetImport:E=!1,enableImageAttachment:_=!1,showChatHeader:S=!1,featureType:M,enableDragUpload:T=!1,enableDsImport:O=!1,isResizingPanel:D,showCodeStreaming:I,rootPath:N,onChatInputFocus:z,forceReadOnly:P,hideChatBox:A}){let $=(0,x.tS)(),F=(0,g.EI)(t),K=function(e){let[t,i]=(0,n.useState)([]),{exchange:s}=(0,h.$W)(e?.guid),r=(0,n.useRef)([]);return n.useEffect(()=>{let e=s?.messages||[];k()(e,r.current)||(r.current=e,i(e))},[s?.messages]),t}(t),q=(0,h.s0)(i),G=(0,m.E)(t,M,{shouldIncludeFile:M===r.lV.FIGMAKE?a.ru:void 0}),R=(0,n.useMemo)(()=>{if(!F)return null;for(let e=F.length-1;e>=0;e--){let t=F[e];if(t?.type===o.K$p.USER_MESSAGE)return t}return null},[F]),U=(0,n.useMemo)(()=>!!R&&R.type===o.K$p.USER_MESSAGE&&(0,l.gG)((0,r.MK)(R.textContent)),[R]),{allMessagesDeduped:Z,exchangeMessagesDeduped:H}=(0,n.useMemo)(()=>{let e=new Set,t=[],i=[],s=e=>`${e.id}-${Number(e.sentAt64)>0?e.sentAt64:e.sentAt}`;for(let i of F)t.push(i),e.add(s(i));for(let n of K){let r=s(n);e.has(r)||(t.push(n),i.push(n))}return{allMessagesDeduped:t,exchangeMessagesDeduped:i}},[F,K]),V=(0,n.useMemo)(()=>F.map(e=>e.userId)||[],[F]),B=j(F,(0,d.zN)((0,u.zy)(V))),W=(0,n.useMemo)(()=>H.map(e=>e.userId)||[],[H]),Y=j(H,(0,d.zN)((0,u.zy)(W))),X=(0,n.useMemo)(()=>[...B,...Y],[B,Y]),Q=(0,n.useMemo)(()=>{let{changedFiles:e,hasBaseline:t,error:i}=G;return e.length>0&&t&&!i&&(0,c.kc)().bake_manual_edits&&0===K.length?[...X,{type:"system",id:v.ct,systemMessageType:"manual_edit",changedFiles:e,codeSnapshotKey:void 0,fileVersionId:void 0,title:void 0}]:X},[X,G,K.length]),J=(0,n.useMemo)(()=>{let e,t;let s=new Map;return Z.forEach(n=>{switch(n.type){case o.K$p.ASSISTANT_MESSAGE:case o.K$p.SYSTEM_MESSAGE:t=n.id;break;case o.K$p.USER_MESSAGE:t&&e&&s.set(t,(0,p.Pd)($,i,e)),t=void 0,e=n.id}}),t&&e&&s.set(t,(0,p.Pd)($,i,e)),s},[Z,$,i]),ee=(0,n.useMemo)(()=>new Set(K.map(e=>e.id)),[K]);return(0,s.jsx)(f.r,{chatMessagesNodeGuid:i,clientLifecycleIdMap:J,codeFileChanges:G,codeInstanceGuid:y,emptyState:w,enableAssetImport:E,enableDragUpload:T,enableDsImport:O,enableImageAttachment:_,exchangeMessageIds:ee,featureType:M,forceReadOnly:P,hideChatBox:A,isLastUserMessageAutoErrorFix:U,isResizingPanel:D,layerDisplayName:C,messagesForRendering:Q,onChatInputFocus:z,rootPath:N,sendDisabled:L,sendMessage:b,setInput:e,showChatHeader:S,showCodeStreaming:I,typingUsers:q})}},803120:(e,t,i)=>{i.d(t,{u:()=>y});var s=i(716976),n=i(651234),r=i(967325),l=i(266808),a=i(795033),o=i(173955),c=i(211862),d=i(592726),x=i(293172),u=i(580276),p=i(107799),h=i(635533),f=i(121363),g=i(191182),m=i(410915);function y({chatMessagesNode:e,disabled:t=!1,featureType:i}){let[y,k]=s.useState(!1),{exchange:C}=(0,p.$W)(e?.guid||"");s.useEffect(()=>{C&&!y&&k(!0)},[C,y]);let[j,v]=(0,a.fp)((0,h.o0)(e?.guid||"")),b=(0,a.md)((0,h.Nm)(e?.guid||"")),w=(0,m.EI)(e),L=(0,a.md)(x.Xl),E=(0,a.md)(x.p7),_=(0,d.iZ)(),S=(0,c.tS)(),M=s.useMemo(()=>w?(0,r.EY)(w):null,[w]),[T,O]=s.useState(new Map),D=s.useMemo(()=>{if(w&&w.length>0){let e=w[w.length-1];if(e?.type===l.K$p.TOOL_MESSAGE&&e?.toolCalls.some(e=>n.AD.includes(e.toolName)))return!0}if(C?.messages&&C?.messages.length>0){let e=C.messages[C.messages.length-1];if(e?.type===l.K$p.TOOL_MESSAGE&&e?.toolCalls.some(e=>n.AD.includes(e.toolName)))return!0}return!1},[w,C]),I=i===n.lV.FIGMAKE?(0,f.P)():void 0,N=(0,u.Xu)();return{triggerSelfHeal:s.useCallback(async(e,s,n)=>{let l=await (0,o.ly)("auto-error-fix");if(l)try{if(j||t||!y||!n||N&&(L||E===x.Ut.DEPLOYING||D)||0===s.length||!M||!b||"user"===b||Date.now()-n>2e3||(T.get(M)||0)>=2)return;await function({chatMessagesNode:e,lastUserMessageId:t,errors:i,onStart:s,handleSubmitMessage:n}){let l=Array.from(new Set(i));s();let a=t;if(!a){let t=e.chatMessages;a=(0,r.EY)(t)??null}return n({userMessageContent:{plainText:"",hidden:!0,errors:l},rawUserChatDetails:void 0,autoFixingUserMessageId:a,changedFiles:[]})}({chatMessagesNode:e,lastUserMessageId:M,errors:s,onStart:()=>{v(!0),O(e=>(e.set(M,(e.get(M)||0)+1),e))},handleSubmitMessage:({userMessageContent:t,autoFixingUserMessageId:s,rawUserChatDetails:n,changedFiles:r})=>(0,g.O)({userMessageContent:t,user:_,chatMessagesNode:e,rawUserChatDetails:n,featureType:i,setInput:()=>{},fileKey:S,autoFixingUserMessageId:s,onFinish:()=>{v(!1)},canUseSupabase:N,changedFiles:r,model:I})})}finally{await l.release()}},[j,t,y,M,b,T,v,_,i,S,I,L,E,D,N])}}},855492:(e,t,i)=>{i.d(t,{p:()=>o});var s=i(104076),n=i(859120);i(120440);let r=e=>`var(${e})`,l={bg:"--animation-bg",fill:"--animation-fill",stroke:"--animation-stroke",strokeLight:"--animation-stroke-light"},a={light:{[l.strokeLight]:r("--ramp-violet-200"),[l.stroke]:r("--ramp-violet-300"),[l.fill]:r("--ramp-violet-100"),[l.bg]:r("--color-bg")},dark:{[l.strokeLight]:r("--color-border"),[l.stroke]:r("--color-border"),[l.fill]:r("--color-bg-secondary"),[l.bg]:r("--color-bg")}};function o(){let e=(0,n.G)(),t=(0,s.jsxs)("svg",{width:"417",height:"321",viewBox:"0 0 417 321",fill:"none",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_8424_179506)",children:[(0,s.jsx)("line",{x1:"0.5",y1:"2.0461e-08",x2:"0.499987",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"32.5",y1:"1",x2:"32.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"64.5",y1:"1",x2:"64.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"96.5",y1:"1",x2:"96.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"128.5",y1:"1",x2:"128.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"160.5",y1:"1",x2:"160.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"192.5",y1:"1",x2:"192.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"224.5",y1:"1",x2:"224.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"256.5",y1:"1",x2:"256.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"288.5",y1:"1",x2:"288.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"320.5",y1:"1",x2:"320.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"352.5",y1:"1",x2:"352.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"384.5",y1:"1",x2:"384.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416.5",y1:"1",x2:"416.5",y2:"321",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"0.5",x2:"-9.081e-08",y2:"0.499983",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"32.5",x2:"-9.081e-08",y2:"32.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"64.5",x2:"-9.081e-08",y2:"64.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"96.5",x2:"-9.081e-08",y2:"96.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"128.5",x2:"-9.081e-08",y2:"128.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"160.5",x2:"-9.081e-08",y2:"160.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"192.5",x2:"-9.081e-08",y2:"192.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"224.5",x2:"-9.081e-08",y2:"224.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"256.5",x2:"-9.081e-08",y2:"256.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"288.5",x2:"-9.081e-08",y2:"288.5",stroke:r(l.strokeLight)}),(0,s.jsx)("line",{x1:"416",y1:"320.5",x2:"-9.081e-08",y2:"320.5",stroke:r(l.strokeLight)}),(0,s.jsx)("rect",{width:"573",height:"441",transform:"translate(-79 -61)",fill:"url(#paint0_radial_8424_179506)"}),(0,s.jsx)("rect",{x:"138.1",y:"98.4353",width:"133",height:"91",rx:"13.5",transform:"rotate(8 138.1 98.4353)",fill:r(l.bg),stroke:r(l.stroke),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"141.5",y:"114.5",width:"133",height:"91",rx:"13.5",fill:r(l.bg),stroke:r(l.stroke)}),(0,s.jsx)("rect",{x:"150",y:"123",width:"74",height:"74",rx:"5",fill:r(l.fill)}),(0,s.jsx)("rect",{x:"232",y:"123",width:"34",height:"74",rx:"5",fill:r(l.fill)})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"paint0_radial_8424_179506",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(286.5 220.5) rotate(90) scale(220.5 286.5)",children:[(0,s.jsx)("stop",{stopColor:r(l.bg),stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.117896",stopColor:r(l.bg),stopOpacity:"0.0737185"}),(0,s.jsx)("stop",{offset:"0.213837",stopColor:r(l.bg),stopOpacity:"0.153748"}),(0,s.jsx)("stop",{offset:"0.2912",stopColor:r(l.bg),stopOpacity:"0.2384"}),(0,s.jsx)("stop",{offset:"0.353363",stopColor:r(l.bg),stopOpacity:"0.325985"}),(0,s.jsx)("stop",{offset:"0.403704",stopColor:r(l.bg),stopOpacity:"0.414815"}),(0,s.jsx)("stop",{offset:"0.4456",stopColor:r(l.bg),stopOpacity:"0.5032"}),(0,s.jsx)("stop",{offset:"0.48243",stopColor:r(l.bg),stopOpacity:"0.589452"}),(0,s.jsx)("stop",{offset:"0.51757",stopColor:r(l.bg),stopOpacity:"0.671881"}),(0,s.jsx)("stop",{offset:"0.5544",stopColor:r(l.bg),stopOpacity:"0.7488"}),(0,s.jsx)("stop",{offset:"0.596296",stopColor:r(l.bg),stopOpacity:"0.818519"}),(0,s.jsx)("stop",{offset:"0.646637",stopColor:r(l.bg),stopOpacity:"0.879348"}),(0,s.jsx)("stop",{offset:"0.7088",stopColor:r(l.bg),stopOpacity:"0.9296"}),(0,s.jsx)("stop",{offset:"0.786163",stopColor:r(l.bg),stopOpacity:"0.967585"}),(0,s.jsx)("stop",{offset:"0.882104",stopColor:r(l.bg),stopOpacity:"0.991615"}),(0,s.jsx)("stop",{offset:"1",stopColor:r(l.bg)})]}),(0,s.jsx)("clipPath",{id:"clip0_8424_179506",children:(0,s.jsx)("rect",{width:"417",height:"321",fill:r(l.bg)})})]})]});return(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1n2onr6",style:a[e.color],children:t})}},652931:(e,t,i)=>{i.d(t,{Ay:()=>g});var s=i(104076),n=i(716976),r=i(286138),l=i(859120);i(120440);var a=i(858959),o=i(561839),c=i(192075);let d={ENTER_TO_LOOP:600,LAYOUT_STEP:600,EXPAND_TO_ICON:300,ICON_TO_CODE:300,CODE_DURATION:6e3,CODE_EXIT:300,ICONS_DURATION:6e3,ICONS_EXIT:300,RESET_PAUSE:800},x=e=>`var(${e})`,u={bg:"--animation-bg",stroke:"--animation-stroke",strokeLight:"--animation-stroke-light",fill:"--animation-fill",icon:"--animation-icon"},p={light:{[u.bg]:x("--color-bg"),[u.stroke]:x("--ramp-violet-400"),[u.strokeLight]:x("--ramp-violet-300"),[u.fill]:x("--ramp-violet-100"),[u.icon]:x("--color-icon-brand")},dark:{[u.bg]:x("--color-bg"),[u.stroke]:x("--color-border"),[u.strokeLight]:x("--color-border"),[u.fill]:x("--color-bg-secondary"),[u.icon]:x("--color-icon-secondary")}};function h(e,t="top"){let i="light"===e?"255, 255, 255":"44, 44, 44",s=[{position:0,alpha:1},{position:.1179,alpha:.991615},{position:.2138,alpha:.967585},{position:.2912,alpha:.9296},{position:.3534,alpha:.879348},{position:.4037,alpha:.818519},{position:.4456,alpha:.7488},{position:.4824,alpha:.671881},{position:.5176,alpha:.589452},{position:.5544,alpha:.5032},{position:.5963,alpha:.414815},{position:.6466,alpha:.325985},{position:.7088,alpha:.2384},{position:.7862,alpha:.153748},{position:.8821,alpha:.0737185},{position:1,alpha:0}].map(e=>`rgba(${i}, ${e.alpha}) ${100*e.position}%`).join(", ");return`linear-gradient(${"top"===t?"to bottom":"to top"}, ${s})`}let f={light:{top:h("light","top"),bottom:h("light","bottom")},dark:{top:h("dark","top"),bottom:h("dark","bottom")}};function g({frozenPhase:e}){let[t,i]=(0,n.useState)(e||"enter"),[r,o]=(0,n.useState)(0),c=(0,n.useRef)(0),h=(0,l.G)();(0,n.useEffect)(()=>{let s;if(e)return;let n=e=>{i(()=>e)};return({enter:()=>{s=setTimeout(()=>n("loop"),d.ENTER_TO_LOOP)},loop:()=>{s=setTimeout(()=>{o(e=>{let t=(e+1)%5;return 0===t&&(c.current+=1,c.current>=1&&setTimeout(()=>n("exit"),200)),t})},d.LAYOUT_STEP)},exit:()=>n("expand"),expand:()=>{s=setTimeout(()=>n("icon"),d.EXPAND_TO_ICON)},icon:()=>{s=setTimeout(()=>n("code"),d.ICON_TO_CODE)},code:()=>{s=setTimeout(()=>n("codeExit"),d.CODE_DURATION)},codeExit:()=>{s=setTimeout(()=>n("fallingIcons"),d.CODE_EXIT)},fallingIcons:()=>{s=setTimeout(()=>n("fallingIconsExit"),d.ICONS_DURATION)},fallingIconsExit:()=>{s=setTimeout(()=>n("reset"),d.ICONS_EXIT)},reset:()=>{s=setTimeout(()=>n("enter"),d.RESET_PAUSE)},fixingErrors:()=>{}})[t](),()=>clearTimeout(s)},[t,r,e]),(0,n.useEffect)(()=>{e||(i(()=>"enter"),o(0),c.current=0)},[e]);let f={initial:{width:79},step1:{width:120,transition:{duration:.4,ease:"easeOut"}},step2:{width:79,transition:{duration:.4,ease:"easeOut"}},expand:{width:250,height:170,x:1,y:1,transition:{duration:.6,type:"spring",bounce:0}},reset:{width:79,height:79.0029,x:0,y:0,transition:{duration:.6,type:"spring"}}},g={initial:{width:79,x:172.499},step1:{width:120,x:131.499},step2:{width:79,x:172.499}},k={initial:{width:159,x:0},step1:{width:118,x:0},step2:{width:159,x:0}},v=()=>{switch(r){case 0:default:return"initial";case 1:return"step1";case 2:return"step2"}},b=()=>{switch(r){case 3:return"step1";case 4:return"step2";default:return"initial"}},w={hidden:{opacity:0,scale:1,y:8},show:{opacity:1,scale:1,y:0,transition:{duration:.4,type:"spring"}},exit:{opacity:0,scale:.6,y:8,transition:{duration:.4,type:"spring"}}},L={...w,exit:{opacity:0,scale:.6,y:-8,transition:{duration:.4,type:"spring"}}},E={...w,exit:{width:250,height:170,x:1,y:1,scale:1,opacity:1,transition:{ease:"easeOut",duration:.3}}},_=()=>{switch(t){case"exit":case"expand":return"exit";case"icon":case"code":case"codeExit":case"fixingErrors":case"fallingIcons":case"fallingIconsExit":return"hidden";case"reset":return"show";default:return}};return(0,s.jsx)("div",{className:"xdpfuu1 x1jn0hjm x1yjdb4r x78zum5 xdt5ytf x6s0dn4 xl56j7k",style:p[h.color],children:(0,s.jsx)("div",{className:"xwzcjdk xs4flsr xe8ttls x1rea2x4",children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1rea2x4",children:[(0,s.jsxs)("div",{className:"x1ymmuzg x1ri49h8 x1n2onr6 x1rea2x4",children:["expand"===t||"icon"===t||"fixingErrors"===t||"code"===t||"codeExit"===t||"fallingIcons"===t||"fallingIconsExit"===t?(0,s.jsx)(a.P.div,{className:"x10l6tqk xqyf9gi x1a842fp x4pepcl x1yjdb4r xoegz02",initial:{opacity:0},animate:{opacity:"fallingIconsExit"===t||"reset"===t?0:1},transition:{duration:.3}}):null,(0,s.jsxs)(a.P.svg,{width:"252",height:"172",viewBox:"0 0 252 172",fill:"none",xmlns:"http://www.w3.org/2000/svg",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1,type:"spring",duration:.4}}},initial:"hidden",animate:"show",style:{position:"relative",zIndex:9},children:[(0,s.jsx)(a.P.g,{variants:E,children:(0,s.jsx)(a.P.rect,{animate:"loop"===t?f[v()]:"expand"===t||"icon"===t||"code"===t||"codeExit"===t||"fallingIcons"===t||"fallingIconsExit"===t||"fixingErrors"===t?f.expand:"reset"===t?f.reset:f.initial,height:"79.0029",initial:f.initial,rx:"12.5015",stroke:x(u.stroke),strokeDasharray:"6 6",strokeWidth:"0.997067",transition:{type:"spring",stiffness:300,damping:25,duration:.3},x:"0.498534",y:"0.498534"})}),(0,s.jsx)(a.P.g,{variants:L,animate:_(),children:(0,s.jsx)(a.P.rect,{y:"0.498534",height:"79.0029",rx:"12.5015",stroke:x(u.stroke),strokeWidth:"0.997067",strokeDasharray:"6 6",initial:{x:92.4985,width:159.003},animate:"loop"===t?{x:1===r?132.4985:92.4985,width:({initial:{width:159,x:0},step1:{width:118,x:12},step2:{width:159,x:0}})[v()].width}:{x:92.4985,width:159.003},transition:{duration:.4,ease:"easeOut"}})}),(0,s.jsx)(a.P.g,{variants:L,animate:_(),children:(0,s.jsx)(a.P.rect,{animate:"loop"===t?{width:k[b()].width}:k.initial,height:"79.0029",initial:k.initial,rx:"12.5015",stroke:x(u.stroke),strokeDasharray:"6 6",strokeWidth:"0.997067",transition:{duration:.4,ease:"easeOut"},x:"0.498534",y:"92.4985"})}),(0,s.jsx)(a.P.g,{variants:L,animate:_(),children:(0,s.jsx)(a.P.rect,{y:"92.4985",height:"79.0029",rx:"12.5015",stroke:x(u.stroke),strokeWidth:"0.997067",strokeDasharray:"6 6",initial:{x:172.499,width:79},animate:"loop"===t?{x:g[b()].x,width:g[b()].width}:{x:172.499,width:79},transition:{duration:.4,ease:"easeOut"}})})]}),(0,s.jsx)(C,{animationPhase:t}),(0,s.jsx)(y,{animationPhase:t}),(0,s.jsx)(j,{animationPhase:t})]}),(0,s.jsx)(m,{animationPhase:t})]})})})}function m({animationPhase:e}){let[t,i]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=setInterval(()=>{i(e=>(e+1)%4)},350);return()=>clearInterval(e)},[]);let l=e=>"fixingErrors"===e?(0,c.t)("figmake.thinking_state.fixing_errors"):"expand"===e||"icon"===e||"code"===e?(0,c.t)("figmake.thinking_state.label_3"):"codeExit"===e||"fallingIcons"===e||"fallingIconsExit"===e?(0,c.t)("figmake.thinking_state.label_2"):(0,c.t)("figmake.thinking_state.label_1"),d=(0,n.useMemo)(()=>l(e),[e]);return(0,s.jsxs)("div",{className:"xqui205 xemv814 xno9bf3 x1betce5 x1n0bwc9 x1kpxq89 x78zum5 xl56j7k x87ps6o",style:{display:"flex",alignItems:"baseline"},children:[(0,s.jsx)(r.E,{"aria-live":"polite",children:d}),(0,s.jsx)("div",{"aria-hidden":"true",children:(0,s.jsx)(o.N,{mode:"wait",children:(0,s.jsxs)(a.P.span,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.3,ease:"easeOut"},children:[(0,s.jsx)("span",{children:d}),(0,s.jsx)(a.P.span,{style:{display:"inline-block",width:"0.3em",textAlign:"left",marginLeft:"0"},"aria-hidden":"true",children:".".repeat(t)})]},d)})})]})}function y({animationPhase:e}){let t="code"===e||"fixingErrors"===e,i="codeExit"===e,n=(0,l.G)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.P.div,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"140px",overflow:"hidden",zIndex:7},variants:{initial:{opacity:0},show:{opacity:1,transition:{duration:.4}},exit:{opacity:0,transition:{duration:.4}}},initial:"initial",animate:i?"exit":t?"show":"initial",children:(0,s.jsx)(a.P.div,{style:{position:"absolute",width:"100%"},variants:{initial:{y:128,opacity:1,transition:{duration:.4,type:"spring"}},animate:{y:-300,opacity:1,transition:{duration:8,ease:"linear",repeat:1/0,repeatType:"loop"}},exit:{y:-300,opacity:0,transition:{duration:.4,type:"spring"}}},initial:"initial",animate:i?"exit":t?"animate":"initial",children:(0,s.jsxs)("svg",{width:"189",height:"400",viewBox:"0 0 189 400",fill:"none",children:[(0,s.jsx)("rect",{x:"0.5",y:"0.5",width:"110",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"23.5",width:"159",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"47.5",width:"77",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"70.5",width:"188",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"94.5",width:"141",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"117.5",width:"110",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"140.5",width:"165",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"170.5",width:"110",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"193.5",width:"159",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"217.5",width:"77",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"240.5",width:"188",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"264.5",width:"141",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"287.5",width:"110",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"}),(0,s.jsx)("rect",{x:"0.5",y:"310.5",width:"165",height:"11",rx:"3.5",fill:x(u.fill),stroke:x(u.strokeLight),strokeDasharray:"4 4"})]})})}),(0,s.jsx)(a.P.div,{style:{position:"absolute",width:"238px",height:"82px",left:"8px",top:"4px",background:f[n.color].top,zIndex:8,pointerEvents:"none"},initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.4}}),(0,s.jsx)(a.P.div,{style:{position:"absolute",width:"238px",height:"62px",left:"8px",top:"110px",background:f[n.color].bottom,zIndex:8,pointerEvents:"none"},initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.4}})]})}let k={duration:.4,type:"spring"};function C({animationPhase:e}){let t={initial:{opacity:0,scale:0,x:12,y:124,transition:k},show:{opacity:1,scale:1,x:12,y:124,transition:k},exit:{opacity:0,scale:.6,x:12,y:124,transition:{...k,delay:.1}}};return(0,s.jsxs)(a.P.svg,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,zIndex:9,background:x(u.bg),borderRadius:36,transformOrigin:"center"},variants:t,initial:"initial",animate:"codeExit"===e?"exit":"icon"===e||"code"===e||"fixingErrors"===e?"show":"initial",children:[(0,s.jsx)("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"17.5",fill:x(u.bg),fillOpacity:"0.3"}),(0,s.jsx)("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"17.5",stroke:x(u.strokeLight)}),(0,s.jsx)("path",{d:"M14.8779 13.0316C15.0963 12.8874 15.3927 12.9116 15.585 13.1038C15.777 13.2961 15.8014 13.5926 15.6572 13.8109L15.585 13.8988L11.4824 18.0013L15.585 22.1038C15.8044 22.3235 15.8045 22.6792 15.585 22.8988C15.3654 23.1181 15.0096 23.1181 14.79 22.8988L10.29 18.3988C10.1847 18.2934 10.1251 18.1503 10.125 18.0013C10.125 17.8894 10.1585 17.7805 10.2197 17.6888L10.29 17.6038L14.79 13.1038L14.8779 13.0316ZM20.415 13.1029C20.6073 12.9107 20.9037 12.8864 21.1221 13.0306L21.21 13.1029L25.71 17.6029L25.7803 17.6878C25.8416 17.7796 25.875 17.8883 25.875 18.0003C25.875 18.1494 25.8154 18.2923 25.71 18.3978L21.21 22.8978C20.9903 23.1174 20.6347 23.1174 20.415 22.8978C20.1954 22.6781 20.1955 22.3225 20.415 22.1029L24.5176 18.0003L20.415 13.8978L20.3428 13.8099C20.1986 13.5916 20.2229 13.2951 20.415 13.1029Z",fill:x(u.icon)})]})}function j({animationPhase:e}){let t=(e,t,i,s,n)=>({initial:{x:e,y:-50,rotate:t,opacity:1,scale:1},animate:{x:e,y:[-64,236],rotate:i,opacity:1,scale:1,transition:{duration:2.2,ease:"linear",repeat:1/0,repeatDelay:0,repeatType:"loop",delay:s,times:[0,1]}},exit:{x:e,y:[-64,236],opacity:0,rotate:i,scale:.6,transition:{duration:.4,type:"spring"}}}),i=t(34,0,-5,0,0),n=t(138,-5,5,.2,0),r=t(75,0,-15,.5,.1),o=t(183,-5,5,.7,.15),c=t(20,0,15,1,.2),d=t(128,-5,5,1.2,.25),x=t(70,0,-12,1.5,.25),u=t(164,-6,6,1.7,.3),p=()=>{switch(e){case"fallingIcons":return"animate";case"fallingIconsExit":case"reset":return"exit";default:return"initial"}},h=(0,l.G)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.P.div,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:252,height:172,zIndex:7,overflow:"hidden"},animate:{opacity:"fallingIconsExit"===e||"reset"===e?0:1},transition:{duration:.3},children:[(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:c,initial:"initial",animate:p(),children:(0,s.jsx)(v,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:n,initial:"initial",animate:p(),children:(0,s.jsx)(b,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:x,initial:"initial",animate:p(),children:(0,s.jsx)(L,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:i,initial:"initial",animate:p(),children:(0,s.jsx)(E,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:d,initial:"initial",animate:p(),children:(0,s.jsx)(w,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:r,initial:"initial",animate:p(),children:(0,s.jsx)(S,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:o,initial:"initial",animate:p(),children:(0,s.jsx)(M,{})}),(0,s.jsx)(a.P.div,{style:{position:"absolute"},variants:u,initial:"initial",animate:p(),children:(0,s.jsx)(_,{})})]}),(0,s.jsx)(a.P.div,{style:{position:"absolute",width:"238px",height:"92px",left:"8px",top:"-10px",background:f[h.color].top,zIndex:7,pointerEvents:"none"}}),(0,s.jsx)(a.P.div,{style:{position:"absolute",width:"238px",height:"62px",left:"8px",top:"110px",background:f[h.color].bottom,zIndex:7,pointerEvents:"none"}})]})}function v(){return(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_7376_774364)",children:[(0,s.jsx)("path",{d:"M6.66699 19.9998C6.66699 19.5089 7.06496 19.1109 7.55588 19.1109H32.4448C32.9357 19.1109 33.3337 19.5089 33.3337 19.9998C33.3337 20.4908 32.9357 20.8887 32.4448 20.8887H7.55588C7.06496 20.8887 6.66699 20.4908 6.66699 19.9998Z",fill:x(u.icon)}),(0,s.jsx)("path",{d:"M20.0003 6.6665C20.4912 6.6665 20.8892 7.06447 20.8892 7.55539L20.8892 32.4443C20.8892 32.9352 20.4912 33.3332 20.0003 33.3332C19.5094 33.3332 19.1114 32.9352 19.1114 32.4443L19.1114 7.55539C19.1114 7.06447 19.5094 6.6665 20.0003 6.6665Z",fill:x(u.icon)}),(0,s.jsx)("path",{d:"M29.4284 10.5717C29.7755 10.9189 29.7755 11.4817 29.4284 11.8288L11.8293 29.4279C11.4822 29.7751 10.9194 29.7751 10.5722 29.4279C10.2251 29.0808 10.2251 28.518 10.5722 28.1708L28.1713 10.5717C28.5185 10.2246 29.0813 10.2246 29.4284 10.5717Z",fill:x(u.icon)}),(0,s.jsx)("path",{d:"M10.5729 10.5718C10.92 10.2246 11.4828 10.2246 11.83 10.5718L29.4291 28.1709C29.7762 28.518 29.7762 29.0808 29.4291 29.4279C29.0819 29.7751 28.5191 29.7751 28.172 29.4279L10.5729 11.8288C10.2258 11.4817 10.2258 10.9189 10.5729 10.5718Z",fill:x(u.icon)})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_7376_774364",children:(0,s.jsx)("rect",{width:"26.6667",height:"26.6667",fill:"white",transform:"translate(6.66699 6.6665)"})})})]})}function b(){return(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,s.jsx)("g",{clipPath:"url(#clip0_7376_774366)",children:(0,s.jsx)("path",{d:"M13.333 7.49951H26.667C28.0474 7.49969 29.1668 8.61906 29.167 9.99951V29.5815C29.167 30.3037 28.3103 30.6848 27.7744 30.2007L21.1172 24.187C20.4827 23.6139 19.5173 23.6139 18.8828 24.187L12.2256 30.2007C11.6897 30.6848 10.833 30.3037 10.833 29.5815V9.99951C10.8332 8.61906 11.9526 7.49969 13.333 7.49951Z",stroke:x(u.icon),strokeWidth:"1.66667"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_7376_774366",children:(0,s.jsx)("rect",{width:"26.6667",height:"26.6667",fill:x(u.bg),transform:"translate(6.66699 6.6665)"})})})]})}function w(){return(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,s.jsx)("mask",{id:"path-1-inside-1_7376_774367",fill:"white",children:(0,s.jsx)("path",{d:"M20 6.6665C27.3636 6.6665 33.3327 12.6359 33.333 19.9995C33.333 27.3633 27.3638 33.3335 20 33.3335C17.6248 33.3335 15.3954 32.7111 13.4639 31.6226L8.99609 33.1128C7.69316 33.5471 6.45339 32.3073 6.8877 31.0044L8.37695 26.5347C7.28885 24.6034 6.66699 22.3741 6.66699 19.9995C6.66726 12.6359 12.6364 6.6665 20 6.6665Z"})}),(0,s.jsx)("path",{d:"M20 6.6665L20 4.99984H20V6.6665ZM33.333 19.9995L34.9997 19.9995L34.9997 19.9995L33.333 19.9995ZM20 33.3335L20 35.0002H20L20 33.3335ZM13.4639 31.6226L14.2822 30.1706L13.638 29.8076L12.9365 30.0415L13.4639 31.6226ZM8.99609 33.1128L9.52314 34.6939L9.52345 34.6938L8.99609 33.1128ZM6.8877 31.0044L8.46883 31.5314L8.4689 31.5312L6.8877 31.0044ZM8.37695 26.5347L9.95816 27.0615L10.1918 26.3604L9.829 25.7165L8.37695 26.5347ZM6.66699 19.9995L5.00033 19.9995V19.9995H6.66699ZM20 6.6665L20 8.33317C26.4431 8.33317 31.6661 13.5564 31.6663 19.9996L33.333 19.9995L34.9997 19.9995C34.9994 11.7155 28.2842 4.99984 20 4.99984L20 6.6665ZM33.333 19.9995H31.6663C31.6663 26.443 26.4432 31.6668 20 31.6668L20 33.3335L20 35.0002C28.2844 35.0002 34.9997 28.2836 34.9997 19.9995H33.333ZM20 33.3335V31.6668C17.9196 31.6668 15.9711 31.1224 14.2822 30.1706L13.4639 31.6226L12.6456 33.0745C14.8197 34.2998 17.33 35.0002 20 35.0002V33.3335ZM13.4639 31.6226L12.9365 30.0415L8.46874 31.5318L8.99609 33.1128L9.52345 34.6938L13.9912 33.2036L13.4639 31.6226ZM8.99609 33.1128L8.46905 31.5317L8.46883 31.5314L6.8877 31.0044L5.30656 30.4773C4.43794 33.0832 6.91728 35.5626 9.52314 34.6939L8.99609 33.1128ZM6.8877 31.0044L8.4689 31.5312L9.95816 27.0615L8.37695 26.5347L6.79575 26.0078L5.30649 30.4776L6.8877 31.0044ZM8.37695 26.5347L9.829 25.7165C8.87765 24.028 8.33366 22.0796 8.33366 19.9995H6.66699H5.00033C5.00033 22.6687 5.70006 25.1789 6.9249 27.3528L8.37695 26.5347ZM6.66699 19.9995L8.33366 19.9996C8.33389 13.5564 13.5569 8.33317 20 8.33317V6.6665V4.99984C11.7158 4.99984 5.00062 11.7155 5.00033 19.9995L6.66699 19.9995Z",fill:x(u.icon),mask:"url(#path-1-inside-1_7376_774367)"})]})}function L(){return(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:(0,s.jsx)("path",{d:"M20.3008 8.3374C26.6049 8.49711 31.666 13.6578 31.666 20.0005L31.6621 20.3013C31.5022 26.6052 26.3424 31.6663 20 31.6665L19.6982 31.6626C13.4947 31.5049 8.49424 26.5049 8.33691 20.3013L8.33301 20.0005C8.33301 13.5574 13.557 8.33385 20 8.3335L20.3008 8.3374ZM20 10.0005C14.4775 10.0008 10 14.4779 10 20.0005C10.0004 25.5228 14.4777 30.0001 20 30.0005C25.5225 30.0003 29.9996 25.5229 30 20.0005C30 14.4777 25.5227 10.0007 20 10.0005ZM25.3779 21.6733C25.622 21.7048 25.842 21.8433 25.9756 22.0542C26.1282 22.2957 26.1468 22.5989 26.0244 22.8569C24.9887 25.0369 22.8027 26.5682 20.248 26.6616L20 26.6655C17.4227 26.6654 15.1891 25.203 14.0801 23.0659L13.9756 22.8569C13.8533 22.5989 13.8719 22.2956 14.0244 22.0542C14.1771 21.8129 14.443 21.6666 14.7285 21.6665H25.2715L25.3779 21.6733ZM16.2744 23.3325C17.1903 24.3557 18.5203 24.9994 20 24.9995L20.3701 24.9858C21.7008 24.8885 22.8867 24.2697 23.7256 23.3325H16.2744ZM16.667 14.9995C17.5873 14.9997 18.3329 15.7462 18.333 16.6665C18.333 17.5869 17.5873 18.3333 16.667 18.3335C15.7465 18.3335 15 17.587 15 16.6665C15.0001 15.7461 15.7466 14.9995 16.667 14.9995ZM23.333 14.9995C24.2534 14.9995 24.9999 15.7461 25 16.6665C25 17.587 24.2535 18.3335 23.333 18.3335C22.4127 18.3333 21.667 17.5869 21.667 16.6665C21.6671 15.7462 22.4127 14.9997 23.333 14.9995Z",fill:x(u.icon)})})}function E(){return(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:(0,s.jsx)("path",{d:"M21.3291 11.0493C23.8048 8.61828 27.7764 8.54181 30.3457 10.8208L30.5898 11.0493C33.0574 13.4725 33.1348 17.348 30.8213 19.8618L30.5898 20.1001L20 30.4976L9.41113 20.1001C6.86394 17.5989 6.86394 13.5505 9.41113 11.0493C11.8869 8.61826 15.8585 8.54168 18.4277 10.8208L18.6719 11.0493L19.416 11.7808L20 12.354L20.584 11.7808L21.3291 11.0493Z",stroke:x(u.icon),strokeWidth:"1.66667"})})}function _(){return(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:(0,s.jsx)("path",{d:"M19.0352 5.30728C19.6528 4.86836 20.4988 4.89969 21.084 5.40103L32.751 15.401C33.1204 15.7177 33.333 16.1801 33.333 16.6667V31.6667C33.3328 32.587 32.5864 33.3336 31.666 33.3336H25C24.0798 33.3335 23.3332 32.5869 23.333 31.6667V21.6667H16.666V31.6667C16.6658 32.5869 15.9202 33.3335 15 33.3336H8.33301C7.41279 33.3335 6.66619 32.5869 6.66602 31.6667V16.6667C6.66602 16.1803 6.8789 15.7177 7.24805 15.401L18.915 5.40103L19.0352 5.30728ZM8.33301 16.6667V31.6667H15V19.9997H25V31.6667H31.666V16.6667L20 6.66666L8.33301 16.6667Z",fill:x(u.icon)})})}function S(){return(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.5131 13.2457C30.8458 15.1227 31.5882 17.3443 31.6611 19.6277C31.6648 19.7453 31.6668 19.863 31.667 19.9809C31.667 19.9873 31.6671 19.9936 31.6672 19.9998C31.6672 21.8408 30.1747 23.3332 28.3337 23.3332C27.3381 23.3332 26.4445 22.8967 25.8337 22.2047V14.9998C25.8337 14.5396 25.4606 14.1665 25.0003 14.1665C24.5401 14.1665 24.167 14.5396 24.167 14.9998V15.9174C23.1082 14.8369 21.6326 14.1665 20.0003 14.1665C16.7787 14.1665 14.167 16.7782 14.167 19.9998C14.167 23.2215 16.7787 25.8332 20.0003 25.8332C21.9338 25.8332 23.6476 24.8925 24.709 23.4439C25.6199 24.4023 26.907 24.9998 28.3337 24.9998C31.0475 24.9998 33.2563 22.8379 33.3317 20.1424C33.3327 20.1275 33.3332 20.1125 33.3333 20.0973C33.3335 20.0729 33.3336 20.0485 33.3337 20.0241C33.3337 20.016 33.3337 20.0079 33.3337 19.9998C33.3337 19.9927 33.3337 19.9855 33.3337 19.9783C33.3293 17.2275 32.4736 14.5365 30.8721 12.2808C29.0862 9.76561 26.4835 7.9474 23.5074 7.13601C20.5313 6.32463 17.3659 6.57028 14.5506 7.8311C11.7353 9.09192 9.44429 11.2899 8.06788 14.0505C6.69148 16.8112 6.31487 19.9637 7.00223 22.9708C7.68958 25.978 9.39837 28.6538 11.8374 30.5424C14.2765 32.4309 17.2949 33.4153 20.3784 33.3278C23.1437 33.2494 25.8078 32.3133 28.0073 30.6613C28.039 30.6375 28.0707 30.6135 28.1022 30.5894C28.4677 30.3097 28.503 29.7811 28.2011 29.4337C27.9222 29.1129 27.4532 29.0593 27.0933 29.2708C27.0781 29.2797 27.063 29.2891 27.0482 29.299C27.0341 29.3085 27.0201 29.3183 27.0064 29.3286C25.0818 30.7741 22.7507 31.5932 20.3312 31.6618C17.6331 31.7384 14.992 30.877 12.8578 29.2246C10.7236 27.5721 9.22843 25.2307 8.62699 22.5995C8.02556 19.9682 8.35509 17.2098 9.55944 14.7942C10.7638 12.3786 12.7684 10.4554 15.2318 9.35219C17.6952 8.24897 20.4649 8.03403 23.069 8.74399C25.6731 9.45395 27.9505 11.0449 29.5131 13.2457ZM24.167 19.9998C24.167 22.301 22.3015 24.1665 20.0003 24.1665C17.6992 24.1665 15.8337 22.301 15.8337 19.9998C15.8337 17.6987 17.6992 15.8332 20.0003 15.8332C22.3015 15.8332 24.167 17.6987 24.167 19.9998Z",fill:x(u.icon)})})}function M(){return(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:(0,s.jsx)("path",{d:"M20 6.6665C12.6364 6.6665 6.66699 12.6358 6.66699 19.9998C6.66699 27.3639 12.6364 33.3332 20 33.3332C27.3637 33.3332 33.3337 27.3639 33.3337 19.9998C33.3337 12.6358 27.3637 6.6665 20 6.6665ZM20 8.33317C26.4431 8.33317 31.667 13.5564 31.667 19.9998C31.667 22.8207 30.5955 25.3998 28.8223 27.3332C27.6031 25.1332 25.3337 23.6665 22.7087 23.4332C24.3753 22.4998 25.4837 20.7332 25.4837 18.7498C25.4837 15.7498 23.0003 13.3332 20.0003 13.3332C17.0003 13.3332 14.517 15.7498 14.517 18.7498C14.517 20.7332 15.6253 22.4998 17.292 23.4332C14.667 23.6665 12.3976 25.1332 11.1784 27.3332C9.40521 25.3998 8.33366 22.8207 8.33366 19.9998C8.33366 13.5564 13.5569 8.33317 20 8.33317ZM16.1837 18.7498C16.1837 16.6665 17.9003 14.9998 20.0003 14.9998C22.1003 14.9998 23.817 16.6665 23.817 18.7498C23.817 20.8332 22.1003 22.4998 20.0003 22.4998C17.9003 22.4998 16.1837 20.8332 16.1837 18.7498ZM12.9587 28.6665C13.9587 26.1665 16.7503 24.1665 20.0003 24.1665C23.2503 24.1665 26.042 26.1665 27.042 28.6665C24.9587 30.4998 22.6003 31.6665 20 31.6665C17.3997 31.6665 15.042 30.4998 12.9587 28.6665Z",fill:x(u.icon)})})}},126968:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(104076),n=i(224781);function r({selectedValue:e,value:t,IconComponent:i,text:r}){let l=(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xl56j7k x1cmmqis",children:[(0,s.jsx)(i,{...{0:{className:"xvkybfu"},1:{className:"x52n8ys"}}[!(e!==t)<<0],style:e===t?{}:{"--color-icon":"var(--color-icon-secondary)"}}),r]});return(0,s.jsx)(n.RT,{value:t,label:l,htmlAttributes:{"data-testid":`segmented-control-${t}`}})}i(120440)},429033:(e,t,i)=>{i.d(t,{m:()=>h});var s=i(651234),n=i(266808),r=i(170627),l=i(134873),a=i(354114),o=i(211862),c=i(592726),d=i(410915),x=i(234429),u=i(963433),p=i(580276);function h(){let e=(0,o.q5)(),t=e?.key,i=(0,c.iZ)(),h=e?.trackTags,f=h?.isDuplicatedFromSupabaseConnectedFile,g=f?.status==="loaded"&&f.data,{codeLibraryInstance:m}=(0,u.oA)(),y=(0,d.EI)(m)||[];(0,p.p3)()&&t&&m&&(async()=>{let e=await (0,l.qV)(t),o=y.some(t=>{if(t.type!==n.K$p.SYSTEM_MESSAGE)return!1;let i=(0,s.U1)(t.textContent);return i?.type==="duplicated_file"&&i.fileKeyHash===e});if(g&&!o&&e&&i){let t=(0,x.IO)(i,e);r.Hq.ai("add-duplicated-file-system-message",()=>{m.chatMessages=[...y,t],a.Y5.commit()})}})()}}}]);

//# debugId=adeaa960-03e9-5999-a74a-96beaecd5a07

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/9ce19d3fb6ff64214b4b0c6ff8d7dc6b9a2b97df/1389-2ffdf50f99873d1e.min.js.map