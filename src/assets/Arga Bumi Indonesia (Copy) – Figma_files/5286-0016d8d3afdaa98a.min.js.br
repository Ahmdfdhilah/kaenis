"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a8006ee6-85c6-512c-bede-e0dff9cefd61")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5286,8046],{601757:(e,t,n)=>{n.d(t,{DP:()=>o,SO:()=>s,nR:()=>d,nU:()=>l,qz:()=>i,t7:()=>a,un:()=>r});let i="cooper_search--modalSearchBarContainer--yASPt",a="cooper_search--modalSearchBar--iCnsL",r="cooper_search--modalSearchBarIcon--5Q4Hx",s="cooper_search--leftRailSearchBarContainer--KdlgB",o="cooper_search--leftRailSearchBar--GhE2N",l="cooper_search--leftRailSearchBarBorder--0qc57",d="cooper_search--leftRailSearchBarClearSearchContainer---iBmh"},421334:(e,t,n)=>{n.d(t,{DD:()=>o,HV:()=>p,KB:()=>s,O:()=>l,Q$:()=>a,QF:()=>c,Vh:()=>m,b:()=>u,g4:()=>d,gn:()=>i,jI:()=>r});let i="component_browser_window--titleContainer--NLx3R",a="component_browser_window--titleBarRight--UKlFA",r="component_browser_window--gitHubSettingsButton--Kydpi",s="component_browser_window--footerPossibleMatches---kxuT",o="component_browser_window--title--UxCyv",l="component_browser_window--componentsListContainer--bhjOJ",d="component_browser_window--loadingContainer--P52rw",c="component_browser_window--breadcrumb--pNDmI",u="component_browser_window--breadcrumbText--v3nme",p="component_browser_window--last--7xYos",m="component_browser_window--breadcrumbSeparator--l24-h"},144638:(e,t,n)=>{n.d(t,{DD:()=>r,HS:()=>l,Jm:()=>o,N$:()=>c,P_:()=>s,Ps:()=>d,UD:()=>i,XQ:()=>m,XV:()=>p,u1:()=>u,zr:()=>a});let i="blocking_modal--buttonContainer--HB2rf",a="blocking_modal--secondaryButton--cteqp",r="blocking_modal--title--3q8JO text--fontPos20--Bcz97 text--_fontBase--QdLsd",s="blocking_modal--textContent--MSbvo text--fontPos13--xW8hS text--_fontBase--QdLsd",o="blocking_modal--buttonLabel--92cjn",l="blocking_modal--adminText--0BndN",d="blocking_modal--teamName--wZ8Ft",c="blocking_modal--upsellListItem--d8NVb text--fontPos13--xW8hS text--_fontBase--QdLsd",u="blocking_modal--spinner--9vJT2",p="blocking_modal--topBar--xhJxw",m="blocking_modal--devHandoffIcon--PFq6G"},680675:(e,t,n)=>{n.d(t,{$s:()=>l,IP:()=>r,Lx:()=>c,R9:()=>o,RL:()=>s,UD:()=>d,ZS:()=>a,hQ:()=>i,xn:()=>u});let i="figjam_onboarding_make_something--contentContainer--gVph-",a="figjam_onboarding_make_something--imageContainer--RoSk9",r="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",s="figjam_onboarding_make_something--tooltipBodyXSmall--sONX7",o="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",l="figjam_onboarding_make_something--tooltipBodyLarge--jkc-5",d="figjam_onboarding_make_something--buttonContainer--78iSl",c="figjam_onboarding_make_something--skipButtonPosition--Rzzb8",u="figjam_onboarding_make_something--standaloneModal--Ksh8z"},522215:(e,t,n)=>{n.d(t,{AX:()=>T,D6:()=>P,Dw:()=>k,Fn:()=>d,G$:()=>r,Gu:()=>S,HR:()=>y,Jo:()=>b,N6:()=>U,Nf:()=>R,PP:()=>o,QF:()=>N,Rt:()=>i,S:()=>W,Sq:()=>c,T:()=>L,V3:()=>f,VQ:()=>A,Vz:()=>B,Wv:()=>l,Xt:()=>x,Z9:()=>u,_E:()=>H,_M:()=>C,_P:()=>v,bB:()=>h,c1:()=>M,du:()=>j,dz:()=>Z,eO:()=>K,ei:()=>p,fp:()=>F,fz:()=>O,hY:()=>w,hs:()=>z,kQ:()=>V,of:()=>D,qp:()=>E,r9:()=>_,rB:()=>G,rX:()=>I,sb:()=>m,tI:()=>a,v9:()=>s,wH:()=>g});let i="canvas_search--searchInput--aCP6B canvas_search--input--aPqLZ",a="canvas_search--searchInputSingleLine--DUHFr",r="canvas_search--searchSidebarContainer--1tcxd",s="canvas_search--icon32--bmz-L",o="canvas_search--searchBarContainer--rxvLi",l="canvas_search--searchBarRow--9aFwa",d="canvas_search--leftRailSearchBarRow--hC5z6",c="canvas_search--leftRailReplaceRow--hjGAr",u="canvas_search--searchIconAndInput--3tdWb",p="canvas_search--searchIconPlaceholderFill--MohCt",m="canvas_search--resultsContainer--b0olz",h="canvas_search--resultsList--Hciv7",f="canvas_search--layerIcon--RpNZF",g="canvas_search--selected--Ng41y",_="canvas_search--disabled--dMwG7",x="canvas_search--indirectlySelected--2E-TI",y="canvas_search--symbol--614fP",v="canvas_search--layerIconContainer--IuQxq",b="canvas_search--resultInfoHeader--GM1gm",C="canvas_search--resultInfo--PKQiZ",E="canvas_search--resultsText--ubMAu",j="canvas_search--resultsFooterText--rPxEh",w="canvas_search--dotDivider--zvIFp",T="canvas_search--resultRow--xX8wI",k="canvas_search--isHoverSelecting--LlQSE",I="canvas_search--singletonHoverSelected--pCLSM",S="canvas_search--resultSubheading--XCt-Z",N="canvas_search--offlineIconContainer--qVbhY",A="canvas_search--offlineIcon--F0sbc",L="canvas_search--hoverSelectedTop--mA-fk canvas_search--_hoverSelectedBase--JOTSs",O="canvas_search--hoverSelectedMiddle--OBw7k canvas_search--_hoverSelectedBase--JOTSs",R="canvas_search--hoverSelectedBottom--zH7Va canvas_search--_hoverSelectedBase--JOTSs",P="canvas_search--resultText--RXqeC",M="canvas_search--multiline--1gb-l",D="canvas_search--strikethrough--0xsma",F="canvas_search--otherResults--G94fM",B="canvas_search--searchScopeButton--Grrvz",U="canvas_search--replaceInput--TmEDS canvas_search--searchBarRow--9aFwa canvas_search--input--aPqLZ",H="canvas_search--replaceButtons--1sbwP",V="canvas_search--collapsableHeaderToggle--kHXh8",G="canvas_search--collapsableHeaderName---qij5",z="canvas_search--collapsableHeaderCount---NL3l",K="canvas_search--expandIcon--6eieV",W="canvas_search--loadingSpinner--Y5hDC",Z="canvas_search--loadingSpinnerDelay--Rk3MX"},771855:(e,t,n)=>{n.d(t,{H9:()=>a,JE:()=>d,VS:()=>o,WP:()=>c,_0:()=>u,ed:()=>r,oZ:()=>l,t1:()=>s,wV:()=>i});let i="canvas_search_settings--optionRow--KS01b",a="canvas_search_settings--optionIcon---0QYX",r="canvas_search_settings--optionLabel--Ygpmi",s="canvas_search_settings--optionCount--BzzTP",o="canvas_search_settings--filterPills--tbdih",l="canvas_search_settings--filterPillsLeftRail--xtS-2",d="canvas_search_settings--filterPillsShort--GX-Rn",c="canvas_search_settings--filterPillFpl--qqnVV canvas_search_settings--filterPill--hjIaF",u="canvas_search_settings--pillRemoveFpl--Q6M31"},48251:(e,t,n)=>{n.d(t,{$U:()=>C,Fo:()=>b,K3:()=>d,PE:()=>f,Q:()=>h,Rj:()=>r,T_:()=>i,U2:()=>g,VW:()=>l,WV:()=>m,Zk:()=>u,ed:()=>c,g1:()=>y,hs:()=>x,jk:()=>a,oX:()=>s,r2:()=>v,rF:()=>E,so:()=>p,uR:()=>_,z$:()=>o});let i="on_canvas_name_editor--containerOnLight--6zUKs",a="on_canvas_name_editor--measurer--KTnSp",r="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V",s="on_canvas_name_editor--canvasGridRowNameInput--NtMKm on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V",o="on_canvas_name_editor--varWidthSizeInput--34tdd sf_pro--uiFontWithSFProFallback--m-p9V",l="on_canvas_name_editor--flowStartingPointNameContainer--JdVwd",d="on_canvas_name_editor--flowStartingPointNameInput--lLEZF",c="on_canvas_name_editor--sectionNameContainer--D8aez",u="on_canvas_name_editor--sectionNameInput--MgIUi",p="on_canvas_name_editor--sectionMeasurer--kfBij",m="on_canvas_name_editor--varWidthSizeContainer--GP30J",h="on_canvas_name_editor--measurementFreeTextInput--gJle8 sf_pro--uiFontWithSFProFallback--m-p9V",f="on_canvas_name_editor--gridTrackSizeInput--TX2Zz sf_pro--uiFontWithSFProFallback--m-p9V",g="on_canvas_name_editor--gridTrackSizeComboboxInput--BR3nH sf_pro--uiFontWithSFProFallback--m-p9V",_="on_canvas_name_editor--gridTrackSizeComboboxTrigger--x3YF2",x="on_canvas_name_editor--gridTrackSizeComboboxContainer--XhG0G",y="on_canvas_name_editor--gridTrackSizeComboboxPopupList--VszDC",v="on_canvas_name_editor--gridTrackSizeComboboxOption--txB7m",b="on_canvas_name_editor--gridTrackSizeComboboxOptionInner--hHnK8",C="on_canvas_name_editor--gridTrackSizeComboboxOptionInnerActive--iBPBQ",E="on_canvas_name_editor--gridTrackSizeComboboxOptionCheck--HHUoo"},961125:(e,t,n)=>{n.d(t,{$A:()=>i,kL:()=>a,to:()=>r});let i="40px",a="header_container--container--aPIhG",r="header_container--withShadow---XYxm"},639853:(e,t,n)=>{n.d(t,{As:()=>p,Dq:()=>c,KE:()=>x,Nr:()=>T,Nz:()=>g,Pl:()=>h,R:()=>_,Sp:()=>i,VC:()=>v,VQ:()=>k,YW:()=>y,aY:()=>r,ge:()=>E,hi:()=>b,iB:()=>u,jE:()=>w,jG:()=>C,l$:()=>a,mB:()=>j,n6:()=>s,oG:()=>l,q8:()=>I,sR:()=>f,sl:()=>m,vu:()=>o,wH:()=>d});let i="legacy_pages_panel--pageChangesCount--ZvU4X",a="legacy_pages_panel--pagesList--20gAo",r="legacy_pages_panel--pendingPagesList--Kqq9Y legacy_pages_panel--pagesList--20gAo",s="legacy_pages_panel--pageIcon--2SeMV",o="legacy_pages_panel--active--4gxmS",l="legacy_pages_panel--pageRow--RXLs9 legacy_pages_panel--pageRowBase--2BLqh",d="legacy_pages_panel--selected--ZWcge",c="legacy_pages_panel--hoverByMouse--QLchE",u="legacy_pages_panel--hoverState--Jq0dh",p="legacy_pages_panel--pageRowButton--ZYdDc",m="legacy_pages_panel--pageRowActive--wbZe-",h="legacy_pages_panel--activePageBrand--X-F3Y",f="legacy_pages_panel--pageRowActiveUI2--Lwdqd",g="legacy_pages_panel--renameableNode--JPw8y",_="legacy_pages_panel--renameableNodeWithMoreActions--DgAAZ legacy_pages_panel--renameableNode--JPw8y",x="legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",y="legacy_pages_panel--disabledNodeText--2HBBi legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",v="legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",b="legacy_pages_panel--renameableNodeTextEndDisabled--fFOaW legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",C="legacy_pages_panel--scrollContainer--YR8Lw",E="legacy_pages_panel--leftPanelWidth--fUkeU",j="legacy_pages_panel--pageRowDividerContainer--eWfpW legacy_pages_panel--pageRowBase--2BLqh",w="legacy_pages_panel--pageRowDivider--0c9dh",T="legacy_pages_panel--offlineContainer--zrR3y",k="legacy_pages_panel--offlineIcon--sLbbs",I="legacy_pages_panel--pageRowRight--N3-uE"},629592:(e,t,n)=>{n.d(t,{Co:()=>o,II:()=>a,Rm:()=>i,W:()=>s,dK:()=>r});let i="ui3_header_row--toggleButton--hYOqV",a="ui3_header_row--pageExpandToggle--jZKwE",r="ui3_header_row--isHidden--IIOWY",s="ui3_header_row--pageTitle--N3-To ellipsis--ellipsis--Tjyfa",o="ui3_header_row--searchButtonContainer--U--jv"},787010:(e,t,n)=>{n.d(t,{D6:()=>a,kF:()=>i});let i="asset_description_lexical_editor--contentEditableReadOnly--BlHWQ asset_description_lexical_editor--contentEditableBase--nTcyo",a="asset_description_lexical_editor--contentEditableCollapsed--H601A asset_description_lexical_editor--contentEditableReadOnly--BlHWQ asset_description_lexical_editor--contentEditableBase--nTcyo"},488748:(e,t,n)=>{n.d(t,{Df:()=>s,RK:()=>a,UZ:()=>o,ai:()=>r,jK:()=>i});let i="layer_panel--blendMode--ze-EB",a="layer_panel--visible--O8HLY",r="layer_panel--chevron--UUQ0D",s="layer_panel--blendModeInput--46kUO",o="layer_panel--variableSetModeInput--SQzwi"},699745:(e,t,n)=>{n.d(t,{BK:()=>C,C7:()=>s,EI:()=>r,Ge:()=>p,K$:()=>d,Km:()=>v,MT:()=>w,Vr:()=>b,XE:()=>u,_L:()=>o,ai:()=>E,hg:()=>y,me:()=>g,qb:()=>c,r9:()=>a,rR:()=>i,wH:()=>h,ws:()=>l,yo:()=>f,yx:()=>m,zK:()=>j,zW:()=>_,zk:()=>x});let i="multiplayer_view--onboardingTarget--Ja9Ak",a="multiplayer_view--disabled--K9QcN",r="multiplayer_view--usersContainer--bzaNI",s="multiplayer_view--userIconView--XlLWC",o="multiplayer_view--userIconViewHorizontal--CRVT- multiplayer_view--userIconView--XlLWC",l="multiplayer_view--userIconAvatar--qt4Vz",d="multiplayer_view--userIconAvatarLoading--s5PPI",c="multiplayer_view--normal--xHQOT",u="multiplayer_view--avatarWithCollaborationToolsContainer--7lq5U",p="multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",m="multiplayer_view--fullHeightSidebarAvatarWithToolsOverridesWithOverflow--hExNS multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",h="multiplayer_view--selected--PrEy3",f="multiplayer_view--hovered--X1V8M",g="multiplayer_view--separator--d7XC2",_="multiplayer_view--separatorContainer--3NXhc",x="multiplayer_view--multiplayerUserCount--VN79F",y="multiplayer_view--fileSeenStateSubtitle--xTYdr",v="multiplayer_view--avatarWithGroupActionsTightened---blv6",b="multiplayer_view--groupActions--C2jLX",C="multiplayer_view--presenterButtonAction--7CCnt",E="multiplayer_view--chevron--Vn-C1",j="multiplayer_view--ui3SearchContainerNew--brZ7S",w="multiplayer_view--searchContainer--q6zE8"},770158:(e,t,n)=>{n.d(t,{Cb:()=>a,M4:()=>s,Q$:()=>r,Q0:()=>d,_d:()=>u,iZ:()=>l,k9:()=>o,mT:()=>c,qW:()=>i});let i="inline_preview_device_frames--previewDeviceContainer--fNvYG",a="inline_preview_device_frames--fillGapsBetweenDeviceAndIframe--DuNNK",r="inline_preview_device_frames--hideCornersForOverlyRoundedDevice--Rn1BM",s="inline_preview_device_frames--previewDeviceImage--pSzed",o="inline_preview_device_frames--previewDeviceHeader--KHpCv",l="inline_preview_device_frames--deviceFrameHitTargetSvg--w7930",d="inline_preview_device_frames--rotatedHorizontal--5yjwl",c="inline_preview_device_frames--positionRotatedHorizontalDeviceFrame--mPJzu",u="inline_preview_device_frames--positionRotatedHorizontalDeviceFrameHitTarget--zmylC"},560823:(e,t,n)=>{n.d(t,{AL:()=>E,BI:()=>h,Cu:()=>x,DL:()=>c,FH:()=>C,Fp:()=>i,G7:()=>g,Hl:()=>r,L8:()=>w,LH:()=>y,Lk:()=>k,MO:()=>m,Nn:()=>j,Sh:()=>a,TV:()=>u,UD:()=>_,Xg:()=>S,YM:()=>b,e6:()=>p,ev:()=>v,fJ:()=>N,j7:()=>s,ko:()=>l,nP:()=>o,tE:()=>I,vO:()=>d,yH:()=>f,zO:()=>T});let i="voice_users--voiceParticipantAvatar--7mhMG",a="voice_users--importantFlex--x3rdy",r="voice_users--overflowRow--dyDR2",s="voice_users--nameAndSuffixContainer--GGoKj",o="voice_users--flexContainer--bWLmT",l="voice_users--flexLeftContainer--EVDRS",d="voice_users--flexRightContainer--Su6EL",c="voice_users--voiceParticipantName--MPxav text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",u="voice_users--voiceParticipantNameGreyedOut--4zNHd text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="voice_users--participantStatus--cnVtZ",m="voice_users--participantRow--D4Yar",h="voice_users--hoverable--tq5aE",f="voice_users--containsCursor--Wx6C4",g="voice_users--secondaryMenuIconButtonContainer--aAh8o",_="voice_users--showSecondaryDropdownOnHover--AWGE6",x="voice_users--currentUserHeaderRow--Jiv6z",y="voice_users--multiplayerUserView--7nAcD",v="voice_users--voiceUsersWrapper--83FhS",b="voice_users--voiceUsersOverflowScrollingContainer--KXSUW",C="voice_users--userSuffixNew--husrg text--fontPos11--2LvXf text--_fontBase--QdLsd",E="voice_users--voiceUserHeadphonesIcon--wLuPW",j="voice_users--mutedContainer--JL7uZ",w="voice_users--cardButton--xv6Tg",T="voice_users--userSuffixNewShowOnHover--awrl4",k="voice_users--cardRootWithHover--EMdKA text--fontPos11--2LvXf text--_fontBase--QdLsd",I="voice_users--cardRootActive--Jw4N- text--fontPos11--2LvXf text--_fontBase--QdLsd",S="voice_users--secondaryActionsMenuButtonNew--M2k36",N="voice_users--showSecondaryMenuButton--W3cqq"},623355:(e,t,n)=>{n.d(t,{QH:()=>l,R3:()=>s,Te:()=>i,WF:()=>d,Wh:()=>o,XF:()=>m,iG:()=>a,iw:()=>p,sl:()=>c,tL:()=>u,zc:()=>r});let i="voice_toolbar--audioButtonInDropdown--lmLzR",a="voice_toolbar--centeredContainer--h6AK-",r="voice_toolbar--iconContainer--LjNP5 voice_toolbar--centeredContainer--h6AK-",s="voice_toolbar--avatarWrapper--t-5vS",o="voice_toolbar--volumeIcon--U-TCI",l="voice_toolbar--audioIconNotJoined---DG1Y",d="voice_toolbar--audioIconUnavailableSpan--H1YdE",c="voice_toolbar--audioIconDisabled--gCpOC",u="voice_toolbar--audioIconMenu--trTHP",p="voice_toolbar--audioIcon--XaW03 voice_toolbar--centeredContainer--h6AK-",m="voice_toolbar--avatarObserveClickTarget--QALFw"},930658:(e,t,n)=>{n.d(t,{EF:()=>h,Jm:()=>a,Rc:()=>m,Vc:()=>f,Wp:()=>i,XV:()=>p,Xu:()=>l,_k:()=>c,f1:()=>s,rT:()=>o,v6:()=>r,z3:()=>d,zm:()=>u});let i="styles-module--accessibilityDropdown--vl6Sz",a="styles-module--tagRow--yYBUE",r="styles-module--tagLabel--Vm1OJ",s="styles-module--tagInput--CYaw2",o="styles-module--labelLabel--XGnK-",l="styles-module--labelInput--93Aid basic_form--textInput--e9Rn5",d="styles-module--cmsText--5DDN2",c="styles-module--inputRowWithIcon--8XfSh",u="styles-module--iconVisibleOnHover--W-hXx",p="styles-module--labelInputRow--kcjQR",m="styles-module--sideText--SWbNy",h="styles-module--optionSideText--5YYIC styles-module--sideText--SWbNy",f="styles-module--ui3ComboBoxInput--0X3PS ellipsis--ellipsis--Tjyfa"},692769:(e,t,n)=>{n.d(t,{Fj:()=>d,GM:()=>u,HE:()=>s,ON:()=>a,Tn:()=>c,Vg:()=>l,eg:()=>m,ij:()=>i,m_:()=>p,me:()=>r,qr:()=>o});let i="slides_template_ui--pickerContainer--a3RMS",a="slides_template_ui--searchBar--jlYPZ",r="slides_template_ui--separator--ptcuN",s="slides_template_ui--headerSeparator--Q3-mT",o="slides_template_ui--footer--4g8kc",l="slides_template_ui--grid--FCSGf",d="slides_template_ui--fileTile--6wu1g",c="slides_template_ui--titleTextContainer--cH2zw",u="slides_template_ui--templateTitleText--lcuqy text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="slides_template_ui--publisherTitleText--9DQpU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m="slides_template_ui--tabButton--R1hl1"},573552:(e,t,n)=>{n.d(t,{$E:()=>g,$I:()=>c,Fu:()=>l,H0:()=>A,HW:()=>h,ON:()=>r,R2:()=>b,SN:()=>P,Tk:()=>L,VL:()=>p,WB:()=>v,WH:()=>u,Wf:()=>s,Y2:()=>_,Z$:()=>M,cx:()=>a,e0:()=>R,et:()=>k,fL:()=>O,g1:()=>o,hD:()=>E,jG:()=>S,kL:()=>i,lO:()=>w,m4:()=>j,nN:()=>m,n_:()=>N,o1:()=>d,oF:()=>y,rs:()=>I,uU:()=>C,vl:()=>x,vq:()=>T,xB:()=>f});let i="shapes_sidebar--container--xAuta",a="shapes_sidebar--shadowContainer--WvEo9",r="shapes_sidebar--searchBar--MubYN",s="shapes_sidebar--sidebarTileGrayScale--xWZIx",o="shapes_sidebar--swtTileSvgContainer--poVFu",l="shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",d="shapes_sidebar--shapesSidebarTileSmall--fkS0G shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",c="shapes_sidebar--lockedShapesSidebarTile--Qlofk shapes_sidebar--shapesSidebarTileBase--OjIj-",u="shapes_sidebar--shapesSidebarLibraryCard--o7xRQ",p="shapes_sidebar--shapesSidebarLibraryCardIcon--4Ezxx",m="shapes_sidebar--shapesSidebarLibraryCardChevron--NzXfj",h="shapes_sidebar--shapesSidebarLibraryCardContent--vekjC",f="shapes_sidebar--shapesSidebarLibraryCardDetail--C1fkj",g="shapes_sidebar--sidebarSwtSvg--LuGXO",_="shapes_sidebar--sidebarSwtSvgSmall--x3KA0",x="shapes_sidebar--connectorSvgSmall--G0OLS",y="shapes_sidebar--mindmapSvgSmall--yXIGT",v="shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",b="shapes_sidebar--selectedShapesSidebarTileSmall--dbzsB shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",C="shapes_sidebar--sectionButton--Dip98",E="shapes_sidebar--connectorSpawnAnimation--RWzF1",j="shapes_sidebar--inlineUpsellContainer--oQyNT",w="shapes_sidebar--sidebarThumbnailSvg--15Iw-",T="shapes_sidebar--shapesSidebarLibraryItemTile--rL5X6 shapes_sidebar--shapesLibraryItemTile--AKDo-",k="shapes_sidebar--shapesInstanceSwapperTile--smcPa shapes_sidebar--shapesLibraryItemTile--AKDo-",I="shapes_sidebar--mainContainer--UBayg",S="shapes_sidebar--scrollContainer--3o1hT",N="shapes_sidebar--virtualLibraryCardSectionHeaderRow--MPOsC shapes_sidebar--virtualTileRowBase--3qhlc",A="shapes_sidebar--fourWideVirtualTileRow--e51ZL shapes_sidebar--virtualTileRowBase--3qhlc",L="shapes_sidebar--fiveWideVirtualTileRow--Qnei- shapes_sidebar--virtualTileRowBase--3qhlc",O="shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",R="shapes_sidebar--virtualUpsellBannerDividerRow--hbdgY shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",P="shapes_sidebar--topSplitPanel--h8FCi",M="shapes_sidebar--splitPanelsContainer--EgyRq"},646011:(e,t,n)=>{n.d(t,{H:()=>i});let i="0.5s"},715858:(e,t,n)=>{n.d(t,{AP:()=>R,DG:()=>M,Hm:()=>D,O7:()=>O,QI:()=>P});var i=n(104076),a=n(716976),r=n(903927),s=n(475477),o=n(962856),l=n(795033);n(120440);var d=n(653899),c=n(837975),u=n(755444),p=n(816565),m=n(192075),h=n(621689),f=n(805800),g=n(147046),_=n(443192),x=n(244205),y=n(373547),v=n(90844),b=n(422872),C=n(863154),E=n(143277),j=n(765516),w=n(116450),T=n(61102),k=n(226492),I=n(909342),S=n(654200),N=n(441030),A=n(382827),L=n(253021);function O(){let e=(0,L.XF)(),{show:t,isShowing:n,complete:d}=(0,b.e)({overlay:N.SAR,priority:E.N.DEFAULT_MODAL}),c=(0,l.Xr)(h.Tw),f=(0,r.wA)(),v=(0,A.EI)(),j=(0,l.md)(C.LZ),T=()=>{f?.(g.sf({view:"recentsAndSharing"}))};(0,a.useEffect)(()=>{e||(t(),c(!1))},[e,c,t]);let k="dark"===(0,y.DP)();return j||!v?null:(0,i.jsx)(w._l,{description:(0,i.jsx)("span",{style:{whiteSpace:"pre-line"},children:(0,i.jsx)("span",{children:(0,m.tx)("cooper.onboarding.from_concept_to_creation_design",{learnMoreLink:(0,i.jsx)(s.N,{newTab:!0,href:"https://help.figma.com/hc/articles/31271566667543",children:(0,m.tx)("cooper.onboarding.learn_more")})})})}),disclaimerFooter:(0,i.jsx)("span",{children:(0,m.tx)("cooper.onboarding.this_beta_is_a_free",{betaTermsLink:(0,i.jsx)(s.N,{newTab:!0,href:"https://www.figma.com/product-specific-terms/",children:(0,m.tx)("cooper.onboarding.figma_beta_terms")})})}),isShowing:n,media:(0,i.jsx)(p.oW,{src:(0,u.ck)(k?"e612d68148023be0522bcd3b3251aaa6bb7c716d":"31fcc873278da276aab06196bdcb7e377d28ab6e"),alt:(0,m.t)("cooper.onboarding.welcome.image_alt"),width:332}),onClose:T,preventUserClose:!0,primaryCta:{type:"button",label:(0,m.tx)("cooper.onboarding.welcome.primary_cta"),onClick:()=>{f?.(_.b({[L.WW]:!0})),d(),c(!0)},ctaTrackingDescriptor:x.c.TRY_IT_OUT},secondaryCta:{type:"button",label:(0,m.tx)("cooper.onboarding.welcome.secondary_cta"),onClick:T,ctaTrackingDescriptor:x.c.CLOSE},title:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1pulhmw",children:[(0,m.tx)("cooper.onboarding.meet_figma_buzz"),(0,i.jsx)("div",{className:"x78zum5 x2lah0s",children:(0,i.jsx)(o.E,{variant:"brandOutline",size:"lg",children:(0,m.tx)("general.beta")})})]}),trackingContextName:"Slides Onboarding > Welcome"})}function R({hasMappings:e}){let{show:t,isShowing:n,complete:r}=(0,b.e)({overlay:N.jk,priority:E.N.DEFAULT_MODAL}),s=(0,f.N)(),o=s.length?s[0]:null;return(0,d.h)(()=>{t()}),(0,a.useEffect)(()=>{e&&r()},[e,r]),n&&!o&&r(),(0,i.jsx)(T.rq,{arrowPosition:S.F_.RIGHT_BODY,description:(0,m.tx)("cooper.onboarding.simply_select_text_or_an",{connectDataBold:(0,i.jsx)("p",{className:"x1xlr1w8",children:(0,m.t)("cooper.onboarding.connect_data_bold")}),spaceChar:(0,i.jsx)(i.Fragment,{children:"\xa0"})}),isCanvasNode:!0,isShowing:n,media:(0,i.jsx)(j.y,{src:(0,u.ck)("3d9047607fffbfc98f0176cecba9d57fad7cac48"),alt:(0,m.t)("cooper.onboarding.bulk_create.image_alt"),aspectRatio:240/135}),onClose:r,onTargetLost:r,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},shouldDisableAnimation:!0,targetKey:o??"",title:(0,m.tx)("cooper.onboarding.select_a_text_or_image"),trackingContextName:"Slides Onboarding > Bulk Create Callout"})}function P(){let{show:e,isShowing:t,complete:n,uniqueId:a}=(0,b.e)({overlay:N.ODB,priority:E.N.DEFAULT_MODAL}),r=(0,f.N)(),s=r.length?r[0]:null;return t&&!s&&n(),(0,v.E)(a,L.qA,()=>{e()}),(0,i.jsx)(T.rq,{arrowPosition:S.F_.RIGHT_BODY,description:(0,m.tx)("cooper.onboarding.internal_templates_let_you_update",{lineBreak:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})}),isCanvasNode:!0,isShowing:t,onClose:n,onTargetLost:n,pointToLeftEdge:!0,pointToTopEdge:!0,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:n,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},shouldDisableAnimation:!0,targetKey:s??"",title:(0,m.tx)("cooper.onboarding.edit_content_unlock_if_needed"),trackingContextName:"Slides Onboarding > Inserted Locked Template"})}function M(){let{show:e,isShowing:t,complete:n,uniqueId:a}=(0,b.e)({overlay:N.QKV,priority:E.N.DEFAULT_MODAL});return(0,v.E)(a,L.Mt,()=>{e()}),(0,i.jsx)(T.rq,{arrowPadding:8,description:(0,m.tx)("cooper.onboarding.templates_help_your_team_stay"),isShowing:t,media:(0,i.jsx)(j.y,{src:(0,u.ck)("7c5445059896c65ae2098087f34d2f35cc5a8b20"),alt:(0,m.t)("cooper.onboarding.overlay_image_alt"),aspectRatio:240/135}),onClose:n,onTargetLost:n,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:n,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},targetKey:L.D9,title:(0,m.tx)("cooper.onboarding.publish_templates_to_your_team"),trackingContextName:"Slides Onboarding > Publishing Overview"})}function D(){let e=(0,A.EI)(),{show:t,isShowing:n,complete:a}=(0,b.e)({overlay:N.njP,priority:E.N.OVERRIDING_MODAL}),s=(0,r.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t&&!!t.sendToBuzzFileKey});return(0,c.R)(()=>t(),[s,e],()=>s&&e),(0,i.jsx)(k.X,{description:(0,m.tx)("cooper.templates.import_from_design.overlay.subtitle"),isShowing:n,media:(0,i.jsx)(p.oW,{className:"xafpxmx x1fb2l0r x2lah0s xgwsg93",src:(0,u.ck)("f154d729096e62f801de754ea07c93c45ffc2565")}),onClose:a,position:I.Q.BOTTOM_RIGHT,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:a,type:"button",ctaTrackingDescriptor:x.c.GOT_IT,trackingProperties:{trackingDescriptor:x.c.GOT_IT}},testId:"buzz-import-from-design-education",title:(0,m.tx)("cooper.templates.import_from_design.overlay.title"),trackingContextName:"Buzz Import From Design Education",width:240})}},701856:(e,t,n)=>{n.d(t,{N:()=>f,e:()=>m});var i=n(104076),a=n(716976),r=n(420680),s=n(121113),o=n(299986);n(120440);var l=n(511570),d=n.n(l),c=n(915459),u=n(192075),p=n(601757);function m({location:e,searchQuery:t,placeholder:n,onChange:a,clearSearch:r,onClose:s,onFocus:o,ariaLabel:l}){return"modal"===e?(0,i.jsx)(h,{searchQuery:t,clearSearch:r,placeholder:n,onChange:a,onClose:s,onFocus:o,ariaLabel:l}):(0,i.jsx)(f,{searchQuery:t,clearSearch:r,placeholder:n,onChange:a,onFocus:o,ariaLabel:l})}function h({searchQuery:e,placeholder:t,onChange:n,clearSearch:a,onClose:l,onFocus:d,ariaLabel:m}){return(0,i.jsxs)("div",{className:p.qz,children:[(0,i.jsx)(c.IW,{ariaLabel:m,className:p.t7,clearSearch:a,customClearSearchIcon:(0,i.jsx)(s.C,{style:{"--color-icon":"var(--color-icon-tertiary)"}}),focusOnMount:!0,iconClassName:p.un,onChange:n,onFocus:d,placeholder:t,query:e,withUI3Icon:!0}),null!=l&&(0,i.jsx)(r.K,{"aria-label":(0,u.t)("common.close"),onClick:l,children:(0,i.jsx)(o.L,{})})]})}function f({searchQuery:e,placeholder:t,onChange:n,clearSearch:r,onFocus:o,ariaLabel:l}){let[u,m]=a.useState(!1);return(0,i.jsx)("div",{className:p.SO,children:(0,i.jsx)(c.IW,{ariaLabel:l,className:d()(p.DP,u&&p.nU),clearSearch:r,customClearSearchContainerClassName:p.nR,customClearSearchIcon:(0,i.jsx)(s.C,{style:{"--color-icon":"var(--color-icon-tertiary)"}}),focusOnMount:!0,iconClassName:{0:{},1:{className:"x180r7m8"}}[!u<<0].className,onBlur:()=>m(!1),onChange:n,onFocus:()=>{m(!0),o?.()},placeholder:t,query:e,smallFont:!0,withUI3Icon:!0})})}},180989:(e,t,n)=>{n.d(t,{$:()=>o,A:()=>r});var i=n(104076);n(120440);var a=n(36767);function r({paint:e}){let t=(0,a.e)(e);return e?(0,i.jsx)("div",{className:"xlup9mm x1kky2od x78zum5 xl56j7k x6s0dn4 x1n2onr6",children:(0,i.jsx)(a.v,{colors:t,paint:e,showTransparentBorder:!0})}):(0,i.jsx)(s,{})}function s(){return(0,i.jsx)("div",{className:"xlup9mm x1kky2od x78zum5 xl56j7k x6s0dn4 x1n2onr6",children:(0,i.jsx)("img",{src:n(630213),alt:"No fill icon",draggable:!1})})}function o(){return(0,i.jsx)("div",{className:"xlup9mm x1kky2od x78zum5 xl56j7k x6s0dn4 x1n2onr6",children:(0,i.jsx)("div",{className:"x6jxa94 x1v9usgg x9f619 xmkeg23 x1y0btm7 x158wl1f x1cum3z5 x78zum5 xl56j7k x6s0dn4",children:(0,i.jsx)("span",{className:"xjm9jq1 x1fsd2vl xdq5r5b x1158fpu"})})})}},255140:(e,t,n)=>{n.d(t,{W:()=>a});var i=n(104076);function a({maxColumns:e=3,children:t}){return(0,i.jsx)("div",{className:"xrvj5dj x883omv xmwckwh xe8ttls",style:{"--icon-button-grid-max-columns":e},children:t})}n(120440)},809828:(e,t,n)=>{n.d(t,{Em:()=>m,JE:()=>p,ar:()=>c});var i=n(104076),a=n(716976),r=n(684742),s=n(602755),o=n(120440),l=n(511570),d=n.n(l);let c=a.forwardRef(function({children:e,showCaret:t,caretStyle:n={},isActive:a,tooltip:o,tooltipType:l,tooltipShowAbove:c=!0,...u},p){return(0,i.jsxs)(r.E,{ref:p,...u,className:d()("menu_button--iconButton--KPBE2 menu_button--baseIconButton--cJj85","menu_button--ghost--PZTUp",{"menu_button--wrapCaret--Gm-cK":!!t,"menu_button--active--AekuE":a}),htmlAttributes:{"data-tooltip":u["aria-disabled"]||u.disabled?void 0:o,"data-tooltip-type":l,"data-tooltip-show-above":!!c||void 0,"data-tooltip-show-below":!c||void 0,"data-tooltip-offset-y":c?-8:8},children:[(0,i.jsx)("span",{"aria-hidden":!0,className:"menu_button--icon--ZpZHz",children:e}),t&&(0,i.jsx)(s.O,{style:n,className:"x11yfylt"})]})}),u=a.forwardRef(function({children:e,iconPrefix:t,iconSuffix:n,styleXStyles:a,...s},l){let{noBorder:d,...c}=s;return(0,i.jsx)(r.E,{ref:l,...c,...o.Ay.props(h.container,a,s["aria-expanded"]?h.container_active:null,s.noBorder?h.container_noBorder:null,t?null:h.containerLeftPaddingWithoutIconPrefix,n?null:h.containerRightPaddingWithoutIconSuffix),children:(0,i.jsxs)("div",{className:"xz16r55 x78zum5 x6s0dn4",children:[t,e,n]})})}),p=a.forwardRef(function(e,t){return(0,i.jsx)(u,{ref:t,...e,styleXStyles:f.dialogTriggerButton})}),m=a.forwardRef(function(e,t){return(0,i.jsx)(u,{ref:t,...e,styleXStyles:g.dialogTriggerButton})}),h={container:{kZKoxP:"xxk0z11",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},container_noBorder:{kMzoRj:"xc342km",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"xng3xce",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},container_active:{kWkggS:"xu5wzci",kVAM5u:"x1fzvlhx",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,$$css:!0},containerLeftPaddingWithoutIconPrefix:{kE3dHu:"x8rdmch",kZCmMZ:null,kwRFfy:null,$$css:!0},containerRightPaddingWithoutIconSuffix:{kpe85a:"xctkrei",kZCmMZ:null,kwRFfy:null,$$css:!0}},f={dialogTriggerButton:{kVAM5u:"x1co876m",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kWkggS:"xon4yw5 xv2f06h x1m5i512",$$css:!0}},g={dialogTriggerButton:{kVAM5u:"x1fzvlhx",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kWkggS:"xu5wzci xazsp2l x1kqa1b1",$$css:!0}}},761500:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(104076);let a=n(716976).forwardRef(function({margin:e,children:t},n){let a=`${e??4}px`;return(0,i.jsx)("div",{ref:n,className:"menu_control_wrapper--container--cxxo8",style:{marginLeft:a,marginRight:a},children:t})})},168544:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(104076),a=n(965815);function r(){return(0,i.jsx)(a.wv,{margin:4})}},675847:(e,t,n)=>{n.d(t,{h:()=>m});var i=n(266808),a=n(795033),r=n(222714),s=n(557276),o=n(581133),l=n(816622),d=n(585481),c=n(968169),u=n(331497),p=n(463470);function m(){let{windowInnerWidth:e}=(0,r.l)(),t=p.C()?.bottomRightToolsNode,n=(0,a.md)(o.S),m=(0,c.dP)(),h=(0,u.ut)(i.Ez5?.interopToolMode(),i.nQ7.SELF),f=(0,l.jw)(),[g]=(0,a.fp)(d.Lk),_=g===d.x.ASSETS&&f&&h===i.nQ7.SELF,x=h===i.nQ7.DESIGN,y=(0,c.qw)(),v=_?s._:m+s._,b=(0,u.ut)(i.Ez5?.uiState().showPropertiesPanel,!1),C=x&&b?y:0;if(t){let i=t.getBoundingClientRect(),a=e-v-C,r=n?.current?.getBoundingClientRect().width||207,s=v+(a-r)/2+r+12-i.left;s>0&&(C+=2*s)}return{leftOffset:v,rightOffset:C}}},21791:(e,t,n)=>{n.d(t,{rN:()=>U,q_:()=>K,VY:()=>H,$k:()=>V,R8:()=>G});var i=n(716976),a=n(903927),r=n(266808),s=n(980852),o=n(795033),l=n(686549),d=n(725837),c=n(703630),u=n(837975),p=n(276800),m=n(246144),h=n(192075),f=n(58212),g=n(638641),_=n(925658),x=n(621689),y=n(668242),v=n(172996),b=n(441513),C=n(171916);let E=b.z.object({key:b.z.string()}).extend({data:v._$}),j=(0,o.E2)("return-to-file-data",null,E.nullable()),w=(0,o.tx)(null),T=(0,o.eU)(e=>{let t=e(w),n=e(j);return n&&n.key===t?n.data:null},(e,t,n)=>{let i=(0,C.MZ)();return t(j,{data:n,key:i}),i});var k=n(470876),I=n(488355),S=n(249586),N=n(764973),A=n(407261),L=n(211862),O=n(248043),R=n(944350),P=n(104836),M=n(299640),D=n(112773),F=n(769887),B=n(382827);function U(e,t,n){let i=o.zl.get(P.Me),a=d.D.getState(),r=(0,N.Kl)(a);e(y.zE({state:r,from:n,editorType:R._Y.COOPER,team:i??void 0,openNewFileIn:M.ai.NEW_TAB,newFileDataLocalStorageKey:t}))}function H({openFile:e,fileVersion:t,returningToFile:n=!1}){if(null===e||null===t){let n="No openFile or file version";throw(0,m.x1)("storeFigmaContentForCooperCreation",n,{fileKey:e?.key,fileVersion:t},{reportAsSentryError:!0}),Error(n)}let i=(0,s.UN)().getDirectlySelectedNodes().length>0?r.Mpt?.getSelectedNodesToSend()??[]:r.Mpt?.getTopLevelFramesToSend()??[];if(0===i.length){let e="Empty target node ids";throw(0,m.x1)("storeFigmaContentForCooperCreation",e,{},{reportAsSentryError:!0}),Error(e)}return o.zl.set(n?T:v.Uf,{fileKey:e.key,fileVersion:t,sourceNodeIds:i})}function V(){let e=(0,a.wA)(),t=z();(0,u.R)(()=>{t&&o.zl.set(w,t)},[t],()=>!!t);let n=(0,o.Xr)(x.Tw),s=(0,o.md)(T),l=(0,o.md)(v.Uf),d=s??l,m=(0,L.tS)(),y=(0,B.EI)(),b=!!d,C=b&&!!m&&y,E=(0,o.Xr)(v.$K),j=(0,o.Xr)(w),N=(0,k.J3)(),A=(0,I.j)()&&(0,k.JU)(N),{openCooperPublishFlow:O}=(0,D.t)(),R=(0,_.l)(A);(0,i.useEffect)(()=>(A&&R&&e(f.F.dequeue({matchType:"send-to-buzz-from-design-success-maybe-publish"})),()=>{e(f.F.dequeue({matchType:"send-to-buzz-from-design-success-maybe-publish"}))}),[e,R,A]),(0,u.R)(()=>{n(!1),e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.copying"),type:"send-to-buzz-from-design-loading",icon:g.zX.SPINNER,timeoutOverride:3e5}))},[e],()=>b);let P=(0,c.H)(i.useCallback(t=>{A?e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.imported_x_assets_and_maybe_publish",{numAssets:t}),timeoutOverride:1/0,type:"send-to-buzz-from-design-success-maybe-publish",button:{text:(0,h.t)("community.publishing.publish"),action:()=>{O("send-to-buzz-from-design-success-bell"),(0,S.Cu)({trackingContext:"SendToBuzzFromDesignSuccessBell",text:(0,h.t)("community.publishing.publish")})}},onDismiss:p.lQ})):e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.imported_x_assets",{numAssets:t}),type:"send-to-buzz-from-design-success",timeoutOverride:3e3}))},[e,A,O]));(0,u.R)(()=>{(async()=>{r.glU?.applyNodesFromBuffer(await F.R({fileKey:d.fileKey,selectedGuids:d.sourceNodeIds}),d.fileKey,d.sourceNodeIds,!1);let t=d.sourceNodeIds.length;E(o.Ut),j(o.Ut),await W(),r.Ez5?.cooperFocusView().exitFocusedNodeView(),await W(),r.Ez5?.cooperFocusView().zoomToGridAndRecenter(.55),e(f.F.dequeue({matchType:"send-to-buzz-from-design-loading"})),P.current(t)})()},[e,d?.fileKey,d?.sourceNodeIds,P],()=>C)}function G(){let e=z(),t=(0,o.md)(v.Uf),n=(0,o.md)(T);return!!t||!!n||!!e}function z(){return(0,a.d4)(e=>{let t=e.selectedView;return"sendToBuzzLocalStorageKey"in t?t.sendToBuzzLocalStorageKey:void 0})}function K(e){try{let t=H({openFile:e.openFile,fileVersion:e.fileVersion,returningToFile:!0}),n=(0,O.jN)({file:{key:e.previousBuzzFileKey,editorType:R._Y.COOPER},allowDefaulting:!0}),i=(0,l.NQ)(n,"send-to-buzz-local-storage-key",t);return(0,A.nz)(i,e.previousBuzzFileKey,e.selectedView,e.dispatch),!0}catch(e){return!1}}async function W(){await new Promise(e=>requestAnimationFrame(()=>{e(!0)}))}},988681:(e,t,n)=>{n.d(t,{N:()=>j,e:()=>E});var i=n(266808),a=n(170627),r=n(980852),s=n(437540),o=n(716976),l=n(903927),d=n(382629),c=n(192075),u=n(58212),p=n(638641),m=n(511295),h=n(275033),f=n(74620),g=n(331497),_=(e=>(e.IDLE="IDLE",e.SELECT_NODE_FOR_COLLECTION_BINDING="SELECT_NODE_FOR_COLLECTION_BINDING",e.HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING="HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING",e.HOVERED_FRAME_FOR_COLLECTION_BINDING="HOVERED_FRAME_FOR_COLLECTION_BINDING",e.COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET="COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET",e.COLLECTION_BINDING_SUCCESS_FRAME="COLLECTION_BINDING_SUCCESS_FRAME",e.SELECT_NODE_FOR_FIELD_BINDING="SELECT_NODE_FOR_FIELD_BINDING",e.HOVERED_NODE_FOR_FIELD_BINDING="HOVERED_NODE_FOR_FIELD_BINDING",e.HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING="HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING",e.FIELD_BINDING_SUCCESS="FIELD_BINDING_SUCCESS",e))(_||{});let x="cms-binding-visual-bell";function y(){let[e,t]=(0,o.useState)(()=>i.Ez5.cmsState().bindingModeState()),n=(0,g.J2)(i.Ez5.cmsState().bindingCollectionId),{type:a,id:r}=(0,g.J2)(i.Ez5.cmsState().bindingFieldSchema)??{};return(0,o.useEffect)(()=>{t(i.Ez5.cmsState().bindingModeState())},[n,a,r]),e}var v=n(428436),b=n(876504),C=n(354114);function E(){return(0,s.R)(e=>e.mirror.appModel.activeCanvasEditModeType===i.m1T.CMS_BINDING_CONSTRAINED)}function j(){let e=i.Ez5?.cmsState(),t=(0,g.ut)(e?.bindingCollectionId,""),n=(0,g.ut)(e?.bindingFieldSchema,{type:"",id:""}),s=E(),_=y(),{data:j}=(0,m.gL)(t||""),w=j?.fieldSchemas??[],T=(0,b.OU)(i.TsU.CMS_CONNECT_MODE);!function(){let e=(0,r.UN)(),t=(0,l.wA)(),n=i.Ez5.cmsState(),a=y(),s=(0,g.J2)(n.bindingCollectionId),_=(0,g.J2)(n.bindingFieldSchema),v=(0,l.d4)(e=>e.mirror.appModel.hoveredNode),b=v?e.get(v):null,C=(0,f.Mw)(),{data:E}=(0,m.gL)(s),{name:j}=E??{},w=_?.id,{name:T,fieldType:k}=E?.fieldSchemas.find(e=>e.stableId===w)??{},I=!!b?.isInstanceSublayer&&b?.type==="TEXT"&&k===h._j.RICH_TEXT;(0,o.useEffect)(()=>()=>{t(u.F.clearAll())},[t]);let{checkTransitions:S}=function(e){let[t,n]=(0,o.useState)(e.initialState),i=(0,o.useRef)(e.transitions),a=(0,o.useRef)(e.states),r=(0,o.useRef)(),s=(0,o.useRef)({});(0,o.useEffect)(()=>{let e=a.current?.[t];e?.onEnter&&(r.current=e.onEnter({currentState:t,setCurrentState:n,dependencies:s.current})||void 0);let i=r.current;return()=>{e?.onExit?.({currentState:t,setCurrentState:n,dependencies:s.current}),i?.(),r.current=void 0}},[t]);let{onTransition:l}=e,d=(0,o.useCallback)((e,t)=>(n(e.to),l?.(t,e.to),!0),[l]);return{currentState:t,setCurrentState:n,isState:e=>t===e,checkTransitions:(0,o.useCallback)(e=>{s.current=e;let n=i.current.filter(e=>Array.isArray(e.from)?e.from.includes(t):e.from===t).find(t=>t.when(e));n&&d(n,t)},[t,d])}}((0,o.useMemo)(()=>({initialState:"IDLE",transitions:[{from:["IDLE","SELECT_NODE_FOR_FIELD_BINDING","HOVERED_NODE_FOR_FIELD_BINDING","FIELD_BINDING_SUCCESS","COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET","COLLECTION_BINDING_SUCCESS_FRAME","HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING"],to:"SELECT_NODE_FOR_COLLECTION_BINDING",when:({cmsBindingState:e,collectionName:t,selectedNode:n})=>!!t&&e===i.KgA.COLLECTION_SELECTED&&!n},{from:["SELECT_NODE_FOR_COLLECTION_BINDING","HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING"],to:"HOVERED_FRAME_FOR_COLLECTION_BINDING",when:({hoveredNode:e,selectedNode:t,collectionName:n,cmsBindingState:a})=>a===i.KgA.COLLECTION_SELECTED&&!!n&&!(0,d.uy)(e)&&"FRAME"===e.type&&(0,d.uy)(t)},{from:["SELECT_NODE_FOR_COLLECTION_BINDING","HOVERED_FRAME_FOR_COLLECTION_BINDING"],to:"HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING",when:({hoveredNode:e,selectedNode:t,collectionName:n,cmsBindingState:a})=>a===i.KgA.COLLECTION_SELECTED&&!!n&&!(0,d.uy)(e)&&"FRAME"!==e.type&&(0,d.uy)(t)},{from:["HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING","HOVERED_FRAME_FOR_COLLECTION_BINDING"],to:"SELECT_NODE_FOR_COLLECTION_BINDING",when:({hoveredNode:e,selectedNode:t,collectionName:n,cmsBindingState:a})=>a===i.KgA.COLLECTION_SELECTED&&!!n&&(0,d.uy)(e)&&!t},{from:["HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING","SELECT_NODE_FOR_COLLECTION_BINDING","HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING"],to:"IDLE",when:({cmsBindingState:e})=>e===i.KgA.IDLE},{from:["HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING","SELECT_NODE_FOR_COLLECTION_BINDING"],to:"COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET",when:({cmsBindingState:e,selectedNode:t,collectionName:n})=>!!n&&e===i.KgA.COLLECTION_SELECTED&&!!t&&"FRAME"!==t.type},{from:["HOVERED_FRAME_FOR_COLLECTION_BINDING","SELECT_NODE_FOR_COLLECTION_BINDING"],to:"COLLECTION_BINDING_SUCCESS_FRAME",when:({cmsBindingState:e,selectedNode:t,collectionName:n})=>!!n&&e===i.KgA.COLLECTION_SELECTED&&!!t&&"FRAME"===t.type},{from:["IDLE","SELECT_NODE_FOR_COLLECTION_BINDING","HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING","HOVERED_FRAME_FOR_COLLECTION_BINDING","FIELD_BINDING_SUCCESS","COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET","COLLECTION_BINDING_SUCCESS_FRAME"],to:"SELECT_NODE_FOR_FIELD_BINDING",when:({cmsBindingState:e,fieldSchemaName:t,selectedNode:n})=>!!t&&e===i.KgA.FIELD_SELECTED&&!n},{from:"SELECT_NODE_FOR_FIELD_BINDING",to:"HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING",when:({hoveredNode:e,selectedNode:t,fieldSchemaName:n,cmsBindingState:a,isHoveredNodeTextInInstanceForRichTextField:r})=>!!n&&a===i.KgA.FIELD_SELECTED&&!(0,d.uy)(e)&&!t&&r},{from:["SELECT_NODE_FOR_FIELD_BINDING","HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING"],to:"HOVERED_NODE_FOR_FIELD_BINDING",when:({hoveredNode:e,selectedNode:t,fieldSchemaName:n,cmsBindingState:a,isHoveredNodeTextInInstanceForRichTextField:r})=>!!n&&a===i.KgA.FIELD_SELECTED&&!(0,d.uy)(e)&&!t&&!r},{from:"HOVERED_NODE_FOR_FIELD_BINDING",to:"HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING",when:({hoveredNode:e,selectedNode:t,fieldSchemaName:n,cmsBindingState:a,isHoveredNodeTextInInstanceForRichTextField:r})=>!!n&&a===i.KgA.FIELD_SELECTED&&!(0,d.uy)(e)&&!t&&r},{from:["HOVERED_NODE_FOR_FIELD_BINDING","HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING"],to:"SELECT_NODE_FOR_FIELD_BINDING",when:({hoveredNode:e,selectedNode:t,fieldSchemaName:n,cmsBindingState:a})=>!!n&&a===i.KgA.FIELD_SELECTED&&(0,d.uy)(e)&&!t},{from:"HOVERED_NODE_FOR_FIELD_BINDING",to:"FIELD_BINDING_SUCCESS",when:({cmsBindingState:e,selectedNode:t,fieldSchemaName:n})=>!!n&&e===i.KgA.FIELD_SELECTED&&!!t}],states:{IDLE:{onEnter:()=>{t(u.F.clearAll())}},SELECT_NODE_FOR_COLLECTION_BINDING:{onEnter:({dependencies:e})=>{let{collectionName:n}=e;t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.pick_a_webpage_to_connect",{collection_name:n??""}),timeoutOverride:1/0,icon:p.zX.PICK}))}},HOVERED_RESPONSIVE_SET_FOR_COLLECTION_BINDING:{onEnter:({dependencies:e})=>{let{collectionName:n}=e;t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.click_to_connect_this_page",{collection_name:n??""}),timeoutOverride:1/0,icon:p.zX.PICK}))}},HOVERED_FRAME_FOR_COLLECTION_BINDING:{onEnter:({dependencies:e})=>{let{collectionName:n}=e;t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.click_to_connect_this_frame",{collection_name:n??""}),timeoutOverride:1/0,icon:p.zX.PICK}))}},COLLECTION_BINDING_SUCCESS_RESPONSIVE_SET:{onEnter:({setCurrentState:e})=>{t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.connected_new_cms_page_created"),icon:p.zX.GREEN_CHECK}));let n=setTimeout(()=>{e("IDLE")},3e3);return()=>clearTimeout(n)}},COLLECTION_BINDING_SUCCESS_FRAME:{onEnter:({setCurrentState:e})=>{t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.connected_new_cms_list_created"),icon:p.zX.GREEN_CHECK}));let n=setTimeout(()=>{e("IDLE")},3e3);return()=>clearTimeout(n)}},SELECT_NODE_FOR_FIELD_BINDING:{onEnter:({dependencies:e})=>{let{fieldSchemaName:n}=e;t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.pick_a_layer_to_connect",{field_name:n??""}),timeoutOverride:1/0,icon:p.zX.PICK}))}},HOVERED_NODE_FOR_FIELD_BINDING:{onEnter:({dependencies:e})=>{let{fieldSchemaName:n}=e;t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.click_to_connect_this_layer",{field_name:n??""}),timeoutOverride:1/0,icon:p.zX.PICK}))}},HOVERED_TEXT_IN_INSTANCE_FOR_RICH_TEXT_FIELD_BINDING:{onEnter:()=>{t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.rich_text_in_instances_not_supported"),timeoutOverride:1/0,icon:p.zX.PICK}))}},FIELD_BINDING_SUCCESS:{onEnter:({setCurrentState:e})=>{t(u.F.enqueue({type:x,message:(0,c.t)("cms_specs.connected"),icon:p.zX.GREEN_CHECK}));let n=setTimeout(()=>{e("IDLE")},3e3);return()=>clearTimeout(n)}}}}),[t]));(0,o.useEffect)(()=>{S({cmsBindingState:a,bindingCollectionId:s,bindingFieldSchemaId:_?.id,hoveredNode:b,selectedNode:C,collectionName:j,fieldSchemaName:T,fieldSchemaType:k,isHoveredNodeTextInInstanceForRichTextField:I})},[S,s,_?.id,b,C,a,j,T,k,I])}(),(0,f.f4)(()=>{if(!i.Egt||!t||!s)return;let e=(0,r.UN)(),o=(0,b.oj)(e.getDirectlySelectedNodes());if(0!==o.length)switch(_){case i.KgA.COLLECTION_SELECTED:let l=!1;for(let e of o)if("RESPONSIVE_SET"===e.type&&"/"!==e.name)a.l7.user("dakota-set-collection-binding",()=>{e.setDakotaSelectorCollection(t,i.TsU.CMS_CONNECT_MODE),l=!0});else{T(t),l=!0;break}l&&i.Ez5?.cmsState().reset();break;case i.KgA.FIELD_SELECTED:let d=w.find(e=>e.id===n.id);if(!d)return;switch(d.fieldType){case h._j.IMAGE:(0,v.If)(t,d.id),i.Ez5?.cmsState().reset();break;case h._j.RICH_TEXT:if((0,b.HA)(o,["CMS_RICH_TEXT"])){let e={type:i.Z_n.CMS_ALIAS,resolvedType:i.rXF.JS_RUNTIME_ALIAS,value:{collectionId:t,fieldSchemaId:d.id}};a.l7.user("dakota-set-rich-text-binding",()=>{o?.forEach(n=>n.getNodesForCmsBinding(t).forEach(t=>{t.updateVariableConsumption("CMS_SERIALIZED_RICH_TEXT_DATA",e)}))}),i.Ez5?.cmsState().reset()}else(0,b.HA)(o,["TEXT"])&&(C.Y5.triggerActionEnumInUserEditScope(i.rcl.CREATE_CMS_RICH_TEXT,{args:{collectionId:t,fieldId:d.id}}),i.Ez5?.cmsState().reset());break;case h._j.PLAIN_TEXT:if(!(0,b.HA)(o,["TEXT"]))break;let c={type:i.Z_n.CMS_ALIAS,resolvedType:i.rXF.STRING,value:{collectionId:t,fieldSchemaId:d.id,itemId:""}};a.l7.user("dakota-set-text-binding",()=>{for(let e of o)e.getNodesForCmsBinding(t).forEach(e=>{e.updateVariableConsumption("TEXT_DATA",c)})}),i.Ez5?.cmsState().reset();break;case h._j.DATE:(0,v.Jo)(t,d.id),i.Ez5?.cmsState().reset();break;case h._j.LINK:let u={type:i.Z_n.CMS_ALIAS,resolvedType:i.rXF.LINK,value:{collectionId:t,fieldSchemaId:d.id,itemId:""}};a.l7.user("dakota-set-link-binding",()=>{for(let e of o)for(let n of e.getNodesForCmsBinding(t))"TEXT"===n.type?n.updateVariableConsumption("HYPERLINK",u):n.setDakotaLinkFieldBindingOnPrototypeAction(u)}),i.Ez5?.cmsState().reset()}}})}},652149:(e,t,n)=>{n.d(t,{KB:()=>d,Tj:()=>s,W0:()=>o,yq:()=>l});var i=n(422647),a=n(316862),r=n(28754);function s(e,t,n,s,o){return t??=(0,a.g)(),(0,i.WB)().optimisticallyCreate({CollectionItemV2:{[t]:{stableId:t,collectionId:e.databaseId,position:s,status:"draft",createdAt:new Date,updatedAt:new Date,lastPublishedAt:null,statusUpdatedAt:null,contentUpdatedAt:new Date,contentUpdatedByUserId:null,createdByUserId:null,fields:[]}}},r.hl.createItem({collection:e,itemId:t})).then(e=>(n(e.data.meta.id),e.data.meta),e=>{o(e)}),t}function o({collection:e,item:t,updatedItemAttributes:n}){(0,i.WB)().optimisticallyUpdate({CollectionItemV2:{[t.databaseId]:{collectionId:e.databaseId,position:n.position,status:n.status}}},r.hl.updateItem({collection:e,item:t,updatedItemAttributes:n}))}async function l({fieldId:e,fieldSchema:t,item:n,value:s,assetsForPublish:o,jobStatus:l}){var d;return e?await (0,i.WB)().optimisticallyUpdate({CollectionItemField:{[e]:{value:s}}},r.hl.updateSingleItemData({fieldId:e,item:n,fieldSchema:t,newValue:s,assetsForPublish:o,jobStatus:l})).then(e=>e.data.meta):(e=(0,a.g)(),await (0,i.WB)().optimisticallyCreate({CollectionItemField:{[e]:(d=n.databaseId,{itemId:d,fieldSchemaId:t.databaseId,value:s,jobStatus:null,version:"0",createdAt:new Date,updatedAt:new Date,assetsForPublish:null})}},r.hl.updateSingleItemData({fieldId:e,item:n,fieldSchema:t,newValue:s,assetsForPublish:o,jobStatus:l})))}function d({collection:e,item:t}){(0,i.WB)().optimisticallyDelete({CollectionItemV2:{[t.databaseId]:null}},r.hl.deleteItem({collection:e,item:t})).then(e=>e.data.meta)}},919410:(e,t,n)=>{n.d(t,{WS:()=>u,ZX:()=>p,ut:()=>m});var i=n(276800),a=n(316862),r=n(511295),s=n(652149),o=n(859298),l=n(859804),d=n(239004),c=n(211862);async function u(){let e=await navigator.clipboard.readText(),t=null;try{t=JSON.parse(e)}catch(e){return null}if(!t||!t.fileKey||!t.name||!t.fieldSchemas||!t.items)return null;for(let e of t.fieldSchemas)if(!e.name||!e.fieldType||!e.position)return null;for(let e of t.items)for(let t of e.fields)if(!t.fieldSchemaId)return null;return t}function p(){let e=(0,c.tS)();return async t=>{if(!e)return null;let n=await (0,o.X)({collectionStableId:t});if(null==n)return(0,d.sD)("items is collection",{collectionId:t}),null;let i=n.name,a=n.description,r=n.fieldSchemas.map(e=>({name:e.name,fieldType:e.fieldType,position:e.position,required:e.required,fieldSchemaId:e.id})),s=await (0,l.J)({collectionStableId:t});return null==s?((0,d.sD)("items is null",{collectionId:t}),null):JSON.stringify({name:i,description:a,fileKey:e,fieldSchemas:r,items:s.map(e=>{let t=[];for(let n of e.fields??[])t.push({fieldSchemaId:n.fieldSchemaId,value:n.value});return{position:e.position,fields:t}})})}}function m(){let e=(0,c.tS)();return async t=>{if(!e)return;let n=t.fieldSchemas.map(e=>({id:(0,a.g)(),name:e.name,fieldType:e.fieldType,required:!!e.required,position:e.position,properties:{},action:"create",version:"1"})),l=await (0,r.Qw)({id:null,name:t.name,description:t.description,fileKey:e,fields:n});if(null==l)return;let c=l.id,u=await (0,o.X)({collectionStableId:c});if(null==u){(0,d.sD)("newCollection is null",{newCollectionId:c});return}let p=u.fieldSchemas,m={};for(let e of p){let n=t.fieldSchemas.find(t=>t.name===e.name)?.fieldSchemaId;n&&(m[n]=e.id)}for(let e of t.items)(0,s.Tj)(u,void 0,t=>{for(let n of e.fields){let{value:e}=n;if(null==e){(0,d.sD)("Field value is null during import",{fieldSchemaId:n.fieldSchemaId});continue}let i=m[n.fieldSchemaId];if(null==i){(0,d.sD)("Field schema ID mapping not found during import",{fieldSchemaId:n.fieldSchemaId});continue}let a=u.fieldSchemas.find(e=>e.id===i);if(null==a){(0,d.sD)("Field schema not found during import",{newFieldSchemaId:i});continue}let r={databaseId:t};(0,s.yq)({fieldId:null,fieldSchema:a,item:r,value:e})}},e.position,i.lQ)}}},546001:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(716976);function a(e,t,n){i.useEffect(()=>{let i=i=>{let a=i.target;n&&!a.isConnected||e.current?.contains(a)||t()};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}})}},407012:(e,t,n)=>{n.d(t,{A:()=>H});var i=n(104076),a=n(716976),r=n(754245),s=n(903927),o=n(420680),l=n(821655),d=n(369729),c=n(816299),u=n(293422),p=n(827695),m=n(423128),h=n(517796),f=n(812714),g=n(166887),_=n(755444),x=n(833805),y=n(816565),v=n(192075),b=n(58212),C=n(407664),E=n(296217),j=n(346670),w=n(373547),T=n(243690),k=n(276800),I=n(546001),S=n(601167),N=n(3519),A=n(786069);function L({libraryKey:e,items:t,setItems:n}){let[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(0),d=(0,a.useRef)(null),c=(0,a.useRef)(null);(0,I.L)(d,()=>{s(!1),p("")},!0);let[u,p]=(0,a.useState)(""),{result:m,isLoading:h}=(0,A.F)({searchTerm:u,libraryKey:e}),f=a.useMemo(()=>m.filter(e=>!t.some(t=>t.value===e.subtitle)).map(e=>({title:e.subtitle})),[m,t]),g=(e,i)=>{t.find(t=>t.value===e.title)||(n(t=>[...t,{value:e.title}]),l(i),p(""))};return(0,i.jsxs)("div",{ref:d,className:"github_directory_multiselect--container--KB2cL",children:[(0,i.jsx)("div",{className:"github_directory_multiselect--inputContainer--GzF0K",children:(0,i.jsx)(S.i6,{items:t,maxItems:99,onAddItem:k.lQ,onClearItems:()=>n([]),onFocus:()=>s(!0),onKeyDown:e=>{if("ArrowDown"===e.key){if(o<f.length-1)return l(o+1),e.preventDefault(),!0}else if("ArrowUp"===e.key){if(o>0)return l(o-1),e.preventDefault(),!0}else if("Enter"===e.key)return g(f[o],o),e.preventDefault(),!0;else if("Escape"===e.key)return s(!1),l(0),e.currentTarget.blur(),e.preventDefault(),e.stopPropagation(),!0;return!1},onRemoveLastItem:e=>{n(t=>t.filter((t,n)=>n!==e))},onRequestPlaceholder:()=>"",onValueChange:e=>p(e),value:u})}),(0,i.jsx)(N.O,{ref:c,shouldBeVisible:r,isLoading:h,items:f,selectedIndex:o,onItemSelect:g})]})}let O="github_settings_modal--header--GcQVs",R="github_settings_modal--headerImage--rXjBx",P="github_settings_modal--pageTitle--xUQd9",M="github_settings_modal--label--s5yF6",D="github_settings_modal--checkbox--Uxs42",F="github_settings_modal--checkboxContainer--041f2",B="github_settings_modal--icon--3ULs9",U="github_settings_modal--inputContainer--aSQTw";function H({onClose:e,onBack:t,libraryKey:n,isDirectorySelection:a=!1}){return(0,r.createPortal)((0,i.jsx)("div",{className:"github_settings_modal--portal--XG8NU",children:(0,i.jsx)(V,{libraryKey:n,onClose:e,onBack:t,isDirectorySelection:a})}),document.body)}function V({onClose:e,onBack:t,libraryKey:n,isDirectorySelection:r=!1}){let[s,c]=(0,a.useState)(r),u=(0,E.OG)(n),p="dark"===(0,w.DP)(),h=(0,T.B)(n).unwrapOr(null),g=p?(0,_.ck)("b43ae367a8626405bff148b565f27a2c216474d8"):(0,_.ck)("6cf2ccf30dc4e0aa87883c3f3b15eaf223418950"),x=u&&u.availableRepositories.length>1,y=u&&u.availableRepositories.length>=100,b=(0,a.useMemo)(()=>s?(0,i.jsx)(K,{onClose:()=>{c(!1),e?.()},libraryKey:n}):x?(0,i.jsx)(G,{onClose:e,onSelected:()=>{(0,f.kc)().dt_component_browser_inline_suggestions?c(!0):e?.()},libraryName:h??"",illustrationUrl:g,libraryKey:n,repositories:u}):(0,i.jsx)(z,{libraryName:h??"",illustrationUrl:g,libraryKey:n,repositories:u,onNext:()=>{(0,f.kc)().dt_component_browser_inline_suggestions?c(!0):e?.()}}),[g,x,s,u,n,h,e]);return(0,i.jsxs)("div",{className:"github_settings_modal--background--SRXbb",children:[(0,i.jsx)("div",{className:"github_settings_modal--closeButton--LuAer",children:(0,i.jsx)(o.K,{"aria-label":(0,v.t)("dev_handoff.component_browser_onboarding.close"),onClick:t,children:(0,i.jsx)(m.A,{})})}),(0,i.jsxs)("div",{className:"github_settings_modal--contentContainer--NstgO",children:[(0,i.jsx)("div",{className:"github_settings_modal--content--iP1MM",children:(0,i.jsx)("div",{className:"github_settings_modal--githubContent--XMc6S",children:b})}),y&&(0,i.jsx)("div",{children:(0,i.jsx)(l.Cs,{variant:"brand",children:(0,i.jsx)(d.Q,{title:(0,v.t)("dev_handoff.component_browser_onboarding.github_repo_limit_banner_title",{repo_max_count:100}),children:(0,v.t)("dev_handoff.component_browser_onboarding.github_repo_limit_banner_body")})})})]})]})}function G({libraryName:e,illustrationUrl:t,libraryKey:n,repositories:r,onClose:s,onSelected:o}){let l=(0,a.useMemo)(()=>r?.selectedRepositories??[],[r?.selectedRepositories]),[d,p]=(0,a.useState)(l.length>0?l[0]?.id:(0,v.t)("dev_handoff.component_browser_onboarding.github_select_repository")),m=(0,x.n_)(j.XU),g=(0,a.useMemo)(()=>{let e=r?.availableRepositories.find(e=>e.id===d)?.name,t=l[0]?.name;return e??t??(0,v.t)("dev_handoff.component_browser_onboarding.github_select_repository")},[r?.availableRepositories,d,l]),_=async()=>{await m.mutate({libraryKey:n,repositoryIds:[d]}),o?.()};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)(y.oW,{src:t,alt:(0,v.t)("dev_handoff.component_browser_onboarding.connected_projects_icon"),className:R}),(0,i.jsx)("span",{className:P,children:(0,v.tx)("dev_handoff.component_browser_onboarding.github_repository_selection",{library_name:e??""})})]}),(0,i.jsxs)("div",{className:F,children:[(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_can_revoke_access")})]}),(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_issues_access")})]}),(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_code_and_metadata_access")})]})]}),(0,i.jsxs)("div",{className:U,children:[(0,i.jsxs)(c.bL,{onChange:p,value:d,children:[(0,i.jsx)(c.DZ,{id:"github-repo-select",placeholder:(0,v.t)("dev_handoff.component_browser_onboarding.github_select_repository"),width:"fill",size:"lg",children:(0,i.jsx)("span",{className:"github_settings_modal--select--nzXW-",children:g})}),(0,i.jsx)(c.mc,{children:r?.availableRepositories?.map(e=>i.jsx(c.c$,{value:e.id,children:e.name},e.id))})]}),(0,i.jsx)(u.Pw,{variant:"primary",disabled:!d||m.isLoading,onClick:_,children:(0,f.kc)().dt_component_browser_inline_suggestions?(0,v.t)("dev_handoff.component_browser_onboarding.continue_button"):(0,v.t)("dev_handoff.component_browser_onboarding.github_connect_repository")}),(0,i.jsx)(u.$n,{variant:"link",onClick:s,children:(0,v.t)("dev_handoff.component_browser_onboarding.cancel")})]})]})}function z({libraryName:e,illustrationUrl:t,libraryKey:n,repositories:a,onNext:r}){let s=(0,x.n_)(j.XU),o=a?.availableRepositories[0];return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)(y.oW,{src:t,alt:(0,v.t)("dev_handoff.component_browser_onboarding.connected_projects_icon"),className:R}),(0,i.jsx)("span",{className:P,children:(0,v.tx)("dev_handoff.component_browser_onboarding.github_connection_success",{library_name:e,repository_name:o?.name??"GitHub"})})]}),(0,i.jsxs)("div",{className:F,children:[(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_can_revoke_access")})]}),(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_issues_access")})]}),(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("div",{className:B,children:(0,i.jsx)(h.g,{})}),(0,i.jsx)("span",{className:M,children:(0,v.t)("dev_handoff.component_browser_onboarding.github_code_and_metadata_access")})]})]}),(0,i.jsx)("div",{className:U,children:(0,i.jsx)(u.Pw,{variant:"primary",onClick:()=>{s.mutate({libraryKey:n,repositoryIds:o?[o.id]:[]}),r?.()},children:(0,f.kc)().dt_component_browser_inline_suggestions?(0,v.t)("dev_handoff.component_browser_onboarding.continue_button"):(0,v.t)("dev_handoff.component_browser_onboarding.github_start_mapping")})})]})}function K({onClose:e,libraryKey:t}){let[n,r]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1),d=(0,E.OG)(t),c=d?.selectedRepositories[0]?.id,m=(0,g.hC)(),{directories:h,isLoading:f,errors:_}=(0,C.v)({libraryKey:t,repositoryId:c||""},{enabled:!!c}),x=(0,s.wA)(),y=(0,a.useMemo)(()=>JSON.stringify(n)!==JSON.stringify(h.map(e=>({value:e}))),[n,h]);(0,a.useEffect)(()=>{_&&_.length>0&&x(b.F.enqueue({message:(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_error"),error:!0}))},[_,x]);let j=(0,C.L)();(0,a.useEffect)(()=>{h.length>0&&r(h.map(e=>({value:e})))},[h]);let w=async()=>{if(c)try{let i=n.map(e=>e.value);l(!0),await j({libraryKey:t,repositoryId:c,directories:i}),e()}catch(e){x(b.F.enqueue({message:e.message,error:!0}))}finally{l(!1)}};return(0,i.jsxs)("div",{className:"github_settings_modal--directoryContainer--1v0Lz",children:[(0,i.jsx)("h2",{className:P,children:(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_title")}),(0,i.jsxs)("div",{className:"github_settings_modal--directoryContent--V4Gc8",children:[(0,i.jsx)("p",{className:"github_settings_modal--directoryDescriptionText--KSX3I",children:(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_description")}),(0,i.jsxs)("div",{className:"github_settings_modal--directoryInputSection---UnbK",children:[(0,i.jsx)("p",{className:"github_settings_modal--directoryInputLabel--P2oPP",children:(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_input_label")}),f?(0,i.jsx)("div",{className:"github_settings_modal--directorySpinnerWrapper--nMcr6",children:(0,i.jsx)(p.k,{})}):(0,i.jsx)(L,{libraryKey:t,items:n,setItems:r})]}),(0,i.jsxs)("div",{className:"github_settings_modal--directoryButtonContainer--6S9PF",children:[(0,i.jsx)(u.Pw,{variant:"primary",disabled:f||o||!y,onClick:w,children:h.length>0?(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_update"):(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_connect")}),(0,i.jsx)(u.Pw,{variant:"secondary",onClick:()=>{m("component_browser.directory_picker_skipped"),e()},disabled:o,children:(0,v.t)("dev_handoff.component_browser_onboarding.directory_selection_skip")})]})]})]})}},407664:(e,t,n)=>{n.d(t,{L:()=>s,v:()=>r});var i=n(833805),a=n(961457);function r({libraryKey:e,repositoryId:t},n){let r=!!(e&&t&&""!==t.trim()),s=(n?.enabled??!0)&&r,[o]=(0,i.IT)((0,a.iW)({libraryKey:e,repositoryId:t}),{enabled:s});return{directories:o.data?.directories??[],hasLoaded:"loaded"===o.status,isLoading:"loading"===o.status,errors:o.errors}}function s(){return(0,i.gY)(a.l_)}},296217:(e,t,n)=>{n.d(t,{FS:()=>f,OG:()=>_,Pw:()=>g,kt:()=>u,s7:()=>x,w6:()=>p});var i=n(716976),a=n(812714),r=n(833805),s=n(198464),o=n(192075),l=n(346670),d=n(576371),c=n(960876),u=(e=>(e.NotSetup="not_setup",e.Pending="pending",e.Connected="connected",e))(u||{}),p=(e=>(e.NotSetup="not_setup",e.Pending="pending",e.Connected="connected",e.NeedsInfo="needs_info",e))(p||{});function m(e,t){switch(e){case"not_setup":default:return"not_setup";case"pending":return"pending";case"connected":if(t.length>0)return"connected";return"needs_info"}}function h(){let e=(0,d.jI)();return(0,r.IT)((0,l.bg)({planType:e?.type,planParentId:e?.parentId}),{enabled:!!e&&!!e.type&&!!e.parentId})}function f(){let e=(0,a.kc)().dt_github_app??!1,[{data:t,status:n}]=h();return{status:e&&"loaded"===n?t?function(e){switch(e?.status){case c.K8.Connected:return"connected";case c.K8.NotConnected:if(e.installation_request&&"requested"===e.installation_request.status)return"pending";return"not_setup";default:return"not_setup"}}(t):"not_setup":null,queryStatus:n}}function g(){let[{data:e}]=h(),t=e?.installation_request?.github_org_name;return t?`https://github.com/orgs/${t}/people?query=role%3Aowner`:null}function _(e){var t;let{status:n,queryStatus:i}=f(),[a]=(0,r.IT)((0,l.sN)(e),{enabled:"connected"===n}),o=null;return"connected"===n&&a.data?o=m(n,a.data.selectedRepositories):("not_setup"===n||"pending"===n)&&(o=m(n,[])),{status:o,queryStatus:(t=a.status,i===s.H.DISABLED||t===s.H.DISABLED?s.H.DISABLED:i===s.H.ERRORS||t===s.H.ERRORS?s.H.ERRORS:i===s.H.LOADING||t===s.H.LOADING?s.H.LOADING:s.H.LOADED),...a.data?a.data:{availableRepositories:[],selectedRepositories:[],libraryKey:e}}}function x({libraryKey:e}){let t=_(e);return i.useMemo(()=>{if(null==t.status)return null;switch(t.status){case"connected":return{statusString:(0,o.t)("dev_handoff.component_browser.github_settings.status.connected"),heading:(0,o.t)("dev_handoff.component_browser.github_settings.heading.connected"),body:(0,o.t)("dev_handoff.component_browser.github_settings.body.connected"),cta:(0,o.t)("dev_handoff.component_browser.github_settings.cta.connected"),badgeVariant:"successOutline"};case"needs_info":return{statusString:(0,o.t)("dev_handoff.component_browser.github_settings.status.needs_info"),heading:(0,o.t)("dev_handoff.component_browser.github_settings.heading.needs_info"),body:(0,o.t)("dev_handoff.component_browser.github_settings.body.needs_info"),cta:(0,o.t)("dev_handoff.component_browser.github_settings.cta.needs_info"),badgeVariant:"warningOutline"};case"pending":return{statusString:(0,o.t)("dev_handoff.component_browser.github_settings.status.pending"),heading:(0,o.t)("dev_handoff.component_browser.github_settings.heading.pending"),body:(0,o.t)("dev_handoff.component_browser.github_settings.body.pending"),cta:(0,o.t)("dev_handoff.component_browser.github_settings.cta.pending"),badgeVariant:"warningOutline"};default:return{statusString:(0,o.t)("dev_handoff.component_browser.github_settings.status.not_setup"),heading:(0,o.t)("dev_handoff.component_browser.github_settings.heading.not_setup"),body:(0,o.t)("dev_handoff.component_browser.github_settings.body.not_setup"),cta:(0,o.t)("dev_handoff.component_browser.github_settings.cta.not_setup"),badgeVariant:"warningOutline"}}},[t.status])}},68106:(e,t,n)=>{n.d(t,{AR:()=>f,Zh:()=>g});var i=n(716976),a=n(833805),r=n(961457),s=n(899496),o=n(412431),l=n(564914),d=n(483663),c=n(315361),u=n(742549),p=n(643077),m=n(835307),h=n(910372);function f(){let e=(0,d.lR)(),{nodeIds:t,noSelection:n}=function(){let e=(0,u.hA)(),t=(0,c.Tv)(),n=(0,p.dh)(),i=!e&&!t?.length,a=e?[e]:t?.length?t:[n];return{noSelection:i,nodeIds:(0,m.Fk)((e,t)=>{if(!t?.length)return[];let n=[];return t.forEach(t=>{let i=e.get(t);if(i){let e=function(e){let t=e.parentNode;for(;t;){if("SYMBOL"===t.type||"INSTANCE"===t.type)return t;t=t.parentNode}return null}(i);if(e&&e.guid){n.push(e.guid);return}(function(e){let t=[];return function e(n){if("SYMBOL"===n.type||"INSTANCE"===n.type){t.push(n);return}"childrenNodes"in n&&Array.isArray(n.childrenNodes)&&n.childrenNodes.forEach(t=>{e(t)})}(e),t})(i).forEach(e=>{n.push(e.guid)})}}),n},a)}}();return{noSelection:n,assetKeys:[...new Set((0,i.useMemo)(()=>{let n=[];return t.forEach(t=>{let i=e(t);i&&n.push(i)}),n},[t,e]))]}}function g({componentKey:e,defaultFilter:t,entrypoint:n}){let d=(0,h.oA)(),{assetKeys:c,noSelection:u}=f(),p=new Set(c),m=function({assetKeys:e,componentKey:t,defaultFilter:n,noSelection:o}){let[d,c]=(0,a.IT)((0,r.GD)(e),{enabled:e.length>0}),u=(0,i.useMemo)(()=>d.data?function(e){let t=Object.keys(e.components||{}).map(t=>({...e.components[t],type:l.PW.COMPONENT,library_key:t.split(",")[0]})),n=Object.keys(e.state_groups||{}).map(t=>({...e.state_groups[t],type:l.PW.STATE_GROUP,library_key:t.split(",")[0]}));return(0,s.rI)(t,n)}(d.data):null,[d.data]);return{...(0,s.Hf)({componentKey:t,componentsAndStateGroups:u,defaultFilter:n,scope:"page"}),status:d.status,refetch:c.refetch,noSelection:o}}({assetKeys:(0,o.kf)(p,d),componentKey:e,defaultFilter:t,noSelection:u});return{...(0,s.IN)({displayedComponent:m.displayedComponent,filteredComponents:m.filteredComponents,componentBrowserListRowData:m.componentBrowserListRowData,setComponentBrowserListRowData:m.setComponentBrowserListRowData,bulkSuggestions:m.bulkSuggestions,entrypoint:n}),...m,entrypoint:n}}},961457:(e,t,n)=>{n.d(t,{Mo:()=>m,Fq:()=>h,GD:()=>u,t2:()=>c,iW:()=>p,LO:()=>x,RL:()=>f,_E:()=>y,S6:()=>_,l_:()=>v,K5:()=>g}),n(716976),n(387092),n(681958);var i=n(812714);async function a(e){await new Promise(e=>setTimeout(e,500));let t={};return e.assets.forEach(e=>{t[e.key]=Array.from({length:5}).map((t,n)=>({codebase_component_id:`mock-component-id-${n+1}`,thumbnail_url:`https://example.com/thumbnail${n+1}.png`,name:`MockComponent${n+1}`,src_path:`src/components/MockComponent${n+1}.tsx`,scanned_at:new Date().toISOString(),confidence_level:0===n?"high":"low",score:.95-.1*n,tracking_query_id:`mock-tracking-query-id-${e.key}`}))}),{results:t}}n(833805),n(447247);var r=n(710211);n(904017),n(564914);var s=n(34927),o=n(621971),l=n(113139);let d=new class{constructor(){this.SearchCodeSuggestionsSchemaValidator=(0,l.vh)(),this.SearchBulkCodeSuggestionsSchemaValidator=(0,l.vh)()}searchCodeSuggestions(e){return this.SearchCodeSuggestionsSchemaValidator.validate(async({xr:t})=>await t.post("/api/search/code_suggestions",l.td.toAPIParameters(e)))}searchBulkCodeSuggestions(e){return this.SearchBulkCodeSuggestionsSchemaValidator.validate(async({xr:t})=>await t.post("/api/search/code_suggestions_bulk",l.td.toAPIParameters(e)))}},c=r.M4.Query({fetch:async e=>(await s.Q.getLibraryPublishedComponentsWithCodeConnect({libraryKey:e})).data.meta,key:"libraryPublishedComponentsCodeConnect"}),u=r.M4.Query({fetch:async e=>(await s.Q.getInContextPublishedComponents(e)).data.meta,key:"inContextPublishedComponentsCodeConnect"}),p=r.M4.Query({fetch:async e=>(await s.Q.getRepositoryDirectories(e)).data.meta,key:"repositoryDirectories"}),m=r.M4.Query({fetch:async e=>(0,i.kc)().dt_ccv2_dd?a(e):(await d.searchBulkCodeSuggestions(e)).data.meta,key:"bulkSuggestions"}),h=(r.M4.Query({fetch:async e=>(await o.$W.getCodeSuggestions(e)).data.meta.results}),r.M4.Query({fetch:async e=>(await s.Q.getGithubSourceFileContents(e)).data.meta})),f=r.M4.Mutation(e=>s.Q.createCodeConnectMap(e)),g=r.M4.Mutation(async e=>{await s.Q.updateCodeConnectMap(e)}),_=r.M4.Mutation(async e=>{await s.Q.deleteCodeConnectMap(e)}),x=r.M4.Mutation(e=>s.Q.createCodeConnectBulkMap(e)),y=r.M4.Mutation(async e=>{await s.Q.deleteCodeConnectBulkMap(e)}),v=r.M4.Mutation(async({libraryKey:e,repositoryId:t,directories:n},{query:i})=>{let a=await s.Q.setRepositoryDirectories({libraryKey:e,repositoryId:t,directories:n});return i.mutate(p({libraryKey:e,repositoryId:t}),()=>({directories:n})),a.data.meta})},346670:(e,t,n)=>{n.d(t,{Tp:()=>s,XU:()=>c,bg:()=>l,rt:()=>o,sN:()=>d});var i=n(710211),a=n(34927),r=n(960876);let s=i.M4.Query({fetch:async e=>(await a.Q.getRepositorySourceFiles(e)).data.meta.source_files??[]}),o=i.M4.Query({fetch:async e=>(await a.Q.getRepositoryFileComponents(e)).data.meta}),l=i.M4.Query({fetch:async({planType:e,planParentId:t})=>(await r.QV.getOrgGithubInstallations({plan_type:e,parent_plan_id:t})).data.meta});i.M4.Query({fetch:async({planType:e,planParentId:t})=>(await r.QV.getGithubRepositories({plan_type:e,plan_parent_id:t})).data.meta});let d=i.M4.Query({fetch:async e=>{let t=await a.Q.getConnectedRepositories({libraryKey:e});return{availableRepositories:t.data.meta.available_repositories,selectedRepositories:t.data.meta.selected_repositories,libraryKey:e}},key:"connectedRepositoriesCodeConnect"}),c=i.M4.Mutation(async(e,{query:t})=>{let{libraryKey:n,repositoryIds:i}=e;return await a.Q.setLibraryGithubRepositories({libraryKey:n,repositoryIds:i}),await t.refetch(d(n))})},890229:(e,t,n)=>{function i(e){return"key"in e?e.key:"component_key"in e?e.component_key:null}n.d(t,{I:()=>i,W:()=>a});let a={all:{value:"all"},connected:{value:"connected"},notConnected:{value:"notConnected"},ignored:{value:"ignored"},suggestionsAvailable:{value:"suggestionsAvailable"}}},576371:(e,t,n)=>{n.d(t,{P8:()=>g,sD:()=>f,jI:()=>x,jb:()=>_});var i=n(125646),a=n(104076);let r=(0,n(716976).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M10.409 6.874a3 3 0 1 1 4.243 4.242l-3.536 3.536a.5.5 0 0 0 .707.707l3.536-3.536a4 4 0 1 0-5.657-5.657L6.166 9.702a.5.5 0 1 0 .707.707zm-1.06 6.01a3 3 0 0 0 4.242 4.243l3.536-3.536a.5.5 0 0 1 .707.707l-3.536 3.536a4 4 0 1 1-5.657-5.657l3.536-3.536a.5.5 0 1 1 .707.707z",clipRule:"evenodd"})})});var s=n(649238),o=n(890373),l=n(192075),d=n(211862),c=n(808242),u=n(755444),p=n(816565),m=n(373547);function h(){let e="dark"===(0,m.DP)();return(0,a.jsx)(p.oW,{src:(0,u.ck)(e?"2ba5e73bb4b623d353861cfc64f09794add7da72":"61bd9529ed526031df4681d94724de0d4ed2dd45"),alt:(0,l.t)("dev_handoff.component_browser.connected"),style:{width:56}})}function f(){return{all:(0,l.t)("dev_handoff.component_browser.all_published"),connected:(0,l.t)("dev_handoff.component_browser.connected"),notConnected:(0,l.t)("dev_handoff.component_browser.not_connected_to_code"),ignored:(0,l.t)("dev_handoff.component_browser.no_code_equivalent"),suggestionsAvailable:(0,l.t)("dev_handoff.component_browser.suggestions_available")}}function g(){return{all:{icon:i.F,color:o.Tj.iconTertiary},notConnected:{icon:r,color:o.Tj.iconTertiary},connected:{icon:h,color:o.Tj.iconFigjam},ignored:{icon:s.f,color:o.Tj.iconTertiary}}}function _(){let e=(0,d.q5)(),[t,n]=e?.plan?.id?.split("::")??[];return{planType:t,planId:n}}function x(){let e=(0,d.q5)(),t=(0,c.kw)(e?.key??null);if("loaded"===t.status)return t.data.planKey}},899496:(e,t,n)=>{n.d(t,{rI:()=>A,IN:()=>I,Hf:()=>S,WA:()=>N});var i=n(716976),a=n(903927),r=n(260425),s=n(812714),o=n(795033),l=n(166887),d=n(833805),c=n(225125),u=n(192075),p=n(58212),m=n(638641),h=n(961457),f=n(576371),g=n(447247),_=n(890229),x=n(693168),y=n(412431),v=n(37495),b=n(147046),C=n(211862),E=n(657878),j=n(592726),w=n(276347),T=n(407664),k=n(296217);function I({displayedComponent:e,filteredComponents:t,componentBrowserListRowData:n,setComponentBrowserListRowData:s,bulkSuggestions:f,entrypoint:g}){let y=(0,j.iZ)(),{Sprig:v}=(0,c.A)(),[I,S]=(0,i.useState)(-1),N=(0,i.useRef)([]),[A,L]=(0,i.useState)(null),O=(0,i.useCallback)(e=>{L(e)},[]);(0,i.useEffect)(()=>{N.current=N.current.slice(0,n.length)},[n.length]);let R=(0,E._6)(),P=(0,a.wA)(),M=(0,d.gY)(h.RL),D=(0,d.gY)(h.S6),F=(0,d.gY)(h.K5),B=(0,d.gY)(h.LO),U=(0,d.gY)(h._E),H=function(){let e=(0,C._G)(),t=(0,k.OG)(e),n=t?.selectedRepositories?.[0],{directories:a}=(0,T.v)({libraryKey:e,repositoryId:n?.id||""}),r=(0,l.hC)();return(0,i.useCallback)(({suggestions:t,path:n,componentName:i,trackingProps:s,libraryKey:o})=>{let l=!!t&&t.length>0,d=t?t.findIndex(e=>e.src_path===n&&e.name===i):-1,c=!!t&&-1===d&&t.some(e=>e.src_path===n),u=o===e&&a&&!a.some(e=>n.startsWith(e)),p=t?.[0]?.tracking_query_id;r("component_browser.code_connect_component_connected",{componentName:i,sourcePath:n,location:s.location,source:s.source,componentHasSuggestions:l,pickedSuggestionIndex:d,pickedSuggestionPathButWrongComponent:c,componentNotInSpecifiedDirectories:u,sessionId:s.sessionId,componentBrowserEntrypoint:s.entrypoint,queryId:p})},[a,e,r])}(),V=(0,o.Xr)(w.mO),G=(0,l.hC)(),z=(0,i.useCallback)(e=>{if(void 0!==e)for(let n=e+1;n<N.current.length;n++){let e=t[n],i=e?.component.code_connect_info.v1.state==="ignored";if(e&&!i&&(!e.selectedFile||!e.selectedComponent)){let e=N.current[n];if(e){e.focus();break}}}},[N,t]),K=(0,i.useCallback)(e=>{let{codeConnectId:t,row:n}=e,i=n?.sourceIndex;if(n&&void 0!==i){let a={...n,component:{...n.component,code_connect_info:{...n.component.code_connect_info,v1:{...n.component.code_connect_info.v1,state:"not_connected",id:void 0}}}};t?(s(e=>{let t=[...e];return t[i]={...a,isLoading:!0},t}),D({codeConnectId:t}).then(()=>{let t="connected"!==n.component.code_connect_info.v1.state,r=t?(0,u.t)("dev_handoff.component_browser.removed_ignore_message",{componentName:n.component.name}):(0,u.t)("dev_handoff.component_browser.disconnected_message",{componentName:n.component.name}),o=(0,_.I)(n.component);o&&V(e=>e?{...e,status:{...e.status,[o]:"not_connected"}}:{status:{[o]:"not_connected"},loadingStatus:"loaded"}),G(t?"component_browser.code_connect_component_ignore_removed":"component_browser.code_connect_component_disconnected",{nodeId:n.component.node_id,location:e.trackingProps.location}),s(e=>{let t=[...e];return t[i]={...a,isLoading:!1},t}),P(p.F.enqueue({message:r,type:"Disconnect component"})),e.callback?.()}).catch(t=>{r.vF.error("Error deleting code connect map",t),s(e=>{let t=[...e];return t[i]={...n,isLoading:!1},t}),P(p.F.enqueue({message:t.message,type:"Disconnect component error",error:!0})),e.callback?.(t)})):s(e=>{let t=[...e];return t[i]={...a,isLoading:!1},t})}},[D,P,s,G,V]),W=(0,i.useCallback)(e=>{let{row:t,sourceIndex:n,trackingProps:i}=e,a=t.selectedFile,o=t.selectedComponent,l=a?.metadata?.path??"",d=t.component.node_id,c=a?.metadata,m=(0,_.I)(t.component);if(m&&V(e=>e?{...e,status:{...e.status,[m]:"connected"}}:{status:{[m]:"connected"},loadingStatus:"loaded"}),!a||!l)return;let h={...t,component:{...t.component,code_connect_info:{...t.component.code_connect_info,v1:{...t.component.code_connect_info.v1,author_name:y?.name,author_id:y?.id,state:"connected",type:"component_browser",figmadoc:JSON.stringify([{repository:c?.repository,name:o?.title}])}}},inputValue:""};s(e=>{let t=[...e];return t[n]={...h,isLoading:!0},t}),M({library_key:t.component.library_key,node_id:d,template:"",component_name:o?.title,source_path:l,status:"connected",repository:c?.repository,origin:i.location,entrypoint:i.entrypoint}).then(e=>{let a=e.data.meta.code_connect_id;s(e=>{let t=[...e];return t[n]={...h,isLoading:!1,component:{...h.component,code_connect_info:{...h.component.code_connect_info,v1:{...h.component.code_connect_info.v1,id:a,type:"component_browser",figmadoc:JSON.stringify([{repository:c?.repository,name:o?.title}])}}}},t}),P(p.F.enqueue({message:(0,u.t)("dev_handoff.component_browser.connected_message",{componentName:t.component.name}),type:"Connected component"})),H({suggestions:f[t.assetKey],path:l,componentName:o?.title??"",trackingProps:i,libraryKey:t.component.library_key}),v("track",x.I)}).catch(e=>{r.vF.error("Error creating code connect map",e),s(e=>{let i=[...e];return i[n]={...t,isLoading:!1},i}),P(p.F.enqueue({message:e.message,type:"Connect component error",error:!0}))})},[v,M,P,s,y,V,f,H]),Z=(0,i.useCallback)(e=>{let{sourceIndex:t,value:i}=e,a=n[t];a&&s(e=>{let n=[...e];return n[t]={...a,inputValue:i},n})},[n,s]),q=(0,i.useCallback)(e=>{let{row:t,sourceIndex:n,trackingProps:i,save:a=!0}=e,o=t.selectedFile,l=t.selectedComponent,d=o?.metadata?.path??"",c=t.component.node_id,m=t.component.code_connect_info.v1.id;if(!o||!d||(s(e=>{let i=[...e];return i[n]={...t,inputValue:""},i}),!a||!m))return;let h={...t,component:{...t.component,code_connect_info:{...t.component.code_connect_info,v1:{...t.component.code_connect_info.v1,author_name:y?.name,author_id:y?.id,state:"connected",type:"component_browser"}}},isLoading:!0,inputValue:""};s(e=>{let t=[...e];return t[n]={...h},t}),F({code_connect_id:m,library_key:t.component.library_key,node_id:c,template:"",component_name:l?.title,source_path:d,status:"connected"}).then(()=>{s(e=>{let t=[...e];return t[n]={...h,isLoading:!1,component:{...h.component,code_connect_info:{...h.component.code_connect_info,v1:{...h.component.code_connect_info.v1,id:m,type:"component_browser"}}}},t}),P(p.F.enqueue({message:(0,u.t)("dev_handoff.component_browser.updated_message",{componentName:t.component.name})})),G("component_browser.code_connect_component_updated",{componentName:l?.title??"",sourcePath:d,location:i.location,source:i.source,componentBrowserEntrypoint:i.entrypoint})}).catch(e=>{r.vF.error("Error updating code connect map",e),s(e=>{let i=[...e];return i[n]={...t,isLoading:!1},i}),P(p.F.enqueue({message:e.message,error:!0}))})},[F,P,s,G,y]),X=(0,i.useCallback)(e=>{let{currentRowIndex:t,sourceIndex:i,selectedComponent:a,action:r,save:o=!0}=e,l=n[i];if(l){if("create"===r){let n={...l,selectedComponent:a,inputValue:""};G("component_browser.code_component_connection_data_entered",{nodeId:l?.component.node_id,field:"code_component",location:e.trackingProps.location,source:e.trackingProps.source,componentBrowserEntrypoint:e.trackingProps.entrypoint,value:e.selectedComponent?.title,sessionId:e.trackingProps.sessionId,queryId:e.trackingProps.queryId}),s(e=>{let t=[...e];return t[i]=n,t}),l.selectedFile&&o&&(l.component.code_connect_info.v1.id?q({row:{...l,selectedComponent:a},sourceIndex:i,trackingProps:e.trackingProps}):W({row:{...l,selectedComponent:a},sourceIndex:i,trackingProps:e.trackingProps}),void 0!==t&&z(t))}else"delete"===r&&l&&q({save:o,sourceIndex:i,row:{...l,selectedComponent:null,inputValue:""},trackingProps:e.trackingProps})}},[n,W,q,s,G,z]),Y=(0,i.useCallback)(e=>{let{sourceIndex:t,selectedFile:i,currentRowIndex:a,save:r=!0}=e,o=n[t];if(G("component_browser.code_component_connection_data_entered",{nodeId:o?.component.node_id,field:"code_file",location:e.trackingProps.location,source:e.trackingProps.source,componentBrowserEntrypoint:e.trackingProps.entrypoint,value:e.selectedFile?.title,sessionId:e.trackingProps.sessionId,queryId:e.trackingProps.queryId}),o){if(i){if(s(e=>{let n=[...e];return n[t]={...o,inputValue:"",selectedFile:i,isLoading:!1},n}),!r)return;W({row:{...o,selectedFile:i},sourceIndex:t,trackingProps:e.trackingProps})}else K({currentRowIndex:a,codeConnectId:o.component.code_connect_info.v1.id,row:{...o,inputValue:"",selectedFile:null,selectedComponent:null},trackingProps:e.trackingProps})}},[n,W,K,G,s]),J=(0,i.useCallback)(e=>{let{row:t,sourceIndex:n,trackingProps:i,currentRowIndex:a}=e;t.selectedFile||t.selectedComponent?t.selectedFile&&!t.selectedComponent?X({sourceIndex:n,selectedComponent:t.inputValue?{title:t.inputValue??""}:null,action:"create",trackingProps:i}):W({row:t,sourceIndex:n,trackingProps:i}):(Y({sourceIndex:n,selectedFile:{title:t.inputValue??"",metadata:{path:t.inputValue??"",isCustomLink:!1,repository:{id:"",name:""}}},trackingProps:i}),z(a)),z(a)},[W,X,Y,z]),Q=(0,i.useCallback)(e=>{let{selectedComponents:t,bulkSuggestions:n,trackingProps:i,ignore:a}=e,o=[];t.forEach(e=>{let t=e.component.code_connect_info?.v1?.state;if("connected"===t||"ignored"===t)return;let i=(n[e.assetKey]||[])[0];i&&o.push({component:e,asset:{library_key:e.component.library_key,node_id:e.component.node_id,component_name:i.name||"",source_path:i.src_path||"",status:a?"ignored":"connected"},bestSuggestion:i})});let l=[];s(e=>{let t=[...e];return l=o.map(({component:e})=>t[e.sourceIndex]??e),o.forEach(({component:e,bestSuggestion:n})=>{let i=e.sourceIndex;void 0!==i&&t[i]&&(t[i]={...t[i],isLoading:!0,selectedFile:n?{title:n.src_path,metadata:{path:n.src_path,isCustomLink:!1,repository:{id:"",name:""}}}:null,selectedComponent:n&&n.name?{title:n.name}:null,inputValue:"",component:{...t[i].component,code_connect_info:{...t[i].component.code_connect_info,v1:{...t[i].component.code_connect_info.v1,state:a?"ignored":"connected",author_name:y?.name,author_id:y?.id}}}})}),t});let d={current:l};B({assets_to_map:o.map(e=>e.asset)}).then(e=>{let{success_count:t,successful_asset_mappings:n}=e.data.meta;s(t=>{let n=[...t];return e.data.meta.successful_asset_mappings.forEach(e=>{let t=n.findIndex(t=>t.assetKey===e.asset_key);-1!==t&&n[t]&&(n[t]={...n[t],isLoading:!1,component:{...n[t].component,code_connect_info:{...n[t].component.code_connect_info,v1:{...n[t].component.code_connect_info.v1,id:e.code_connect_id}}}})}),n});let l=async()=>{s(e=>{let t=[...e];return d.current.forEach(e=>{let n=t.findIndex(t=>t.assetKey===e.assetKey);-1!==n&&(t[n]=e)}),t});let e=[];for(let t of n)try{let n=d.current.find(e=>e.assetKey===t.asset_key);n&&("not_connected"===n.component.code_connect_info.v1.state||!n.component.code_connect_info.v1.state)&&e.push(t.code_connect_id)}catch(e){r.vF.error("Error preparing for bulk undo",e)}if(e.length>0)try{await U({code_connect_ids:e})}catch(e){P(p.F.enqueue({message:a?(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.error_undo_ignored"):(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.error_undo_connected"),error:!0}))}};P(p.F.enqueue({message:a?(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.confirmation_ignored",{count:t}):(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.confirmation_connected",{count:t}),icon:m.zX.CHECK_WITH_CIRCLE,button:{text:(0,u.t)("general.undo"),action:()=>{l()}}})),G(a?"component_browser.code_connect_components_bulk_ignored":"component_browser.code_connect_components_bulk_connected",{componentCount:o.length,location:i.location,source:i.source})}).catch(e=>{r.vF.error("Error connecting/ignoring components",e),s(e=>{let t=[...e];return o.forEach(({component:e},n)=>{let i=e.sourceIndex;void 0!==i&&t[i]&&l[n]&&(t[i]=l[n])}),t}),P(p.F.enqueue({message:a?(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.error_ignored"):(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.error_connected"),error:!0}))})},[B,s,P,y,G,U]),$=(0,i.useCallback)(t=>{let n=t?.component;if(e?.assetKey===t?.assetKey){let e={...R,componentKey:void 0};P(b.sf(e));return}if(S(-1),"componentBrowserLibrary"===R.view){let e={...R,componentKey:n&&(0,_.I)(n)||void 0};P(b.sf(e))}else if("fullscreen"===R.view){let e={...R,showDevModeComponentBrowser:!0,devModeComponentBrowserBackButtonTargetNodeId:n?.node_id,componentKey:n&&(0,_.I)(n)||void 0};P(b.sf(e))}},[R,P,e?.assetKey]),ee=(0,i.useCallback)(()=>{if(!e){t[0]&&$(t[0]);return}let n=t.findIndex(t=>(0,_.I)(t.component)===(0,_.I)(e.component));if(-1===n){-1!==I&&t[I]?$(t[I]):t[0]&&$(t[0]);return}let i=t[n+1];i&&$(i)},[e,t,$,I]),et=(0,i.useCallback)(()=>{if(!e){let e=t[t.length-1];e&&$(e);return}let n=t.findIndex(t=>(0,_.I)(t.component)===(0,_.I)(e.component));if(-1===n){let e=t[I-1];-1!==I&&e?$(e):t[0]&&$(t[0]);return}let i=t[n-1];i&&$(i)},[e,t,$,I]),en=(0,i.useCallback)(({filepath:e,componentName:t,item:n,currentRowIndex:i,sourceIndex:a})=>{J({row:{...n,selectedFile:{title:e,metadata:{path:e,isCustomLink:!1,repository:{id:"",name:""}}},selectedComponent:t?{title:t}:null},currentRowIndex:i,sourceIndex:a,trackingProps:{location:"list_view",source:"ai_codebase_suggestion",entrypoint:g,sessionId:"todo"}})},[J,g]);return{onDeleteMapping:K,onFileChanged:Y,onComponentChanged:X,onConnectMapping:e=>{let{currentRowIndex:t,row:n}=e,i=n.sourceIndex,a=n.component,o=n.selectedFile,l=o?.metadata?.path??"",d=n.selectedComponent,c=n.component.node_id,m=o?.metadata?.repository;if(o&&l){let h={...n,component:{...a,code_connect_info:{...a.code_connect_info,v1:{...a.code_connect_info.v1,state:"connected",author_name:y?.name,author_id:y?.id}}},selectedFile:o,selectedComponent:d,inputValue:""};s(e=>{let t=[...e];return t[i]={...h,isLoading:!0},t}),M({library_key:n.component.library_key,node_id:c,template:"",component_name:d?.title,source_path:l,status:"connected",origin:e.trackingProps.location,entrypoint:e.trackingProps.entrypoint,repository:m}).then(a=>{let r=a.data.meta.code_connect_id;s(e=>{let t=[...e];return t[i]={...h,isLoading:!1,component:{...h.component,code_connect_info:{...h.component.code_connect_info,v1:{...h.component.code_connect_info.v1,id:r,figmadoc:JSON.stringify([{repository:m,name:d?.title}])}}}},t}),P(p.F.enqueue({message:(0,u.t)("dev_handoff.component_browser.connected_message",{componentName:n.component.name}),type:"Connected component"})),G("component_browser.code_connect_component_connected",{componentName:d?.title??"",sourcePath:l,location:e.trackingProps.location,source:e.trackingProps.source,componentBrowserEntrypoint:e.trackingProps.entrypoint,sessionId:e.trackingProps.searchSessionId}),z(t),e.callback?.()}).catch(t=>{r.vF.error("Error creating code connect map",t),s(e=>{let t=[...e];return t[i]={...n,isLoading:!1},t}),P(p.F.enqueue({message:t.message,type:"Connect component error",error:!0})),e.callback?.(t)})}},onIgnoreMapping:e=>{let{row:t}=e,n=t.sourceIndex,i=t.component.node_id,a={...t,component:{...t.component,code_connect_info:{...t.component.code_connect_info,v1:{...t.component.code_connect_info.v1,state:"ignored"}}},selectedComponent:null,selectedFile:null,inputValue:""};s(e=>{let t=[...e];return t[n]=a,t}),M({library_key:t.component.library_key,node_id:i,status:"ignored",origin:e.trackingProps.location,entrypoint:e.trackingProps.entrypoint}).then(i=>{let r=i.data.meta.code_connect_id,o=(0,_.I)(t.component);o&&V(e=>e?{...e,status:{...e.status,[o]:"ignored"}}:{status:{[o]:"ignored"},loadingStatus:"loaded"}),s(e=>{let t=[...e];return t[n]={...a,component:{...a.component,code_connect_info:{...a.component.code_connect_info,v1:{...a.component.code_connect_info.v1,id:r,author_name:y?.name,author_id:y?.id}}}},t}),G("component_browser.code_connect_component_ignored",{nodeId:t.component.node_id,location:e.trackingProps.location,componentBrowserEntrypoint:e.trackingProps.entrypoint}),P(p.F.enqueue({message:(0,u.t)("dev_handoff.component_browser.ignored_message",{componentName:t.component.name}),type:"Ignored component"})),e.callback?.()}).catch(i=>{r.vF.error("Error ignoring code connect map",i),s(e=>{let i=[...e];return i[n]=t,i}),P(p.F.enqueue({message:i.message,type:"Ignore component error",error:!0})),e.callback?.(i)})},onBulkConfirmSuggestions:Q,onDisplayedComponentChanged:$,onDisplayNextComponent:ee,onDisplayPreviousComponent:et,updateConnection:q,onConfirmConnection:J,onConfirmSuggestion:en,onValueChange:Z,inputRefs:N,onActiveRowChange:O,activeRowKey:A}}function S({componentKey:e,componentsAndStateGroups:t,defaultFilter:n,scope:a}){let[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(""),[p,m]=(0,i.useState)(n),[x,b]=(0,i.useState)("file"===a&&(0,s.kc)().dt_component_browser_sort_by_usage?"insertions":"alphabetically"),E=(0,i.useMemo)(()=>o.findIndex(t=>(0,_.I)(t.component)===e),[o,e]),j=(0,i.useMemo)(()=>o[E]??null,[o,E]),{bulkSuggestions:w,searchSessionId:T,isLoadingSuggestions:k}=function(e){let{planType:t,planId:n}=(0,f.jb)(),a=(0,i.useMemo)(()=>e.map(e=>e.assetKey).join(","),[e]),r=(0,i.useMemo)(()=>e.map(({component:e,assetKey:t})=>({type:e.type,key:t,library_key:e.library_key})),[a]),o=(0,s.kc)().dt_component_browser_bulk_mapping||(0,s.kc)().dt_component_browser_inline_suggestions||(0,s.kc)().dt_component_browser_suggestions_debug,l=(0,i.useMemo)(()=>({assets:r,plan_parent_id:n,plan_parent_type:t,num_results_per_asset:5}),[a,n,t]),c=r.length>0&&o,u=(0,i.useMemo)(()=>c?(0,g.a)():"",[l,c]),[p]=(0,d.IT)((0,h.Mo)({...l,query_id:u,session_id:u}),{enabled:c});return{bulkSuggestions:p.data?.results??{},searchSessionId:u,isLoadingSuggestions:"loading"===p.status}}(o),[I,S,N,A]=(0,i.useMemo)(()=>{let e=[],t=[],n=[],i=[];return o.forEach(a=>{e.push(a),"connected"===a.component.code_connect_info.v1.state&&t.push(a),"not_connected"===a.component.code_connect_info.v1.state&&n.push(a),"ignored"===a.component.code_connect_info.v1.state&&i.push(a)}),[e,t,n,i]},[o]),O=(0,i.useMemo)(()=>N.filter(e=>e.assetKey in w),[w,N]),R=(0,i.useMemo)(()=>({all:I.length,connected:S.length,notConnected:N.length,ignored:A.length,suggestionsAvailable:O.length}),[I.length,S.length,N.length,A.length,O.length]),P=(0,i.useMemo)(()=>{let e=[];return"all"===p?e=I:"connected"===p?e=S:"notConnected"===p?e=N:"ignored"===p?e=A:"suggestionsAvailable"===p&&(e=O),c&&(e=e.filter(e=>e.component.name.toLocaleLowerCase().includes(c.toLocaleLowerCase()))),[...e].sort((e,t)=>{if("alphabetically"===x){if(e.component.name<t.component.name)return -1;if(e.component.name>t.component.name)return 1}else if("insertions"===x){let n=e.component.insertions||0,i=t.component.insertions||0;if(n>i)return -1;if(n<i)return 1;if(e.component.name<t.component.name)return -1;if(e.component.name>t.component.name)return 1}return 0}).map((e,t)=>({...e,currentRowIndex:t}))},[p,c,x,I,S,N,A,O]);(0,i.useEffect)(()=>{if(!t)return;let{components:e}=t;l(function(e){let t=[];return e.forEach((e,n)=>{let i=e.code_connect_info.v1.figmadoc;if(!i){t.push(L(e,n));return}try{let a=(0,v.y)(i);t.push({component:e,assetKey:(0,y.Av)(e),sourceIndex:n,isLoading:!1,selectedFile:a?.source?{title:a.source,metadata:{path:a.source,isCustomLink:!1,repository:{id:"",name:""}}}:null,selectedComponent:a?.component?{title:a.component}:null,inputValue:""})}catch(i){r.vF.error("Error parsing figmadoc",i),t.push(L(e,n))}}),t}(e))},[t,l]);let M=(0,i.useCallback)(e=>o.findIndex(t=>(0,_.I)(t.component)===(0,_.I)(e)),[o]),D=(0,C._G)(),F=(0,i.useMemo)(()=>new Set(I.map(e=>e.component.library_key).filter(e=>e!==D)),[I,D]);return{paginationInfo:{notConnectedComponents:N.length,connectedComponents:S.length,ignoredComponents:A.length,suggestionsAvailableComponents:O.length},connectedComponents:S,notConnectedComponents:N,externalLibraryKeysInFile:F,ignoredComponents:A,suggestionsAvailableComponents:O,searchQuery:c,setSearchQuery:u,dropdownFilter:p,setDropdownFilter:m,sortBy:x,setSortBy:b,displayedComponent:j,displayedComponentIndex:E,filteredComponents:P,componentBrowserListRowData:o??[],setComponentBrowserListRowData:l,getIndexOfComponent:M,bulkSuggestions:w,searchSessionId:T,isLoadingSuggestions:k,componentCounts:R}}function N({libraryKey:e,componentKey:t,defaultFilter:n,entrypoint:a}){let r=function({libraryKey:e,componentKey:t,defaultFilter:n}){let[a,r]=(0,d.IT)((0,h.t2)(e),{enabled:!0});return{...S({componentKey:t,componentsAndStateGroups:(0,i.useMemo)(()=>{var e;return a.data?A((e=a.data).components||[],e.state_groups||[]):null},[a.data]),defaultFilter:n,scope:"file"}),status:a.status,refetch:r.refetch}}({libraryKey:e,componentKey:t,defaultFilter:n});return{...I({displayedComponent:r.displayedComponent,filteredComponents:r.filteredComponents,componentBrowserListRowData:r.componentBrowserListRowData,setComponentBrowserListRowData:r.setComponentBrowserListRowData,bulkSuggestions:r.bulkSuggestions,entrypoint:a}),...r}}function A(e,t){let n=[],i={},a={};return t.forEach(e=>{a[e.node_id]={...e,updated_at:e.updated_at||"",variants:[]},i[e.key]={...e,updated_at:e.updated_at||"",variants:[]}}),e.forEach(e=>{let t=e.containing_frame?.containingStateGroup?.nodeId,r=t&&a[t]?.key;r&&i[r]?i[r].variants.push(e):n.push(e)}),Object.values(i).forEach(e=>{n.push(e)}),{components:n}}function L(e,t){return{component:e,assetKey:(0,y.Av)(e),sourceIndex:t,isLoading:!1,selectedFile:null,selectedComponent:null,inputValue:""}}},601167:(e,t,n)=>{n.d(t,{SN:()=>W,Q3:()=>Y,pK:()=>Z,$J:()=>q,i6:()=>H});var i=n(104076),a=n(716976),r=n(276800),s=n(420680),o=n(684742),l=n(293422),d=n(708669),c=n(695777),u=n(658598),p=n(652877),m=n(442193),h=n(511570),f=n.n(h),g=n(198464),_=n(192075),x=n(296217),y=n(894210);function v({tooltip:e}){return(0,i.jsx)("div",{"data-tooltip":e,"data-tooltip-show-above":!0,"data-tooltip-type":y.Ib.TEXT,className:"component_browser_hotkey_indicator--hotkeyIcon---Qb3S",children:"\u21B5"})}function b({shortcut:e,state:t,sourceIndex:n,isInputEmpty:a,selectedFile:r}){return"not_connected"!==t||void 0===n||!r&&a?null:(0,i.jsx)("div",{children:(0,i.jsx)(v,{tooltip:e})})}var C=n(833805),E=n(346670),j=n(412431),w=n(883765),T=n(3519),k=n(407012),I=n(243690);let S=(0,a.forwardRef)(({libraryKey:e,onClose:t},n)=>{let[r,s]=(0,a.useState)(!1),o=(0,I.B)(e).unwrapOr(null),d=(0,a.useCallback)(()=>{s(!0)},[]),c=(0,a.useCallback)(()=>{s(!1),t()},[t,s]);return o?(0,i.jsxs)("div",{tabIndex:0,className:"component_browser_input_github_dropdown--container--WQ5k5",ref:n,children:[(0,i.jsx)("div",{className:"component_browser_input_github_dropdown--header--uCNzg",children:(0,_.t)("dev_handoff.component_browser.github_repo_dropdown.header",{libraryName:o})}),(0,i.jsx)("div",{className:"component_browser_input_github_dropdown--description--GKHUI",children:(0,_.t)("dev_handoff.component_browser.github_repo_dropdown.description")}),(0,i.jsx)(l.$n,{variant:"primary",onClick:d,children:(0,_.t)("dev_handoff.component_browser.github_repo_dropdown.button")}),r&&(0,i.jsx)(k.A,{libraryKey:e,onClose:c,onBack:c})]}):null});var N=n(786069);let A="component_browser_input--wrapper--VlXZo",L="component_browser_input--disabled--QH8GR",O="component_browser_input--readonly--m8lWF",R="component_browser_input--chip--TzaRn",P="component_browser_input--empty--wTZBe",M="component_browser_input--max--kTrPE",D="component_browser_input--chevron--gFXeX",F="component_browser_input--chipItem--sEXBb",B="component_browser_input--buttonContainer--nLuhN",U="component_browser_input--hidden--ffbn1",H=(0,a.forwardRef)((e,t)=>{let{items:n,readonly:a,disabled:s,onRemoveLastItem:o,...l}=e;return(0,i.jsxs)("div",{className:f()(A,"component_browser_input--multiChipInput--TokgR"),children:[n.map((e,t)=>(0,i.jsx)(V,{parts:[e],maxItems:1,readonly:a,disabled:s,onClear:()=>o(t)},e.value)),!a&&(0,i.jsx)(G,{ref:t,items:[],maxItems:1,onRemoveLastItem:r.lQ,...l})]})});function V({parts:e,maxItems:t,readonly:n,disabled:r,onClear:o}){return(0,i.jsxs)("div",{className:f()(R,"component_browser_input--items--97pb-",{[P]:0===e.length,"component_browser_input--incomplete--sIuCz":e.length<t&&!n,[L]:r,[O]:n}),...(0,j.f$)({filepath:e[0]?.value,componentName:e[1]?.value}),children:[e.map((r,s)=>{let o=s<e.length&&s<t-1&&!n||s<e.length-1&&n,l=0===s&&e&&e[0]&&"string"==typeof e[0].value&&e[0].value.length>10?65:0;return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("div",{className:F,style:{minWidth:l},children:r.value}),o&&(0,i.jsx)(d.k,{className:D})]},s)}),e.length===t&&!n&&(0,i.jsx)(s.K,{"aria-label":(0,_.t)("dev_handoff.component_browser.clear_input"),onClick:o,children:(0,i.jsx)(c.f,{})})]})}let G=(0,a.forwardRef)(({children:e,maxItems:t=1,disabled:n=!1,onAddItem:a,onRemoveLastItem:r,onClearItems:o,onMaxItemsReached:l,items:d,value:u,onValueChange:p,onRequestPlaceholder:m,onFocus:h,onBlur:g,onKeyDown:x,readonly:y=!1},v)=>{let b=d.length>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:f()(R,"component_browser_input--inputWrapper--4eKiy",{[P]:!b,[M]:d.length>=t,[L]:n}),children:[(0,i.jsx)("input",{ref:v,onFocus:h,onBlur:g,placeholder:m(d.length),className:f()("component_browser_input--input--VpMqX",{[P]:!b,[M]:d.length>=t||y}),type:"text",value:u,onChange:e=>{n||d.length>=t||p(e.target.value)},onKeyDown:e=>{if(!(n||x(e)))switch(e.key){case"Enter":if(d.length>=t){l?.();return}a({value:u},d.length),e.preventDefault();break;case"Backspace":0===u.length&&d.length>0&&(r(d.length-1),e.preventDefault())}}}),b&&d.length<t&&!y&&(0,i.jsx)(s.K,{"aria-label":(0,_.t)("dev_handoff.component_browser.clear_input"),onClick:()=>o(),children:(0,i.jsx)(c.f,{})})]}),(0,i.jsx)("div",{className:f()(B,{"component_browser_input--filled--3Hnhr":b}),children:e})]})}),z=(0,a.forwardRef)((e,t)=>{let{maxItems:n=1,disabled:a=!1,onClearItems:r,items:s,readonly:o=!1}=e;return(0,i.jsxs)("div",{className:f()(A,{[L]:a,[O]:o}),children:[s.length>0&&(0,i.jsx)(V,{parts:s,maxItems:n,readonly:o,disabled:a,onClear:()=>r()}),!o&&(0,i.jsx)(G,{ref:t,...e})]})});var K=(e=>(e.FILE="file",e.COMPONENT="component",e.CONFIRM="confirm",e))(K||{});function W({items:e,isSuggestion:t,onClick:n,tooltipProps:r}){let s=(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(u.V,{}),e.length>0?e.map((t,n)=>(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("div",{className:F,children:t}),n!==e.length-1&&(0,i.jsx)("div",{className:D,children:(0,i.jsx)(d.k,{})})]},n)):(0,i.jsx)("div",{className:F,children:(0,_.t)("dev_handoff.component_browser.input_no_filepath")})]}),l={className:f()(R,O,{"component_browser_input--suggestion--RaUTH":t}),...r};return n?(0,i.jsx)(o.E,{...l,onClick:n,children:s}):(0,i.jsx)("div",{...l,children:s})}function Z({onConfirmConnection:e,showButton:t,disabled:n,children:a}){return(0,i.jsx)("div",{className:f()(B,{[U]:!t}),children:(0,i.jsx)(l.WW,{onClick:n?r.lQ:e,variant:"primary",children:a??(0,_.t)("dev_handoff.component_browser.connect")})})}function q(){return(0,i.jsx)(Z,{showButton:!1,onConfirmConnection:r.lQ})}function X({onEdit:e,showButton:t,disabled:n}){return(0,i.jsx)("div",{className:f()(B,{[U]:!t}),children:(0,i.jsx)(l.$n,{onClick:e,"aria-disabled":n,variant:"secondary",children:(0,_.t)("dev_handoff.component_browser.edit")})})}function Y({item:e,isRowHovered:t,isLoading:n,sourceIndex:r,currentRowIndex:s,libraryKey:o,onComponentChanged:l,onFileChanged:d,onValueChange:c,onConfirmConnection:u,onDeleteMapping:h,value:y="",selectedFile:v,selectedComponent:j,suggestions:k,inputRefs:I,readonly:A=!1,autosave:L=!0,location:O,entrypoint:R,onBlur:P,isRowActive:M,onActiveRowChange:D,searchSessionId:F,isLoadingSuggestions:B,hasEditButton:U}){let H=(0,a.useCallback)(e=>{e&&void 0!==s&&(I.current[s]=e)},[s,I]),[V,G]=(0,a.useState)([]),K=(0,a.useRef)(null),W=(0,a.useRef)(null),q=(0,x.OG)(o),{result:Y,isLoading:J}=(0,N.I)({searchTerm:y,libraryKey:o,suggestions:k}),{results:Q,isLoading:$}=function({libraryKey:e,selectedFile:t,searchTerm:n,suggestions:i}){let r=t?.metadata?.repository?.id,s=t?.metadata?.path,[o]=(0,C.IT)((0,E.rt)({libraryKey:e,repository:r??"",path:s??""}),{enabled:!!t&&!!e&&!!r&&!!s&&!t?.metadata?.isCustomLink,key:`repositoryComponentsQuery-${s}`}),l="loading"===o.status,d="loaded"===o.status,c=o.data,u=(0,a.useMemo)(()=>d&&c?c.components:[],[d,c]),p=(0,a.useMemo)(()=>i?i.filter(e=>e.src_path===s):[],[i,s]),m=(0,a.useMemo)(()=>Array.from(new Set([...p.map(e=>e.name),...u])),[u,p]);return{results:(0,a.useMemo)(()=>m.length?m.filter(e=>e.toLowerCase().includes(n.toLowerCase())).map((e,t)=>({title:e,subtitle:"",metadata:{index:t}})):[],[n,m]),isLoading:l,searchTerm:n}}({libraryKey:o,selectedFile:v,searchTerm:y,suggestions:k}),ee=function({data:e}){let{component:t,inputValue:n,selectedFile:i,selectedComponent:r,sourceIndex:s}=e,o=t.code_connect_info.v1.state,{shortcut:l}=(0,a.useMemo)(()=>i?i&&!r&&n&&0===n.length?{shortcut:(0,_.t)("dev_handoff.component_browser.confirm_connection_shortcut")}:!r&&n&&n.length>0?{shortcut:(0,_.t)("dev_handoff.component_browser.connect_component_shortcut")}:{shortcut:(0,_.t)("dev_handoff.component_browser.confirm_connection_shortcut")}:{shortcut:(0,_.t)("dev_handoff.component_browser.connect_file_shortcut")},[i,r,n]),d=(0,a.useMemo)(()=>i||n&&n.length>0||r&&i,[i,n,r]);return{selectedFile:i,selectedComponent:r,shortcut:l,state:o,sourceIndex:s,canConnect:d,isInputEmpty:n?.length===0}}({data:e}),et=(0,a.useMemo)(()=>{let e=0===V.length,t=1===V.length;return e?{results:Y.map(e=>({title:e.title,subtitle:e.subtitle,icon:(0,i.jsx)(p.V,{})})),isLoading:J}:t?{results:Q.map(e=>({title:e.title,subtitle:e.subtitle,icon:(0,i.jsx)(m.K,{})})),isLoading:$}:{results:[],isLoading:!1}},[Y,Q,V.length,J,$]),[en,ei]=(0,a.useState)({shouldBeVisible:!1,shouldShowGithubCTA:!1,selectedIndex:0,sessionId:"",lastItemsLength:0}),ea=(0,a.useMemo)(()=>M&&en.shouldBeVisible&&q.status===x.w6.NeedsInfo&&q.queryStatus===g.H.LOADED,[en.shouldBeVisible,q,M]);(0,a.useEffect)(()=>{let e=[];v&&e.push({value:v.subtitle??v.title}),j&&e.push({value:j.title}),G(e)},[v,j]),function({dropdownState:e,items:t,dropdownDataResultsLength:n,value:i,isRowActive:r,isLoadingSuggestions:s,isLoadingDropdownData:o,fileSearchResults:l,componentSearchResults:d,selectedFile:c,suggestions:u,location:p,entrypoint:m}){let h=(0,a.useRef)(null);(0,a.useEffect)(()=>{let a={sessionId:e.sessionId,itemsLength:t.length},f=h.current,g=e.shouldBeVisible&&n>0,_=!!e.sessionId,x=0===i.length,y=!f||f.sessionId!==e.sessionId||f.itemsLength!==t.length;if(g&&_&&x&&r&&y){let n,i;let{aiCodebaseSuggestionsCount:r,lexicalSearchResultsCount:f}=(n=0,i=0,0===t.length?l.forEach(e=>{u?.some(t=>t.src_path===e.metadata?.path)?n++:i++}):1===t.length&&d.forEach(e=>{u?.some(t=>t.src_path===c?.metadata?.path&&t.name===e.title)?n++:i++}),{aiCodebaseSuggestionsCount:n,lexicalSearchResultsCount:i});(0,w.sx)("component_browser.code_component_input_typeahead_displayed",{location:p,componentBrowserEntrypoint:m,sessionId:e.sessionId,aiCodebaseSuggestionsCount:r,lexicalSearchResultsCount:f,hasCodebaseSuggestionsLoaded:!s,hasLexicalSearchLoaded:!o,queryId:u?.[0]?.tracking_query_id}),h.current=a}},[e.shouldBeVisible,e.sessionId,n,r,t.length,l,d,c,u,p,m,s,o,i.length,t])}({dropdownState:{shouldBeVisible:en.shouldBeVisible,sessionId:en.sessionId},items:V,dropdownDataResultsLength:et.results.length,value:y,isRowActive:M,isLoadingSuggestions:B,isLoadingDropdownData:et.isLoading,fileSearchResults:Y,componentSearchResults:Q,selectedFile:v??null,suggestions:k,location:O,entrypoint:R});let er=q.status===x.w6.Connected,es=k?.[0]?.tracking_query_id,eo=(0,a.useCallback)(e=>{switch(e){case 0:return er?(0,_.t)("dev_handoff.component_browser.input_placeholder_github_connected"):(0,_.t)("dev_handoff.component_browser.paste_code_link");case 1:return(0,_.t)("dev_handoff.component_browser.component_name")}},[er]),el=(0,a.useCallback)(()=>{u({row:e,sourceIndex:r,currentRowIndex:s,trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}})},[u,e,r,s,O,R,en.sessionId,es]),ed=()=>{ei(e=>({...e,selectedIndex:0}))};function ec(t,n){let i=0===V.length,a=1===V.length;if(ei(e=>({...e,selectedIndex:0})),i){let e=Y[n];if(e){let t=-1!==(k?k.findIndex(t=>t.src_path===e.metadata?.path):-1)?"ai_codebase_suggestion":"lexical_search_result";ei(e=>({...e,sourceOfLastInput:t})),d({save:L,sourceIndex:r,currentRowIndex:s,selectedFile:e,trackingProps:{location:O,source:t,entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}}),ed()}}else if(a&&Q[n]){let n=-1!==(k?k.findIndex(n=>n.src_path===e.selectedFile?.metadata?.path&&n.name===t.title):-1)?"ai_codebase_suggestion":"lexical_search_result";ei(e=>({...e,sourceOfLastInput:n})),l({save:L,sourceIndex:r,currentRowIndex:s,selectedComponent:t,action:"create",trackingProps:{location:O,source:n,entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}}),ed()}I.current&&I.current.length>0&&s&&I.current[s]?.focus()}let eu=(t||ee.canConnect)&&"connected"!==ee.state,ep=U&&"connected"===e.component.code_connect_info.v1.state;return(0,i.jsxs)("div",{className:f()("component_browser_input--container---QBDC",{"component_browser_input--containerWithEditButton--jIBVr":ep}),onBlur:P,children:[(0,i.jsxs)("div",{className:"component_browser_input--inputContainer--3wDJt",children:[(0,i.jsx)(z,{ref:H,disabled:n,items:V,maxItems:2,onAddItem:(e,t)=>{if(0===y.length&&v){el?.();return}switch(t){case 0:d({save:L,sourceIndex:r,currentRowIndex:s,selectedFile:{title:e.value,subtitle:e.value,metadata:{isCustomLink:!1,repository:{id:"",name:""},path:e.value}},trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}});break;case 1:l({save:L,sourceIndex:r,currentRowIndex:s,selectedComponent:{title:e.value,subtitle:e.value,metadata:{index:t}},action:"create",trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}})}},onBlur:e=>{let t=e.relatedTarget;t&&K.current?.contains(t)||W&&t&&W.current?.contains(t)||ei(e=>({...e,shouldBeVisible:!1,selectedIndex:0}))},onClearItems:()=>{d({save:L,sourceIndex:r,currentRowIndex:s,selectedFile:null,trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}}),ei(e=>({...e,shouldBeVisible:!1,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))},onFocus:()=>{D(e.component.node_id),ei(e=>{let t=0===y.length&&0===V.length&&(e.lastItemsLength>0||!e.sessionId)?crypto.randomUUID():e.sessionId;return{...e,shouldBeVisible:!0,selectedIndex:0,sessionId:t,lastItemsLength:V.length}})},onKeyDown:e=>{if("ArrowDown"===e.key){if(en.selectedIndex<et.results.length-1)return ei(e=>({...e,selectedIndex:e.selectedIndex+1})),e.preventDefault(),!0}else if("ArrowUp"===e.key){if(en.selectedIndex>0)return ei(e=>({...e,selectedIndex:e.selectedIndex-1})),e.preventDefault(),!0}else if("Enter"===e.key){let t=et.results[en.selectedIndex];if(t)return ec(t,en.selectedIndex),e.preventDefault(),!0}else if("Escape"===e.key)return ei(e=>({...e,shouldBeVisible:!1,selectedIndex:0})),e.currentTarget.blur(),e.preventDefault(),e.stopPropagation(),!0;return!1},onMaxItemsReached:el,onRemoveLastItem:e=>{switch(e){case 0:d({save:L,sourceIndex:r,currentRowIndex:s,selectedFile:null,trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}});break;case 1:l({save:L,sourceIndex:r,currentRowIndex:s,selectedComponent:null,action:"delete",trackingProps:{location:O,source:"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}})}},onRequestPlaceholder:eo,onValueChange:e=>{c({sourceIndex:r,value:e})},readonly:A,value:y,children:(0,i.jsx)(b,{...ee})}),ea&&(0,i.jsx)(S,{libraryKey:o,ref:W,onClose:()=>{ei(e=>({...e,shouldBeVisible:!1,selectedIndex:0}))}}),(0,i.jsx)(T.O,{ref:K,shouldBeVisible:en.shouldBeVisible&&M,isLoading:et.isLoading,items:et.results,selectedIndex:en.selectedIndex,onItemSelect:ec,portal:!0,inputRef:void 0!==s?I.current[s]:null})]}),U&&eu?(0,i.jsx)(Z,{showButton:!!eu,disabled:!ee.canConnect,onConfirmConnection:()=>u({row:e,sourceIndex:r,currentRowIndex:s,trackingProps:{location:O,source:en.sourceOfLastInput||"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}})}):!U&&(0,i.jsx)(Z,{showButton:!!eu,disabled:!ee.canConnect,onConfirmConnection:()=>u({row:e,sourceIndex:r,currentRowIndex:s,trackingProps:{location:O,source:en.sourceOfLastInput||"manual",entrypoint:R,sessionId:en.sessionId||crypto.randomUUID(),queryId:es}})}),ep&&(0,i.jsx)(X,{showButton:!!ep,disabled:!1,onEdit:()=>{let t=v?.subtitle??v?.title;h?.({codeConnectId:e.component.code_connect_info.v1.id,row:e,trackingProps:{location:O,entrypoint:R}}),t&&c({sourceIndex:r,value:t}),ei(e=>({...e,shouldBeVisible:!0,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))}})]})}},3519:(e,t,n)=>{n.d(t,{O:()=>p});var i=n(104076),a=n(716976),r=n(754245),s=n(17933),o=n(827695),l=n(684742),d=n(511570),c=n.n(d);let u="component_browser_input_dropdown--inputText--ppFSj",p=(0,a.forwardRef)(function({shouldBeVisible:e,items:t,onItemSelect:n,selectedIndex:d,isLoading:p,portal:m=!1,inputRef:h},f){let g=(0,a.useRef)(null),[_,x]=(0,a.useState)(null),y=(0,a.useContext)(s.Uk);if((0,a.useEffect)(()=>{if(m&&e&&h){if(h){let e=h.getBoundingClientRect();x({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX-4,width:e.width+8})}}else m||x(null)},[m,e,h]),(0,a.useEffect)(()=>{g.current&&f&&"object"==typeof f&&f.current&&g.current.scrollIntoView({block:"nearest",behavior:"smooth"})},[d,f]),!e||0===t.length&&!p)return null;let v=(0,i.jsx)("div",{className:c()("component_browser_input_dropdown--container--2FBO7",{"component_browser_input_dropdown--portalHidden--IVzT6":m&&!_}),style:m&&_?{position:"fixed",top:`${_.top}px`,left:`${_.left}px`,width:`${_.width}px`,zIndex:1e3}:void 0,children:p?(0,i.jsx)("li",{className:"component_browser_input_dropdown--loading--dViPC",children:(0,i.jsx)(o.k,{})}):(0,i.jsx)("ul",{ref:f,className:"component_browser_input_dropdown--list--m1Kui",children:t.map((e,t)=>(0,i.jsx)("li",{ref:t===d?g:null,children:(0,i.jsx)(l.E,{className:c()("component_browser_input_dropdown--item--7nu7x",{"component_browser_input_dropdown--selected--CWEgq":t===d}),onClick:()=>n(e,t),children:(0,i.jsxs)("div",{className:"component_browser_input_dropdown--content--eGCcQ",children:[(0,i.jsx)("div",{className:c()("component_browser_input_dropdown--title--LeadU",u),children:e.title}),e.subtitle&&(0,i.jsx)("div",{className:c()("component_browser_input_dropdown--subtitle--8GQKQ",u),children:e.subtitle})]})})},t))})});return m?(0,r.createPortal)(v,y?.current??document.body):v})},786069:(e,t,n)=>{n.d(t,{F:()=>u,I:()=>c});var i=n(716976),a=n(936639),r=n(833805),s=n(296217),o=n(346670);function l(e,t,n,i){return""===t?e.sort((e,t)=>e.name.localeCompare(t.name)).slice(0,20).map(e=>({title:e.name,subtitle:e.path,metadata:i(e)})):(0,a.$P)(t,e,{keySelector:e=>[e.path,e.name],threshold:.6,limit:10,ignoreCase:!0,ignoreSymbols:!0}).map(e=>({title:e.name,subtitle:e.path,metadata:i(e)})).slice(0,20)}function d({searchTerm:e,libraryKey:t}){let n=(0,s.OG)(t),a=n?.selectedRepositories?.[0],[l]=(0,r.IT)((0,o.Tp)({libraryKey:t,repository:a?.id??""}),{enabled:!!t&&n?.status===s.w6.Connected,key:"repositorySourceFilesQuery"});return{sourceFilesQuery:l,filePathToSearch:(0,i.useMemo)(()=>(function(e){let t=e.match(/^https?:\/\/github\.com\/([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_.]+)\/(?:blob|tree)\/([a-zA-Z0-9-_.]+)\/(.*)$/);if(t){let[,,,,e]=t;return e??""}let n=e.replace(/^https?:\/\//,"");return/^[a-zA-Z0-9\-_./\\]+$/.test(n)?n:""})(e),[e]),defaultRepository:a}}function c({searchTerm:e,libraryKey:t,suggestions:n}){let{sourceFilesQuery:a,filePathToSearch:r,defaultRepository:s}=d({searchTerm:e,libraryKey:t});return{result:(0,i.useMemo)(()=>{if(!a.data)return[];let t=l(a.data,r,s,e=>({isCustomLink:!1,repository:{id:s?.id??"",name:s?.name??""},path:e.path,name:e.name,sha:e.sha,type:e.type}));if(e||!n)return t;let i=new Set,o=[];return n.forEach(e=>{i.has(e.src_path)||(i.add(e.src_path),o.push({title:e.src_path.split("/").pop()||"",subtitle:e.src_path,metadata:{isCustomLink:!1,repository:{id:s?.id??"",name:s?.name??""},path:e.src_path}}))}),[...o,...t.filter(e=>!i.has(e.subtitle??""))]},[a.data,r,s,e,n]),isLoading:"loading"===a.status}}function u({searchTerm:e,libraryKey:t}){let{sourceFilesQuery:n,filePathToSearch:a,defaultRepository:r}=d({searchTerm:e,libraryKey:t});return{result:(0,i.useMemo)(()=>n.data?l(function(e){let t=new Set;return e.forEach(e=>{let n=e.path.split("/");for(let e=1;e<n.length;e++){let i=n.slice(0,e).join("/");t.add(i)}}),Array.from(t).map(e=>({path:e,name:e.split("/").pop()||e}))}(n.data),a,r,e=>({isCustomLink:!1,repository:{id:r?.id??"",name:r?.name??""},path:e.path,name:e.name,sha:"",type:"directory"})):[],[n.data,a,r]),isLoading:"loading"===n.status}}},693168:(e,t,n)=>{n.d(t,{I:()=>i,s:()=>a});let i="code_connect_library_created_connection",a="code_connect_library_loaded"},412431:(e,t,n)=>{n.d(t,{kf:()=>c,Av:()=>u,f$:()=>p});var i=n(104076),a=n(192075),r=n(560201);let s="component_browser_component_tooltip--label--UrsiF",o=(0,r.ex)("component_browser_component_tooltip",function(e){return(0,i.jsxs)("div",{className:"component_browser_component_tooltip--container--aXFSa",children:[e.componentName&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:s,children:(0,a.t)("dev_handoff.component_browser.component_name_tooltip")}),(0,i.jsx)("div",{children:e.componentName})]}),e.filepath&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:s,children:(0,a.t)("dev_handoff.component_browser.component_filepath_tooltip")}),(0,i.jsx)("div",{children:e.filepath})]})]})},e=>({componentName:e.getAttribute("data-tooltip-componentName")||void 0,filepath:e.getAttribute("data-tooltip-filepath")||void 0}));var l=n(564914),d=n(894210);function c(e,t){let n=new Set;for(let i of e)t.has(i)&&n.add(i);return Array.from(n)}function u(e){return e.type===l.PW.COMPONENT?e.component_key:e.key}function p({componentName:e,filepath:t}){return t||e?{"data-tooltip-type":d.Ib.SPECIAL,"data-tooltip":o,"data-tooltip-componentName":e,"data-tooltip-filepath":t}:{}}},447247:(e,t,n)=>{n.d(t,{a:()=>a});var i=n(188220);function a(){return(0,i.g)()}},37495:(e,t,n)=>{n.d(t,{y:()=>i});function i(e){if(!e)return null;let t=JSON.parse(e??"");return Array.isArray(t)?t[0]:t}},476949:(e,t,n)=>{n.d(t,{O:()=>c});var i=n(104076),a=n(716976),r=n(877643),s=n(156412),o=n(192075);let l="component_browser_progress_bar--iconWrapper--S6nHV",d=[{key:"connected",color:"var(--color-icon-component)",renderIcon:()=>(0,i.jsx)("div",{className:l,style:{backgroundColor:"var(--color-bg-component-tertiary)"},children:(0,i.jsx)(r.s,{style:{"--color-icon":"var(--color-icon-component)"}})})},{key:"notConnected",color:"var(--color-border)",renderIcon:()=>(0,i.jsx)("div",{className:l,children:(0,i.jsx)(r.s,{})})},{key:"ignored",color:"var(--color-icon-tertiary)",renderIcon:()=>(0,i.jsx)("div",{className:l,children:(0,i.jsx)(s.O,{})})}];function c({componentCounts:e,width:t=104}){let[n,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)({x:0,y:0}),c=(0,a.useRef)(null),u=(0,a.useRef)(null),p=e.all,m=d.map(t=>({...t,count:e[t.key],percentage:e[t.key]/p*100}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:c,className:"component_browser_progress_bar--progressBarWrapper--3OKXm",onMouseEnter:()=>{if(u.current&&(clearTimeout(u.current),u.current=null),c.current){let e=c.current.getBoundingClientRect();l({x:e.right-240,y:e.bottom+4})}r(!0)},onMouseLeave:()=>{u.current=setTimeout(()=>{r(!1)},100)},children:(0,i.jsx)("div",{className:"component_browser_progress_bar--progressBar--it3WJ",style:{width:`${t}px`},children:m.filter(e=>e.count>0).map((e,t)=>(0,i.jsx)("div",{className:"component_browser_progress_bar--progressSegment--GMeIk",style:{width:`${e.percentage}%`,backgroundColor:e.color,marginLeft:t>0?"1px":"0"}},e.key))})}),n&&(0,i.jsx)("div",{className:"component_browser_progress_bar--hoverWindow--GMG2v",style:{left:s.x,top:s.y,width:240},onMouseEnter:()=>{u.current&&(clearTimeout(u.current),u.current=null)},onMouseLeave:()=>{r(!1)},children:(0,i.jsxs)("div",{className:"component_browser_progress_bar--windowContent--qOOfC",children:[(0,i.jsx)("h2",{className:"component_browser_progress_bar--windowTitle--0a5dA",children:(0,o.t)("dev_handoff.component_browser.progress_bar.window_title")}),m.map(e=>(0,i.jsxs)("div",{className:"component_browser_progress_bar--statRow--6OVcm",children:[e.renderIcon(),(0,i.jsx)("div",{className:"component_browser_progress_bar--statLabel--dx8zX",children:function(e){switch(e.key){case"connected":return(0,o.t)("dev_handoff.component_browser.progress_bar.connected",{percentage:Math.round(e.percentage)});case"ignored":return(0,o.t)("dev_handoff.component_browser.progress_bar.skipped",{percentage:Math.round(e.percentage)});case"notConnected":return(0,o.t)("dev_handoff.component_browser.progress_bar.not_connected",{percentage:Math.round(e.percentage)});default:return""}}(e)})]},e.key))]})})]})}},636763:(e,t,n)=>{n.d(t,{v:()=>p});var i=n(104076),a=n(716976),r=n(511570),s=n.n(r),o=n(428710),l=n(490698),d=n(328341),c=n(864755);let u="component_browser_window_push_container--panel--kS6vh";function p({children:e,dataTestId:t,derenderTimeout:n=300,animate:r}){let c=a.useMemo(()=>e.flat().filter(e=>!!e),[e]),u=c.length-1,p=(0,d.ZC)(u),h=(0,d.ZC)(c),[f,g]=a.useState([]),_=(0,l.$)(u);a.useLayoutEffect(function(){_&&(void 0!==p&&h&&p>u?(g(h.slice(u+1)),null!==n&&setTimeout(()=>g([]),n)):p!==u&&g([]))},[e,n,u,_,h,p]);let x=a.useMemo(()=>c.concat(f),[c,f]),y=a.useMemo(()=>{let e=(0,o.decimalToPercent)(-u),t=`translateX(${e})`;return{transform:t,WebkitTransform:t,width:"100%",height:"100%"}},[u]);return(0,i.jsx)("div",{style:y,className:s()("component_browser_window_push_container--container--qDOra",{"component_browser_window_push_container--animate--SU9Gt":r}),children:x.map((e,a)=>(0,i.jsx)(m,{current:a===u,dataTestId:t,timeout:n,children:e},a))})}function m({children:e,current:t,dataTestId:n,timeout:r}){let s=(0,l.h)(t),[o,d]=a.useState(!1);a.useLayoutEffect(()=>{s&&(t||null===r?d(!1):setTimeout(()=>{d(!0)},r))},[t,s,r]);let p={width:"100%",height:"100%"};return(0,i.jsx)(c.H,{isHidden:!t,children:(0,i.jsx)("div",{"aria-hidden":!t,style:p,className:u,"data-testid":t?n??"push-container-current-panel":void 0,children:(0,i.jsx)("div",{style:{...p,display:o?"none":void 0},className:u,children:e})})})}},271909:(e,t,n)=>{n.d(t,{w:()=>m3,O:()=>m4});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(812714),l=n(795033),d=n(751464),c=n(744374),u=n(638004),p=n(1188),m=n(883765),h=n(76616),f=n(653899),g=n(437540),_=n(772523),x=n(835307),y=n(964231),v=n(315361);function b({doReport:e}){let t=_.tw()?.getCopy(),{commentsActive:n,isNodeSelected:i}=(0,g.R)(e=>({commentsActive:e.mirror.appModel.currentTool===y.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0})),r=(0,v.uQ)(),s=(0,x.Fk)((e,t)=>e?.get(t??"")?.isTopLevelFrame(),r);(0,f.h)(()=>{let t=h.sn.tryStop("switch_to_inspect_mode.right_panel_tti");e&&t&&(0,m.sx)("switch_to_inspect_mode.right_panel_tti",{elapsedMs:t,isNodeSelected:i},{forwardToDatadog:!0}),h.sn.tryStop("dev_handoff.select_node_tti")}),a.useEffect(()=>{r&&!n&&requestAnimationFrame(()=>{let n=h.sn.tryStop("dev_handoff.select_node_tti");e&&n&&(0,m.sx)("dev_handoff.select_node_tti",{elapsedMs:n,isTopLevelFrame:s,activeTab:t},{forwardToDatadog:!0})})},[r,t,n,e,s])}var C=n(202913),E=n(549571),j=n(432777),w=n(111297),T=n(968169),k=n(802529),I=n(211862),S=n(6449),N=n(383310),A=n(785751),L=n(827695),O=n(790009),R=n(980852),P=n(498520),M=n(449572),D=n(513369),F=n(236631),B=n(659062),U=n(917360),H=n(755444),V=n(192075),G=n(244205),z=n(59849),K=n(19877),W=n(760848),Z=n(144638);let q=(0,H.ck)("bd68de9e9483d946011f6721dc4d37bcf7cc3021");function X(){let e=(0,K.U)("blocking_modal"),t=(0,I.tS)()??"",n=(0,M.Rs)(z.D2i,{key:t}),r=(0,M.Rs)(z.oBY,{key:t}),s=n.data?.file.status!=="error"&&n.data?.file.data?.hasPermission&&r.data?.file?.hasPermission===!1,o=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.J,{className:Z.DD,children:s?(0,V.tx)("dev_handoff.paywall.pending_modal.grace_period_end.title"):(0,V.tx)("dev_handoff.paywall.pending_modal.no_grace_period.title")}),(0,i.jsx)("div",{className:Z.P_,children:s?(0,V.tx)("dev_handoff.paywall.pending_modal.grace_period.description"):(0,V.tx)("dev_handoff.paywall.pending_modal.no_grace_period.billing_remodel_description")})]}),l=(0,a.useCallback)(()=>{e("design")},[e]);return(0,i.jsx)(W.I,{imgSrc:q,content:o,modalType:"request pending modal",primaryButtonProps:{label:(0,V.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:l,trackingDescriptor:G.c.BACK_TO_DESIGN,type:"back to design"}})}let Y=(0,H.ck)("3d1d2d876c1adeb5d3e1256825cff2d5984d76fb");function J(){let e=(0,K.U)("blocking_modal"),t=(0,a.useCallback)(()=>{e("design")},[e]);return(0,i.jsx)(W.I,{imgSrc:Y,content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.J,{className:Z.DD,children:(0,V.tx)("dev_handoff.paywall.success_modal.youre_all_set")}),(0,i.jsx)("div",{className:Z.P_,children:(0,V.tx)("dev_handoff.paywall.success_modal.well_let_you_know_when")})]}),modalType:"request sent modal",primaryButtonProps:{label:(0,V.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:t,trackingDescriptor:G.c.BACK_TO_DESIGN,type:"back to design"}})}var Q=n(913772),$=n(404898),ee=n(944350),et=n(853039),en=n(104836),ei=n(382137),ea=n(946996),er=n(655839),es=n(514549),eo=n(219199),el=n(58212),ed=n(937455);let ec=(0,H.ck)("4d633d6262a8b5f838196a652d687dd1c9123fda");function eu({upgradeRequestId:e}){let t=(0,K.U)("blocking_modal"),n=(0,r.wA)(),s=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Z.DD,children:(0,V.tx)("dev_handoff.paywall.request_reminder_modal.title")}),(0,i.jsx)("div",{className:Z.P_,children:(0,V.tx)("dev_handoff.paywall.request_reminder_modal.description")})]}),o=()=>{n(el.F.enqueue({message:(0,V.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,V.t)("admin_dashboard.requests.error_reload"),action:()=>{eo.Ay.reload("Seat request reminder error")}}}))},l=(0,a.useCallback)(()=>{t("design")},[t]);return(0,i.jsx)(W.I,{imgSrc:ec,modalType:"request reminder modal",content:s,primaryButtonProps:{label:(0,V.tx)("dev_handoff.paywall.request_reminder_modal.button.send_a_reminder"),onClick:()=>{ed.w.nudgeRequest({request_id:e}).catch(()=>{o()})},trackingDescriptor:G.c.SEND_REMINDER,type:"send reminder"},secondaryButtonProps:{label:(0,V.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:l,trackingDescriptor:G.c.BACK_TO_DESIGN,type:"back to design"}})}let ep=(0,H.ck)("9a55aebf20fd5e927f609cc0e256f6e782b20d78");function em(){let e=(0,K.U)("blocking_modal"),t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Z.DD,children:(0,V.tx)("dev_handoff.paywall.reminder_sent_modal.title")}),(0,i.jsx)("div",{className:Z.P_,children:(0,V.tx)("dev_handoff.paywall.reminder_sent_modal.description")})]}),n=(0,a.useCallback)(()=>{e("design")},[e]);return(0,i.jsx)(W.I,{imgSrc:ep,content:t,modalType:"reminder sent modal",primaryButtonProps:{label:(0,V.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:n,trackingDescriptor:G.c.BACK_TO_DESIGN,type:"back to design"}})}var eh=n(221669),ef=n(260745);let eg=(0,H.ck)("0cc1682e265ffe998009571ee821470ca30ed096");function e_(){let{primaryButtonProps:e,secondaryButtonProps:t}=(0,$.BC)({entryPoint:ef.i$.BlockingModal}),n=!(0,eh.n)(),a=(0,i.jsxs)("div",{className:F.s.gap6.$,children:[(0,i.jsx)("div",{className:Z.DD,children:(0,V.tx)("dev_handoff.paywall.blocking_modal.title.locked")}),(0,i.jsx)("div",{className:Z.P_,children:n?(0,V.tx)("dev_handoff.paywall.blocking_modal.content.locked_upgrade"):(0,V.tx)("dev_handoff.paywall.blocking_modal.content.locked")})]});return(0,i.jsx)(W.I,{content:a,hideImgBorder:!0,imgHeight:32,imgSrc:eg,imgWidth:32,modalType:"team locked modal",primaryButtonProps:{...e,type:n?"upgrade":"back to design"},secondaryButtonProps:n&&t?{...t,type:"back to design"}:void 0})}function ex(){!function(){let[e,t]=(0,l.fp)(A.t),n=(0,Q.J)(),i=(0,I.tS)()??"",r=(0,$.w_)(),s=(0,M.Rs)(z.Pns,{key:i}),o=r.loading,d=r.hasPendingRequest,c=s.data?.file.status!=="error"&&!!s.data?.file.data?.hasPermission,u=(0,a.useRef)(!1);a.useEffect(()=>{if(!n)return;d&&!u.current&&(u.current=!0);let i=u.current;!o&&i&&!d&&c&&e===A.c.REQUESTED&&(t(A.c.DEFAULT),u.current=!1)},[e,c,d,o,n,t])}();let e=(0,l.md)(A.t),t=(0,I.tS)()??"",n=(0,Q.J)(),s=(0,en.cD)(),o=(0,r.d4)(e=>(0,et.oc)(s,e)),d=(0,M.Rs)(z.XGw,{key:t}),{hasPendingRequest:c,getUpgradePathway:u,getIsUpgradeHandlerLoading:p}=(0,ei.wH)(),m=c(ee.G_.DEV_MODE)&&u(ee.G_.DEV_MODE)!==ea.J.AUTO_PATHWAY,h=function(e){let t=(0,D.oA)(e.data?.file),n=t?.currentPlanUser?.type===ee.OL.ORG,i=t?.currentPlanUser;return n?i?.devModeAccountTypeRequest??null:i?.designAccountTypeRequest??null}(d),{requestCanBeNudged:f,requestHasBeenNudged:g,upgradeRequestId:_}=h?(0,er.qm)(h):{requestCanBeNudged:!1,requestHasBeenNudged:!1,upgradeRequestId:null};if(n&&p())return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ev,{}),(0,i.jsx)(ey,{})]});if(o)return(0,i.jsx)(e_,{});if(_&&n&&m){if(g)return(0,i.jsx)(em,{});if(f)return(0,i.jsx)(eu,{upgradeRequestId:_})}return n&&e===A.c.REQUESTED&&m?(0,i.jsx)(J,{}):n&&e===A.c.DEFAULT&&m?(0,i.jsx)(X,{}):e===A.c.DEFAULT?(0,i.jsx)(es.R,{}):(0,i.jsx)(ev,{})}function ey(){let e=(0,R.UN)().getCurrentPage(),t=(0,P.HD)(e?.backgroundColor??"");return(0,i.jsx)(O.J,{mode:t?"dark":"light",children:(0,i.jsx)("div",{"data-testid":"loading-spinner",className:Z.u1,children:(0,i.jsx)(L.k,{size:"lg"})})})}function ev(){return(0,i.jsx)("div",{className:F.s.fixed.top0.left0.right0.bottom0.wFull.hFull.zIndexModal.$,style:B.sx.add({backgroundColor:"var(--color-modalbackdrop)"}).$})}function eb(){let e=(0,R.UN)().getCurrentPage(),t=e?.backgroundColor?(0,P.YU)({...e.backgroundColor,a:.9}):"var(--color-modalbackdrop)";return(0,i.jsx)("div",{className:F.s.fixed.top0.right0.bottom0.left0.$,style:B.sx.add({backgroundColor:t}).$})}function eC(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb,{}),(0,i.jsx)(ex,{})]})}var eE=n(12866),ej=n(511570),ew=n.n(ej),eT=n(284467),ek=n(652539),eI=n(278491),eS=n(99160),eN=n(128396),eA=n(413535),eL=n(12811),eO=n(675476),eR=n(523860);let eP=[0,1,2,3,4];function eM(){let e="ui3"===(0,eE.DP)().version;return(0,i.jsx)(eO.Q,{children:(0,i.jsx)(eS.$,{width:240,disableResizing:!0,children:(0,i.jsxs)("div",{className:ew()(eI.Dm,"left_panel--nodesPanel---qMcy dev_handoff_nodes_panel--nodesPanel--4Pea0"),"data-testid":"dev-mode-paywall-left-panel",children:[(0,i.jsx)(eN.s,{}),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eL.n,{}),(0,i.jsx)(eA.d,{})]}),(0,i.jsx)("div",{className:"left_panel--panelTitle--Q4BOG dev_handoff_nodes_panel--panelTitle--wcEcM",children:(0,V.tx)("dev_handoff.tag.ready_for_development")}),(0,i.jsxs)("div",{className:"left_panel--loadingParentRow--9WZnv",children:[(0,i.jsx)(ek.B,{className:"left_panel--chevron--ApMP6",svg:eR.A}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,primary:!0})]}),eP.map(e=>(0,i.jsxs)("div",{className:"left_panel--loadingThumbnailRow--PEBJC",children:[(0,i.jsx)(eT.Qp,{animationType:eT.JR.NO_SHIMMER,className:"left_panel--loadingThumbnail--gEHnl"}),(0,i.jsxs)("div",{className:"left_panel--loadingThumbnailTexts--VS9R6",children:[(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,primary:!0}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,primary:!0})]})]},e)),(0,i.jsx)("div",{className:"left_panel--transparentPanelScrim--axhW3"})]})})})}var eD=n(276800),eF=n(933135);let eB=(0,a.memo)(function(e){return(0,eF.O)()?(0,i.jsxs)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:[(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M13 8A5 5 0 1 1 3 8a5 5 0 0 1 10 0m1 0A6 6 0 1 1 2 8a6 6 0 0 1 12 0",clipRule:"evenodd"}),(0,i.jsx)("path",{stroke:"var(--fpl-icon-color, var(--color-icon))",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5.5V8l1.5 1.5"})]}):(0,i.jsxs)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:[(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 7.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m1 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0",clipRule:"evenodd"}),(0,i.jsx)("path",{stroke:"var(--fpl-icon-color, var(--color-icon))",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 5.5v2l1 1"})]})});var eU=n(957581),eH=n(762564),eV=n(10055),eG=n(684742),ez=n(574855),eK=n(529906),eW=n.n(eK),eZ=n(416381),eq=n(609668),eX=n(95523),eY=n(364031),eJ=n(599441),eQ=n(894210),e$=n(415567),e0=n(697874),e1=n(896058),e2=n(664320),e3=n(487375);let e5="box_model--imageBox--XoIJh box_model--_border--PCElt box_model--_layoutFlex--pL0jp",e4="box_model--variableValueContainer--oxu-X box_model--_valueContainerBase--pMK2K",e6="box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K",e7="box_model--valueNonValid--H7q6F",e9="box_model--value--1jh75 ellipsis--ellipsis--Tjyfa",e8="box_model--innerSizeBoxValue--l-qDX ellipsis--ellipsis--Tjyfa",te="box_model--variable--GK5G3",tt="box_model--innerSizeBoxVariable--Lw6dO",tn="box_model--gapLine--BM-H0",ti="box_model--gapVertical--t9aDg box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",ta="box_model--gapHorizontal--gLY-T box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",tr="box_model--gapValueContainer--GsVpn box_model--_layoutFlex--pL0jp",ts="box_model--gapValue--sE-2O",to=a.createContext(!1),tl=()=>a.useContext(to);function td({fillContainer:e=!1,loadingState:t=!1}){let n=(0,v.uQ)();if(!n)return null;let a=s.w3z?.getAssetInfo(n)?.type,r=!t&&(0,eq.fk)(a);return(0,i.jsx)(e0.VZ,{hideHeader:!0,noPadding:!0,noBorder:!0,recordingKey:"boxModel",children:(0,i.jsx)(to.Provider,{value:t,children:(0,i.jsxs)(tc,{fillContainer:e,children:[(0,i.jsx)(tw,{}),(0,i.jsx)(tx,{side:eX.gP.TOP}),(0,i.jsx)(tw,{}),(0,i.jsx)(tx,{side:eX.gP.LEFT}),(0,i.jsxs)(tu,{children:[(0,i.jsx)(tb,{corner:eX.Ck.TOP_LEFT}),(0,i.jsxs)(tg,{children:[(0,i.jsx)(t_,{children:(0,V.tx)("dev_handoff.box_model.border")}),(0,i.jsx)(tC,{side:eX.gP.TOP})]}),(0,i.jsx)(tb,{corner:eX.Ck.TOP_RIGHT}),(0,i.jsx)(tC,{side:eX.gP.LEFT}),r?(0,i.jsx)(tp,{assetType:a}):(0,i.jsxs)(th,{children:[(0,i.jsx)(tw,{}),(0,i.jsxs)("div",{className:"box_model--paddingTopMiddle--GiNbR",children:[(0,i.jsx)("div",{className:"box_model--paddingLabel--MsGiF",children:(0,i.jsx)(t_,{children:(0,V.tx)("dev_handoff.box_model.padding")})}),(0,i.jsx)(tE,{side:eX.gP.TOP})]}),(0,i.jsx)(tw,{}),(0,i.jsx)(tE,{side:eX.gP.LEFT}),(0,i.jsx)(tf,{}),(0,i.jsx)(tE,{side:eX.gP.RIGHT}),(0,i.jsx)(tw,{}),(0,i.jsx)(tE,{side:eX.gP.BOTTOM}),(0,i.jsx)(tw,{})]}),(0,i.jsx)(tC,{side:eX.gP.RIGHT}),(0,i.jsx)(tb,{corner:eX.Ck.BOTTOM_LEFT}),(0,i.jsx)(tC,{side:eX.gP.BOTTOM}),(0,i.jsx)(tb,{corner:eX.Ck.BOTTOM_RIGHT})]}),(0,i.jsx)(tx,{side:eX.gP.RIGHT}),(0,i.jsx)(tw,{}),(0,i.jsx)(tx,{side:eX.gP.BOTTOM}),(0,i.jsx)(tw,{}),(0,i.jsx)(tT,{})]})})})}function tc({children:e,fillContainer:t}){let n=(0,eX.$L)(eX.gP.TOP),a=(0,eX.$L)(eX.gP.BOTTOM),r=!tl()&&(!n||!n.distance)&&(!a||!a.distance);return(0,i.jsx)("div",{className:ew()("box_model--gapBox--6aFgq common--well--J0WtH",r&&"box_model--gapBoxNoVertical--WqZQf",t&&"box_model--fillContainer--TZUSv"),children:e})}function tu({children:e}){let t=(0,eX.W7)(),n=tl();return(0,i.jsx)("div",{className:"box_model--borderBox--Ta011 box_model--_border--PCElt",style:n?{borderRadius:16}:(0,eX.F9)(t),children:e})}function tp({assetType:e}){let t=(0,eX.yV)(),n=(0,eX.jt)(),a=(0,eX.lK)();return a?(0,i.jsx)(tm,{image:a}):(0,i.jsx)("div",{className:e5,children:(0,i.jsx)(eq.B7,{assetType:e,pxWidth:t,pxHeight:n,shouldShowTypeLabel:!0,dataTestId:"boxModelAssetDetails"})})}function tm({image:e}){let t=(0,ez.md)(eq.Qm),n=(0,e1.x$)(e),a=(0,e1.W3)(e);return"VIDEO"!==e.type&&a&&t?.[a]&&(n=t[a]),(0,i.jsx)("div",{className:e5,children:(0,i.jsx)(e1.iV,{image:e,children:(0,i.jsxs)("div",{className:"box_model--imageLabel--x4eRc box_model--_layoutFlex--pL0jp",children:[(0,i.jsxs)("span",{className:"box_model--imageFileName--uK9h5 ellipsis--ellipsis--Tjyfa",children:[(0,e1.Rh)(e),"."]}),(0,i.jsx)("span",{className:"box_model--imageFileType--SYUTK",children:n})]})})})}function th({children:e}){let t=tl();return(0,i.jsx)("div",{className:ew()("box_model--paddingBox--x3ddV box_model--_borderStrong--VLX4w",{"box_model--paddingBoxGrayscale--SAsVz":t}),children:e})}function tf(){let e=(0,eX.yV)(),t=(0,eX.jt)(),n=tI(tk(e)),a=tI(tk(t)),r=(0,e2.lC)("WIDTH"),s=(0,e2.lC)("HEIGHT"),o=(0,e$.Cj)(n),l=(0,e$.Cj)(a);if(tl())return(0,i.jsx)("div",{className:"box_model--innerSizeBoxGrayscale--geDzo box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"});let d=ty(n,"WIDTH"),c=ty(a,"HEIGHT");return(0,i.jsxs)("div",{className:"box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp",children:[(0,i.jsx)(eG.E,{className:ew()(e8,{[tt]:!!r,[te]:!!r||!!s}),onClick:o,htmlAttributes:{"data-testid":"layoutWidth","data-tooltip":r?.name,"data-tooltip-type":eQ.Ib.TEXT},"aria-label":d,children:r?(0,i.jsx)(e3.wG,{isNarrow:!0,text:n.toString(),isNonInteractive:!0}):n}),(0,i.jsx)("span",{className:"box_model--innerSizeBoxX--pxeFw",children:"\xd7"}),(0,i.jsx)(eG.E,{className:ew()(e8,{[tt]:!!s,[te]:!!r||!!s}),onClick:l,htmlAttributes:{"data-testid":"layoutHeight","data-tooltip":s?.name,"data-tooltip-type":eQ.Ib.TEXT},"aria-label":c,children:s?(0,i.jsx)(e3.wG,{isNarrow:!0,text:a.toString(),isNonInteractive:!0}):a})]})}function tg({children:e}){return(0,i.jsx)("div",{className:"box_model--labelAndValue--tkNzd",children:e})}function t_({children:e}){return(0,i.jsx)("div",{className:"box_model--label--A5RBK text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:e})}function tx({side:e}){let{distance:t,type:n}=(0,eX.$L)(e),a=tk(t),r=n??"distance",s=(0,e$.Cj)(a);if(tl())return(0,i.jsxs)("div",{className:ew()({[ti]:e===eX.gP.TOP||e===eX.gP.BOTTOM,[ta]:e===eX.gP.LEFT||e===eX.gP.RIGHT,"box_model--unrealGap--XhkPS":!0}),children:[(0,i.jsx)("div",{className:tn}),(0,i.jsx)("div",{className:tr,children:(0,i.jsx)("span",{className:ts,children:"\xa0"})})]});if(!(0,eX.u9)(a))return(0,i.jsx)(tw,{});let o=function(e,t,n){if(n&&t)switch(t){case"distance":switch(e){case eX.gP.TOP:return(0,V.t)("dev_handoff.box_model.copy_distance_top",{value:n});case eX.gP.RIGHT:return(0,V.t)("dev_handoff.box_model.copy_distance_right",{value:n});case eX.gP.BOTTOM:return(0,V.t)("dev_handoff.box_model.copy_distance_bottom",{value:n});case eX.gP.LEFT:return(0,V.t)("dev_handoff.box_model.copy_distance_left",{value:n})}case"padding":switch(e){case eX.gP.TOP:return(0,V.t)("dev_handoff.box_model.copy_padding_top_to_parent",{value:n});case eX.gP.RIGHT:return(0,V.t)("dev_handoff.box_model.copy_padding_right_to_parent",{value:n});case eX.gP.BOTTOM:return(0,V.t)("dev_handoff.box_model.copy_padding_bottom_to_parent",{value:n});case eX.gP.LEFT:return(0,V.t)("dev_handoff.box_model.copy_padding_left_to_parent",{value:n})}case"spacing":switch(e){case eX.gP.LEFT:return(0,V.t)("dev_handoff.box_model.copy_gap_left",{value:n});case eX.gP.TOP:return(0,V.t)("dev_handoff.box_model.copy_gap_top",{value:n});case eX.gP.RIGHT:return(0,V.t)("dev_handoff.box_model.copy_gap_right",{value:n});case eX.gP.BOTTOM:return(0,V.t)("dev_handoff.box_model.copy_gap_bottom",{value:n})}}}(e,n,a);return(0,i.jsxs)("div",{className:ew()({[ti]:e===eX.gP.TOP||e===eX.gP.BOTTOM,[ta]:e===eX.gP.LEFT||e===eX.gP.RIGHT,"box_model--paddingGap--Ca1Vq":"padding"===r,"box_model--spacingGap--PWtB6":"spacing"===r,"box_model--distanceGap--ophi6":"distance"===r}),children:[(0,i.jsx)("div",{className:tn}),(0,i.jsx)(eG.E,{className:tr,onClick:s,htmlAttributes:{"data-testid":`layoutGap${eW()(e)}`},"aria-label":o,children:(0,i.jsx)("span",{className:ts,children:a})})]})}function ty(e,t){if(e)switch(t){case"STACK_PADDING_TOP":return(0,V.t)("dev_handoff.box_model.copy_padding_top",{value:e});case"STACK_PADDING_RIGHT":return(0,V.t)("dev_handoff.box_model.copy_padding_right",{value:e});case"STACK_PADDING_BOTTOM":return(0,V.t)("dev_handoff.box_model.copy_padding_bottom",{value:e});case"STACK_PADDING_LEFT":return(0,V.t)("dev_handoff.box_model.copy_padding_left",{value:e});case"BORDER_TOP_WEIGHT":return(0,V.t)("dev_handoff.box_model.copy_border_top",{value:e});case"BORDER_RIGHT_WEIGHT":return(0,V.t)("dev_handoff.box_model.copy_border_right",{value:e});case"BORDER_BOTTOM_WEIGHT":return(0,V.t)("dev_handoff.box_model.copy_border_bottom",{value:e});case"BORDER_LEFT_WEIGHT":return(0,V.t)("dev_handoff.box_model.copy_border_left",{value:e});case"RECTANGLE_TOP_LEFT_CORNER_RADIUS":return(0,V.t)("dev_handoff.box_model.copy_border_radius_top_left",{value:e});case"RECTANGLE_TOP_RIGHT_CORNER_RADIUS":return(0,V.t)("dev_handoff.box_model.copy_border_radius_top_right",{value:e});case"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS":return(0,V.t)("dev_handoff.box_model.copy_border_radius_bottom_right",{value:e});case"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS":return(0,V.t)("dev_handoff.box_model.copy_border_radius_bottom_left",{value:e});case"WIDTH":return(0,V.t)("dev_handoff.box_model.copy_width",{value:e});case"HEIGHT":return(0,V.t)("dev_handoff.box_model.copy_height",{value:e});default:return}}function tv({value:e,variableConsumptionField:t}){let n=tk(e),a=(0,eX.u9)(n),r=(0,e2.lC)(t),s=(0,e$.Cj)(n),o=ty(a?n:void 0,t),l=n;return r&&n&&(l=(0,i.jsx)(e3.wG,{isNarrow:!0,text:a?n:"0",tooltip:r?.name,isNonInteractive:!0})),{isValid:a,valueElement:l,displayValue:n,copyValue:s,ariaLabel:o}}function tb({corner:e}){let t=(0,eX.Fr)(e),n=(0,eZ.v4)(),r=(0,eJ.QO)(n,t),s=a.useMemo(()=>{switch(e){case eX.Ck.TOP_LEFT:return"box_model--borderTopLeft--Yitgl";case eX.Ck.TOP_RIGHT:return"box_model--borderTopRight--Jtfzn";case eX.Ck.BOTTOM_LEFT:return"box_model--borderBottomLeft--aRpWV";case eX.Ck.BOTTOM_RIGHT:return"box_model--borderBottomRight--Rkq3s"}},[e]),o=a.useMemo(()=>{switch(e){case eX.Ck.TOP_LEFT:return"layoutBorderRadiusTopLeft";case eX.Ck.TOP_RIGHT:return"layoutBorderRadiusTopRight";case eX.Ck.BOTTOM_LEFT:return"layoutBorderRadiusBottomLeft";case eX.Ck.BOTTOM_RIGHT:return"layoutBorderRadiusBottomRight"}},[e]),{isValid:l,valueElement:d,displayValue:c,ariaLabel:u}=tv({value:t,variableConsumptionField:a.useMemo(()=>{switch(e){case eX.Ck.TOP_LEFT:return"RECTANGLE_TOP_LEFT_CORNER_RADIUS";case eX.Ck.TOP_RIGHT:return"RECTANGLE_TOP_RIGHT_CORNER_RADIUS";case eX.Ck.BOTTOM_LEFT:return"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS";case eX.Ck.BOTTOM_RIGHT:return"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"}},[e])}),p=tl(),m=n.id===eV.uz||n.id===eV.MT?t:r,h=c?(0,eX.EN)(e,m):{},f=(0,e$.Cj)(m);if(p)return(0,i.jsx)(tw,{});if(!l)return(0,i.jsxs)("div",{className:ew()(e6,s),"data-testid":o,children:[(0,i.jsx)("span",{className:e7,children:d}),(0,i.jsx)("div",{className:"box_model--borderRadiusNonValid--qTtSU",style:h,"data-testid":`${o}Highlight`})]});let g=te?e4:e6,_=Math.min(t??0,eX.Tk-4);return(0,i.jsxs)(eG.E,{style:{"--temp-border-radius":`${_}px`},className:ew()(g,s),onClick:f,htmlAttributes:{"data-testid":o},"aria-label":u,children:[(0,i.jsx)("span",{className:ew()(e9,"box_model--borderRadiusValue--tDyKD ellipsis--ellipsis--Tjyfa"),children:d}),(0,i.jsx)("div",{className:"box_model--borderRadiusHighlight--bd9Sc",style:h,"data-testid":`${o}Highlight`})]})}function tC({side:e}){let t=(0,eX.Qz)(e),n=a.useMemo(()=>{switch(e){case eX.gP.TOP:return"BORDER_TOP_WEIGHT";case eX.gP.RIGHT:return"BORDER_RIGHT_WEIGHT";case eX.gP.BOTTOM:return"BORDER_BOTTOM_WEIGHT";case eX.gP.LEFT:return"BORDER_LEFT_WEIGHT"}},[e]);return tl()?(0,i.jsx)(tw,{}):(0,i.jsx)(tj,{value:t,variableConsumptionField:n,dataTestId:`layoutBorder${eW()(e)}`,isVertical:e===eX.gP.LEFT||e===eX.gP.RIGHT})}function tE({side:e}){let t=(0,eX.tr)(e),n=a.useMemo(()=>{switch(e){case eX.gP.TOP:return"STACK_PADDING_TOP";case eX.gP.RIGHT:return"STACK_PADDING_RIGHT";case eX.gP.BOTTOM:return"STACK_PADDING_BOTTOM";case eX.gP.LEFT:return"STACK_PADDING_LEFT"}},[e]);return tl()?(0,i.jsx)(tw,{}):(0,i.jsx)(tj,{value:t,variableConsumptionField:n,dataTestId:`layoutPadding${eW()(e)}`,isVertical:e===eX.gP.LEFT||e===eX.gP.RIGHT})}function tj({value:e,dataTestId:t,variableConsumptionField:n,isVertical:a}){let{isValid:r,valueElement:s,copyValue:o,ariaLabel:l}=tv({value:e,variableConsumptionField:n??"MISSING"}),d=te?e4:a?"box_model--valueContainerVertical--AtQ8B box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K":"box_model--valueContainerHorizontal--BqOkd box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K";return r?(0,i.jsx)(eG.E,{className:d,onClick:o,"aria-label":l,children:(0,i.jsx)("span",{className:e9,"data-testid":t,children:s})}):(0,i.jsx)("div",{className:d,children:(0,i.jsx)("span",{className:e7,"data-testid":t,children:s})})}function tw(){return(0,i.jsx)("div",{})}function tT(){let e=(0,e$.Cj)("box-sizing: border-box"),t=(0,eZ.v4)(),[n]=(0,eY.$h)();return tl()||t.id!==eV.uz||"code"!==n?null:(0,i.jsx)(eG.E,{className:"box_model--borderBoxMessage--2jJc- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e,htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.box_model.border-box-tooltip"),"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,V.tx)("dev_handoff.box_model.border-box")})}function tk(e){let t=(0,eZ.v4)(),n=(0,eJ.QO)(t,e,eX.B5);return void 0===e?"-":n}function tI(e){return!e||e.startsWith("-")?"0":e}var tS=n(687111),tN=n(373547),tA=n(342053),tL=n(728233),tO=n(948311),tR=n(375e3),tP=n(6855);let tM="header--mainContainer--S8PcV",tD="header--headerContents--0Pvld",tF="header--layerRowContainer--qqv5Y",tB="header--headerButtons--Lt3iE",tU="header--headerButtonsRevamp--ZO6T5",tH="header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",tV="header--layerName--s4pA8 ellipsis--ellipsis--Tjyfa",tG="header--layerNameWrapper---RxUM",tz="header--copyableLayerName--oMhyj",tK="header--layerIcon--uDEQt header--icon--IGzM0",tW="header--layerIconSymbol--irpWG header--icon--IGzM0",tZ="header--statusIcon--9Pk8T header--icon--IGzM0",tq="header--layerType--vaDds ellipsis--ellipsis--Tjyfa",tX="header--iconType--VW9Gs";var tY=n(31686),tJ=n(691201),tQ=n(386358),t$=n(347080),t0=n(839808);let t1=[{prefix:"display:",width:35},{prefix:"height:",width:35},{prefix:"padding:",width:145},{prefix:"justify-content:",width:100},{prefix:"align-items:",width:47},{prefix:"gap:",width:47},{prefix:"flex:",width:47}];function t2(){return(0,i.jsx)("code",{className:"right_panel--generatedCode--4M5KP code_panel--generatedCode--XGoAV code_panels_shared--code--VPQ05",style:{minWidth:"100%",whiteSpace:"normal"},children:t1.map(({prefix:e,width:t},n)=>(0,i.jsxs)("div",{className:"right_panel--codeLine--YFK5t",children:[(0,i.jsx)("div",{children:e}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:t,height:10}})]},n))})}let t3=[{width:97,color:500},{width:80,color:400},{width:120,color:200}],t5=[{width:97},{width:80},{width:120}],t4={inspectionMode:"code",inspectionModes:["properties","code"],setInspectionMode:eD.lQ,supportsAlternativeUnits:!0,preferenceOptions:[],preferences:{},codeLanguageApi:{codeLanguage:{type:"first-party",id:eV.uz},onCodeLanguageChange:eD.lQ,activeCodegenPlugin:null,codeLanguageOptions:[],formatter:{format:e=>(0,V.t)("dev_handoff.code.lang_css")}}};function t6(){let e="dark"===(0,tN.DP)()?"dark":"light",t="ui3"===(0,eE.DP)().version;return(0,i.jsxs)("div",{className:ew()("right_panel--drillDownContainer--FTkvu",tJ.Lp,tJ.Ph),"data-testid":"dev-mode-paywall-right-panel",children:[(0,i.jsx)("div",{className:ew()(tJ.ux,tJ.Ph),children:(0,i.jsxs)("div",{className:ew()("right_panel--panelContainer--BwtVM dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",tJ.KE,eI.Dm,tJ.Ph),children:[t&&(0,i.jsx)(tO.v2,{}),(0,i.jsxs)("div",{className:F.s.wFull.flex.flexRow.flexShrink0.itemsCenter.borderBox.bSolid.bb1.pr8.colorBorder.justifyBetween.colorBg.$,children:[(0,i.jsxs)(tA.y,{withBorder:!1,children:[(0,i.jsx)("div",{className:"right_panel--tabActive--X7gwU legacy_pages_panel--tabActive--hmo0j legacy_pages_panel--tab--inhND","data-label":(0,V.t)("dev_handoff.tab.inspect"),children:(0,V.tx)("dev_handoff.tab.inspect")}),(0,i.jsx)("div",{className:"right_panel--tab--qt6mo legacy_pages_panel--tab--inhND","data-label":(0,V.t)("dev_handoff.tab.plugins"),children:(0,V.tx)("dev_handoff.tab.plugins")})]}),t&&(0,i.jsx)(tR.H,{recordingKey:"propertiesPanel.zoomMenu"})]}),(0,i.jsxs)("div",{className:"right_panel--inspectPanelContainer--ZujXg inspect_panel--inspectPanelContainer--SZhfY",children:[(0,i.jsx)(e0.VZ,{recordingKey:"paywall-header",formattedHeader:(0,i.jsxs)("div",{className:tH,children:[(0,i.jsx)("div",{dir:"auto",className:tV,children:(0,V.tx)("dev_handoff.paywall.panel.button")}),(0,i.jsx)("div",{className:tB})]}),children:(0,i.jsx)("div",{className:tD,children:(0,i.jsxs)("div",{className:F.s.flex.flexColumn.gap16.pb8.wFull.$,children:[(0,i.jsxs)("span",{className:F.s.flex.flexRow.gap8.itemsCenter.wFull.$,children:[(0,i.jsx)("span",{className:"right_panel--layerIcon--9-ijp",children:(0,i.jsx)(eU.t,{svg:t0.A})}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:97,height:8}})]}),(0,i.jsxs)("div",{className:F.s.flex.flexRow.gap8.itemsCenter.wFull.$,children:[(0,i.jsx)(eB,{className:tX}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:117,height:8}})]})]})})}),(0,i.jsxs)(e0.VZ,{title:(0,V.t)("dev_handoff.layer_properties"),recordingKey:"code_panel",collapsiblePanelKey:"code",children:[(0,i.jsx)(td,{loadingState:!0}),(0,i.jsx)(tS.n2,{preferencesApi:t4,inspectionModeLayout:"tabs"}),(0,i.jsx)(eH.ue,{header:(0,i.jsx)(eH.n2,{type:"default",title:(0,V.t)("inspect_panel.properties.layout"),actions:(0,i.jsx)("div",{})}),content:(0,i.jsx)(t2,{}),shouldShowMore:!1,showMoreLinesCount:0,onShowMore:eD.lQ,leftGutter:(0,eH.vl)(t1)}),(0,i.jsx)("div",{className:F.s.wFull.h12.$}),(0,i.jsx)(e0.VZ,{title:(0,V.t)("inspect_panel.colors.title"),isSubsection:!0,recordingKey:"colors",children:t3.map(({width:t,color:n},a)=>(0,i.jsx)(tL._p,{className:tY.vQ,disableDetailModalEntry:!0,children:(0,i.jsxs)(tP.Z,{isNonInteractive:!0,hasIcon:!0,className:ew()(tQ.Io,tQ.yQ,F.s.wFull.$),children:[(0,i.jsx)("div",{className:"right_panel--colorThumbnailUI3--r9Rcx",style:{backgroundColor:t$[`grey_${n}_${e}`]}}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:t}})]})},a))})]}),(0,i.jsx)(e0.VZ,{title:(0,V.t)("dev_handoff.assets"),recordingKey:"paywall-assets",collapsiblePanelKey:"assets",children:t5.map(({width:e},t)=>(0,i.jsxs)("div",{className:"right_panel--assetRow--mAxTq asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,i.jsx)(eT.Qp,{animationType:eT.JR.NO_SHIMMER,className:"right_panel--assetLoadingPreview--hjUOI"}),(0,i.jsxs)("div",{className:"right_panel--assetDetails--Q51H5 asset_panel--assetDetails--xfCbP",children:[(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:e,height:8}}),(0,i.jsx)(eT.Wi,{animationType:eT.JR.NO_SHIMMER,style:{width:60,height:8}})]})]},t))})]})]})}),(0,i.jsx)("div",{className:"right_panel--transparentPanelScrim--o6uwc"})]})}var t7=n(293422),t9=n(555013),t8=n(248043),ne=n(186003);let nt="vscode_paywall--vscodePaywallBody--pUvWv text--fontPos13--xW8hS text--_fontBase--QdLsd";var nn=n(756305);let ni=(0,H.ck)("vscode_intro_1200.mp4");function na({fileKey:e,teamId:t,folderId:n,parentOrgId:r,canAccessDevModeEntryPoint:s}){let l=(0,$.Gu)(),d=[(0,V.t)("dev_handoff.paywall.vscode.list1"),(0,V.t)("dev_handoff.paywall.vscode.list2"),(0,V.t)("dev_handoff.paywall.vscode.list3"),(0,V.t)("dev_handoff.paywall.vscode.list4")],c=a.useCallback(()=>{(0,m.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Upgrade CTAAAA",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:n},{forwardToDatadog:!0}),(0,ne.Qn)((0,t8.jN)({file:{key:e},isDevHandoff:!0}))},[e,n,r,t]),u=a.useCallback(()=>{(0,m.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Open docs",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:n},{forwardToDatadog:!0}),(0,ne.Qn)("https://help.figma.com/hc/articles/15023121296151-Figma-for-VS-Code")},[e,n,r,t]),p=a.useCallback(()=>{(0,m.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Play Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:n},{forwardToDatadog:!0})},[e,n,r,t]),h=a.useCallback(()=>{(0,m.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Finish Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:n},{forwardToDatadog:!0})},[e,n,r,t]);return(0,i.jsx)("div",{className:"vscode_paywall--wrapper--65Gba",children:(0,i.jsxs)("div",{className:F.s.flex.maxWFull.wFull.hFull.$,children:[(0,i.jsx)("div",{className:F.s.flex.flexGrow0.flexColumn.pl32.pt32.$,children:(0,i.jsx)(ek.B,{dataTestId:"logo",title:"logo",ariaLabel:"logo",svg:nn.A,useOriginalSrcFills_DEPRECATED:!0})}),(0,i.jsxs)("div",{className:F.s.flex.flexGrow1.flexColumn.justifyCenter.alignTop.pt32.pl20.pr32.pb32.$,children:[(0,i.jsx)("div",{className:"vscode_paywall--vscodePaywallTitle---OrBg text--fontPos24--YppUD text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.paywall.vscode.title")}),(0,i.jsx)(t9.Kz,{direction:"y",multiple:1}),(0,i.jsx)("div",{className:nt,children:(0,V.tx)("dev_handoff.paywall.vscode.description")}),(0,i.jsx)(t9.Kz,{direction:"y",multiple:3}),(0,i.jsx)("ul",{className:"vscode_paywall--vscodePaywallList--egn63",children:d.map((e,t)=>(0,i.jsx)("li",{className:"vscode_paywall--vscodePaywallListItem--Es3mO text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e},t))}),(0,i.jsx)(t9.Kz,{direction:"y",multiple:3}),(0,i.jsx)("div",{className:nt,children:s?(0,V.tx)("dev_handoff.paywall.vscode.need_access",{devMode:(0,i.jsx)("strong",{children:(0,V.tx)("dev_handoff.paywall.vscode.need_access_dev_mode")})}):(0,V.tx)("dev_handoff.paywall.vscode.no_access")}),(0,i.jsx)(t9.Kz,{direction:"y",multiple:3}),(0,i.jsxs)("div",{className:"vscode_paywall--vscodePaywallButtons--JWqPr",children:[s&&l?(0,i.jsx)(t7.$n,{variant:"signup",disabled:!0,children:(0,V.tx)("dev_handoff.paywall.request_pending")}):(0,i.jsx)(t7.$n,{variant:"signup",onClick:c,disabled:!s,children:(0,V.tx)("dev_handoff.paywall.get_dev_mode")}),(0,i.jsx)(t7.$n,{variant:"secondary",onClick:u,children:(0,V.tx)("dev_handoff.paywall.vscode.view_button")})]}),!(0,o.kc)().dt_vscode_ready_for_dev&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t9.Kz,{direction:"y",multiple:5}),(0,i.jsx)("div",{className:"vscode_paywall--vscodeVideoDescription--b-s1K text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.paywall.vscode.video")}),(0,i.jsx)(t9.Kz,{direction:"y",multiple:1}),(0,i.jsx)("div",{className:"vscode_paywall--vscodeVideoContainer--VcPIA",children:(0,i.jsx)("video",{controls:!0,className:"vscode_paywall--vscodeVideo--sEOiZ",src:ni,onPlay:p,onEnded:h})})]})]})]})})}function nr(){let e=(0,I.q5)(),t=(0,E.U4)();return(0,i.jsx)(S.M,{isShowing:!0,children:(0,i.jsx)(na,{fileKey:e?.key||"",teamId:e?.teamId||"",parentOrgId:e?.parentOrgId||"",folderId:e?.folderId||"",canAccessDevModeEntryPoint:t})})}function ns(){let e=a.useMemo(()=>k.z4.getIsExtension(),[]),t=(0,j.W)();a.useEffect(()=>{(0,N.xT)(240,N.Yh,N.g_),(0,T.UK)().devHandoffInspectSplitPosition.set(320)},[]),b({doReport:!1});let[n,r]=(0,l.fp)(A.t);return(a.useEffect(()=>()=>r(A.c.DEFAULT),[r]),e)?(0,i.jsx)(nr,{}):(0,i.jsx)(p.tH,{boundaryKey:"DevModePaywall",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:u.e.MONETIZATION_EXPANSION},children:(0,i.jsxs)(w.fu,{name:"Dev Mode Paywall",properties:t,enabled:t?.gracePeriod!==void 0,children:[(0,i.jsx)(C.OM,{}),(0,i.jsx)(eC,{}),(0,i.jsx)(eM,{}),(0,i.jsx)(t6,{})]})})}var no=n(598626),nl=n(4921),nd=n(255054),nc=n(843717),nu=n(139318),np=n(557471),nm=n(383424),nh=n(662812),nf=n(286138);let ng=(0,a.createContext)(null),n_=(0,a.forwardRef)(({manager:e,htmlAttributes:t,...n},a)=>(0,i.jsx)(ng.Provider,{value:e,children:(0,i.jsx)("table",{role:"treegrid",ref:a,...t,...n})}));n_.displayName="TreeGridPrimitive.Root",(0,a.forwardRef)(({htmlAttributes:e,...t},n)=>(0,i.jsx)("thead",{"data-fpl-component":"primitive",ref:n,...e,...t})).displayName="TreeGridPrimitive.Header";let nx=(0,a.forwardRef)(({htmlAttributes:e,...t},n)=>(0,i.jsx)(nf.E,{as:"thead",ref:n,...e,...t}));nx.displayName="TreeGridPrimitive.HiddenHeader",(0,a.forwardRef)(({htmlAttributes:e,...t},n)=>(0,i.jsx)("tr",{"data-fpl-component":"primitive",ref:n,...e,...t})).displayName="TreeGridPrimitive.HeaderRow";let ny=(0,a.forwardRef)(({htmlAttributes:e,...t},n)=>(0,i.jsx)("th",{"data-fpl-component":"primitive",ref:n,...e,...t}));function nv({htmlAttributes:e,children:t},n){let{rowHeightEstimate:a,listRef:r,visibleEntries:s,collapseIndex:o,collapseManager:l,selectedRows:d}=(0,np.$)(ng,"TreeGrid.Body","TreeGrid.Root");return(0,i.jsx)(nd.A,{"data-fpl-component":"primitive",children:({height:c,width:u})=>(0,i.jsx)(nc._m,{ref:r,innerRef:n,outerElementType:({style:e,...t})=>(0,i.jsx)(nm.P,{fill:!0,theme:{rootStyle:{width:u,height:c},scrollStyle:e},...t}),innerElementType:t=>(0,i.jsx)("tbody",{...t,...e}),height:c,width:u,estimatedItemSize:a,itemSize:()=>a,itemCount:s.length,children:({index:e,style:n})=>{let i=s[e];return t({data:{entry:i,index:e,selected:d.includes(e),collapse:()=>o(e),collapsed:i.children?.length?l[i.id].children:void 0},props:{style:n,index:e}})}})})}ny.displayName="TreeGridPrimitive.HeaderCell",nv.displayName="TreeGridPrimitive.Body";let nb=(0,a.forwardRef)(nv);nb.displayName="TreeGridPrimitive.Body";let nC=(0,a.createContext)(0),nE=(0,a.forwardRef)(({children:e,index:t,htmlAttributes:n,...r},s)=>{let o=(0,nu.M)(s),{collapseManager:l,visibleEntries:d,activeIndex:c,selectedRows:u,setIndex:p,handleKeyDown:m,selectIndex:h}=(0,np.$)(ng,"TreeGrid.Row","TreeGrid.Root"),f=d[t],g=l[f.id];(0,a.useEffect)(()=>{c.row===t&&o.current?.focus()},[c.row,t]);let _=-1===c.row&&0===t||c.row===t;return(0,i.jsx)(nC.Provider,{value:t,children:(0,i.jsx)("tr",{"data-fpl-component":"primitive",ref:o,...n,...r,tabIndex:_?0:-1,onFocus:()=>{-1===c.row&&p({row:t})},onClick:e=>{if(e.target.closest('button, [role="button"], a[href], input, select, textarea, label'))return;let n=e.shiftKey;h(t,e.ctrlKey||e.metaKey,n)},"data-fpl-selected":u.includes(t)?"true":void 0,"data-fpl-focused":c.row===t&&void 0===c.cell,"aria-expanded":g.children,"aria-level":f.depth,onKeyDown:m,"aria-setsize":f.setSize,"aria-posinset":f.positionInSet,children:e})})});nE.displayName="TreeGridPrimitive.Row";let nj=(0,a.forwardRef)(({htmlAttributes:e,column:t,...n},r)=>{let s=(0,nu.M)(r),{activeIndex:o}=(0,np.$)(ng,"TreeGrid.Cell","TreeGrid.Root"),l=(0,np.$)(nC,"TreeGrid.Cell","TreeGrid.Row")===o.row&&t===o.cell;return(0,a.useEffect)(()=>{l&&s.current?.focus()},[l]),(0,i.jsx)("td",{"data-fpl-component":"primitive",ref:s,"data-fpl-focused":l,role:"gridcell",...e,...n})});nj.displayName="TreeGridPrimitive.Cell";var nw=n(602755),nT=n(708669),nk=n(674524),nI=n(359166),nS=n(366815),nN=n(72138),nA=n(74528),nL=n(114720),nO=n(332285),nR=n(371952),nP=n(852415),nM=n(34378);let nD="variables_side_panel--caretButton---gYek",nF="variables_side_panel--hovered---OfAh",nB="variables_side_panel--selected--v6nN1",nU="variables_side_panel--numVars--EMeTC",nH=[],nV=(0,l.eU)(0);function nG(){let e=(0,l.md)(nL.$),t=a.useMemo(()=>({entrypoint:e}),[e]);return(0,i.jsx)(nO.gs,{name:"full_table",trackingProps:t,skipOpenAndClose:!0,children:(0,i.jsx)(nK,{})})}function nz({variableSets:e}){(0,nA.Yy)(e);let t=(0,nA.R6)(e),n=(0,nA.i_)(),r=a.useCallback(e=>{n(null,e)},[n]);return t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nW,{currentVariableSet:t,setCurrentVariableSet:r}),(0,i.jsx)(nX,{variableSet:t})]}):null}function nK(){let e=(0,nR.yp)(),t=(0,nA.zL)(),n=t&&e.length;return t&&n?(0,i.jsx)(nz,{variableSets:e}):(0,i.jsx)("div",{className:"variables_side_panel--emptyPanelBorder--M7UIx"})}function nW({currentVariableSet:e,setCurrentVariableSet:t}){let n=(0,nR.yp)(),r="variable-sets-list",s=a.useRef(null),o=(0,nO.ON)(),[d,c]=a.useState(!0),[u,p]=(0,l.fp)(nV),m=a.useMemo(()=>Math.min(32*n.length,144),[n.length]);a.useEffect(()=>{0===u&&p(m)},[m,u,p]);let h=a.useCallback(()=>{o("toggle_collections",{type:d?"collapse":"expand"}),c(e=>!e)},[d,o]);return(0,i.jsxs)("div",{className:"variables_side_panel--variableSetsList--by7HP",children:[(0,i.jsxs)(eG.E,{className:"variables_side_panel--header--fc-N2",onClick:h,"aria-label":d?(0,V.t)("dev_handoff.variables.table_collections_local_collapse_aria_label"):(0,V.t)("dev_handoff.variables.table_collections_local_expand_aria_label"),"aria-expanded":d,"aria-controls":r,children:[(0,i.jsx)("div",{className:ew()(nD,"variables_side_panel--headerCaret--cJljI"),children:d?(0,i.jsx)(nw.O,{}):(0,i.jsx)(nT.k,{})}),(0,i.jsx)("div",{className:"variables_side_panel--variableSetsHeader--xvYxN ellipsis--ellipsis--Tjyfa",children:(0,V.tx)("dev_handoff.variables.table_collections_local")})]}),d&&(0,i.jsx)("div",{id:r,ref:s,children:(0,i.jsx)(nP.wV,{side:"bottom",size:u,defaultSize:m,onResize:p,className:F.s.relative.$,children:(0,i.jsx)(nN.P,{className:"variables_side_panel--variableSetsScrollContainer--qTzl5",children:n.map(n=>(0,i.jsx)(nq,{variableSet:n,isSelected:e.node_id===n.node_id,setCurrentVariableSet:t,panelRef:s},n.node_id))})})})]})}function nZ({label:e,number:t,isSelected:n,onClick:r,rowRef:s,indent:o,recordingKey:l,containerClassName:d}){let[c,u]=a.useState(!1);return(0,i.jsx)("div",{className:ew()("variables_side_panel--sidebarRow--ZJg5r",d),ref:s,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:(0,i.jsxs)(eG.E,{className:ew()("variables_side_panel--button--nNls6",{[nB]:n,[nF]:c}),style:o?{paddingLeft:`${24*o}px`}:void 0,onClick:r,recordingKey:l?(0,nk.Pt)("dev_handoff.variables_table.sidebar_row",l):void 0,children:[(0,i.jsx)("div",{className:F.s.truncate.if(n,F.s.textBodyMediumStrong).$,children:e}),void 0!==t&&(0,i.jsx)("div",{className:ew()(F.s.truncate.textBodyMedium.colorTextSecondary.$,nU),"data-testid":l&&`dev_handoff.variables_table.count.${l}`,children:t})]})})}function nq({variableSet:e,setCurrentVariableSet:t,isSelected:n,panelRef:r}){let s=a.useRef(null),{numVariables:o}=nJ(e),[d,c]=(0,l.fp)(nA.bE),u=(0,nA.i_)(),p=(0,nO.ON)();a.useEffect(()=>{if(n){let e=s.current?.getBoundingClientRect()?.top??9999,t=s.current?.getBoundingClientRect()?.bottom??0,n=r.current?.getBoundingClientRect()?.top??0,i=r.current?.getBoundingClientRect()?.bottom??9999;(e<n||t>i)&&s.current?.scrollIntoView({behavior:"smooth"})}},[n,r]);let m=a.useCallback(()=>{p("click_collection"),u(null,e.node_id),t(e.node_id),c(nA.eb)},[p,t,e.node_id,c,u]);return(0,i.jsx)(nZ,{label:e.name,number:o,isSelected:n,onClick:m,rowRef:s,recordingKey:`collection.${e.name}`})}function nX({variableSet:e}){let{numVariables:t,groups:n,variableGroupCounts:r}=nJ(e),{manager:s}=function({items:e,rowHeightEstimate:t,columns:n,multiselect:i=!1,initialDepth:r=0,rowSelection:s}){let{entries:o,collapseManager:l}=(0,a.useMemo)(()=>(function e(t,n={initialDepth:0},i=0){let a=[],r=[],s={},o=t.length;for(let l=0;l<t.length;l++){let d=t[l],c=l+1;if(d.children?.length){let{entries:t,collapseManager:l,idList:u}=e(d.children,n,i+1),p=d.children.map(({id:e})=>e);r.push({...d,children:u,immediateChildren:p,depth:i,setSize:o,positionInSet:c}),r.push(...t),s={...s,...l,[d.id]:{self:i<=n.initialDepth,children:i+1<=n.initialDepth}},a.push(d.id,...u)}else r.push({...d,depth:i,children:void 0,setSize:o,positionInSet:c}),a.push(d.id),s[d.id]={self:i<=n.initialDepth}}return{entries:r,collapseManager:s,idList:a}})(e,{initialDepth:r},0),[r,e]),d=(0,a.useRef)(),[c,u]=(0,a.useState)([]),p=(0,a.useRef)(null),[m,h]=(0,a.useState)(l),[f,g]=(0,a.useState)({row:-1}),_=(0,a.useMemo)(()=>o.filter(({id:e})=>m[e].self),[m,o]);return(0,a.useEffect)(()=>{s&&s(c.map(e=>o[e]))},[c,o,s]),(0,a.useMemo)(()=>{function e(e){let t=_[e],n=m[t.id];if(!t||void 0===n.children)return;let i=n.children?t.children:t.immediateChildren;if(!i)return;let a=i.reduce((e,t)=>(e[t]={self:!n.children,children:!0!==n.children&&m[t].children},e),{});h(e=>({...e,...a,[t.id]:{self:n.self,children:!n.children}}))}return{manager:{collapseManager:m,activeIndex:f,selectedRows:c,selectIndex:function(e,t=!1,n=!1){let a=p.current;if(!t&&!n||!i){1===c.length&&c[0]===e?u([]):u([e]),p.current=e;return}if(n&&null!==a){let n=Math.min(a,e),i=Array.from({length:Math.max(a,e)-n+1},(e,t)=>n+t);t?u([...new Set([...c,...i])]):u(i);return}if(t){c.includes(e)?u(c.filter(t=>t!==e)):u([...c,e]),p.current=e;return}u([e]),p.current=e},entries:o,deselectIndex:function(e){p.current=null,u(t=>t.filter(t=>t!==e))},setIndex:g,visibleEntries:_,collapseRows:function(e){let t=o.reduce((t,{id:n,children:i})=>{if(!e.includes(n)||!i)return t;for(let e=0;e<i.length;e++)t[i[e]]={self:!1,children:!0};return t},{});h(e=>({...e,...t}))},listRef:d,handleKeyDown:function(t){let i=m[_[f.row].id];switch(t.code){case"Home":g(e=>(d.current?.scrollToItem(0),{...e,row:0})),(0,nh.Ju)(t);break;case"End":g(e=>(d.current?.scrollToItem(_.length-1),{...e,row:_.length-1})),(0,nh.Ju)(t);break;case"ArrowDown":g(e=>{if(e.row===_.length-1)return e;let t={...e,row:e.row+1};return d.current?.scrollToItem(t.row),t}),(0,nh.Ju)(t);break;case"ArrowUp":g(e=>{if(0===e.row)return e;let t={...e,row:e.row-1};return d.current?.scrollToItem(t.row),t}),(0,nh.Ju)(t);break;case"ArrowLeft":0===f.cell&&!0===i.children?(e(f.row),g({row:f.row,cell:void 0})):g(e=>0===e.cell?{...e,cell:void 0}:void 0!==e.cell?{...e,cell:e.cell-1}:e),(0,nh.Ju)(t);break;case"ArrowRight":void 0===f.cell&&!1===i.children?(e(f.row),g({row:f.row,cell:0})):g(e=>e.cell!==n-1&&void 0!==e.cell?{...e,cell:e.cell+1}:void 0===e.cell?{...e,cell:0}:e),(0,nh.Ju)(t)}},collapseAll:function(){h(o.reduce((e,{id:t,depth:n})=>(e[t]={self:0===n,children:!1},e),{}))},collapseIndex:e,expandAll:function(){h(o.reduce((e,{id:t})=>(e[t]={self:!0,children:!0},e),{}))},rowHeightEstimate:t}}},[m,f,c,o,_,t,i,n])}({items:[a.useMemo(()=>n[0]&&(0,o.kc)().fpl_variables_tree_grid?function e(t){let n=t.name.endsWith("/")?t.name.slice(0,-1).split("/").pop()||"":t.name,i=t.variables.map(({node_id:e})=>e),a=[];for(let n of t.subgroups){let t=e(n);a.push(t),t.children&&(i=[...i,...t.variables])}let r={id:""===t.name?"ALL_VARIABLES":t.name.slice(0,-1),name:""===t.name?(0,V.t)("dev_handoff.variables.table_all_vars"):n,variableCount:i.length,variables:i,children:a};return a.length>0&&(r.children=a),r}(n[0]):{id:"",name:(0,V.t)("dev_handoff.variables.table_all_vars"),variableCount:0,variables:[]},[n])],rowHeightEstimate:24,initialDepth:1/0,columns:1,multiselect:!1,rowSelection:([e])=>{e&&(p("click_group"),u(e.id))}}),d=a.useMemo(()=>n.map(e=>e.name),[n]),[c,u]=(0,l.fp)(nA.bE),p=(0,nO.ON)(),m=(0,I.tS)(),[h,f]=(0,nI.Wz)(`dev_mode_variables_sidebar_collapsed_groups__${m}`,{}),g=h[e.node_id]??nH,_=a.useCallback((t,n)=>{n.stopPropagation();let i=""===t?nA.eb:t;f(t=>{let n=t[e.node_id]??nH,a=n.includes(i)?n.filter(e=>e!==i):[...n,i];return{...t,[e.node_id]:a}})},[f,e.node_id]),x=a.useCallback(e=>{p("click_group"),u(e)},[p,u]);return(a.useEffect(()=>{d.includes(c)||u(nA.eb)},[d,c,u]),0===t)?null:(0,o.kc)().fpl_variables_tree_grid?(0,i.jsxs)(n_,{manager:s,style:{width:"100%",height:"100%"},children:[(0,i.jsxs)(nx,{children:[(0,i.jsx)(ny,{children:(0,V.t)("dev_handoff.variables.table_column_visibility")}),(0,i.jsx)(ny,{children:(0,V.t)("dev_handoff.variables.table_column_name")}),(0,i.jsx)(ny,{children:(0,V.t)("dev_handoff.variables.table_column_variable_count")})]}),(0,i.jsx)(nb,{children:({data:e,props:{style:t,index:n}})=>(0,i.jsxs)(nE,{className:"variables_side_panel--fplTreeRow--mKgCw",index:n,style:{paddingLeft:`${1.5*e.entry.depth}rem`,...t},children:[(0,i.jsx)(nj,{column:0,children:e.entry.children?(0,i.jsx)(nl.f,{onIcon:(0,i.jsx)(nw.O,{}),offIcon:(0,i.jsx)(nT.k,{}),checked:e.collapsed,onChange:e.collapse,"aria-label":(0,V.t)("dev_handoff.variables.table_groups_expand_aria_label")}):null}),(0,i.jsx)(nj,{column:1,style:{minWidth:"3rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.entry.name}),(0,i.jsx)(nj,{column:2,style:{textAlign:"right"},children:e.entry.variableCount})]})})]}):(0,i.jsx)(nN.P,{className:"variables_side_panel--variableGroupsScrollContainer--B2ilG",children:n.map((e,t)=>(0,i.jsx)(nY,{canShowCaret:e.subgroups.length>0,collapsedGroupNames:g,containerClassName:t===n.length-1?"variables_side_panel--isLastRow--LyNKQ":void 0,label:e.name,onClickCaret:_,recordingKey:""===e.name?"group.all_variables":`group.${e.name}`,selectedGroup:c,setSelectedGroup:x,variableGroupCounts:r},e.name))})}function nY({label:e,variableGroupCounts:t,selectedGroup:n,setSelectedGroup:r,containerClassName:s,recordingKey:o,canShowCaret:l,onClickCaret:d,collapsedGroupNames:c}){let[u,p]=a.useState(!1),m=""===e,h=m?n===nA.eb:n===e,{labelToDisplay:f,number:g,indent:_,isCollapsed:x,isInCollapsedGroup:y}=(0,a.useMemo)(()=>{let n=e.split("/"),i=n.pop()??"",a=m?(0,V.t)("dev_handoff.variables.table_all_vars"):i,r=n.length,s=m?nA.eb:e,o=c.includes(s),l=c.some(e=>!m&&e===nA.eb||e!==s&&s.startsWith(`${e}/`));return{number:t[e],indent:r,labelToDisplay:a,isCollapsed:o,isInCollapsedGroup:l}},[m,c,e,t]),v=a.useCallback(()=>{r(m?nA.eb:e)},[r,m,e]);return y?null:(0,i.jsx)("div",{className:ew()("variables_side_panel--groupRow--bvXHW",s),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,i.jsxs)(nS.D8,{className:ew()("variables_side_panel--groupButton--M6HtP",{[nB]:h,[nF]:u}),style:_?{paddingLeft:`${24*_}px`}:void 0,onClick:v,recordingKey:(0,nk.Pt)("dev_handoff.variables_table.sidebar_row",o),children:[l&&(0,i.jsx)(eG.E,{onClick:t=>d(e,t),"aria-label":x?(0,V.t)("dev_handoff.variables.table_groups_expand_aria_label"):(0,V.t)("dev_handoff.variables.table_groups_collapse_aria_label"),className:ew()(nD,"variables_side_panel--rowCaret--MC8Fl"),children:x?(0,i.jsx)(nT.k,{}):(0,i.jsx)(nw.O,{})}),(0,i.jsxs)("div",{className:ew()("variables_side_panel--buttonContent--oy54B",{"variables_side_panel--noCaret--E9UAF":!l}),children:[(0,i.jsx)("div",{className:F.s.truncate.$,children:f}),g&&(0,i.jsx)("div",{className:ew()(F.s.truncate.textBodyMedium.colorTextSecondary.$,nU),"data-testid":o&&`dev_handoff.variables_table.count.${o}`,children:g})]})]})})}function nJ(e){let t=(0,nA.vo)(e),n=t.find(e=>""===e.name),i=(0,nM.GC)(n).length,a={};return t.forEach(e=>{a[e.name]=(0,nM.GC)(e).length}),{numVariables:i,groups:t,variableGroupCounts:a}}var nQ=n(443192),n$=n(435869),n0=n(344354),n1=n(867570),n2=n(83202),n3=n(508011),n5=n(74620),n4=n(762783),n6=n(587277),n7=n(592726),n9=n(174730),n8=n(737791),ie=n(306728),it=n(97945),ii=n(315515),ia=n(299117),ir=n(965685),is=n(819851),io=n(90844),il=n(422872),id=n(381059),ic=n(143277),iu=n(765516),ip=n(61102),im=n(205798),ih=n(643330),ig=n(441030),i_=n(826666);function ix(){let e=(0,l.md)(id.mp),t=(0,is.m0)(),n=(0,n5.aV)(),{uniqueId:r,show:o,isShowing:d,complete:c}=(0,il.e)({overlay:ig.War,priority:ic.N.SECONDARY_MODAL},[e]),u=(0,a.useCallback)(()=>{!n&&t&&o({canShow:e=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(e)})},[n,o,t]);(0,io.E)(r,(0,im.wX)("dev"),()=>{u()});let p=(0,ir.uh)(),m=(0,i.jsx)("span",{style:{fontWeight:"bold",display:"contents"},children:p(s.NLJ.DROPPER_COLOR)});return(0,i.jsx)(ip.rq,{arrowPosition:ih.F_.BOTTOM,clickOutsideToHide:!0,description:(0,V.tx)("dev_handoff.eyedropper.onboarding_body",{shortcutText:m}),isShowing:d,media:(0,i.jsx)(iu.y,{src:(0,H.ck)("0b9e6e49a3c90f0d872b021c82a55b9d0bf71927"),alt:(0,V.t)("dev_handoff.eyedropper.onboarding_image_alt"),aspectRatio:1843/1037}),onClose:c,targetKey:i_.K,title:(0,V.tx)("dev_handoff.eyedropper.onboarding_title"),trackingContextName:"Eyedropper Tool In Dev Mode Onboarding",width:240})}var iy=n(661379),iv=n(993604),ib=n(81786),iC=n(369923),iE=n(85598),ij=n(910372),iw=n(929302),iT=n(91478),ik=n(268389),iI=n(420680),iS=n(649154),iN=n(902892),iA=n(423128),iL=n(166887),iO=n(235711);let iR="dev_handoff_seen_config_wizard",iP=(0,iO.Fu)(iR);var iM=n(458769),iD=n(989745),iF=n(70055),iB=n(45551),iU=n(331451),iH=n(475477),iV=n(658704),iG=n(683642),iz=n(848561),iK=n(339859),iW=n(44821),iZ=n(303327),iq=n(566866),iX=n(467179),iY=n(919242),iJ=n(871374),iQ=n(435049),i$=n(206187),i0=n(896327),i1=n(813371),i2=n(966990);let i3="configuration_wizard--step--9zx-B",i5="configuration_wizard--buttonRow--2GlLI",i4="configuration_wizard--spacer--LCRlq",i6="configuration_wizard--preferenceOptionsGroup--T5b2t",i7="configuration_wizard--unitOption--R7eMs configuration_wizard--preferenceOption--OkUN2",i9="configuration_wizard--integrationsCard--aup-J configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",i8="configuration_wizard--unitText--PiILT",ae="configuration_wizard--preferenceSubheader--orNpN text--fontPos11--2LvXf text--_fontBase--QdLsd",at="configuration_wizard--preferenceTitle--lA1Na text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",an="configuration_wizard--unitRadioOption--YokOy",ai="configuration_wizard--stepHeading--b5Yv4 text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",aa="configuration_wizard--stepDescription--uSn6A text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",ar="configuration_wizard--option--I5GPA",as="configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",ao="configuration_wizard--pluginListDivider--LeuxA",al="configuration_wizard--pluginList---hNhu",ad="configuration_wizard--dividerListContainer--r4GxV",ac="configuration_wizard--pluginCta--WgsY- resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",au="configuration_wizard--pluginTick--YbuJa",ap="configuration_wizard--spinnerContainer--2xXeT";var am=n(191424),ah=n(386094),af=n(145768),ag=n(117783),a_=n(8369);let ax="OTHER";function ay(){let e=(0,eZ.v4)(),{codegenPlugins:t=[],loading:n}=(0,iK.n)(),r=(0,iW.gB)(),[o,l]=a.useState("first-party"===e.type?e.id:ax),[d,c]=a.useState(!1),u=!n&&t?.length>0,[p,m]=a.useState(u?aI(t[0]):void 0);return a.useEffect(()=>{if(!p&&!n&&t?.length>0){let e=aI(t[0]);m(e),r(e)}},[t,n,p,r]),(0,i.jsxs)("div",{className:i3,children:[(0,i.jsx)("h1",{className:ai,children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.title")}),(0,i.jsx)("h2",{className:aa,children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.description")}),(0,i.jsx)(av,{selectedOption:o,onSelect:e=>{l(e),e===eV.p?(0,T.UK)().colorFormat.set(s.NVY.UIColor):(0,T.UK)().colorFormat.set(s.NVY.HEX),e===eV.p?r({type:"first-party",id:d?eV.Ap:eV.p}):e===eV.LK?r({type:"first-party",id:d?eV.NU:eV.LK}):e!==ax?r({type:"first-party",id:e}):p&&r(p)}}),o===eV.p||o===eV.LK?(0,i.jsx)(aC,{selectedLanguage:o,shouldUseLegacyMobileCodegen:d,onFrameworkSelect:e=>{c(e),o===eV.p&&r({type:"first-party",id:e?eV.Ap:eV.p}),o===eV.LK&&r({type:"first-party",id:e?eV.NU:eV.LK})}}):null,o!==ax?(0,i.jsx)(aj,{}):(0,i.jsx)(ak,{onSelect:m,loading:n,codegenPlugins:t})]})}function av({onSelect:e,selectedOption:t}){let n=(0,H.sL)()?[{key:eV.uz,title:(0,V.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:a_.A},{key:eV.p,title:(0,V.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:af.A},{key:eV.LK,title:(0,V.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:ah.A}]:[{key:eV.uz,title:(0,V.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:a_.A},{key:eV.p,title:(0,V.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:af.A},{key:eV.LK,title:(0,V.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:ah.A},{key:ax,title:(0,V.t)("dev_handoff.configuration_wizard.code_language_step.option_other"),subheader:null,svgSrc:ag.A}];return(0,i.jsxs)("div",{className:ar,children:[(0,i.jsx)("div",{className:as,children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.what_platform")}),(0,i.jsx)(iF.b,{value:String(t),onChange:e,className:i6,children:n.map(({key:e,title:t,svgSrc:n})=>(0,i.jsxs)("div",{className:"configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",children:[(0,i.jsx)(ek.B,{svg:n,className:"configuration_wizard--platformIcon--F7N2s"}),(0,i.jsx)(iB.c,{value:e,id:e,className:"configuration_wizard--radioOption--Yfm0j"}),(0,i.jsx)("div",{className:"configuration_wizard--preferenceText--ZqN2L",children:(0,i.jsx)(ab,{htmlFor:e,title:t})})]},e))})]})}function ab({title:e,htmlFor:t}){let n=(0,i0.X)(e);return(0,i.jsx)("label",{className:ew()(at,"configuration_wizard--ellipsis--Y-LP0 ellipsis--ellipsis--Tjyfa"),htmlFor:t,...n,children:e})}function aC({selectedLanguage:e,shouldUseLegacyMobileCodegen:t,onFrameworkSelect:n}){let r=a.useMemo(()=>e===eV.p?[{key:!1,title:(0,V.t)("dev_handoff.code.lang_swiftui")},{key:!0,title:(0,V.t)("dev_handoff.code.lang_uikit")}]:[{key:!1,title:(0,V.t)("dev_handoff.code.lang_compose")},{key:!0,title:(0,V.t)("dev_handoff.code.lang_android_xml")}],[e]);return(0,i.jsxs)("div",{className:ar,children:[(0,i.jsx)("div",{className:as,children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.what_framework")}),(0,i.jsx)(iF.b,{value:String(t),onChange:e=>{n("true"===e)},className:i6,children:r.map(({key:e,title:t})=>(0,i.jsx)("label",{className:i7,children:(0,i.jsxs)("div",{className:i8,children:[(0,i.jsx)("div",{className:at,children:t}),(0,i.jsx)(iB.c,{value:String(e),id:String(e),className:an})]})},String(e)))})]})}let aE=new iQ.KD({min:.1});function aj(){let e=(0,eZ.v4)(),t=(0,eJ.Em)(),n=(0,eJ.RH)(),r=(0,eJ.wQ)(),s=(0,eJ.Bs)(),o=a.useCallback(t=>s(e,null,{unit:t}),[e,s]),l=(0,eJ.gc)(e.id),d=a.useCallback(t=>{t&&s(e,null,{scaleFactor:t})},[e,s]),c=l?.scaleFactor??1,u="first-party"===e.type&&(e.id===eV.LK||e.id===eV.NU||e.id===eV.p||e.id===eV.Ap),p=a.useMemo(()=>new iZ.Be(r),[r]),m=a.useMemo(()=>iq.zq.map(e=>({key:e,title:p.format(e)})),[p]);return t?(0,i.jsxs)("div",{className:ar,children:[(0,i.jsx)("div",{className:as,children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.what_units")}),(0,i.jsx)(iF.b,{value:String(n),onChange:e=>o(parseInt(e)),className:i6,children:m.map(({key:e,title:t})=>(0,i.jsx)("label",{className:i7,children:(0,i.jsxs)("div",{className:i8,children:[(0,i.jsx)("div",{className:at,children:t}),(0,i.jsx)(iB.c,{value:String(e),id:String(e),className:an})]})},e))}),n===iJ.tK.SCALED&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"configuration_wizard--optionHeadingWithPadding--MnGm9 configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",children:(0,V.tx)("dev_handoff.alternative_units.inspection_scale_factor")}),u?(0,i.jsx)(iX.Rg,{scaleFactor:c,onChange:d,trigger:(0,i.jsxs)(iU.l9,{"aria-label":(0,V.t)("dev_handoff.alternative_units.scale_factor.select_label"),className:"configuration_wizard--scaleFactorDropdownInput--h8Jr2 text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",id:"ONBOARDING_SCALE_FACTOR_DROPDOWN",children:[(0,iY.r)(c),(0,i.jsx)(iV.r,{})]})}):(0,i.jsx)(i1.Q7,{className:"configuration_wizard--scaleFactorInput--ezaTA text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",property:c,formatter:aE,onChange:d,allowEmpty:!1,noBorderOnFocus:!0}),(0,i.jsx)("div",{className:ae,children:(0,i.jsx)(iX.LO,{codeLanguage:e})})]})]}):null}function aw(){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsxs)("g",{id:"Frame 1321317093",children:[(0,i.jsx)("rect",{width:"24",height:"24",rx:"4.5",fill:"#2C2C2C"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"10.5",height:"1.5",fill:"#D9D9D9"}),(0,i.jsx)("rect",{x:"7",y:"8",width:"12",height:"1.5",fill:"#E4A3D9"}),(0,i.jsx)("rect",{x:"9",y:"13",width:"12",height:"1.5",fill:"#97C1EF"}),(0,i.jsx)("rect",{x:"4",y:"17.5",width:"10.5",height:"1.5",fill:"#D9D9D9"})]})})}function aT(){return(0,i.jsxs)("div",{className:"configuration_wizard--customCodegenPromo--Sg78f",children:[(0,i.jsx)("div",{className:"configuration_wizard--customCodegenPromoIcon--ND7NT",children:(0,i.jsx)(aw,{})}),(0,i.jsxs)("div",{className:"configuration_wizard--customCodegenPromoWrapper--steEn",children:[(0,i.jsx)("div",{className:"configuration_wizard--customCodegenPromoTitle--31anH text--fontPos12--YsUAh text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_title")}),(0,i.jsx)("div",{className:"configuration_wizard--customCodegenPromoBody--EsEFB text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_body")})]}),(0,i.jsx)("div",{className:"configuration_wizard--customCodegenPromoLink--0l-Sa",children:(0,i.jsxs)(iH.N,{newTab:!0,href:"https://www.figma.com/plugin-docs/api/figma-codegen/",children:[(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_link"),(0,i.jsx)(iG.S,{style:{"--color-icon":"var(--color-icon-brand)"}})]})})]})}function ak({onSelect:e,loading:t,codegenPlugins:n}){let a=t?(0,i.jsx)("div",{className:ap,children:(0,i.jsx)(L.k,{})}):(0,i.jsxs)(iz.dP,{children:[n.map((t,n)=>(0,i.jsx)(aS,{plugin:t,onSelect:e},`${t.id}_${n}`)),(0,i.jsx)(aT,{})]});return(0,i.jsxs)("div",{className:"configuration_wizard--otherLanguagesContainer--2J1b5",children:[(0,i.jsx)("h1",{className:"configuration_wizard--otherLanguagesListHeading--M2BwY text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.other_title")}),(0,i.jsx)("h2",{className:"configuration_wizard--otherLanguagesListDescription--jeS2m text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",children:(0,V.tx)("dev_handoff.configuration_wizard.code_language_step.other_description")}),(0,i.jsxs)("div",{className:ad,children:[(0,i.jsx)("div",{className:ao}),(0,i.jsx)("div",{className:al,children:a})]})]})}function aI(e){return{type:"published-plugin",id:e.id,pluginLanguage:function(e){let t=e?.versions?.[e?.current_plugin_version_id??""];return i$.m(t)?.[0]?.value??""}(e)}}function aS({plugin:e,onSelect:t}){let n=(0,eZ.v4)(),r=(0,iW.gB)(),s="first-party"!==n.type&&n.id===e.id,o=a.useMemo(()=>aI(e),[e]),l=a.useCallback(()=>{r(o),t(o)},[o,r,t]),d=s?(0,i.jsxs)("div",{className:ac,children:[(0,i.jsx)(ek.B,{svg:am.A,className:au}),(0,V.tx)("community.plugins.selected")]}):(0,i.jsx)("div",{className:ac,children:(0,V.tx)("community.plugins.select")});return(0,i.jsx)(i2.Cg,{plugin:e,ctaButton:d,onClick:s?void 0:l})}var aN=n(851824);function aA(){let{inspectPlugins:e=[],loading:t}=(0,iK.n)(),n=t?(0,i.jsx)("div",{className:ap,children:(0,i.jsx)(L.k,{})}):(0,i.jsx)(iz.dP,{children:e.map((e,t)=>(0,i.jsx)(aL,{plugin:e},`${e.id}_${t}`))});return(0,i.jsxs)("div",{className:i3,children:[(0,i.jsx)("h1",{className:ai,children:(0,V.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.title")}),(0,i.jsx)("h2",{className:aa,children:(0,V.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.description")}),(0,i.jsxs)("div",{className:ad,children:[(0,i.jsx)("div",{className:ao}),(0,i.jsx)("div",{className:al,children:n})]})]})}function aL({plugin:e}){let{pinnedPlugins:t,pinPlugin:n,unpinPlugin:r}=(0,iD.VR)(),s=e.id,o=a.useMemo(()=>!!t.find(e=>e.plugin_id===s),[t,s]),[l,d]=a.useState(o);a.useEffect(()=>{d(o)},[o]);let c=(0,aN.A)(()=>{d(!0),n(s)},200),u=(0,aN.A)(()=>{d(!1),r(s)},200),p=l?(0,i.jsxs)("div",{className:ac,children:[(0,i.jsx)(ek.B,{svg:am.A,className:au}),(0,V.tx)("community.plugins.pinned")]}):(0,i.jsx)("div",{className:ac,children:(0,V.tx)("community.plugins.pin")});return(0,i.jsx)(i2.Cg,{plugin:e,ctaButton:p,onClick:l?u:c})}var aO=n(147046),aR=n(952460),aP=n(506192),aM=n(405223),aD=n(957897);function aF(){let e=(0,r.wA)(),t=(0,iL.am)();return(0,i.jsxs)("div",{className:i3,children:[(0,i.jsx)("h1",{className:ai,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.title")}),(0,i.jsx)("h2",{className:aa,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.description")}),(0,i.jsxs)("div",{className:i6,children:[(0,i.jsxs)("div",{className:i9,children:[(0,i.jsx)("img",{srcSet:"data:image/png;base64,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 2x",alt:""}),(0,i.jsx)("div",{className:at,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode")}),(0,i.jsx)("div",{className:ae,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_description")}),(0,i.jsx)(t7.$n,{variant:"primary",onClick:()=>{t("vscode.install_extension_clicked"),e((0,aR.RK)({rawInput:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension"}))},children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_install")})]}),(0,i.jsxs)("div",{className:i9,children:[(0,i.jsx)("img",{srcSet:"data:image/png;base64,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 2x",alt:""}),(0,i.jsx)("div",{className:at,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging")}),(0,i.jsx)("div",{className:ae,children:(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_description")}),(0,i.jsx)(aB,{})]})]})]})}function aB({}){let e=(0,r.wA)(),t="install-messaging-dropdown",n=(0,aP.Um)(),s=a.useRef(null),o=n?.type===t,l=[{displayText:(0,V.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_slack"),callback:()=>{e((0,aR.RK)({rawInput:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info"}))}},{displayText:(0,V.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_teams"),callback:()=>{e((0,aR.RK)({rawInput:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8"}))}}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:s,children:(0,i.jsx)(t7.$n,{variant:"primary",onClick:()=>{o?e(aO.oB()):e(aO.j7({type:t}))},children:(0,i.jsxs)("span",{className:"configuration_wizard--installButton--PPj7O",children:[(0,V.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install"),(0,i.jsx)(ek.B,{svg:aD.A,className:"configuration_wizard--chevronDown--P7ECL"})]})})}),o&&s.current&&(0,i.jsx)(aM.j,{items:l,onSelectItem:t=>{t.callback&&t.callback("",null,e)},dispatch:e,parentRect:s.current.getBoundingClientRect(),showPoint:!1,lean:"right"})]})}var aU=n(116123);function aH(){let e=(0,r.wA)(),t=(0,tN.am)(),n=[{theme:"system",title:(0,V.t)("fullscreen_actions.theme.system_theme"),ModeSvg:az},{theme:"light",title:(0,V.t)("fullscreen_actions.theme.light"),ModeSvg:aV},{theme:"dark",title:(0,V.t)("fullscreen_actions.theme.dark"),ModeSvg:aG}];return(0,i.jsxs)("div",{className:i3,children:[(0,i.jsx)("h1",{className:ai,children:(0,V.tx)("dev_handoff.configuration_wizard.theme_step.title")}),(0,i.jsx)("h2",{className:aa,children:(0,V.tx)("dev_handoff.configuration_wizard.theme_step.description")}),(0,i.jsx)(iS.bL,{value:t,onChange:t=>e(aU.Qh({theme:t,userInitiated:!0})),className:i6,legend:(0,i.jsx)(iN.q,{children:(0,V.tx)("dev_handoff.configuration_wizard.theme_step.title")}),children:n.map(({theme:e,title:t,ModeSvg:n})=>(0,i.jsxs)(iS.c$,{className:"configuration_wizard--modeOptionCard--0rFq6 configuration_wizard--preferenceOption--OkUN2","aria-label":"",value:e,children:[(0,i.jsx)("div",{className:"configuration_wizard--modeImage--TZBtz",children:(0,i.jsx)(n,{})}),(0,i.jsx)("div",{className:at,children:t})]},e))})]})}function aV(){return(0,i.jsx)("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",children:(0,i.jsxs)("g",{id:"Design",children:[(0,i.jsx)("rect",{width:"120",height:"80",fill:"#F5F5F5"}),(0,i.jsx)("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"#E5E5E5"}),(0,i.jsxs)("g",{id:"Group 14125",children:[(0,i.jsxs)("g",{id:"Group 14124",children:[(0,i.jsx)("rect",{id:"Rectangle 52",x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("ellipse",{id:"Ellipse 278",cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),(0,i.jsx)("rect",{id:"Rectangle 53",x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{id:"Rectangle 59",x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),(0,i.jsx)("rect",{id:"Rectangle 55",x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{id:"Rectangle 57",x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{id:"Rectangle 60",x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"})]}),(0,i.jsx)("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"})]}),(0,i.jsx)("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"white"}),(0,i.jsx)("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"white"}),(0,i.jsx)("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),(0,i.jsx)("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),(0,i.jsx)("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),(0,i.jsx)("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),(0,i.jsx)("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),(0,i.jsx)("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),(0,i.jsx)("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"}),(0,i.jsx)("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),(0,i.jsx)("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#14AE5C"})]})})}function aG(){return(0,i.jsx)("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",children:(0,i.jsxs)("g",{id:"Design",children:[(0,i.jsx)("rect",{width:"120",height:"80",fill:"#383838"}),(0,i.jsx)("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"black"}),(0,i.jsxs)("g",{id:"Group 14125",children:[(0,i.jsxs)("g",{id:"Group 14124",children:[(0,i.jsx)("rect",{id:"Rectangle 52",x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("ellipse",{id:"Ellipse 278",cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),(0,i.jsx)("rect",{id:"Rectangle 53",x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{id:"Rectangle 59",x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),(0,i.jsx)("rect",{id:"Rectangle 55",x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{id:"Rectangle 57",x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{id:"Rectangle 60",x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"})]}),(0,i.jsx)("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"})]}),(0,i.jsx)("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"#1E1E1E"}),(0,i.jsx)("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"#1E1E1E"}),(0,i.jsx)("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),(0,i.jsx)("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#198F51"}),(0,i.jsx)("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),(0,i.jsx)("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),(0,i.jsx)("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),(0,i.jsx)("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),(0,i.jsx)("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),(0,i.jsx)("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),(0,i.jsx)("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"})]})})}function az(){return(0,i.jsxs)("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",children:[(0,i.jsx)("rect",{width:"120",height:"80",fill:"black"}),(0,i.jsx)("rect",{width:"120",height:"80",fill:"black"}),(0,i.jsx)("rect",{x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("ellipse",{cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),(0,i.jsx)("rect",{x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),(0,i.jsx)("rect",{x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),(0,i.jsx)("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{width:"26.0423",height:"80",fill:"#1E1E1E"}),(0,i.jsx)("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),(0,i.jsx)("rect",{x:"92",width:"28",height:"80",fill:"#1E1E1E"}),(0,i.jsx)("rect",{width:"120",height:"8",fill:"#1E1E1E"}),(0,i.jsx)("rect",{x:"8",width:"8",height:"8",fill:"#198F51"}),(0,i.jsx)("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),(0,i.jsx)("rect",{x:"96",y:"42",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),(0,i.jsx)("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),(0,i.jsx)("rect",{x:"104",y:"42",width:"13",height:"2",rx:"1",fill:"#009951"}),(0,i.jsx)("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),(0,i.jsx)("rect",{x:"96",y:"37",width:"16",height:"2",rx:"1",fill:"#FC9CE0"}),(0,i.jsx)("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),(0,i.jsx)("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),(0,i.jsx)("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),(0,i.jsx)("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"}),(0,i.jsx)("mask",{id:"mask0_3979_274036",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"8",width:"120",height:"72",children:(0,i.jsx)("path",{d:"M120 8V80H0L120 8Z",fill:"#C4C4C4"})}),(0,i.jsxs)("g",{mask:"url(#mask0_3979_274036)",children:[(0,i.jsx)("rect",{width:"120",height:"80",fill:"#F5F5F5"}),(0,i.jsx)("rect",{width:"120",height:"80",fill:"#E5E5E5"}),(0,i.jsx)("rect",{x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("ellipse",{cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),(0,i.jsx)("rect",{x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),(0,i.jsx)("rect",{x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),(0,i.jsx)("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),(0,i.jsx)("rect",{width:"26.0423",height:"80",fill:"white"}),(0,i.jsx)("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),(0,i.jsx)("rect",{x:"92",width:"28",height:"80",fill:"white"}),(0,i.jsx)("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),(0,i.jsx)("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),(0,i.jsx)("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),(0,i.jsx)("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),(0,i.jsx)("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),(0,i.jsx)("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),(0,i.jsx)("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"})]})]})}var aK=n(920712);let aW=(0,H.ck)("9e00290dc31e72e920d6e541d625759566d6c91f");function aZ(){let e=(0,Q.J)(),{getHasProvisionalAccess:t}=(0,ei.wH)(),n=t(ee.G_.DEV_MODE);return e&&n?(0,i.jsx)("h2",{className:"configuration_wizard--gracePeriodWelcome--16eIy text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.configuration_wizard.welcome_step.description_one_click")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:ai,children:(0,V.tx)("dev_handoff.configuration_wizard.welcome_step.title")}),(0,i.jsx)("h2",{className:aa,children:(0,V.tx)("dev_handoff.configuration_wizard.welcome_step.description")})]})}function aq(){return(0,i.jsxs)("div",{className:i3,children:[(0,i.jsx)(aZ,{}),(0,i.jsx)("div",{className:"configuration_wizard--welcomeVideo--PNKpG",children:(0,i.jsx)(aK.GV,{src:aW,width:444,height:278})}),(0,i.jsx)("div",{className:i4})]})}var aX=(e=>(e[e.WELCOME=0]="WELCOME",e[e.CODE_LANGUAGE_N_UNIT=1]="CODE_LANGUAGE_N_UNIT",e[e.THEME=2]="THEME",e[e.INSPECT_PLUGINS=3]="INSPECT_PLUGINS",e[e.INSTALL_INTEGRATIONS=4]="INSTALL_INTEGRATIONS",e))(aX||{});let aY={0:"welcome_step",1:"code_language_step",2:"theme_step",3:"inspect_plugins_step",4:"install_extensions_step"},aJ=(0,H.sL)()?[1,2]:[1,2,3,4];function aQ(){let e=(0,l.md)(iP),t=(0,r.wA)(),{isShowing:n,uniqueId:a,show:s,complete:o}=(0,il.e)({overlay:ig.tb3,priority:ic.N.HIGH_PRIORITY_MODAL},[e]),d=iw.hS({open:n,preventUserClose:!0,onClose:eD.lQ});return(0,f.h)(()=>{s({canShow:e=>!e})}),(0,io.E)(a,"Reset Onboarding",()=>{t(nQ.b({[iR]:!1})),s()}),(0,i.jsx)(S.M,{isShowing:n,testId:"dev_handoff_config_wizard",dataFullscreenIntercept:!1,children:(0,i.jsx)(w.fu,{name:"Dev Mode Configuration Wizard",children:(0,i.jsx)(iT.bL,{manager:d,width:800,children:(0,i.jsx)(ik.vo,{children:(0,i.jsx)(a0,{dismissModal:o})})})})})}let a$=()=>{let{pinnedPlugins:e}=(0,iD.VR)();return e.length>0};function a0({dismissModal:e}){let t=(0,iL.U)(),[n,s]=(0,a.useState)(0),o=(0,r.wA)(),l=a$(),d=a.useRef(null),c=a.useRef(null),u=a.useCallback(()=>{e(),o(nQ.b({[iR]:!0})),l&&o(nQ.b({[iM.xb]:!0}))},[o,l,e]),p=a.useCallback(()=>{s(n+1)},[n]),m=a.useCallback(()=>{s(n-1)},[s,n]);(0,a.useEffect)(()=>{c.current?.focus()},[n]);let h=0===n,f=n===aJ[aJ.length-1];return(0,i.jsxs)("div",{className:ew()("configuration_wizard--wizardContainer--gss4b",eI.Dm),tabIndex:-1,ref:d,children:[(0,i.jsx)("div",{className:"configuration_wizard--closeButton--pv-0K",children:(0,i.jsx)(iI.K,{onClick:function(){u(),t("dev_handoff.config_wizard.closed",{step:n,stepName:aY[n]})},"aria-label":(0,V.t)("general.close"),children:(0,i.jsx)(iA.A,{})})}),(0,i.jsxs)("div",{className:"configuration_wizard--sidebar--g-2b8",children:[(0,i.jsx)("h1",{className:"configuration_wizard--sidebarHeading--xnYnE text--fontPos32WhyteInktrap--BG9sC text--_fontBaseWhyteInktrap--YiiGP",children:(0,V.tx)("dev_handoff.configuration_wizard.title")}),(0,i.jsx)("h2",{className:"configuration_wizard--sidebarSubheading--ta8gQ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",children:(0,V.tx)("dev_handoff.configuration_wizard.subtitle")}),(0,i.jsx)("div",{className:i4}),(0,i.jsx)(a1,{step:n,setStep:s,disabled:0===n})]}),(0,i.jsxs)("div",{ref:c,className:"configuration_wizard--content--hktpZ",tabIndex:-1,children:[0===n&&(0,i.jsx)(aq,{}),1===n&&(0,i.jsx)(ay,{}),2===n&&(0,i.jsx)(aH,{}),3===n&&(0,i.jsx)(aA,{}),4===n&&(0,i.jsx)(aF,{})]}),(0,i.jsx)("div",{className:"configuration_wizard--footer--YjGGh",children:h?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:i5,children:[(0,i.jsx)("div",{className:i4}),(0,i.jsx)(t7.$n,{onClick:p,variant:"primary",children:(0,V.tx)(`dev_handoff.configuration_wizard.${aY[n]}.next_text`)})]})}):f?(0,i.jsxs)("div",{className:i5,children:[(0,i.jsx)("div",{className:i4}),(0,i.jsx)(t7.$n,{variant:"secondary",onClick:m,children:(0,V.tx)("general.back")}),(0,i.jsx)(t7.$n,{variant:"primary",onClick:function(){u(),t("dev_handoff.config_wizard.done",{step:n,stepName:aY[n]})},children:(0,V.tx)("general.done")})]}):(0,i.jsxs)("div",{className:i5,children:[(0,i.jsx)("div",{className:i4}),(0,i.jsx)(t7.$n,{variant:"secondary",onClick:m,children:(0,V.tx)("general.back")}),(0,i.jsx)(t7.$n,{variant:"primary",onClick:p,children:(0,V.tx)(`dev_handoff.configuration_wizard.${aY[n]}.next_text`)})]})})]})}function a1({step:e,setStep:t,disabled:n}){return(0,i.jsx)(iS.bL,{value:String(e),onChange:e=>{n||t(Number.parseInt(e,10))},className:ew()("configuration_wizard--stepPicker--Ffab-",n&&"configuration_wizard--disabledStepPicker--Ib2IX"),legend:(0,i.jsx)(iN.q,{children:(0,V.tx)("dev_handoff.configuration_wizard.step_picker_legend")}),htmlAttributes:{disabled:n},children:aJ.map(e=>(0,i.jsxs)(iS.c$,{className:ew()("configuration_wizard--stepPickerOption--5Iqtt",n&&"configuration_wizard--disabledStepPickerOption--9tTeN"),"aria-label":"",value:String(e),children:[(0,i.jsx)("div",{className:"configuration_wizard--stepPickerOptionNumber--3GVYZ text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",children:`0${e}`}),(0,i.jsx)("div",{className:"configuration_wizard--stepPickerOptionText--KmSjp text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",children:(0,V.tx)(`dev_handoff.configuration_wizard.${aY[e]}.picker_title`)})]},e))})}var a2=n(680909),a3=n(413253);let a5=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M8.557 4.268a.5.5 0 0 1 .924.37l-2 7a.5.5 0 0 1-.96-.276l1.998-7zM4.724 5.582a.5.5 0 0 1 .694.693l-.065.078L3.707 8l1.646 1.646a.5.5 0 0 1-.707.707l-2-2a.5.5 0 0 1-.064-.629l.064-.078 2-2zm5.922.064a.5.5 0 0 1 .707 0l2 2a.5.5 0 0 1 .063.631l-.063.076-2 2-.078.064a.501.501 0 0 1-.693-.694l.064-.078L12.292 8l-1.646-1.647a.5.5 0 0 1 0-.707"})})});var a4=n(264993),a6=n(350019),a7=n(942541),a9=n(357524),a8=n(983500),re=n(190028),rt=n(876621);let rn={top:"ns-resize",bottom:"ns-resize",left:"ew-resize",right:"ew-resize"};function ri(e){let{onSizeChanged:t,onStateChanged:n,edge:r}=e,s=a.useRef({isResizing:!1,lastX:0,lastY:0}),o=a.useCallback(e=>{e.preventDefault(),n?.(!0),s.current.isResizing=!0,s.current.lastX=e.clientX,s.current.lastY=e.clientY,document.body.style.pointerEvents="none",document.documentElement.style.cursor=rn[r]},[n,r]),l=a.useCallback(e=>{s.current.isResizing&&(t({x:e.clientX-s.current.lastX,y:e.clientY-s.current.lastY}),s.current.lastX=e.clientX,s.current.lastY=e.clientY)},[t]),d=a.useCallback(e=>{s.current.isResizing&&(n?.(!1),s.current.isResizing=!1,document.body.style.pointerEvents="auto",document.documentElement.style.cursor="auto")},[n]);return a.useEffect(()=>(document.addEventListener("mousemove",l),document.addEventListener("mouseup",d),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d)}),[l,d]),(0,i.jsxs)("div",{className:ew()("resizable--panelContainer--35Ay7",eI.Dm),style:{width:e.size.width,minWidth:e.size.width,height:e.size.height,minHeight:e.size.height},ref:e.forwardedRef,children:[(0,i.jsx)(rt.V,{className:"resizable--content--gsGWd",children:e.children}),(0,i.jsx)("div",{className:ew()({"resizable--edgeDisabled--K1j0X":e.disabled,"resizable--edgeTop--vG5Ad resizable--edge--H5-yq":"top"===e.edge,"resizable--edgeBottom--bN-R0 resizable--edge--H5-yq":"bottom"===e.edge,"resizable--edgeLeft--nRRyA resizable--edge--H5-yq":"left"===e.edge,"resizable--edgeRight--ZGbad resizable--edge--H5-yq":"right"===e.edge}),onMouseDown:o,onDoubleClick:e.onReset})]})}var ra=n(223850),rr=n(354114),rs=n(222357),ro=n(331497),rl=n(271899),rd=n(92088),rc=n(944380),ru=n(296525),rp=n(307829),rm=n(240803),rh=n(454851),rf=n(781767),rg=n(190333),r_=n(66554),rx=n(987405),ry=n(816424),rv=n(681958),rb=n(83734),rC=n(454273),rE=n(630615),rj=n(911990),rw=n(171660);let rT=(0,l.eU)({});function rk(){return!!(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===s.m1T.DEV_HANDOFF_HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var rI=n(845644),rS=n(390036),rN=n(330489),rA=n(846680),rL=n(472088),rO=n(787010);function rR({description:e,emptyStateText:t,shouldUseUiFont:n=!1,shouldUseBottomPadding:r=!1}){let s=a.useRef(null),o=a.useRef(void 0),[l,d]=a.useState(!0);if(a.useLayoutEffect(()=>{let t=o.current;o.current=e,s.current&&t!==e&&d(s.current.scrollHeight>96)},[e]),!e&&!t)return null;let c=!!e&&l;return(0,i.jsxs)("div",{className:ew()("asset_documentation_panel--documentationSection--Uiw1f",{"asset_documentation_panel--uiFont--8lX52":n,"asset_documentation_panel--bottomPadding--CisYZ":r}),children:[e?(0,i.jsxs)("div",{className:"asset_documentation_panel--documentationRt--dqAKD",children:[(0,i.jsx)(rA.C,{value:e,valueFormat:(0,rN.j_)(e),namespace:"asset-documentation-panel-lexical-editor-readonly",lexicalContentClassName:l?rO.D6:rO.kF,innerRef:s}),l&&(0,i.jsx)("div",{className:"asset_documentation_panel--lexicalCollapsedOverlay--V-AKj"})]}):t?(0,i.jsx)("div",{className:"asset_documentation_panel--documentationDescriptionDefault--vxlbl asset_documentation_panel--documentationDescription--la2iI text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",ref:s,children:t}):null,c&&(0,i.jsx)("div",{className:"asset_documentation_panel--showMoreButtonContainer--ZkHWJ",children:(0,i.jsx)(rL.d,{label:(0,V.t)("dev_handoff.docs.show_full"),onClick:()=>d(!1)})})]})}var rP=n(442193),rM=n(989111),rD=n(764898),rF=n(483663),rB=n(50536),rU=n(303986),rH=n(983764);n(320541);var rV=n(886710),rG=n(4033),rz=n(915584),rK=n(912610),rW=n(29236),rZ=n(525972),rq=n(437761),rX=n(461818),rY=n(725837),rJ=n(245758);let rQ=class{async generateLinkPreview({plugin:e,link:t}){try{let n=await rZ.R.instance.enqueue(this.createEnqueueArgs({command:"linkpreview",plugin:e,onStart:()=>(0,rz.se)({name:t.linkName,url:t.linkUrl,isInherited:t.isInherited,nodeId:t.nodeId})}));if(n?.type==="PLAIN_TEXT")(0,rJ.n7)({link:t,linkPreviewJson:n});else if(n?.type==="AUTH_REQUIRED"){let n=l.zl.get(rT),i=n[e.plugin_id]?.links??[];l.zl.set(rT,n=>({...n,[e.plugin_id]:{plugin:e,links:[...i,t]}}))}return n??null}catch(e){console.error(e)}return null}async runAuth({plugin:e,links:t}){(0,_.ax)(s._gJ.PLUGIN);try{return await rZ.R.instance.enqueue(this.createEnqueueArgs({command:"auth",plugin:e,onStart:()=>(0,rz.Ut)(t)}))??null}catch(e){console.error(e)}return null}createEnqueueArgs({command:e,plugin:t,onStart:n}){return{runPluginArgs:{plugin:t,command:"linkpreview",queryMode:!1,runMode:"linkpreview"===e?"linkpreview":"auth",triggeredFrom:"linkpreview"===e?"related-link-preview":"related-link-auth",openFileKey:rY.D.getState().openFile?.key||"",isWidget:!1},onStart:n,mode:"run-and-terminate"}}};rQ.instance=new rQ;let r$=(0,rU.Up)();function r0(e,t){if((0,rq.ZQ)(t)&&!(0,o.kc)().plugins_related_links_local||!r$.has(t.plugin_id))return!1;let n=t.manifest.relatedLinkDomains||t.manifest.devResourceDomains;if(!n)return!1;for(let t of n){let n=(0,rK.tk)(t);if(!n)continue;let i=e.split("?")[0];if(n.exec(i))return!0}if((0,rU.P8)(t.plugin_id)){if(r1(e)&&e.match(/selectedIssue=[A-Z]+-[0-9]+/))return!0;r1(e)&&e.match(/[A-Z]+-[0-9]+/)&&(0,m.sx)("Jira Issue Url Not Matched",{url:e})}return!1}function r1(e){return!!e.match(/https?:\/\/[a-zA-Z0-9-]+\.(atlassian\.net|jira\.com)/)}var r2=(e=>(e.OPEN="open",e.PREVIEW="preview",e))(r2||{});function r3(e){let t=function(e){let t=(0,rG.$1)(),n=(0,rG.cW)(),i=(0,r.d4)(e=>e.mirror.appModel.useLocalRelatedLinkPlugin),s=a.useMemo(()=>0===r$.size?null:Object.values(t).find(t=>!!r0(e,t)),[e,t]),o=a.useMemo(()=>0===r$.size?null:Object.values(n).map(e=>(0,rK.uF)(e)).find(t=>!!r0(e,t)),[e,n]),l=a.useMemo(()=>Array.from(r$),[]),d=(0,rG.uf)(l,{enabled:!o}),c=a.useMemo(()=>d.find(t=>!!r0(e,t))??null,[e,d]);return i&&s?s:o||c||null}(e),n=(0,rG.YN)();return t&&n(t)?t:null}function r5(e){let t=r3(e),n=(0,l.md)(rT);if(!t||!t.manifest.capabilities?.includes("linkpreview"))return null;if(n[t.plugin_id]?.links.some(t=>t.linkUrl===e))return;let i=async({link:e})=>{await rQ.instance.generateLinkPreview({plugin:t,link:e})};return{plugin:t,genPreview:i}}var r4=n(43941);function r6(e,t,n){return!n||e?t:`${t} (${n})`}function r7({isEditable:e,link:t,onOpenDeleteModal:n,onOpenEditModal:o,appendLabel:l,hintInMenu:d,linkToFocus:c}){let u=(0,r.wA)(),p=!(0,r4.G)(t.linkUrl),m=(0,n5.eY)(),h=(0,rC.Nf)()??"",f=m.get(h),g=t.isInherited||t.isVariant,x=(0,iL.U)(),y=(0,rF.dI)({navigateToStateGroupIfVariant:!t.isVariant}),v=a.useRef(null),b=a.useRef(null),C=a.useCallback(()=>{u(rB.lW({stringToCopy:t.linkUrl})),x("Dev Handoff Related Links Copy Hyperlink",{nodeId:h,nodeType:f?.type,source:"web"})},[u,h,t.linkUrl,f?.type,x]),E=p?t.linkUrl:new URL(t.linkUrl).host;E.startsWith("www.")&&(E=E.slice(4));let{Dropdown:j,toggleDropdown:w,dropdownTargetRef:T,isDropdownShown:S}=(0,rH.B)(t.id),N=function(e){let t=r3(e),n=(0,I.tS)(),i=(0,eZ.v4)();if(!t||!n||!(0,rK.$u)(t.manifest.capabilities))return null;let a=async({link:e})=>{let a=(0,ie.hw)();a?.plugin_id!==t.plugin_id&&(await rX.d.instance.maybeTerminatePlugin(i),await (0,rV.yQ)());let r=(0,rW.D)(),o=t.manifest.editorType?.includes(rq.FW.DEV)?"open-dev-resource":"open-related-link",l={mode:"run-forever",runPluginArgs:{plugin:t,command:o,queryMode:!1,openFileKey:n,isWidget:!1,runMode:"default",triggeredFrom:"related-link-click"}},d={url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId},c=rZ.R.instance.isCurrentlyRunning(l);return((0,_.ax)(s._gJ.PLUGIN),c&&(0,rz.Jc)())?rZ.R.instance.enqueue({...l,onStart:async()=>await (0,rz.xG)({devResource:d})}):rZ.R.instance.enqueue({...l,reuseExistingRunState:!1,onStart:async()=>((0,rz.r2)(5e3,{devResource:d}),(await r).triggerRunEvent({command:o,link:d}))})};return{plugin:t,callback:a}}(t.linkUrl),A=g?(0,V.t)("dev_handoff.developer_related_links.main_component_tooltip"):(0,V.t)("dev_handoff.developer_related_links.additional_options"),L=(0,i.jsx)("div",{ref:T,children:(0,i.jsx)(iI.K,{actionOnPointerDown:!0,onClick:e=>{w(),e.stopPropagation()},"aria-label":A,htmlAttributes:{"data-tooltip":A,"data-tooltip-type":eQ.Ib.TEXT},children:g?(0,i.jsx)(rP.K,{}):(0,i.jsx)(rf.J,{})})}),O=[{displayText:(0,V.t)("dev_handoff.developer_related_links.copy_link"),callback:()=>C()}];N&&O.unshift({displayText:(0,V.t)("dev_handoff.developer_related_links.open_in_new_tab"),callback:()=>{W()}}),g&&y&&O.unshift({displayText:(0,V.t)("dev_handoff.developer_related_links.go_to_main_component"),callback:()=>{y()}}),t.isNested&&O.push({displayText:(0,V.t)("dev_handoff.developer_related_links.select_layer"),callback:()=>{s.w3z.selectAndFocusOnNode(t.nodeId,!0)}}),O.push({displayText:(0,V.t)("dev_handoff.developer_related_links.edit_link"),callback:()=>o(t),disabled:!e},{displayText:(0,V.t)("dev_handoff.developer_related_links.delete_link"),callback:()=>n(t.id,t.linkUrl),disabled:!e}),d&&(O.push({separator:!0,displayText:""}),O.push({render:()=>(0,i.jsxs)("div",{className:"developer_related_link_row--hintInMenu--a8pp2 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,i.jsx)(rg.B,{}),d]}),optionHeight:40,displayText:d}));let[R,P]=a.useState(!1),[M,D]=a.useState(!1),F=t.linkPreview,B=F&&"PLAIN_TEXT"===F.type&&F.text,U=B&&!t.isUserOverride&&N,H=N&&(0,rU.Zl)(N.plugin.plugin_id,k.z4.getIsExtension()),G=k.z4.getIsExtension()||H;a.useLayoutEffect(()=>{c===t.linkUrl&&(G||b.current?.focus())},[G,t.linkUrl,c]);let z=a.useCallback(()=>{x("Dev Handoff Related Links Open Hyperlink",{nodeId:h,nodeType:f?.type,source:"web"})},[h,f?.type,x]),K=a.useCallback(()=>{let e={action:r2.OPEN,link:t};if(H){t.isNested&&s.w3z?.selectAndFocusOnNode(t.nodeId,!0),N.callback(e),x("Dev Handoff Related Links Run Plugin From Hyperlink",{nodeId:h,nodeType:f?.type,source:"web",pluginId:N.plugin.plugin_id}),u(nQ.b({[iM.xb]:!0}));return}k.z4.getIsExtension()&&(0,ne.mz)(t.linkUrl)},[h,f?.type,x,t,H,N,u]),W=()=>{(0,rM.e)(t.linkUrl)||u((0,aR.RK)({rawInput:t.linkUrl})),x("Dev Handoff Related Links Open Hyperlink",{nodeId:h,nodeType:f?.type,source:"web"})},Z=(0,i.jsx)(r9,{name:r6(R,t.linkName,l),url:N?N.plugin.name:E,isHovering:R,showExternalIcon:!N}),q=U&&N?(0,i.jsx)(r9,{name:r6(R,B,l),url:N.plugin.name,isHovering:R}):null,X=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"developer_related_link_row--favicon--ZrNbB",children:(0,i.jsx)(rD.v,{url:t.linkUrl,fallback:(0,i.jsx)(ry.r,{className:"developer_related_link_row--fallbackIcon---i867"})})}),q??Z]}),Y=(0,nk.Pt)("developerRelatedLinkRow",t.id);return(0,i.jsxs)("div",{className:"developer_related_link_row--link--fvcCC ellipsis--ellipsis--Tjyfa","data-testid":"developer-related-link-row",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[G?(0,i.jsx)(eG.E,{className:"developer_related_link_row--linkInfo--214Y7 developer_related_link_row--linkContentsLayout--mVoUm",onClick:K,recordingKey:(0,nk.Pt)(Y,"button"),"aria-label":t.linkName,ref:v,children:X}):(0,i.jsx)("div",{className:"developer_related_link_row--linkWrapper--uGIaN",children:(0,i.jsx)(iH.N.Button,{href:t.linkUrl,variant:"ghost",width:"fill","aria-label":t.linkName,onClick:z,recordingKey:(0,nk.Pt)(Y,"button"),newTab:!0,ref:b,children:(0,i.jsx)("div",{className:"developer_related_link_row--linkContentsLayout--mVoUm",children:X})})}),(0,i.jsxs)("div",{className:ew()("developer_related_link_row--additionalButtons--tKT0M",{"developer_related_link_row--visible--6oViL":R||M||g||S}),children:[L,S&&(0,i.jsx)("div",{onMouseEnter:()=>D(!1),children:(0,i.jsx)(j,{items:O,showPoint:!1})})]})]})}function r9({name:e,url:t,isHovering:n,showExternalIcon:a}){return(0,i.jsxs)(rj.Y,{direction:"horizontal",spacing:4,padding:{right:32},children:[(0,i.jsx)("p",{className:"developer_related_link_row--linkName--p0e0K ellipsis--ellipsis--Tjyfa",style:n?B.sx.add({maxWidth:"50%"}).$:void 0,children:e}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"developer_related_link_row--linkDivider--20WA5",children:"\xb7"}),(0,i.jsx)("p",{className:"developer_related_link_row--linkURL--eaX2b ellipsis--ellipsis--Tjyfa blue_link--blueLink--9rlnd",children:t}),a&&(0,i.jsx)("div",{className:"developer_related_link_row--externalIcon--0hwtg",children:(0,i.jsx)(iG.S,{})})]})]})}var r8=n(920764),se=n(371085);function st(){(0,e$.jY)();let e=(0,rC.lA)(),[t,n]=(0,c.g$)(),i=(0,r8.AK)(t,n),r=e?.isState?e?.parentNode:null,{backingSymbolDescription:s,parentDescription:o}=(0,c.iX)(e?.description,r?.description),l=s&&o?o+"\n\n"+s:s||o;return a.useMemo(()=>({links:i,description:l}),[i,l])}function sn({link:e,appendLabel:t}){let n=(0,rI.Gw)(e.uri),a=n?(0,rS.Zr)(n):(0,V.t)("dev_handoff.docs.links_default"),r={id:e.uri,nodeId:"",fileKey:"",linkName:a,linkUrl:e.uri,linkPreviewJson:"",isUserOverride:!1,isInherited:!1,linkPreview:null};return(0,i.jsx)(r7,{link:r,isEditable:!1,hintInMenu:(0,V.t)("dev_handoff.developer_related_links.cant_edit_component_doc_link"),onOpenDeleteModal:eD.lQ,onOpenEditModal:eD.lQ,appendLabel:t})}function si(){let{description:e}=st();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rR,{description:e,shouldUseUiFont:!0,shouldUseBottomPadding:!0}),(0,i.jsx)(se.m,{})]})}var sa=n(366535),sr=n(932709),ss=n(564914),so=n(532096),sl=n(260309),sd=n(623411),sc=n(216940),su=n(517796),sp=n(737139);function sm({onCancel:e,onSuccess:t,existingUrls:n}){let s=(0,r.wA)(),[o,l]=a.useState(""),[d,c]=a.useState(!1),u=(0,rC.Nf)()??"",p=(0,x.Fk)((e,t)=>e?.get(t)?.type,u),m=(0,I.tS)(),h=r5(o),f=a.useRef(null),g=a.useCallback(async()=>{let e=o;if(!(0,r4.G)(e)||!(0,r4.H)(e)){if(e="http://"+e,!(0,rI.FB)(e)||!(0,r4.G)(e)){s(el.F.enqueue({message:(0,V.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}l(e)}if(n.includes(e)){s(el.F.enqueue({message:(0,V.t)("dev_handoff.developer_related_links.duplicate_link_error"),error:!0,timeoutOverride:2e3}));return}c(!0);let i=(0,rJ.DY)({fileKey:m,nodeId:u,url:e,onPost:()=>t(e),nodeType:p,source:"web",pluginId:h?.plugin.plugin_id});try{let e=await i;c(!1);let t=rJ.Rb.safeParse(e.data);if(!t.success||!h)return;let n=t.data.meta;h.genPreview({link:{id:n.id,linkUrl:n.link_url,linkName:n.link_name,linkPreview:null,linkPreviewJson:"",nodeId:n.node_id,fileKey:n.file_key,isUserOverride:n.is_user_override,isInherited:!1}})}catch(e){console.error(e),s(el.F.enqueue({message:(0,V.t)("dev_handoff.developer_related_links.link_error",{errorMessage:e.message}),error:!0,timeoutOverride:2e3}))}finally{c(!1)}},[o,n,m,u,t,s,p,h]),_=async t=>{"Enter"===t.key&&!t.shiftKey&&o?await g():"Escape"===t.key&&e()};if(a.useEffect(()=>{let t=t=>{f.current&&!f.current.contains(t.target)&&(o&&""!==o?g():e())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,f,g,o]),d){let e=new URL(o).host;return e.startsWith("www.")&&(e=e.slice(4)),(0,i.jsxs)(sp.fI,{className:"add_developer_related_link_row--inputRowSubmitting--11rHh add_developer_related_link_row--inputRow--0rB-c",children:[(0,i.jsx)(L.k,{size:"md"}),(0,i.jsx)(sd.J,{variant:"secondary",children:e})]})}return(0,i.jsxs)(sp.fI,{className:"add_developer_related_link_row--inputRow--0rB-c",children:[(0,i.jsx)(ry.r,{className:"add_developer_related_link_row--icon--mFkf4"}),(0,i.jsxs)(sc.p.Root,{children:[(0,i.jsx)(sc.p,{"aria-label":(0,V.t)("dev_handoff.developer_related_links.add_link_button"),autoFocus:!0,onChange:l,onKeyDown:_,placeholder:(0,V.t)("dev_handoff.developer_related_links.link_placeholder"),recordingKey:"devRelatedLinkUrlInput",ref:f,value:o}),(0,i.jsx)(eG.E,{"aria-label":(0,V.t)("dev_handoff.developer_related_links.add_link_submit"),className:"add_developer_related_link_row--iconButton--qajl7",htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.developer_related_links.add_link_submit"),"data-tooltip-type":eQ.Ib.TEXT,onKeyDown:_},onClick:g,children:(0,i.jsx)(su.g,{})})]})]})}var sh=n(824570),sf=n(441513),sg=n(550209);let s_=sf.z.object({type:sf.z.literal("PLAIN_TEXT"),text:sf.z.string()}),sx=sf.z.union([s_,sf.z.null()]),sy=sf.z.object({type:sf.z.literal("AUTH_REQUIRED")}),sv=(sf.z.union([sy,s_,sf.z.null()]),sf.z.object({type:sf.z.literal("AUTH_SUCCESS")}));function sb(e){if(!e)return null;try{let t=JSON.parse(e),n=sx.safeParse(t);if(!n.success)return null;return n.data}catch(t){return(0,sg.$D)(u.e.DEVELOPER_TOOLS,t,{extra:{previewJson:e}}),null}}sf.z.union([sv,sf.z.null()]);var sC=n(20940);function sE(){let e=rk(),t=(0,I.q5)(),n=t?.repo,i=!!(t&&n&&(0,sC.Ns)(t,n))||!n,a=(0,E.xo)();return!e&&i&&!a}function sj(e){let t=(0,M.Rs)(z.jJU,{fileKey:e});return(0,sh.k9)(()=>"loaded"===t.status&&t.data.file?.developerRelatedLinks?[t.data.file.developerRelatedLinks.map(e=>({...e,linkPreview:sb(e.linkPreviewJson)})),"loaded"]:[[],t.status],[t])}function sw(e,t){let n=(0,M.Rs)(z.Ssd,{fileKey:e,nodeId:t});return(0,sh.k9)(()=>"loaded"===n.status&&n.data.file?.developerRelatedLinksForNode?[n.data.file.developerRelatedLinksForNode.map(e=>({...e,linkPreview:sb(e.linkPreviewJson)})),"loaded"]:[[],n.status],[n])}var sT=n(959834),sk=n(354174);let sI=(0,sT.Ju)(function(e){let t=e.linkId,n=(0,rC.Nf)()??"",a=(0,I.tS)(),s=(0,n5.eY)().get(n),o=(0,r.wA)(),l=async()=>{if(!a||!n)return;let e=(0,rJ.Tz)({fileKey:a,linkId:t,nodeId:n,nodeType:s?.type,source:"web"});o(sa.Ce());try{await e}catch(e){console.error(e),o(el.F.enqueue({message:`Could not delete link: ${e.message}`,error:!0,timeoutOverride:2e3}))}};return(0,i.jsx)(sk.yX,{destructive:!0,confirmationTitle:(0,V.tx)("dev_handoff.developer_related_links.delete_link"),confirmText:(0,V.tx)("dev_handoff.developer_related_links.delete_link"),onConfirm:l,children:(0,i.jsx)("p",{children:(0,V.tx)("dev_handoff.developer_related_links.delete_link_text_body")})})},"DeveloperRelatedLinksDeleteModal");var sS=n(10778),sN=n(221586);let sA="developer_related_links_edit_modal--formRow--laYXB",sL="developer_related_links_edit_modal--labelCell--MSiaw",sO="developer_related_links_edit_modal--fieldCell--3YNrL",sR="developer_related_links_edit_modal--label--cxfFD",sP=(0,sT.Ju)(function({initialLink:e,...t}){let n=(0,a.useRef)(null),s=(0,a.useRef)(null),o=(0,sS.X)(s),l=iw.hS(t),{id:d,linkName:c,linkUrl:u}=e,[p,m]=a.useState(u),h=e.linkPreview?.text,[f,g]=a.useState(!e.isUserOverride&&h?"":c),[_,x]=a.useState(!1),y=(0,rC.Nf)()??"",v=(0,I.tS)(),b=(0,n5.eY)().get(y),C=(0,r.wA)(),E=r5(p),j=async()=>{let t;if(!y||!v)return;let n=p;if((!(0,r4.G)(n)||!(0,r4.H)(n))&&(n="http://"+n,!(0,r4.G)(n))){C(el.F.enqueue({message:(0,V.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}x(!0);let i=f;f&&""!==f||(i=await (0,rJ.yf)(n)),p!==u&&f!==c?t=!0:p!==u?E&&(t=!1):f!==c&&(t=!!f||!e.linkPreview);let a=(0,rJ.Cq)({fileKey:v,nodeId:y,linkId:d,name:i,url:n,isUserOverride:t,clearLinkPreview:p!==u,nodeType:b?.type,source:"web",pluginId:E?.plugin.plugin_id});E&&!t&&E.genPreview({link:{...e,linkUrl:p,linkName:f,isUserOverride:!1}}),C(sa.Ce());try{await a}catch(e){console.error(e),C(el.F.enqueue({message:`Could not edit link: ${e.message}`,error:!0,timeoutOverride:2e3}))}},w=_||!p||c===f&&u===p,T=e=>{e.keyCode===sN.Uz.ENTER&&!e.shiftKey&&f&&p?j():e.keyCode===sN.Uz.ESCAPE&&C(sa.Ce())},k=e=>{e.current&&e.current.select()};return(0,i.jsx)(iT.bL,{manager:l,width:"md",children:(0,i.jsxs)(ik.vo,{children:[(0,i.jsx)(ik.Y9,{children:(0,i.jsx)(ik.hE,{children:(0,V.tx)("dev_handoff.developer_related_links.edit_link_title")})}),(0,i.jsx)(ik.nB,{children:(0,i.jsxs)("div",{className:"developer_related_links_edit_modal--formContainer--qItRI",children:[(0,i.jsxs)("div",{className:sA,children:[(0,i.jsx)("div",{className:sL,children:(0,i.jsx)(sd.J,{htmlFor:"devRelatedLinkUrlInput",className:sR,children:(0,V.tx)("dev_handoff.developer_related_links.link")})}),(0,i.jsx)("div",{className:sO,children:(0,i.jsx)(sc.p.Lazy,{ref:o,"aria-label":(0,V.t)("dev_handoff.developer_related_links.link"),autoFocus:!0,disabled:_,htmlAttributes:{onFocus:()=>k(s)},id:"devRelatedLinkUrlInput",onChange:m,onKeyDown:T,recordingKey:"devRelatedLinkUrlInput",value:p})})]}),(0,i.jsxs)("div",{className:sA,children:[(0,i.jsx)("div",{className:sL,children:(0,i.jsx)(sd.J,{htmlFor:"devRelatedLinkNameInput",className:sR,children:(0,V.tx)("dev_handoff.developer_related_links.name")})}),(0,i.jsx)("div",{className:sO,children:(0,i.jsxs)(sc.p.Root,{children:[(0,i.jsx)("div",{className:"developer_related_links_edit_modal--favicon--aNxtZ",children:(0,i.jsx)(rD.v,{url:u})}),(0,i.jsx)(sc.p.Lazy,{ref:n,"aria-label":(0,V.t)("dev_handoff.developer_related_links.name"),disabled:_,htmlAttributes:{onFocus:()=>k(n)},id:"devRelatedLinkNameInput",onChange:g,onKeyDown:T,placeholder:h,recordingKey:"devRelatedLinkNameInput",value:f})]})})]})]})}),(0,i.jsx)(ik.wi,{children:(0,i.jsxs)(ik.jk,{children:[(0,i.jsx)(t7.$n,{variant:"secondary",onClick:()=>C(sa.Ce()),children:(0,V.tx)("dev_handoff.developer_related_links.cancel")}),(0,i.jsx)(t7.$n,{onClick:j,disabled:w,type:"submit",children:(0,V.tx)("dev_handoff.developer_related_links.save_link")})]})})]})})},"DeveloperRelatedLinksEditModal"),sM=(0,l.eU)(!1);function sD({link:e,isVariant:t}){return(0,i.jsx)(r7,{isEditable:!1,link:{...e,isInherited:!0,isVariant:t},onOpenDeleteModal:eD.lQ,onOpenEditModal:eD.lQ})}let sF=(0,l.eU)(!1),sB=(0,l.eU)(null);function sU(e=null){let t=(0,rC.Nf)()??"",n=(0,n5.eY)(),i=(0,rC.lU)(),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),o=n.get(i??s),d=(0,l.Xr)(sF),c=(0,l.Xr)(sB),u=(0,iL.U)();return a.useCallback(n=>{n?.stopPropagation(),o?.isAlive&&(d(!0),c(e),u("Dev Handoff Related Links Click Plus Icon",{nodeId:t,nodeType:o?.type,source:"web"}))},[u,d,t,o,e,c])}function sH({documentationDataLinks:e,links:t,linksLoaded:n,inheritedLinksForStateGroup:r,inheritedLinksStatusForStateGroup:s,inheritedLinks:o,inheritedLinksStatus:l,isVariant:d,userCanEditLink:c,onOpenDeleteModal:u,onOpenEditModal:p,newLinkRowVisible:m,newLinkJustAdded:h,newestLink:f}){let g=a.useMemo(()=>n&&"loaded"===l&&"loaded"===s?[...e.map(e=>({...e,type:"documentation"})),...o.map(e=>({...e,type:"inherited"})),...r.map(e=>({...e,type:"inherited-state-group"})),...t.map(e=>({...e,type:"not-inherited"}))]:[],[e,o,r,t,n,l,s]),{visibleItems:_,showMoreButton:x}=(0,rE.y)({items:g,pageSize:2,shouldResetOnSelectionChange:!0,showAll:m||h});return(0,i.jsxs)(i.Fragment,{children:[_.map(e=>"documentation"===e.type?(0,i.jsx)(sn,{link:e,appendLabel:(0,V.t)("dev_handoff.docs.documentation_link_label")},e.uri):"inherited"===e.type?(0,i.jsx)(sD,{link:e,isVariant:!1},e.linkUrl):"inherited-state-group"===e.type?(0,i.jsx)(sD,{link:e,isVariant:d},e.linkUrl):"not-inherited"===e.type?(0,i.jsx)(r7,{isEditable:c,link:{...e,isInherited:!1},linkToFocus:f,onOpenDeleteModal:u,onOpenEditModal:p},e.linkUrl):void 0),(0,i.jsx)(sG,{links:_.filter(e=>"documentation"!==e.type)}),x]})}function sV(){let e=(0,r.wA)(),t=(0,rC.Nf)()??"",n=(0,I.uL)()??"",o=(0,n5.eY)(),d=(0,rC.lU)(),u=(0,r.d4)(e=>e.mirror.appModel.currentPage),p=o.get(d??u),m=(0,c.wS)(),h=(0,so.LS)(),f=sE(),g=rk(),[_,x]=sj(n),{links:y=[]}=st(),v=a.useMemo(()=>_.filter(e=>e.nodeId===t)??[],[_,t]),{singleBackingSymbol:b,singleBackingStateGroup:C}=(0,sl.$)([p?.guid??""]),{backingSymbol:E,backingStateGroup:j}=(0,c.Bv)(b,C),w="loaded"===m.status,T=p?.type==="INSTANCE"||w,k=(0,sr.bj)(E?.sourceLibraryKey?[E?.sourceLibraryKey]:[]),S=k.data[0],N=null;S&&((0,ss.ZA)(S)&&(0,ss.xA)(S)?N=S.hub_file_id:"library_file_key"in S&&(N=S.library_file_key));let[A,L]=sw(N??"",E?.publishID??""),[O,R]=sw(N??"",j?.publishID??""),P=!!N&&N!==n,M=E?.guid;T&&M&&!P&&(A=_.filter(e=>e.nodeId===M)??[],L=x),T&&j&&!P&&(O=_.filter(e=>e.nodeId===j.guid)??[],R=x);let[D,F]=(0,l.fp)(sF),B=sU(),[U,H]=(0,l.fp)(sM);a.useEffect(()=>{U&&(B(),H(!1))},[U,B,H]);let V=a.useMemo(()=>_&&function(e,t,n){let i=new Map,a=new Map;return e.forEach(e=>{if(s.glU.getPageIdFromNode(e.nodeId)!==n)return;let r=t.get(e.nodeId);for(;r;){let t=a.get(r.guid);if(t){i.get(t)?.push(e);return}let n=r.parentNode;if(!n||"SECTION"===r.type||"CANVAS"===r.type)return;if("FRAME"===r.type&&!r.isStateGroup&&!r.resizeToFit&&(n?.type==="SECTION"||n?.type==="CANVAS")){i.get(r.guid)?i.get(r.guid)?.push(e):i.set(r.guid,[e]),a.set(e.nodeId,r.guid);return}r=n}}),i}(_,o,u),[_,t,u]),[G,z]=a.useState(!1),[K,W]=a.useState(""),Z=(0,l.md)(sB),q=a.useCallback(()=>{F(!1),Z?.current?.focus?.()},[Z,F]),X=a.useCallback(e=>{F(!1),z(!0),W(e)},[F]);if(0===v.length&&g)return null;let Y=p?.type==="SECTION"&&V&&function(e,t){let n=new Map;for(let i of t.childrenNodes){let t="FRAME"===i.type&&e.get(i.guid);t&&n.set(i.guid,t)}return n}(V,p),J=v.length>0||y.length>0||D||A.length>0||O.length>0||!h&&V&&V.size>0||Y&&Y.size>0,Q="loaded"===k.status&&"loaded"===x&&"loaded"===L&&"loaded"===R;return(0,i.jsx)(e0.VZ,{recordingKey:"developerLinks",bodyIsEmpty:!J,hideHeader:!0,noBorder:!0,noPadding:!0,children:(0,i.jsxs)("div",{className:ew()("developer_related_links_panel--rowsContainer--qh1Un","developer_related_links_panel--gap--nJGut"),children:[(0,i.jsx)(sH,{documentationDataLinks:y,inheritedLinks:A&&T?A:[],inheritedLinksForStateGroup:j&&T?O:[],inheritedLinksStatus:L,inheritedLinksStatusForStateGroup:R,isVariant:null!==j,links:v,linksLoaded:Q,newLinkJustAdded:G,newLinkRowVisible:D,newestLink:K,onOpenDeleteModal:(t,n)=>{e((0,sa.to)({type:sI,data:{linkId:t,initialLinkUrl:n}}))},onOpenEditModal:t=>{e((0,sa.to)({type:sP,data:{initialLink:t}}))},userCanEditLink:f}),D&&(0,i.jsx)(sm,{onCancel:q,onSuccess:X,existingUrls:v.map(e=>e.linkUrl)})]})})}function sG({links:e}){let[t,n]=(0,l.fp)(rT),r=a.useMemo(()=>{let n=new Set(e.map(e=>e.linkUrl));return Object.values(t).filter(e=>!!e&&e.links.some(e=>n.has(e.linkUrl)))},[e,t]);async function s({links:e,plugin:t}){if(await rQ.instance.runAuth({plugin:t,links:e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId}))})){n(e=>{let n={...e};return delete n[t.plugin_id],n});try{await Promise.all(e.map(e=>rQ.instance.generateLinkPreview({plugin:t,link:e})))}catch(e){console.error(e)}}}return r&&0!==r.length?(0,i.jsx)(rj.Y,{spacing:4,direction:"vertical",width:"fill-parent",horizontalAlignItems:"start",padding:{top:4,left:16},children:Array.from(r).map((e,t)=>(0,i.jsx)(rw.E,{children:(0,V.tx)("dev_handoff.related_links.plugin.auth_required",{button:(0,i.jsx)("button",{className:F.s.colorTextBrand.bgTransparent.$,onClick:()=>s({links:e.links,plugin:e.plugin}),children:(0,i.jsx)(rw.E,{children:(0,V.tx)("dev_handoff.related_links.plugin.connect_to",{pluginName:e.plugin.name})})})})},t))}):null}var sz=n(742549),sK=n(752064),sW=n(130353),sZ=n(619070),sq=n(553065),sX=n(643077),sY=n(754446),sJ=n(303106),sQ=n(677885),s$=n(68191),s0=n(312387),s1=n(924519),s2=n(350081),s3=n(67282),s5=n(919853),s4=n(337726),s6=n(315572),s7=n(876244),s9=n(225686),s8=n(525037),oe=n(46805),ot=n(3185);function on(){let e;let t=(0,rC.lA)(),n=(0,c.wS)(),o=(0,r.d4)(I.sS),l=(0,v.uQ)(),d=function(){let e=(0,rC.RI)(),t=(0,x.Fk)((e,t,n)=>{if(!t||n)return null;let i=e?.get(t);return i?.sourceLibraryKey},e?.nodeId,e?.isDetachedScene),n=(0,a.useMemo)(()=>{if(!e?.isDetachedScene||!e?.nodeId)return null;let t=(0,c.x9)(e.nodeId);return t?.sourceLibraryKey},[e?.nodeId,e?.isDetachedScene]);return(0,a.useMemo)(()=>e?.isDetachedScene?n:t,[n,e?.isDetachedScene,t])}(),u=(0,sr.bj)(d?[d]:[]),p=u.data[0];p&&("hub_file_id"in p?e=p.hub_file_id:"library_file_key"in p&&(e=p.library_file_key));let m=a.useRef(!1);!1===m.current&&u&&"loading"===u.status&&(m.current=!0);let h=(0,iL.U)(),f="loaded"===n.status?n.result:void 0,g=f&&f.isExternal?f.fileKey:e&&e!==o?e:o,_=g!==o,y=f?f.nodeId:_?t?.publishID:t?.guid,b=(0,rF.dI)({trackingFunction:()=>{h("Dev Mode Navigated To Main Component",{selectedNodeId:l,external:_,detached:!!f})}});if(!y||!b||!g||u?.status==="loading")return null;let C=(0,oe.wJ)(g),E=!1;return _?n&&(E="loading"===n.status||"errors"===n.status):E=s.Egt.nodeIsSoftDeleted(y),(0,i.jsx)("div",{className:ew()({"component_panel--instanceNavigationButton--4ANaC":m.current}),children:(0,i.jsx)(iI.K,{"aria-label":C?(0,V.t)("design_systems.instance_panel.view_library_in_community"):(0,V.t)("dev_handoff.instance_navigation.go_to_main_component"),onClick:b,disabled:E,recordingKey:"devHandoffNavigateInstanceButton",htmlAttributes:{"data-tooltip":C?(0,V.t)("design_systems.instance_panel.view_library_in_community"):(0,V.t)("dev_handoff.instance_navigation.go_to_main_component"),"data-tooltip-type":eQ.Ib.TEXT},children:C?(0,i.jsx)(s6.c,{}):_?(0,i.jsx)(s7.E,{}):(0,i.jsx)(rP.K,{})})})}function oi(){return(0,i.jsx)(p.tH,{boundaryKey:"Figmadoc",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,i.jsx)(ot.Qd,{})})}function oa(){let{description:e}=st(),t=a.useMemo(()=>e?(0,s9.$J)(e):void 0,[e]);return(0,i.jsx)(e0.VZ,{title:(0,V.t)("inspect_panel.component_information"),recordingKey:"componentPanel",collapsiblePanelKey:"info",collapsedHeaders:t?(0,i.jsx)(s8.G,{text:t}):void 0,children:(0,i.jsx)(si,{})})}function or(){return(0,rC.ro)()?(0,i.jsx)(oa,{}):null}var os=n(878604),oo=n(222714),ol=n(816299),od=n(436194),oc=n(446671),ou=n(816565),op=n(636763);let om={"claude-3-5-sonnet-20241022":{provider:"anthropic",model:"claude-3-5-sonnet-20241022"},"claude-sonnet-4-20250514":{provider:"anthropic",model:"claude-sonnet-4-20250514"}};var oh=(e=>(e.SINGLE_REACT_SNIPPET="singleReactSnippet",e.MULTIPLE_REACT_SNIPPETS="multipleReactSnippets",e.SINGLE_CROSS_PLATFORM_SNIPPET="singleCrossPlatformSnippet",e.PARSERLESS_TEMPLATE="parserlessTemplate",e))(oh||{});let of={singleReactSnippet:{name:"Single React Snippet"},multipleReactSnippets:{name:"Multiple React Snippets"},singleCrossPlatformSnippet:{name:"Single Cross Platform Snippet"},parserlessTemplate:{name:"Parserless Template"}},og={generatedCodeSnippet:"",isGenerating:!1,error:null,sourceCodeContent:"",usageExampleSourceCodes:{},fetchingUsageExamples:!1,usageExampleStatuses:{}};var o_=n(946965),ox=n(356138),oy=n(129215),ov=n(321259),ob=n(725694),oC=n(883187),oE=n(371868),oj=n(465428),ow=n(723309),oT=n(856434),ok=n(816154),oI=n(901144),oS=n(436919),oN=n(697872),oA=n(832937),oL=n(801519),oO=n(36481),oR=n(833805),oP=n(961457),oM=n(301510),oD=n(178623),oF=n(34927);let oB={};var oU=n(37495),oH=n(739710),oV=n(460418),oG=n(524065);function oz({data:e,repositoryId:t,setSnippetState:n,instanceSnippetState:i,generationType:r,usageExamples:o,rules:l,model:d}){let c=i?.[r]||og,u=(0,n5.eY)(),{typedPropDefs:p,variantPropDefs:m}=(0,a.useMemo)(()=>{let t=[],n=[],i=e.component.node_id;if(i&&u)try{let e=(0,oH.Yg)([i],u);e[i]&&((0,oV.hk)(i,[i],e).forEach(e=>{t.push(e)}),(0,oG.Jm)(i,e).forEach(e=>{n.push(e)}))}catch(e){console.warn("Could not fetch component props for node:",i,e)}return{typedPropDefs:t,variantPropDefs:n}},[e.component.node_id,u]),h=(0,a.useMemo)(()=>{try{let n=e.selectedFile?.metadata?.repository,i=e.selectedFile?.metadata?.path,a=n?.id;if(!a){let n=e.component.code_connect_info.v1.figmadoc,i=(0,oU.y)(n);a=i?.repository?.id&&i?.repository?.id.length>0?i?.repository?.id:t}if(a&&i){let t=i.match(/github\.com\/([^\/]+\/[^\/]+)\/blob\/[^\/]+\/(.+)/),n=t?t[2]:i;return{repositoryId:a,filePath:n,componentName:e.selectedComponent?.title}}}catch(e){console.error("Error parsing source code info:",e)}return null},[e,t]),f=(0,a.useMemo)(()=>o.filter(e=>e.path).map(e=>{let t=e.path.match(/github\.com\/([^\/]+\/[^\/]+)\/blob\/[^\/]+\/(.+)/);return t?t[2]:e.path}).filter(e=>void 0!==e),[o]),{actions:g}=function(e){let{sourceFilePath:t,componentName:n,usageExampleFilePaths:i,rules:r,variableValues:o,variantValues:l,typedPropDefs:d,variantPropDefs:c,repositoryId:u,libraryKey:p,snippetType:m,modelProvider:h,model:f,snippetState:g,setSnippetState:_}=e,x=(0,oM.w)(_),y=g.generatedCodeSnippet,v=(0,a.useCallback)(e=>{x.current({generatedCodeSnippet:e})},[x]),b=g.isGenerating,C=(0,a.useCallback)(e=>{x.current({isGenerating:e})},[x]);g.error;let E=(0,a.useCallback)(e=>{x.current({error:e})},[x]),j=g.usageExampleSourceCodes,w=(0,a.useCallback)(e=>{x.current({usageExampleSourceCodes:e})},[x]);g.fetchingUsageExamples;let T=(0,a.useCallback)(e=>{x.current({fetchingUsageExamples:e})},[x]);g.usageExampleStatuses;let k=(0,a.useCallback)(e=>{x.current({usageExampleStatuses:e})},[x]),[I]=(0,oR.IT)((0,oP.Fq)({libraryKey:p,repositoryId:u,filePath:t}),{enabled:!!u&&!!t}),S=I.data?.content;(0,a.useEffect)(()=>{!async function(){if(!u||0===i.length){w(oB),k(oB);return}T(!0);let e={},t={};for(let e of i)t[e]="loading";for(let n of(k(t),i)){try{let i=await oF.Q.getGithubSourceFileContents({libraryKey:p,repositoryId:u,filePath:n});i.data?.meta?.content?(e[n]=i.data.meta.content,t[n]="success"):t[n]="error"}catch(e){t[n]="error"}k({...t})}w(e),T(!1)}()},[i,u,p,T,k,w]);let N=(0,a.useMemo)(()=>[S?`Main Component File (${t}):
\`\`\`
${S}
\`\`\``:"",i.map((e,t)=>{let n=j[e];return n?`Usage Example File ${t+1} (${e}):
\`\`\`
${n}
\`\`\``:""}).filter(Boolean).join("\n\n")].filter(Boolean).join("\n\n"),[S,t,i,j]),A=(0,a.useRef)(),L=(0,a.useRef)(),O=(0,a.useCallback)(async()=>{if(!b){C(!0),E(null),v("");try{let{systemPrompt:e,userPrompt:a}=function(e,t,n,i,a,r,o,l,d,c){var u,p,m,h,f,g,_,x;let y,v;if(e===oh.MULTIPLE_REACT_SNIPPETS||e===oh.PARSERLESS_TEMPLATE){let e=function(e){let t={};return e.forEach(e=>{let n=[];e.preferredValues&&e.preferredValues.length>0?n.push(...e.preferredValues):e.type===s.J0O.BOOL?n.push(!0,!1):e.type===s.J0O.TEXT&&e.preferredValues?n.push(...e.preferredValues):e.type===s.J0O.INSTANCE_SWAP&&e.preferredValues&&e.preferredValues.length>0&&n.push(...e.preferredValues),void 0===e.defaultValue||n.includes(e.defaultValue)||n.push(e.defaultValue),n.length>0&&(t[e.name]=n)}),t}(l),t=function(e){let t={};return e.forEach(e=>{e.values&&e.values.length>0&&(t[e.name]=e.values)}),t}(d);y=Object.entries(e).map(([e,t])=>`${e}: ${JSON.stringify(t)} (all possible values)`).join("\n")||"No variables available",v=Object.entries(t).map(([e,t])=>`${e}: ${t.join(", ")} (all options)`).join("\n")||"No variants available"}else y=Object.keys(r).length>0?Object.entries(r).map(([e,t])=>{let n=l.find(t=>t.explicitDefID===e);return n?`${n.name}: ${JSON.stringify(t)}`:`${e}: ${JSON.stringify(t)}`}).join("\n"):"No variables specified",v=Object.keys(o).length>0?Object.entries(o).map(([e,t])=>{let n=d.find(t=>t.uguid===e);return n?`${n.name}: ${t}`:`${e}: ${t}`}).join("\n"):"No variants specified";switch(e){case oh.SINGLE_REACT_SNIPPET:return u=y,p=v,{systemPrompt:`You are a React code snippet generator. You will receive five inputs:
1. A component name
2. A file path to the component definition
3. Zero or more usage examples of that component from a codebase
4. A plain text prompt explaining when to use or not use the component
5. Current variable and variant values selected in the component playground

Your task is to generate ONLY React code that demonstrates proper usage of the component.

Rules:
- Output ONLY valid React/JSX code
- Output ONLY a single code example
- It does NOT need to be wrapped in any functions or have any return statements
- Generate a snippet that is focused on an example that best demonstrates the component's purpose
- Extract the component's props, patterns, and conventions from the provided usage examples
- Use the provided variable and variant values in the code example - these represent the specific configuration the user is interested in
- Do not include any imports
- Ensure the code would actually compile and run if placed in a React application
- Demonstrate the "when to use" scenarios from the prompt through your code example
- If the prompt mentions "when not to use", avoid those patterns in your example
- Keep the example concise but complete
- Use realistic prop values that would make sense in a real application

Example Complexity Guidelines:
- For simple components (buttons, inputs): Show basic usage with the selected variants/variables
- For complex components (forms, modals): Include minimal state management or event handlers if needed
- For layout components: Show with realistic child content
- Always prefer clarity over complexity

The output should be a complete self-contained React component example that a developer could copy
and use immediately.`,userPrompt:`Component Name: ${t}
File Path: ${n}
Usage Examples: ${i.length>0?i.join("\n"):"No usage examples provided"}
Rules/Context: ${a||"No specific rules provided"}

Current Variable Values:
${u}

Current Variant Values:
${p}

Source Code:
${c||"Source code not available - please generate examples based on component name and context only."}`};case oh.MULTIPLE_REACT_SNIPPETS:return m=y,h=v,{systemPrompt:`You are a React code snippet generator that creates MULTIPLE diverse examples. You will receive five inputs:
1. A component name
2. A file path to the component definition
3. Zero or more usage examples of that component from a codebase
4. A plain text prompt explaining when to use or not use the component
5. Current variable and variant values selected in the component playground

Your task is to generate MULTIPLE React code examples that demonstrate different usage patterns of the component.

Rules:
- Output 3-5 different code examples with explanatory comments
- Each example should have a user-facing comment (using //) explaining what it demonstrates
- Separate examples with blank lines for clarity
- Each example should demonstrate a different use case or pattern
- Examples should progress from simple to more complex
- It does NOT need to be wrapped in any functions or have any return statements
- Extract the component's props, patterns, and conventions from the provided usage examples
- Show different combinations of the available variables and variants across examples
- Do not include any imports
- Ensure all code would actually compile and run if placed in a React application
- If the prompt mentions "when not to use", include one example showing the correct alternative

Example Structure:
// This example shows the most basic usage of the component
<Component prop="value" />

// This example demonstrates how to handle user interactions
<Component onClick={() => console.log('clicked')} prop="value" />

// This example shows how to compose the component with children
<Component>
  <ChildComponent />
</Component>

Guidelines for Multiple Examples:
1. First example: Most basic usage with selected variants/variables
2. Second example: Common real-world usage pattern with different variant combination
3. Third example: Advanced features or composition with another variant set
4. Optional fourth/fifth: Edge cases or special configurations
5. If applicable: Show incorrect usage crossed out with the correct alternative

Note: You will receive information about ALL possible variant and variable values.
Use different combinations across examples to showcase the component's versatility.

The output should be multiple self-contained React component examples that demonstrate the full range of the component's capabilities.`,userPrompt:`Component Name: ${t}
File Path: ${n}
Usage Examples: ${i.length>0?i.join("\n"):"No usage examples provided"}
Rules/Context: ${a||"No specific rules provided"}

Current Variable Values:
${m}

Current Variant Values:
${h}

Source Code:
${c||"Source code not available - please generate examples based on component name and context only."}`};case oh.SINGLE_CROSS_PLATFORM_SNIPPET:return f=y,g=v,{systemPrompt:`You are an adaptive code snippet generator that detects and matches the framework of the input code. You will receive five inputs:
1. A component name
2. A file path to the component definition
3. Zero or more usage examples of that component from a codebase
4. A plain text prompt explaining when to use or not use the component
5. Current variable and variant values selected in the component playground

Your task is to:
1. FIRST: Detect the framework/language from the source code (React, SwiftUI, UIKit, Flutter, etc.)
2. THEN: Generate a code snippet in that SAME framework/language

Framework Detection & Generation Rules:
- Analyze the file extension and code syntax to determine the framework
- Output ONLY valid code in the DETECTED framework
- Output ONLY a single code example
- Match the coding patterns and conventions from the source code
- Use the provided variable and variant values in the code example
- Do not include any imports/includes unless typical for inline examples in that framework
- Keep the example concise but complete

Framework-Specific Guidelines:

For React/JSX:
- Use JSX syntax with proper component composition
- Show props and event handlers

For SwiftUI:
- Use SwiftUI view syntax and modifiers
- Show proper view composition and state management

For UIKit/Objective-C:
- Use proper Objective-C syntax with square brackets
- Show view configuration and target-action patterns

For Flutter/Dart:
- Use Flutter widget composition
- Show proper widget tree structure

For other frameworks:
- Match the patterns and idioms from the provided source code
- Follow that framework's conventions for component usage

The output should be a complete self-contained component example in the SAME framework as the input source code.`,userPrompt:`Component Name: ${t}
File Path: ${n}
Usage Examples: ${i.length>0?i.join("\n"):"No usage examples provided"}
Rules/Context: ${a||"No specific rules provided"}

Current Variable Values:
${f}

Current Variant Values:
${g}

Source Code:
${c||"Source code not available - please generate examples based on component name and context only."}`};case oh.PARSERLESS_TEMPLATE:return _=y,x=v,{systemPrompt:`You are a Figma Code Connect template generator. You will receive:
1. A component name
2. A file path to the component definition
3. Zero or more usage examples of that component from a codebase
4. A plain text prompt explaining when to use or not use the component
5. ALL possible variable values and ALL possible variant options available for the component

Your task is to generate a SINGLE Code Connect template that handles ALL variants and variables using dynamic placeholders and conditional logic.

Template Rules:
- Output a complete Code Connect template using the Template V2 API
- Use dynamic property access for ALL variants and variables
- Include conditional branching for different variant combinations
- Use template literals inside figma.code\`...\` for dynamic values
- Generate realistic property names based on the component and its properties
- Include helpful comments explaining the property mappings

Required Structure:
1. Start with // url=https://www.figma.com/file/... comment
2. const figma = require('figma')
3. const instance = figma.selectedInstance
4. Access all properties dynamically
5. Use conditional logic for variant-specific behavior
6. Export default object with example field using figma.code template literal

Example Output Format:
// url=https://www.figma.com/file/your-file-id/Component?node-id=123
const figma = require('figma')
const instance = figma.selectedInstance

// Access component properties
const variant = instance.getString('Variant')
const size = instance.getString('Size')
const isDisabled = instance.getBoolean('Disabled')
const label = instance.getString('Label')
const icon = instance.getInstanceSwap('Icon')

// Build dynamic props based on variant
const variantProps = variant === 'primary' ? 'primary' :
                     variant === 'secondary' ? 'secondary' :
                     'default'

// Export the template
export default {
  example: figma.code\`
    <${t}
      variant={\${variant}}
      size={\${size}}
      disabled={\${isDisabled}}
      \${label ? \`label={\${label}}\` : ''}
      \${icon.hasCodeConnect() ? \`icon={\${icon.executeTemplate().example}}\` : ''}
      \${size === 'large' ? 'fullWidth' : ''}
    />
  \`,
  id: '${t.toLowerCase().replace(/\s+/g,"-")}',
  metadata: {
    nestable: false,
    props: {
      variant: variant,
      size: size
    }
  }
}

Guidelines:
1. Map ALL provided variants/variables to property accessors
2. Use appropriate getter methods (getString, getBoolean, getEnum, getInstanceSwap)
3. Include conditional logic for variant-specific rendering
4. Handle optional properties with ternary operators
5. Use executeTemplate() for nested component instances
6. Include metadata.props for parent component consumption

The output should be a single, sophisticated template that dynamically handles all component variations.`,userPrompt:`Component Name: ${t}
File Path: ${n}
Usage Examples: ${i.length>0?i.join("\n"):"No usage examples provided"}
Rules/Context: ${a||"No specific rules provided"}

ALL Available Variable Values:
${_}

ALL Available Variant Options:
${x}

Source Code:
${c||"Source code not available - please generate examples based on component name and context only."}`};default:throw Error(`Unknown snippet type: ${e}`)}}(m,n,t,i,r,o,l,d,c,N),u=(await oD.Ay.internal.streamText({provider:h,model:f,messages:[{role:"system",content:e},{role:"user",content:a}]})).getReader(),p="";for(;;){let{done:e,value:t}=await u.read();if(e)break;let n=(p+=t).replace(/^```[a-z]*\n?/gm,"").replace(/\n?```$/gm,"").trim();v(n)}}catch(t){let e=t instanceof Error?t.message:"Unknown error occurred";E(`Error generating code snippet: ${e}`),v("")}finally{C(!1)}}},[b,C,E,v,m,n,t,i,r,o,l,d,c,N,h,f]),R=(0,a.useCallback)(()=>{v(""),E(null),A.current=void 0,L.current=void 0},[E,v]),P=JSON.stringify(o),M=JSON.stringify(l);return(0,a.useEffect)(()=>{let e=void 0!==A.current&&A.current!==P,t=void 0!==L.current&&L.current!==M;if(A.current=P,L.current=M,y&&(e||t)){let e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)}},[P,M]),{actions:{generateCodeSnippet:O,clearSnippet:R}}}({sourceFilePath:h?.filePath||"",componentName:h?.componentName||e?.selectedComponent?.title||"Unknown Component",usageExampleFilePaths:f,rules:l,typedPropDefs:p,variantPropDefs:m,variableValues:{},variantValues:{},repositoryId:h?.repositoryId||"",libraryKey:e.component.library_key,snippetType:r,snippetState:c,setSnippetState:e=>n(r,e),modelProvider:om[d]?.provider||"",model:d});return g}let oK="context_editor--section--BbcYm",oW="context_editor--sectionTitle--WGKtU",oZ="context_editor--toolbarButton--rgbhu",oq="context_editor--toolbarButtonActive--QWI48";function oX(){let[e]=(0,oE.DF)(),[t,n]=a.useState(!1),[r,s]=a.useState(!1),[o,l]=a.useState(!1),[d,c]=a.useState(!1),u=a.useCallback(()=>{let e=(0,oL.vJ)();(0,oL.I2)(e)&&(n(e.hasFormat("bold")),s(e.hasFormat("italic")),l(e.hasFormat("strikethrough")),c(e.hasFormat("code")))},[]);a.useEffect(()=>e.registerUpdateListener(({editorState:e})=>{e.read(()=>{u()})}),[e,u]);let p=t=>{e.dispatchCommand(oL.mB,t)},m=t=>{"bullet"===t?e.dispatchCommand(ov.q7,void 0):e.dispatchCommand(ov.x,void 0)};return(0,i.jsxs)("div",{className:"context_editor--formattingToolbar--Uc3uU",children:[(0,i.jsx)("button",{type:"button",onClick:()=>p("bold"),className:`${oZ} ${t?oq:""}`,title:"Bold (Ctrl+B)",children:(0,i.jsx)("strong",{children:"B"})}),(0,i.jsx)("button",{type:"button",onClick:()=>p("italic"),className:`${oZ} ${r?oq:""}`,title:"Italic (Ctrl+I)",children:(0,i.jsx)("em",{children:"I"})}),(0,i.jsx)("button",{type:"button",onClick:()=>p("strikethrough"),className:`${oZ} ${o?oq:""}`,title:"Strikethrough",children:(0,i.jsx)("s",{children:"S"})}),(0,i.jsx)("button",{type:"button",onClick:()=>p("code"),className:`${oZ} ${d?oq:""}`,title:"Code",children:(0,i.jsx)("code",{children:"</>"})}),(0,i.jsx)("div",{className:"context_editor--toolbarDivider--CtjSm"}),(0,i.jsx)("button",{type:"button",onClick:()=>m("bullet"),className:oZ,title:"Bullet List",children:"\u2022 List"}),(0,i.jsx)("button",{type:"button",onClick:()=>m("number"),className:oZ,title:"Numbered List",children:"1. List"})]})}function oY({value:e,onChange:t}){let n={namespace:"RulesEditor",theme:{paragraph:"context_editor--lexicalParagraph--4B0iJ",text:{bold:"context_editor--lexicalBold--3SEeG",italic:"context_editor--lexicalItalic--gNC-w",strikethrough:"context_editor--lexicalStrikethrough--OhMMu",code:"context_editor--lexicalCode--5nTJJ"},list:{ul:"context_editor--lexicalUl--40ny2",ol:"context_editor--lexicalOl--9ZkJ9",listitem:"context_editor--lexicalListItem--pp2Ko"},heading:{h1:"context_editor--lexicalH1--xfYL9",h2:"context_editor--lexicalH2--2coO5",h3:"context_editor--lexicalH3--TMSXX"},quote:"context_editor--lexicalQuote---2AuP",link:"context_editor--lexicalLink--gKtp2"},onError:e=>{console.error("Lexical error:",e)},nodes:[oA.jL,oA.dJ,ov.v5,ov.YW,ox.iK,oy.Db]},a=[ob.d7,ob.Eg,ob.eA,ob.WY,ob.Up,ob.ps,ob.TB,ob.jA,ob.mK,ob.NB];return(0,i.jsx)(oC.n,{initialConfig:n,children:(0,i.jsxs)("div",{className:"context_editor--richTextEditorWrapper--bq9Cu",children:[(0,i.jsxs)("div",{className:"context_editor--richTextEditorContainer--FefJ2",children:[(0,i.jsx)(oN.$,{contentEditable:(0,i.jsx)(oj.a,{className:"context_editor--richTextEditorContent--uVrsU","aria-placeholder":"Enter rules or context information...",placeholder:(0,i.jsxs)("div",{className:"context_editor--richTextPlaceholder--Dju2n",children:["Enter rules or context information...",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Use the toolbar below or markdown shortcuts:",(0,i.jsx)("br",{}),"\u2022 **bold** or *italic* for emphasis",(0,i.jsx)("br",{}),"\u2022 Bullet points for lists",(0,i.jsx)("br",{}),"\u2022 `code` for technical terms"]})}),ErrorBoundary:ow.A}),(0,i.jsx)(oS.D,{onChange:e=>{e.read(()=>{t((0,ob.bk)(a))})}}),(0,i.jsx)(oT.G,{}),(0,i.jsx)(ok.Q,{}),(0,i.jsx)(oI.E,{transformers:a})]}),(0,i.jsx)(oX,{})]})})}function oJ({data:e,onClose:t,repositoryId:n,setSnippetState:r,instanceSnippetState:s,model:o}){let[l,d]=(0,a.useState)(oh.SINGLE_REACT_SNIPPET),[c,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(""),h=oz({data:e,repositoryId:n,setSnippetState:r,instanceSnippetState:s,generationType:l,usageExamples:c,rules:p,model:o}),f=s?.[l]||og;if(!e)return console.error("ComponentBrowserContextEditor: data is null/undefined"),(0,i.jsx)("div",{children:"Error: No data provided"});let g=e=>{u(c.filter(t=>t.id!==e))},_=(e,t)=>{u(c.map(n=>n.id===e?{...n,path:t}:n))},x=e?.selectedFile?.metadata?.path?(e=>{try{let t=e.match(/github\.com\/([^\/]+\/[^\/]+)\/blob\/[^\/]+\/(.+)/);if(t)return t[2]??void 0;return e}catch(t){return console.error("Error extracting GitHub URL:",t),e}})(e.selectedFile.metadata.path):e?.selectedFile?.title||"Unknown file";return(0,i.jsxs)("div",{className:"context_editor--wrapper--xCJMk",children:[(0,i.jsx)("div",{className:"context_editor--generationTypeSelectWrapper--5UJly",children:(0,i.jsxs)(ol.bL,{value:l,onChange:e=>d(e),children:[(0,i.jsx)(ol.l9,{width:"fill",label:(0,i.jsx)(sd.J,{children:"Generation Type"})}),(0,i.jsx)(ol.mc,{children:Object.entries(of).map(([e,t])=>(0,i.jsx)(ol.c$,{value:e,children:t.name},e))})]})}),(0,i.jsxs)("div",{className:"context_editor--content--l8qn-",children:[(0,i.jsxs)("div",{className:"context_editor--leftPanel--3QbVz",children:[(0,i.jsxs)("div",{className:oK,children:[(0,i.jsx)("div",{className:oW,children:"Source code"}),(0,i.jsxs)("div",{className:"context_editor--sourceCodeChip--PG5Yg",children:[(0,i.jsx)("div",{className:"context_editor--chipIcon---7oLm",children:"\u{1F4C4}"}),(0,i.jsx)("div",{className:"context_editor--chipText--57sBk",children:x||e?.selectedComponent?.title||"Component"})]})]}),(0,i.jsxs)("div",{className:oK,children:[(0,i.jsxs)("div",{className:"context_editor--sectionHeader--sQPmb",children:[(0,i.jsx)("div",{className:oW,children:"Usage examples"}),(0,i.jsx)(iI.K,{size:"md",variant:"secondary",onClick:()=>{u([...c,{id:Date.now().toString(),path:""}])},"aria-label":"Add usage example",children:(0,i.jsx)(o_.G,{})})]}),(0,i.jsx)("div",{className:"context_editor--usageExamplesList--mBcXM",children:c.map(e=>{let t=e.path.match(/github\.com\/([^\/]+\/[^\/]+)\/blob\/[^\/]+\/(.+)/),n=t?t[2]:e.path,a=n?f.usageExampleStatuses[n]:void 0;return(0,i.jsxs)("div",{className:"context_editor--usageExampleRow--1bXvh",children:[(0,i.jsx)(sc.p,{value:e.path,onChange:t=>_(e.id,t),placeholder:"Enter file path...",size:"md",id:e.id}),(0,i.jsxs)("div",{className:"context_editor--usageExampleStatus--PNL--",children:["loading"===a&&(0,i.jsx)(L.k,{size:"sm"}),"success"===a&&(0,i.jsx)(su.g,{className:"context_editor--statusSuccess--TkIwr"}),"error"===a&&(0,i.jsx)(iA.A,{className:"context_editor--statusError--JRihP"})]}),(0,i.jsx)(iI.K,{size:"md",variant:"secondary",onClick:()=>g(e.id),"aria-label":"Remove usage example",children:"\xd7"})]},e.id)})})]}),(0,i.jsxs)("div",{className:oK,children:[(0,i.jsx)("div",{className:oW,children:"Rules"}),(0,i.jsx)(oY,{value:p,onChange:m})]}),(0,i.jsx)("div",{className:oK,children:(0,i.jsx)(t7.$n,{variant:"primary",onClick:h.generateCodeSnippet,disabled:f.isGenerating,children:"Generate Code Snippet"})})]}),(0,i.jsx)("div",{className:"context_editor--rightPanel--h7Bnf",children:(0,i.jsxs)("div",{className:oK,children:[(0,i.jsx)("div",{className:oW,children:"Code snippet"}),f.isGenerating?(0,i.jsxs)("div",{className:"context_editor--loadingContainer--iRZfM",children:[(0,i.jsx)(L.k,{size:"sm"}),(0,i.jsx)("div",{className:"context_editor--loadingText--qCIH2",children:"Generating code snippet..."})]}):f.error?(0,i.jsx)("div",{className:"context_editor--errorContainer--TmUDR",children:(0,i.jsx)("div",{className:"context_editor--errorText--iNUap",children:f.error})}):f.generatedCodeSnippet?(0,i.jsx)("div",{className:"context_editor--codeSnippetContainer--nHav-",children:(0,i.jsx)(eH.yT,{includeMargin:!1,hideHeader:!0,section:{lines:f.generatedCodeSnippet.split("\n").map((e,t)=>({code:e,lineNumber:t+1,indent:Math.floor((e.match(/^(\s*)/)?.[1]||"").length/2)})),language:(0,oO.$e)("component.tsx"),name:"Generated Code"},code:[{lines:f.generatedCodeSnippet.split("\n").map((e,t)=>({code:e,lineNumber:t+1,indent:Math.floor((e.match(/^(\s*)/)?.[1]||"").length/2)})),language:(0,oO.$e)("component.tsx"),name:"Generated Code"}],copyAllActionEnabled:!0})}):(0,i.jsx)("div",{className:"context_editor--placeholderText--Px9v4",children:f.sourceCodeContent?'Click "Generate Code Snippet" to create usage examples':f.fetchingUsageExamples?"Loading usage example source code...":"Source code loading..."})]})})]})]})}var oQ=n(299189);function o$(e){return(e?.split("\n")??[]).map((e,t)=>{let n=Math.floor((e.match(/^(\s*)/)?.[1]||"").length/2);return{code:e,lineNumber:t+1,indent:n}})}var o0=n(68106),o1=n(657878),o2=n(566796);let o3="generated_snippets_container--control--dLPoe",o5=[oh.SINGLE_REACT_SNIPPET,oh.MULTIPLE_REACT_SNIPPETS,oh.SINGLE_CROSS_PLATFORM_SNIPPET,oh.PARSERLESS_TEMPLATE];function o4(){let e=(0,a.useRef)(Date.now()),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)("claude-3-5-sonnet-20241022"),[o,d]=(0,a.useState)(!1),c=function(){let e=(0,l.md)(I._S),t=function(e,t,n){let i=[],a=t.get(e);return a?((0,o2.ph)(a,t,e=>"INSTANCE"===e.type?(i.push({node:e,backingDataKey:(0,o2.Gl)(e,t,n)||void 0}),o2.Bn.SkipChildren):"SYMBOL"===e.type?o2.Bn.SkipChildren:o2.Bn.Continue,!0),Array.from(i.values())):[]}((0,sX.dh)(),(0,n5.eY)(),e),n=(0,o1._6)(),i=(0,rF.lR)(),{filteredComponents:a}=(0,o0.Zh)({defaultFilter:"all",componentKey:n.componentKey,entrypoint:"inspect_panel"});return t.map(e=>{let t=a.find(t=>t.assetKey===i(e.node.guid));return{...e,listRowData:t,repositoryId:function(e){if(!e)return;let t=e.component.code_connect_info.v1.figmadoc,n=(0,oU.y)(t);return n?.repository?.id}(t)}})}(),{snippets:u,setSnippetState:p}=function(){let[e,t]=(0,a.useState)({});return{snippets:e,setSnippetState:(0,a.useCallback)((e,n,i)=>{t(t=>({...t,[e]:{...t[e]??{},[n]:{...t[e]?.[n]??{},...i}}}))},[])}}(),m=(0,a.useMemo)(()=>(0,i.jsxs)("table",{className:"generated_snippets_container--snippetsTable--8hC2I",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Node"}),(0,i.jsx)("th",{children:"Backing Component"}),(0,i.jsx)("th",{children:"Code Connect"}),o5.map(e=>(0,i.jsx)("th",{children:of[e].name},e))]})}),(0,i.jsx)("tbody",{children:c.map(({node:t,backingDataKey:a,listRowData:s,repositoryId:l},d)=>(0,i.jsx)(o6,{autogenerate:o,backingDataKey:a,firstRenderedAt:e,instanceSnippetsState:u[t.guid],listRowData:s,model:r,node:t,onClick:()=>n(d),repositoryId:l,setSnippetState:(e,n)=>p(t.guid,e,n)},t.guid))})]}),[o,c,r,p,u]),h=(0,a.useMemo)(()=>{if(null===t)return null;let e=c[t];return e.listRowData?(0,i.jsx)(oJ,{data:e.listRowData,onClose:()=>n(null),instanceSnippetState:u[c[t].node.guid],model:r,repositoryId:e.repositoryId,setSnippetState:(e,n)=>p(c[t].node.guid,e,n)}):(0,i.jsx)(i.Fragment,{children:"(No backing component found)"})},[t,c,r,p,u]),f=(0,a.useMemo)(()=>[m,...null!==t?[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"generated_snippets_container--backButtonContainer--IenjT",children:(0,i.jsx)(t7.$n,{iconPrefix:(0,i.jsx)(oc.t,{}),variant:"link",onClick:()=>n(null),children:"Back"})}),h]},"focused-node-id")]:[]],[m,t,h]);return(0,i.jsxs)("div",{className:"generated_snippets_container--container--h12TP",children:[(0,i.jsx)(o8,{model:r,setModel:s,autogenerate:o,setAutogenerate:d}),(0,i.jsx)(op.v,{animate:!0,derenderTimeout:300,children:f})]})}function o6({node:e,backingDataKey:t,firstRenderedAt:n,onClick:a,instanceSnippetsState:r,listRowData:s,autogenerate:o,model:l,repositoryId:d,setSnippetState:c}){let u=(0,rs.yh)({nodeId:e.guid,width:100,height:100,version:e.editInfo?.lastEditedAt||n.current,reason:"generated_snippets_container.thumbnail",regenerateAfterImagesLoaded:!0}),p=s?.component;return(0,i.jsxs)("tr",{onClick:a,children:[(0,i.jsx)("td",{children:(0,i.jsxs)("div",{className:"generated_snippets_container--nodeInfo--CRq-I",children:[(0,i.jsx)("span",{children:`${e.name} (${e.guid})`}),(0,i.jsx)(ou.oW,{src:u?.src??"",alt:e.name})]})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"generated_snippets_container--componentInfo--wm64g",children:p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:p.name}),(0,i.jsx)(ou.oW,{src:p?.thumbnail_url??"",alt:e.name})]}):(0,i.jsx)("span",{children:"(No backing component found)"})})}),(0,i.jsx)("td",{children:(0,i.jsx)(o9,{node:e})}),o5.map(e=>(0,i.jsx)("td",{children:s&&(0,i.jsx)(o7,{generationType:e,repositoryId:d,data:s,setSnippetState:c,state:r?.[e],autogenerate:o,model:l})},e))]})}function o7({state:e,autogenerate:t,model:n,generationType:r,repositoryId:s,data:o,setSnippetState:l}){let d=oz({data:o,repositoryId:s,setSnippetState:l,generationType:r,usageExamples:[],rules:"",model:n}),c=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!t||e?.isGenerating||e?.generatedCodeSnippet||c.current||(c.current=!0,d.generateCodeSnippet())},[t,r,d,e?.generatedCodeSnippet,e?.isGenerating]);let u=(0,a.useMemo)(()=>({lines:o$(e?.generatedCodeSnippet??""),language:r===oh.SINGLE_REACT_SNIPPET||r===oh.MULTIPLE_REACT_SNIPPETS?"typescript":"plaintext",name:"Generated Code",collapseAfterIndex:15}),[e?.generatedCodeSnippet,r]);return e?(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(eH.yT,{includeMargin:!1,hideHeader:!0,section:u,code:[u],copyAllActionEnabled:!0})}):(0,i.jsx)("div",{children:"(No generation)"})}function o9({node:e}){let{ccv1Snippet:t,isLoading:n}=function(e){let t=(0,oQ.B)(),[n,i]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1);return(0,f.h)(()=>{s(!0),t(e).then(t=>{if(t.codeConnectForNodes.has(e.guid)){let n=t.codeConnectForNodes.get(e.guid);n&&i({lines:o$(n.code),language:"custom"===n.language?"plaintext":n.language,name:"CCv1 snippet",collapseAfterIndex:15})}s(!1)})}),{ccv1Snippet:n,isLoading:r}}(e);return n?(0,i.jsx)(L.k,{size:"lg"}):t?(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(eH.yT,{includeMargin:!1,hideHeader:!0,section:t,code:[t],copyAllActionEnabled:!0})}):(0,i.jsx)("div",{children:"(No CCv1 found)"})}function o8({model:e,setModel:t,autogenerate:n,setAutogenerate:a}){return(0,i.jsxs)("div",{className:"generated_snippets_container--controls--JL6kn",children:[(0,i.jsx)("div",{className:o3,children:(0,i.jsxs)(ol.bL,{value:e,onChange:e=>t(e),children:[(0,i.jsx)(ol.l9,{width:"fill",label:(0,i.jsx)(sd.J,{children:"Model"})}),(0,i.jsx)(ol.mc,{children:Object.values(om).map(({model:e})=>(0,i.jsx)(ol.c$,{value:e,children:e},e))})]})}),(0,i.jsx)("div",{className:o3,children:(0,i.jsx)(od.d,{label:(0,i.jsx)(sd.J,{children:"Autogenerate all snippets"}),checked:n,onChange:a,children:"CAUTION: Might be expensive!"})})]})}function le(){let[e,t]=(0,a.useState)(!1),{windowInnerWidth:n,windowInnerHeight:r}=(0,oo.l)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"view_generated_snippets_button--buttonWrapper--mIQTK",children:(0,i.jsx)(t7.IK,{onClick:()=>t(!0),children:"View Generated Snippets"})}),e&&(0,i.jsx)(os._L,{onClose:()=>t(!1),defaultWidth:n-80,defaultHeight:r-80,defaultPosition:{x:40,y:40},children:(0,i.jsxs)(ik.vo,{children:[(0,i.jsx)(ik.Y9,{children:(0,i.jsx)(ik.hE,{children:"Generated Snippets"})}),(0,i.jsx)(ik.nB,{children:(0,i.jsx)(o4,{})})]})})]})}var lt=n(170907);function ln(){let e=(0,e$.rb)(),t=(0,a.useCallback)(()=>{rr.Y5.triggerAction("edit-make-from-design")},[]);if(!(0,o.kc)().bake_canvas)return null;if((0,o.kc)().bake_canvas_code_layer){if("CODE_INSTANCE"!==e)return null}else if("RESPONSIVE_SET"!==e)return null;return(0,i.jsx)(lt.z,{onClick:t,children:(0,V.t)("inspect_panel.open_make_in_dev_mode")})}var li=n(80341);let la=e=>e.includes("prototype")||e.includes("user")||e.includes("prop")?null:e.includes("stroke")||e.includes("border")||e.includes("corner")?"border":e.includes("fill")||e.includes("background")?"color":e.includes("text")||e.includes("font")||e.includes("paragraph")||e.includes("ot-features")||"letter-spacing"===e||"line-height"===e?"text":e.includes("effect")?"effect":e.includes("size")||e.includes("stack")?"layout":"count"===e||e.includes("vector")?"shape":"opacity"===e||"visible"===e||"blend-mode"===e?"style":null;function lr(e,t){return ls.indexOf(e)-ls.indexOf(t)}let ls=["color","border","text","effect","layout","shape","style"];var lo=n(687849);let ll=(0,sT.Ju)(function(){return(0,i.jsx)(sk.yX,{destructive:!0,confirmationTitle:(0,V.tx)("inspect_panel.detached_component.remove_attachment"),confirmText:(0,V.tx)("dev_handoff.detached_component.remove_attachment_confirm"),onConfirm:()=>{lo.VU.get("remove-detached-symbol-id","menu")()},children:(0,i.jsx)("p",{children:(0,V.tx)("dev_handoff.detached_component.remove_attachment_text_body")})})},"RemoveDetachmentStatusModal"),ld="dev_handoff_nodes_panel--item--FYINO",lc="dev_handoff_nodes_panel--itemSelectedReadySections--Wladq dev_handoff_nodes_panel--item--FYINO",lu="dev_handoff_nodes_panel--timestamp--5sWkT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",lp="dev_handoff_nodes_panel--readySectionsEmptyStateRow--3qQXK",lm="dev_handoff_nodes_panel--readySectionsIcon--gNtWg",lh="dev_handoff_nodes_panel--readySectionsContent--3ilof text--fontPos11--2LvXf text--_fontBase--QdLsd";var lf=n(237839),lg=n(623841);function l_({state:e,backgroundState:t}){return(0,i.jsxs)("div",{className:"dev_handoff_nodes_panel--historyIconContainer--QkDx6",children:[(0,i.jsx)(eU.t,{className:"dev_handoff_nodes_panel--historyIcon--dprKz",svg:lf.A}),e===a9.Uy.RECENTLY_EDITED&&(0,i.jsx)("div",{className:ew()("dev_handoff_nodes_panel--editedDot--8NIiF",{"dev_handoff_nodes_panel--editedDotSelected--95Nsq":"selected"===t,"dev_handoff_nodes_panel--editedDotHover--P8nA3":"hovered"===t})})]})}function lx({frameId:e,compareVersions:t,compareDetachedComponent:n,compareOverrides:r,overridesText:s}){let o=(0,rb.dU)(e,"cc_versions"),d=(0,rb.xY)("cc_dropdown_detached_component"),c=function(){let e=(0,sY.kl)("overrides");return e&&!(0,sq.gl)(e)?e.instanceGuid:null}(),u=(0,rb.Xn)(c),p=(0,l.Xr)(sQ.go),{manager:m,getTriggerProps:h}=rp.b(),f=n||r,g=t&&!f||!t&&f,_=function({compareVersions:e,compareDetachedComponent:t,compareOverrides:n}){return a.useMemo(()=>e?(0,V.tx)("dev_handoff.compare_changes.entrypoint.compare_versions"):t||n?(0,V.tx)("dev_handoff.compare_changes.entrypoint.compare_main_component"):(0,V.tx)("inspect_panel.history.compare_changes"),[t,e,n])}({compareVersions:t,compareDetachedComponent:n,compareOverrides:r}),x=a.useCallback(()=>{p(!0),t?o():n?d():r&&u()},[n,r,t,d,u,o,p]);return g?(0,i.jsx)(t7.$n,{htmlAttributes:{"data-onboarding-key":s4.Ov,"data-testid":"compare-changes-entry-with-dropdown"},onClick:x,recordingKey:"compareChanges.entrypoint",variant:"secondary",children:_}):(0,i.jsxs)(rp.bL,{manager:m,children:[(0,i.jsx)(t7.$n,{htmlAttributes:{"data-testid":"compare-changes-entry-with-dropdown","data-onboarding-key":s4.Ov},recordingKey:"compareChanges.entrypoint",variant:"secondary",...h({onClick:()=>p(!0)}),children:(0,i.jsxs)("div",{className:"header--dropdownContainer--4czE1",children:[!!s&&(0,i.jsx)("div",{className:"header--overridesDot--31BuQ",children:(0,i.jsx)(ek.B,{svg:lg.A})}),(0,V.tx)("inspect_panel.history.compare_changes"),(0,i.jsx)(iV.r,{})]})}),(0,i.jsxs)(rp.mc,{children:[(0,i.jsx)(rp.q7,{htmlAttributes:{"data-testid":"menu-option-cc-version"},onClick:o,recordingKey:"compareChanges.entrypoint.dropdown.compareVersions",children:(0,V.tx)("dev_handoff.compare_changes.entrypoint.compare_versions")}),n&&(0,i.jsx)(rp.q7,{htmlAttributes:{"data-testid":"menu-option-cc-detached"},onClick:d,recordingKey:"compareChanges.entrypoint.dropdown.compareDetachedComponent",children:(0,V.tx)("dev_handoff.compare_changes.entrypoint.compare_main_component")}),r&&(0,i.jsx)(rp.q7,{htmlAttributes:{"data-testid":"menu-option-cc-overrides"},onClick:u,recordingKey:"compareChanges.entrypoint.dropdown.compareOverrides",children:(0,V.tx)("dev_handoff.compare_changes.entrypoint.compare_main_component")})]})]})}function ly(){let e=n7.iZ()?.id,t=(0,e$.Tv)(),n=(0,I.tS)(),a=(0,r.wA)();if(t?.length!==2)return null;let s=t[1],o=t[0];return(0,i.jsx)(t7.$n,{variant:"secondary",onClick:()=>{(0,m.sx)("Diff Modal Compare Changes Clicked",{userId:e,fileKey:n,nodeId:s,otherNodeId:o,entrypoint:"lego_layer",origin:"cc_nodes"}),h.sn.reset("dev_handoff.view_history",s),h.sn.start("dev_handoff.view_history",{key:s}),a(sa.to({type:s0.ku,data:{changeNodeId:s,basisNodeId:o}}))},recordingKey:"compareChanges.entrypoint.nodes",children:(0,V.tx)("inspect_panel.history.compare_changes_selected_items")})}function lv(){let e=(0,c.wS)(),t=(0,v.uQ)(),n=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return n?.type==="SYMBOL"||n?.type==="INSTANCE"},t);return"loaded"===e.status&&!n}function lb(){let e=(0,I.q5)(),t=(0,v.uQ)(),n=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return n?.type==="SYMBOL"||n?.isStateGroup},t),c=lv(),u=(0,E.xo)(),p=(0,s5.Td)(),m=(0,r.wA)(),{getTriggerProps:h,manager:f}=rp.b(),g=a.useRef(null),{ref:_,...y}=h(),b=(0,iL.U)(),C=sU(g),j=function(){let e=(0,rC.Nf)()??"",t=(0,I.uL)()??"",n=sE(),[i]=sj(t),r=a.useMemo(()=>i.filter(t=>t.nodeId===e)??[],[i,e]),s=n&&r.length<10,o=(0,l.md)(sF);return!s||o}(),w=a.useCallback(()=>m(sa.to({type:ll})),[m]),[,T]=(0,l.fp)(sW.wz),S=(0,d.D)(),N=(0,sX.dh)(),A=(0,sz.hA)(),{canHaveStatus:L,hasStatus:O,isReadyForDev:R,isCompleted:P}=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return n?{canHaveStatus:n.canHaveStatus,hasStatus:n.getStatusInfo().status!==s.zIx.NONE,isReadyForDev:n.hasReadyStatus,isCompleted:n.hasCompletedStatus}:{canHaveStatus:!1,hasStatus:!1,isReadyForDev:!1,isCompleted:!1}},t),M=S&&!k.z4.getIsExtension()&&L,D=(0,sK.VW)(t??"",N),F=a.useCallback(()=>{b("Dev Mode Canvas Focus Entry Clicked",{nodeId:t}),T("dev_mode_properties_panel"),m(aO.sf(D))},[m,D,b,t,T]),B=a.useCallback(()=>{if(!A&&!t||!e)return;let n=(0,t8.jN)({file:e,nodeId:N,isDevHandoff:!0,devModeFocusId:A??t??""});m(sZ.S({fileKey:e.key,url:n,source:sJ.d.STATUS_DROPDOWN_MENU}))},[N,m,e,A,t]),U=a.useCallback(()=>{t&&k.z4.setNodesCompleted([t],"canvas")},[t]),H=a.useCallback(()=>{t&&k.z4.setNodesReady(!0,[t],"canvas",null)},[t]),G=a.useCallback(()=>{t&&k.z4.setNodesReady(!1,[t],"canvas",null)},[t]);return(0,i.jsx)(rm.o,{eventListeners:["onMouseUpCapture","onPointerUpCapture"],children:(0,i.jsxs)(rp.bL,{manager:f,children:[(0,i.jsx)(rh.d,{"aria-label":(0,V.t)("dev_handoff.layer_options"),htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.layer_options"),"data-tooltip-type":eQ.Ib.TEXT},recordingKey:"headerDropdownTrigger",...y,ref:e=>{g.current=e,_(e)},children:(0,i.jsx)(rf.J,{})}),(0,i.jsxs)(rp.mc,{children:[(0,i.jsx)(rp.YJ,{children:(0,i.jsx)(rp.q7,{onClick:function(){e&&t&&(window.location.href=`vscode://figma.figma-vscode-extension/open/${e.key}/${e.name}/${t}`)},disabled:u,children:(0,V.tx)("dev_handoff.inspect_panel.open_in_vs_code.link")})}),(0,i.jsx)(rp.YJ,{children:(0,i.jsx)(rp.q7,{onClick:C,disabled:j,recordingKey:"addDevRelatedLink",children:n?(0,i.jsxs)("div",{className:"header--relatedLinkComponentMenuHint--Baq-o",children:[(0,V.tx)("dev_handoff.developer_related_links.add_link_button"),(0,i.jsx)(rp.ME,{children:(0,V.tx)("dev_handoff.developer_related_links.component_inherited_links_desc")})]}):(0,V.tx)("dev_handoff.developer_related_links.add_link_button")})}),c&&(0,i.jsx)(rp.YJ,{children:(0,i.jsx)(rp.q7,{onClick:w,disabled:p,children:(0,V.tx)("dev_handoff.detached_component.unlink_from_main_component")})}),(0,o.kc)().dt_interactive_inspection_m2&&M&&(0,i.jsxs)(rp.YJ,{children:[!A&&(0,i.jsx)(rp.q7,{onClick:F,children:(0,V.tx)("dev_handoff.status.show_in_focus")}),(0,i.jsx)(rp.q7,{onClick:B,children:(0,V.tx)("dev_handoff.status.copy_focus_link")})]}),(0,o.kc)().dt_interactive_inspection_m2&&L&&(0,i.jsxs)(rp.YJ,{children:[!O&&(0,i.jsx)(rp.q7,{onClick:H,disabled:u,children:(0,V.tx)("dev_handoff.status.mark_as_ready_for_first_time")}),R&&(0,i.jsx)(rp.q7,{onClick:U,disabled:u,children:(0,V.tx)("dev_handoff.status.mark_as_completed")}),P&&(0,i.jsx)(rp.q7,{onClick:H,disabled:u,children:(0,V.tx)("dev_handoff.status.mark_as_ready")}),O&&(0,i.jsx)(rp.q7,{onClick:G,disabled:u,children:(0,V.tx)("dev_handoff.status.remove")})]})]})]})})}function lC({id:e}){let t=(0,n5.eY)().get(e);return(0,i.jsxs)("div",{className:ew()(tF,"header--list--gkgwc"),children:[(0,i.jsx)(rl.Bf,{className:"header--layerIconList--VxxN6 header--icon--IGzM0",guid:e,useUI3Icon:!0}),(0,i.jsxs)("span",{className:"header--layerNameList--cboFM",children:[" ",t?.name," "]})]})}function lE({id1:e,id2:t}){return(0,i.jsxs)("div",{className:"header--layerList--pJQNo",children:[(0,i.jsx)(lC,{id:e},e),(0,i.jsx)(lC,{id:t},t),(0,i.jsx)(ly,{})]})}function lj(){let e=(0,v.NM)();return e?(0,i.jsx)(e0.VZ,{title:(0,V.t)("inspect_panel.property.selected",{numberOfItems:e.length}),recordingKey:"layerName",children:2===e.length&&!!e[0]&&!!e[1]&&(0,i.jsx)(lE,{id1:e[0],id2:e[1]})}):null}function lw(){let e=(0,v.uQ)(),t=lv(),n=(0,a9.ei)(e??void 0),{versions:a,versionsQueryLoaded:r}=(0,s$.DS)(e??void 0),s=!r||0===a.length||!n,o=(0,ru.i)(),l=function(){let e;let t=(0,sY.kl)("overrides");if(!t||(0,sq.gl)(t))return null;let n=t.isPrimary,i=t.overriddenProperties,a=new Set;if(i.forEach(e=>{let t=la(e);t&&a.add(t)}),0===a.size)return null;let r=Array.from(a).sort(lr).map(e=>{switch(e){case"color":return(0,V.t)("dev_handoff.overrides.color");case"border":return(0,V.t)("dev_handoff.overrides.border");case"text":return(0,V.t)("dev_handoff.overrides.text");case"effect":return(0,V.t)("dev_handoff.overrides.effect");case"layout":return(0,V.t)("dev_handoff.overrides.layout");case"shape":return(0,V.t)("dev_handoff.overrides.shape");case"style":return(0,V.t)("dev_handoff.overrides.style")}}).filter(li.t),s=n?(0,V.t)("dev_handoff.overrides.instance"):(0,V.t)("dev_handoff.overrides.layer");switch(r.length){case 1:return(0,V.t)("dev_handoff.overrides.hint_one",{property:r[0],layerType:s});case 2:e=(0,V.t)("dev_handoff.overrides.properties2",{prop1:r[0],prop2:r[1]});break;case 3:e=(0,V.t)("dev_handoff.overrides.properties3",{prop1:r[0],prop2:r[1],prop3:r[2]});break;default:e=(0,V.t)("dev_handoff.overrides.properties_more",{prop1:r[0],prop2:r[1],prop3:r[2],count:r.length-3})}return(0,V.t)("dev_handoff.overrides.hint",{layerType:s,properties:e})}(),d=!!n?.lastEditedAt&&(!s||s&&!!n?.createdAt),c=d?s?(0,V.t)("dev_handoff.nodes_panel.created",{at:(0,re.A)(n?.createdAt).fromNow()}):(0,V.t)("dev_handoff.nodes_panel.edited",{at:(0,re.A)(n?.lastEditedAt).fromNow()}):"-",u=(0,tL.sD)(c);if(!e||!o)return null;let p=d&&!s,m=t&&(0,V.t)("dev_handoff.inspect_panel.detached_layer_info")||null,h=!!l,f=l||m,g=t||!s||h;return p||f||g?(0,i.jsx)("div",{className:"header--historyLinkContainer--8xI0i",children:(0,i.jsxs)("div",{className:"header--timestampContainerVertical--zb760 ellipsis--ellipsis--Tjyfa",children:[p&&(0,i.jsxs)("div",{className:"header--timeAndIconContainer--31sn0",children:[(0,i.jsx)(eB,{className:tX}),(0,i.jsx)("span",{ref:u,children:c})]}),f&&(0,i.jsxs)("div",{className:"header--overridesContainer--7aNiY",children:[!p&&(0,i.jsx)(rg.B,{className:tX}),(0,i.jsx)("span",{children:f})]}),g&&(0,i.jsx)(lx,{frameId:e,compareVersions:!s,compareDetachedComponent:t,compareOverrides:h})]})}):null}function lT({hasCodeConnect:e}){let t=(0,v.uQ)(),n=lv(),r=(0,c.wS)(),s=function(){let e=(0,v.uQ)(),t=lv(),{type:n,isAutoLayout:i,isComponentSet:r,isVariant:s,booleanOperation:o,resizeToFit:l}=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return n?{type:(0,rv.GI)(n)?"STAMP":n.type,booleanOperation:n.booleanOperation,isAutoLayout:"HORIZONTAL"===n.stackMode||"VERTICAL"===n.stackMode,isVariant:n.isState||n.parentNode?.isStateGroup,isComponentSet:n.isStateGroup,resizeToFit:n.resizeToFit}:{}},e),d=function(){let e=(0,s1.Yj)(),t=e?.data?.libraryKeyToFile,n=(0,s1.kt)(),i=(0,a.useMemo)(()=>n||!t?void 0:(0,s1.xA)(t)?t.hubFile?.currentHubFileVersion?.name:t.file?.name,[t,n]);if(n||!e||"loaded"===e.status)return i}();if(!n)return null;if(t&&"SYMBOL"!==n&&"INSTANCE"!==n)return(0,V.t)("inspect_panel.node_type.detached_component");if("BOOLEAN_OPERATION"===n)switch(o){case"UNION":return(0,V.t)("inspect_panel.node_type.union");case"INTERSECT":return(0,V.t)("inspect_panel.node_type.intersect");case"SUBTRACT":return(0,V.t)("inspect_panel.node_type.subtract");case"XOR":return(0,V.t)("inspect_panel.node_type.exclude")}switch(n){case"VECTOR":return(0,V.t)("inspect_panel.node_type.vector");case"STAR":return(0,V.t)("inspect_panel.node_type.star");case"LINE":return(0,V.t)("inspect_panel.node_type.line");case"ELLIPSE":return(0,V.t)("inspect_panel.node_type.ellipse");case"RECTANGLE":case"ROUNDED_RECTANGLE":return(0,V.t)("inspect_panel.node_type.rectangle");case"REGULAR_POLYGON":return(0,V.t)("inspect_panel.node_type.polygon");case"TEXT":return(0,V.t)("inspect_panel.node_type.text");case"SLICE":return(0,V.t)("inspect_panel.node_type.slice");case"GROUP":case"FRAME":if(r)return(0,V.t)("inspect_panel.node_type.main_component_set");if(i)return(0,V.t)("inspect_panel.node_type.frame_auto_layout");if(l)return(0,V.t)("inspect_panel.node_type.group");return(0,V.t)("inspect_panel.node_type.frame");case"SYMBOL":return s?(0,V.t)("inspect_panel.node_type.main_variant"):(0,V.t)("inspect_panel.node_type.main_component");case"INSTANCE":if(d)return(0,V.t)("inspect_panel.node_type.instance_with_attribution",{libraryName:d});return(0,V.t)("inspect_panel.node_type.instance");case"STICKY":case"SHAPE_WITH_TEXT":case"CONNECTOR":case"STAMP":return(0,V.t)("inspect_panel.node_type.figjam");case"SECTION":return(0,V.t)("inspect_panel.node_type.section");case"WIDGET":return(0,V.t)("inspect_panel.node_type.widget");case"CANVAS":return(0,V.t)("inspect_panel.node_type.page");case"TABLE":return(0,V.t)("inspect_panel.node_type.table");case"CODE_INSTANCE":return(0,V.t)("inspect_panel.node_type.code_instance")}return null}(),{isReadyForDev:o,isCompleted:l,isSymbol:d}=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return{isReadyForDev:n?.hasReadyStatus,isCompleted:n?.hasCompletedStatus,isSymbol:n?.type==="SYMBOL"||n?.type==="INSTANCE"||n?.isStateGroup}},t),u=(0,g.R)(e=>e.mirror.appModel.activeCanvasEditModeType);if(!t)return null;if(o)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_.O,{className:tZ}),(0,i.jsx)("span",{className:tq,children:(0,V.tx)("dev_handoff.status.ready_for_dev")})]});if(l)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rx.l,{className:tZ}),(0,i.jsx)("span",{className:tq,children:(0,V.tx)("dev_handoff.status.completed")})]});let p=d||n,m=n&&!d?(0,V.t)("inspect_panel.node_type_tooltip.detached_component"):void 0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rl.Bf,{className:p?tW:tK,guid:t,editModeType:u,detachedInfo:r,useUI3Icon:!0,isCodeConnected:e}),(0,i.jsx)("span",{className:p?"header--layerTypeSymbol--cMeH3 header--layerType--vaDds ellipsis--ellipsis--Tjyfa":tq,"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":m,children:s})]})}function lk(){let e=(0,v.uQ)(),{name:t,showNameAsQuotedText:n}=(0,x.Fk)((e,t)=>{let n=e?.get(t??""),i=n?.isState?n?.parentNode:null;return{name:(i?.name||n?.name)?.trim(),showNameAsQuotedText:n?.type==="TEXT"&&n?.name===n?.characters}},e),a=(0,e$.Cj)(t);if(!e)return null;let r=t||(0,V.t)("fullscreen.layer_panel.layer");return(0,i.jsx)(eG.E,{className:ew()(tV,{[tz]:!!t}),actionOnPointerDown:!0,onClick:a,"aria-label":(0,V.t)("dev_handoff.inspect_panel.copy_layer_name_aria",{layerName:r}),htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.inspect_panel.copy_layer_name_aria",{layerName:r}),"data-tooltip-type":eQ.Ib.TEXT},children:(0,i.jsx)("span",{className:n?"header--quotedLayerNameWrapper--J18fR":tG,children:r})})}function lI(){let e=(0,v.uQ)(),t=(0,sX.dh)(),n=(0,x.Fk)((e,t)=>e.get(t)?.name?.trim(),t),a=(0,e$.Cj)(n);if(e)return null;let r=n||(0,V.t)("inspect_panel.node_type.page");return(0,i.jsx)(eG.E,{className:ew()(tV,{[tz]:!!n}),actionOnPointerDown:!0,onClick:a,"aria-label":(0,V.t)("dev_handoff.inspect_panel.copy_page_name_aria",{pageName:r}),htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.inspect_panel.copy_page_name_aria",{pageName:r}),"data-tooltip-type":eQ.Ib.TEXT},children:(0,i.jsx)("span",{className:tG,children:r})})}function lS(){let e=(0,sX.dh)(),t=(0,g.R)(e=>e.mirror.appModel.activeCanvasEditModeType);return(0,i.jsx)(rl.Bf,{className:tK,guid:e,editModeType:t,useUI3Icon:!0})}function lN(){let e=(0,v.uQ)(),t=(0,x.Fk)((e,t)=>{let n=e?.get(t??"");return n?.hyperlink&&"mixed"!==n.hyperlink&&n?.hyperlink?.type==="URL"?n.hyperlink.value:void 0},e),n=(0,e$.Cj)(t);return t?(0,i.jsx)("div",{className:"header--linkButtonContainer--ul-r- ellipsis--ellipsis--Tjyfa",children:(0,i.jsx)(t7.$n,{variant:"ghost",onClick:n,iconPrefix:(0,i.jsx)("div",{className:"header--linkIconContainer--nZZXq",children:(0,i.jsx)(ry.r,{})}),"aria-label":(0,V.t)("dev_handoff.link.copy_aria_label",{link:t}),htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.link.copy_tooltip"),"data-tooltip-type":eQ.Ib.TEXT},children:t})}):null}function lA(e){let t=(0,v.uQ)(),{getMaybeEnabledItem:n}=(0,s2.n)();return t?(0,i.jsx)(e0.VZ,{recordingKey:"layerName",formattedHeader:(0,i.jsxs)("div",{className:tH,children:[(0,i.jsx)(lk,{}),(0,i.jsxs)("div",{className:ew()(tB,tU),children:[(0,i.jsx)(on,{}),(0,y.Te)().filter(n).map(e=>(0,i.jsx)(s3.QE,{item:e,numUnreadComments:0,recordingKey:"toolbarView"},e.reactKey??e.action)),!e.hideDropdown&&(0,i.jsx)(lb,{})]})]}),children:(0,i.jsxs)("div",{className:tM,children:[(0,i.jsxs)("div",{className:tD,children:[(0,i.jsx)("div",{className:tF,children:(0,i.jsx)(lT,{hasCodeConnect:!!e.hasCodeConnect})}),(0,i.jsx)(lN,{})]}),(0,o.kc)().dt_generated_snippets_exploration&&(0,i.jsx)(le,{}),(0,i.jsx)(lw,{}),(0,i.jsx)(ln,{}),(0,i.jsx)(sV,{})]})}):(0,i.jsx)(e0.VZ,{recordingKey:"layerName",formattedHeader:(0,i.jsxs)("div",{className:tH,children:[(0,i.jsx)(lI,{}),(0,i.jsx)("div",{className:ew()(tB,tU),children:!e.hideDropdown&&(0,i.jsx)(lb,{})})]}),children:(0,i.jsxs)("div",{className:tM,children:[(0,i.jsx)("div",{className:tD,children:(0,i.jsxs)("div",{className:tF,children:[(0,i.jsx)(lS,{}),(0,i.jsx)("span",{className:tq,children:(0,V.tx)("inspect_panel.node_type.page")})]})}),(0,i.jsx)(sV,{}),(0,o.kc)().dt_generated_snippets_exploration&&(0,i.jsx)(le,{})]})})}var lL=n(328341),lO=n(558720),lR=n(453373),lP=n(201250),lM=n(404343);let lD=(0,a8.jz)(lM.KAq),lF=(0,a8.jz)(lM.tUy);function lB(e,t,n){let i=[],a=[t];for(;a.length>0;){let r=a.pop(),s=e.get(r);if(s&&(r===t||n(s)))for(let e of(i.push(r),s?.childrenGuids??[]))a.push(e)}return i}function lU(e){return!!e&&e.isAlive&&"INSTANCE"!==e.type&&!(0,lP.vY)(s.w3z?.getAssetInfo(e.guid),!0)}let lH=(0,l.eU)([]);function lV({inspectableRootNodeId:e,page:t,didSelectRow:n,hideHeader:o=!1}){let d=(0,r.wA)(),c=(0,n5.eY)(),u=(0,v.uQ)(),p=(0,v.NM)(),m=e||t,[h,f]=a.useState(()=>0===s.glU.nodeStatusesOnPage(t).length||o),[g,_]=(0,l.fp)(lH);a.useEffect(()=>{f(0===s.glU.nodeStatusesOnPage(t).length)},[t]);let x=a.useCallback(()=>{_(()=>[m])},[_,m]),y=a.useCallback(e=>{_(t=>[...t,...lB(c,e,lU)])},[c,_]),b=a.useCallback((e,t)=>_(n=>n.includes(t)?n.filter(e=>e!==t):e.altKey?[...n,t,...lB(c,t,lU)]:[...n,t]),[c,_]),C=a.useCallback(e=>g.includes(e),[g]),E=function(e,t){let n=(0,n5.eY)();return a.useMemo(()=>{let i=[];if(t){let a=n.get(t)?.parentGuid;for(;a&&a!==e;)i.push(a),a=n.get(a)?.parentGuid}return i.push(e),i},[n,e,t])}(m,u??"");a.useEffect(()=>{_(e=>[...e,...E])},[E,_]);let j=a.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:i}=e;d(aO.j7({type:eI.i,data:{clientX:n,clientY:i,guid:t,expandElement:()=>y(t)}}))},[d,y]),w=(0,n5.KH)(),T=a.useMemo(()=>{let t=o?[]:["header"];return h||e||p?[...t,...function e(t,n,i,a,r,o,l,d){let c=n.get(t);if(!c)return[];let u=t in i,p=d?void 0:s.w3z?.getAssetInfo(t),m=(0,lP.vY)(p,!0),h={nodeId:t,indentation:r,isSelected:u,isAncestorSelected:o,isAncestorAsset:d,isRoot:l,assetInfo:m?p:void 0};if(!a(t))return[h];let f="CANVAS"===c.type,g=c.childrenGuids.flatMap(t=>e(t,n,i,a,r+(f?0:1),o||u,!1,d||m));return f?g:[h,...g]}(m,c,w,C,0,!1,!0)]:t},[e,C,h,m,c,w,p,o]),k=a.useRef(null),I=(0,a6.Te)({count:T.length,getScrollElement:()=>k.current,estimateSize:e=>0!==e||o?lD:lF,overscan:10}),S=(0,lL.ZC)(u);return a.useEffect(()=>{if(S===u)return;let e=T.findIndex(e=>e.nodeId===u);e&&(I.range.startIndex>e||I.range.endIndex<e)&&I.scrollToIndex(e)},[T,u,I,S]),(0,i.jsx)("div",{ref:k,style:{height:"100%",overflowY:"auto",overflowX:"hidden"},"data-testid":"devHandoffLayersPanel",children:(0,i.jsx)("div",{style:{height:`${I.getTotalSize()}px`,width:"100%",position:"relative"},children:I.getVirtualItems().map(t=>{let a=T[t.index];return(0,i.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:"header"===a?(0,i.jsx)(lG,{forceExpanded:!!e||!!p,isExpanded:h,setIsExpanded:f,collapseAllLayers:x}):(0,i.jsx)(lP.O5,{assetInfo:a?.assetInfo,didSelectRow:n,guid:a.nodeId,indentation:a.indentation,isAncestorAsset:a?.isAncestorAsset,isAncestorSelected:a.isAncestorSelected,isExpanded:C,isRoot:a.isRoot,isSelected:a.isSelected,openContextMenu:j,toggleExpanded:b},a.nodeId)},t.key)})})})}function lG({isExpanded:e,forceExpanded:t,setIsExpanded:n,collapseAllLayers:a}){let r=[{displayText:(0,V.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>a()}],s=`devHandoffNodesPanel.caret.${t?"forcedExpanded":e?"expanded":"collapsed"}`;return(0,i.jsxs)("div",{className:"dev_handoff_layers_panel--layersListHeader--gQFn- text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,i.jsx)(eG.E,{className:"dev_handoff_layers_panel--layersListHeaderButton--MlUHF",onClick:()=>!t&&n(!e),actionOnPointerDown:!0,children:(0,i.jsxs)("div",{className:"dev_handoff_layers_panel--layersListHeaderButtonContent--qRCB5",children:[(0,i.jsx)("span",{className:t?"dev_handoff_layers_panel--hideCaret--JgPdQ":void 0,"data-testid":s,children:(0,i.jsx)(lR.g,{isExpanded:e})}),(0,i.jsx)("div",{className:"dev_handoff_layers_panel--layersTitle--sU99L ellipsis--ellipsis--Tjyfa",children:(0,V.tx)("dev_handoff.tag.layers")})]})}),(e||t)&&(0,i.jsx)(lO.U,{dropdownItems:r})]})}var lz=n(373550),lK=n(85206);let lW=(0,a8.jz)(lM.LDP),lZ=(0,a8.jz)(lM.Rv9),lq=(0,a8.jz)(lM.tUy),lX=(0,l.eU)([]);function lY(e){let{guid:t,hasChildren:n,isExpanded:o,toggleExpand:l,isSelected:d,nameOverride:c,hideSectionIcon:u}=e,p=(0,ro.J2)((0,T.UK)().showGuids),m=(0,x.Fk)((e,t)=>{let n=e.get(t);return n?{guid:n.guid,name:n.name,isStateGroup:n.isStateGroup}:null},t),h=m?.name,f=c??h,g=m?.guid,_=m?.isStateGroup,y=(0,nk.rf)(`devHandoffNodesPanel-targetIcon-${h}`,"click",e=>{(0,n6.S)("sections_frames_list"),s.w3z.selectAndFocusOnNode(t,!0)}),v=(0,nk.rf)(`devHandoffNodesPanel-${h}`,"click",e=>{e.stopPropagation(),l?.()}),b=(0,r.wA)(),C=a.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:n}=e;g&&b(aO.j7({type:eI.i,data:{clientX:t,clientY:n,guid:g}}))},[b,g]);if(!g)return null;let E=ew()("dev_handoff_nodes_panel--expandCaret--EdbSv",{"dev_handoff_nodes_panel--expandCaretNoIcon--VTPwj":u});return(0,i.jsxs)("div",{className:ew()("dev_handoff_nodes_panel--sectionHeader--qDUGd",d?lc:ld),onMouseDown:y,onContextMenu:C,role:"button",tabIndex:0,"data-fullscreen-intercept":!0,children:[n?(0,i.jsx)(ek.B,{className:E,svg:o?eR.A:lK.A,onMouseDown:v}):(0,i.jsx)("div",{className:E}),!u&&(0,i.jsx)(rl.Bf,{className:ew()("dev_handoff_nodes_panel--layerIcon--aZvoO",{"dev_handoff_nodes_panel--symbolLayerIcon--D0Mch dev_handoff_nodes_panel--layerIcon--aZvoO":_}),guid:g}),(0,i.jsx)("div",{className:ew()("dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{"dev_handoff_nodes_panel--symbolName--IoUUt dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":_}),children:p?`${f} (${t})`:f})]})}let lJ=a.memo(function(e){let{guid:t,isSelected:n,onClick:o}=e,d=(0,ro.J2)((0,T.UK)().showGuids),[c,u]=a.useState(!1),p=function(e){(0,v.uQ)();let t=(0,g.R)(e=>!(0,rd.M)(e));return n=>(0,_.Uc)(n&&t?e:"")}(t),m=(0,l.md)(lz.d),h=lQ(t),f=(0,a9.E1)(),x=(0,a9.ei)(t),y=(0,a9.L)(t,f,m),b=a.useMemo(()=>x?(0,re.A)(x.lastEditedAt).fromNow():"",[x]),C=(0,ro.J2)(s.Ez5.devHandoffState().focusAnimationIsRunning),{width:E=0,height:j=0}=h??{},w=E>2.5*j,k=j>2.5*E,I=E<1||j<1?{width:0,height:0}:w?{height:80,width:E/j*80}:k?{width:48,height:j/E*48}:{width:48,height:80},S=(0,rs.yh)({nodeId:t,width:2*I.width,height:2*I.height,version:x?.lastEditedAt??"-",reason:"dev_handoff_nodes_panel.thumbnail",shouldSkip:C,regenerateAfterImagesLoaded:!0}),N=(0,nk.rf)(`devHandoffNodesPanel-${h?.name??""}`,"click",e=>{(0,n6.S)("sections_frames_list"),s.w3z.selectAndFocusOnNode(t,!0),e?.currentTarget?.blur(),o?.(e)}),A=(0,r.wA)(),L=a.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:i}=e;A(aO.j7({type:eI.i,data:{clientX:n,clientY:i,guid:t}}))},[A,t]);if(!h)return null;let O=e=>{u(e),p(e)},R=x?.lastEditedAt,P=S?{backgroundColor:e.thumbnailBackgroundColor}:void 0;return(0,i.jsxs)(eG.E,{className:ew()(n?lc:ld,"dev_handoff_nodes_panel--itemWithThumbnail--t0s4E"),onClick:N,htmlAttributes:{onContextMenu:L,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),"data-fullscreen-intercept":!0},children:[(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--thumbnailContainer--y8uEp",style:P,children:S&&(0,i.jsx)("img",{src:S.src,className:ew()("dev_handoff_nodes_panel--thumbnailImg--yRcCn",w&&"dev_handoff_nodes_panel--thumbnailImgLong--5eP8l",k&&"dev_handoff_nodes_panel--thumbnailImgTall--iJO4k"),alt:(0,V.t)("dev_handoff.nodes_panel.thumbnail_alt_text")})}),(0,i.jsx)(nf.E,{children:"\xa0"}),(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestampContainer--egq48 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,i.jsxs)("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestamp--HcL87",children:[(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--nodeName--5SQVr ellipsis--ellipsis--Tjyfa",children:d?`${h.name} (${t})`:h.name}),R?(0,i.jsxs)("div",{className:"dev_handoff_nodes_panel--tlfPanelTimestampContainer---u-Ju",children:[(0,i.jsx)(l_,{state:y,backgroundState:n?"selected":c?"hovered":null}),(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--editedTimestamp--nShNo",children:x?.createdAt&&(y===a9.Uy.RECENTLY_CREATED||x.createdAt===x.lastEditedAt)?(0,i.jsx)("span",{className:lu,children:(0,V.tx)("dev_handoff.nodes_panel.created",{at:b})}):(0,i.jsx)("span",{className:lu,children:(0,V.tx)("dev_handoff.nodes_panel.edited",{at:b})})})]}):h.isSymbol&&(0,i.jsxs)("div",{className:"dev_handoff_nodes_panel--timestampContainer--dGH49",children:[(0,i.jsx)(rl.Bf,{className:tW,guid:t}),(0,i.jsx)("span",{className:"dev_handoff_nodes_panel--layerTypeSymbol--BuyoH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:h.type})]})]})})]})}),lQ=e=>(0,x.$y)((e,t)=>{let n=(0,v.Zl)(e,t);if(!n)return null;let i=n.isState?n.parentNode:null,a=i?.name||n.name;return{id:n.guid,name:a,width:n.size.x,height:n.size.y,type:n.isStateGroup?(0,V.t)("inspect_panel.node_type.main_component_set"):n.isState?(0,V.t)("inspect_panel.node_type.main_variant"):"SYMBOL"===n.type?(0,V.t)("inspect_panel.node_type.main_component"):"INSTANCE"===n.type?(0,V.t)("inspect_panel.node_type.instance"):void 0,isSymbol:n.isStateGroup||"SYMBOL"===n.type||"INSTANCE"===n.type}},e);function l$({items:e,selectedNodeId:t,inReadySectionTopLevelNodeId:n,onRowClick:r}){let s=a.useRef(null),o=e.length>0,[d,c]=(0,l.fp)(lX),u=function(){let{currentPage:e}=(0,g.R)(e=>({currentPage:e.mirror.appModel.currentPage})),t=(0,x.Fk)((e,t)=>e.get(t)?.backgroundColor,e);return t?ra.F.format(t):"var(--color-bg)"}(),[p,m]=a.useState(!0),h=a.useMemo(()=>Math.min(e.length*lW,400)+7,[e.length]),[f,_]=(0,nI.Vc)("ready-panel-height-storage-key",h),y=o?`calc(max(${lW}px, min(60%, ${f}px)))`:"fit-content";a.useEffect(()=>{if(!t)return;let n=e.find(e=>e.childNodeIds.includes(t))?.guid;n&&c(e=>e.includes(n)?e.filter(e=>e!==n):e)},[e,t,c]);let v=a.useMemo(()=>{let t=!1;return[...e.flatMap(e=>{if(e.isSection){let n=d.includes(e.guid);return n||(t=!0),[{type:"section",sectionId:e.guid,displayName:e.sectionNames.fill("...",1,-1).join(" / "),hasChildren:e.childNodeIds.length>0},...n?[]:e.childNodeIds.map(e=>({type:"node",nodeId:e}))]}return t?(t=!1,[{type:"divider"},{type:"node",nodeId:e.guid}]):{type:"node",nodeId:e.guid}})]},[d,e]),b=a.useMemo(()=>{let e=[];return v.forEach((t,n)=>{"section"===t.type&&e.push(n)}),e},[v]),C=a.useRef(),E=e=>C.current===e,j=a.useRef(null),w=(0,a6.Te)({count:v.length,estimateSize:e=>{let t=v[e].type;return"node"===t?lW:"header"===t?lq:"divider"===t?16:lZ},getScrollElement:()=>j.current,overscan:10,rangeExtractor:a.useCallback(e=>(C.current=[...b].reverse().find(t=>e.startIndex>=t),C.current)?[...new Set([C.current,...(0,a7.vp)(e)])].sort((e,t)=>e-t):(0,a7.vp)(e),[b])}),T=(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--panelTitle--wcEcM",style:{padding:0},children:(0,V.tx)("dev_handoff.tag.ready_for_development")});a.useEffect(()=>{let e=v.findIndex(e=>"node"===e.type&&n===e.nodeId);-1!==e&&w.scrollToIndex(e)},[v,n,w]);let k=a.useCallback(e=>_(t=>t+e.y),[_]),I=a.useCallback(()=>_(s.current.clientHeight),[_]),S=a.useCallback(()=>_(h),[_,h]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a2.bL,{isOpen:p,toggle:()=>m(e=>!e),height:"hug",children:(0,i.jsx)(a2.Y9,{variant:"leftPanel",size:"lg",children:(0,i.jsx)(a2.JU,{children:(0,V.tx)("dev_handoff.tag.ready_for_development")})})}),(0,i.jsx)(ri,{edge:"bottom",size:{height:p?y:0},onSizeChanged:k,onStateChanged:I,onReset:S,forwardedRef:s,disabled:!o,children:p&&(0,i.jsx)("div",{"data-testid":"devHandoffNodesPanel.readyList",style:{height:"100%",overflow:"auto"},ref:j,children:o?(0,i.jsx)("div",{style:{height:`${w.getTotalSize()}px`,width:"100%",position:"relative"},children:w.getVirtualItems().map(e=>{let a;let s=v[e.index];return a="header"===s.type?T:"divider"===s.type?(0,i.jsx)("div",{className:"dev_handoff_nodes_panel--readyNodesDivider--QAmcF"}):"section"===s.type?(0,i.jsx)(lY,{guid:s.sectionId,hideSectionIcon:!0,hasChildren:s.hasChildren,isExpanded:!d.includes(s.sectionId),toggleExpand:()=>{c(e=>e.includes(s.sectionId)?e.filter(e=>e!==s.sectionId):[...e,s.sectionId])},isSelected:t===s.sectionId,nameOverride:s.displayName}):(0,i.jsx)(lJ,{guid:s.nodeId,thumbnailBackgroundColor:u,isSelected:n===s.nodeId,onClick:r}),(0,i.jsx)("div",{style:{..."section"===s.type?{zIndex:1}:{},...E(e.index)?{position:"sticky"}:{position:"absolute",transform:`translateY(${e.start}px)`},top:0,left:0,width:"100%",height:`${e.size}px`},children:a},e.key)})}):(0,i.jsx)(l1,{})})})]})}function l0(){return(0,ru.s)()?(0,i.jsx)(t7.$n,{variant:"secondary",iconPrefix:(0,i.jsx)(a3.A,{}),onClick:()=>rr.Y5.triggerAction("add-selection-ready-status"),children:(0,V.tx)("fullscreen_actions.ready-status-add")}):null}function l1(){let e=(0,n5.p8)("isSceneReadOnly"),t=(0,ru.s)();return e?(0,i.jsxs)("div",{className:lp,children:[(0,i.jsx)(a5,{className:lm}),(0,i.jsx)("div",{className:lh,children:(0,V.tx)("dev_handoff.tag.ready_for_development.content_view_only")})]}):(0,i.jsx)("div",{className:lp,children:t?(0,i.jsx)(l0,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a5,{className:lm}),(0,i.jsx)("div",{className:lh,children:(0,V.tx)("dev_handoff.status.ready_for_development.content")})]})})}function l2(e,t){let n=a.useRef(!1),i=a.useCallback(e=>{e!==t&&(n.current=!0)},[t]),{inspectableRootNodeId:r}=l3(e,t),s=a.useRef(null),o=a.useMemo(()=>t&&n.current?(n.current=!1,s.current):r,[t]);return s.current=o,{inspectableRootNodeId:o,didSelectRow:i}}function l3(e,t){let n=a.useMemo(()=>{let e=t?s.w3z.getInReadySectionTopLevelNodeId(t):null;return e&&e!==a4.AD?e:null},[t]),i=(0,x.Fk)((e,t,n)=>{let i=null;if(n?i=n:t===a4.AD||s.w3z.isNodePanelSection(t)||(i=t),i){let t=e.get(i);(!t||lP.q1.includes(t.type))&&(i=null)}return i},e,n),r=(0,sz.hA)();return r?{inspectableRootNodeId:r,inReadySectionTopLevelNodeId:null}:{inspectableRootNodeId:i,inReadySectionTopLevelNodeId:n}}function l5({onRowClick:e,inspectableRootNodeId:t,didSelectRow:n}){let a=(0,ro.J2)(s.Ez5.devHandoffState().currentNodeId),r=(0,v.uQ)(),o=(0,ro.J2)(s.Ez5.devHandoffState().readySectionItems),{currentPage:l}=(0,g.R)(e=>({currentPage:e.mirror.appModel.currentPage})),{inReadySectionTopLevelNodeId:d}=l3(a,r);return(0,i.jsxs)("div",{className:"dev_handoff_nodes_panel--nodesListPanels--ceR3Z","data-testid":"devHandoffNodesList",children:[(0,i.jsx)(l$,{items:o||[],selectedNodeId:r,inReadySectionTopLevelNodeId:d,onRowClick:e}),(0,i.jsx)(lV,{inspectableRootNodeId:t,didSelectRow:n,page:l})]})}let l4=a.memo(()=>{let e=(0,ro.J2)(s.Ez5.devHandoffState().currentNodeId),t=(0,sz.l7)(),n=!!(0,sz.hA)()&&!t,{inspectableRootNodeId:a,didSelectRow:o}=l2(e,(0,v.uQ)()),l=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,f.h)(()=>{let e=h.sn.tryStop("switch_to_inspect_mode.left_panel_tti");e&&(0,m.sx)("switch_to_inspect_mode.left_panel_tti",{elapsedMs:e,isNodeSelected:l},{forwardToDatadog:!0})}),(0,i.jsxs)("div",{className:ew()(eI.Dm,"dev_handoff_nodes_panel--nodesPanel--4Pea0"),children:[!n&&(0,i.jsx)(rc.o,{}),!t&&(0,i.jsx)(l5,{inspectableRootNodeId:a,didSelectRow:o})]})});var l6=n(132760),l7=n(468650);function l9(){return(0,i.jsx)("div",{className:F.s.flex.flexRow.m16.$,children:(0,i.jsx)("div",{className:F.s.font11.$,children:(0,V.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")})})}var l8=n(315910),de=n(937505),dt=n(830178),dn=n(649038),di=n(416317),da=n(92063),dr=n(425788),ds=n(213233),dl=n(945810),dd=n(518710);function dc(){let{setCurrentView:e,currentPluginView:t}=function(){let e=(0,l.Xr)(dd.hO),[t,n]=(0,l.fp)(dd.HT),i=(0,l.AY)(dd.HT),r=a.useCallback(()=>{e(t)},[t,e]),s=a.useCallback(({newView:e})=>{e&&t!==e&&(r(),n(e))},[t,n,r]);return a.useEffect(()=>{r()},[r]),a.useEffect(()=>()=>{i()},[i]),a.useMemo(()=>({currentPluginView:t,setCurrentView:s}),[t,s])}(),n=(0,r.wA)(),s=a.useMemo(()=>({activeTab:dl.s.PLUGIN,viewResource:e=>{n(da.IN({fdPreviewResource:e}))},closeResource:()=>{n(da.IN({fdPreviewResource:void 0}))},setCurrentViewOrTab:e,currentView:t,closeModal:()=>{},pinModal:()=>{},defaultExtensions:{type:"suggested"}}),[n,e,t]);return(0,i.jsx)(rj.Y,{direction:"vertical",spacing:0,height:"fill-parent",children:(0,i.jsx)(ds.B0.Provider,{value:s,children:(0,i.jsx)(dr.z,{})})})}function du(){let e=(0,r.d4)(e=>e.mirror.appModel.currentTool===y.ec.tool),t=(0,de.h)(),n=(0,T.UX)(),o=(0,l.md)(dt.d4),d="LOADING"===o,c="RUNNING"===o,u=(0,ro.ut)((0,_.tw)(),s._gJ.PRIMARY)===s._gJ.PLUGIN&&!e,p=(0,r.wA)();a.useEffect(()=>p(l8.aq()),[p]),a.useEffect(()=>{let e=di.mN.getInstance();c&&e&&(u?e.hideProgress():e.showProgress({isBackground:!0}))},[c,u]);let m=(0,T.D)(),h=c&&u?m?{height:"100%"}:{height:"calc(100% - 80px)",paddingBottom:80}:{display:"none"};return(0,i.jsx)("div",{className:F.s.hFull.wFull.if(u,F.s.block,F.s.hidden).$,"data-testid":"devHandoffPluginPanel",children:t?(0,i.jsx)(l9,{}):(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(dm,{}),(0,i.jsx)("div",{style:h,"data-testid":"pluginPanelContainer",children:(0,i.jsx)(dn.jv,{iframeId:dn.Wh.INSPECT,width:n,fillParent:!0})}),!d&&!c&&(0,i.jsx)(dc,{})]})})}let dp=a.memo(function(e){return(0,i.jsx)(l6.t.TabPanel,{...e.tabProps,forceMount:!0,height:"fill",children:(0,i.jsx)(du,{})})});function dm(){let e=(0,l.md)(dt.be);return e?(0,i.jsx)(rj.Y,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{style:B.sx.add({boxSizing:"content-box",margin:"-20px auto",opacity:"0.3"}).$,children:(0,i.jsx)(l7.y$,{})}),(0,i.jsx)("div",{className:F.s.pt16.px32.alignCenter.$,children:(0,i.jsx)(rw.E,{fontSize:12,color:"secondary",children:(0,V.tx)("dev_handoff.loading_plugin",{pluginName:e?.name})})})]})}):null}function dh({side:e}){let t=(0,ro.J2)((0,T.UK)().renderRulers),n=(0,E._I)(),a=(0,sz.l7)(),r=!!(0,sz.hA)()&&n;return t||a||r?null:(0,i.jsx)("div",{className:ew()("panel_background_gradient--gradient--xXM2u",{"panel_background_gradient--left--MwVhL":"left"===e,"panel_background_gradient--right--h-8ut":"right"===e})})}var df=n(375627),dg=n(641518),d_=n(327439),dx=n(423683),dy=n(832832);let dv={[s._gJ.PRIMARY]:"primary",[s._gJ.PLUGIN]:"plugin",[s._gJ.STRING_MANAGEMENT]:"string_management",[s._gJ.PROPERTIES]:"properties",[s._gJ.COMPONENT]:"component",[s._gJ.DEV_RESOURCES]:"dev_resources",[s._gJ.ASSETS]:"assets"},db={primary:s._gJ.PRIMARY,plugin:s._gJ.PLUGIN,string_management:s._gJ.STRING_MANAGEMENT,properties:s._gJ.PROPERTIES,component:s._gJ.COMPONENT,dev_resources:s._gJ.DEV_RESOURCES,assets:s._gJ.ASSETS};function dC({plugin:e}){let t=(0,l.md)(dt.vT);return(0,i.jsx)("div",{children:(0,i.jsxs)(rj.Y,{width:"fill-parent",horizontalAlignItems:"space-between",verticalAlignItems:"center",padding:{left:16,right:8,top:4,bottom:4},children:[(0,i.jsx)("div",{className:F.s.minW0.$,children:(0,i.jsxs)(rj.Y,{direction:"horizontal",verticalAlignItems:"center",spacing:8,children:[(0,i.jsx)(dx.d,{plugin:e}),(0,i.jsx)(rw.E,{fontWeight:"bold",truncate:!0,showTooltipWhenTruncated:!0,children:e.name})]})}),(0,i.jsx)(iI.K,{"aria-label":(0,V.t)("dev_handoff.plugin_panel.close_plugin"),onClick:()=>{(function(e){switch(e){case"related-link-click":case"related-link-auth":case"codegen":case"related-link-preview":case"auto-run":return!0;default:return!1}})(t)&&(0,_.ax)(s._gJ.PRIMARY),(0,ie.wY)()},children:(0,i.jsx)(iA.A,{})})]})})}function dE({text:e,isActive:t,onClick:n,recordingKey:a,isSingle:r}){return(0,i.jsx)(eG.E,{recordingKey:dg.Pt(a,"tab"),onClick:n,actionOnPointerDown:!0,className:r?"dev_handoff_panel_tab_group--tabsHeaderSingle--G5OnU dev_handoff_panel_tab_group--tabFocus--f8Y7h":t?"dev_handoff_panel_tab_group--tabActive--Ex7NX legacy_pages_panel--tabActive--hmo0j legacy_pages_panel--tab--inhND dev_handoff_panel_tab_group--tabFocus--f8Y7h":"dev_handoff_panel_tab_group--tab--Y0iYX legacy_pages_panel--tab--inhND dev_handoff_panel_tab_group--tabFocus--f8Y7h",htmlAttributes:{"data-label":e},children:e})}function dj(e){return(0,i.jsx)("div",{className:F.s.wFull.bb1.bSolid.colorBorder.pl8.pb8.$,children:(0,i.jsx)(l6.t.TabStrip,{manager:e.tabProps.manager,children:(0,i.jsx)(l6.t.Tab,{...e.tabProps,children:(0,V.t)("dev_handoff.tab.comment")})})})}function dw(e){let{tabManager:t,tabPropsMap:n}=e;return(0,i.jsxs)("div",{className:tJ.A7,children:[(0,i.jsx)("div",{className:tJ.tq,children:(0,i.jsxs)(l6.t.TabStrip,{manager:t,children:[(0,i.jsx)(l6.t.Tab,{...n[dv[s._gJ.PRIMARY]],children:(0,V.t)("dev_handoff.tab.inspect")}),(0,i.jsx)(l6.t.Tab,{...n[dv[s._gJ.STRING_MANAGEMENT]],onboardingKey:dy.iA.STRINGS_TAB,children:(0,V.t)("dev_handoff.tab.string_management")}),(0,i.jsx)(l6.t.Tab,{...n[dv[s._gJ.PLUGIN]],children:(0,V.t)("dev_handoff.tab.plugins")})]})}),(0,i.jsxs)("div",{className:F.s.flex.$,children:[(0,i.jsx)("div",{className:"dev_handoff_panel_tab_group--pluginsContainer--V7X6w",children:(0,i.jsx)(d_.qs,{})}),(0,i.jsx)("div",{className:tJ.wR,children:(0,i.jsx)(tR.H,{recordingKey:"propertiesPanel.zoomMenu"})})]})]})}function dT(e){let t=(0,l.md)(dt.be),n=(0,ro.ut)((0,_.tw)(),s._gJ.PRIMARY),{commentsActive:a,versionHistoryActive:r}=(0,g.R)(e=>({commentsActive:e.mirror.appModel.currentTool===y.ec.tool,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===s.m1T.DEV_HANDOFF_HISTORY}));if(r)return null;if(a)return(0,i.jsx)(dj,{tabProps:e.commentTabProps});let o=t&&dv[n]===dv[s._gJ.PLUGIN]?(0,i.jsx)(dC,{plugin:t}):null;return(0,i.jsxs)("div",{children:[(0,i.jsx)(dw,{tabPropsMap:e.generalTabPropsMap,tabManager:e.generalTabManager}),o]})}var dk=n(451837);function dI(e){let t=(0,r.d4)(e=>e.mirror.appModel.showUi),n=(0,dk.lz)(),[s,d]=(0,l.fp)(dk.XI),c=(0,ro.J2)((0,T.UK)().renderRulers),u=!!(0,sz.hA)(),p=(0,n2.T)(),m=(0,n2.q)()&&!u,{isPropertiesPanelCollapsed:h}=(0,df.iT)();h=h&&!u,(0,dk.qn)();let f=a.useCallback(()=>{d(!0)},[d]),g=a.useCallback(e=>{if(s){let t=(0,dk.gY)(window.innerWidth-e.clientX);t!==n&&(0,dk.xT)(t)}},[s,n]),_=a.useCallback(()=>{s&&d(!1)},[s,d]);a.useEffect(()=>(document.addEventListener("mousemove",g),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",_)}));let x=(0,o.kc)().properties_panel_resize_lag_fix,y=!h,v=x?"dev_handoff_right_panel_container--drillDownContainer--vat3B properties_panel--drillDownContainer--VaNDa":tJ.Lp;return(0,i.jsxs)(rt.V,{className:ew()(v,{[tJ.dn]:h,[tJ.Ph]:!m}),style:x?void 0:{width:n},children:[y&&(0,i.jsx)(dh,{side:"right"}),(0,i.jsxs)(nP.wV,{"data-testid":"dev-handoff-right-panel",className:ew()(tJ.ux,eI.Dm,{[tJ.ew]:c&&!u,[tJ.Ph]:!m,[tJ.Jq]:!p}),size:x?void 0:n,onResize:f,side:"left",children:[h&&(0,i.jsx)("div",{className:ew()(tJ.KE,tJ.tM),children:(0,i.jsx)(tO.v2,{})}),(0,i.jsxs)("div",{className:ew()(tJ.KE,{"dev_handoff_right_panel_container--panelContainerResizing--sfFQd dev_handoff_right_panel_container--panelContainerResizingBase--OZRr- dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL":s,"dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL":t,"dev_handoff_right_panel_container--panelContainerHidden--7-A2P dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL":!t||h,[tJ.Ph]:!m}),children:[!h&&(0,i.jsx)(tO.v2,{}),(0,i.jsx)(dT,{...e.tabInfo}),(0,i.jsx)("div",{className:"dev_handoff_right_panel_container--content--HcUHi",children:e.children})]})]})]})}var dS=n(498349),dN=n(7718),dA=n(821655),dL=n(369729),dO=n(417528),dR=n(550527),dP=n.n(dR),dM=n(198986),dD=n.n(dM),dF=n(505626);function dB({plugin:e}){return"first-party"!==(0,eZ.v4)().type?null:(0,i.jsx)(dH,{plugin:e,buttonText:(0,V.t)("dev_handoff.inspect_panel.close_plugin")})}function dU({plugin:e}){return"first-party"===(0,eZ.v4)().type?null:(0,i.jsx)(dH,{plugin:e,buttonText:(0,V.t)("dev_handoff.inspect_panel.generate_code")})}function dH({plugin:e,buttonText:t}){return e?(0,i.jsx)(e0.VZ,{noPadding:!0,recordingKey:"pluginProgressPanel",children:(0,i.jsxs)(rj.Y,{direction:"vertical",horizontalAlignItems:"center",padding:{top:12,bottom:12,left:16,right:16},spacing:8,width:"fill-parent",children:[(0,i.jsxs)(rj.Y,{direction:"horizontal",verticalAlignItems:"start",horizontalAlignItems:"center",spacing:4,children:[(0,i.jsx)("div",{style:B.sx.add({marginTop:"-3px"}).$,children:(0,i.jsx)(dx.d,{plugin:e})}),(0,i.jsx)(rw.E,{fontFamily:"primary",children:(0,V.tx)("fullscreen.plugins.background",{plugin:(0,i.jsx)(rw.E,{fontWeight:"bold",children:e.name})})})]}),(0,i.jsx)(t7.IK,{variant:"secondary",onClick:()=>{(0,ie.wY)()},recordingKey:"generateCodeButton",children:t})]})}):null}var dV=n(980400),dG=n(996397),dz=n(466345),dK=n(12754);let dW="code_extension_section--errorMessage--k0nfC",dZ="code_extension_section--sections--NwtSI",dq="code_extension_section--hideBorder--wBeyb",dX="code_extension_section--paddedSections--qdAYL";function dY({localCodeLanguage:e,overrideNodeId:t,hideLayoutCode:n,hideColorCode:r,hideHints:s,sectionClassName:o,emptyStateMessage:d,hideBorder:c,padded:u,dataTestId:p}){let m=(0,de.AF)(),h=(0,eZ.v4)(),f=e??h,g=a.useMemo(()=>f.id===eV.uz&&"first-party"===f.type?{id:n1.qZ.CSS,type:"first-party"}:f,[f]),_=(0,l.md)(dt.GR),x=(0,l.md)(dt.vT);return m?_&&"codegen"!==x&&"first-party"!==g.type?(0,i.jsx)(dU,{plugin:_}):(0,i.jsx)(dJ,{overrideNodeId:t,hideLayoutCode:n,hideColorCode:r,codegenPluginLanguage:g,sectionClassName:o,emptyStateMessage:d,hideBorder:c,padded:u,dataTestId:p,children:(e,t,n)=>(0,i.jsx)(eH.yT,{code:e,section:t,index:n,hideHints:s})}):(0,i.jsx)("div",{className:dW,children:(0,i.jsx)(dA.cV,{children:(0,i.jsx)(dL.Q,{children:(0,V.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")})})})}function dJ({codegenPluginLanguage:e,children:t,overrideNodeId:n,hideLayoutCode:s,hideColorCode:o,sectionClassName:l,emptyStateMessage:d,hideBorder:c,padded:u,dataTestId:p}){let m=(0,eJ.ie)(),h=(0,eJ.fb)(),f=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),g=(0,iL.U)(),[_,x]=a.useState(!1),y=n??f,v=a.useCallback(t=>{g("Dev Mode Code Section Clicked",{codeSection:t,languageType:e.type,languageId:e.id,unit:m,scaleFactor:h})},[e.id,e.type,h,g,m]),b=(0,eJ.gc)()||{},C=(0,eZ.QN)(),E="first-party"===e.type,{code:j,error:w,isLoading:T,hasRun:k}=(0,dK.K)({selectedNodeID:y,extensionLanguage:e,preferences:dD()(b,E?{customSettings:{hideLayout:s?"true":"false",hideColor:o?"true":"false"}}:{}),plugin:C}),I=!!n,S=a.useMemo(()=>dP()(dV.c,500),[]),N=a.useCallback(({id:e,regenerateCode:t})=>{e===y&&(n1.px().nodeCache?.invalidate(e),t?(S(),x(!1)):x(!0))},[y,S]);a.useEffect(()=>((0,dz.BT)(N),()=>{(0,dz.q$)(N)}),[N]),a.useEffect(()=>{I||x(!1)},[I,y]);let A=a.useCallback(()=>{x(!1),(0,n1.px)().rebuildNodeCache(),(0,dV.c)()},[]),O=function(e,t){let[n,i]=a.useState(e);return a.useEffect(()=>{let t=null;return e?t=setTimeout(()=>{i(!0)},200):i(!1),()=>{null!=t&&clearTimeout(t)}},[e,200]),n}(T,200),R=a.useRef(null);if(a.useEffect(()=>{let e=e=>{let t=window.getSelection(),n=t?.toString(),i=t?.anchorNode;n&&i&&R.current?.contains(i)&&e.clipboardData&&(e.preventDefault(),e.clipboardData.setData("text/plain",n))};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}},[]),a.useEffect(()=>{w&&console.error(w)},[w]),!y)return null;let P=(0,i.jsx)("div",{className:dW,"data-testid":"dev-handoff-code-update-prompt",children:(0,i.jsxs)(dA.cV,{children:[(0,i.jsx)(dL.Q,{title:(0,V.tx)("dev_handoff.code.update_prompt_title"),children:(0,V.tx)("dev_handoff.code.update_prompt")}),(0,i.jsx)(t7.$n,{variant:"secondary",onClick:A,children:(0,V.tx)("dev_handoff.code.update_prompt_action")})]})});return!O&&k&&w?C?(0,i.jsx)("div",{className:dW,"data-testid":"codegen-error-message",children:(0,i.jsxs)(dA.cV,{children:[(0,i.jsx)(dL.Q,{title:(0,V.tx)("inspect_panel.code.error",{plugin:C.name??(0,V.t)("inspect_panel.code.error_this_plugin")}),children:(0,V.tx)("inspect_panel.code.error_details")}),(0,i.jsx)(dO.N,{newTab:!0,trusted:!0,href:(0,dG.ab)(C.plugin_id),children:(0,V.tx)("inspect_panel.code.error_link")})]})}):null:O?(0,i.jsx)("div",{className:ew()(dZ,c&&dq,u&&dX),children:(0,i.jsx)(rj.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner",children:(0,i.jsx)(L.k,{})})}):0!==j.length&&j.some(e=>e.lines.length>0)?(0,i.jsxs)("div",{className:ew()(dZ,c&&dq,u&&dX),ref:R,"data-testid":p,children:[_&&P,j.map((n,a)=>n.lines.length>0&&(!s||"Layout"!==n.name)?(0,i.jsx)(dF.c,{className:ew()("code_extension_section--sectionsContainer--vZzFZ",l),"data-testid":`code-panel-${n.name}`,"data-fullscreen-intercept":!0,onClick:()=>v(n.name),children:t(j,n,a)},`${e}-${n.name}-${a}`):null)]}):d&&k?(0,i.jsx)("div",{className:ew()(dZ,c&&dq,u&&dX),children:(0,i.jsx)("div",{className:"code_extension_section--emptyMessage--wSX0u",children:d})}):null}var dQ=n(962856),d$=n(115989),d0=n(228227),d1=n(654200);let d2="interactive-inspection-onboarding-key",d3=(0,iO.Fu)("dev_mode_has_seen_interactive_inspection_onboarding"),d5=(0,iO.Fu)("dev_mode_has_seen_focus_view_onboarding"),d4={title:(0,V.tx)("dev_handoff.focus_view.interactive_onboarding_title"),description:(0,V.tx)("dev_handoff.focus_view.interactive_onboarding_description"),trackingContextName:"Dev Mode Interactive Inspection Onboarding",targetKey:d2,disableHighlight:!0};function d6(e){let t=(0,r.wA)();return a.useCallback(()=>{t(nQ.b({dev_mode_has_seen_interactive_inspection_onboarding:!0})),e()},[e,t])}function d7(){let e=(0,sz.hA)(),t=(0,e2.m5)(!1,e2.Jo.FOCUS_NODE),n=(0,x.wA)((e,t)=>{let n=e?.get(t);if(!n||n.isSection||n.isStateGroup)return!1;let i=n.stackHorizontalLayoutSize!==s.mKm.HUG_CONTENT,a=n.stackVerticalLayoutSize!==s.mKm.HUG_CONTENT;return i||a},e);return!!(0,d0.s4)()&&(n||t)}function d9(){let e=(0,l.md)(d3),t=(0,l.md)(d5),n=d7(),{show:r,isShowing:s,complete:o}=(0,il.e)({overlay:ig.Iu5,priority:ic.N.HIGH_PRIORITY_MODAL},[e,t]);a.useEffect(()=>{n&&r({canShow:(e,t)=>!e&&!!t})},[n,r]);let d=d6(o);return(0,i.jsx)(ip.rq,{...d4,arrowPosition:d1.F_.TOP,isShowing:s,emphasized:!1,onClose:d,primaryCta:{label:(0,V.tx)("general.got_it"),type:"button",onClick:d,ctaTrackingDescriptor:G.c.GOT_IT}})}var d8=n(153515);let ce="Dev Mode Focus View Onboarding",ct="focus_view_title_onboarding_key",cn="focus_view_completed_onboarding_key",ci="focus_view_versions_onboarding_key",ca="focus_view_back_onboarding_key";function cr(){let{show:e,isShowing:t,complete:n}=(0,il.e)({overlay:ig.FtN,priority:ic.N.DEFAULT_MODAL}),r=d7(),s=d6(n);(0,f.h)(()=>{e()});let o=a.useCallback(()=>{r?s():n()},[r,n,s]),l=(0,a.useMemo)(()=>({label:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.secondary_cta_label"),type:"button",onClick:o,ctaTrackingDescriptor:G.c.CANCEL}),[o]),d=(0,a.useMemo)(()=>({label:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.last_primary_cta_label"),type:"button",onClick:s,ctaTrackingDescriptor:G.c.GOT_IT}),[s]),c=[{title:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.title"),description:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.description"),trackingContextName:`${ce} Viewing`,targetKey:ct,emphasized:!0,secondaryCta:l,disableHighlight:!0},{title:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.completed.title"),description:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.completed.description"),trackingContextName:`${ce} Completed`,targetKey:cn,emphasized:!0,secondaryCta:l,disableHighlight:!0},{title:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.versions.title"),description:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.versions.description"),trackingContextName:`${ce} Versions`,targetKey:ci,emphasized:!0,arrowPosition:d1.F_.RIGHT_BODY,secondaryCta:l,onStepShow:()=>_.wr(),disableHighlight:!0},{title:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.back.title"),description:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.back.description"),trackingContextName:`${ce} Back`,targetKey:ca,emphasized:!0,primaryCtaLabel:r?void 0:(0,V.tx)("dev_handoff.workflows.focus_view.onboarding.last_primary_cta_label"),secondaryCta:r?l:void 0,disableHighlight:!0},r?{...d4,trackingContextName:`${ce} Interactive`,primaryCta:d,emphasized:!0}:null].filter(li.t);return(0,i.jsx)(d8.WZ,{steps:c,isShowing:t,onComplete:o})}var cs=n(850701),co=n(863154),cl=n(363153),cd=n(299640),cc=n(837500),cu=n(444034),cp=n(300429);let cm="dev_handoff_activity_panel--versionIconContainer--i7OVd",ch="dev_handoff_activity_panel--editedIcon--V-4-N dev_handoff_activity_panel--_versionIcon--9Io2B",cf="dev_handoff_activity_panel--activityDisplayText--4O-Dk",cg="dev_handoff_activity_panel--activityTime--pCZ9l";function c_({activity:e,isLatest:t}){let n=cx(e),a=(0,d$.Ak)(e.timestamp);return(0,i.jsx)("h3",{className:cf,children:t?(0,V.tx)("dev_handoff.workflows.focus_view.activity.activity_row_with_latest",{versionText:n,activityTime:(0,i.jsx)("span",{className:cg,children:a}),latest:(0,i.jsx)("span",{className:cg,children:(0,V.tx)("dev_handoff.workflows.focus_view.activity.activity_row_latest_part")})}):(0,V.tx)("dev_handoff.workflows.focus_view.activity.activity_row",{versionText:n,activityTime:(0,i.jsx)("span",{className:cg,children:a})})})}function cx(e){switch(e.metadata?.status){case ee.zI.BUILD:return(0,V.t)("dev_handoff.workflows.focus_view.activity_status_ready");case ee.zI.COMPLETED:return(0,V.t)("dev_handoff.workflows.focus_view.activity_status_completed");case ee.zI.NONE:return(0,V.t)("dev_handoff.workflows.focus_view.activity_status_removed");default:return null}}function cy({activity:e,line:t,isGreen:n}){switch(e.metadata?.status){case ee.zI.BUILD:return(0,i.jsxs)("div",{"aria-hidden":!0,className:cm,"data-testid":"devModeActivity.readyIcon",children:[t,(0,i.jsx)(a3.A,{className:n?"dev_handoff_activity_panel--readyIconGreen--qdkvg dev_handoff_activity_panel--_versionIcon--9Io2B":"dev_handoff_activity_panel--readyIcon--zbH-1 dev_handoff_activity_panel--_versionIcon--9Io2B"})]});case ee.zI.COMPLETED:return(0,i.jsxs)("div",{"aria-hidden":!0,className:cm,"data-testid":"devModeActivity.completedIcon",children:[t,(0,i.jsx)(su.g,{className:"dev_handoff_activity_panel--completedIcon--3i2u3 dev_handoff_activity_panel--_versionIcon--9Io2B"})]});default:return null}}function cv(){let e=(0,r.wA)();return()=>{e((0,cl.Eg)())}}function cb(){return(0,r.d4)(e=>e.versionHistory.activeId===cl.V_)}function cC(e,t){return e.metadata?.status!==ee.zI.NONE?n=>(0,i.jsx)(cy,{line:n,activity:e,isGreen:t}):void 0}function cE(){let e=(0,r.wA)();return t=>{e((0,cl.Eg)()),s.w3z.focusOnNode(t,!1)}}function cj({latestReadyForDevVersionId:e,lastEditedAt:t,hasEdits:n,status:a,isActive:o,onSelect:l,showCompareChanges:d,focusNodeId:c}){let u=(0,r.wA)(),p=(0,iL.U)(),m=(0,d$.Ak)((t??0)*1e3),h=(0,sz.hA)();return(0,i.jsx)(cc.jP,{dispatch:u,displayText:(0,i.jsxs)("div",{className:"dev_handoff_activity_panel--activityDisplayTextContainer--80BG-",children:[(0,i.jsxs)("div",{className:cf,children:[(0,i.jsx)("span",{className:"dev_handoff_activity_panel--latestVersion--ukUVR",children:h?(0,V.tx)("dev_handoff.workflows.focus_view.activity.latest"):(0,V.tx)("collaboration.feedback.current_version")}),!!t&&(0,i.jsx)("span",{className:cg,children:m})]}),o&&d&&(0,i.jsx)("div",{className:"dev_handoff_activity_panel--viewDiffButtonEdited--j3Wzx",children:(0,V.tx)("dev_handoff.workflows.focus_view.activity.compare_previous")})]}),editorType:ee._Y.DESIGN,first:!0,hideActiveMenu:!0,iconOverride:n?e=>(0,i.jsxs)("div",{className:cm,children:[e,a?.status===s.zIx.COMPLETED?(0,i.jsx)(su.g,{className:ch}):(0,i.jsx)(a3.A,{className:ch})]}):void 0,isActive:o,isAllowedToChangeVersion:()=>!o,label:"latest-change-row",last:!1,onClick:o&&d?function(){p("Dev Mode Activity Compare Changes",{source:"compare_previous"}),(0,s0.L$)(e,u,!0,c)}:void 0,onSelect:o?void 0:l,userUrl:null,versionId:cl.V_,view:null})}var cw=n(21031);function cT(){let e=(0,sz.hA)(),t=(0,s$.Os)(e??""),n=(0,s$.jh)(e??void 0),o=cb(),d=cE(),c=(0,l.md)(cw.pc),u=(0,r.wA)(),p=(0,r.d4)(e=>e.versionHistory),m=p.versions.length>0||p.loading;if(a.useEffect(()=>{!m&&e&&u((0,cl.bg)())},[u,m,e]),"loading"===t||t&&0===t.length&&c)return(0,i.jsx)("div",{"data-onboarding-key":ci,className:"dev_handoff_activity_panel--loading--kM0Yf",children:(0,i.jsx)(L.k,{})});if(!t||0===t.length||!e)return(0,i.jsx)("div",{"data-onboarding-key":ci});let h=new R.qo(s.juq.LIVE_FILE).get(e??""),f=t[0],g=!!h?.editInfo?.lastEditedAt&&f.timestamp.getTime()<1e3*h.editInfo.lastEditedAt;return(0,i.jsx)(e0.VZ,{title:(0,V.t)("dev_handoff.workflows.focus_view.activity.versions"),recordingKey:"activityLog",headerOnboardingKey:ci,collapsiblePanelKey:"activity_log",collapsedHeaders:f?(0,i.jsx)(ck,{latest:g?(h?.editInfo?.lastEditedAt??0)*1e3:f.timestamp}):void 0,children:(0,i.jsxs)("ol",{className:"dev_handoff_activity_panel--activityEvents--9uFul",children:[g&&(0,i.jsx)(cj,{lastEditedAt:h?.editInfo?.lastEditedAt,latestReadyForDevVersionId:f.id,hasEdits:!0,status:h?.getStatusInfo(),isActive:o,onSelect:()=>d(e),showCompareChanges:!0,focusNodeId:e}),c&&(0,i.jsx)("li",{className:"dev_handoff_activity_panel--loadingInline--WHTg6",children:(0,i.jsx)(L.k,{})}),t.map((a,r)=>{let s=r===t.length-1;return(0,i.jsx)(cI,{activity:a,prevActivity:s?null:t[r+1],isOldest:s,isLatest:0===r&&!g,versions:n.versions,focusNodeId:e},r)})]})})}function ck({latest:e}){let t=(0,d$.Ak)(e);return(0,i.jsx)(dQ.E,{variant:"inactiveOutline",children:(0,V.t)("dev_handoff.workflows.focus_view.activity.collapsed",{activityTime:t})})}function cI({activity:e,prevActivity:t,isOldest:n,isLatest:o,versions:d,focusNodeId:c}){let u=(0,r.wA)(),p=(0,o1._6)(),m=(0,r.d4)(e=>e.versionHistory),h=e.version?.id??void 0,f=cb(),g=(0,l.md)(co.wg),_=(0,iL.U)(),x=f&&o||h===m.activeId,y=function(e,t,n){let i=(0,sz.hA)(),o=(0,r.wA)(),l=(0,o1._6)(),d=cv(),c=(0,iL.U)();return a.useCallback((a,r)=>{if(t&&!a){if(n){d();return}c("Dev Mode Activity Load Version",{entrypoint:r}),o(aO.sf({...l,versionId:t})),o(cs.Y6({mode:s.Oin.KEEP_UI,type:cd.lF.SPINNER})),requestAnimationFrame(()=>{o((0,cl.Nb)({id:t,nodeId:i??void 0,eventType:"LOAD_NEW_VERSION",versions:e}))})}},[t,n,e,i,o,l,d,c])}(d,h,o),v=()=>{_("Dev Mode Activity Compare Changes",{source:o?"compare_previous":"compare_to_latest"});let e=o&&t?.version?.id||h;(0,s0.L$)(e,u,!0,c)},b=cv(),C=e.metadata?.status===ee.zI.BUILD&&null!==t,E=!!h&&h!==m.activeId,{getTriggerProps:j,manager:w}=rp.b(),T=h?(0,i.jsxs)(rp.bL,{manager:w,children:[(0,i.jsx)(iI.K,{...j(),"aria-label":(0,V.t)("collaboration.feedback.more_options"),children:(0,i.jsx)(rf.J,{})}),(0,i.jsxs)(rp.mc,{children:[!o&&(x?(0,i.jsx)(rp.q7,{onClick:b,children:(0,V.tx)("dev_handoff.workflows.focus_view.back_to_current")}):(0,i.jsx)(rp.q7,{onClick:()=>y(x,"dropdown_option"),children:(0,V.tx)("dev_handoff.workflows.focus_view.inspect_version")})),(!o||C)&&(0,i.jsx)(rp.q7,{onClick:v,children:o?(0,V.tx)("dev_handoff.workflows.focus_view.compare_previous_menu_item"):(0,V.tx)("dev_handoff.workflows.focus_view.compare_latest")}),(0,i.jsx)(rp.q7,{onClick:()=>{_("Dev Mode Activity Copy Link To Version"),(0,cu.S)(u,p,h)},children:(0,V.tx)("dev_handoff.workflows.focus_view.copy_link_to_version")}),g&&(0,i.jsx)(rp.q7,{onClick:()=>{if(!g)return;let t=e.version;t&&u(sa.to({type:cp.S,data:{label:cx(e),description:t.description,savepointID:t.id}}))},children:(0,V.tx)("collaboration.feedback.context_menu.edit_version_info")})]})]}):null;return(0,i.jsx)(cc.jP,{description:e.version?.description??void 0,dispatch:u,displayText:(0,i.jsx)(c_,{activity:e,isLatest:o}),editorType:ee._Y.DESIGN,first:o,hideActiveMenu:!0,hoverMenu:T,iconOverride:cC(e,n||x),isActive:x&&!o,isAllowedToChangeVersion:()=>E,label:"activity-row",last:n,onClick:o&&C?v:void 0,onSelect:E?()=>y(x,"row"):void 0,rowBodyFooter:o&&C?(0,i.jsx)("div",{className:"dev_handoff_activity_panel--viewDiffButtonReady--mGQg4",children:(0,V.tx)("dev_handoff.workflows.focus_view.activity.compare_previous")}):void 0,user:e.user.name||"",userUrl:e.user.imgUrl,versionId:h||"NO_VERSION",view:null})}var cS=n(370020),cN=n(838167),cA=n(514359),cL=n(176203),cO=n(434923);function cR(){let{selectionProperties:e}=(0,g.R)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,rG.nl)(),n=(0,rG.cW)(),a=(0,rG.Be)(),s=(0,cA.Yo)(),o=(0,r.wA)(),l=(0,I.tS)();return(0,i.jsx)(cO.Q,{allSavedPlugins:a.plugins,collapsible:!0,dispatch:o,editorType:cL.nT.DevHandoff,isDevHandoff:!0,localPlugins:t,numSelected:e.numSelected??0,openFileKey:l,orgEntity:s,pluginRelaunchData:e.pluginRelaunchData,publishedPlugins:n,recordingKey:"devHandoffPluginPanel",title:(0,V.t)("dev_handoff.plugin_panel.title")},"plugin")}var cP=n(130161);let cM=(0,sT.Ju)(function(e){let t=a.lazy(()=>Promise.all([n.e(357),n.e(5568),n.e(5046)]).then(n.bind(n,115046)));return(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)(L.k,{}),children:(0,i.jsx)(t,{...e})})}),cD=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.117 6.741A2 2 0 0 1 13 6.805l3 1.731.113.071A2 2 0 0 1 17 10.268v3.464a2 2 0 0 1-.887 1.662l-.113.07-3 1.733a2 2 0 0 1-1.883.063L11 17.197l-3-1.732a2 2 0 0 1-1-1.733v-3.464a2 2 0 0 1 1-1.732l3-1.731zm1.383.93a1 1 0 0 0-1 0l-3 1.731-.11.074a1 1 0 0 0-.39.792v3.464l.009.133a1 1 0 0 0 .491.733l3 1.733a1 1 0 0 0 .88.059l.12-.06 3-1.732a1 1 0 0 0 .491-.733l.009-.133v-3.464a1 1 0 0 0-.39-.792l-.11-.074zM12 10a2 2 0 1 1 0 4 2 2 0 0 1 0-4m0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})})});var cF=n(890257),cB=n(603261);function cU(){let e=(0,cB.j)({entryPoint:cF.Nh.InspectNoSelection}),t=(0,a.useCallback)(()=>{e()},[e]),n=(0,nR.Rb)().length,r=(0,nk.Pt)("fullVarsTable","panelEntry");return n?(0,i.jsx)(p.tH,{boundaryKey:"varsTable_inspectEntry",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,team:u.e.DEVELOPER_TOOLS,sentryTags:{area:u.e.DEVELOPER_TOOLS},children:(0,i.jsx)(e0.VZ,{title:(0,V.t)("variables.authoring_modal.title"),recordingKey:"fullVarsTable",collapsiblePanelKey:"variables",children:(0,i.jsxs)("div",{className:"variables_table_entry_point--innerPanelContainer--fMHQK text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,V.tx)("variables.inspection_panel_entry_point.description"),(0,i.jsx)(t7.IK,{variant:"secondary",onClick:t,recordingKey:r,"aria-label":(0,V.t)("variables.local_variables_panel.open_variables_button_tooltip"),children:(0,i.jsxs)("div",{className:"variables_table_entry_point--buttonInnerWrapper--Jgybm",children:[(0,i.jsx)(cD,{}),(0,V.tx)("variables.inspection_panel_entry_point.button")]})})]})})}):null}var cH=n(373235),cV=n(563554),cG=n(546547),cz=n(3041),cK=n(849368),cW=n(325751),cZ=n(586320),cq=n(989941),cX=n(271674),cY=n(719423),cJ=n(995639),cQ=n(170627),c$=n(926653),c0=n(9378),c1=n.n(c0),c2=n(316520),c3=n.n(c2),c5=n(621592),c4=n.n(c5),c6=n(795161),c7=n(638641),c9=n(146434),c8=n(663355),ue=n(176836),ut=n(746005),un=n(435206),ui=n(706964),ua=n(71553),ur=n(294570),us=n(386958);let uo=new class{async getZip(e,t,n){let i=JSON.stringify({sha1s:t,names:n});try{let t=await fetch(`/file/${e}/image/batch_download`,{method:"POST",body:i,headers:{"Content-Type":"application/json","Content-Length":`${i.length}`,Accept:"application/zip"}});if(!t.ok||200!==t.status)return{error:!0};let n=await t.blob();return{imagesZip:await n.arrayBuffer(),error:!1}}catch(e){return(0,sg.$D)(u.e.DEVELOPER_TOOLS,e),{error:!0}}}},ul=new class{async getExtensions(e,t,n){let i=JSON.stringify({sha1s:t});await fetch(`/file/${e}/image/file_extensions`,{method:"POST",body:i,headers:{"Content-Type":"application/json","Content-Length":`${i.length}`,Accept:"application/json"}}).then(e=>{e.json().then(e=>{let t=e?.meta?.extensions;t&&Object.keys(t).length>0&&n(t)})})}};var ud=n(763286),uc=n(861671),uu=n(864774);let up="asset_panel--exportDropdown--Vh-cX",um="asset_panel--exportMeta--C-dRt",uh="asset_panel--dot--dR7Yw",uf="asset_panel--sourceName--uwyAu ellipsis--ellipsis--Tjyfa",ug=4*(0,a8.jz)(t$.devHandoffAssetPreviewMaxWidth),u_=4*(0,a8.jz)(t$.devHandoffAssetPreviewMaxHeight),ux=(0,l.E3)("asset_panel_export_list",{[ur.PW.ASSET_ICON]:[uv("SVG")],[ur.PW.ASSET_ILLUSTRATION]:[uv("SVG")],[ur.PW.ASSET_IMAGE]:[uv("PNG")],[ur.PW.ASSET_GIF]:void 0}),uy=(0,l.E3)("asset_panel_img_include_source",!0);function uv(e){let t=(0,uc.jj)([]);return"JPEG"===e||"PDF"===e?{...t,imageType:e,quality:1}:"SVG"===e?{...t,imageType:e,svgOutlineText:!1,svgIDMode:"IF_NEEDED",svgForceStrokeMasks:!1}:{...t,imageType:e}}let ub={format:e=>{switch(e){case"PNG":return"PNG";case"JPEG":return"JPG";case"SVG":return"SVG";case"PDF":return"PDF"}return e}},uC=a.memo(({assetInfo:e,media:t=[],showComponentControls:n})=>{let d=(0,c6.nl)(),c=(0,I.tS)(),[u,p]=(0,l.fp)(eq.g6),h=!uT()||u,f=(0,r.d4)(e=>e.saveAsState),g=(0,ro.J2)((0,T.UK)().showGuids),x=(0,r.d4)(e=>e.mirror.sceneGraphSelection),y=a.useMemo(()=>{let t=Object.keys(x),n=e.instancesGUIDs||[];return t.some(e=>n.includes(e))},[x,e]),{assetId:v,assetName:b,thumbnailVersion:C}=e,E=e.instancesGUIDs?.[0]??e.duplicateGUIDs?.[0]??v,j=(0,c9.O)({assetId:E,thumbnailVersion:C,width:ug,height:u_,scale:4}),w=(0,un.e)(e.sourceLibraryKey??(0,c$.l)(""),{enabled:!!e.sourceLibraryKey}),k=function(e,t){let n=(0,l.md)(ux),i=t&~ur.PW.ASSET_COMPONENT,a=[uv(i&(ur.PW.ASSET_ICON|ur.PW.ASSET_ILLUSTRATION)?"SVG":"PNG")];return(0,o.kc)().dt_insp_impr_assets?void 0===i||i===ur.PW.NOT_ASSET||i===ur.PW.ASSET_VIDEO||i===ur.PW.ASSET_GIF?[]:n?.[i]||a:a}(0,e.type),S=e.type&(ur.PW.ASSET_ICON|ur.PW.ASSET_ILLUSTRATION)?"SVG":"PNG",N=k?.[0]?.imageType,A=a.useMemo(()=>(0,o.kc)().dt_insp_impr_assets&&k?.length&&N?k.every(e=>e.imageType===N)?(0,V.t)("dev_handoff.assets.files_same_format",{count:k.length,format:N}):(0,V.t)("dev_handoff.assets.files",{count:k.length}):S,[k,N,S]),L=(0,r.wA)(),{getTriggerProps:O,manager:R}=rp.b(),{getTriggerProps:P,manager:M}=rp.b(),D=a.useCallback(async e=>{h||(e.stopPropagation(),(0,m.sx)("Asset Panel Export Clicked"),p(!0),await (0,ui.Dc)(ui.hV.Export,f,L,"export-assets-handoff",[E],"export-assets-handoff",{guids:[E],exportSettings:k?.length?k:[uv(S)]}),L(c8.rg()),R.isOpen&&R.setOpen(!1),p(!1))},[E,S,h,L,k,R,f,p]),F=(0,rF.dI)({assetGuid:E}),B=a.useCallback(e=>{F?.(),e.stopPropagation()},[F]),U=e?.instancesGUIDs?.[0]??v,H=a.useCallback(()=>{_.tJ([U]),(0,o.kc)().dt_insp_impr_assets&&L((0,eq.vI)(U))},[L,U]),G=a.useMemo(()=>[...e?.instancesGUIDs??[],...e?.duplicateGUIDs??[],v],[v,e?.duplicateGUIDs,e?.instancesGUIDs]),z=a.useCallback(e=>{cQ.l7.user("image-type-change",()=>{s.glU?.setDevHandoffAssetExport(v,e)})},[v]),K=!!(e.type&ur.PW.ASSET_COMPONENT),W=!!(e.type&ur.PW.ASSET_ICON),Z=!!(e.type&ur.PW.ASSET_IMAGE),q=!!(e.type&ur.PW.ASSET_GIF),X=!!(e.type&ur.PW.ASSET_VIDEO),Y=q||X,J=!!(e.type&ur.PW.ASSET_ILLUSTRATION),Q=(W||Z)&&!Y,$=t?.length>0&&!!c,ee=!!e.sourceLibraryKey,et=!!w.data?.isHubFile;return(0,i.jsx)("div",{className:"asset_panel--assetContainer----LF9",onMouseEnter:()=>s.Ez5?.canvasViewState().temporarilyHoveredNodes.set(G),onMouseLeave:()=>s.Ez5?.canvasViewState().temporarilyHoveredNodes.set([]),children:(0,i.jsxs)("div",{className:ew()("asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd",{"asset_panel--forceHovered--GZMWo":R.isOpen||d}),children:[(0,i.jsx)(eG.E,{className:"asset_panel--assetPreview--nTOgs",style:j.backgroundStyle,onClick:H,"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("inspect_panel.interactions.select_layer"),children:j&&(0,i.jsx)(ud.J,{src:j.url,style:j.imgStyle})}),(0,i.jsxs)("div",{className:"asset_panel--assetDetails--xfCbP",children:[(0,i.jsx)("div",{className:"asset_panel--assetName--exM4m ellipsis--ellipsis--Tjyfa",children:g?`${b} (${v})`:b}),!K||y||(0,o.kc)().dt_insp_impr_assets?(0,o.kc)().dt_insp_impr_assets&&n?null:(0,i.jsx)("div",{className:"asset_panel--assetType--hIg9Q ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,i.jsx)(eq.$R,{assetInfo:e,media:Q?t:[],dataTestId:"assetPanel",shouldShowTypeLabel:!(0,o.kc)().dt_insp_impr_assets,hideDot:(0,o.kc)().dt_insp_impr_assets})}):(0,i.jsxs)("div",{className:"asset_panel--componentAssetType--oeu0C asset_panel--assetType--hIg9Q ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,i.jsx)(ek.B,{svg:t0.A}),(0,i.jsx)("div",{className:"asset_panel--componentAssetTypeEllipsis--0gm6v ellipsis--ellipsis--Tjyfa",children:(0,V.tx)("dev_handoff.assets.instance")})]})]}),(0,i.jsxs)("div",{className:"asset_panel--buttons--QytN9",children:[(Q||J)&&(0,i.jsxs)(i.Fragment,{children:[!(0,o.kc)().dt_insp_impr_assets&&(0,i.jsxs)(ol.bL,{onChange:z,value:A,children:[(0,i.jsx)(ol.l9,{disabled:h||(0,o.kc)().dt_insp_impr_assets,label:(0,i.jsx)(sd.h,{children:(0,V.tx)("fullscreen.export.export_file_type")}),"aria-label":(0,o.kc)().dt_insp_impr_assets?(0,V.t)("dev_handoff.assets.modify_hint"):void 0}),(0,i.jsxs)(ol.mc,{children:[(0,i.jsx)(ol.c$,{value:"PNG",children:"PNG"}),(0,i.jsx)(ol.c$,{value:"JPEG",children:"JPG"}),(W||J)&&(0,i.jsx)(ol.c$,{value:"SVG",children:"SVG"}),(0,i.jsx)(ol.c$,{value:"PDF",children:"PDF"})]})]}),(!(0,o.kc)().dt_insp_impr_assets||!n)&&(0,i.jsx)("div",{className:"asset_panel--exportIcon--aQQXS",children:$?(0,i.jsxs)(rp.bL,{manager:R,children:[(0,i.jsxs)(eG.E,{"aria-label":h?(0,V.t)("fullscreen.properties_panel.export_disabled"):(0,V.t)("fullscreen.export.export"),htmlAttributes:{"data-tooltip":h?(0,V.t)("fullscreen.properties_panel.export_disabled"):(0,V.t)("fullscreen.export.export"),"data-tooltip-type":eQ.Ib.TEXT},disabled:h,className:up,recordingKey:`export-${v}`,...O(),children:[(0,i.jsx)(cX.b,{}),(0,i.jsx)(iV.r,{})]}),(0,i.jsxs)(rp.mc,{children:[t.map(e=>(0,i.jsx)(uE,{asset:e,onClose:()=>R.setOpen(!1)},e.hash)),(0,i.jsx)(rp.q7,{onClick:D,recordingKey:"asset-export-layer",children:(0,i.jsxs)("div",{children:[(0,V.t)("fullscreen.export.layer_export"),(0,i.jsx)(rp.ME,{children:(0,i.jsxs)("div",{className:um,children:[(0,i.jsx)(eq.$R,{assetInfo:e,dataTestId:"assetPanel",hideDot:!0}),(0,i.jsx)("div",{className:uh,children:"\xb7"}),(0,i.jsx)("div",{className:uf,children:ub.format(A)})]})})]})})]})]}):(0,i.jsx)(iI.K,{onClick:D,"aria-label":h?(0,V.t)("fullscreen.properties_panel.export_disabled"):(0,V.t)("fullscreen.export.export"),disabled:h,htmlAttributes:{"data-tooltip":h?(0,V.t)("fullscreen.properties_panel.export_disabled"):(0,V.t)("fullscreen.export.export"),"data-tooltip-type":eQ.Ib.TEXT},recordingKey:`export-${v}`,children:(0,i.jsx)(cX.b,{})})})]}),Y&&(!(0,o.kc)().dt_insp_impr_assets||!n)&&(0,i.jsxs)(i.Fragment,{children:[!(0,o.kc)().dt_insp_impr_assets&&(0,i.jsxs)(ol.bL,{onChange:eD.lQ,value:q?"GIF":"MP4",children:[(0,i.jsx)(ol.l9,{disabled:!0,label:(0,i.jsx)(sd.h,{children:(0,V.tx)("fullscreen.export.export_file_type")})}),(0,i.jsx)(ol.mc,{children:(0,i.jsx)(ol.c$,{value:q?"GIF":"MP4",children:q?"GIF":"MP4"})})]}),h?(0,i.jsx)(iI.K,{"aria-label":(0,V.t)("fullscreen.properties_panel.export_disabled"),disabled:!0,htmlAttributes:{"data-tooltip":(0,V.t)("fullscreen.properties_panel.export_disabled"),"data-tooltip-type":eQ.Ib.TEXT},children:(0,i.jsx)(cX.b,{})}):t.length>1?(0,i.jsxs)(rp.bL,{manager:M,children:[(0,i.jsxs)(eG.E,{"aria-label":(0,V.t)("fullscreen.export.export"),htmlAttributes:{"data-tooltip":(0,V.t)("fullscreen.export.export"),"data-tooltip-type":eQ.Ib.TEXT},className:up,recordingKey:`export-${v}`,...P(),children:[(0,i.jsx)(cX.b,{}),(0,i.jsx)(iV.r,{})]}),(0,i.jsx)(rp.mc,{children:t.map(e=>(0,i.jsx)(uE,{asset:e,onClose:()=>M.setOpen(!1)},e.hash))})]}):(0,i.jsx)(uj,{assetInfo:e})]}),K&&(!(0,o.kc)().dt_insp_impr_assets||n)&&(0,i.jsx)(iI.K,{onClick:B,"aria-label":et?(0,V.t)("design_systems.instance_panel.view_library_in_community"):ee?(0,V.t)("dev_handoff.library.view"):(0,V.t)("design_systems.instance_panel.go_to_main_component"),htmlAttributes:{"data-tooltip":et?(0,V.t)("design_systems.instance_panel.view_library_in_community"):ee?(0,V.t)("dev_handoff.library.view"):(0,V.t)("design_systems.instance_panel.go_to_main_component"),"data-tooltip-type":eQ.Ib.TEXT},children:et?(0,i.jsx)(s6.c,{}):ee?(0,i.jsx)(cY.l,{}):(0,i.jsx)(rP.K,{})})]})]})})});function uE({asset:e,onClose:t}){let n=(0,I.tS)()??"",s=(0,r.wA)(),{ref:l,...d}=(0,i0.X)(e.name),{name:c,extension:u}=a.useMemo(()=>{if((0,o.kc)().dt_insp_impr_assets)return{name:e.name,extension:e.extension};let t=e.name.split(".");if(!t||!(t.length>1))return{name:e.name,extension:""};{let e=t[t.length-1];return{name:t.slice(0,t.length-2).join("."),extension:e}}},[e.name,e.extension]),p=a.useCallback(e=>{e.stopPropagation(),t(),s(c8.aK())},[s,t]);return(0,i.jsx)(rp.N_,{href:(0,e1.Me)(n,e.hash),download:e.name,onClick:p,htmlAttributes:d,recordingKey:"asset-export-source",children:(0,i.jsxs)("div",{children:[(0,V.t)("fullscreen.export.source"),(0,i.jsx)(rp.ME,{children:(0,i.jsxs)("div",{className:um,children:[(0,i.jsx)(eq.yP,{pxWidth:e.width,pxHeight:e.height,dataTestId:"assetPanel"}),(0,i.jsx)("div",{className:uh,children:"\xb7"}),(0,i.jsx)("div",{className:uf,"data-content-start":c,"data-content-end":u?`.${u}`:void 0,ref:l})]})})]})})}function uj({assetInfo:e}){let t=(0,x.Fk)((e,t)=>{if(!t)return null;let n=e.get(t);return n?ue.N9(n?.fills)?.filter(e=>e.opacity>0&&e.visible):null},e?.assetId);return((0,eq.p2)(e)||(0,eq.cZ)(e))&&t&&t.length&&t[0]?(0,i.jsx)(e1.iV,{image:t[0],loadingChildren:(0,i.jsx)(L.k,{}),variant:"icon",children:(0,i.jsx)(cX.b,{})}):null}function uw({asset:e,assetId:t}){let{thumbnailVersion:n}=e??{},a=(0,c9.O)({assetId:t,thumbnailVersion:n,width:64,height:64,scale:4});return(0,i.jsx)("div",{className:"asset_panel--assetIcon--UkKSP",style:a.backgroundStyle,children:(0,i.jsx)(ud.J,{className:"asset_panel--assetIconImg--gWZof",src:a.url})})}function uT(){let e=(0,I.tS)()??"",t=(0,M.Rs)(z.nlH,{key:e});return!!(0,c6.nl)()||t.data?.file&&"error"!==t.data.file.status&&t.data?.file?.data?.hasPermission}function uk({chits:e,totalItems:t}){return(0,i.jsxs)("span",{className:"asset_panel--assetIconRow--O43sG",children:[e.map(e=>(0,i.jsx)(uw,{asset:e,assetId:e?.instancesGUIDs?.[0]??e?.duplicateGUIDs?.[0]??e.assetId},e.assetId)),t>3&&(0,i.jsxs)("span",{children:["+",t-3]})]})}function uI(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.assetsDeprecated),t=Object.values((0,l.md)(ua.O)),n=a.useMemo(()=>{let e={};for(let n of t)if("video"!==n.type&&"gif"!==n.type&&n.guids)for(let t of n.guids)t in e||(e[t]=[]),e[t].push(n);return e},[t]),s=({type:e})=>e&ur.PW.ASSET_ICON?1:e&ur.PW.ASSET_COMPONENT?2:3,o=a.useMemo(()=>c4()(Object.values(e||{}),"hash").map(t=>({...t,duplicateGUIDs:Object.values(e||{}).filter(e=>e.hash===t.hash).map(({assetId:e})=>e)})).sort((e,t)=>{let n=s(e),i=s(t);return n===i?e.assetName.localeCompare(t.assetName):n-i}),[e]),{visibleItems:d,showMoreButton:c,totalItems:u}=(0,rE.y)({items:o,pageSize:4,shouldResetOnSelectionChange:!0});return 0===d.length?null:(0,i.jsxs)(e0.VZ,{hideHeader:k.z4.getIsExtension(),title:(0,V.t)("dev_handoff.assets"),recordingKey:"assets",collapsiblePanelKey:"assets",collapsedHeaders:(0,i.jsx)(uk,{chits:o.slice(0,3),totalItems:u}),children:[d.map(e=>{let t=e.duplicateGUIDs[0]??"",a=n?.[t]??[];return(0,i.jsx)(uC,{assetInfo:e,media:a,showComponentControls:!0},e.assetId)}),c]})}function uS(e){switch(e){case ur.PW.ASSET_ICON:return(0,V.t)("dev_handoff.assets.icons_download");case ur.PW.ASSET_ILLUSTRATION:return(0,V.t)("dev_handoff.assets.illustrations_download");case ur.PW.ASSET_IMAGE:return(0,V.t)("dev_handoff.assets.images_download");case ur.PW.ASSET_GIF:return(0,V.t)("dev_handoff.assets.gifs_download");default:return(0,V.t)("fullscreen.export.export")}}function uN({assetType:e,assets:t,mediaByGuid:n}){let[i,o]=(0,l.fp)(eq.g6),[d,c]=a.useState(!1),p=!uT()||i||d,h=(0,I.q5)(),f=(0,r.d4)(e=>e.saveAsState),g=(0,r.wA)(),_=(0,l.md)(ux)[e],x=(0,l.md)(uy),y=(0,v.uQ)(),b=(0,sX.dh)(),C=y??b,E=!_||0===_.length,j=a.useMemo(()=>e!==ur.PW.ASSET_GIF&&(e===ur.PW.ASSET_IMAGE?E&&!x:E),[E,x,e]),w=c3()(Object.values(n??{})).filter(t=>t.type===(e===ur.PW.ASSET_GIF?"gif":"image")),T=a.useMemo(()=>(e===ur.PW.ASSET_GIF||e===ur.PW.ASSET_IMAGE&&!!x)&&w.length>20,[e,x,w.length]);return{onExportAll:a.useCallback(async n=>{let i=e===ur.PW.ASSET_GIF,a=e===ur.PW.ASSET_IMAGE,r=Object.keys(t).map(e=>t[e]?.instancesGUIDs?.[0]??t[e]?.duplicateGUIDs?.[0]??e),l=(a&&x||i)&&!!w.length,d=!!r.length,y=!!_?.length;if(p||!(d&&y||l)||!s.w3z||!h)return;n.stopPropagation(),c(!0),o(!0),(0,m.sx)("Asset Panel Export Clicked");let v=r.length*(_?.length??0);g(el.F.enqueue({message:l?(0,V.t)("dev_handoff.assets.preparing_time",{count:(y?v:0)+w.length}):(0,V.t)("dev_handoff.assets.preparing",{count:v}),icon:c7.zX.SPINNER,preventDismissal:!0,type:"dev-mode-all-asset-download"}));let b=!1;try{let t=l&&y&&!i,n=[];if(l){let e=await uo.getZip(h.key,w.map(e=>e.hash),w.map(e=>e.name||e.hash));if(e.error)g(el.F.enqueue({message:(0,V.t)("dev_handoff.assets.too_many_image_sources"),icon:c7.zX.EXCLAMATION,timeoutOverride:1/0,error:!0}));else{let{imagesZip:a}=e;if(t){let e=new(c1())().load(new Uint8Array(a));for(let t of Object.keys(e.files)){if(!e.files[t])continue;let a=e.files[t].asUint8Array(),r=i?"gif":t.includes("jp")?"jpg":"png";n.push({filename:`source/${t}`,jsBuffer:a,mimeType:`image/${r}`,error:""})}}else(0,e1.PE)(new Blob([a]),`${h.name}_${i?"gif":"img"}.zip`);g(c8.aK()),b=!0}}t&&n.length&&s.w3z.prepareSourceImagesForZip(n),!i&&_?.length&&(await (0,ui.Dc)(ui.hV.Export,f,g,"export-assets-handoff",[C],"export-assets-handoff",{guids:r,exportSettings:_,assetType:(0,eq.Vx)(e),withSourceImages:t&&!!n.length}),g(c8.rg()))}catch(e){(0,sg.$D)(u.e.DEVELOPER_TOOLS,e),l&&w.length>1&&!b&&g(el.F.enqueue({message:(0,V.t)("dev_handoff.assets.too_many_image_sources"),icon:c7.zX.EXCLAMATION,timeoutOverride:1/0,error:!0}))}finally{g(el.F.dequeue({matchType:"dev-mode-all-asset-download"})),c(!1),o(!1)}},[w,t,e,p,g,_,x,h,C,f,o]),isLocalExporting:d,nothingToExport:j,tooManyMediaToExport:T}}function uA({assetType:e,assets:t,mediaByGuid:n}){let{onExportAll:r,isLocalExporting:s,nothingToExport:o,tooManyMediaToExport:d}=uN({assetType:e,assets:t,mediaByGuid:n}),c=(0,l.md)(eq.g6),u=!uT()||c||s,p=uS(e),m=a.useMemo(()=>u?(0,V.t)("fullscreen.properties_panel.export_disabled"):d?(0,V.t)("dev_handoff.assets.too_many_image_sources_disabled"):o?(0,V.t)("dev_handoff.assets.nothing_to_export"):void 0,[d,o,u]);return(0,i.jsx)(iI.K,{onClick:r,"aria-label":m??p,disabled:d||o||u,htmlAttributes:{"data-tooltip":m??p,"data-tooltip-type":eQ.Ib.TEXT},recordingKey:`assets_download_all_${uM(e)}`,children:s?(0,i.jsx)(L.k,{size:"sm"}):(0,i.jsx)(cX.b,{})})}function uL(e){switch(e){case ur.PW.ASSET_ICON:return(0,V.t)("dev_handoff.assets.icons_open_settings");case ur.PW.ASSET_ILLUSTRATION:return(0,V.t)("dev_handoff.assets.illustrations_open_settings");case ur.PW.ASSET_IMAGE:return(0,V.t)("dev_handoff.assets.images_open_settings");default:return(0,V.t)("general.open")}}function uO({assetType:e,rowRef:t,onClose:n}){let[o,d]=(0,l.fp)(ux),[c,u]=(0,l.fp)(uy),p=(0,r.wA)(),m=(0,aP.Um)(),h=(0,ut.Xo)(),f=(0,I.q5)(),g=(0,n5.p8)("currentSelectedProperty"),_=o?.[e],x=a.useCallback(t=>{d({...o,[e]:t})},[e,o,d]),y=a.useCallback(()=>{let e=_||[],t=(0,uc.jj)(e);x(e.concat([t]))},[_,x]),v=a.useCallback(e=>{let t=_||[],n=(0,uc.jj)(t);if("PNG"===e){x(t.concat([n]));return}(0,uc.MU)(n,e,()=>x(t.concat([n])))},[_,x]),b=function(e){switch(e){case ur.PW.ASSET_ICON:return(0,V.t)("dev_handoff.assets.icons_settings");case ur.PW.ASSET_ILLUSTRATION:return(0,V.t)("dev_handoff.assets.illustrations_settings");case ur.PW.ASSET_IMAGE:return(0,V.t)("dev_handoff.assets.images_settings");default:return(0,V.t)("general.settings")}}(e);return(0,i.jsx)(os.bL,{onClose:n,defaultPosition:t.current?(0,us.cn)(t.current,248):void 0,width:"sm",children:(0,i.jsxs)(ik.vo,{children:[(0,i.jsx)(ik.Y9,{children:(0,i.jsx)(ik.hE,{children:b})}),(0,i.jsxs)(ik.nB,{padding:0,children:[(0,i.jsx)(uc.df,{addProperty:y,currentSelectedProperty:g,dispatch:p,dropdownShown:m,entrypointMenu:(0,i.jsx)(uu.n3,{addExportOfType:v}),idPrefix:`assetType${e}-`,onChange:x,openFile:f,pickerShown:h,propertyList:_,recordingKey:dg.Pt("assets",e,"exportList"),selectedPropertyType:s.rrT.ASSET_ALL_EXPORT}),(0,i.jsx)("div",{className:"asset_panel--settingsModalRow--MxPJl",children:e===ur.PW.ASSET_IMAGE&&(0,i.jsx)(cq.S,{checked:c,onChange:u,label:(0,i.jsx)(sd.J,{children:(0,V.tx)("dev_handoff.assets.images_include_source")})})})]})]})})}function uR({assetType:e,rowRef:t}){let n=!uT(),[r,s]=a.useState(!1),o=uL(e);return e===ur.PW.ASSET_GIF?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rh.d,{"aria-label":n?(0,V.t)("fullscreen.properties_panel.export_disabled"):o,"aria-expanded":r,onClick:()=>s(e=>!e),disabled:n,htmlAttributes:{"data-tooltip":n?(0,V.t)("fullscreen.properties_panel.export_disabled"):o,"data-tooltip-type":eQ.Ib.TEXT},recordingKey:`assets_download_open_settings_${uM(e)}`,children:(0,i.jsx)(cJ.A,{})}),r&&(0,i.jsx)(uO,{assetType:e,rowRef:t,onClose:()=>s(!1)})]})}function uP({assetType:e,assets:t,mediaByGuid:n,rowRef:r}){let{getTriggerProps:s,manager:o}=rp.b(),d=(0,l.md)(eq.g6),[c,u]=a.useState(!1),{onExportAll:p,isLocalExporting:m,nothingToExport:h,tooManyMediaToExport:f}=uN({assetType:e,assets:t,mediaByGuid:n}),g=!uT()||d||m,_=function(e){switch(e){case ur.PW.ASSET_ICON:return(0,V.t)("dev_handoff.assets.icons_download_menu");case ur.PW.ASSET_ILLUSTRATION:return(0,V.t)("dev_handoff.assets.illustrations_download_menu");case ur.PW.ASSET_IMAGE:return(0,V.t)("dev_handoff.assets.images_download_menu");case ur.PW.ASSET_GIF:return(0,V.t)("dev_handoff.assets.gifs_download_menu");default:return(0,V.t)("dev_handoff.assets")}}(e),x=uL(e),y=uS(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(rp.bL,{manager:o,children:[(0,i.jsx)(iI.K,{"aria-label":g?(0,V.t)("fullscreen.properties_panel.export_disabled"):_,htmlAttributes:{"data-tooltip":g?(0,V.t)("fullscreen.properties_panel.export_disabled"):_,"data-tooltip-type":eQ.Ib.TEXT},disabled:g,...s(),children:(0,i.jsx)(rf.J,{})}),(0,i.jsxs)(rp.mc,{children:[(0,i.jsx)(rp.q7,{onClick:p,disabled:f||h,children:(0,i.jsxs)("div",{className:"asset_panel--downloadAllMenuItem--8NlXq",children:[y,f?(0,i.jsx)(rp.ME,{children:(0,V.tx)("dev_handoff.assets.too_many_image_sources_disabled")}):h?(0,i.jsx)(rp.ME,{children:(0,V.tx)("dev_handoff.assets.nothing_to_export")}):null]})}),e!==ur.PW.ASSET_GIF&&(0,i.jsx)(rp.q7,{onClick:()=>u(!0),children:x})]})]}),c&&(0,i.jsx)(uO,{assetType:e,rowRef:r,onClose:()=>u(!1)})]})}function uM(e){switch(e){case ur.PW.ASSET_ICON:return"icons";case ur.PW.ASSET_ILLUSTRATION:return"illustrations";case ur.PW.ASSET_IMAGE:return"images";case ur.PW.ASSET_GIF:return"gifs";case ur.PW.ASSET_VIDEO:return"videos";default:return"assets"}}function uD({items:e,mediaByGuid:t,assetType:n}){let r=a.useMemo(()=>Object.keys(e??{}),[e]),{visibleItems:s,showMoreButton:l,totalItems:d}=(0,rE.y)({items:r,pageSize:3,shouldResetOnSelectionChange:!0}),c=a.useRef(null);if(0===d||!e)return null;let u=n!==ur.PW.ASSET_VIDEO;return(0,i.jsxs)(e0.VZ,{title:function(e){switch(e){case ur.PW.ASSET_ICON:return(0,V.t)("dev_handoff.assets.icons");case ur.PW.ASSET_ILLUSTRATION:return(0,V.t)("dev_handoff.assets.illustrations");case ur.PW.ASSET_IMAGE:return(0,V.t)("dev_handoff.assets.images");case ur.PW.ASSET_GIF:return(0,V.t)("dev_handoff.assets.gifs");case ur.PW.ASSET_VIDEO:return(0,V.t)("dev_handoff.assets.videos");default:return(0,V.t)("dev_handoff.assets")}}(n),recordingKey:uM(n),isSubsection:!0,noBorder:!0,additionalHeaders:u?(0,i.jsx)(i.Fragment,{children:(0,o.kc)().dt_insp_impr_assets_sep_dl_btns?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(uA,{assetType:n,assets:e,mediaByGuid:t}),(0,i.jsx)(uR,{assetType:n,rowRef:c})]}):(0,i.jsx)(uP,{assetType:n,assets:e,mediaByGuid:t,rowRef:c})}):void 0,headerRef:c,children:[s.map(n=>e[n]?(0,i.jsx)(uC,{assetInfo:e[n],media:t?.[n]},n):null),l]})}function uF({items:e}){let t=a.useMemo(()=>Object.keys(e??{}),[e]),{visibleItems:n,showMoreButton:r,totalItems:s}=(0,rE.y)({items:t,pageSize:3,shouldResetOnSelectionChange:!0});return 0===s?null:(0,i.jsxs)(i.Fragment,{children:[n.map(t=>e?.[t]?(0,i.jsx)(uC,{assetInfo:e[t],showComponentControls:!0},t):null),r]})}function uB(){let e=(0,sY.Gt)("assets"),t=function(){let e=(0,I.tS)()??"",t=(0,l.md)(ua.O),[n,i]=(0,l.fp)(eq.Qm);return a.useEffect(()=>{if(!t)return;let a=new Set(Object.keys(n)),r=Object.values(t).filter(e=>"video"!==e.type&&!a.has(e.hash)).map(e=>e.hash);r.length>0&&e&&ul.getExtensions(e,r,e=>i(t=>({...t,...e})))},[t,e,n,i]),a.useMemo(()=>{let e={};if(!t)return e;let i=new Set(Object.keys(n));for(let a of Object.values(t))if("video"!==a.type&&a.guids){let t=i.has(a.hash)?n?.[a.hash]:void 0;for(let n of a.guids){let i={...a,extension:t};e[n]=[...e[n]??[],i]}}return e},[n,t])}();if(!e)return null;let{totalAssets:n=0,chits:r,icons:s,illustrations:d,images:c,gifs:u,videos:p,totalComponents:m=0,components:h}=e;return 0===n&&0===m?null:(0,i.jsxs)(i.Fragment,{children:[n>0&&(0,i.jsxs)(e0.VZ,{hideHeader:k.z4.getIsExtension(),title:(0,V.t)("dev_handoff.assets"),recordingKey:"assets",collapsiblePanelKey:"assets",collapsedHeaders:(0,i.jsx)(uk,{chits:Object.values(r??{}),totalItems:n}),children:[(0,i.jsx)(uD,{items:s,assetType:ur.PW.ASSET_ICON}),(0,i.jsx)(uD,{items:d,assetType:ur.PW.ASSET_ILLUSTRATION}),(0,i.jsx)(uD,{items:c,assetType:ur.PW.ASSET_IMAGE,mediaByGuid:t}),(0,i.jsx)(uD,{items:u,assetType:ur.PW.ASSET_GIF,mediaByGuid:t}),(0,i.jsx)(uD,{items:p,assetType:ur.PW.ASSET_VIDEO})]}),(0,o.kc)().dt_nested_components&&m>0&&(0,i.jsx)(e0.VZ,{hideHeader:k.z4.getIsExtension(),title:(0,V.t)("dev_handoff.assets.nested_components"),recordingKey:"nested_components",collapsiblePanelKey:"nested_components",collapsedHeaders:(0,i.jsx)(uk,{chits:Object.values(h??{}).slice(0,3),totalItems:m}),children:(0,i.jsx)(uF,{items:h})})]})}function uU(){return(0,o.kc)().dt_insp_impr_assets?(0,i.jsx)(uB,{}):(0,i.jsx)(uI,{})}var uH=n(238241),uV=n(9058),uG=n(996741),uz=n(559185);let uK="typography_preview--measureContainer--D1G5R",uW="typography_preview--measure---sPO7",uZ="typography_preview--dash--2HzKr",uq="typography_preview--value--v5BEy text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",uX=(0,a8.jz)(lM.WPY);function uY({fillContainer:e=!1}){let t=(0,v.uQ)(),n=(0,r.d4)(e=>e.mirror.selectionProperties.selectedFonts);return!t||!n||n?.fonts.length<1?null:(0,i.jsx)(e0.VZ,{hideHeader:!0,noPadding:!0,noBorder:!0,recordingKey:"typographyPreview",children:(0,i.jsx)(uJ,{nodeId:t,containerClassName:e?"typography_preview--previewContainerFill--QUwgr":"typography_preview--previewContainerBoxed--yWT-0 typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--well--J0WtH",numberOfFonts:n.fonts.length})})}function uJ({nodeId:e,containerClassName:t="typography_preview--previewContainerFullWidth--61D4v typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--sectionWithBottomSeparator--N54QE",numberOfFonts:n=1,localCodeLanguage:r}){let o=function(e){let t=(0,tN.DP)(),n=(0,dk.rL)()-32,[i,r]=a.useState({...u3,loading:!0}),{family:o,style:l}=(0,x.Fk)(t=>{let n=t.get(e),{family:i,style:a}=n?.fontName||{};return{family:i,style:a}}),d=a.useCallback(()=>{r(e=>({...e,imageLoading:!1}))},[]);return a.useEffect(()=>{let t=e=>{r(t=>{u2(t?.url);let n=!!e.url&&(t.fontFamily!==e.fontFamily||t.fontStyle!==e.fontStyle);return{...t,...e,imageLoading:n,loading:!1,error:!e.url&&e.error}})},n=()=>{t({...u3,url:void 0,error:!0})};(async()=>{if(!o||!l)return;if(s.vXe.fontsAreLoading()){let e=0;await new Promise((t,n)=>{let i=setInterval(()=>{s.vXe.fontsAreLoading()||(t(),clearInterval(i)),e>10&&n(),e++},100)})}if(!s.vXe.fontIsLoaded(o,l)){n();return}let i=s.w3z.getTypographyPreview(e);if(i&&i.thumbnail?.byteLength>0){let{thumbnail:e,...n}=i,a=URL.createObjectURL(new Blob([e]));t({...n,url:a})}else n()})().catch(()=>{n()})},[e,n,o,l,t]),a.useEffect(()=>()=>u2(i?.url),[i?.url]),{...i,onImageLoaded:d}}(e),{fontName:l,inheritedTextStyle:d}=(0,x.Fk)((e,t)=>{let n=e.get(t);return{fontName:n?.fontName,inheritedTextStyle:n?.inheritedTextStyle}},e);return(0,i.jsx)("div",{className:t,children:o.loading?(0,i.jsx)(uG.e,{}):(0,i.jsx)(uQ,{data:o,font:l,styleId:d,numberOfFonts:n,localCodeLanguage:r})})}function uQ({data:e,font:t,styleId:n,numberOfFonts:a,localCodeLanguage:r}){let s=(0,eJ.qM)(r,e.lineHeightInPx,u1,{isTextProperty:!0}),o=(0,eJ.qM)(r,e.fontSizeInPx,u1,{isTextProperty:!0}),l=e.textStyleNodeId||(0,uz.f$)(n),{styleName:d,styleDescription:c}=(0,x.wA)((e,t)=>{if(!t||0===t.length)return{};let n=t[0];if(!n)return{};let i=e.get(n);return{styleName:i?.name,styleDescription:i?.description}},[l]),u=(0,e$.Cj)(s),p=(0,e$.Cj)(o),m=(0,e$.Cj)(d),h=uX-16-((0,a4.fn)((0,a4.sH)(e.textStyleNodeId))||a>1?40:0),f=e.fullSize.y>h?e.fullSize.y/h:1,g=e.fullSize.y/f,_=e.fullSize.x/f,y=g+1,v=e.capPosition/f,b=e.baselinePosition/f,C=e.bottomPosition/f,E=`calc((100% - ${_}px) / 2)`,j=a>1?(0,i.jsx)("div",{className:"typography_preview--label--pJ-5L typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,V.tx)("dev_handoff.typography_preview_multiple_styles")}):d?(0,i.jsx)(eG.E,{className:"typography_preview--styleName--tA801 typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:m,"aria-label":(0,V.t)("inspect_panel.code.style"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":c,"data-tooltip-show-above":!0},children:d}):null;return(0,i.jsxs)("div",{className:ew()("typography_preview--previewHighlights--zrIw3",e.imageLoading?"typography_preview--hidden--pKo8l":"typography_preview--shown--6sBFE"),children:[e.error?(0,i.jsx)(u0,{font:t}):(0,i.jsxs)("div",{className:"typography_preview--centredRow--3-Ofp",style:{marginTop:(h+16-y)/2,height:y},children:[(0,i.jsx)("div",{className:uK,style:{marginTop:v,marginBottom:g-C},children:(0,i.jsxs)("div",{className:ew()(uW,"typography_preview--left--wzNxs"),children:[(0,i.jsx)(eG.E,{className:uq,onClick:p,"aria-label":o?(0,V.t)("inspect_panel.code.font_size_value",{value:o}):(0,V.t)("inspect_panel.code.font_size"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("inspect_panel.code.font_size"),"data-tooltip-show-above":!0},children:o}),(0,i.jsx)("div",{className:uZ,"aria-hidden":!0})]})}),(0,i.jsxs)("div",{className:"typography_preview--measurementLines--U03DM",style:{width:_,height:g,left:E,right:E},"aria-hidden":!0,children:[(0,i.jsx)(u$,{position:v}),(0,i.jsx)(u$,{position:b}),(0,i.jsx)(u$,{position:C})]}),(0,i.jsx)(ud.J,{className:"typography_preview--borderedPreview--wYbvY",style:{width:_,height:g},src:e.url,onLoad:e.onImageLoaded,"aria-label":t?(0,V.t)("dev_handoff.typography_preview_aria_label",{fontFamily:t.family,fontStyle:t.style}):(0,V.t)("dev_handoff.typography_preview_empty_aria_label"),"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":t?`${t.family} ${t.style}`:void 0,"data-tooltip-show-above":!0}),(0,i.jsx)("div",{className:uK,children:(0,i.jsxs)("div",{className:ew()(uW,"typography_preview--right--QhAIw"),children:[(0,i.jsx)(eG.E,{className:uq,onClick:u,"aria-label":s?(0,V.t)("inspect_panel.typography.line_height_value",{value:s}):(0,V.t)("inspect_panel.typography.line_height"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("inspect_panel.typography.line_height"),"data-tooltip-show-above":!0},children:s}),(0,i.jsx)("div",{className:uZ,"aria-hidden":!0})]})})]}),j]})}function u$({position:e}){return(0,i.jsx)("div",{className:"typography_preview--measurementLine---lBL5",style:{top:e}})}function u0({font:e}){let t=e?.family,n=e?.style??"",a=t&&!s.vXe.fontIsLoaded(t,n)&&t?(0,V.t)("dev_handoff.typography_preview_missing_font",{fontFamily:t,fontStyle:n}):void 0;return(0,i.jsx)("div",{className:"typography_preview--previewError--Kwn7m",children:(0,i.jsx)("span",{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":a,children:(0,V.tx)("dev_handoff.typography_preview_not_available")})})}let u1=e=>e.toLocaleString("en",{maximumFractionDigits:3,useGrouping:!1}),u2=e=>{e&&URL.revokeObjectURL(e)},u3={url:void 0,fullSize:{x:0,y:0},capPosition:0,baselinePosition:0,bottomPosition:0,fontSizeInPx:0,lineHeightInPx:0,fontFamily:"",fontStyle:"",textStyleNodeId:""};function u5({fillContainer:e=!1}){return!function(){let e=(0,v.uQ)();return(0,x.Fk)((e,t)=>e?.get(t??"")?.type==="TEXT",e)}()?(0,i.jsx)(td,{fillContainer:e}):(0,i.jsx)(uY,{fillContainer:e})}var u4=n(964754),u6=n(51978),u7=n(552001);function u9(){return(0,cZ.VX)(dN.s4.FILL),(0,cZ.VX)(dN.s4.STROKE),(0,cZ.VX)(dN.s4.TEXT),(0,cZ.VX)(dN.s4.EFFECT),null}function u8({children:e}){return(0,i.jsx)(e0.VZ,{title:(0,V.t)("dev_handoff.layer_properties"),collapsiblePanelKey:"code",recordingKey:"code_panel",collapsedHeaders:(0,i.jsx)(uH.E,{}),children:e})}function pe(){let e=(0,r.wA)(),t=(0,de.AF)();return(0,o.kc)().dt_multi_node&&t?(0,i.jsx)(t7.IK,{onClick:()=>e((0,sa.to)({type:cM,data:{}})),variant:"secondary",children:(0,V.tx)("dev_handoff.mc.open_cta")}):null}function pt(e){let t=(0,cH.q)(),n=(0,so.LS)(),r=(0,rC.ro)(),s=(0,v.uQ)(),{isSection:d,isCodeInstance:c}=(0,x.Fk)((e,t)=>{let n=e?.get(t??""),i=(0,o.kc)(),a=i.bake_canvas&&(i.bake_canvas_code_layer?n?.type==="CODE_INSTANCE":n?.type==="RESPONSIVE_SET");return{isSection:n?.type==="SECTION",isCodeInstance:a}},s),u=(0,v.NM)(),p=(0,eY.sQ)(),m=(0,aP.Um)(),h=a.useRef(null),f=(0,n5.eY)(),g=k.z4.getIsExtension(),_=(0,l.md)(dt.be),y=(0,o2.mr)(s??"",f),b=(0,I.q5)(),C=(0,cS.CQ)(b);return(0,i.jsx)(l6.t.TabPanel,{...e.tabProps,height:"fill",children:(0,i.jsxs)("div",{className:"inspect_panel--inspectPanelContainer--SZhfY",children:[(0,i.jsx)(dB,{plugin:_??null}),(0,i.jsx)(u9,{}),(0,i.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,i.jsx)(nN.P,{ref:h,className:"inspect_panel--scrollContainer--wwC0l properties_panel--scrollContainer--o2LxW",onContextMenu:eD.lQ,scrollingDisabled:!!m,enableOverscroll:!0,containerId:rd.Y,children:(0,i.jsx)(w.fu,{name:cV.e0.CODE_PANEL,children:(0,i.jsx)(dS.i,{children:(0,i.jsx)("div",{className:g?"inspect_panel--inspectPanelContentsBottomAligned--MOK20":"inspect_panel--inspectPanelContents--iYf8P",children:(0,i.jsxs)(cP.L,{children:[n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lA,{lastViewTimestamp:e.lastViewTimestamp,hasCodeConnect:y,hideDropdown:c}),t&&(0,i.jsx)(cG.Mw,{panelName:cG.ON.HANDOFF}),(0,i.jsx)(u6.bA,{noBorder:c}),r&&(0,i.jsx)(or,{}),c?null:d?(0,i.jsxs)(i.Fragment,{children:[C&&(0,i.jsx)(oi,{}),(0,i.jsx)(u8,{children:(0,i.jsx)(cN.Fe,{})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(oi,{}),(0,i.jsxs)(u8,{children:[(0,i.jsx)("div",{className:ew()("inspect_panel--layerPreview--hxLhR",k.z4.getIsExtension()&&"inspect_panel--isInExtension--kzn7u"),children:(0,i.jsx)(u5,{})}),(0,i.jsx)(tS.pm,{inspectionModeLayout:"segmented"}),p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(pe,{}),(0,i.jsx)(dY,{hideBorder:!0,padded:!0}),(0,i.jsx)(cN.r_,{}),(0,i.jsx)(cz.t,{isSubsection:!0})]}):(0,i.jsx)(cN.Fe,{})]})]}),(0,i.jsx)(uU,{}),(0,i.jsx)(uV.G,{}),(0,i.jsx)(cR,{}),!c&&(0,i.jsx)(cK.L,{})]}):u?(0,i.jsxs)(i.Fragment,{children:[!g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lj,{}),t&&(0,i.jsx)(cG.Mw,{panelName:cG.ON.HANDOFF})]}),(0,i.jsx)(u6.bA,{}),C&&(0,i.jsx)(oi,{}),(0,i.jsx)(u7.V,{}),(0,i.jsx)(uU,{}),(0,i.jsx)(cK.L,{})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lA,{}),t&&(0,i.jsx)(cG.Mw,{panelName:cG.ON.HANDOFF}),(0,i.jsx)(iZ.$b,{}),(0,i.jsx)(u4.Fd,{}),C&&(0,i.jsx)(oi,{}),(0,i.jsx)(cU,{}),(0,i.jsx)(cW.A,{}),(0,i.jsx)(cT,{})]}),(0,i.jsx)("div",{})]})})})})})})]})})}var pn=n(459973);let pi=()=>{rr.Y5.triggerAction("deselect-all")};function pa({version:e}){let t=(0,r.wA)(),n=(0,sz.hA)(),a=function(e,t){if(!t.dev_mode_activity||0===t.dev_mode_activity.length)return;let n=e?t.dev_mode_activity.find(t=>t.node_id===e):t.dev_mode_activity[0];if(n)return{id:n.id,activityType:n.activity_type,timestamp:new Date(n.timestamp),version:{id:t.id,description:t.description??null},user:{id:t.user.id,name:t.user.handle,imgUrl:t.user.img_url},metadata:n.metadata}}(n,e),s=n&&a?(0,i.jsx)(c_,{activity:a}):(0,i.jsx)(cc.YL,{item:e});return(0,i.jsx)(cc.jP,{description:e.description,dispatch:t,displayText:s,editorType:ee._Y.DESIGN,first:!1,iconOverride:a?cC(a,!0):void 0,isActive:!0,isAllowedToChangeVersion:()=>!1,label:"activity-row",last:!0,onSelect:eD.lQ,time:n?void 0:e.edited_at,user:e.user.handle,userUrl:e.user.img_url,versionId:e.id,view:null})}function pr({versions:e}){let t=cb(),{activeId:n}=(0,r.d4)(e=>e.versionHistory),a=(0,I.q5)(),o=a?.canEdit,l=(0,r.wA)(),d=(0,sz.hA)(),c=cE(),u=cv(),p=t?e[0]:e.find(e=>e.id===n),m=new R.qo(s.juq.LIVE_FILE).get(d??""),h=m?.editInfo?.lastEditedAt;return p?(0,i.jsxs)("div",{className:F.s.flex.flexColumn.borderBox.bSolid.bb1.colorBorder.$,children:[d?null:(0,i.jsx)(cc.s3,{onClose:u,addSavepoint:()=>{l((0,sa.to)({type:cp.y,data:{}})),pi()},isViewOnly:!o}),(0,i.jsxs)("ol",{children:[(0,i.jsx)(cj,{lastEditedAt:h,hasEdits:!1,isActive:t,onSelect:()=>{d?c(d):(l(pn.Fm({id:cl.V_})),pi())},focusNodeId:d}),!t&&(0,i.jsx)(pa,{version:p})]}),(0,i.jsx)("div",{className:F.s.flex.pt12.pb12.pl16.pr16.itemsCenter.$,children:(0,i.jsx)(t7.$n,{variant:"link",onClick:pi,children:(0,V.tx)("dev_handoff.version_history.view_all_versions")})})]}):null}var ps=n(122010),po=n(530091),pl=n(25870),pd=n(897024),pc=n(833536);function pu(e){return(0,i.jsx)(l6.t.TabPanel,{...e.tabProps,children:(0,i.jsx)("div",{className:"dev_handoff_comments_panel--devHandoffCommentsPanel--1Lqo9",children:(0,i.jsx)(pc.B,{stackHeader:!1,hideResolve:!1})})})}let pp=a.memo(function(){let{commentsActive:e,isNodeSelected:t,versionHistoryActive:n}=(0,g.R)(e=>({commentsActive:e.mirror.appModel.currentTool===y.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===s.m1T.DEV_HANDOFF_HISTORY})),[a,o]=l6.t.useTabs({comment:!0}),l=(0,sz.hA)(),d=(0,r.wA)(),c=(0,ro.ut)((0,_.tw)(),s._gJ.PRIMARY),p=new Set((0,_.NI)().map(e=>dv[e]).filter(e=>null!=e)),m={};Object.values(dv).forEach(e=>{m[e]=p.has(e)});let[h,f,x]=l6.t.useManagedTabs(m,dv[c]??dv[s._gJ.PRIMARY],e=>{let t=db[e];if(null==t){(0,sg.$D)(u.e.DEVELOPER_TOOLS,Error(`DevHandoffRightPanel: Unknown tabId '${e}' passed to onSetTab`));return}(0,_.ax)(t),e===dv[s._gJ.PLUGIN]&&d(nQ.b({[iM.xb]:!0}))},{recordingKey:"devHandoffPanelTabs"}),v=(0,a9.E1)(),C=(0,s$.jh)(l??void 0);b({doReport:!0});let E=n&&!t&&!l,j=c===s._gJ.PRIMARY&&!e&&!E,w=c===s._gJ.STRING_MANAGEMENT,T=(0,i.jsx)(pl.vL,{name:"rightPanels",focusOnMount:!0,handleKeyDown:eD.lQ,children:(0,i.jsx)("div",{id:"dev-handoff-inspect-panel",children:(0,i.jsxs)(dI,{tabInfo:{commentTabProps:a.comment,generalTabPropsMap:h,generalTabManager:x},children:[E&&(0,i.jsx)(cc.yU,{fileHasCMSData:!1}),n&&t&&(0,i.jsx)(pr,{versions:C.versions}),e&&(0,i.jsx)(pu,{tabProps:o.comment}),j&&(0,i.jsx)(pt,{lastViewTimestamp:v,tabProps:f[dv[s._gJ.PRIMARY]]}),w&&(0,i.jsx)(pd.V_,{}),(0,i.jsx)(dp,{tabProps:f[dv[s._gJ.PLUGIN]]})]})})});return(0,i.jsx)(po.x,{children:(0,i.jsx)(ps.m,{role:"region","aria-label":(0,V.t)("dev_handoff.right_panel.accessible_label"),children:T})})});var pm=n(382629),ph=n(258719),pf=n(70690);let pg="dev-handoff-breadcrumbs-dropdown",p_="dev-handoff-collapsed-breadcrumb-dropdown";function px(e){return!!e}function py(){let e=a.useRef(null),[t,n]=a.useState(null),i=a.useCallback(()=>{n(e?.current?.getBoundingClientRect()||null)},[e]);return a.useEffect(()=>(i(),ph._.addListener(i),window.addEventListener("resize",i),()=>{ph._.removeListener(i),window.removeEventListener("resize",i)}),[i]),[e,t,i]}function pv({selectedNode:e,targetRect:t}){let n=(0,r.wA)(),a=(e=>{let t=e.parentNode;return t?.childrenNodes??[e]})(e).map(t=>{let n=t?function({children:e}){return e.map(e=>({displayText:e.name,onMouseEnter:()=>_.Uc(e.guid),onMouseExit:()=>_.Uc(""),icon:(0,i.jsx)(rl.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>_.tJ([e.guid])})).filter(px)}({children:t.childrenNodes}):void 0;return t?{displayText:t?.name??"",isChecked:t.guid===e.guid,onMouseEnter:()=>_.Uc(t.guid),onMouseExit:()=>_.Uc(""),icon:(0,i.jsx)(rl.Bf,{guid:t?.guid??"",isMenuIcon:!0}),callback:()=>_.tJ([t.guid]),children:n&&n.length>0?n:void 0,callbackOnClickWithChildren:!0}:null}).filter(px);return(0,i.jsx)(aM.j,{showPoint:!1,items:a,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:t,dispatch:n,displayAboveTarget:!0})}function pb({nodeID:e}){let t=(0,r.wA)(),[n,a,s]=py(),o=(0,aP.Um)(),l=(0,n5.eY)().get(e);if(!l)return null;let d=o?.type===pg,c="INSTANCE"===l.type||"SYMBOL"===l.type;return(0,i.jsxs)(i.Fragment,{children:[d&&a&&(0,i.jsx)(pv,{selectedNode:l,targetRect:a}),(0,i.jsxs)("button",{className:"dev_handoff_breadcrumbs--pathElementSelected--w9aeS dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){s(),d||t(aO.j7({type:pg,data:{hasOwnEscKeyHandler:!1}}))},ref:n,title:l.name,children:[(0,i.jsx)(rl.Bf,{guid:l.guid,className:c?"dev_handoff_breadcrumbs--layerIconPurple--Qit6B":"dev_handoff_breadcrumbs--layerIcon--jR8ti"}),l.name]})]})}function pC({nodeID:e}){let t=(0,n5.eY)().get(e);return t?(0,i.jsx)("button",{title:t.name,className:"dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:()=>_.tJ([t.guid]),onMouseEnter:()=>_.Uc(t.guid),onMouseLeave:()=>_.Uc(""),children:t.name}):null}function pE({nodeIDs:e}){let t=(0,r.wA)(),[n,a,s]=py(),o=(0,aP.Um)(),l=o?.type===p_,d=(0,n5.eY)(),c=e.map(d.get).filter(pm.Vq),u=c.map(e=>({displayText:e.name,onMouseEnter:()=>_.Uc(e.guid),onMouseExit:()=>_.Uc(""),icon:(0,i.jsx)(rl.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>_.tJ([e.guid])}));return(0,i.jsxs)(i.Fragment,{children:[l&&a&&(0,i.jsx)(aM.j,{showPoint:!1,items:u,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:a,dispatch:t,displayAboveTarget:!0}),(0,i.jsx)("button",{ref:n,className:"dev_handoff_breadcrumbs--pathElementCollapsed--uY2eU dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){s(),l||t(aO.j7({type:p_,data:{hasOwnEscKeyHandler:!1}}))},title:(0,V.t)("dev_handoff.breadcrumbs.hidden_nodes",{count:c.length}),children:(0,V.t)("dev_handoff.breadcrumbs.ellipsis")})]})}let pj=a.memo(()=>{let{selectedNodeID:e}=(0,g.R)(e=>({selectedNodeID:Object.keys(e.mirror.sceneGraphSelection)[0]})),t=(0,ro.J2)(s.Ez5.devHandoffState().currentNodeId),n=(0,x.Gj)((e,t,n)=>{let i=e.get(t);return i?function(e){return e.length<=4?e:[e[0],e.slice(1,-2),e[e.length-2],e[e.length-1]]}([...function e(t,n){if(n.guid===t)return[];let i=n.parentNode;return i?[...e(t,i),i]:[]}(n,i),i]):[]},e,t),r=(0,R.UN)().get(e);return 0!==n.length&&r?(0,i.jsx)("div",{className:"dev_handoff_breadcrumbs--container--BoCAA",children:n.map((e,t)=>{let r=t===n.length-1,s=(0,i.jsx)(ek.B,{svg:pf.A,className:r?"dev_handoff_breadcrumbs--chevronIconSelected--NrpAP dev_handoff_breadcrumbs--chevronIcon--MAw4y":"dev_handoff_breadcrumbs--chevronIcon--MAw4y",height:"3px",width:"6px"});return Array.isArray(e)?(0,i.jsxs)(a.Fragment,{children:[s," ",(0,i.jsx)(pE,{nodeIDs:e.map(e=>e.guid)})]},e.map(e=>e.guid).join("-")):r?(0,i.jsxs)(a.Fragment,{children:[s," ",(0,i.jsx)(pb,{nodeID:e.guid})]},e.guid):(0,i.jsxs)(a.Fragment,{children:[s," ",(0,i.jsx)(pC,{nodeID:e.guid})]},e.guid)})}):null});var pw=n(156412),pT=n(803126),pk=n(46999),pI=n(54092),pS=n(962212),pN=n(973228);let pA="dev_handoff_index_view_zoom_control--zoomButton--l1ZDl",pL="dev_handoff_index_view_zoom_control--buttonDisabled--krwH2";var pO=n(364616);function pR(){let{Dropdown:e,toggleDropdown:t,dropdownTargetRef:n}=(0,rH.B)("DEV_HANDOFF_INDEX_VIEW_ZOOM_DROPDOWN"),a=(0,sz.hA)(),r=(0,pI.Zr)("zoom-out"),l=(0,pI.Zr)("zoom-in"),d=Math.round(100*(0,ro.J2)((0,pk.d)().activeCanvasCurrentZoom)).toString(),c=[{displayText:(0,V.t)("dev_handoff.vscode.zoom_control.zoom_options_actual_size"),callback:()=>s.glU.setCanvasZoomScale(1)},{displayText:(0,V.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_screen"),callback:()=>s.w3z.setFocusZoomLevel(s.i1K.FIT_TO_SCREEN)},{displayText:(0,V.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_width"),callback:()=>s.w3z.setFocusZoomLevel(s.i1K.FIT_TO_WIDTH)},{displayText:(0,V.t)("dev_handoff.vscode.zoom_control.zoom_options_fill_screen"),callback:()=>s.w3z.setFocusZoomLevel(s.i1K.FILL_SCREEN)}],u=[{displayText:(0,V.t)("fullscreen_actions.zoom-reset"),callback:()=>s.glU.setCanvasZoomScale(1)},{displayText:(0,V.t)("fullscreen_actions.zoom-to-fit"),callback:()=>rr.Y5.triggerAction("zoom-to-fit",{source:"zoom-menu"})}];return(0,i.jsxs)("div",{className:"dev_handoff_index_view_zoom_control--container--oBEBg",ref:n,style:(0,pS.T)()&&(0,o.kc)().dt_vscode_ready_for_dev?{height:"32px",paddingLeft:"10px",paddingRight:"10px"}:void 0,children:[(0,i.jsx)(eG.E,{className:ew()(pA,pN.NB,{[pN.pq]:r}),onClick:()=>rr.Y5.triggerAction("zoom-out",{source:"vscode-zoom-menu"}),disabled:!r,"aria-label":(0,V.t)("dev_handoff.vscode.zoom_control.zoom_out_button"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("dev_handoff.vscode.zoom_control.zoom_out_button")},children:(0,i.jsx)(pw.O,{className:ew()({[pL]:!r})})}),(0,i.jsxs)("button",{className:"dev_handoff_index_view_zoom_control--zoomLevel--uI6yg text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{width:`${Math.max(d.length,4)}em`},onClick:t,children:[d,"% ",(0,i.jsx)(ek.B,{svg:pO.A})]}),(0,i.jsx)(eG.E,{className:ew()(pA,pN.NB,{[pN.pq]:l}),onClick:()=>rr.Y5.triggerAction("zoom-in",{source:"vscode-zoom-menu"}),disabled:!l,"aria-label":(0,V.t)("dev_handoff.vscode.zoom_control.zoom_in_button"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("dev_handoff.vscode.zoom_control.zoom_in_button")},children:(0,i.jsx)(pT.e,{className:ew()({[pL]:!l})})}),(0,i.jsx)(e,{items:a||!(0,o.kc)().dt_vscode_ready_for_dev?c:u,showPoint:!0,displayAboveTarget:!0})]})}var pP=n(618133),pM=n(546001),pD=n(215853),pF=n(639108);function pB({isToolbarOpen:e}){let[t,n]=a.useState(!1),r=a.useRef(null),o=a.useRef(null),l=a.useRef(null),[d,c]=a.useState(null),u=(0,ro.J2)(s.Ez5.devHandoffState().currentNodeId),p=(0,v.uQ)(),{inspectableRootNodeId:m,didSelectRow:h}=l2(u,p);a.useEffect(()=>n(!1),[p]),(0,pM.L)(o,()=>{t&&n(!1)},!0);let f=a.useCallback(()=>{n(!1)},[n]);return(0,i.jsxs)("div",{ref:o,className:"frame_picker--container--tkwaQ",children:[(0,i.jsx)("button",{className:"frame_picker--trigger--ZPMqZ",ref:r,onClick:function(){if(t)n(!1);else{let e=r.current?.getBoundingClientRect();e&&(c(e),n(!0))}},"data-tooltip":(0,V.t)("dev_handoff.tag.layers"),"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip-show-above":!0,children:(0,i.jsx)(ek.B,{svg:pF.A})}),d&&(0,i.jsx)(pD.Cf,{className:t?void 0:"frame_picker--closedDropdown--ynVzU",targetRect:d,displayAboveTarget:!0,type:pD.it.MATCH_BACKGROUND,disableDropdownScrollContainer:!0,propagateCloseClick:!0,children:(0,i.jsx)("div",{ref:l,className:ew()("frame_picker--frames--vobWI",e&&"frame_picker--isToolbarOpen--i2EBR"),children:(0,i.jsx)(l5,{onRowClick:f,didSelectRow:h,inspectableRootNodeId:m})})})]})}var pU=n(754245),pH=n(314838),pV=n(299986),pG=n(704600),pz=n(322839),pK=n(923495),pW=n(285030),pZ=n(805733),pq=n(243690),pX=n(346260),pY=n(405210),pJ=n(109456),pQ=n(77417),p$=n(913014);let p0="style_details_modal--library--38bPp variable_details_view--library--Z5UXI",p1="style_details_modal--styleProperties--2XDQz";function p2({data:e}){let{position:t,styleId:n,styleNodeId:s,styleType:o}=e,l=(0,r.wA)(),d=a.useCallback(()=>{l(sa.Ce())},[l]);!function(e=eD.lQ){let t=(0,v.uQ)(),n=(0,lL.ZC)(t);a.useEffect(()=>{n&&t!==n&&e()},[e,n,t])}(d);let c=a.useMemo(()=>{switch(o){case"FILL":case"STROKE":return(0,V.t)("dev_handoff.selection_colors.style_details");case"EFFECT":return(0,V.t)("dev_handoff.selection_effect_style_details");case"TEXT":return(0,V.t)("dev_handoff.selection_text_style_details")}},[o]);return a.useEffect(()=>{s||d()},[s,d]),(0,i.jsx)(w.fu,{name:"Selection styles details modal",properties:{resourceType:o},children:(0,i.jsx)(os.bL,{width:cF.b6,maxHeight:cF.xX+120,onClose:d,defaultPosition:t,recordingKey:"style_details_modal",draggable:"header",children:(0,i.jsxs)(ik.vo,{children:[(0,i.jsx)(ik.Y9,{children:(0,i.jsx)(ik.hE,{children:c})}),(0,i.jsx)(ik.nB,{padding:0,style:{width:cF.b6},children:(0,i.jsx)(p3,{styleId:n,styleNodeId:s,styleType:o})})]})})})}function p3({styleId:e,styleNodeId:t,styleType:n,inlineCloseButton:o,onClose:l,canOpenLibrary:d=!0}){let c=(0,pz.Fj)(e),{name:u,description:p,isDeleted:m}=(0,x.Fk)((e,t)=>{if(!t)return{};let n=e.get(t);return n?{name:n.name,description:n.description,isDeleted:n.isSoftDeleted}:{}},t),h=(0,r.d4)(e=>e.mirror.selectedStyleProperties),f=a.useMemo(()=>"FILL"===n||"STROKE"===n?p9:"TEXT"===n?me:p8,[n]);a.useEffect(()=>()=>s.glU?.selectStyleByGuid(a4.AD),[]);let g="TEXT"===n?(0,i.jsx)(uJ,{nodeId:t}):(0,i.jsx)(p$.we,{selectedStyleProperties:h,snug:!0});return(0,i.jsxs)(e0.VZ,{hideHeader:!0,noPadding:!0,noBorder:!0,recordingKey:"styleDetails",children:[(0,i.jsxs)("div",{className:"style_details_modal--sticky--Ib6F7",children:[g,(0,i.jsxs)("div",{className:"style_details_modal--header--eJQK2 variable_details_view--titlelessPanel--RzeQe",children:[o?(0,i.jsxs)("div",{className:"style_details_modal--nameAndCloseButton--E2ffO variable_details_view--nameAndCloseButton--Gc1CO",children:[(0,i.jsx)(p5,{name:u,isDeleted:m}),(0,i.jsx)(iI.K,{onClick:l,"aria-label":(0,V.t)("dev_handoff.styles.details_button_close_aria_label"),children:(0,i.jsx)(pV.L,{})})]}):(0,i.jsx)(p5,{name:u,isDeleted:m}),(0,i.jsx)(p4,{libraryKey:c?.library_key,isLocal:c?.isLocal,canOpenLibrary:d}),(0,i.jsx)(pG.X,{description:p,containerClassName:"style_details_modal--description--qHmv4 variable_details_view--description--T0GsG",dataTestId:"style_details_description"})]})]}),(0,i.jsx)(p6,{guid:t,styleType:n}),(0,i.jsx)(f,{guid:t})]})}function p5({name:e,isDeleted:t}){let n=(0,e$.Cj)(e),{ref:a,...r}=(0,i0.X)(e),s=t?{"data-tooltip":(0,V.t)("variables.variable_was_deleted"),"data-tooltip-type":eQ.Ib.TEXT}:void 0;return e?(0,i.jsxs)(eG.E,{className:"style_details_modal--nameContainer--lptg- variable_details_view--variableNameContainer--9iRtJ",onClick:n,htmlAttributes:r??s,children:[t&&(0,i.jsx)(e3.B3,{}),(0,i.jsx)("span",{className:"style_details_modal--name--UzPbB variable_details_view--variableName--wKD6I ellipsis--ellipsis--Tjyfa",ref:a,"data-testid":"style_details_name",children:e})]}):null}function p4({libraryKey:e,isLocal:t,canOpenLibrary:n}){let a=(0,pZ.b)({libraryKey:e,isDevHandoff:!0,isDevModeOverview:!1,isDevModeVarsTable:!1,devModeFocusId:void 0}),r=(0,pq.B)(e||"",{enabled:!!e});return t||e?t||"loaded"===a.status&&"loaded"===r.status?n?(0,i.jsx)(pK.J,{libraryName:r?.data,containerClassName:p0,link:a.data,isLocal:t,localFallback:(0,V.t)("dev_handoff.variables.details_local"),dataTestId:"style_details_library",recordingKey:"style_name"}):(0,i.jsx)(pK.J,{libraryName:r?.data,containerClassName:p0,isLocal:t,dataTestId:"style_details_library"}):(0,i.jsx)(pK.J,{containerClassName:p0,loading:!0}):null}function p6({guid:e,styleType:t}){let{codeLanguageApi:n}=(0,pW.Q)(),a=(0,de.AF)(),r=(0,eZ.AC)(n?.codeLanguage),s=(0,eZ.Pt)(r),o=!!p7(e)?.length;return n&&a?(0,i.jsx)(w.fu,{name:"Style code",properties:{type:n.codeLanguage.type,pluginId:n.codeLanguage.id,resourceType:t},children:(0,i.jsx)(dY,{overrideNodeId:e,hideLayoutCode:!0,hideColorCode:"TEXT"===t||"EFFECT"===t,hideHints:!0,sectionClassName:"style_details_modal--styleCodeSection--e75tR",localCodeLanguage:n.codeLanguage,emptyStateMessage:(0,V.t)("dev_handoff.code.unsupported",{language:s.format(n.codeLanguage)}),dataTestId:"style_details_code",hideBorder:"FILL"===t&&!o})}):null}function p7(e){let t=(0,x.Fk)((e,t)=>{let n=e.get(t);if(n&&n.isAlive)return n.fills},e);return t?.filter(pQ.e0)}function p9({guid:e}){let t=p7(e),n=(0,T.Ku)(),r=(0,pQ.Ig)(),s=a.useCallback(e=>(0,pQ.dc)(e,r),[r]),o=a.useMemo(()=>t?.map(s),[t,s]);return o&&0!==o.length?(0,i.jsx)(w.fu,{name:"Style properties",properties:{resourceType:"COLOR",count:t?.length},children:(0,i.jsx)("div",{className:p1,"data-testid":"style_details_color_fills",children:o.map((e,t)=>(0,i.jsx)(pX.DP,{formattableColor:e,format:n,disableDetailModalEntry:!0},t))})}):null}function p8({guid:e}){let t=(0,x.Fk)((e,t)=>{let n=e.get(t);if(n&&n.isAlive)return n.effects.reverse()},e),n=(0,pY.d7)(t??[]);return n&&0!==n.length?(0,i.jsx)(w.fu,{name:"Style properties",properties:{resourceType:"EFFECT",count:t?.length},children:(0,i.jsx)("div",{className:p1,children:n.map((t,n)=>(0,i.jsx)(pY.rK,{...t,disableDetailModalEntry:!0},`${e}-${n}`))})}):null}function me({guid:e}){let{isNodeInvalid:t,variableConsumptionMap:n}=(0,x.Fk)((e,t)=>{let n=e.get(t);return n&&n.isAlive?{isNodeInvalid:!1,variableConsumptionMap:n?.getVariableConsumptionMap()}:{isNodeInvalid:!0}},e);return t?null:(0,i.jsx)(w.fu,{name:"Style properties",properties:{resourceType:"TEXT"},children:(0,i.jsx)("div",{className:p1,children:(0,i.jsx)(pJ.R,{nodeId:e,variableConsumptionMap:n,disableSuggestions:!0,disableDetailModalEntry:!0})})})}(0,sT.Ju)(function(){let e=(0,r.d4)(e=>e.modalShown);return e&&e.type===cF.vl&&e.data.styleNodeId?(0,i.jsx)(p2,{...e}):null},cF.vl);var mt=n(621159),mn=n(374794),mi=n(884828);let ma="inspect_tabs--column--6BLEt",mr="inspect_tabs--settingImage--VEeXo",ms="inspect_tabs--codeContainer--G3I2n",mo="inspect_tabs--codeContent--HOypb",ml="inspect_tabs--codeBoxModelInline--o-8PU",md="inspect_tabs--codeBoxModelSide--4N2rL";var mc=n(757731);let mu="DEV_HANDOFF_DEV_RESOURCE_DROPDOWN";function mp(e){return(0,i.jsxs)("div",{className:"inspect_tabs--setting--OTZN3",children:[(0,i.jsxs)("div",{className:"inspect_tabs--settingRow--qP9rB",children:[(0,i.jsx)("div",{className:"inspect_tabs--settingLabel--Fr85N",children:e.label}),(0,i.jsx)("button",{className:"inspect_tabs--settingLink--YT0SJ",onClick:e.onClick,children:(0,V.tx)("dev_handoff.inspect_panel.open_setting")})]}),(0,i.jsx)("div",{className:"inspect_tabs--settingDescription--Fxbgh",children:e.description})]})}function mm(){let e=(0,o1._6)(),t=(0,r.wA)();return a.useCallback(()=>{"fullscreen"===e.view&&t(aO.sf({...e,styleForDetailsPanel:void 0,variableIdForDetailsPanel:void 0}))},[t,e])}function mh({variableId:e}){let t=mm(),n=(0,cB.j)({onShow:t,entryPoint:cF.Nh.VariableDetailsModal});return(0,i.jsx)(mt.a,{variableId:e,isDetailsModal:!0,inlineCloseButton:!0,onClose:t,surface:"modal",entryPoint:cF.E6.CodeWell,canOpenLibrary:!1,showVariablesTable:n})}function mf({styleId:e,styleNodeId:t,styleType:n}){let a=mm();return(0,i.jsx)(p3,{styleId:e,styleNodeId:t,styleType:n,inlineCloseButton:!0,onClose:a,canOpenLibrary:!1})}let mg="(max-width: 550px)";function m_({forSmallScreen:e,children:t,containerClassName:n}){let s=function(){let[e,t]=a.useState(()=>window.matchMedia(mg).matches);return a.useEffect(()=>{let e=window.matchMedia(mg),n=e=>{t(e.matches)};return e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}},[]),e}(),{renderVariableDetails:o,variableIdForDetailsPanel:l}=function(){let e=(0,r.d4)(e=>e.selectedView.variableIdForDetailsPanel);return{renderVariableDetails:(0,mt.u)({variableId:e,isDetailsModal:!1}),variableIdForDetailsPanel:e}}(),{styleId:d,styleNodeId:c,styleType:u}=(0,r.d4)(e=>e.selectedView?.styleForDetailsPanel)??{};if(e!==s)return(0,i.jsx)("div",{className:n,children:t});let p=o&&l,m=!!d&&!!c&&!!u;return(0,i.jsxs)(i.Fragment,{children:[p?(0,i.jsx)("div",{className:n,children:(0,i.jsx)(mh,{variableId:l})}):m?(0,i.jsx)("div",{className:n,children:(0,i.jsx)(nN.P,{children:(0,i.jsx)(mf,{styleId:d,styleNodeId:c,styleType:u})})}):null,(0,i.jsx)("div",{className:n,style:{display:p||m?"none":"initial"},children:t})]})}function mx(){let e=(0,v.uQ)();return(0,de.h)()?(0,i.jsx)(l9,{}):e?(0,i.jsxs)("div",{className:ms,children:[(0,i.jsxs)(m_,{forSmallScreen:!0,containerClassName:mo,children:[(0,i.jsx)(p.tH,{boundaryKey:"Figmadoc",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,i.jsx)(ot.Qd,{})}),(0,i.jsx)(mi.J,{}),(0,i.jsx)(dY,{}),(0,i.jsx)(uV.G,{}),(0,i.jsx)(cz.t,{}),(0,i.jsx)(cN.r_,{}),(0,i.jsx)("div",{className:ml,children:(0,i.jsx)(u5,{})})]}),(0,i.jsx)(m_,{forSmallScreen:!1,containerClassName:md,children:(0,i.jsx)(u5,{fillContainer:!0})})]}):(0,i.jsx)(my,{})}function my(){return(0,i.jsxs)("div",{className:"inspect_tabs--codeEmpty--B2DYX",children:[(0,i.jsxs)("div",{className:ma,children:[(0,i.jsx)("img",{alt:"",className:mr,src:(0,H.ck)("90580516d4d39519d44b86a2e591f4e576475013"),onDragStart:e=>e.preventDefault()}),(0,i.jsx)(mp,{label:(0,V.t)("dev_handoff.inspect_panel.property_suggestions.title"),description:(0,V.t)("dev_handoff.inspect_panel.property_suggestions.body"),onClick:ne.KQ})]}),(0,i.jsxs)("div",{className:ma,children:[(0,i.jsx)("img",{alt:"",className:mr,src:(0,H.ck)("4b9430b030179277555a6fe2114ceffc0f49ed61"),onDragStart:e=>e.preventDefault()}),(0,i.jsx)(mp,{label:(0,V.t)("dev_handoff.inspect_panel.block_suggestions.title"),description:(0,V.t)("dev_handoff.inspect_panel.block_suggestions.body"),onClick:ne.lk})]})]})}function mv(){return(0,i.jsxs)("div",{className:ms,children:[(0,i.jsxs)(m_,{forSmallScreen:!0,containerClassName:mo,children:[(0,i.jsx)(mi.J,{}),(0,i.jsx)(cN.Fe,{}),(0,i.jsx)(uV.G,{}),(0,i.jsx)(cz.t,{}),(0,i.jsx)("div",{className:ml,children:(0,i.jsx)(u5,{})})]}),(0,i.jsx)(m_,{forSmallScreen:!1,containerClassName:md,children:(0,i.jsx)(u5,{fillContainer:!0})})]})}function mb(){return(0,i.jsxs)("div",{className:"inspect_tabs--assetsContainer--ETjja",children:[(0,i.jsx)(uU,{}),(0,i.jsx)(cK.L,{})]})}function mC(){return(0,i.jsxs)("div",{className:"inspect_tabs--componentsContainer--ERYGT",children:[(0,i.jsx)("div",{className:"inspect_tabs--componentsContent--qXnwd",children:(0,i.jsx)(si,{})}),(0,i.jsx)("div",{className:"inspect_tabs--componentsPreview--79zEW",children:(0,i.jsx)(pH.ul,{})})]})}function mE({setActiveTabId:e}){let t=(0,r.wA)(),n=(0,aP.Um)(),o=a.useRef(null),[d,c]=(0,l.fp)(sM),u=(0,iL.U)(),p=(0,rC.Nf)()??"",m=(0,n5.eY)().get(p),h=document.getElementById("dev-handoff-inspect-panel"),f=n?.type===mu;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:o,children:(0,i.jsx)(rh.d,{onClick:function(){f?t(aO.oB()):t(aO.j7({type:mu}))},"aria-expanded":f,htmlAttributes:{"data-tooltip":(0,V.t)("dev_handoff.add_dev_resource"),"data-tooltip-type":eQ.Ib.TEXT},"aria-label":(0,V.t)("dev_handoff.add_dev_resource"),children:(0,i.jsx)(ek.B,{svg:mc.A})})}),f&&o.current&&h&&(0,pU.createPortal)((0,i.jsx)(aM.j,{items:[{displayText:"Add link to code file...",action:"add_file_link"},{displayText:"Add link to dev resource... ",action:"add_link"}],onSelectItem:t=>{switch(t.action){case"add_file_link":e(s._gJ.DEV_RESOURCES),u("Dev Handoff Related Links Click Code File Link",{nodeId:p,nodeType:m?.type,source:"web"}),(0,ne.qE)();break;case"add_link":e(s._gJ.DEV_RESOURCES),c(!0)}},dispatch:t,parentRect:o.current.getBoundingClientRect(),showPoint:!1}),h)]})}function mj(){let e=(0,ro.ut)((0,_.tw)(),s._gJ.PRIMARY),t=(0,so.LS)(),n=(0,v.NM)(),o=(0,rC.ro)(),d=(0,l.md)(dt.be);!function(e){let t=(0,r.wA)();a.useEffect(()=>{let e=rY.D.getState().selectedView;e.variableIdForDetailsPanel&&t(aO.sf({...e,variableIdForDetailsPanel:void 0}))},[t,e])}([e,(0,v.uQ)()]);let c=n?[{id:s._gJ.ASSETS,title:(0,V.t)("dev_handoff.assets"),Component:mb,recordingKey:"extensionAssetsTab"}]:[{id:s._gJ.PRIMARY,title:(0,V.t)("inspect_panel.code.code"),Component:mx,recordingKey:"extensionCodeTab"}];return t&&(c.push({id:s._gJ.PROPERTIES,title:(0,V.t)("fullscreen.properties_panel.properties"),Component:mv,recordingKey:"extensionPropertiesTab"}),o&&c.push({id:s._gJ.COMPONENT,title:(0,V.t)("dev_handoff.inspect_panel.component"),Component:mC,recordingKey:"extensionComponentTab"}),c.push({id:s._gJ.DEV_RESOURCES,title:(0,V.t)("dev_handoff.developer_related_links"),Component:sV,recordingKey:"extensionRelatedLinksTab"}),c.push({id:s._gJ.ASSETS,title:(0,V.t)("dev_handoff.assets"),Component:mb,recordingKey:"extensionAssetsTab"})),c.push({id:s._gJ.PLUGIN,title:(0,V.t)("dev_handoff.tab.plugins"),Component:du,recordingKey:"extensionPluginsTab"}),a.useEffect(()=>{c.find(t=>t.id===e)||(0,_.ax)(s._gJ.PRIMARY)},[e,t]),(0,i.jsxs)(mn.zN,{children:[(0,i.jsxs)("div",{className:"inspect_tabs--tabsBar--nbu1a",children:[(0,i.jsx)(nN.P,{innerClassName:"inspect_tabs--tabs--w8XOI",minContentWidth:100,children:c.map(t=>(0,i.jsx)(dE,{text:t.title,isActive:e===t.id,recordingKey:t.recordingKey,onClick:()=>{var e;return e=t.id,void(0,_.ax)(e)},isSingle:1===c.length},t.title))}),(0,i.jsxs)("div",{className:"inspect_tabs--rightButtons--HeXhW",children:[d&&(0,i.jsx)(iI.K,{htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("dev_handoff.inspect_panel.close_plugin")},"aria-label":(0,V.t)("dev_handoff.inspect_panel.close_plugin"),onClick:()=>{(0,ie.wY)()},children:(0,i.jsx)(iA.A,{})}),(0,i.jsx)(on,{}),(0,i.jsx)(mE,{setActiveTabId:_.ax})]})]}),c.map(t=>(0,i.jsx)("div",{className:"inspect_tabs--activeTabContainer--LBYjQ",style:{display:e===t.id?void 0:"none"},children:(0,i.jsx)(t.Component,{})},t.title))]})}var mw=n(454921),mT=n(220638);let mk=(0,a8.jz)(lM.YI7),mI=()=>.75*window.innerHeight,mS=(0,a8.jz)(lM.Qhc);function mN(){let[e,t]=(0,nI.Vc)("extension_bottom_panel_expanded",!0),[n,r]=(0,l.fp)(pP.g),[d,c]=a.useState(!1),u=(0,v.uQ)(),p=(0,ro.J2)(s.Ez5.devHandoffState().focusMode),m=(0,ro.J2)((0,T.UK)().devHandoffInspectSplitPosition);a.useEffect(()=>{let t;t=e?n:mk,(0,T.UK)().devHandoffInspectSplitPosition.set(t)},[e]);let h=a.useCallback(()=>{c(!0)},[]),f=a.useCallback(e=>{if(d){var t;let n=(t=window.innerHeight-e.clientY,Math.max(mk,Math.min(mI(),t||0)));n!==m&&((0,T.UK)().devHandoffInspectSplitPosition.set(n),r(n))}},[d,m,r]),g=a.useCallback(()=>{c(!1)},[]);return a.useEffect(()=>(document.addEventListener("mousemove",f),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)})),(0,i.jsxs)("div",{id:"dev-handoff-inspect-panel",className:ew()("vscode","extension_bottom_panel--container--zaRdX",eI.Dm,e&&"extension_bottom_panel--isOpen--m5UfA"),style:{height:`${m}px`},children:[(p||(0,o.kc)().dt_vscode_ready_for_dev)&&(0,i.jsx)("div",{className:ew()("extension_bottom_panel--buttons--itG9x","extension_bottom_panel--buttonsNewUx--qjtmo"),children:(0,i.jsx)(pR,{})}),(0,i.jsxs)("div",{className:"extension_bottom_panel--header--ZmzTG",children:[e&&(0,i.jsx)("div",{className:"extension_bottom_panel--edge--cuoAZ",onMouseDown:h,onDoubleClick:()=>{(0,T.UK)().devHandoffInspectSplitPosition.set(mS+mk),r(mS+mk)}}),(0,i.jsx)(pB,{isToolbarOpen:e}),u&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(pj,{})}),(0,i.jsxs)("div",{className:ew()("extension_bottom_panel--headerRightButtons--qVDj-",F.s.pt4.$),children:[(0,i.jsx)(tS.pm,{}),(0,i.jsx)("button",{onClick:function(){t(!e)},style:{width:"32px"},children:(0,i.jsx)(ek.B,{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":e?(0,V.t)("dev_handoff.vscode.inspect_panel.hide_inspect_tooltip"):(0,V.t)("dev_handoff.vscode.inspect_panel.show_inspect_tooltip"),svg:e?mT.A:mw.A,autosize:!0})})]})]}),(0,i.jsx)("div",{className:"extension_bottom_panel--transitionContainer--5UlLL",style:{maxHeight:`${m-mk}px`},children:(0,i.jsx)(mj,{})})]})}var mA=n(106612),mL=n(886017),mO=n(149073),mR=n(116285),mP=n(754695),mM=n(225125),mD=n(777387),mF=n(554311),mB=n(890564),mU=n(469229),mH=n(7087),mV=n(703678);let mG="floating_layers_panel--isSymbol--3KTvH",mz="floating_layers_panel--layerName--LBYru";function mK(){let e=(0,ro.J2)((0,T.UK)().showGuids),t=(0,v.Tv)(),n=(0,x.Gj)((e,t)=>t&&e.get(t),t[0]||null),d=!!n&&["SYMBOL","INSTANCE"].includes(n.type),{inspectableRootNodeId:c,didSelectRow:u}=l2((0,ro.J2)(s.Ez5.devHandoffState().currentNodeId),t[0]||null),p=(0,r.d4)(e=>e.mirror.appModel.currentPage),m=c||p,h=(0,l.Xr)(lH),f=[{displayText:(0,V.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>h([m])}],g=(0,ro.J2)(s.Ez5.devHandoffState().automaticIconDetection),_=!!(0,o.kc)().dt_insp_impr_assets||g,y=a.useMemo(()=>t.length>0&&t[0]?s.w3z?.getAssetInfo(t[0]):null,[t]);return 0!==t.length&&n?(0,i.jsx)(mV.P,{title:t.length>1?(0,i.jsx)("div",{className:mz,children:(0,V.tx)("dev_handoff.workflows.focus_view.multiple_layers_selected",{count:t.length})}):(0,i.jsxs)("div",{className:ew()(mz,{[mG]:d}),children:[n.name,e?` (${n.guid})`:""]}),nodeIcon:(0,i.jsx)("div",{className:ew()("floating_layers_panel--layersIcon--q0eoA",{[mG]:d}),children:(0,i.jsx)(lP.rI,{node:n,showIcons:_,assetInfo:y})}),panelActions:(0,i.jsx)(lO.U,{dropdownItems:f}),children:(0,i.jsx)(lV,{inspectableRootNodeId:c,didSelectRow:u,page:p,hideHeader:!0})}):null}var mW=n(933688),mZ=n(882243),mq=n(950241),mX=n(567253),mY=n(235764),mJ=n(758052);let mQ=a.memo(function(e){let{value:t,setValue:n,hasHug:r,isSection:l,isComponentSet:d}=function(e,t){let{Sprig:n}=(0,mM.A)(),i=(0,n5.eY)(),{pxValue:r,hasHug:l,isSection:d,isComponentSet:c}=(0,x.wA)((e,t,n)=>{let i=e.get(t);return i?{pxValue:"width"===n?i.size.x:i?.size.y,hasHug:"width"===n?i.stackHorizontalLayoutSize===s.mKm.HUG_CONTENT:i.stackVerticalLayoutSize===s.mKm.HUG_CONTENT,isSection:i.isSection,isComponentSet:i.isStateGroup}:{value:0,hasHug:!1}},e,t),u=(0,eJ.QO)(void 0,r),p=(0,eJ.$Q)(),m=(0,iL.hC)();return{value:u,setValue:a.useCallback((a,r)=>{(0,mY.N)(()=>{cQ.l7.user("focus-view-size-input",()=>{let l=i.get(e),d=p(a)??a;if(l){let e=!(0,o.kc)().dt_multi_node&&!(0,d0.s4)(),i=()=>{s.glU?.setNodeIdSizeWithAnchor(l.id,d.toString(),"width"===t?s._0v.X:s._0v.Y,s.eVK.MIDDLE_CENTER)&&r&&(m("dev_mode.focus_view.resizing",{node_id:l.id,node_type:l.type,dimension:t,source:"top bar"}),n("track","interactive_inspection_action"),s.glU?.commit())};e?i():(0,mZ.n)(i)}})})},[i,e,p,t,m,n]),hasHug:l,isSection:d,isComponentSet:c}}((0,sz.hA)(),e.dimension),c=(0,mX.KG)({key:e.dimension,setValue:n}),u=l?(0,V.t)("dev_handoff.workflows.focus_view.resizing_disabled_section"):d?(0,V.t)("dev_handoff.workflows.focus_view.resizing_disabled_component_set"):r?(0,V.t)("dev_handoff.focus_view.resize_disabled_hugged_element"):"";return(0,i.jsx)(mW.E,{name:`focus_view_${e.dimension}_input`,children:(0,i.jsx)(mq.$j,{disabled:l||d||r,inputClassName:mJ.hF,isTokenizable:!0,value:t??0,...c,"data-tooltip":u,"data-tooltip-type":eQ.Ib.TEXT,min:(0,o.kc)().editor_zero_width_input?eI.ak:void 0,noBorderOnHover:!0,onBlur:e.onBlur,onFocus:e.onFocus,recordingKey:`focus_view_${e.dimension}_input`,children:(0,i.jsx)("span",{className:`focus_view_size_input--sizeContrainedLabel--uOo68 ${mJ.QK} svg`,children:"width"===e.dimension?(0,V.t)("fullscreen.properties_panel.transform_panel.w"):(0,V.t)("fullscreen.properties_panel.transform_panel.h")})})})}),m$="focus_canvas_ui--sideSection--s-sMs";function m0(){!function(){let{Sprig:e}=(0,mM.A)(),t=(0,ro.ut)(s.w3z?.focusViewInteractiveInspectionState().isResizing,!1);a.useEffect(()=>{t&&e("track","interactive_inspection_action")},[t,e])}();let e=(0,iL.hC)(),t=(0,sz.hA)(),n=(0,x.Fk)((e,t)=>{let n=e.get(t);return n?.isSection},t),{selectFocusNodeForInteractiveInspection:o,doneChangingFocusNodeForInteractiveInspection:d}=function(){let e=(0,v.Tv)(),t=(0,r.d4)(e=>e.mirror.appModel.hoveredNode),[n,i]=(0,l.fp)(mD.hn),s=a.useCallback(()=>{i(mD.xX.STARTED)},[i]),o=a.useCallback(()=>{i(mD.xX.STOPPED)},[i]);a.useEffect(()=>{i(function(e,t){let n="-1:-1"!==t;return e!==mD.xX.STOPPED||n?e===mD.xX.HOVERED_NOTHING_AFTER_STOPPED&&n?mD.xX.IDLE:e:mD.xX.HOVERED_NOTHING_AFTER_STOPPED}(n,t))},[t,n,i]),a.useEffect(()=>()=>i(mD.xX.IDLE),[i]);let d=(0,lL.ZC)(e),c=d!==e;return a.useEffect(()=>{c&&n!==mD.xX.STARTED&&i(mD.xX.IDLE)},[c,d,i,n]),{selectFocusNodeForInteractiveInspection:s,doneChangingFocusNodeForInteractiveInspection:o}}(),c=(0,d0.Kv)();return(0,d0.s4)()?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"focus_canvas_ui--interactiveInspectionTools--k17Pz","data-onboarding-key":d2,children:[(0,i.jsxs)("div",{className:"focus_canvas_ui--inputContainer--mjxzu",children:[(0,i.jsx)(mQ,{dimension:"width",onFocus:o,onBlur:d}),(0,i.jsx)(mQ,{dimension:"height",onFocus:o,onBlur:d})]}),(0,i.jsx)(mH.M,{consumptionTarget:e2.Jo.FOCUS_NODE,showLibrarySets:!1,onModalWillOpen:o,onModalDidClose:d,displayModeDropdown:!0}),(0,i.jsx)(nl.f,{"aria-label":(0,V.t)("dev_handoff.workflows.focus_view.reset_button_tooltip"),onChange:()=>{s.w3z?.resetFocusViewInteractiveInspection(),e("dev_mode.focus_view.reset_changes",{node_id:t,node_type:n?"SECTION":"FRAME"})},disabled:!c,checked:c,variant:"highlighted",onIcon:(0,i.jsx)(mL.K,{}),offIcon:(0,i.jsx)(mL.K,{}),recordingKey:"focus_view_reset_button"})]}),(0,i.jsx)(d9,{})]}):null}function m1(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.versionHistory),{Dropdown:n,toggleDropdown:a,dropdownTargetRef:l,isDropdownShown:d}=(0,rH.B)("FOCUS_MODE_NAME_DROPDOWN"),c=(0,I.q5)(),u=(0,v.uQ)(),p=(0,sz.hA)(),m=(0,o1._6)(),h=(0,so.$A)(m)?m.focusViewBackNavigation:void 0,f=(0,sK.TP)(h?.toEditorType),g=(0,K.U)("focus_view_show_on_page"),_=(0,sK.TQ)(h?.toEditorType),y=(0,x.Fk)((e,t)=>{let n=e.get(t);return n?.canHaveStatus&&n?.hasStatus},p),b=[{displayText:(0,V.t)("dev_handoff.workflows.focus_view.show_canvas"),recordingKey:"dev_handoff.focus.show_on_page",callback:function(){"editorType"in f&&f.editorType===cL.nT.Design&&g("design"),t.activeId&&t.activeId!==cl.V_&&e((0,cl.Eg)()),_("Dev Mode Focus View Go To Canvas Clicked",p)}},{displayText:(0,V.t)("dev_handoff.workflows.focus_view.copy_link"),recordingKey:"dev_handoff.focus.copy_link",callback:()=>{e(rB.lW({stringToCopy:(0,t8.jN)({file:c,nodeId:u,isDevHandoff:!0,devModeFocusId:p,isReadOnly:!0,isFigJam:!1,attributionContext:null})}))}},...(0,o.kc)().dt_interactive_inspection_m2&&y?[{displayText:"",separator:!0},{action:"remove-status-in-focus-view",displayText:(0,V.t)("fullscreen_actions.remove-status-in-focus-view"),recordingKey:"dev_handoff.focus.remove_status",callback:()=>{rr.Y5.triggerActionEnum(s.rcl.REMOVE_STATUS_IN_FOCUS_VIEW)}}]:[]];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:l,children:(0,i.jsx)(rh.d,{"aria-expanded":d,recordingKey:"dev_handoff.focus.options",onClick:a,"aria-label":(0,V.t)("dev_handoff.workflows.more_actions_tooltip"),htmlAttributes:{"data-tooltip-type":eQ.Ib.TEXT,"data-tooltip":(0,V.t)("dev_handoff.workflows.more_actions_tooltip")},children:(0,i.jsx)(rf.J,{})})}),(0,i.jsx)(n,{items:b,showPoint:!0})]})}function m2(){let e=(0,r.wA)(),t=(0,T.UX)(),n=(0,sz.hA)(),{isSection:d,focusNodeName:c}=(0,x.Fk)((e,t)=>{let n=e.get(t);return{isSection:n?.isSection,focusNodeName:n?.name}},n),u=(0,x.Fk)(e=>e.getCurrentPage()?.name),p=(0,I.tS)(),m=(0,r.d4)(e=>e.versionHistory),h=(0,mB.QV)(),g=(0,iL.U)(),y=(0,K.U)("focus_view_back"),v=(0,ro.ut)((0,_.aY)(),s.FAf.DESIGN),[,b]=(0,l.fp)(sW._o),[C]=(0,l.fp)(sW.wz),j=(0,E.xo)(),w=a.useRef(null),k=(0,r.d4)(e=>(0,so.$A)(e.selectedView)?{...e.selectedView,editorType:e.selectedView.focusViewBackNavigation?.toEditorType??e.selectedView.editorType,showOverview:e.selectedView.focusViewBackNavigation?.toOverview??!0,focusViewBackNavigation:void 0,devModeFocusId:void 0}:e.selectedView),S=(0,r.d4)(e=>(0,mU.Np)(e,k)),N=k.showOverview?(0,V.t)("dev_handoff.workflows.focus_view.back_to_rfd_tooltip"):(0,V.t)("dev_handoff.workflows.focus_view.back_to_page_tooltip");if((0,f.h)(()=>{w.current?.focus(),n&&s.w3z.focusOnNode(n,!1),v===s.FAf.PROTOTYPE&&(0,_.NT)(s.FAf.DESIGN),(0,o.kc)().dt_workflows_recently_viewed&&p&&n&&h(p,n),g("Dev Mode Focus View Shown",{source:C||"init",node_id:n,node_type:d?"SECTION":"FRAME"},{forwardToDatadog:!0})}),!n)return null;let A=m.activeId&&m.activeId!==cl.V_;return(0,i.jsxs)("div",{ref:w,className:"focus_canvas_ui--container--YwKdJ",style:(0,pS.T)()&&(0,o.kc)().dt_vscode_ready_for_dev?{paddingTop:"0px",paddingBottom:"0px"}:{paddingRight:t},tabIndex:-1,children:[(0,i.jsx)("div",{className:"focus_canvas_ui--background--jKiDi"}),(0,i.jsxs)("div",{className:"focus_canvas_ui--header--gxex-",style:(0,pS.T)()&&(0,o.kc)().dt_vscode_ready_for_dev?{margin:"0px",border:"none"}:void 0,children:[(0,i.jsxs)("div",{className:m$,children:[(0,i.jsx)(nS.lt,{className:"focus_canvas_ui--backLink--oBW-6","data-onboarding-key":ca,onClick:function(t){t.preventDefault();let n="editorType"in k&&k.editorType===cL.nT.Design;!("showOverview"in k&&k.showOverview)&&n&&y("design"),e(aO.sf(k)),m.activeId&&m.activeId!==cl.V_&&e((0,cl.Eg)());let i="unknown";"fullscreen"===k.view&&(i=k.showOverview?"overview":k.editorType===cL.nT.Design?"design_canvas":"dev_mode_canvas"),b("focus_close_clicked"),g("Dev Mode Focus View Close Clicked",{target:i})},href:S,recordingKey:"dev_handoff.workflows.focus.back_link","aria-label":N,"data-tooltip":N,"data-tooltip-type":eQ.Ib.TEXT,children:(0,i.jsx)(mO.C,{})}),(0,i.jsx)("div",{className:"focus_canvas_ui--pageBreadcrumb--ZLVL8",children:(0,i.jsx)("span",{className:"focus_canvas_ui--pageBreadcrumbLabel--BPMXr",children:u})}),(0,i.jsx)("span",{className:"focus_canvas_ui--breadCrumbSeparator--tkhRI",children:"/"}),(0,i.jsxs)("div",{className:"focus_canvas_ui--nodeName--kuQ54","data-onboarding-key":ct,children:[d?(0,i.jsx)(mR.c,{}):(0,i.jsx)(mP.q,{})," ",(0,i.jsx)("span",{className:"focus_canvas_ui--nodeNameLabel--f7DnW",children:c})]})]}),(0,i.jsx)("div",{className:"focus_canvas_ui--middleSection--zKEBR",children:(0,i.jsx)(m0,{})}),(0,i.jsxs)("div",{className:ew()(m$,"focus_canvas_ui--right--HaugW"),children:[(0,i.jsx)(m1,{}),!A&&(0,i.jsx)(mF.p,{nodeId:n,sourceForLogging:"focus-ui",onboardingKey:cn})]})]}),(0,i.jsx)("div",{className:"focus_canvas_ui--viewportContainer--E-aVJ",style:(0,pS.T)()&&(0,o.kc)().dt_vscode_ready_for_dev?{margin:"0px"}:void 0}),!(0,pS.T)()&&(0,i.jsx)(mK,{}),!(0,pS.T)()&&!j&&(0,i.jsx)(cr,{})]})}function m3(){let e=(0,E._I)(),t=(0,n5.aV)(),n=(0,r.d4)(e=>e.mirror.appModel.showUi),o=(0,n7.iZ)(),d=(0,r.wA)(),c=(0,n4.I)();(0,it.X_)(),(0,n6.z)({topLevelMode:s.lyf.DEV_HANDOFF,eventName:"Dev Handoff Selection Changed"});let u=(0,I.tS)()??"";return((0,a.useEffect)(()=>{let e=()=>{(0,ie.wY)().then(()=>{(0,n8.s2)({userID:o?.id??"",openFileKey:u})})};return e(),e},[e,u,o?.id]),(0,a.useEffect)(()=>{let e;return c||(e=setTimeout(()=>{ii.sr.enrollUserInStatusChange({fileKey:u})?.then(e=>{let t=l.zl.get(n0.D);e.data?.meta?.newEnrollment&&!t&&d(n$.jK({userId:o?.id??"",fileKey:u}))})},5e3)),()=>{e&&clearTimeout(e)}},[u,o?.id,d,c]),t||!n)?null:c?(0,i.jsx)(ns,{}):(0,i.jsx)(m6,{})}function m5(){return(0,ib.O)(),null}function m4(){let e=(0,sz.l7)(),t=(0,no.e)(),n=(0,sz.hA)(),a=(0,E._I)(),r=(0,n2.T)(),s=(0,sz.X0)(),o=(0,N.Ye)(),l=(0,iE.HY)(),d=(0,iE.nb)(),c=(0,iE.sG)(),u=[(0,i.jsx)(iC.LP,{},"file"),(0,i.jsx)(iC._L,{},"find")];return!n&&(a||e)?(0,i.jsxs)("div",{className:"devHandoffLeftPanel displayContents",children:[l&&(0,i.jsx)(iE.ur,{canvasInteractions:u}),(0,i.jsx)(eO.Q,{ignoreRulers:e,shouldAnimate:!r,...d,children:o?(0,i.jsx)(eN.s,{}):(0,i.jsxs)(eS.$,{...c,children:[!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eN.s,{}),(0,i.jsx)(eL.n,{})]}),(0,i.jsx)(eA.d,{shouldUseBottomBorder:!s&&!t}),e?(0,i.jsx)(m9,{}):t?(0,i.jsx)(nG,{}):(0,i.jsx)(m7,{})]})})]}):null}let m6=a.memo(function(){a.useEffect(()=>c9.K,[]);let e=a.useMemo(()=>k.z4.getIsExtension(),[]),t=(0,sz.l7)(),n=(0,no.e)(),s=(0,d.D)(),l=!!(0,sz.hA)()&&s&&!t&&!n,u=(0,E.xo)();return(0,ij.uj)(),(0,ij.vy)(),a.useEffect(()=>{(0,n1.px)().prepareVmIfNeeded()},[]),(0,mA.W)(1700),!function(){let e=(0,d.D)(),t=(0,n9.f)("dev_mode_notified_of_approved_org_request"),n=(0,r.wA)();a.useEffect(()=>{e&&!t&&n(nQ.b({dev_mode_notified_of_approved_org_request:!0}))},[n,e,t])}(),(0,i.jsxs)(c.si,{children:[e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(mN,{}),(0,o.kc)().dt_vscode_ready_for_dev&&(0,i.jsx)(m2,{})]}):(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(m2,{}),!t&&!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(pp,{}),!u&&(0,i.jsx)(ia.p,{children:(0,i.jsx)(aQ,{})}),!u&&(0,i.jsx)(ia.p,{children:(0,i.jsx)(ix,{})}),(0,i.jsx)(m5,{})," "]})]}),(0,i.jsx)(C.uL,{})]})});function m7(){let e=(0,n3.L3)();return(0,i.jsx)(i.Fragment,{children:e?(0,i.jsx)(iy.EA.Provider,{value:!1,children:(0,i.jsx)(iv.f,{showFilter:!0})}):(0,i.jsx)(l4,{})})}function m9(){return(0,i.jsx)(l4,{})}},944380:(e,t,n)=>{n.d(t,{o:()=>I});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(725837),l=n(409019),d=n(472088),c=n(192075),u=n(549571),p=n(249586),m=n(643077),h=n(962212),f=n(211862),g=n(629560),_=n(85598),x=n(383310),y=n(65554),v=n(90453),b=n(137783),C=n(748672),E=n(502047),j=n(481836),w=n(118752),T=n(742549),k=n(691952);function I(){let e=(0,T.l7)(),t=(0,l.F)(e),n=(0,x.n0)(),I=(0,E.K)(),S=(0,f.tS)(),{height:N,setHeight:A,isOpen:L,setIsOpen:O,devHandoffShowAllPages:R,setDevHandoffShowAllPages:P}=(0,j.d)({defaultIsOpen:n.length>1}),M=(0,l.F)(L);(0,a.useLayoutEffect)(()=>{e&&O(!0)},[e,O]);let D=(0,r.Pj)(),F=a.useCallback(()=>{if(t.current)return;let e=!M.current;(0,p.ds)("pages_panel_open_toggle",S,D.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),O(e)},[S,M,O,t,D]),{pagesToDisplay:B,showAllButton:U}=function({pagesList:e,showAll:t,setShowAll:n}){let a=(0,u._I)(),r=(0,m.dh)();if(!a)return{pagesToDisplay:e};let o=!1,l=e.filter(e=>{let t=s.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(o=!0),t||e.nodeId===r});return o&&l.length!==e.length?t?{pagesToDisplay:e,showAllButton:(0,i.jsx)(d.d,{label:(0,c.t)("dev_handoff.pages.hide_other"),onClick:()=>n(!1)})}:{pagesToDisplay:l,showAllButton:(0,i.jsx)(d.d,{label:(0,c.t)("dev_handoff.pages.show_all"),onClick:()=>n(!0)})}:{pagesToDisplay:e}}({pagesList:n,showAll:R,setShowAll:P}),H=!(0,h.T)(),V=y.uF+72+32,G=(0,x._4)(),z=(0,r.wA)(),K=(0,a.useCallback)(()=>{(0,w._$)(z,o.D.getState().selectedView,"overview_search_clicked"),G()},[z,G]),W=(0,_.HY)();return(0,i.jsxs)(v.A,{isFullHeight:!1,children:[(0,i.jsx)(k.$,{devFocusedOnboarding:!0}),S&&(0,i.jsx)(g.QU,{fileKey:S}),(0,i.jsx)(C.R,{extraControls:(0,i.jsx)("div",{className:"dev_handoff_page_selector--showMoreContainer--d2XTe",children:U}),filterState:R?b.m.ALL:b.m.FILTERED,height:N,isOpen:L,isReadOnly:!0,onCanvasSearch:W?void 0:K,onHeightChange:A,onPageContextMenu:I,onToggle:F,pages:B,panelHeadersHeight:V,shouldHighlightActivePage:!e,showHeader:H})]})}},83734:(e,t,n)=>{n.d(t,{Xn:()=>b,dU:()=>E,xY:()=>C});var i=n(716976),a=n(903927),r=n(795033),s=n(357524),o=n(883765),l=n(76616),d=n(166887),c=n(744374),u=n(315361),p=n(373550),m=n(366535),h=n(553065),f=n(74620),g=n(211862),_=n(592726),x=n(835307),y=n(312387),v=n(260309);function b(e){let t=(0,u.uQ)(),{backingSymbolGUID:n}=(0,v.$)([e??""]),r=i.useMemo(()=>null===n||(0,h.gl)(n)?null:n,[n]),s=(0,a.wA)();return i.useCallback(()=>{e&&r&&(l.sn.reset("dev_handoff.view_history",e),l.sn.start("dev_handoff.view_history",{key:e}),(0,o.sx)("Diff Modal Compare Changes Clicked",{nodeId:e,mainComponentNodeId:r,origin:"cc_overrides"}),s(m.to({type:y.ku,data:{changeNodeId:e,basisNodeId:r,initialSelectedNodeId:t&&t!==e?t:void 0,isComparingOverrides:!0}})))},[s,t,e,r])}function C(e){let t=(0,c.wS)(),n=(0,u.uQ)(),r=(0,a.wA)(),s=(0,d.U)();return i.useCallback(()=>{n&&"loaded"===t.status&&(s("Diff Modal Compare Changes Clicked",{nodeId:n,origin:"cc_detached_component"}),l.sn.reset("dev_handoff.view_history",n),l.sn.start("dev_handoff.view_history",{key:n}),r(m.to({type:y.jo,data:{nodeId:n,detachedInfoStatus:t,origin:e}})))},[n,t,s,r,e])}function E(e,t){let n=_.iZ()?.id,d=(0,u.uQ)(),c=(0,x.Fk)((e,t)=>e?.get(t??"")?.name.trim(),d),h=(0,g.tS)(),v=(0,a.wA)(),b=(0,r.md)(p.d),C=(0,f.eY)();return i.useCallback(()=>{if(l.sn.reset("dev_handoff.view_history",e||void 0),l.sn.start("dev_handoff.view_history",{key:e||void 0}),(0,o.sx)("Diff Modal Compare Changes Clicked",{userId:n,fileKey:h,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,s.BJ)(C,e,!0);if(t){let n=t.lastEditedAt;b[e]=new Date(n),r.zl.set(p.d,{...b})}}v(m.to({type:y.EH,data:{nodeId:e,layerName:c}}))},[t,v,h,e,c,C,b,n])}},314838:(e,t,n)=>{n.d(t,{ul:()=>_});var i=n(104076),a=n(716976),r=n(266808),s=n(264993),o=n(511570),l=n.n(o),d=n(983500),c=n(451837),u=n(165505),p=n(744374),m=n(454273),h=n(763286),f=n(347080);let g=(0,d.jz)(f.devHandoffComponentPreviewMaxHeight);function _({overPropTable:e,overPlaygroundButton:t}){let n=(0,c.rL)(),o=(0,m.ro)(),d=n-64,f=function(e,t=g){let n=(0,p.wS)(),i=(0,m.lA)(),o="loaded"===n.status&&n.result.dataComponentId?n.result.dataComponentId:i?.guid,l=(0,u.c6)(o),d="loaded"===n.status&&"temp-scene"===n.result.dataLocation,c=4*e,h=4*t;return a.useMemo(()=>{if(!o)return;let e=r.glU.getDefaultStateForLocalStateGroup(o)||o;if(!(0,s.fn)((0,s.sH)(e)))return;let[t,n]=r.Vzr.generateThumbnailForNode(e,c,h,4,{forceContentsOnly:!0,inDetachedComponentsScene:d});if(!n||0===n.length||!t)return;let{width:i,height:a}=t;return{url:URL.createObjectURL(new Blob([n])),backgroundStyle:l,renderWidth:i/4,renderHeight:a/4}},[l,d,o,h,c])}(d);if(!o)return null;let _=f?.renderWidth??d,x=f?.renderHeight??g;return(0,i.jsx)("div",{className:l()("component_preview_panel--componentPreviewContainer--aKLR0 common--well--J0WtH",{"component_preview_panel--overPropTable--c8HQR":e,"component_preview_panel--overPlaygroundButton--cn0Sd":t&&!e}),style:f?.backgroundStyle,children:f?.url&&(0,i.jsx)(h.J,{className:"component_preview_panel--componentPreviewImage--AZj5d",src:f.url,style:{maxWidth:_,maxHeight:x}})})}},371085:(e,t,n)=>{n.d(t,{g:()=>eT,m:()=>ek});var i=n(104076),a=n(716976),r=n(903927),s=n(684742),o=n(293422),l=n(883221),d=n(408944),c=n(776466),u=n(460705),p=n(266808),m=n(511570),h=n.n(m),f=n(883765),g=n(630615),_=n(192075),x=n(454273),y=n(929302),v=n(420680),b=n(91478),C=n(268389),E=n(827695),j=n(875700),w=n(305687),T=n(608341),k=n(23646),I=n(790009),S=n(980852),N=n(795033),A=n(1188),L=n(943568),O=n(72138),R=n(352630),P=n(3185),M=n(165505),D=n(744374),F=n(12606),B=n(443192),U=n(111297),H=n(74620),V=n(76365),G=n(894210),z=n(959834),K=n(739710),W=n(581993),Z=n(349951),q=n(876244),X=n(111679),Y=n(366535),J=n(805733),Q=n(211862),$=n(932709);function ee(){let e=(0,x.lA)();return(0,i.jsx)(et,{backingSymbol:e})}function et({backingSymbol:e}){let t=(0,r.wA)(),n=(0,Q._G)(),s=(0,J.b)({libraryKey:e?.sourceLibraryKey,nodeId:e?.publishID??void 0,mainComponent:!0}),o=(0,$.bj)(e?.sourceLibraryKey?[e?.sourceLibraryKey]:[]).data[0],l=o?.library_key??null,d=!!l&&l!==n,c=a.useMemo(()=>!!e&&p.Egt.nodeIsSoftDeleted(e.guid),[e]),u=a.useCallback(()=>{e&&(d?!!s.data?.link&&s.data?.type!=="community"&&t(X.V3({url:s.data.link})):(t(Y.AS()),p.glU.goToSymbolOrStateGroupById(e.guid,!1)))},[e,t,d,s.data]);return!e||c||d&&(!s.data?.link||s.data?.type==="community")?null:(0,i.jsx)(v.K,{onClick:u,"aria-label":e.isState?(0,_.t)("design_systems.playground.open_variant_in_library"):(0,_.t)("design_systems.playground.open_component_in_library"),htmlAttributes:{"data-tooltip":e.isState?(0,_.t)("design_systems.playground.open_variant_in_library"):(0,_.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":G.Ib.TEXT},children:(0,i.jsx)(q.E,{})})}var en=n(402776),ei=n(828244),ea=n(280817);let er="playground_modal--container--oiCFH",es="playground_modal--thumbnailContainer--ZaF9V",eo="playground_modal--thumbnail--JPv2M",el="playground_modal--propsContainer--CAA9y";var ed=n(230645);let ec=a.memo(({guid:e,...t})=>(0,i.jsx)(D.si,{children:(0,i.jsx)(eu,{guid:e,...t})})),eu=a.memo(({guid:e,...t})=>{let n;a.useEffect(()=>{e&&N.zl.set(ea.J,[e])},[e]);let s=(0,r.wA)(),o=(0,r.d4)(V.AF),l=(0,D.wS)(),d="loaded"===l.status&&"temp-scene"===l.result.dataLocation?l.result:void 0,c=(0,Z.oD)(),u=a.useCallback(()=>{s((0,F.vq)())},[s]),m=y.hS({...t,onClose:()=>{u(),(0,f.sx)("Playground closed"),t.onClose()}}),h=a.useMemo(()=>new S.qo(d?p.juq.DETACHED_COMPONENTS:p.juq.PLAYGROUND),[d]),g=(0,H.eY)(),x=a.useMemo(()=>{if(!c)return"";if("loaded"===l.status)return l.result.isVariant?l.result.dataStateGroupId??l.result.dataComponentId:l.result.dataComponentId;let e=c.nodeData?.playgroundGUID;return e?((0,K.Yi)([e],h)||(0,K.k4)([e],h))??"":""},[c,h,l]),E=a.useMemo(()=>h.get(x)?.name??"",[x,h]),{theme:z,invertTheme:q,callbackCount:X}=function(e){let t=(0,M.IO)(e,!0),n=a.useRef(t()),[i,r]=a.useState(n.current),[s,o]=a.useState(0),[l,d]=(0,N.fp)(Z.d8),[c,u]=a.useState(!0),p=a.useCallback(()=>{let e=t();return n.current=e,e},[t]);return a.useLayoutEffect(()=>{l&&c&&(r(e=>{let t=n.current,i=p();return"light"===t&&"dark"===i||"dark"===t&&"light"===i?"light"===e?"dark":"light":e}),d(!1))},[c,p,d,r,l]),{theme:i??n.current,invertTheme:()=>{u(!1),r(e=>"light"===e?"dark":"light"),o(e=>e+1)},callbackCount:s}}(e??x),Y=(0,r.d4)(e=>e.userFlags.dismissed_playground_banner),J=a.useCallback(()=>{s(B.b({dismissed_playground_banner:!0}))},[s]),Q=a.useCallback(()=>{c?.refetchAndResetScene()},[c]),$=a.useCallback(e=>{let t=(0,ea.n)(e,h,g),n=N.zl.get(ea.J);N.zl.set(ea.J,[...n,t]),p.glU.setPlaygroundSceneFromGuid(t??"")},[g,h]);if(!c||!o)return(0,i.jsx)(ep,{manager:m,theme:z});let{thumbnailData:et,nodeData:ec}=c;if(!ec)return(0,i.jsx)(ep,{manager:m,theme:z});let{playgroundGUID:eu,componentProps:em,modeData:eh}=ec,ef=h.get(eu);if(!et)return(0,i.jsx)(ep,{manager:m,theme:z});let eg=N.zl.get(ea.J);return eg.length>1&&(n=(0,i.jsx)(v.K,{onClick:()=>{let e=eg[eg.length-2];p.glU.setPlaygroundSceneFromGuid(e);let t=eg.slice(0,-1);N.zl.set(ea.J,t)},"aria-label":(0,_.t)("dev_handoff.playground.select_parent_instance"),htmlAttributes:{"data-tooltip":(0,_.t)("dev_handoff.playground.select_parent_instance"),"data-tooltip-type":G.Ib.TEXT},children:(0,i.jsx)(j.E,{})})),(0,i.jsx)(U.fu,{name:"Dev Mode Component Playground",children:(0,i.jsx)(b.bL,{manager:m,width:"fit-content",children:(0,i.jsxs)(C.vo,{children:[(0,i.jsx)(C.Y9,{children:(0,i.jsx)(C.hE,{children:(0,_.tx)("design_systems.playground.component_playground")})}),(0,i.jsx)(C.nB,{children:(0,i.jsxs)("div",{className:er,children:[(0,i.jsxs)("div",{className:es,style:(0,M.CU)(z),children:[(0,i.jsx)("img",{src:et.src,className:eo,width:et.width,height:et.height,alt:(0,_.t)("design_systems.playground.thumbnail_alt"),"data-testid":"playground-thumbnail"}),(0,i.jsx)(I.J,{mode:z,children:(0,i.jsx)("div",{className:"playground_modal--themeButton---BLzd",children:(0,i.jsx)(R.fX,{checked:"light"===z,onIcon:(0,i.jsx)(w.c,{}),offIcon:(0,i.jsx)(T.G,{}),"aria-label":(0,_.t)("design_systems.playground.change_background"),htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.playground.change_background"),"data-tooltip-type":G.Ib.TEXT},trackingProperties:{type:"Background toggle",color:z,index:X},onChange:q})})})]}),(0,i.jsxs)("div",{className:el,children:[(0,i.jsxs)("div",{className:"playground_modal--propsContainerHeader--oGDtk",children:[(0,i.jsxs)("div",{className:"playground_modal--propsContainerName--ZCWzH",children:[n,(0,i.jsx)("div",{className:"playground_modal--productComponentName--NaHb9 ellipsis--ellipsis--Tjyfa",children:E})]}),(0,i.jsxs)("div",{className:"playground_modal--propsContainerHeaderButtons--MPFZ-",children:["INSTANCE"===o.type&&(0,i.jsx)(ee,{}),(0,i.jsx)(v.K,{onClick:Q,"aria-label":(0,_.t)("design_systems.playground.reset_properties"),disabled:!c.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.playground.reset_properties"),"data-tooltip-type":G.Ib.TEXT},children:(0,i.jsx)(k.m,{})})]})]}),!Y&&(0,i.jsx)("div",{className:"playground_modal--bannerContainer--rQy3f",children:(0,i.jsx)(L.z,{orientation:"vertical",iconSrc:ed.A,variant:"dev",title:(0,_.t)("design_systems.playground.banner_header"),onClose:J,children:(0,_.tx)("design_systems.playground.banner_content")})}),(0,i.jsxs)(O.P,{children:[(0,i.jsxs)(H.q0.Provider,{value:h,children:[(0,i.jsx)("div",{className:"playground_modal--propsSectionContainer--3xF-J",children:(0,i.jsx)(ei.x,{containerWidth:K.O2.UNBOUNDED,componentProps:em,playgroundGUID:eu,productComponentGUID:x,sceneGraph:h,viewOnlyMode:ef?.isState?W.BK.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker"})}),(0,i.jsx)("div",{className:"playground_modal--modesSectionContainer--NaZ-S",children:(0,i.jsx)(en.b,{fill:!0,modes:eh||{}})})]}),(0,i.jsx)(A.tH,{boundaryKey:"Figmadoc",fallback:A.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,i.jsx)(P.Qd,{playgroundGUID:eu,onInstancePillClick:$})})]})]})]})})]})})})});function ep({manager:e,theme:t}){return(0,i.jsx)(U.fu,{name:"Dev Mode Component Playground",children:(0,i.jsx)(b.bL,{manager:e,width:"fit-content",children:(0,i.jsxs)(C.vo,{children:[(0,i.jsx)(C.Y9,{children:(0,i.jsx)(C.hE,{children:(0,_.tx)("design_systems.playground.component_playground")})}),(0,i.jsx)(C.nB,{children:(0,i.jsxs)("div",{className:er,children:[(0,i.jsx)("div",{className:es,style:(0,M.CU)(t),children:(0,i.jsx)("div",{className:eo})}),(0,i.jsx)("div",{className:el,children:(0,i.jsx)("div",{className:"playground_modal--propsContainerLoading--XO18-",children:(0,i.jsx)(E.k,{})})})]})})]})})})}let em=(0,z.Ju)(ec,"PlaygroundModal");var eh=n(802529),ef=n(553065),eg=n(371952),e_=n(564236),ex=n(896327),ey=n(728233),ev=n(664320),eb=n(314838);let eC="component_props_list--propertyValueTypeBool--9q87D";function eE(){return(0,i.jsx)("span",{className:"component_props_list--propertyNameSpacer--FdkL0"})}function ej(e){let t=(0,ey.Cm)(`${e.name}: ${e.value}`,e.name),[n,r]=a.useState(!1),o=(0,ex.X)(e.name),m=(0,ex.X)(e.value),f={[p.J0O.BOOL]:eC,[p.J0O.VARIANT]:void 0,[p.J0O.TEXT]:void 0,[p.J0O.INSTANCE_SWAP]:void 0,[p.J0O.NUMBER]:eC,[p.J0O.IMAGE]:eC,[p.J0O.SLOT]:void 0,[p.J0O.NONE]:void 0},g={[p.J0O.BOOL]:l.X,[p.J0O.VARIANT]:d.y,[p.J0O.TEXT]:c.I,[p.J0O.INSTANCE_SWAP]:u.M,[p.J0O.NUMBER]:l.X,[p.J0O.IMAGE]:l.X,[p.J0O.SLOT]:l.X,[p.J0O.NONE]:d.y}[e.type],x=(0,i.jsx)(g,{"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,K.xb)(e.type===p.J0O.NONE?p.J0O.VARIANT:e.type)})}),y=h()("component_props_list--propertyValue--eu4vE ellipsis--ellipsis--Tjyfa",f[e.type]);return(0,i.jsx)("div",{className:"component_props_list--copyableRow--N-YSu ellipsis--ellipsis--Tjyfa",onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},children:(0,i.jsx)(s.E,{className:"component_props_list--propertyRowButton--biwBU",onClick:t,htmlAttributes:{"data-testid":"inspectionPropertyRow"},children:(0,i.jsxs)("div",{className:"component_props_list--propertyRow--lpbBb",children:[e.name?(0,i.jsx)("span",{className:"component_props_list--propertyName--o49U9 ellipsis--ellipsis--Tjyfa","data-testid":"inspectionPropertyName",...o,"data-tooltip-tip-align-left":!0,children:e.name}):(0,i.jsx)(eE,{}),(0,i.jsxs)("span",{className:y,"data-testid":"inspectionPropertyValue",...m,"data-tooltip-tip-align-left":!0,children:[x,(0,i.jsx)(ey.lN,{valueProps:{...e,copyValue:e.value},isHovered:n})]})]})})})}function ew(){let e=(0,r.wA)(),t=(0,x.M4)(),n=a.useCallback(()=>{e(Y.to({type:em,data:{guid:t?.guid}})),(0,f.sx)("Playground opened")},[e,t?.guid]);return(0,i.jsx)("div",{className:"component_props_list--playgroundButtonContainer--q6-lJ","data-test-id":"openInPlaygroundButton",children:(0,i.jsx)(o.IK,{variant:"secondary",onClick:n,recordingKey:"openInPlayground",children:(0,_.tx)("dev_handoff.playground.explore_component_behavior")})})}function eT(e){let t=e.variables&&e.variables.value[e.name],n=t&&t.type===p.Z_n.ALIAS?t.value:void 0,a=(0,eg.u)(n);return(0,i.jsx)(ej,{type:e.type,name:e.name,value:e.value,variable:a?.name})}function ek(){let e=(0,r.d4)(V.Sh),t=a.useMemo(e_.z4,[]),{consumedVariable:n}=(0,ev.u3)(["VARIANT_PROPERTIES"]),s=function(e){if(!e||(0,ef.gl)(e)||e.type!==p.Z_n.EXPRESSION||e.value.expressionFunction!==p.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t?.type!==p.Z_n.MAP?null:t}(n),o=(0,r.d4)(n=>t(n,e)),l=Object.entries((0,ev.kN)()).filter(([e,t])=>t.modeOptions.length>1),{visibleItems:d,showMoreButton:c}=(0,g.y)({items:o,pageSize:3,shouldResetOnSelectionChange:!0}),u=o.length>0,m=u||l.length>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.ul,{overPropTable:u,overPlaygroundButton:m}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"component_props_list--propsList--VRadV",children:d.map(({name:e,value:t,type:n})=>(0,i.jsx)(eT,{type:n,name:e,value:t,variables:s??null},e))}),c]}),!eh.z4.getIsExtension()&&m&&(0,i.jsx)(ew,{})]})}},3185:(e,t,n)=>{n.d(t,{Qd:()=>eN});var i=n(104076),a=n(716976),r=n(903927),s=n(276800),o=n(475477),l=n(17933),d=n(962856),c=n(684742),u=n(293422),p=n(403809),m=n(790009),h=n(266808),f=n(926653),g=n(812714),_=n(795033),x=n(359166),y=n(883765),v=n(171971),b=n(755444),C=n(550209),E=n(943568),j=n(192075),w=n(265348),T=n(442130),k=n(762564),I=n(416381),S=n(166887),N=n(68106),A=n(412431),L=n(476949),O=n(742549);function R({children:e,componentCounts:t,entrypoint:n}){let r=(0,S.hC)(),s=(0,a.useRef)(null),o=(0,O.ju)();return(0,i.jsx)(u.IK,{ref:s,variant:"secondary",onClick:()=>{r("component_browser.in_context.window_opened",{all:t.all,connected:t.connected,ignored:t.ignored,notConnected:t.notConnected,componentBrowserEntrypoint:n}),o({componentBrowserEntrypoint:n,componentBrowserScope:"page"})},children:e})}var P=n(315361),M=n(301510),D=n(835307),F=n(697874),B=n(276347),U=n(910372);let H="component_browser_in_context_mapping_section--container--1v9i-",V="component_browser_in_context_mapping_section--badgeContainer---Gej6";function G({numComponents:e,componentCounts:t,isLoading:n,hasNoSelection:a,isSelectedNodeSectionOrFrame:r}){let s=t.connected+t.ignored;return(0,i.jsxs)("div",{className:"component_browser_in_context_mapping_section--panelAccessoryContainer--gzKmc",children:[(0,i.jsx)("div",{className:"component_browser_in_context_mapping_section--alphaTag--pyFLA",children:(0,i.jsx)(d.E,{variant:"defaultOutline",size:"md",children:(0,g.kc)().dt_component_browser_beta_features?(0,j.tx)("dev_handoff.component_browser.beta"):(0,j.tx)("dev_handoff.component_browser.alpha")})}),a&&t.connected>=1&&!n&&(0,i.jsx)("div",{className:"component_browser_in_context_mapping_section--progressBarContainer--pl7jn",children:(0,i.jsx)(L.O,{componentCounts:t,width:68})}),r&&(0,i.jsxs)(i.Fragment,{children:[0===e&&(0,i.jsx)("div",{className:V,children:(0,i.jsx)(d.E,{variant:"inactiveOutline",size:"md",children:(0,j.tx)("dev_handoff.component_browser.in_context_no_components")})}),e>=1&&!n&&(0,i.jsx)("div",{className:V,children:s===e?(0,i.jsx)(d.E,{variant:"componentOutline",size:"md",children:(0,j.tx)("dev_handoff.component_browser.in_context_num_connected",{number:t.connected})}):(0,i.jsx)(d.E,{variant:"inactiveOutline",size:"md",children:(0,j.tx)("dev_handoff.component_browser.in_context_num_not_connected",{number:t.notConnected})})})]})]})}function z(){let e=(0,S.hC)(),t=(0,_.md)(B.mO),n=(0,U.oA)(),{assetKeys:r}=(0,N.AR)(),s=new Set(r),l=function(e,t){if(!t||0===Object.keys(t.status).length)return{connected:0,ignored:0,notConnected:e.length,all:e.length,suggestionsAvailable:0};let n=e.map(e=>({assetKey:e})),i=0,a=0,r=0;return(n||[]).forEach(e=>{if(t.status[e.assetKey]){let n=t.status[e.assetKey];n&&("connected"===n?i++:"ignored"===n?a++:"not_connected"===n&&r++)}}),{connected:i,ignored:a,notConnected:r,all:i+a+r,suggestionsAvailable:0}}((0,A.kf)(s,n),t),{numComponents:d,totalWithStatus:c}=function(e){let t=Math.round(e.connected/e.all*100),n=Math.round(e.ignored/e.all*100),i=Math.round((e.ignored+e.connected)/e.all*100);return{numComponents:e.all,totalConnected:e.connected,totalWithStatus:e.connected+e.ignored,connectedPercentage:t,ignoredPercentage:n,connectedAndIgnoredPercentage:i,notConnectedPercentage:100-t-n}}(l),u=(0,a.useRef)(null),p=function(){let e=(0,P.uQ)();return(0,D.Fk)((e,t)=>{let n=e?.get(t??"");return n?.type==="TEXT"},e)}(),m=function(){let e=(0,P.uQ)();return(0,D.Fk)((e,t)=>{let n=e?.get(t??"");return n?.type==="SECTION"||n?.type==="FRAME"},e)}(),h=!(0,P.uQ)(),f=t?.loadingStatus==="loading",g=(0,M.w)(l);return((0,a.useEffect)(()=>{p||f||e("component_browser.in_context.inspect_panel_item_seen",g.current)},[e,p,f,g]),!p&&(m||h))?(0,i.jsxs)(F.VZ,{title:(0,j.t)("dev_handoff.component_browser.in_context_section_title"),recordingKey:"in_context_code_connect",collapsiblePanelKey:0===d?void 0:"in_context_code_connect",titleAccessory:(0,i.jsx)(G,{numComponents:d,componentCounts:l,isLoading:f,hasNoSelection:h,isSelectedNodeSectionOrFrame:m}),children:[h&&d>0&&(0,i.jsxs)("div",{ref:u,className:H,children:[(0,i.jsx)("div",{className:"component_browser_in_context_mapping_section--description--Eam3J",children:(0,j.tx)("dev_handoff.component_browser.in_context_section_body_description",{value:(0,i.jsx)(o.N,{newTab:!0,href:"https://docs.google.com/document/d/1IsJTLpqR1rRQfphfbotvWoYbtoaZExKpggeANRFmRI8/edit?tab=t.0#heading=h.t2s4u45z7gm6",children:(0,j.tx)("dev_handoff.component_browser.in_context_section_learn_more")})})}),(0,i.jsx)(R,{componentCounts:l,entrypoint:"inspect_panel",children:!t||f?(0,j.t)("dev_handoff.component_browser.in_context_section_map_components_button"):(0,j.t)("dev_handoff.component_browser.in_context_connect_components")})]}),m&&d>0&&(0,i.jsx)("div",{ref:u,className:H,children:(0,i.jsx)("div",{className:"component_browser_in_context_mapping_section--buttonContainer--BFRvn",children:(0,i.jsx)(R,{componentCounts:l,entrypoint:"inspect_panel",children:!t||f?(0,j.t)("dev_handoff.component_browser.in_context_section_map_components_button"):c===d?(0,j.t)("dev_handoff.component_browser.in_context_section_view_connections_button"):(0,j.t)("dev_handoff.component_browser.in_context_connect_components")})})})]}):null}var K=n(483663),W=n(653899),Z=n(328341),q=n(601887),X=n(280817),Y=n(772523),J=n(962212),Q=n(506192),$=n(74620),ee=n(211862),et=n(592726),en=n(932709),ei=n(564914),ea=n(415567),er=n(954741),es=n(337726),eo=n(9109);let el=new(n(722458)).b({name:"code-connect",dependencies:[],routeHints:[],exports:{"./code_connect_atoms":"./code_connect_atoms.ts","./figmadoc":"./figmadoc.ts","./figmadoc_preview":"./figmadoc_preview.ts","./typings":"./typings.ts","./code_connect_view":"./code_connect_view.ts","./preload_code_connect":"./preload_code_connect.ts","./format_code":"./format_code.ts"},friendFiles:[],eslint:{rules:{"@typescript-eslint/no-explicit-any":"off"}}}).createLazyComponent(()=>Promise.all([n.e(357),n.e(5568),n.e(9993)]).then(n.bind(n,462629)).then(e=>e.CodeConnectSection),{loading:()=>null,error:eo.H4.NONE,componentName:"CodeConnectSection"});var ed=n(566796),ec=n(10055),eu=n(58212),ep=n(638641);let em="component_info_table--componentsValue--2EDta";function eh({rows:e}){let t=(0,r.wA)(),n=a.useCallback(async(e,n)=>{try{await navigator.clipboard.writeText(e)}catch{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}t(eu.F.enqueue({type:"component-browser-copy-success",message:"component"===n?(0,j.t)("dev_handoff.component_browser_mapping_panel.componentNameCopied"):(0,j.t)("dev_handoff.component_browser_mapping_panel.sourceUrlCopied"),icon:ep.zX.CHECK}))},[t]),s=a.useCallback((e,t)=>{n("string"==typeof e?e:"",t?.includes("component")?"component":"source")},[n]);return(0,i.jsx)("div",{className:"component_info_table--container--0Rbv3",children:e.map((e,t)=>(0,i.jsxs)("div",{className:"component_info_table--componentsRow--Tb-K4",children:[(0,i.jsx)("div",{className:"component_info_table--componentsLabel---zHgA",children:e.label}),e.copyable?(0,i.jsx)("div",{className:em,children:(0,i.jsx)(c.E,{className:`${em} component_info_table--copyButton--0JVzQ`,onClick:()=>s(e.value,e.copyAriaLabel),"aria-label":e.copyAriaLabel,style:e.rtl?{direction:"rtl"}:{direction:"ltr"},children:e.value})}):(0,i.jsx)("div",{className:em,style:e.rtl?{direction:"rtl"}:{direction:"ltr"},children:e.value})]},t))})}function ef({doc:e}){let t=(0,K.Au)(),n=[...e.component?[{label:(0,j.t)("dev_handoff.component_browser.in_context_component_name"),value:"string"==typeof e.component?e.component:"",copyable:!0,copyAriaLabel:(0,j.t)("dev_handoff.component_browser_mapping_panel.copyComponentNameAriaLabel"),rtl:!1}]:[],{label:(0,j.t)("dev_handoff.component_browser.in_context_component_file"),value:"string"==typeof e.source?e.source:"",copyable:!0,copyAriaLabel:(0,j.t)("dev_handoff.component_browser_mapping_panel.copySourceUrlAriaLabel"),rtl:!0}];return(0,i.jsxs)("div",{className:"component_browser_mapping_panel--container--qcOm5",children:[(0,i.jsx)(eh,{rows:n}),(0,i.jsx)("div",{className:"component_browser_mapping_panel--buttonContainer---fyIW",children:(0,i.jsx)(u.IK,{variant:"secondary",onClick:t?()=>t():void 0,children:(0,j.t)("dev_handoff.component_browser_mapping_panel.viewConnectionButton")})})]})}let eg="figmadocs--buttonContainer---kUuz";var e_=n(663128);function ex({notConnected:e,skipped:t}){let n=(0,i.jsx)(o.N,{href:"https://www.figma.com/code-connect-docs/","aria-label":(0,j.t)("dev_handoff.figmadocs.learn_more"),trusted:!0,newTab:!0,children:(0,j.tx)("dev_handoff.figmadocs.learn_more")});return(0,i.jsx)(m.J,{brand:"dev-handoff",mode:"dark",children:(0,i.jsx)("div",{className:"figmadocs--ccBadgeTooltip--XMB48",children:e?(0,j.tx)("dev_handoff.figmadocs.not_connected_tooltip",{learnMore:n}):t?(0,j.tx)("dev_handoff.figmadocs.skipped_tooltip",{learnMore:n}):(0,j.tx)("dev_handoff.figmadocs.connected_tooltip",{learnMore:n})})})}let ey={boxShadow:"var(--elevation-500)",borderRadius:"var(--radius-medium)",backgroundColor:"var(--color-bg-tooltip)","--color-bg":"var(--color-bg-tooltip)"},ev={type:"dialog",openOnHover:!0,placement:"bottom-end",softDismiss:!0};function eb({hideTooltip:e}){let[t,n]=a.useState(!1),{getTriggerProps:r,getContainerProps:s,getArrowProps:o}=l.fP({isOpen:t,onOpenChange:n,...ev});return e?(0,i.jsx)(d.E,{variant:"componentOutline",children:(0,j.tx)("dev_handoff.figmadocs.connected")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.E,{"aria-label":(0,j.t)("dev_handoff.figmadocs.connected"),...r(),children:(0,i.jsx)(d.E,{variant:"componentOutline",children:(0,j.tx)("dev_handoff.figmadocs.connected")})}),(0,i.jsxs)(l.mc,{...s({style:ey}),children:[(0,i.jsx)(l.i3,{...o()}),(0,i.jsx)(ex,{})]})]})}function eC({doc:e,additionalHeaderActions:t,instanceFigmadocs:n,isPlayground:r,onInstancePillClick:o,copyButtonContainer:l,availableLabels:d,setSelectedLabel:c,dropdownShown:u,dispatch:p,dropdownIdToUse:m}){let _=(0,et.iZ)(),x=(0,ee.q5)(),v=(0,P.uQ)(),I=(0,$.eY)(),{backingNodeId:S,backingComponentKey:N,backingStateGroupKey:A,backingLibraryKey:L}=(0,ed.HX)(v??"",I,null),O=(0,$.T3)();r&&(I=O);let R=(0,T.Ur)(e.template,n,r),M=(0,f.l)(L??""),D=function(e){let t=(0,en.bj)([e]).data[0],n=null;return t&&((0,ei.ZA)(t)&&(0,ei.xA)(t)?n=t.hub_file_id:"library_file_key"in t&&(n=t.library_file_key)),n}(M),B=function(e){let t=en.bj([e])?.data?.[0];return!!t&&(0,ei.ZA)(t)&&(0,ei.xA)(t)}(M);!function({backingLibraryKey:e,result:t,backingComponentKey:n,backingStateGroupKey:i}){let r=(0,q.X)(e?(0,f.l)(e):null);(0,W.h)(()=>{y.az.trackDefinedEvent("code_connect.code_connect_rendered",{partnerType:r,componentKey:n,stateGroupKey:i})});let s=t?.result==="ERROR"&&t?.data?.error?t.data.error.type:null,o=(0,Z.ZC)(s);a.useEffect(()=>{s!==o&&s&&y.az.trackDefinedEvent("code_connect.code_connect_error",{partnerType:r,errorType:s,componentKey:n,stateGroupKey:i})},[s,o,r,n,i])}({backingLibraryKey:L,result:R,backingComponentKey:N,backingStateGroupKey:A});let U=a.useCallback(e=>{o?o(e):h.w3z.selectAndPanToNode(e)},[o]),H=a.useCallback(()=>{(0,y.sx)("code_connect_clicked",{user_id:_?.id,is_playground:r,node_id:S,file_key:D,...x?.key===D?{file_team_id:x?.teamId,file_org_id:x?.parentOrgId}:{},label:e.label,component_key:N,state_group_key:A,library_key:L})},[_?.id,r,S,x?.key,x?.teamId,x?.parentOrgId,e.label,N,A,L,D]);if(!R)return null;if(R?.result==="SUCCESS"){let{code:a,language:o,pills:h}=(0,w.A)({output:R,sceneGraph:I}),f=e.source;"custom"===o&&(o=e.language);let g=new Set([...e.templateData?.imports??[],...Object.entries(n).map(([e,t])=>t.map(e=>RegExp(`\\b${e.component}\\b`).test(a)?e?.templateData?.imports??[]:[]).flat()).flat()]),_=a;if(g.size>0){if("html"===o){let e=[],t=[];g.forEach(n=>{n.startsWith("<script")?e.push(n):t.push(n)}),e.length>0&&(_=e.join("\n")+"\n\n"+_),t.length>0&&(_=`<script>${t.join("\n")}</script>

`+_)}else _=Array.from(g).join("\n")+"\n\n"+a}return(0,i.jsx)(el,{code:_,language:o,pills:h,fallback:null,errorFallback:null,reformatOnInstanceChange:r,noFadeAnimation:!r,onboardingKey:es.uI,children:n=>n&&(0,i.jsx)(F.VZ,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",noPadding:!0,onClick:H,titleAccessory:(0,i.jsx)(eb,{hideTooltip:B}),children:(0,i.jsxs)("div",{className:"figmadocs--figmadocWrapper--4SMJB",children:[(0,i.jsx)("div",{className:"figmadocs--componentInfoTableContainer--u8MdT",children:(0,i.jsx)(eh,{rows:[...e.component?[{label:(0,j.t)("dev_handoff.component_browser.in_context_component_name"),value:e.component,copyable:!0,copyAriaLabel:(0,j.t)("dev_handoff.component_browser_mapping_panel.copyComponentNameAriaLabel"),rtl:!1}]:[],...f?[{label:(0,j.t)("dev_handoff.component_browser.in_context_component_file"),value:f,copyable:!0,copyAriaLabel:(0,j.t)("dev_handoff.component_browser_mapping_panel.copySourceUrlAriaLabel"),rtl:!0}]:[]]})}),(0,i.jsx)("div",{className:"figmadocs--dropdownContainer--P9xZl",children:(0,i.jsx)(er.l6,{ariaLabel:(0,j.t)("dev_handoff.code.language"),className:"figmadocs--labelSelect--C-SIX",dispatch:p,dropdownAlignment:"right",dropdownShown:u,dropdownWidth:"140px",formatter:eS,id:m,onChange:e=>c(e),onDropdownHidden:s.lQ,property:e.label,children:d.map(e=>(0,i.jsx)(er.c$,{value:e},e))})}),(0,i.jsx)(k.yT,{additionalHeaderActions:t,code:[n],collapseLongSections:!1,copyAllActionEnabled:!1,copyButtonContainer:l,hideHeader:!0,onInstancePillClick:U,section:n,type:"connected"},n.name)]})})})}{(0,b.b5)()&&console.error("Error evaluating Code Connect template",R);let e=R?.data.error,t=(0,j.t)("dev_handoff.figmadocs.error_unknown");return e?.type==="PROPERTY_NOT_FOUND"?t=(0,j.t)("dev_handoff.figmadocs.error_property_not_found",{propertyName:e.propertyName}):e?.type==="PROPERTY_TYPE_MISMATCH"?t=(0,j.t)("dev_handoff.figmadocs.error_property_type_mismatch",{propertyName:e.propertyName,propertyType:e.expectedType??"unknown"}):e?.type==="CHILD_LAYER_NOT_FOUND"?t=(0,j.t)("dev_handoff.figmadocs.error_child_layer_not_found",{layerName:e.layerName}):(0,g.kc)().dt_code_connect_id_error&&e?.type==="CHILD_LAYER_ID_NOT_FOUND"?t=(0,j.t)("dev_handoff.figmadocs.error_child_layer_id_not_found",{codeConnectId:e.codeConnectId}):e?.type==="MISSING_CODE_CONNECT_ID"?t=R?.data.message:(0,C.$D)("DEVELOPER_TOOLS",Error("Error evaluating Code Connect template"),{extra:{error:R?.data.error}}),(0,i.jsx)("div",{className:"figmadocs--errorBannerWrapper--eemEO",children:(0,i.jsx)(E.z,{variant:"danger",title:(0,j.t)("dev_handoff.figmadocs.error_title"),orientation:"vertical",iconSrc:e_.A,children:t})})}}function eE({parent:e}){return(0,i.jsx)("div",{className:"figmadocs--goToParentButtonWrapper--ZAPci",children:(0,i.jsx)(u.WW,{variant:"secondary",onClick:()=>Y.tJ([e.guid??""]),iconPrefix:(0,i.jsx)(p.r,{}),children:(0,j.tx)("dev_handoff.code_connect.go_to_parent_button",{name:e.name||""})})})}function ej(){return(0,i.jsx)("div",{className:"figmadocs--alphaTag--0MzvX",children:(0,i.jsx)(d.E,{variant:"defaultOutline",size:"md",children:(0,g.kc)().dt_component_browser_beta_features?(0,j.tx)("dev_handoff.component_browser.beta"):(0,j.tx)("dev_handoff.component_browser.alpha")})})}function ew(){return(0,i.jsx)(d.E,{variant:"componentOutline",children:(0,j.t)("dev_handoff.component_browser.connected")})}function eT(){return(0,i.jsx)(d.E,{variant:"inactiveOutline",children:(0,j.t)("dev_handoff.component_browser.in_context_not_connected_badge")})}function ek(){return(0,i.jsx)(d.E,{variant:"inactiveOutline",children:(0,j.t)("dev_handoff.figmadocs.skipped")})}function eI({additionalBadge:e}){return(0,i.jsxs)("div",{className:"figmadocs--panelAccessoryContainer--sZqjj",children:[(0,i.jsx)(ej,{}),(0,i.jsxs)("div",{className:"figmadocs--badgeContainer--9Tez4",children:["connected"===e&&(0,i.jsx)(ew,{}),"not-connected"===e&&(0,i.jsx)(eT,{}),"ignored"===e&&(0,i.jsx)(ek,{})]})]})}let eS={format:e=>e};function eN({playgroundGUID:e,onInstancePillClick:t}){let n=(0,g.kc)().dt_component_browser_in_context?(0,j.t)("dev_handoff.component_browser.in_context_section_title"):(0,j.t)("dev_handoff.figmadocs.section_title"),s=(0,$.eY)(),o=(0,$.T3)(),{selectedLabel:l,setSelectedLabel:d}=function(e){let t=(0,ec.yT)(e.id),[n,i]=(0,x.Vc)("code-connect-selected-language-storage-key",t);return{selectedLabel:n,setSelectedLabel:i}}((0,I.v4)()),c=(0,v.$k)(),p=(0,P.uQ)(),m=null;e&&(p=(0,X.n)(e,o,s)??p,m=o.get(e));let{doc:h,instanceFigmadocs:f,availableLabels:y,loaded:b,willHaveCodeConnect:C,isComponentBrowserMapping:E}=(0,ed._3)(p,s,l,m),w=(0,r.wA)(),T=(0,Q.Um)(),k=function({isPlayground:e,doc:t,willHaveCodeConnect:n,loaded:i,node:a,isComponentBrowserMapping:r,isDevModeMcpDisabledForOrg:s}){let o=function(e,t){let n=(0,K.lR)();if(!e||!["INSTANCE","SYMBOL"].includes(e.type)||!t?.status||!n)return"unknown";try{let i=n(e.guid),a=i?t.status[i]:null;return["connected","not_connected","ignored"].includes(a)?a:"unknown"}catch(e){return console.error("Error in useConnectionStatus:",e),"unknown"}}(a||null,(0,_.md)(B.mO)),l=function({isPlayground:e,doc:t,willHaveCodeConnect:n,loaded:i,node:a,connectionStatus:r,isComponentBrowserMapping:s,isDevModeMcpDisabledForOrg:o}){let l=(0,g.kc)().dt_component_browser;if(!a||["FRAME","SECTION"].includes(a.type))return a||!o&&l?{view:"page-frame-or-section"}:{view:"none"};if(["INSTANCE","SYMBOL"].includes(a.type)){let a=!t||t&&"type"in t&&"snippet"===t.type;if(e)return a?{view:"none"}:{view:"component-doc",doc:t};if(l){if("connected"===r)return s?{view:"component-browser-mapping",doc:t}:{view:"component-doc",doc:t};if("ignored"===r)return{view:"ignored"};if("not_connected"===r)return{view:"not-connected"}}return a?(0,J.T)()?{view:"none"}:n||!i?{view:"inspect-loading"}:l?{view:"not-connected"}:{view:"none"}:{view:"component-doc",doc:t}}return{view:"check-parent"}}({isPlayground:!!e,doc:t,willHaveCodeConnect:!!n,loaded:i,node:a,connectionStatus:o,isComponentBrowserMapping:r,isDevModeMcpDisabledForOrg:s}),d=function(e=!0){let t=(0,_.md)(ee._S),n=(0,$.eY)(),i=(0,ea.Vr)(),a=[],r=i;for(;r;)(r?.type==="INSTANCE"||r?.type==="SYMBOL")&&a.push(r),r=r.parentNode;let s=a.map(e=>{let{backingNodeId:i,backingLibraryKey:a}=(0,ed.HX)(e.guid,n,t);return{backingNodeId:i,nodeGuid:e.guid,nodeName:e.isState?e.parentNode?.name:e.name,backingLibraryKey:a}}),{status:o,nodesWithCodeConnect:l}=(0,U.QU)(s.map(e=>(0,ed.zi)(e.backingLibraryKey,e.backingNodeId)),e),d="loaded"===o?l:(0,U.bf)()??new Set,{backingNodeId:c,backingLibraryKey:u}=(0,ed.HX)(i?.guid??"",n,t);if(d.has((0,ed.zi)(u,c)))return null;for(let{nodeName:e,nodeGuid:t,backingNodeId:n,backingLibraryKey:i}of s)if(d.has((0,ed.zi)(i,n)))return{name:e,guid:t};return null}("check-parent"===l.view);return"check-parent"===l.view?d?{view:"inspect-parent",parent:d}:{view:"none"}:l}({isPlayground:!!e,loaded:b,doc:h,willHaveCodeConnect:C,node:m||(p?s.get(p):null),hasRenderedCodeConnectOnce:!1,isComponentBrowserMapping:E,isDevModeMcpDisabledForOrg:c}),S=(0,K.Au)(),N="figmadoc-label-select";e&&(N+="-playground");let A=a.useRef(null);if(!k||!k.view)return null;let L={recordingKey:"code_connect",headerOnboardingKey:es.uI,title:n,collapsiblePanelKey:e?void 0:"code_connect"};switch(k.view){case"page-frame-or-section":return(0,i.jsx)(z,{});case"component-browser-mapping":if(!h||!("component"in h))return null;return(0,i.jsx)(F.VZ,{...L,titleAccessory:(0,i.jsx)(eI,{additionalBadge:"connected"}),children:(0,i.jsx)(ef,{doc:h})});case"component-doc":if(!("doc"in k)||!k.doc)return null;return(0,i.jsxs)(F.VZ,{...L,titleAccessory:(0,i.jsx)(eI,{additionalBadge:"connected"}),children:[(0,i.jsx)(eC,{availableLabels:y,copyButtonContainer:A,dispatch:w,doc:k.doc,dropdownIdToUse:N,dropdownShown:T,instanceFigmadocs:f,isPlayground:!!e,onInstancePillClick:t,setSelectedLabel:d}),(0,i.jsx)("div",{className:eg,children:(0,i.jsx)(u.IK,{variant:"secondary",onClick:S,children:(0,j.t)("dev_handoff.component_browser_mapping_panel.viewConnectionButton")})})]});case"not-connected":return(0,i.jsx)(F.VZ,{...L,titleAccessory:(0,i.jsx)(eI,{additionalBadge:"not-connected"}),children:(0,i.jsx)("div",{className:eg,children:(0,i.jsx)(u.IK,{variant:"secondary",onClick:S,children:(0,j.t)("dev_handoff.component_browser.in_context_connect_component")})})});case"ignored":return(0,i.jsx)(F.VZ,{...L,titleAccessory:(0,i.jsx)(eI,{additionalBadge:"ignored"}),bodyIsEmpty:!0});case"inspect-loading":return(0,i.jsx)(F.VZ,{...L,bodyIsEmpty:!0});case"inspect-parent":return(0,i.jsx)(F.VZ,{...L,children:(0,i.jsx)(eE,{parent:k.parent})});default:return null}}},744374:(e,t,n)=>{n.d(t,{Bv:()=>T,g$:()=>S,iX:()=>I,si:()=>j,wS:()=>w,x9:()=>k});var i=n(104076),a=n(716976),r=n(903927),s=n(387092),o=n(266808),l=n(264993),d=n(980852),c=n(833805);n(192075);var u=n(563792);n(553065);var p=n(74620),m=n(211862),h=n(710211),f=n(835307),g=n(887680),_=n(739710);n(998619);var x=n(540864);n(524065);var y=n(920764);n(520266);var v=n(315361);let b=h.M4.Query({fetch:async({componentKey:e})=>{try{let t=await g.Z.getLibraryComponentV2Destination({componentKey:e});if(!t||!t.data||!t.data.meta)return null;return{nodeId:t.data.meta.node_id,fileKey:t.data.meta.file_key,component:t.data.meta.component,componentSet:t.data.meta.component_set}}catch(e){return null}},enabled:e=>e.enabled}),C=h.M4.Query({fetch:async({statusResult:e})=>{if(!e||!e.componentKey||!e.canvasUrl)return{};let t=e.isVariant?e.dataStateGroupId:e.dataComponentId,n=e.dataStateGroupId??null,i=e.dataStorageKey,a=await u.Eo.getCanvas({canvas_url:e.canvasUrl});if(!a)return{};let r=o.glU.loadDetachedComponent(t??"",i,a,n);return r?{result:{...e,dataLocation:"temp-scene",dataComponentId:r}}:{}},enabled:e=>e.enabled}),E=a.createContext({status:"loading"});function j({children:e}){let t=function(e){let t=(0,r.d4)(m.sS),n=(0,m._G)(),i=(0,f.Fk)((e,t)=>{let n=e?.get(t??"");return n?.type==="SYMBOL"||n?.type==="INSTANCE"?void 0:n?.detachedInfo},e),d=!!i,u=!!i?.componentKey,p=u?{componentKey:(0,s.sg)(i.componentKey),enabled:!0}:{componentKey:(0,s.sg)(""),enabled:!1},[h]=(0,c.IT)(b(p)),g=h?.data,_=d&&u&&"loaded"===h.status&&g&&g.component,x=g?.nodeId??l.AD,y=g?.fileKey??"",v=y!==t,E=g?.component,j=g?.componentSet,w=E?.component_key??i?.componentKey??"",T=j?.key??w??"",k=!!i?.isVariant||!!g?.componentSet,I=v?o.w3z.getGuidByComponentKey(T,w):{nodeId:g?.nodeId,parentId:j?j.node_id??l.AD:l.AD,inDetachedComponentsScene:!1},S=_&&v&&I?.nodeId===l.AD,N={nodeId:x,fileKey:y,libraryKey:E?.library_key,componentKey:w,isVariant:k,isExternal:v,thumbnailUrl:E?.thumbnail_url,descriptionComponent:E?.description_rt??E?.description,descriptionStateGroup:j?.description_rt??j?.description,dataLocation:S||I?.inDetachedComponentsScene?"temp-scene":"scene",dataComponentId:S?E?.node_id??"":I.nodeId??"",dataStateGroupId:S?j?.node_id:I.parentId,dataStorageKey:T,canvasUrl:k?j?.canvas_url:E?.canvas_url},A=S&&N&&N.canvasUrl?{statusResult:N,enabled:!0}:{enabled:!1},[L]=(0,c.IT)(C(A));return a.useMemo(()=>d?u?"errors"===h.status||S&&"errors"===L.status?{status:"errors"}:_?{status:S?"downloading":"loaded",result:N}:"loaded"!==h.status||g&&g.component?{status:"loading"}:{status:"disabled"}:{status:"loaded",result:{nodeId:i.symbolId,fileKey:t||"",libraryKey:n,isVariant:k,dataLocation:"scene",dataComponentId:i.symbolId,dataStorageKey:"",isExternal:!1,componentKey:i.componentKey}}:{status:"disabled"},[d,i?.symbolId,i?.componentKey,k,t,u,h.status,S,L.status,g,_])}((0,v.uQ)());return(0,i.jsx)(E.Provider,{value:t,children:e})}function w(){return a.useContext(E)||{status:"errors"}}function T(e,t){let n=w();return function(e,t){if("loaded"===t.status){let n="temp-scene"===t.result.dataLocation,i=t.result.dataComponentId??"",a=n?t.result.dataStateGroupId:(0,_.Yi)([i],e)??(0,x.nM)(e,[i]),r=n?k(i):e.get(i);return t.result.isVariant&&a?{backingSymbol:r,backingStateGroup:n?k(a):e.get(a)}:{backingSymbol:r,backingStateGroup:null}}}((0,p.eY)(),n)||{backingSymbol:e,backingStateGroup:t}}function k(e){return new d.qo(o.juq.DETACHED_COMPONENTS).get(e)}function I(e,t){let n=w();return{backingSymbolDescription:("loaded"===n.status&&n.result.isExternal&&n.result.descriptionComponent?n.result.descriptionComponent:void 0)??e,parentDescription:("loaded"===n.status&&n.result.isExternal&&n.result.descriptionStateGroup?n.result.descriptionStateGroup:void 0)??t}}function S(){let e=(0,p.eY)(),t=w(),[n,i]=(0,y.Bx)();if("loaded"===t.status){let n=t.result.dataComponentId,i=t.result.dataStateGroupId;return"temp-scene"===t.result.dataLocation?[k(n),i?k(i):null]:[e.get(n),i?e.get(i):null]}return[n,i]}},483663:(e,t,n)=>{n.d(t,{Au:()=>y,dI:()=>_,lR:()=>x});var i=n(716976),a=n(903927),r=n(266808),s=n(111679),o=n(283838),l=n(742549),d=n(805733),c=n(74620),u=n(211862),p=n(657878),m=n(260309),h=n(744374),f=n(315361),g=n(454273);function _({navigateToStateGroupIfVariant:e=!1,trackingFunction:t,assetGuid:n}){let o=(0,f.uQ)(),{singleBackingSymbol:l,singleBackingStateGroup:c}=(0,m.$)([n??o??""]),{backingSymbol:p,backingStateGroup:_}=(0,h.Bv)(l,c),x=(0,h.wS)(),y=(0,g.M4)(),v=(0,u._G)(),b=(0,a.wA)(),C="loaded"===x.status?x.result:void 0,E=i.useMemo(()=>C&&C.isExternal?C.libraryKey:p?.sourceLibraryKey?p?.sourceLibraryKey:v,[C,p?.sourceLibraryKey,v]),j=y?.guid,w=E!==v,T=e&&_?_:p,k=C?C.nodeId:w?T?.publishID:T?.guid,I=(0,d.b)({libraryKey:E,nodeId:k??void 0,mainComponent:!0}),S=!!o&&j!==k;return k&&S&&E&&(!w||I.data?.link)?()=>{if(t&&t(),w){let e=I.data?.link;e&&b(s.V3({url:e}))}else r.glU.goToSymbolOrStateGroupById(k,!0)}:null}function x(){let e=(0,c.eY)(),t=(0,u._G)();return i.useCallback(n=>{let{backingComponentKey:i,backingStateGroupKey:a}=(0,o.K)(n,e,t);return a||i},[t,e])}function y(){let e=(0,a.wA)(),t=(0,p._6)(),n=(0,c.eY)(),i=x(),r=(0,f.uQ)(),m=(0,u._G)(),h=(0,l.ju)(),{backingLibraryKey:g,backingNodeId:_}=(0,o.K)(r||"",n,m),y=g!==m,v=i(r||""),b=(0,d.b)({libraryKey:g,nodeId:_??void 0,isDevHandoff:!0,isDevModeComponentBrowser:!0,componentKey:v});return y?()=>{let t=b.data?.link;t&&e(s.V3({url:t}))}:()=>{"fullscreen"===t.view&&h({showDevModeComponentBrowser:!0,componentBrowserEntrypoint:"inspect_panel",componentKey:v})}}},454273:(e,t,n)=>{n.d(t,{M4:()=>m,Nf:()=>f,RI:()=>u,lA:()=>p,lU:()=>h,ro:()=>g});var i=n(903927),a=n(742549),r=n(74620),s=n(835307),o=n(76365),l=n(415567),d=n(744374),c=n(315361);function u(){let e=(0,d.wS)(),t=(0,i.d4)(e=>e.mirror.selectionProperties.symbolGUIDsBackingSelectionContainer),n=(0,i.d4)(e=>e.mirror.selectionProperties.numSelected);return"loaded"===e.status&&e.result.dataComponentId?{nodeId:e.result.dataComponentId,isDetachedScene:"temp-scene"===e.result.dataLocation&&!!e.result.componentKey}:1===n&&t?{nodeId:Object.keys(t)[0]}:null}function p(){let e=(0,l.jY)(),t=u();return t&&t?.nodeId?t.isDetachedScene?(0,d.x9)(t.nodeId):(0,c.Zl)(e,t.nodeId):null}function m(){return function e(t,n){let i=(0,c.Zl)(t,n);return i?"SYMBOL"===i.type||"INSTANCE"===i.type||i.isStateGroup||i.detachedInfo?i:i.parentGuid?e(t,i.parentGuid):null:null}((0,l.jY)(),(0,i.d4)(o.vD))}function h(){let e=(0,c.uQ)(),t=(0,a.hA)();return e??t}function f(){let e=function(){let e=h();return(0,r.eY)().get(e??"")}(),t=(0,i.d4)(e=>e.mirror.appModel.currentPage),n=(0,r.eY)();return e?.guid?n.developerFriendlyIdFromGuid(e?.guid):t}function g({includeStateGroups:e=!0}={}){let t=(0,c.uQ)(),n=(0,s.Fk)((t,n)=>{let i=t?.get(n??"");return i?.type==="SYMBOL"||i?.type==="INSTANCE"||e&&i?.isStateGroup},t,e),i=(0,d.wS)(),a=i&&("loaded"===i.status||"loading"===i.status||"downloading"===i.status);return n||a}},301510:(e,t,n)=>{n.d(t,{w:()=>a});var i=n(716976);function a(e){let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e},[e]),t}},406790:(e,t,n)=>{n.d(t,{S:()=>I,z:()=>T});var i=n(104076),a=n(716976),r=n(795033);n(120440);var s=n(755444),o=n(248518),l=n(192075),d=n(202913),c=n(549571),u=n(913772),p=n(244205),m=n(90844),h=n(422872),f=n(863154),g=n(381059),_=n(472955),x=n(74620),y=n(143277),v=n(765516),b=n(61102),C=n(19877),E=n(643330),j=n(337726),w=n(441030);let T="https://help.figma.com/hc/articles/15023124644247-Guide-to-Dev-Mode",k=(0,s.ck)("31fafead8c196706e91abf57cbdece011da1a199");function I(){let e=(0,r.md)(f.LZ),t=(0,x.aV)(),n=(0,c._I)(),s=(0,r.md)(d.Pt),I=(0,r.md)(d.xJ),S=(0,c.U4)(),N=(0,r.md)(g.NT),A=(0,r.md)(g.mp),L=(0,u.J)(),O=j.oR,R=(0,C.U)("upsell"),{show:P,complete:M,isShowing:D,uniqueId:F}=(0,h.e)({overlay:w.dvJ,priority:y.N.DEFAULT_MODAL},[N,A,s,I]);return(0,a.useEffect)(()=>{P({canShow:(i,a,r,s)=>{let l="developer"===(0,o.HB)(i);return!n&&!r&&!s&&!t&&a>new Date("2024-09-25")&&S&&(L&&e||!L&&!e&&l)&&l},onShow:()=>{(0,_.o9)()}})},[n,S,e,t,N,L,s,A,I,P]),(0,m.E)(F,"Enter Inspect Mode",()=>{D&&M()}),(0,i.jsx)(b.rq,{description:(0,l.tx)("dev_mode.onboarding_callout.switch_into_dev_mode"),isShowing:D,media:(0,i.jsx)(v.y,{alt:"design displaying spacing in dev mode",src:k,aspectRatio:240/136}),onClose:M,primaryCta:{label:(0,l.tx)("dev_mode.onboarding_callout.explore_now"),onClick:()=>{R("handoff"),M()},ctaTrackingDescriptor:p.c.EXPLORE_NOW,type:"button"},secondaryCta:{label:(0,l.tx)("dev_mode.onboarding_callout.read_the_guide"),type:"link",href:T,ctaTrackingDescriptor:p.c.LEARN_MORE},shouldCenterArrow:E.EL.BEST_EFFORT,targetKey:O,testId:"dev-mode-onboarding-tooltip",title:(0,i.jsx)("span",{className:"xt0e3qv",children:(0,l.tx)("dev_mode.onboarding_callout.find_what_you_need_in_dev_mode")}),trackingContextName:"Dev Mode Onboarding Tooltip"})}},514549:(e,t,n)=>{n.d(t,{L:()=>E,R:()=>w});var i=n(104076),a=n(917360),r=n(795033),s=n(755444),o=n(236631),l=n(192075),d=n(221669),c=n(404898),u=n(260745),p=n(211862),m=n(944350),h=n(382137),f=n(946996),g=n(619707),_=n(760848),x=n(144638);let y=(0,s.ck)("6d5e9cb0e9ec7fd5dd58425c5527dc8a78143a19");function v(){let e;let t=(0,d.M)(),n=(0,r.md)(g.R);return e=t?(0,l.tx)("dev_handoff.paywall.blocking_modal.title.starter"):n?(0,l.tx)("dev_handoff.paywall.blocking_modal.title.direct_link"):(0,l.tx)("dev_handoff.paywall.blocking_modal.title.dev_onboarding"),(0,i.jsx)(a.J,{className:x.DD,children:e})}function b(){let e=[(0,l.tx)("dev_handoff.paywall.blocking_modal.content.copy_code"),(0,l.tx)("dev_handoff.paywall.blocking_modal.content.track_design_changes"),(0,l.tx)("dev_handoff.paywall.blocking_modal.content.customize_plugins")];return(0,i.jsx)("ul",{children:e.map((e,t)=>(0,i.jsx)("li",{className:x.N$,children:e},t))})}function C(){let e=(0,d.n)(),t=(0,p.q5)(),n=t?.teamLimitedInfo?.name||"";return e?(0,i.jsx)("div",{className:x.HS,children:(0,l.tx)("dev_handoff.paywall.blocking_modal.content.ask_admin",{teamName:(0,i.jsx)("span",{className:x.Ps,children:n})})}):(0,i.jsx)(j,{})}function E(){return{imgSrc:y,modalContent:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{}),(0,i.jsx)(b,{}),(0,i.jsx)(C,{})]})}}function j(){let{getUpgradePathway:e,getPlanAndPlanUser:t}=(0,h.wH)(),n=e(m.G_.DEV_MODE),{plan:a}=t(m.G_.DEV_MODE);return[f.J.ADMIN_AUTO_PATHWAY,f.J.AUTO_PATHWAY].includes(n)?(0,i.jsx)("div",{className:o.s.alignCenter.colorTextSecondary.mt16.$,children:(0,i.jsx)("span",{children:(0,l.tx)("auto_upgrade_confirmation.dev_mode.body",{planName:a?.name})})}):null}function w(){let{primaryButtonProps:e,secondaryButtonProps:t}=(0,c.BC)({entryPoint:u.i$.BlockingModal}),{imgSrc:n,modalContent:a}=E();return(0,i.jsx)(_.I,{imgSrc:n,content:a,modalType:"blocking modal",primaryButtonProps:{...e,type:"upgrade"},secondaryButtonProps:t?{...t,type:"back to design"}:void 0})}},760848:(e,t,n)=>{n.d(t,{I:()=>I,E:()=>k});var i=n(104076),a=n(276800),r=n(929302),s=n(91478),o=n(268389);n(120440);var l=n(390036),d=n(12866),c=n(511570),u=n.n(c),p=n(236631),m=n(352630),h=n(659062),f=n(373547),g=n(763286),_=n(144638);function x({imgSrc:e,imgWidth:t=328,imgHeight:n=150,hideImgBorder:a=!1,content:r,primaryButtonLabel:s,primaryButtonOnClick:o,primaryButtonTrackingProperties:l,secondaryButtonLabel:c,secondaryButtonOnClick:m,secondaryButtonTrackingProperties:x}){let b="light"===(0,f.DP)(),C="ui3"===(0,d.DP)().version;return(0,i.jsxs)("div",{className:p.s.py24.px16.cursorDefault.selectNone.flex.flexColumn.gap24.$,"data-testid":"paywall-modal",children:[(0,i.jsx)("div",{className:p.s.bRadius4.overflowHidden.if(b&&!a,p.s.b1.colorBorder).$,style:h.sx.add({height:`${n}px`}).$,children:(0,i.jsx)(g.J,{src:e,alt:"",width:t})}),(0,i.jsx)("div",{className:p.s.flex.flexColumn.gap6.$,children:r}),(0,i.jsxs)("div",{className:u()(p.s.flex.flexColumn.gap8.$,_.UD),children:[s&&o&&(0,i.jsx)(y,{label:s,onClick:o,trackingProperties:l}),c&&m&&(0,i.jsx)(v,{label:c,onClick:m,trackingProperties:x,isUI3:C})]})]})}function y({label:e,onClick:t,trackingProperties:n={}}){return(0,i.jsx)("span",{className:p.s.cursorPointer.$,children:(0,i.jsx)(m.lR,{variant:"primary",onClick:t,trackingProperties:n,htmlAttributes:{"data-testid":"primary-button"},children:(0,i.jsx)("span",{className:_.Jm,"data-testid":"primary-button-label",children:e})})})}function v({label:e,isUI3:t,onClick:n,trackingProperties:a={}}){return t?(0,i.jsx)("div",{className:_.zr,children:(0,i.jsx)(m.lR,{variant:"secondary",onClick:n,trackingProperties:a,htmlAttributes:{"data-testid":"secondary-button"},children:(0,i.jsx)("span",{className:_.Jm,"data-testid":"secondary-button-label",children:e})})}):(0,i.jsx)(m.e6,{className:u()(p.s.flex.justifyCenter.alignCenter.py8.px32.h40.maxWFull.cursorPointer.$,_.zr),onClick:n,htmlAttributes:{"data-testid":"secondary-button"},trackingProperties:a,children:(0,i.jsx)("div",{className:_.Jm,"data-testid":"secondary-button-label",children:e})})}var b=n(432777),C=n(111297),E=n(649693),j=n(944350),w=n(904017),T=n(132034);function k({imgSrc:e,imgWidth:t=328,imgHeight:n=150,hideImgBorder:a=!1,content:r,modalType:s,primaryButtonProps:o,secondaryButtonProps:l}){let d=(0,b.W)(),c={type:s,text:o?.type,trackingDescriptor:o?.trackingDescriptor,...d},u={type:s,text:l?.type,trackingDescriptor:l?.trackingDescriptor,...d};return(0,i.jsx)(x,{content:r,hideImgBorder:a,imgHeight:n,imgSrc:e,imgWidth:t,primaryButtonLabel:o?.label,primaryButtonOnClick:o?.onClick,primaryButtonTrackingProperties:c,secondaryButtonLabel:l?.label,secondaryButtonOnClick:l?.onClick,secondaryButtonTrackingProperties:u})}function I({imgSrc:e,imgWidth:t,imgHeight:n,hideImgBorder:d,content:c,modalType:u,primaryButtonProps:p,secondaryButtonProps:m}){let h=(0,b.W)(),f=r.hS({open:!0,onClose:a.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"}),g=function(){let e=(0,w.S2)(),t=(0,w.px)();return"loaded"!==e.status||"loaded"!==t.status?null:{planParentId:e.data.key.parentId,planType:e.data.key.type,planTier:e.data.tier,isOrgGuest:(0,w.Ty)(t.data)}}(),_="blocking modal"===u;return(0,i.jsx)(C.fu,{name:(0,l.Zr)(u),properties:{...h,primaryCtaTrackingDescriptor:p?.trackingDescriptor,secondaryCtaTrackingDescriptor:m?.trackingDescriptor},enabled:h?.gracePeriod!==void 0,children:(0,i.jsxs)(s.bL,{width:392,manager:f,children:[(0,i.jsx)(o.vo,{children:(0,i.jsx)(o.nB,{children:(0,i.jsx)(k,{content:c,hideImgBorder:d,imgHeight:n,imgSrc:e,imgWidth:t,modalType:u,primaryButtonProps:p,secondaryButtonProps:m})})}),_&&(0,i.jsx)(o.vo,{className:"x1xmf6yo xh8yej3",children:(0,i.jsx)(o.nB,{padding:0,children:null!==g?(0,i.jsx)(T.w,{seatType:E.ud.DEVELOPER,licenseType:j.G_.DEV_MODE,entryPoint:"dev-mode-blocking-modal",planData:g}):null})})]})})}},221669:(e,t,n)=>{n.d(t,{M:()=>r,n:()=>s});var i=n(211862),a=n(944350);function r(){let e=(0,i.q5)();return e?.plan?.tier===a.Ag.STARTER}function s(){let e=r(),t=(0,i.q5)();return e&&!t?.team?.canEdit}},404898:(e,t,n)=>{n.d(t,{BC:()=>U,Gu:()=>G,w_:()=>V});var i=n(716976),a=n(903927),r=n(795033),s=n(219199),o=n(166887),l=n(437540),d=n(208882),c=n(350819),u=n(192075),p=n(58212),m=n(428147),h=n(549571),f=n(742549),g=n(147046),_=n(366535),x=n(483200),y=n(260745),v=n(244205),b=n(211862),C=n(944350),E=n(853039),j=n(904017),w=n(570079),T=n(104836),k=n(382137),I=n(295253),S=n(176203),N=n(984887),A=n(946996),L=n(956359),O=n(619707),R=n(19877),P=n(373224),M=n(406790),D=n(785751),F=n(221669),B=n(913772);function U({entryPoint:e,dismissModal:t,onRequestAccess:n}={}){let M=function(){let e=(0,h._I)(),t=(0,b.q5)(),n=(0,j.D6)("useUpgradeForDevMode").unwrapOr(null),l=n?.key.type===w.h4.TEAM_USER&&n?.planKey.parentId===t?.teamId,u=n?.key.type===w.h4.ORG_USER&&n?.planKey.parentId===t?.parentOrgId,f=(0,T.ol)(),g=(0,E.w5)(f)&&!f?.org_id,v=(0,o.U)(),S=(0,a.wA)(),O=(0,B.J)(),[R,M]=(0,r.fp)(D.t),F=i.useCallback(()=>{O&&M(D.c.UPGRADING)},[O,M]),{handleUpgrade:U,getUpgradeEligibility:H}=(0,k.wH)();return(0,i.useCallback)((n=y.i$.DevMode,i)=>{if(t&&!e)try{if(t.parentOrgId&&u||g&&l)F(),H(C.G_.DEV_MODE,!1)===A.q.CAN_UPGRADE&&U({licenseType:C.G_.DEV_MODE,upgradeReason:P.i.DEV_MODE,afterUpgradeCallback:i,entryPoint:n})({});else if(t.parentOrgId)F(),S(d.Ts({origin:"dev_mode",formState:c.qB.JOIN_ORG,redirectUrl:s.Ay.location.pathname})),S(_.to({type:L.x,data:{}}));else if(g)S(p.F.enqueue({message:"No team user"}));else{v("Dev Mode Paywall clicked",{type:"Starter Tier Upgrade",entryPoint:n},{forwardToDatadog:!0});let e=f?.id;n!==y.i$.DowngradeEmail&&e?S(x.WX({teamId:e,openInNewTab:!0,entryPoint:N.TN.DEV_MODE_MODAL})):(F(),S(_.to({type:m.V,data:{teamId:e??void 0,upsellSource:I.b.DEV_MODE_UPSELL,openCheckoutInNewTab:!0,onDone:()=>M(D.c.DEFAULT)}})))}}catch(e){O&&M(D.c.DEFAULT),S(p.F.enqueue({message:e.message||e.data.message}))}},[t,e,g,S,f?.id,F,u,H,U,l,v,M,O])}(),{getUpgradePathway:V}=(0,k.wH)(),G=[A.J.AUTO_PATHWAY,A.J.ADMIN_AUTO_PATHWAY].includes(V(C.G_.DEV_MODE)),z=(0,F.n)(),K=(0,T.cD)(),W=(0,a.d4)(e=>(0,E.oc)(K,e)),Z=(0,B.J)(),q=i.useCallback(()=>{t?.(),M(e,n)},[t,n,M,e]),X=function(e){let t=!!(0,f.hA)(),n=(0,r.md)(O.R),s=(0,R.U)("blocking_modal"),o=(0,a.wA)(),d=(0,l.R)(e=>({...e.selectedView,editorType:S.nT.Design,showOverview:!0,focusViewBackNavigation:void 0,devModeFocusId:void 0})),c=i.useCallback(()=>{s("design")},[s]),p=i.useCallback(()=>{o(g.sf(d))},[d,o]);return e?{label:(0,u.tx)("dev_handoff.paywall.blocking_modal.button.not_now"),onClick:e,trackingDescriptor:v.c.NOT_NOW}:t?{label:(0,u.tx)("dev_handoff.paywall.blocking_modal.button.back_to_summary"),onClick:p,trackingDescriptor:v.c.BACK_TO_SUMMARY}:n?{label:(0,u.tx)("dev_handoff.paywall.blocking_modal.button.not_now"),onClick:c,trackingDescriptor:v.c.NOT_NOW}:{label:(0,u.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:c,trackingDescriptor:v.c.BACK_TO_DESIGN}}(t);return Z?{primaryButtonProps:{label:G?(0,u.tx)("auto_upgrade_confirmation.dev_mode.cta_text"):(0,u.tx)("dev_handoff.paywall.blocking_modal.button.request_access"),onClick:q,trackingDescriptor:G?v.c.GET_DEV_MODE:v.c.REQUEST_ACCESS},secondaryButtonProps:X}:z?W?{primaryButtonProps:X,secondaryButtonProps:void 0}:{primaryButtonProps:{label:(0,u.tx)("dev_handoff.paywall.blocking_modal.button.learn_more"),onClick:H,trackingDescriptor:v.c.LEARN_MORE},secondaryButtonProps:X}:{primaryButtonProps:{label:W?(0,u.tx)("dev_handoff.paywall.blocking_modal.button.locked.reactivate"):(0,u.tx)("payments_modal.upgrade_to_professional"),onClick:q,trackingDescriptor:W?v.c.REACTIVATE_YOUR_PROFESSIONAL_PLAN:v.c.UPGRADE_TO_PROFESSIONAL},secondaryButtonProps:X}}function H(){s.Ay.unsafeRedirect(M.z,"_blank")}function V(){let{hasPendingRequest:e,getIsUpgradeHandlerLoading:t}=(0,k.wH)();return{loading:t(),hasPendingRequest:e(C.G_.DEV_MODE)}}function G(){let e=(0,b.q5)();return e?.currentPartialOrgUser?.designAccountTypeRequest?.status==="pending"||e?.currentPartialOrgUser?.devModeAccountTypeRequest?.status==="pending"||e?.currentTeamUser?.designAccountTypeRequest?.status==="pending"}},349951:(e,t,n)=>{n.d(t,{DK:()=>E,MO:()=>k,d8:()=>w,oD:()=>I,q9:()=>j});var i=n(716976),a=n(903927),r=n(638004),s=n(266808),o=n(795033),l=n(886710),d=n(883765),c=n(550209),u=n(361170),p=n(192075),m=n(744374),h=n(563792),f=n(260495),g=n(848125),_=n(156774),x=n(211862),y=n(330308),v=n(76365),b=n(564914),C=(e=>(e.GENERIC="GENERIC",e.OFFLINE="OFFLINE",e.THUMBNAIL_TIMEOUT="THUMBNAIL_TIMEOUT",e))(C||{});function E(e){switch(e){case"GENERIC":return(0,p.t)("design_systems.playground.unable_to_load");case"OFFLINE":return(0,p.t)("design_systems.playground.unable_to_load_while_offline");case"THUMBNAIL_TIMEOUT":return(0,p.t)("design_systems.playground.unable_to_load_thumbnail")}}function j(e){switch(e){case"GENERIC":return(0,p.t)("design_systems.playground.unable_to_load_help_text");case"OFFLINE":return(0,p.t)("design_systems.playground.unable_to_load_while_offline_help_text");case"THUMBNAIL_TIMEOUT":return(0,p.t)("design_systems.playground.unable_to_load_thumbnail_help_hext")}}let w=(0,o.eU)(!1);function T(e){let[t,n]=i.useState(),[a,r]=i.useState(),[l,d]=i.useState(!1),[c,p]=i.useState(!1),[m,h]=i.useState(!1),[f,x]=(0,o.fp)(w),y=i.useCallback(()=>{let t=s.glU.generatePlaygroundThumbnail(e??null),i=s.glU.getPlaygroundNodeData();t.pixels?.length>0?(n({src:(0,_.Pv)(t.pixels,new u.Mi(t.width,t.height)),width:t.width/t.scale,height:t.height/t.scale}),r(i),p(!1),x(!0)):p(!0)},[x,e]),v=i.useCallback(e=>{d(e),h(!0)},[h]),{onSetPercentImagesLoaded:b,onResetTracker:C}=function(e){let[t,n]=i.useState(0),[a,r]=i.useState(0),[s,o]=i.useState(null),l=i.useCallback(()=>{n(0),r(0),o(null)},[]);return i.useEffect(()=>{function n(n,i){if(t>n&&t<i&&a<=n){let n=Date.now();(null===s||n-s>1e3)&&(o(n),r(t),e())}}n(.25,.5),n(.5,.75),n(.75,1)},[a,s,e,t]),i.useEffect(()=>{1===t&&(e(),r(1))},[e,t]),i.useMemo(()=>({onSetPercentImagesLoaded:n,onResetTracker:l}),[n,l])}(y);return i.useEffect(()=>(0,g.k)(v),[v]),i.useEffect(()=>()=>s.glU.clearPlaygroundScene(),[]),i.useEffect(()=>{m&&setTimeout(()=>{y(),h(!1)},0)},[m,h,y]),i.useMemo(()=>({setPlaygroundNodeData:r,onSetPercentImagesLoaded:b,onResetTracker:C,thumbnailData:t,playgroundNodeData:a,hasChangesToReset:l,hasThumbnailErrors:c,setHasChangesToReset:d}),[r,b,C,t,a,l,c,d])}function k({canViewPlaygroundQueryResult:e,canvasAsset:t,onLoaded:n,onError:a,thumbnailOptions:o}){let[u,p]=i.useState(t),{setPlaygroundNodeData:m,onSetPercentImagesLoaded:g,onResetTracker:_,thumbnailData:v,playgroundNodeData:C,hasChangesToReset:E,hasThumbnailErrors:j,setHasChangesToReset:w}=T(o),k=(0,x.tS)(),I=u!==t||!C||"loading"===e.status,[S,N]=i.useState(null),A=i.useCallback(()=>{s.glU.clearPlaygroundScene(),m(void 0)},[m]),L=i.useCallback(async(e=!0)=>{let n;if(t.type!==b.PW.COMPONENT&&t.type!==b.PW.STATE_GROUP&&t.type!==b.PW.MODULE){A();return}let i=Date.now();if(N(null),t.isLocal)n=null;else try{let e=h.Eo.getCanvas({canvas_url:t.canvas_url});await Promise.race([e,(0,l.fm)(100)])||(p(t),m(void 0),w(!1)),n=await e}catch(e){0===e.status?N("OFFLINE"):N("GENERIC"),A(),p(t),(0,c.$D)(r.e.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{openFileKey:k,libraryKey:t.library_key,type:t.type}});return}let a=t.type!==b.PW.STATE_GROUP||t.isLocal?null:t.default_state_key;if(n?s.glU.setPlaygroundSceneFromBuffer(t.node_id,n,e,a,t.library_key):s.glU.setPlaygroundSceneFromLocalAsset(t.node_id)){w(!1),m(s.glU.getPlaygroundNodeData()),p(t),d.az.trackDefinedEvent("playground.set_scene",{duration:Date.now()-i,assetType:t.type,isLocal:t.isLocal??!1,assetKey:(0,y.u2)(t)}),_(),(0,f.Jr)().loadAllImagesUnder(["0:0"],s.MoD.NON_ANIMATED_ONLY,"playground.initialLoad",(e,t)=>{g((t-e)/t)},s.glU.getPlaygroundScene());return}if(e){p(t),m(void 0),w(!1),setTimeout(()=>{L(!1)},50);return}N("GENERIC"),A()},[k,A,_,g,t,m,w]),O=e.unwrapOr(null);return i.useEffect(()=>{null!==O&&(O?L():p(t))},[O,m,t,A,L]),i.useMemo(()=>{let e=j?"THUMBNAIL_TIMEOUT":S;return!e&&I?{state:"LOADING",previousAssetData:{thumbnailData:v,hasChangesToReset:E,refetchAndResetScene:L,nodeData:C,asset:u}}:(n(),e)?(a(),{state:"ERROR",errorType:e,previousAssetData:{thumbnailData:v,hasChangesToReset:E,refetchAndResetScene:L,nodeData:C,asset:u}}):{state:"LOADED",currentAssetData:{hasChangesToReset:E,refetchAndResetScene:L,nodeData:C,thumbnailData:v,asset:u}}},[I,n,j,S,C,v,a,E,L,u])}function I(){let e=(0,a.d4)(v.AF),t=e?.guid,n=(0,m.wS)(),r="loaded"===n.status?n.result:void 0,{setPlaygroundNodeData:o,thumbnailData:l,playgroundNodeData:d,hasChangesToReset:c}=T(),u=i.useCallback(()=>{let e=!1;r?e=s.glU.setPlaygroundSceneFromDetachedInfo(r.dataComponentId,"temp-scene"===r.dataLocation):t&&(e=s.glU.setPlaygroundSceneFromSelection()),e||(s.glU.clearPlaygroundScene(),o(void 0))},[t,r,o]);return i.useEffect(()=>{setTimeout(()=>{u()})},[u]),i.useMemo(()=>d&&l?{hasChangesToReset:c,refetchAndResetScene:u,nodeData:d,thumbnailData:l}:null,[d,l,c,u])}},402776:(e,t,n)=>{n.d(t,{b:()=>m});var i=n(104076),a=n(667693),r=n(387092),s=n(266808),o=n(641518),l=n(192075),d=n(968169),c=n(331497),u=n(251951),p=n(664320);function m({fill:e,modes:t,recordingKey:n,onChange:m}){let h=(0,c.J2)((0,d.UK)().showGuids),f=(0,p.cd)(s.ZiZ.PLAYGROUND_SCENE),g=Object.entries(t).map(([e,t])=>({...t,setKey:e})).filter(e=>e.modeOptions.length>1).sort((e,t)=>e.collectionName.toLocaleLowerCase().localeCompare(t.collectionName.toLocaleLowerCase()));return 0===g.length?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"playground_modes_section--title--wPRzF text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,l.tx)("design_systems.playground.variable_modes_title")}),g.map(t=>(0,i.jsx)(u.yj,{explicitModeID:t.explicitMode,fill:e,hideRemoveButton:!0,inheritedModeID:t.inheritMode,isShowingGuids:h,modeOptions:t.modeOptions,onChange:e=>{e!==p.Mo&&e!==p.Yn&&((0,a.c2)(t.explicitMode,e)||(e===p.Ws||e===p.UE?s.glU?.setVariableModeForPlayground(t.setKey,e,null):f(e,(0,r.yG)(t.setKey),()=>{s.glU?.setVariableModeForPlayground(t.setKey,e.guid,e.extendedCollectionId),m?.(t,e.guid)})))},recordingKey:o.Pt(n,`mode-${t.setKey}`),showExplicitOnly:!1,variableSetKey:t.setKey,variableSetName:t.collectionName},t.setKey))]})}},828244:(e,t,n)=>{n.d(t,{x:()=>E});var i=n(104076),a=n(716976),r=n(511570),s=n.n(r),o=n(652539),l=n(406954),d=n(523860),c=n(85206);function u({children:e,isInitiallyOpen:t,title:n,titleClassName:r}){let[u,p]=a.useState(t),m=()=>p(e=>!e);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:s()("collapse--collapseTitle---N1bR",r),onClick:m,onKeyDown:e=>(0,l.hx)({e,onClickHandler:m}),role:"button",tabIndex:0,children:[(0,i.jsx)(o.B,{className:"collapse--expandCaret--FzvQ9 library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:u?d.A:c.A}),n]}),u&&e]})}var p=n(943568),m=n(74620),h=n(739710),f=n(460418),g=n(581993),_=n(136580),x=n(406483),y=n(349951);let v="playground_props_section--divider--I23uK";var b=n(230645);function C({componentProps:e,bubbledComponentId:t,productComponentGUID:n,sceneGraph:a,instanceSwapPickerInitialHeight:r,instanceSwapPickerInitialPosition:s,recordingKey:o,containerWidth:l,onSelectedPropertyValueHistoryChange:d,onTypedPropChange:c}){let p=(0,m.T3)(),{typedPropDefsExcludingHidden:y,variantPropDefs:v,assignmentValuesByDefId:b,allStateVariantProps:C,backingStateVariantProps:E,statePropertyValues:j}=(0,f.nj)(t,e,n,p);return y.length||v.length?(0,i.jsx)(u,{titleClassName:"playground_props_section--bubbledPropsTitle--8SBPC",isInitiallyOpen:y.length<g.qC,title:(0,i.jsx)(_.iN,{canCollapse:!0,shouldHideButtons:!0,isInComponentPlayground:!0,instanceAndSublayerGUIDs:[t],containerWide:l===h.O2.WIDE,recordingKey:o,instanceNameDisplayOverride:_.NA.NAME_ONLY}),children:(0,i.jsx)(g.tO,{allStateVariantProps:C,assignmentValues:b,backingStateVariantProps:E,containerWidth:l,entrypointForInstanceSwapPicker:x.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND_BUBBLED,forBubbledProps:!0,guids:[t],hideIcon:!0,inPlayground:!0,instanceSwapPickerInitialHeight:r,instanceSwapPickerInitialPosition:s,onSelectedPropertyValueHistoryChange:d,onTypedPropChange:c,productComponentGUID:n,propDimension:h.OE.ASSIGNMENT,recordingKey:o,sceneGraph:a,splitVariantAndTypedProps:!1,statePropertyValues:j,typedPropDefs:y,variantPropDefs:v})}):null}function E({componentProps:e,label:t,playgroundGUID:n,productComponentGUID:r,sceneGraph:s,viewOnlyMode:o,instanceSwapPickerInitialHeight:l,instanceSwapPickerInitialPosition:d,recordingKey:c,containerWidth:u,errorData:_,shouldShowDividerAboveProps:E,onSelectedPropertyValueHistoryChange:j,onTypedPropChange:w}){let T=(0,m.T3)(),k=n&&e,{typedPropDefsExcludingHidden:I,variantPropDefs:S,assignmentValuesByDefId:N,allStateVariantProps:A,backingStateVariantProps:L,statePropertyValues:O}=(0,f.nj)(n??"",e??{},r,T),R=a.useMemo(()=>k&&e[n]?.bubbledNestedInstanceGUIDs||[],[e,k,n]);return _?_.shouldHideError?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:v}),(0,i.jsx)("div",{className:"playground_props_section--errorBannerContainer--d3nQO",children:(0,i.jsx)(p.z,{orientation:"vertical",iconSrc:b.A,onClose:()=>_.setShouldHideError(!0),variant:"warning",title:(0,y.DK)(_.errorType),children:(0,y.q9)(_.errorType)})})]}):k&&(I.length||S.length||R.length)?(0,i.jsxs)(i.Fragment,{children:[E&&(0,i.jsx)("div",{className:v}),t,(0,i.jsx)(g.tO,{allStateVariantProps:A,assignmentValues:N,backingStateVariantProps:L,containerWidth:u,entrypointForInstanceSwapPicker:x.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND,forBubbledProps:!1,guids:[n],hideIcon:!0,inPlayground:!0,instanceSwapPickerInitialHeight:l,instanceSwapPickerInitialPosition:d,onSelectedPropertyValueHistoryChange:j,onTypedPropChange:w,productComponentGUID:r,propDimension:h.OE.ASSIGNMENT,recordingKey:c,sceneGraph:s,splitVariantAndTypedProps:!!o,statePropertyValues:O,typedPropDefs:I,variantPropDefs:S,viewOnlyMode:o}),R.map(t=>{let n=e[t]?.backingSymbol||"",a=e[n]?.containingStateGroupGUID||n;return a?(0,i.jsx)(C,{bubbledComponentId:t,componentProps:e,containerWidth:u,instanceSwapPickerInitialHeight:l,instanceSwapPickerInitialPosition:d,onSelectedPropertyValueHistoryChange:j,onTypedPropChange:w,productComponentGUID:a,recordingKey:c,sceneGraph:s},t):null})]}):null}},280817:(e,t,n)=>{n.d(t,{J:()=>i,n:()=>a});let i=(0,n(795033).eU)([]);function a(e,t,n){let i=t.get(e),a=t.get(i?.symbolId??"");if(a?.componentKey){let e=n.getInternalCanvas();for(let t of e?.childrenNodes??[]){if(t.componentKey===a?.componentKey)return t.guid;if(t.isStateGroup){for(let e of t.childrenNodes)if(e.componentKey===a?.componentKey)return e.guid}}}return a?.publishID}},373550:(e,t,n)=>{n.d(t,{d:()=>i});let i=(0,n(795033).eU)({})},565797:(e,t,n)=>{n.d(t,{f:()=>E});var i=n(104076),a=n(716976),r=n(684742),s=n(652539),o=n(192075),l=n(211862),d=n(248043),c=n(186003),u=n(903927),p=n(66554),m=n(546001),h=n(944380),f=n(894210),g=n(722887);let _="vscode_extension_page_picker--pagePickerButtonContent--JXaX-";var x=n(391812),y=n(769773);function v(){return(0,i.jsx)("div",{className:"vscode_extension_page_picker--floatingContainer--HgY6-",children:(0,i.jsx)(h.o,{})})}function b({additionalPages:e,onClickAdditionalPage:t,selectedAdditionalPageId:n,isOnReadyForDevPage:r}){let[l,d]=a.useState(!1),c=a.useRef(null),h=(0,u.d4)(e=>e.mirror.appModel.pagesList),b=(0,u.d4)(e=>e.mirror.appModel.currentPage),C=h.find(e=>e.nodeId===b);return((0,m.L)(c,()=>{l&&d(!1)}),h)?(0,i.jsxs)("div",{className:"vscode_extension_page_picker--pagePicker--AFcyx",ref:c,children:[(0,i.jsxs)("button",{className:"vscode_extension_page_picker--pagePickerButton--xunuS",onClick:()=>d(!l),"data-tooltip":(0,o.t)("dev_handoff.pages_list"),"data-tooltip-type":f.Ib.TEXT,children:[r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.O,{className:"vscode_extension_page_picker--readyIcon--MjlB1"}),(0,i.jsx)("span",{className:_,children:(0,o.t)("dev_handoff.workflows.overview.title")})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.v,{pageGuid:b,margin:"marginRight",fallback:(0,i.jsx)(s.B,{svg:x.A,className:"vscode_extension_page_picker--pagePickerIcon--miPBV"})}),(0,i.jsx)("span",{className:_,children:C?.name||""})]}),(0,i.jsx)(s.B,{svg:y.A,className:"vscode_extension_page_picker--pagePickerButtonChevron--MpjMi"})]}),l&&(0,i.jsx)(v,{})]}):null}var C=n(322086);function E({children:e,isOnReadyForDevPage:t}){let n=(0,l.tS)(),u=a.useCallback(()=>{let e=(0,d.jN)({file:{key:n},isDevHandoff:!0});(0,c.Qn)(e)},[n]);return(0,i.jsxs)("div",{className:"vscode_extension_header--vscodeExtensionHeader--1-R98",children:[(0,i.jsx)(b,{isOnReadyForDevPage:t}),(0,i.jsxs)("div",{className:"vscode_extension_header--children--sHtI3",children:[(0,i.jsx)(r.E,{onClick:u,"aria-label":(0,o.t)("dev_handoff.overview_mode.open_in_figma"),className:"vscode_extension_header--focusVisible--NjfH0",children:(0,i.jsxs)("div",{className:"vscode_extension_header--openFigmaText--e2tMf",children:[(0,o.t)("dev_handoff.overview_mode.open_in_figma"),(0,i.jsx)(s.B,{svg:C.A,className:"vscode_extension_header--openFigmaSVG--02Jd3"})]})}),e]})]})}},554311:(e,t,n)=>{n.d(t,{p:()=>y});var i=n(104076),a=n(716976),r=n(420680),s=n(293422),o=n(889081),l=n(67256),d=n(235454),c=n(812714),u=n(192075),p=n(549571),m=n(751464),h=n(802529),f=n(692042),g=n(592726),_=n(835307),x=n(894210);function y({nodeId:e,sourceForLogging:t,onboardingKey:n,isMinimal:y}){let v=(0,g.TA)(),b=(0,m.D)(),C=(0,p._I)(),E=(0,p.xo)(),j=(0,f.QU)({subscribeToUpdates_expensive:!0}),{hasReadyStatus:w,hasCompletedStatus:T,hasStatus:k,canHaveStatus:I,nestedLayerPreventsStatus:S,lastStatusChangeUserId:N}=(0,_.Fk)((e,t)=>{let n=e?.get(t??""),i=n?.canHaveStatus,a=n?.canHaveStatusBasedOnType;return{hasReadyStatus:n?.hasReadyStatus,hasCompletedStatus:n?.hasCompletedStatus,hasStatus:n?.hasStatus,canHaveStatus:i,nestedLayerPreventsStatus:!i&&a,lastStatusChangeUserId:n?.getStatusInfo()?.userId}},e),A=b&&C&&!E&&(!(0,c.kc)().dt_interactive_inspection_m2||I),L=a.useRef(k),[O,R]=a.useState(!1);a.useEffect(()=>{(0,c.kc)().dt_interactive_inspection_m2&&(k&&R(!1),L.current&&!k&&N!==v&&R(!0))},[k,N,v]);let P=a.useCallback(()=>{A&&e&&h.z4.setNodesCompleted([e],`${t}-complete-button`)},[A,e,t]),M=a.useCallback(()=>{A&&e&&h.z4.setNodesReady(!0,[e],`${t}-complete-button`,null)},[A,e,t]),D=(0,c.kc)().dt_interactive_inspection_m2&&!T&&!w&&!O,F=a.useMemo(()=>w?P:T||D?M:void 0,[T,w,P,M,D]),B=a.useMemo(()=>T?(0,u.tx)("dev_handoff.status.completed"):D?(0,u.tx)("dev_handoff.status.mark_as_ready_for_first_time"):(0,u.tx)("dev_handoff.status.mark_completed"),[T,D]),U=a.useMemo(()=>T?(0,i.jsx)(o.g,{"data-testid":"filled-icon"}):k||!(0,c.kc)().dt_interactive_inspection_m2?(0,i.jsx)(l.W,{"data-testid":"empty-icon"}):(0,i.jsx)(d.i,{"data-testid":"rfd-icon"}),[T,k]),H=a.useMemo(()=>w?(0,u.t)("dev_handoff.status.mark_as_completed"):T?(0,u.t)("dev_handoff.status.mark_as_ready"):D?(0,u.t)("dev_handoff.status.mark_as_ready_for_first_time"):(0,u.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),[T,w,D]),V=a.useMemo(()=>S?(0,u.t)("dev_handoff.overview_mode.tooltip.design_structure_prevents_status"):(0,c.kc)().dt_interactive_inspection_m2&&!I?(0,u.t)("dev_handoff.overview_mode.tooltip.layer_cannot_have_status"):w?(0,u.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"):T?(0,u.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_incomplete"):D?(0,u.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_ready"):(0,u.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),[T,w,D,S,I]);if(!e)return null;if(y)return w||T?(0,i.jsx)(r.K,{onClick:F,disabled:!A,"aria-label":H,htmlAttributes:{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":A?H:V,"data-testid":"change-status-icon-button"},children:U}):null;let G=(0,c.kc)().dt_interactive_inspection_m2?O:!w&&!T,z=!A||G;return j<700?(0,i.jsx)(r.K,{onClick:F,disabled:z,"aria-label":H,htmlAttributes:{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":z?V:H,"data-testid":"change-status-button"},children:U}):(0,i.jsx)(s.$n,{variant:"secondary",onClick:F,disabled:z,"aria-label":H,htmlAttributes:{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":z?V:void 0,"data-tooltip-text-left":!0,"data-onboarding-key":n,"data-testid":"change-status-button"},iconPrefix:U,children:B})}},752064:(e,t,n)=>{n.d(t,{TP:()=>m,TQ:()=>_,VW:()=>h,ZJ:()=>f,bh:()=>g});var i=n(716976),a=n(903927),r=n(266808),s=n(166887),o=n(147046),l=n(657878),d=n(176203),c=n(383310),u=n(569565),p=n(118752);function m(e,t){let n=(0,l._6)();return"fullscreen"===n.view?{...n,editorType:e??n.editorType,focusViewBackNavigation:void 0,devModeFocusId:void 0,showOverview:!1,overviewBackButtonTargetNodeId:void 0,...t?{nodeId:t}:{}}:n}function h(e,t){let n=(0,l._6)();return"fullscreen"===n.view?{...n,editorType:d.nT.DevHandoff,focusViewBackNavigation:{toEditorType:n.editorType,toOverview:!0},showOverview:!1,devModeFocusId:e,...t?{nodeId:t}:{}}:n}function f(){let e=(0,a.wA)(),t=(0,l._6)();return(0,i.useCallback)(n=>{(0,p._$)(e,t,n)},[e,t])}function g(){let e=(0,a.wA)(),t=(0,l._6)();return(0,i.useCallback)(()=>{(0,p.Ep)(e,t)},[e,t])}function _(e){let t=m(e),n=(0,a.wA)(),i=(0,s.U)(),l=(0,c.n0)(),p=(0,u.VS)({pagesList:l,isComparingChanges:!1});return async(e,a,s)=>{s&&await p(s),n(o.sf(t));let l="unknown";"fullscreen"===t.view&&(r.w3z.addToSelectionNoAnimation([a]),r.glU.panToNode(a,!1),l=t.editorType===d.nT.Design?"design_canvas":"dev_mode_canvas"),i(e,{target:l,nodeId:a})}}},691952:(e,t,n)=>{n.d(t,{s:()=>R,$:()=>P});var i=n(104076),a=n(716976),r=n(903927),s=n(962856),o=n(66554),l=n(795033),d=n(511570),c=n.n(d),u=n(366815),p=n(192075),m=n(549571),h=n(21031),f=n(653899),g=n(742549),_=n(244205),x=n(422872),y=n(143277),v=n(59975),b=n(61102),C=n(654200),E=n(441030);function j({devFocusedOnboarding:e}){let t=(0,g.l7)(),n=(0,r.wA)(),a=(0,l.md)(h.d),s=(0,l.md)(h.cR),o=l.md(h.hv)?.data,{show:d,isShowing:c,complete:u}=(0,x.e)({overlay:E.xjb,priority:y.N.DEFAULT_MODAL});(0,f.h)(()=>{t&&!o&&(0,v.nT)(n),!t&&!o&&(a||s)&&d()});let m={label:(0,p.tx)("dev_handoff.workflows.overview.onboarding.primary_cta"),type:"button",onClick:u,ctaTrackingDescriptor:_.c.GOT_IT},j={label:(0,p.tx)("dev_handoff.workflows.overview.onboarding.secondary_cta"),type:"link",href:"https://help.figma.com/hc/articles/23918228264855",ctaTrackingDescriptor:_.c.LEARN_MORE};return(0,i.jsx)(b.rq,{arrowPosition:C.F_.LEFT_TITLE,description:a?(0,p.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.description"):e?(0,p.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.dev_mode.description"):(0,p.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.design.description"),disableHighlight:!0,isShowing:c,onClose:u,primaryCta:m,secondaryCta:j,targetKey:v.o5,title:a?(0,p.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.title"):(0,p.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.title"),trackingContextName:"Dev Mode Overview Onboarding"})}var w=n(147046),T=n(278491),k=n(819851),I=n(589046),S=n(469229),N=n(894210),A=n(299117),L=n(342053);let O="overview_entry--isSelected--E6mSl";function R({count:e,isInTab:t,isActive:n}){return(0,i.jsx)("span",{className:c()("overview_entry--badgeWrapper--TjyNb",t&&"overview_entry--isInTab--J7wAV"),children:(0,i.jsx)(s.E,{variant:n?"defaultOutline":"inactiveOutline","aria-label":(0,p.t)("dev_handoff.workflows.overview.tab_count",{count:e}),children:e})})}function P({devFocusedOnboarding:e}){let t=(0,g.X0)(),n=!(0,m.U4)(),s=(0,r.wA)(),d=(0,g.U0)(),f=(0,r.d4)(e=>n?void 0:(0,S.Np)(e,d)),_=(0,g.l7)(),x=(0,g.ZI)(),y=l.md(h.hv)?.data,[b,C]=(0,l.fp)(h.cR),E=(0,m.xo)(),P=(0,l.md)(h.d),M=(0,k.ow)(),D=(0,I.n)(),F=(0,g.Xd)(),B=(0,a.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),n)return;let{clientX:t,clientY:i}=e;s((0,w.j7)({type:T.bx,data:{clientX:t,clientY:i}}))},[n,s]);return!t||M?null:0===x?null:(_||y||b||P||C(!0),(0,i.jsxs)(L.y,{autoHeight:!0,withBorder:!0,children:[(0,i.jsx)(u.lt,{className:c()("overview_entry--entryRow--l-Ofr",_&&O,n&&"overview_entry--isDisabled--OAHeM"),onClick:function(e){e.preventDefault(),F()},onContextMenu:B,href:f,"data-tooltip-type":N.Ib.TEXT,"data-tooltip":n?(0,p.t)("dev_handoff.paywall.org_not_member_hint"):void 0,"data-tooltip-text-left":!0,recordingKey:"dev_handoff.workflows.overview_entry",children:(0,i.jsxs)("div",{className:c()("overview_entry--entryRowInner--fPECV",_&&O),children:[(0,i.jsxs)("div",{className:"overview_entry--leftSide--0zNy- text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,i.jsx)(o.O,{className:"overview_entry--readyIcon--QwDeG"}),(0,p.tx)("dev_handoff.workflows.overview.title")]}),(0,i.jsx)("div",{"data-onboarding-key":v.o5,children:(0,i.jsx)(R,{count:x})})]})}),!E&&!D&&(0,i.jsx)(A.p,{children:(0,i.jsx)(j,{devFocusedOnboarding:e})})]}))}},890564:(e,t,n)=>{n.d(t,{QV:()=>l,YA:()=>o,n9:()=>s});var i=n(795033),a=n(441513);let r=(0,i.E2)("workflows_recently_viewed",{},a.z.record(a.z.string(),a.z.record(a.z.string(),a.z.number())));function s(e){let[t]=(0,i.fp)(r);return e?t[e]:null}function o(e,t){return(t.lastViewedTimestamp??0)-(e.lastViewedTimestamp??0)}function l(){let[e,t]=(0,i.fp)(r);return(n,i)=>{let a=Date.now();t({...e,[n]:{...e[n],[i]:a}})}}},55029:(e,t,n)=>{n.d(t,{FQ:()=>E,LO:()=>C,Oo:()=>b});var i,a=n(716976),r=n(903927),s=n(492737),o=n(582789),l=n(795033),d=n(824570),c=n(983500),u=n(690824),p=n(88314);function m(e,t,n,i){let a=[h(e,t,n),h(e,t,i),h(n,i,e),h(n,i,t)];return a[0]!==a[1]&&a[2]!==a[3]||a.every(e=>"COLLINEAR"===e)&&f(e.x,t.x,n.x,i.x)&&f(e.y,t.y,n.y,i.y)}function h(e,t,n){let i=(t.y-e.y)*(n.x-t.x)-(n.y-t.y)*(t.x-e.x);return 0===i?"COLLINEAR":i>0?"CLOCKWISE":"COUNTERCLOCKWISE"}function f(e,t,n,i){let a=Math.min(e,t),r=Math.max(e,t),s=Math.min(n,i);return a<=Math.max(n,i)&&r>=s}!function(e){e.CLOCKWISE="CLOCKWISE",e.COUNTERCLOCKWISE="COUNTERCLOCKWISE",e.COLLINEAR="COLLINEAR"}(i||(i={}));var g=n(724744),_=(e=>(e.TOP="TOP",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.UNKNOWN="UNKNONWN",e))(_||{}),x=(e=>(e.TOP_LEFT="TOP_LEFT",e.TOP="TOP",e.TOP_RIGHT="TOP_RIGHT",e.RIGHT="RIGHT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM="BOTTOM",e.BOTTOM_LEFT="BOTTOM_LEFT",e.LEFT="LEFT",e.OVERLAP="OVERLAP",e))(x||{}),y=n(968169);n(331497);var v=n(347080);function b(){return(0,l.md)(u.uc)}function C(){let e=(0,r.d4)(({mirror:{appModel:e}})=>e.showUi),t=0;return(0,y.lK)()&&e&&(t+=(0,c.jz)(v.ui3RulerMargin)),(0,a.useMemo)(()=>({left:t,right:0}),[t,0])}function E(e,t=20){let n=function(e,t){let[n,i]=(0,a.useState)([]),r=(0,s.PU)(),l=(0,d.wm)(()=>t?r.filter(e=>e!==t&&!e.contains(t)&&!t.contains(e)):r,[r,t]),c=(0,a.useCallback)(t=>{i(t.map(t=>{let{x:n,y:i,width:a,height:r}=t.getBoundingClientRect();return 0===a||0===r?o.r.fromOriginAndSize(n,i,a,r):j(n,i,a,r,e)}))},[i,e]);(0,a.useLayoutEffect)(()=>{c(l)},[c,l]),(0,a.useLayoutEffect)(()=>{let e=()=>{c(l)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[c,l]);let u=(0,a.useCallback)(t=>{let n=t.map(t=>{let n=l.findIndex(e=>e===t.target);if(-1!==n){let{x:i,y:a,width:r,height:s}=t.target.getBoundingClientRect();return[n,0===r||0===s?o.r.fromOriginAndSize(i,a,r,s):j(i,a,r,s,e)]}}).filter(e=>!!e);i(e=>{let t=[...e];return n.forEach(([e,n])=>{t[e]=n}),t})},[l,e]);return(0,a.useLayoutEffect)(()=>{let e=new ResizeObserver(u);return l.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[l,u]),(0,a.useLayoutEffect)(()=>{if(!("IntersectionObserver"in window))return()=>{};let e=new IntersectionObserver(e=>{u(e)},{root:null,rootMargin:"0px",threshold:1});return l.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[l,u]),(0,a.useMemo)(()=>n.filter(e=>!e.isEmpty()),[n])}(t,e.current??void 0);return(0,a.useCallback)((e,i,a)=>(function(e,t,n,i){let a=function(e,t){if(t.containsIncludingBoundary(e))return e;let n=e.width()<=t.width()?(0,p.qE)(e.left(),t.left(),t.right()-e.width()):e.left(),i=e.height()<=t.height()?(0,p.qE)(e.top(),t.top(),t.bottom()-e.height()):e.top();return new o.r(new g.M(n,i),e.size)}(e,t),r=(()=>{if(i)return i;let n=o.r.fromCenterSize(t.center(),e.size);return[n.left(),n.top()]})();return[...n,...n].reduce((e,t)=>e.hasIntersectionWith(t)?function({target:e,obstacle:t,targetPreviousXY:n}){let[i,a]=n,r=new o.r(new g.M(i,a),e.size);switch(function(e,t,n){switch(function(e,t){let n=e.right()<=t.left(),i=e.left()>=t.right(),a=e.bottom()<=t.top(),r=e.top()>=t.bottom();if(n&&a)return"TOP_LEFT";if(i&&a)return"TOP_RIGHT";if(i&&r)return"BOTTOM_RIGHT";if(n&&r)return"BOTTOM_LEFT";if(a)return"TOP";if(i)return"RIGHT";if(r)return"BOTTOM";else if(n)return"LEFT";else return"OVERLAP"}(t,n)){case"TOP":return"TOP";case"RIGHT":return"RIGHT";case"BOTTOM":return"BOTTOM";case"LEFT":return"LEFT";case"TOP_LEFT":return m(t.bottomRight(),e.bottomRight(),n.topLeft(),n.topRight())?"TOP":"LEFT";case"TOP_RIGHT":return m(t.bottomLeft(),e.bottomLeft(),n.topLeft(),n.topRight())?"TOP":"RIGHT";case"BOTTOM_RIGHT":return m(t.topLeft(),e.topLeft(),n.bottomLeft(),n.bottomRight())?"BOTTOM":"RIGHT";case"BOTTOM_LEFT":return m(t.topRight(),e.topRight(),n.bottomLeft(),n.bottomRight())?"BOTTOM":"LEFT";default:return"UNKNONWN"}}(e,r,t)){case"TOP":return new o.r(new g.M(e.left(),t.top()-e.height()),e.size);case"BOTTOM":return new o.r(new g.M(e.left(),t.bottom()),e.size);case"LEFT":return new o.r(new g.M(t.left()-e.width(),e.top()),e.size);case"RIGHT":return new o.r(new g.M(t.right(),e.top()),e.size);default:return e}}({target:e,obstacle:t,targetPreviousXY:r}):e,a)})(e,i.expand(-t),n,a),[n,t])}function j(e,t,n,i,a){return o.r.fromOriginAndSize(e-a,t-a,n+2*a,i+2*a)}},965883:(e,t,n)=>{n.d(t,{d:()=>c});var i=n(983500),a=n(607804),r=n(675847),s=n(375627),o=n(968169),l=n(383310),d=n(404343);function c(){let e=(0,o.qw)(),{isPropertiesPanelCollapsed:t}=(0,s.iT)(),n=(0,l.Ye)(),c=(0,o.dP)(),u=(0,o.Bv)(),p=(n?0:c)+((0,o.lK)()?(0,i.jz)(d.T_r):0)+u,m=(0,a.to)(),{leftOffset:h,rightOffset:f}=(0,r.h)();return m?[h,f]:[p,t?0:e]}},164131:(e,t,n)=>{n.d(t,{h:()=>p});var i=n(716976),a=n(903927),r=n(315910),s=n(514359),o=n(4033),l=n(288747),d=n(944350),c=n(904017),u=n(912610);function p(e){let t=(0,l.dq)(),n=(0,c.X$)("useOrgPrivateExtensions").unwrapOr(null),p=n?.key.type===d.OL.ORG,m=(0,o.cW)(),h=(0,o.ZT)(),f="plugin"===e?m:h,g=(0,a.wA)(),_=(0,s.Cb)(),x=(0,u.K$)(),y="plugin"===e?r.Xt:r.gI;return i.useEffect(()=>{p&&!_&&g(y())},[g,p,_,y]),(0,i.useMemo)(()=>{if(!p||_)return[];let e=(0,u.Qt)((0,u.i8)(Object.values(f)),t||"");return x&&(e=(0,u._w)(e,x)),Object.values(e).map(e=>(0,u.uF)(e))},[x,_,p,f,t])}},407738:(e,t,n)=>{n.d(t,{f:()=>V});var i=n(657913),a=n(266808),r=n(170627),s=n(681958),o=n(980852),l=n(812714),d=n(498520),c=n(997629),u=n(246144),p=n(638871),m=n(291507),h=n(636208),f=n(954231),g=n(950836),_=n(393470),x=n(775428),y=n(260776),v=n(920498),b=n(883765),C=n(431222),E=n(583516),j=n(947153),w=n(159520),T=n(275947);function k(e,t,n){let i=a.XJn.getCustomizableVariableName(n.guid,e);if(!i)return;let r=(0,T.tm)(i);if(r)return t[r]}let I={bottomLeftRadius:"rectangleBottomLeftCornerRadius",bottomRightRadius:"rectangleBottomRightCornerRadius",topLeftRadius:"rectangleTopLeftCornerRadius",topRightRadius:"rectangleTopRightCornerRadius"};function S(e,t){r.l7.ai("first-draft-override-radius",()=>{e.setBoundVariable(t,null)})}let N={itemSpacing:"stackSpacing",paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"};function A(e,t){r.l7.ai("first-draft-override-spacing",()=>{e.setBoundVariable(t,null)})}function L(e){r.l7.ai("first-draft-set-font-name",()=>{e.setRangeBoundVariable(0,e.characters.length,"fontFamily",null),e.setRangeBoundVariable(0,e.characters.length,"fontStyle",null),e.setRangeBoundVariable(0,e.characters.length,"fontWeight",null)})}async function O(e,t,n){let i=a.XJn.inheritedTextStyleGuid(e.guid);if(null===i){L(e);return}let s=(0,o.UN)().get(i);if(!s||!n||!n.variableMaps?.fontVariableMap){L(e);return}if(!("fontFamily"in s.boundVariablesForStyle))return;let l=s.boundVariablesForStyle.fontFamily,d=function(e,t,n){let i=a.XJn.getCustomizableVariableName(t.guid,e);if(!i)return null;let r=(0,T.tm)(i);return r?n[r]??null:null}(l.id,e,n.variableMaps.fontVariableMap);if(!d){L(e);return}try{await (0,v.uW)(d.fontName),r.l7.ai("first-draft-set-font-name",()=>{e.fontName=d.fontName,d.letterSpacing&&(e.letterSpacing=d.letterSpacing)}),t[l.id]=d.fontName.family}catch(n){L(e);let t=void 0===n?"undefined":n instanceof Error?n.message:JSON.stringify(n);b.az.trackDefinedEvent("ai_generation.first_draft_font_error",{error:t,family:d.fontName.family,style:d.fontName.style,location:"override-variables"})}}async function R(e){await Promise.all(e.node.childrenNodes.map(t=>P({...e,node:t}))),(0,j.V5)(e.node)}async function P(e){var t;let{node:n,variableOverrideMap:i,theme:s,colorOptions:o}=e;!function(e,t){if("HORIZONTAL"===e.stackMode||"VERTICAL"===e.stackMode)for(let[n,i]of Object.entries(N)){let a=e.boundVariables&&e.boundVariables[n];if(!a)continue;if(!t||!t.variableMaps){A(e,n);continue}let s=k(a.id,t.variableMaps.numberVariableMap,e)??void 0;if(void 0===s){A(e,n);continue}r.l7.ai("first-draft-override-spacing",()=>{let t=e[i],n=(0,E.o$)(t);e[i]=(0,E.nV)({value:t,rangeSize:n},s,1)})}}(n,s),function(e,t,n){if(e.boundVariables)for(let[i,a]of Object.entries(I)){let s=e.boundVariables&&e.boundVariables[i];if(!s)continue;if(!n||!n.variableMaps){S(e,i);continue}let o=k(s.id,n.variableMaps.numberVariableMap,e)??void 0;if(void 0===o){S(e,i);continue}r.l7.ai("first-draft-override-radius",()=>{let n=(0,E.UO)(e,e[a],o,1);e[a]=n,t[s.id]=n})}}(n,i,s),"TEXT"===n.type&&await O(n,i,s);let l=n.fills.some(e=>"IMAGE"===e.type),d=!l&&o.modeChanged;if(t={node:n,getNewColor:(e,t)=>{let i=t.varId&&s?function(e,t,n){if(!t.variableMaps)return;let i=a.XJn.getCustomizableVariableName(n.guid,e);if(!i)return;let r=(0,T.tm)(i);if(r)return t.variableMaps.colorVariableMap[r]}(t.varId,s,n):void 0;return(0,y.Jv)(e,{...t,brandColor:i})},variableOverrideMap:i,options:{...o,modeChanged:d,role:(0,x.Dk)(n)}},r.l7.ai("first-draft-override-paints",()=>{(0,y.oR)(t)}),n.childCount){let e=(0,y.gU)(n.fills,l?void 0:o.parentFillColor);await R({node:n,variableOverrideMap:i,theme:s,colorOptions:{...o,modeChanged:d,parentFillColor:e}})}}async function M(e,t,n){await P({node:e,variableOverrideMap:t,theme:n,colorOptions:{mode:n&&n.darkMode?x.lH.DARK:x.lH.LIGHT,modeChanged:!!n?.darkMode}})}async function D(e){for(let t of(0,C._F)(e,["INSTANCE","FRAME"],{sharedPluginData:{namespace:"jsx",keys:["theme"]}})){(0,f.xF)(t.guid);let e=t.getSharedPluginData("jsx","theme");if(e)try{let n=JSON.parse(e),i=(0,w.Vx)(n);await M(t,{},i)}catch(t){(0,u.x1)("First Draft theming","Failed to parse theme",{themeStr:e,e:t})}}}var F=n(306184);async function B(e,t,n){let a=(0,h.D)({enableNativeJsx:!0});a.skipInvisibleInstanceChildren=!0;let r=(0,o.UN)(),s=null;if((0,l.kc)().first_draft_share_jsx){let a=await (0,i._1)(e,n,{showUnhandled:!!(0,l.kc)().first_draft_debug,headless:!1});if(!(s=a.node))throw Error("Could not find new node");t&&(t.trackComponentLookupSuccess(a.stats?.componentLookupSuccesses??0),t.trackComponentLookupFailure(a.stats?.componentLookupFailures??0))}else{let t=await a.createNodeFromJSXAsync(e);s=r.get(t.id)}return s.localOpacity=0,s}async function U(e,t,n){let i=(0,F.uP)(e,{ignoreOpacity:!0}),a=(0,F.rO)(e,i);r.l7.ai("first-draft-override-paints",()=>{let n=t.darkMode?x.lH.DARK:x.lH.LIGHT;n!==(0,_.P)(e)&&(0,_.t)(e,n);let i=(0,d.tK)(t.brandColor);if(i){let t=(0,y.gU)(e.fills);t&&e.childrenNodes.forEach(e=>{(0,g.l9)(e,i,n,{},"",t)})}}),r.l7.ai("first-draft-remove-fill",()=>{e.fills=[]}),await (0,F.jR)(e,(0,F.k5)({fontFamilies:a.fontFamilies},{fontFamilies:t.fontFamilies}),n)}async function H(e,t,n){let i={};for(let a of e){if(r.l7.ai("first-draft-set-plugin-data",()=>{if(n.frameName&&a.name!==n.frameName&&(a.name=n.frameName),t&&a.setSharedPluginData(p.SV,"jsx",t),n.theme&&a.setSharedPluginData(p.SV,"theme",JSON.stringify(n.theme)),n.sharedPluginData)for(let[e,t]of Object.entries(n.sharedPluginData))a.setSharedPluginData(p.SV,e,t)}),n.addWireframeBorder&&r.l7.ai("first-draft-set-wireframe-border",()=>{(0,f._Y)(a)}),(0,f.jZ)(a,n.dsKitKey,n.clientLifecycleId),n.directGeneration&&(0,l.kc)().first_draft_direct_gen_layout_heuristics?(0,f.WY)(a):n.autoFillParent&&a&&(0,f.tG)(a),await M(a,i,n.theme),n.themeProperties){if(!n.deviceType)throw Error("deviceType must be provided if themeProperties is provided");await U(a,n.themeProperties,n.deviceType)}n.isEval&&await D(a),(0,f.Zu)(a)}return{themeOverrideMap:i}}async function V({jsxStr:e,jsxElement:t,prevExpandedJsx:n,customJsxElementRegistry:d,options:p},g){let _=(0,o.UN)(),x=(0,h.D)({enableNativeJsx:!0});if(x.skipInvisibleInstanceChildren=!0,!p.prevNodeId){let n=await B(t,g,d.getShareJsxComponentInfoByJSXName());if(!n)throw Error("Could not find new node");r.l7.ai("first-draft-insert-jsx",()=>{if(p.parentNodeId){let e=_.get(p.parentNodeId);if(!e)throw(0,u.x1)("first-draft","Could not find parent node with parentNodeId",{parentNodeId:p.parentNodeId}),Error("Could not find parent node with parentNodeId");let t=[n];for(let n of(t.reverse(),t))p.insertAtIndex?p.insertAtIndex===e.childCount?e.appendChild(n):e.insertChild(n,p.insertAtIndex):e.appendChild(n)}}),n.flushAsyncUpdatersAndUpdateSymbolInstancesDescendedFrom();let i=await H([n],e,p);return await (0,f.U_)(n,p),n.removeLocalOpacity(),{insertNodeIds:[n.guid],customizationResult:i}}let y=_.get(p.prevNodeId);if(!y)throw(0,u.x1)("first-draft","Could not find node with prevNodeId",{prevNodeId:p.prevNodeId}),Error("Could not find node with prevNodeId");let v=(0,i.JF)(n),b=null;if((0,l.kc)().first_draft_share_jsx){let e=await (0,c.m)({node:y,jsxElement:t,oldJSXElement:v,options:{...i.RP,transformUnhandledNodes:!!(0,l.kc)().first_draft_debug,componentInfoByJSXName:d.getShareJsxComponentInfoByJSXName()}});b=e.node,g&&(g.trackComponentLookupSuccess(e.stats?.componentLookupSuccesses??0),g.trackComponentLookupFailure(e.stats?.componentLookupFailures??0))}else{let e=await x.reconcileNodeFromJSXAsync({id:y.guid},v,t);b=_.get(e.id)}if(!b)throw Error("Could not find updated node");b.flushAsyncUpdatersAndUpdateSymbolInstancesDescendedFrom();let C=await H([b],e,p);return p.shouldAnimateLoading&&p.doneTextLayerIds&&function(e,t,n){let i=[];for(let e of((0,s.hV)(t,e=>{"TEXT"===e.type&&i.push(e)}),i))n.has(e.guid)||((0,f.us)(e)?(a.zuo.cancelAllAnimationsForNode(e.guid),n.add(e.guid)):a.zuo.isAnimating(e.guid)||e.setOpacityWithAnimation(1,m._E.forOpacityOscillation(45,.25,.8,60),"first-draft-text-layer-opacity"))}(0,b,p.doneTextLayerIds),b.guid!==p.prevNodeId&&await (0,f.U_)(b,p),{insertNodeIds:[b.guid],customizationResult:C}}},950836:(e,t,n)=>{n.d(t,{N_:()=>c,l9:()=>u,tb:()=>d});var i=n(88314),a=n(58599),r=n(498520),s=n(775428),o=n(260776);function l(e){let t=new Set,n=new Set;return e.forEach(e=>{7===e.length?t.add(e):n.add(e)}),[Array.from(t),Array.from(n)]}function d(e,t){let{bg:n,content:d}=t,c=(0,r.HD)(e)?s.lH.DARK:s.lH.LIGHT,u=(0,r.F_)(e),p=(0,a.oB)(e),m=n.filter(e=>e!==u),[h,f]=l(m),g=function(e){let t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t}(m),_=h.sort((e,t)=>g[t]-g[e]),x=_.find(e=>{let t=(0,r.tK)(e);if(!t)return!1;let n=(0,a.oB)(t);return(0,o.x)(n.l,c)&&!(0,i.xN)(n.l,p.l,.12)});if(x)return x;let[y,v]=l(d),b=y.find(e=>{let t=(0,r.tK)(e);return t&&(0,s.Yx)((0,a.oB)(t).l,s.lg.CONTENT)});if(b)return b;if((0,o.x)(p.l,c)&&!(0,o.c4)(p.l))return u;let C=f.sort((e,t)=>g[t]-g[e]).find(e=>{let t=(0,r.tK)(e);if(!t)return!1;let n=(0,a.oB)(t);return(0,o.x)(n.l,c)});return C?C:v.find(e=>{let t=(0,r.tK)(e);return t&&(0,s.Yx)((0,a.oB)(t).l,s.lg.CONTENT)})||(_.length?_[0]:y.length?y[0]:u)}function c(e){let t={};if(!e)return t;let n=[e];for(;n.length>0;){let e=n.pop();if(e){if(e.fills.length>0){let n=(0,o.gU)(e.fills);if(n){let i=(0,a.oB)(n);t[e.guid]={s:i.s,l:i.l}}}else if(e.strokePaints.data.length>0){let n=(0,o.gU)(e.strokePaints.data);if(n){let i=(0,a.oB)(n);t[e.guid]={s:i.s,l:i.l}}}"childrenNodes"in e&&n.push(...e.childrenNodes)}}return t}function u(e,t,n,i,a,r){e&&function e(t,n,i,a){if(t.name.toLowerCase().includes("swatch"))return;let r=i[t.guid];if((0,o.oR)({node:t,getNewColor:n,options:{...a,modeChanged:!1,role:(0,s.Dk)(t),originalSL:r}}),t.childCount){let r=t.fills.some(e=>"IMAGE"===e.type),s=(0,o.gU)(t.fills,r?void 0:a.parentFillColor);t.childrenNodes.forEach(t=>{e(t,n,i,{...a,parentFillColor:s})})}}(e,(e,n)=>(0,o.Jv)(e,{...n,brandColor:t}),i,{mode:n,currentBrandHex:a,parentFillColor:r})}},393470:(e,t,n)=>{n.d(t,{P:()=>s,t:()=>o});var i=n(498520),a=n(775428),r=n(260776);function s(e){let t=(0,r.X6)(e);if(t)return(0,i.HD)(t)?a.lH.DARK:a.lH.LIGHT}function o(e,t,n){e&&function e(t,n,i){let s=t.fills.some(e=>"IMAGE"===e.type),o=!s&&i.modeChanged;if((0,r.oR)({node:t,getNewColor:n,options:{...i,modeChanged:o,role:(0,a.Dk)(t)}}),t.childrenNodes){let a=(0,r.gU)(t.fills,s?void 0:i.parentFillColor);t.childrenNodes.forEach(t=>{e(t,n,{...i,modeChanged:o,parentFillColor:a})})}}(e,(e,t)=>(0,r.Jv)(e,{...t,brandColor:void 0}),{mode:t,modeChanged:!0,currentBrandHex:n})}},159520:(e,t,n)=>{n.d(t,{t_:()=>m,Vx:()=>p});var i=n(638004),a=n(498520),r=n(550209),s=n(376314),o=n(556230),l=n(775428),d=n(260776);let c={[s.GS.DEFAULT]:[{"font/title/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Plus Jakarta Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/title/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/title/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/body/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}],[s.GS.SERIF]:[{"font/title/bold":{fontName:{family:"Domine",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Domine",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Roboto Serif",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Roboto Serif",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}]};function u(e){return e[Math.floor(Math.random()*e.length)]}function p(e){let t={numberVariableMap:{},colorVariableMap:{}},n="true"===e[s.u7.DARK_MODE];for(let[i,r]of Object.entries(e||{}))switch(i.split("/")[0]){case s.u7.COLOR:let e=(0,a.tK)(r);if(!e)continue;t.colorVariableMap[i]=(0,d.qO)(e,n?l.lH.DARK:l.lH.LIGHT);break;case s.u7.CORNER_RADIUS:case s.u7.SPACING:let p=parseFloat(r);!isNaN(p)&&p>=o.Xy&&p<=o.Ne&&(t.numberVariableMap[i]=p);break;case s.u7.FONT:switch(r){case s.GS.SERIF:case s.GS.DEFAULT:t.fontVariableMap=u(c[r]);break;default:t.fontVariableMap=u(c[s.GS.DEFAULT])}}return{darkMode:n,variableMaps:t}}function m(e,t){try{return p(e)}catch(n){return n instanceof Error&&(0,r.$D)(i.e.AI_GENERATION,Error(`[First Draft theme] Error parsing theme from output: ${n.message}`),{extra:{...t,theme:JSON.stringify(e),error:n}}),{}}}},289798:(e,t,n)=>{n.d(t,{fv:()=>h,pK:()=>_});var i=n(430301),a=n(199959),r=n(638004),s=n(266808),o=n(980852),l=n(725837),d=n(550209),c=n(432099),u=n(469229),p=n(338052),m=n(638871);function h(e){let t=new Set([]),n=[...e];for(;n.length;){let e=n.pop();if(e){for(let r of(e.type.startsWith(i.COMPONENT_PREFIX)&&t.add(e.type),e.children))(0,a.id)(r)&&n.push(r);for(let t of Object.values(e.props))if("string"!=typeof t){if((0,a.id)(t))n.push(t);else if(Array.isArray(t))for(let e of t)(0,a.id)(e)&&n.push(e)}}}return t}async function f(e,t,n){if(t?.type==="LOCAL")throw Error("Can only insert library components");if(!n)return(0,d.$D)(r.e.AI_GENERATION,Error("[First Draft] Attempted to insert component without kitContents")),{status:"error"};let a=function(e,t){let n=t.toLowerCase();if(e.components[n]){let t=e.components[n];return{assetType:"component",key:t.key,version:t.version}}if(e.state_groups[n]){let t=e.state_groups[n];return{assetType:"state_group",key:t.key,version:t.version}}return null}(n,e);if(!a)return{status:"error"};let{assetType:u,key:p,version:m}=a;if("component"===u){let t=s.XJn.getComponentByKeyAndVersion(p,m);if(t)return{status:"success",key:p,version:m,jsxName:(0,i.getComponentJSXName)(e),guid:t}}if("state_group"===u){let t=s.XJn.getStateGroupByKeyAndVersion(p,m);if(t)return{status:"success",key:p,version:m,jsxName:(0,i.getComponentJSXName)(e),guid:t}}try{let e=l.D?.getState().fileVersion||0,t=await (0,c.GD)(`/api/file_proxy/${u}/${p}/version/${m}/canvas`,{fv:e.toString()},{responseType:"arraybuffer"}),n=new Uint8Array(t.response),a=s.NfO.deserializeProductComponentFromBuffer(p,n),r=(0,o.UN)().get(a);if(!r)throw Error("Deserialized component not found in scene graph");return{status:"success",key:p,version:m,jsxName:(0,i.getComponentJSXName)(r.name),guid:a}}catch(e){if(e instanceof c.Dr&&e.status>=400)return{status:"error"};throw e}}let g=(0,p.n)(async function(e,t){let n=(0,u.U2)(l.D?.getState().selectedView),i=await c.Ay.post(`/api/first_draft/kit_contents/${e.key}`,{jsx_names:t,file_key:n});return i?.data?.meta??null});async function _({dsKitKey:e,jsxJSON:t,componentNameToInsertResult:n}){if("LOCAL"===e.type)return;let i=h(t),a=new Set;for(let e of i)e in n||a.add(e);if(0===a.size)return;let r=await g(e,Array.from(a)),s=r?.components??{},o=(0,m.Q$)(s),l=r?.state_groups??{},d={components:o,state_groups:(0,m.Q$)(l)};await Promise.all(Array.from(a).map(async t=>{let i=await f(t,e,d);return"success"===i.status&&(n[i.jsxName]=i),i}))}},731930:(e,t,n)=>{n.d(t,{C2:()=>b,Vh:()=>E});var i=n(104076),a=n(716976),r=n(657913),s=n(998432),o=n(638004),l=n(266808),d=n(980852),c=n(812714),u=n(851824),p=n(770366),m=n(743072),h=n(550209),f=n(246144),g=n(407738),_=n(954231),x=n(289798),y=n(638871),v=n(598369);function b(e){return new r.yT({dsKitKey:e.dsKitKey,publishedComponentToInsertResult:e.componentNameToInsertResult??{},componentInfoByName:e.componentNameToInfo??{},options:{enableTsArrays:!!(0,c.kc)().first_draft_ts_arrays,shareJSX:!!(0,c.kc)().first_draft_share_jsx,useAllComponents:!!(0,c.kc)().first_draft_publish_all_components,onError:(e,t)=>{(0,h.$D)(o.e.AI_GENERATION,e,t)}}})}async function C(e,t,n={}){let i;let a=(0,r.eb)(e.jsxStr),s=a&&""!==a?a:e.jsxStr;if((n.prevJsxStr??"")===s)return{};if(!n.prevNodeId&&n.prevJsxJSON&&n.prevJsxJSON.length>0)throw Error("prevJsxJSON should be null");let l=await (0,r.Kf)(s);if(!l)return{};await n.onBeforeInsertJSX?.(l);let d={prevNodeId:n.prevNodeId,isIncomplete:!function(e){let t=e.match(/<([^\/\s>]+)[^>]*>/),n=e.match(/<\/([^>]+)>/g)?.pop();return!!t&&!!n&&t[1]===n.replace("</","").replace(">","")}(s),autoFillParent:!0,insertBehavior:"viewport-ease",shouldGenerateImages:!0,...e.options},u=b(d);t.resetComponentStats();let p=await (0,r.BW)(l,u,t,{directGen:!!d.directGeneration,showUnhandled:!!(0,c.kc)().first_draft_debug,useShareJSX:!!(0,c.kc)().first_draft_share_jsx});if(0===p.length)return{};try{i=(0,r.JF)(p)}catch(t){let e={elements:p.length};return(0,h.$D)(o.e.AI_GENERATION,t,e),{}}let{insertNodeIds:m,customizationResult:f}=await (0,g.f)({jsxStr:s,jsxElement:i,prevExpandedJsx:n.prevExpandedJsx??[],customJsxElementRegistry:u,options:d},t);return{insertNodeIds:m,customizationResult:f,jsxStr:s,jsxJSON:l,expandedJsx:p}}function E({onAfterInsertPartialJsx:e,onReset:t,onImageProgress:n,shouldContinueStream:g,clientLifecycleId:b,insertType:E}){let j=(0,a.useRef)({}),w=(0,a.useRef)(null),T=(0,a.useRef)({}),k=(0,a.useRef)({}),I=(0,a.useRef)({}),S=(0,a.useRef)(new r.sw(E||"generate",p.rI)),N=(0,a.useRef)(null);(0,a.useEffect)(()=>{N.current=m.J6.startUserFlow({name:"first_draft_generate",team:o.e.AI_GENERATION})},[]);let A=(0,a.useCallback)(async t=>{try{let n=N.current?.startDuration("first_draft_insert_jsx");j.current.isRunning=!0,j.current.donePromise=(async()=>{try{let e={jsxStrLength:t.jsxStr?.length,options:{parentNodeId:t.options.parentNodeId,isIncomplete:t.options.isIncomplete,prevNodeId:t.options.prevNodeId},clientLifecycleId:b},a={...e,jsxStr:t.jsxStr};(0,f.ED)("first-draft","Inserting Streamed JSX Updates",e,{createSentryBreadcrumb:!0,logToConsole:h.NU.NEVER}),(0,f.ED)("first-draft","Inserting Streamed JSX Updates",a,{createSentryBreadcrumb:!1}),j.current.doneTextLayerIds=j.current.doneTextLayerIds||new Set,j.current.componentNameToInfo={...j.current.componentNameToInfo,...t.options.componentNameToInfo},j.current.componentNameToInsertResult=j.current.componentNameToInsertResult||{};let{insertNodeIds:r,customizationResult:s,jsxJSON:o,jsxStr:l,expandedJsx:d}=await C({...t,options:{...t.options,componentNameToInsertResult:j.current.componentNameToInsertResult,componentNameToInfo:j.current.componentNameToInfo,shouldAnimateLoading:(0,c.kc)().first_draft_animations,doneTextLayerIds:j.current.doneTextLayerIds,clientLifecycleId:b}},S.current,{prevNodeId:w.current,prevJsxStr:j.current.jsxStr,prevJsxJSON:j.current.jsxJSON,prevExpandedJsx:j.current.expandedJsx,onBeforeInsertJSX:async e=>{await (0,x.pK)({jsxJSON:e,dsKitKey:t.options.dsKitKey,componentNameToInsertResult:j.current.componentNameToInsertResult??{}})}});if(n?.addContext({hasJson:void 0!==o,insertNodeIdsLength:r?.length}),n?.stop(),!r){if(void 0===o)return;throw Error("Failed to insert any nodes")}if(r.length>1)throw Error("Expected at most one node to be inserted");(0,_.OJ)(r[0]),w.current!==r[0]&&(w.current&&(0,v.ks)(w.current),(0,v.Vm)(r[0],(0,i.jsx)(i.Fragment,{}),{overflowHidden:!0})),w.current=r[0],T.current={...T.current,...s?.themeOverrideMap??{}},j.current.jsxStr=l,j.current.jsxJSON=o,j.current.expandedJsx=d,j.current.queuedEffects=j.current.queuedEffects||{}}catch(e){(0,h.$D)(o.e.AI_GENERATION,e instanceof Error?e:Error(e)),w.current&&!(0,d.UN)().get(w.current)&&(w.current=null,j.current.jsxStr=void 0,j.current.jsxJSON=void 0,j.current.expandedJsx=void 0)}try{if(w.current){if(t.options?.shouldGenerateImages){if(t.options.imageArgs)(0,_.Ms)({containingNodeId:w.current,queuedEffects:j.current.queuedEffects,shouldContinueStream:g,imagesTrace:I.current,jsxJSON:j.current.jsxJSON,initialUserPrompt:t.options.imageArgs?.initialUserPrompt||"",clientLifecycleId:b,instrumentationRef:S});else throw Error("Tried to generate images without image args")}(0,_.D9)(w.current,j.current.queuedEffects,t.options),(0,c.kc)().first_draft_direct_gen||(0,_.fE)({containingNodeId:w.current}),e?.(w.current)}}catch(e){(0,h.$D)(o.e.AI_GENERATION,e instanceof Error?e:Error(e))}})(),await j.current.donePromise,j.current.insertAgainWhenDone&&((0,f.ED)("first-draft","Re-Inserting JSX Updates (Immediate)",{jsxStrLength:j.current.lastArgs?.jsxStr?.length,options:{parentNodeId:j.current.lastArgs?.options.parentNodeId,isIncomplete:j.current.lastArgs?.options.isIncomplete,prevNodeId:j.current.lastArgs?.options.prevNodeId}}),j.current.insertAgainWhenDone=!1,await A(j.current.lastArgs))}finally{j.current.isRunning=!1}},[e,g,b]),L=(0,u.A)(A,500,{leading:!0,maxWait:1e3}),O=(0,a.useCallback)(async()=>{await N.current?.measureDurationAsync("flushPending",async()=>{for(L.isPending()&&await L.flush();j.current.isRunning;)j.current.donePromise&&await j.current.donePromise,await y.Mb(10);let e=j.current.queuedEffects??{};(await Promise.allSettled(Array.from(Object.values(e)))).forEach(e=>{"rejected"!==e.status||e.reason instanceof s.G1&&500>s.Iu(e.reason)||h.$D(o.e.AI_GENERATION,e.reason)})})},[L]),R=(0,a.useCallback)(async()=>{try{await O()}finally{if(t?.(),w.current&&((0,v.ks)(w.current),(0,_.RY)(w.current)),j.current.lastArgs){let e=Object.keys(T.current).length>0;await (0,_.oT)(j.current.lastArgs.options?.dsKitKey,w.current,l.oVz.CURRENT,{detachVariables:e})}w.current=null,j.current={},k.current={},I.current={}}},[O,t]),P=(0,a.useCallback)(e=>(j.current.lastArgs=e,j.current.isRunning)?(j.current.insertAgainWhenDone=!0,Promise.resolve()):L?.(e)||Promise.resolve(),[L]);return(0,a.useEffect)(()=>{let e=S.current;if(!n)return;let t=()=>n(e.instrumentationData.imageSuccesses,e.instrumentationData.numImages);return e.imageProgressEmitter.on("statusChanged",t),()=>{e.imageProgressEmitter.removeListener("statusChanged",t)}},[S,n]),{insertJSX:P,resetAsync:R,flushPending:O,nodeIdRef:w,imagesTraceRef:I,themeOverrideMapRef:T,userFlowRef:N,instrumentationRef:S}}},127123:(e,t,n)=>{n.d(t,{Dp:()=>w,WX:()=>T,TM:()=>k});var i=n(716976),a=n(657913),r=n(382629),s=n(638004),o=n(266808),l=n(170627),d=n(980852),c=n(550209),u=n(246144),p=n(443044),m=n(159520),h=n(484005),f=n(354114),g=n(772523),_=n(211862),x=n(587277),y=n(384851),v=n(167151),b=n(731930),C=n(638871);async function E(e={}){let{sleepTime:t=100}=e;await new Promise(e=>setTimeout(e,t))}async function*j(e,t={}){let{chunksPerYield:n=20,useWords:i=!0}=t;if(i){let i=e.split(" "),a=[];for(let e=0;e<i.length;e+=n)a.push(...i.slice(e,e+n)),await E(t),yield a.join(" ")}else{let i=e.split(""),a=[];for(let e=0;e<i.length;e+=n)a.push(...i.slice(e,e+n)),await E(t),yield a.join("")}}function w(){return{loadingComponentType:"ComponentLoading",shouldGenerateImages:!0}}function T(e){return e?.metadata.direct_generation||e?.dsKitKey?.type==="USER_LIBRARY"||e?.dsKitKey?.type==="LOCAL"}function k({mockStreamOptions:e,onInsertJSXDone:t,onAfterInsertPartialJsx:n,shouldContinueStream:k,clientLifecycleId:S,insertType:N}){let A=(0,_.tS)(),L=(0,v.cJ)(),O=(0,i.useRef)(null),R=(0,i.useRef)(void 0),P=(0,i.useRef)(void 0),M=(0,i.useRef)(null),D=(0,i.useRef)(null),[F,B]=(0,i.useState)({loaded:0,total:0}),{insertJSX:U,resetAsync:H,flushPending:V,nodeIdRef:G,imagesTraceRef:z,instrumentationRef:K,userFlowRef:W,themeOverrideMapRef:Z}=(0,b.Vh)({onAfterInsertPartialJsx:e=>{if(L&&e){let t=(0,d.UN)().get(e);t?.isBreakpointFrame&&(t?.parentNode?.childrenNodes??[]).length>1&&(l.l7.ai("first-draft-sites-page-remove",()=>{t.parentNode?.childrenNodes.filter(e=>e.guid!==t.guid).forEach(e=>e.removeSelfAndChildren())}),setTimeout(()=>{o.glU.triggerAction("goto-layer",{args:{nodeId:e}})},200))}n?.(e)},onReset:()=>{R.current=void 0,B({loaded:0,total:0})},onImageProgress:(e,t)=>{B({loaded:e,total:t})},shouldContinueStream:k,clientLifecycleId:S,insertType:N}),{isRunning:q,runPrompt:X,runPromptMocked:Y}=function({onPromptOutput:e,onBeforeRunPrompt:t,onRunPromptSuccess:n,onRunPromptError:a,shouldContinueStream:r,mockStreamOptions:s,clientLifecycleId:o}){let[l,d]=(0,i.useState)(!1),c=(0,i.useRef)({}),u=(0,i.useCallback)(async(i,s)=>{if(!l)try{c.current={},d(!0),t?.(s),await i(t=>{e?.(t,s),c.current=t},r),await n?.(c.current,s)}catch(e){throw await a?.(e,c.current,s),e}finally{d(!1)}},[l,t,e,a,n,r]);return{isRunning:l,runPrompt:(0,i.useCallback)(async(e,t)=>await u(async(t,n)=>{await (0,C._J)(e,t,n,o)},t),[o,u]),runPromptMocked:(0,i.useCallback)(async(e,t)=>await u(async t=>{if(await E(s),!e.dsKit)throw Error("dsKit is required in mockedResponse");let n=e.dsKit,i=e.theme??{},a=e.jsx??"";for await(let e of(t({theme:i}),await E(s),j(a,s)))t({dsKit:n,theme:i,jsx:e});t({dsKit:n,theme:i,jsx:a})},t),[u,s])}}({mockStreamOptions:e,shouldContinueStream:k,clientLifecycleId:S,onBeforeRunPrompt:e=>{if(e.analyticsOptions){let{dsKitType:t,isLocal:n,kitKey:i}=I(null,e.insertJSXOptions);K.current.start(),W.current?.addContext({file_key:A,generateId:S,clientLifecycleId:S,dsKitType:t,isLocal:n,kitKey:i,kitIdentifier:D.current?.metadata.identifier??null}),W.current?.trackEvent("First Draft: Layout Generation Started",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptSuccess:async(e,n)=>{if(K.current.trackLastStreamByteReceived(),await V(),e.trace){let t={...O.current,...e.trace,children:[...O.current?.children??[],...e.trace.children,...Object.values(z.current)]};O.current=t}if(k()){let n=(0,a.eb)(e.jsx??"");if(!e.dsKit&&!G.current)throw Error("No dsKit in prompt output");if(n&&!G.current)throw Error("JSX was present in the prompt output but no node was inserted");try{await t?.(G.current,Z.current,M.current,P.current??[])}catch(e){(0,c.$D)(s.e.AI_GENERATION,e,{extra:{nodeId:G.current,themeOverrideMap:Z.current,dsKitKey:M.current,presets:P.current}})}}if(n.analyticsOptions){let{dsKitType:t,isLocal:i,kitKey:a}=I(e,n.insertJSXOptions);W.current?.addContext({promptOutput:JSON.stringify({dsKit:e.dsKit,theme:e.theme,presets:e.presets}),timeElapsedMs:Date.now()-n.analyticsOptions.startTime,dsKitType:t,isLocal:i,kitKey:a,file_key:A,generateId:S,clientLifecycleId:S,kitIdentifier:D.current?.metadata.identifier??null}),k()?G.current?(K.current.trackFinished("success"),W.current?.addContext({nodeId:G.current,status:"completed",instrumentationData:JSON.stringify(K.current.instrumentationData)})):(K.current.trackFinished("failure"),W.current?.addContext({status:"failed",reason:"empty generation",instrumentationData:JSON.stringify(K.current.instrumentationData)})):(K.current.trackFinished("stopped"),W.current?.addContext({nodeId:G.current,status:"failed",reason:"stopped",instrumentationData:JSON.stringify(K.current.instrumentationData)})),W.current?.end(),W.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptError:(e,t,n)=>{K.current.trackFinished("failure"),t.trace&&(O.current={...O.current,...t.trace});let{dsKitType:i,isLocal:a,kitKey:r}=I(t,n.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:t.dsKit??{},jsx:t.jsx??"",theme:t.theme??{}}),error:e.toString(),timeElapsedMs:Date.now()-(n.analyticsOptions?.startTime??0),dsKitType:i,isLocal:a,kitKey:r,file_key:A,clientLifecycleId:S,kitIdentifier:D.current?.metadata.identifier??null},l=(0,c.$D)(s.e.AI_GENERATION,e,{extra:o});W.current?.addContext({...o,status:"failed",reason:"error",nodeId:G.current,sentryEventId:l}),W.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},onPromptOutput:(e,t)=>{if(K.current.trackFirstByteReceived(),e.dsKit){if(e.dsKit.isLocal){let e=t.insertJSXOptions.dsKitKey;M.current={type:"LOCAL",pageId:e.pageId}}else e.dsKit.isDirectGenLibrary?M.current={type:"USER_LIBRARY",key:e.dsKit.kitKey}:M.current={type:"1P_LIBRARY",key:e.dsKit.kitKey};if(!R.current&&e.theme&&(R.current=(0,m.t_)(e.theme,{generateId:S})),!P.current&&e.presets&&(P.current=e.presets),e.jsx)return U({jsxStr:e.jsx,options:{...t.insertJSXOptions,theme:R.current,dsKitKey:M.current}})}}}),J=(0,h.B)(),Q=(0,i.useCallback)(async e=>{"LOCAL"===e.dsKitKey.type&&A&&await (0,p.p4)(A,e,J)},[A,J]),$=(0,i.useCallback)(async(e,t,n)=>{let i;let a=e.prompt;if(q)return{nodeId:null,success:!0};await H();let{designSystem:p}=t;D.current=p;try{p&&await Q(p)}catch(e){return(0,c.$D)(s.e.AI_GENERATION,e),{nodeId:null,success:!1,error:e}}let m=function(e,t){if(!t)return{userPrompt:e};if("LOCAL"!==t.dsKitKey.type)return{userPrompt:e,kitKey:t.dsKitKey.key,isLocal:!1,isDirectGenerationCompatible:t.metadata?.direct_generation};let n=o.XJn.getKitKey(t.dsKitKey.pageId);if(!n)throw Error("Failed to get a kitKey for local kit");return{userPrompt:e,kitKey:n,isLocal:!0,isDirectGenerationCompatible:t.metadata?.direct_generation}}(a,p),h=null;if(t.selectedNodeIds&&t.selectedNodeThumbnailsCache&&t.selectedNodeIds.length>0){let n=t.selectedNodeIds.map(e=>(0,d.UN)().get(e)).filter(r.Vq);n.length!==t.selectedNodeIds.length&&(0,u.xi)("first-draft","Some selected nodes were not found",{selectedNodeIds:t.selectedNodeIds,selectedNodes:n}),h=(0,y.ce)(n),m.extraMessagesFigmateOnly=await (0,y.yh)(n,t.selectedNodeThumbnailsCache,e.attachmentMetadata)}let _={};if(L){let e=(0,d.UN)().getCurrentPage();if(e){let t=1===e.childCount&&e.childrenNodes[0].isResponsiveSet&&1===e.childrenNodes[0].childCount&&e.childrenNodes[0].childrenNodes[0].isBreakpointFrame&&0===e.childrenNodes[0].childrenNodes[0].childCount,n=null;t?(g.wr(),(0,x.S)("panel"),g.Dh([e.childrenGuids[0]])):l.l7.ai("first-draft-sites-page-create",()=>{o.glU?.createWebpage(null)}),n=(0,d.UN)().get(o.glU.getFirstSelectedNodeIdForCurrentPage()),_.parentNodeId=n?.guid,_.createNewSitesWebpage=!0,_.frameName="Primary"}}try{K.current.start(),await X(m,{insertJSXOptions:{frameName:a,imageArgs:{initialUserPrompt:a},...w(),...n,...h?{componentNameToInfo:{...h,...n.componentNameToInfo}}:{},..._,sharedPluginData:{userPrompt:a,...n.sharedPluginData},dsKitKey:p?.dsKitKey,directGeneration:T(p)},analyticsOptions:{startTime:K.current.startTime,clientLifecycleId:S}})}catch(e){i=e}let v=G.current;if(await H(),v&&!(0,d.UN)().get(v))throw Error("Failed to insert node");return f.Y5.commit(),{nodeId:v,success:!i,error:i}},[q,H,X,G,S,Q,L,K]);return{submitPromptMocked:(0,i.useCallback)(async(e,t)=>{if(q)return{nodeId:null,success:!0};await H(),await Y(e,{insertJSXOptions:{...w(),...t,imageArgs:{initialUserPrompt:"website"}},analyticsOptions:null});let n=G.current;return await H(),{nodeId:n,success:!0}},[q,H,Y,G]),submitPrompt:$,isRunning:q,executionTrace:O.current,imageProgress:F}}function I(e,t){let n=t.dsKitKey,i=n?.type??"AUTO",a=n?.type==="LOCAL"||e?.dsKit?.isLocal,r=n?"key"in n?n.key:n.pageId:e?.dsKit?.kitKey??null;return{dsKitOption:n,dsKitType:i,isLocal:a,kitKey:r}}},701038:(e,t,n)=>{n.d(t,{iK:()=>y,wP:()=>v});var i=n(716976),a=n(716736),r=n(170627),s=n(980852),o=n(769183),l=n.n(o),d=n(178623),c=n(400475),u=n(233990),p=n(967987),m=n(638871),h=n(431222),f=n(354114);function g(e){return!!("SYMBOL"===e.type||e.isStateGroup||(0,p.Gs)(e))}async function _({components:e,clientLifecycleId:t}){let n=await Promise.all(e.map(async e=>{let t=await (0,m.gC)(e);return{imageB64:t.base64,jsx:t.jsx,isStateGroup:e.isStateGroup}}));return(await d.Ay.design.firstDraftSuggestProps({requests:n},(0,h.sF)({clientLifecycleId:t}))).responses.map((t,n)=>{let i=e[n];return t&&i?{component:i,componentName:t.componentName,componentDescription:t.componentDescription,nodeIdsToPropertyNames:t.nodeIdsToPropertyNames.reduce((e,t)=>(e[t.id]=t.propertyName,e),{})}:null})}function x(e){let t=e.component;if(g(t)){if(t.name=e.componentName,(0,p.Gs)(t)){let n={componentPropertyDefinitions:[],componentPropertyReferences:{}};for(let[t,i]of Object.entries(e.nodeIdsToPropertyNames)){let e=(0,s.UN)().guidFromDeveloperFriendlyId(t),a=(0,s.UN)().get(e);a&&"TEXT"===a.type&&(n.componentPropertyDefinitions.push({name:i,type:"TEXT"}),n.componentPropertyReferences[t]={characters:i})}(0,p.p0)(t,n),(0,p.aj)(t,e.componentDescription)}else for(let n of(t.description||(t.description=e.componentDescription),Object.keys(e.nodeIdsToPropertyNames))){let i=(0,s.UN)().get(n);if(!i||"TEXT"!==i.type||i.isInstanceSublayer)continue;let a=t.componentPropertyDefinitions(),r=i.componentPropertyReferences();if(r?.characters)continue;let o=e.nodeIdsToPropertyNames[n],l=function(e,t){for(let n in e)if("VARIANT"!==e[n].type){let e=n.split("#");if(e.slice(0,e.length-1).join("#")===t)return n}else if(n===t)return n;return null}(a,o);l&&a[l]?.type==="TEXT"||(l=t.addComponentPropertyDefinition(o,"TEXT",i.characters,void 0)),i.setComponentPropertyReferences({...i.componentPropertyReferences(),characters:l})}}}function y(){let[e,t]=i.useState({loaded:0,total:0}),n=i.useContext(u.x),o=n?.getSuggestedProps;return{submit:i.useCallback(async(e,n,i)=>{let d=s.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&e.name===c.vh),u=s.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&"Atoms"===e.name);if(0===(i=i??[...d?.childrenNodes??[],...u?.childrenNodes??[]]).length)return;let p=i.filter(g);for(let i of(t({loaded:1,total:p.length}),l()(p,30))){let s=await (0,a.Z)(o?o(i):_({components:i,clientLifecycleId:e}),n);if(n.aborted)return;r.l7.user("apply-suggested-props",()=>{for(let e of s)e&&x(e)}),t(e=>({loaded:Math.min(e.loaded+i.length,e.total),total:e.total}))}f.Y5.commit()},[o]),progress:e}}function v(){return{submit:i.useCallback(_,[]),apply:i.useCallback(e=>{x(e),f.Y5.commit()},[])}}},233990:(e,t,n)=>{n.d(t,{x:()=>i});let i=n(716976).createContext(void 0)},638871:(e,t,n)=>{n.d(t,{Mb:()=>c,Q$:()=>p,SV:()=>d,_J:()=>u,gC:()=>m});var i=n(948351),a=n(178623),r=n(978354),s=n(431222),o=n(391293),l=n(338052);let d="plugin_playground";async function c(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let u=(0,l.n)(async function(e,t,n=()=>!0,i){let r=(await a.Ay.design.firstDraftGenerateV2Stream(e,(0,s.sF)({clientLifecycleId:i}))).getReader(),o={};try{for(;;){let e=r.read(),{done:i,value:a}=await e;if(i||(a.theme&&(o.theme=a.theme??{}),a.dsKit&&(o.dsKit=a.dsKit),a.jsx&&(o.jsx+=a.jsx),a.trace&&(o.trace=a.trace),a.presets&&(o.presets=a.presets),!n()))break;t(o)}}finally{r.releaseLock()}});function p(e){return Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})}async function m(e){let t=await e.loadImagesAndExport([{imageType:"PNG",constraint:{type:"CONTENT_WIDTH",value:Math.min(e.size.x,function(e,t=1024){return e.size.y>e.size.x?Math.floor(t*e.size.x/e.size.y):t}(e))},contentsOnly:!0,useAbsoluteBounds:!1,colorProfile:"DOCUMENT"}]),n=`data:image/png;base64,${(0,i.lF)(t)}`,a=(0,r.YJ)({nodeIds:[e.guid],options:{skipNodeIds:!1,includeName:!0,detachInstances:!0,componentUsageOrDefinition:"DEFINITION",autoLayoutTagName:"div",frameTagName:"div"}});if(!a.jsxStr)throw Error(`Could not get node JSX for node ID: ${e.guid}`);return{base64:n,jsx:a.jsxStr}}(0,l.n)(async function(e){return(await o.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta})},882243:(e,t,n)=>{n.d(t,{n:()=>a});var i=n(266808);function a(e){let t=i.f1$?.openWriteInReadonlyScope();try{return e()}finally{null!=t&&i.f1$?.closeWriteInReadonlyScope(t)}}},484495:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(248518),a=n(592726);function r({rolesToDefaultToOther:e}={}){let t=a.iZ()?.profile.job_title,n=(0,i.HB)(t);return e&&e.includes(n)?"other":n}},841e3:(e,t,n)=>{n.d(t,{M:()=>c});var i=n(104076),a=n(754245),r=n(511570),s=n.n(r),o=n(816565),l=n(380388),d=n(222525);function c(e){if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let t=e.dragState.dragPosition.subtract(e.dragState.dragOffset),n=(0,l.AE)(e.dragState.draggingResource);return(0,a.createPortal)(void 0!==e.icon?(0,i.jsx)("div",{className:s()(d.Az,{[d.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},children:e.icon}):(0,i.jsx)(o.oW,{src:n,alt:"",className:s()(d._D,{[d.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},draggable:!1}),document.getElementById("fullscreen-root"))}},285226:(e,t,n)=>{n.d(t,{V7:()=>o,kg:()=>s});var i=n(951002);let a=["Table","CodeBlock","MindMap","Text","Section"],r=["Timer","Image","Link"];function s(e){return"string"==typeof e&&a.includes(e)}function o(e){return s(e)||"string"==typeof e&&r.includes(e)?e:"object"==typeof e&&e.id&&e.name&&e.img?"FaceStamp":void(0,i.xb)(e)}},380388:(e,t,n)=>{n.d(t,{AE:()=>h,E:()=>f,Ik:()=>g});var i=n(951002),a=n(755444),r=n(606613),s=n(641518),o=n(192075),l=n(819851),d=n(994847),c=n(226697),u=n(664326),p=n(433802),m=n(285226);function h(e){switch(e){case"Table":return(0,a.ck)("ac41ded88c50f0359c02ec3927394b7b33e210b6");case"CodeBlock":return(0,a.ck)("8a035152916712353b045f442c2c6c5879ef3e17");case"MindMap":return(0,a.ck)("1dd4c6f9e1fbf269895ee58e7be79d9f9ee79b9e");default:return""}}function f(e){switch(e){case"Table":return(0,o.t)("whiteboard.inserts.table_title");case"CodeBlock":return(0,o.t)("whiteboard.inserts.code_block_title");case"MindMap":return(0,o.t)("whiteboard.inserts.mind_map_title");case"Text":return(0,o.t)("whiteboard.inserts.text_title");case"Section":return(0,o.t)("whiteboard.inserts.section_title");default:(0,i.xb)(e)}}function g(e){let t="whiteboard"===(0,l.lg)(),n=(0,c.F5)(),i=(0,m.V7)(e.resource),a=async a=>(e.insertAction(a),t&&(0,c.oM)({type:d.p.MORE,id:i,source:e.triggeredFrom,options:{...n,query:e.searchQuery}}),await Promise.resolve());return(0,u.t)({resource:e.resource,draggingThumbMaxDimensions:e.draggingThumbMaxDimensions,onDragStart:e.onDragStart,isDraggingDisabled:e.isDraggingDisabled,recomputeCancelRectsOnPointerUp:e.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:e.clickToInsert_DEPRECATED,afterSuccessfulInsert:e.afterSuccessfulInsert},{insertAction:a,dragPreviewPointerPosition:p.N.CENTERED,getDragPreviewSrc:e.icon?()=>"data:image/svg+xml;utf8,"+(0,r.F)(e.icon):()=>h(e.resource),recordingKey:s.Pt(e.triggeredFrom,"whiteboardResource",i)})}},453619:(e,t,n)=>{n.d(t,{V6:()=>S,Bc:()=>I,O6:()=>T});var i=n(104076),a=n(651534),r=n(980852),s=n(795033),o=n(725837),l=n(246144),d=n(192075),c=n(58212),u=n(668242),p=n(371843),m=n(172996),h=n(249586),f=n(764973),g=n(944350),_=n(299640),x=n(141330),y=n(266808),v=n(997477);let b={FULLSCREEN_UNAVAILABLE:"fullscreen-unavailable",SINGLE_FRAME_REQUIRED:"single-frame-required",MISSING_REQUIRED_DATA:"missing-required-data",SOMETHING_WENT_WRONG:"something-went-wrong",EXCEEDS_MAKE_PASTE_THRESHOLD:"exceeds-make-paste-threshold"};function C({entryPoint:e,userId:t,fileKey:n,fileVersion:i,pageGuid:a,selectedNodeId:r}){return{entryPoint:e,userId:t,fileKey:n||void 0,fileVersion:i,pageGuid:a,selectedNodeId:r}}function E(e,t,n){let{fileKey:i,fileVersion:a,pageGuid:r,selectedNodeId:s,entryPoint:o,userId:u}=n;t===b.SOMETHING_WENT_WRONG&&(0,l.x1)("sendToMakeFromDesign","Unable to fetch required data to create a new Make file",{fileKey:i,fileVersion:a,pageGuid:r,selectedNodeId:s},{reportAsSentryError:!0}),j({fileKey:i,pageGuid:r,selectedNodeId:s,entryPoint:o,userId:u,status:"error",error:t,exceedsMakePasteThreshold:!1}),e(c.F.enqueue({message:t===b.EXCEEDS_MAKE_PASTE_THRESHOLD?(0,d.t)("figmake.send_to_make_from_design.error.exceeds-make-paste-threshold"):(0,d.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))}function j({userId:e,entryPoint:t,status:n,pageGuid:i,selectedNodeId:a,error:r,fileKey:s,exceedsMakePasteThreshold:o}){(0,h.Cu)({trackingContext:`${t} > SendToMakeFromDesign`,text:"Send to Figma Make",pageId:i,nodeId:a,userId:e,fileKey:s,status:n,error:r,exceedsMakePasteThreshold:o})}let w=!1;function T(e,t,n){if(w)return;w=!0;let i=o.D.getState(),a=(0,r.UN)(),l=i.openFile?.key,d=i.user?.id,c=i.fileVersion,p=a.getCurrentPage()?.guid,h={entryPoint:e,userId:d,fileKey:l,fileVersion:c,pageGuid:p},x=a.getDirectlySelectedNodes();if(1!==x.length){E(n,b.SINGLE_FRAME_REQUIRED,C(h)),w=!1;return}let T=x?.[0]?.guid;if(!l||null===c||!p||!T){E(n,b.MISSING_REQUIRED_DATA,C({...h,selectedNodeId:T})),w=!1;return}try{let i=function({fileKey:e,fileVersion:t,pageGuid:n,selectedNodeId:i}){if(!e||!t||!n||!i)throw Error(b.SOMETHING_WENT_WRONG);let a=function(){let e=(0,v.gP)("make_large_paste_threshold").get("sizeBytes",25e4);return y.glU?.isActiveCanvasSelectionWithinThreshold(e)??null}();if(null===a)throw Error(b.FULLSCREEN_UNAVAILABLE);return{fileKey:e,fileVersion:t,pageGuid:n,selectedNodeId:i,exceedsMakePasteThreshold:!a}}({fileKey:l,fileVersion:c,pageGuid:p,selectedNodeId:T});!function({validatedParams:e,newFileFrom:t,dispatch:n,entryPoint:i}){let a=s.zl.set(m.DM,{fileKey:e.fileKey,fileVersion:e.fileVersion,pageGuid:e.pageGuid,selectedNodeId:e.selectedNodeId,exceedsMakePasteThreshold:e.exceedsMakePasteThreshold,source:i}),r=o.D.getState(),l=(0,f.Kl)(r);n((0,u.zE)({state:l,from:t,editorType:g._Y.FIGMAKE,team:void 0,openNewFileIn:_.ai.NEW_TAB,newFileDataLocalStorageKey:a}))}({validatedParams:i,newFileFrom:t,dispatch:n,entryPoint:e}),j({entryPoint:e,pageGuid:p,selectedNodeId:T,userId:d,fileKey:l,status:"success",exceedsMakePasteThreshold:i.exceedsMakePasteThreshold})}catch(e){E(n,e instanceof Error?e.message:b.SOMETHING_WENT_WRONG,C({...h,selectedNodeId:T}))}finally{w=!1}}let k=(e,t)=>({flags:["edit","design"],callback:(n,i,a)=>{T(e,t,a)}}),I={action:x.i0,tags:[p.$.AI],iconType:(0,i.jsx)(a.t,{}),searchSynonyms:["send to make","export to make","create make file","figma make","figmake"],...k("AI Quick Actions V2",_.f6.SEND_TO_MAKE_FROM_DESIGN_QA_V2_MENU)},S={name:"send-to-make-from-design",...k("SelectionContextMenu",_.f6.SEND_TO_MAKE_FROM_DESIGN_CONTEXT_MENU)}},459496:(e,t,n)=>{n.d(t,{OS:()=>u,_2:()=>d,w$:()=>c});var i=n(104076),a=n(883765),r=n(158965),s=n(192075),o=n(211862),l=n(286132);let d="audio-paywall-key",c=(()=>{let e=!0,t=!1;return n=>{t||setTimeout(()=>{n>0&&e?(e=!1,(0,a.sx)("Context Viewed",{name:"join-call-with-others"})):e||0!==n||(t=!0,(0,a.sx)("Context Viewed",{name:"should-close-open-audio-nux"}))},200)}})();function u(){let e;let t=(0,o.q5)(),{userIdsInCall:n}=(0,l.W5)(t?.key||null),a=(0,l.bF)(n,t?.key||null).map(e=>e.name);e=a.length>3?[...a.slice(0,2),(0,s.t)("collaboration.voice.n_others",{numUsers:a.length-2})]:a;let d=(0,i.jsx)(r.T,{children:e});return(0,s.tx)("collaboration.voice.are_talking_in_this_file",{numVoiceUsers:e.length,voiceUserNames:d,joinText:(0,i.jsx)("b",{children:(0,s.tx)("collaboration.voice.join_lower")})})}},28754:(e,t,n)=>{n.d(t,{hl:()=>c});var i=n(441513),a=n(113139),r=n(869450);let s=i.z.object({id:i.z.string().uuid(),collectionId:i.z.string().uuid(),position:i.z.string(),status:i.z.string(),createdAt:i.z.string(),updatedAt:i.z.string(),lastPublishedAt:i.z.string().nullable(),statusUpdatedAt:i.z.string().nullable()}),o=i.z.object({id:i.z.string().uuid(),itemId:i.z.string().uuid(),fieldSchemaId:i.z.string().uuid(),value:i.z.string(),version:i.z.number(),createdAt:i.z.string(),updatedAt:i.z.string(),assetsForPublish:i.z.array(i.z.object({type:i.z.string(),hash:i.z.string(),height:i.z.number(),width:i.z.number()})).optional()}),l=i.z.object({valid:i.z.boolean(),failure_info:i.z.object({errors:i.z.array(i.z.string()),i18n_keys:i.z.array(i.z.string())}).optional()}),d=i.z.object({success:i.z.boolean(),error:i.z.string().nullable(),errorType:i.z.string().nullable()}),c=new class{constructor(){this.CollectionItemResponseSchemaValidator=(0,a.YV)("CollectionItemResponseSchemaValidator",(0,r.D)(s),null),this.BulkImportResponseSchemaValidator=(0,a.YV)("BulkImportResponseSchemaValidator",(0,r.D)(i.z.object({count:i.z.number()})),null),this.CollectionFieldResponseSchemaValidator=(0,a.YV)("CollectionFieldResponseSchemaValidator",(0,r.D)(o),null),this.ItemValidateResponseSchemaValidator=(0,a.YV)("ItemValidateResponseSchemaValidator",l,null),this.CsvValidationResponseValidator=(0,a.YV)("CsvValidationResponseValidator",(0,r.D)(d),null)}createItem({collection:e,itemId:t}){return this.CollectionItemResponseSchemaValidator.validate(async({xr:n})=>await n.post(`/api/collections/${e.databaseId}/items`,{item_id:t}))}importItems({collection:e,items:t}){return this.BulkImportResponseSchemaValidator.validate(async({xr:n})=>await n.post(`/api/collections/${e.databaseId}/items/import`,{items:t}))}updateItem({collection:e,item:t,updatedItemAttributes:n}){return this.CollectionItemResponseSchemaValidator.validate(async({xr:i})=>await i.put(`/api/collections/${e.databaseId}/items/${t.databaseId}`,{index:n.position,status:n.status}))}updateSingleItemData({fieldId:e,fieldSchema:t,item:n,newValue:i,assetsForPublish:a,jobStatus:r}){return this.CollectionFieldResponseSchemaValidator.validate(async({xr:s})=>{let o={value:i,uuid:e};return void 0!==a&&(o.assets_for_publish=a),void 0!==r&&(o.job_status=r),await s.put(`/api/items/${n.databaseId}/fields/${t.databaseId}`,o)})}deleteItem({collection:e,item:t}){return this.CollectionItemResponseSchemaValidator.validate(async({xr:n})=>await n.del(`/api/collections/${e.databaseId}/items/${t.databaseId}`))}validateItemData({fieldSchema:e,item:t,newValue:n}){return this.ItemValidateResponseSchemaValidator.validate(async({xr:i})=>await i.put(`/api/items/${t.databaseId}/fields/${e.databaseId}/validate`,{value:n}))}validateCsv({fileKey:e,itemsData:t}){return this.CsvValidationResponseValidator.validate(async({xr:n})=>await n.post("/api/collections/validate_cms_csv",{file_key:e,items_data:t}))}}},960876:(e,t,n)=>{n.d(t,{K8:()=>a,QV:()=>s});var i=n(113139),a=(e=>(e.Connected="connected",e.NotConnected="not_connected",e))(a||{}),r=(e=>(e.Started="started",e.Requested="requested",e.Complete="complete",e))(r||{});let s=new class{constructor(){this.GithubAppSetupSchemaValidator=(0,i.vh)(),this.OrgGithubInstallationsSchemaValidator=(0,i.vh)(),this.GithubRepositoriesSchemaValidator=(0,i.vh)(),this.GithubCreateRepositorySchemaValidator=(0,i.vh)()}startGithubAppSetup(e){return this.GithubAppSetupSchemaValidator.validate(async({xr:t})=>await t.post("/api/integrations/github-app/setup",i.td.toAPIParameters({plan_type:e.plan_type,plan_parent_id:e.plan_parent_id,request_context:e.request_context,request_context_id:e.request_context_id})))}getOrgGithubInstallations(e){return this.OrgGithubInstallationsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/integrations/github-app/plans/${e.plan_type}/${e.parent_plan_id}/github-installations`,i.td.toAPIParameters(e)))}getGithubRepositories(e){return this.GithubRepositoriesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/integrations/github-app/plans/${e.plan_type}/${e.plan_parent_id}/github-installations/repositories`,i.td.toAPIParameters(e)))}adminCreateGithubRepository(e){return this.GithubCreateRepositorySchemaValidator.validate(async({xr:t})=>await t.post(`/api/integrations/github-app/plans/${e.plan_type}/${e.plan_parent_id}/github-installations/admin/repository`,i.td.toAPIParameters(e)))}}},945064:(e,t,n)=>{n.d(t,{A:()=>o7});var i=n(104076),a=n(716976),r=n(812714),s=n(681398),o=n(795161),l=n(17140),d=n(715858),c=n(549571),u=n(742549),p=n(903927),m=n(443192),h=n(111297),f=n(422872),g=n(143277),_=n(563554),x=n(6449),y=n(441030),v=n(420680),b=n(475477),C=n(293422),E=n(423128);let j=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.015 3.441 5.7 4.701l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0m0 12L5.7 16.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 18.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 16.7l-.315-1.26c-.126-.505-.844-.505-.97 0M5.7 10.7l.315-1.26c.126-.505.844-.505.97 0L7.3 10.7l1.26.315c.505.126.505.844 0 .97L7.3 12.3l-.315 1.26c-.126.505-.844.505-.97 0L5.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM10.5 5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var w=n(266808),T=n(582789),k=n(795033),I=n(668134),S=n(236631),N=n(192075),A=n(171660),L=n(55029),O=n(772523),R=n(692042),P=n(894210),M=n(964549),D=n(4521),F=n(827651),B=n(841058),U=n(709449),H=n(980852),V=n(792794);let G=(e,t)=>e.filter(e=>t.get(e));var z=(e=>(e.DismissImmediately="dismiss-immediately",e.NoAutoDismiss="no-auto-dismiss",e.StartAutoDismissTimer="start-auto-dismiss-timer",e.noop="no-op",e))(z||{}),K=n(571267);function W(e){return a.useMemo(()=>{if(!e)return!0;let{data:t}=(0,K.b7)((0,H.UN)());return JSON.stringify(t.map(e=>({t:e.t,id:e.id,type:e.type,stamps:e.stamps}))).length>12e3},[e])}var Z=n(851824);function q(e=2e3){let t=(0,p.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[n,i]=a.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),r=(0,Z.A)(e=>{i({hasDebounceSettled:!0,numNodesSelected:e})},e);a.useEffect(()=>{i({hasDebounceSettled:!1,numNodesSelected:t}),r(t??0)},[r,t]);let s=n.numNodesSelected!==t;return n.hasDebounceSettled&&!s}var X=n(169640);function Y({onClose:e,onSummarize:t,onAutoDismiss:n}){let r;let s=q(500),o=W(s),{lastSummarizableSelection:l}=function({onAutoDismiss:e,selectionIsStable:t}){let n=(0,V.cF)(),[i,r]=(0,a.useState)(0),s=(0,p.d4)(e=>e.mirror.sceneGraphSelection),o=a.useMemo(()=>Object.entries(s).filter(([e,t])=>t).map(([e,t])=>e),[s]),[l,d]=(0,a.useState)([]),c=(0,H.UN)(),u=0===o.length&&l.length>0&&!G(l,c).length;return(0,a.useEffect)(()=>{switch(function({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,lastSummarizableSelectionHasBeenDeleted:n,selectionSize:i,canRecomputeAutoDismissAction:a}){if(0===i&&n)return"dismiss-immediately";if(a){if(t)return"no-auto-dismiss";if(!e)return"start-auto-dismiss-timer"}return"no-op"}({currentAutoDismissTimeoutId:i,stickySummarizationEnabledForSelection:n,lastSummarizableSelectionHasBeenDeleted:u,selectionSize:o.length,canRecomputeAutoDismissAction:t})){case z.DismissImmediately:window.clearTimeout(i),r(0),e();break;case z.NoAutoDismiss:d(o),window.clearTimeout(i),r(0);break;case z.StartAutoDismissTimer:r(window.setTimeout(()=>{e()},1e4))}},[o.length,o,n,u,i,t,e]),{lastSummarizableSelection:l}}({onAutoDismiss:n,selectionIsStable:s});(0,a.useEffect)(()=>{k.zl.set(X.EH,e=>e+1),k.zl.set(X.ji,()=>new Date().toISOString())},[]);let{summarizeCanvasSelection:d}=(0,D.ss)(w.cfv.ABOVE,!1,"DISCOVERY_NUDGE"),c=(0,U.Cb)(),u=(0,k.Xr)(F.v),m=s&&o;m&&(r=(0,N.t)("whiteboard.ai_summary.nudge.too_many_tokens"));let h=(0,a.useRef)(null),f=(0,R.ni)(),g=(0,L.FQ)(h,8);return(0,a.useLayoutEffect)(()=>{let e=h.current;if(!e)return;let t=f.y-8,n=T.r.fromOriginAndSize(f.x,t,f.width,f.height),i=e.getBoundingClientRect(),a=g(T.r.fromOriginAndSize(n.right()-i.width-12,n.top()+20,i.width,i.height),n);if(i.x<0||i.y<0){let t=new Animation(new KeyframeEffect(e,[{transform:`translateX(${a.left()}px) translateY(-250px)`},{transform:`translateX(${a.left()}px) translateY(${a.top()}px)`}],{duration:600}));t.onfinish=()=>{e.style.transform=`translateX(${a.left()}px) translateY(${a.top()}px)`},t.play()}else e.style.transform=`translateX(${a.left()}px) translateY(${a.top()}px)`},[h,-250,f,g]),(0,i.jsxs)("div",{ref:h,className:"ai_summary_nudge--container--Xt3Ld",children:[(0,i.jsxs)("div",{className:"ai_summary_nudge--topContent--EYXY0",children:[(0,i.jsxs)("div",{className:"ai_summary_nudge--topBar--3FRaK",children:[(0,i.jsx)("span",{className:S.s.textHeadingMedium.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.title")}),(0,i.jsx)("div",{className:"ai_summary_nudge--closeButton--2Lr8q",children:(0,i.jsx)(v.K,{onClick:e,"aria-label":(0,N.t)("general.close"),htmlAttributes:{"data-testid":"close-button"},children:(0,i.jsx)(E.A,{})})})]}),(0,i.jsx)("div",{className:S.s.textBodyLarge.colorTextSecondary.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.subtitle")}),(0,i.jsxs)("div",{className:"ai_summary_nudge--numberContainer--JqUxZ",children:[(0,i.jsx)(Q,{num:1}),(0,i.jsx)(Q,{num:2})]}),(0,i.jsx)(J,{disabled:m,disabledTooltip:r,"data-testid":"summarize-button",onClick:()=>{O.wr(),O.Dh(l),d(),t(),c&&u(!0)},trackingProperties:{text:"summarize"}})]}),(0,i.jsx)("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),(0,i.jsx)("div",{className:"ai_summary_nudge--bottomContent--EiPHE",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:S.s.textBodyMedium.colorTextSecondary.mr2.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.disclaimer")}),(0,i.jsx)(b.N,{href:B.nG,newTab:!0,trusted:!0,children:(0,N.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")})]})}),(0,i.jsx)("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"})]})}let J=(0,h.tf)(function({onClick:e,disabled:t,disabledTooltip:n}){let a=(0,I.a)()?(0,N.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text"):"";return(0,i.jsx)(h.fu,{name:"AI Summary Nudge CTA",properties:{disabled:t},children:(0,i.jsx)(C.Pw,{onClick:e,variant:"primary",htmlAttributes:{"data-testid":"summarize-button","data-tooltip":t?n:"","data-tooltip-type":P.Ib.TEXT},disabled:t,children:(0,i.jsxs)("div",{className:"ai_summary_nudge--buttonContents--oUSGP",children:[(0,i.jsx)("span",{className:"ai_summary_nudge--buttonIcon--X-QPt",children:(0,i.jsx)(j,{})}),(0,N.tx)("whiteboard.ai_summary.nudge.cta"),(0,i.jsx)("div",{className:"ai_summary_nudge--badgeWrapper--QRaRq",children:(0,i.jsx)(M.v,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:a})})]})})})});function Q({num:e}){let t=184/e;return(0,i.jsxs)("div",{className:"ai_summary_nudge--numberGraphic--CnM2r","aria-hidden":"true",children:[(0,i.jsx)(A.E,{fontSize:14,color:"secondary",children:e}),(0,i.jsx)("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}})]})}function $(){let e=(0,p.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge),t=q(),n=W(t);return t&&e&&!n}var ee=n(513369),et=n(651453);function en(){let e=(0,p.wA)(),{isShowing:t,complete:n}=function(){let e=function(){let e=function(){let e=(0,k.md)(et.Bl),t=(0,k.md)(X.xo),n=(0,k.md)(X.MC),i=(0,k.md)(X.ji),r=(0,k.md)(X.EH);return a.useMemo(()=>{if("loaded"!==t.status||"loaded"!==n.status||"loaded"!==e.status||e.data)return(0,ee.gB)({isEligibleToShowUser:!1});let a=new Date(i).getTime()>Date.now()-864e5;return r>=3||t.data||n.data||a?(0,ee.gB)({isEligibleToShowUser:!1}):(0,ee.gB)({isEligibleToShowUser:!0})},[e,t,n,r,i])}(),t=$();return(0,ee.gB)({shouldShowNudge:!!(e.data.isEligibleToShowUser&&t)})}(),{show:t,isShowing:n,complete:i}=(0,f.e)({overlay:y.RSb,priority:g.N.SECONDARY_MODAL},[e]),r=$(),s=(0,p.d4)(e=>e.mirror.selectionProperties.numSelectedByType);return a.useEffect(()=>{t({canShow:e=>e.shouldShowNudge})},[t,e,s,r]),{isShowing:n,complete:i}}();return(0,i.jsx)(x.M,{isShowing:t,children:t&&(0,i.jsx)(h.fu,{name:_.e0.AI_SUMMARY_TOPBAR_NUDGE,children:(0,i.jsx)(Y,{onClose:()=>{e(m.b({[X.l0]:!0})),n()},onSummarize:()=>{e(m.b({[X.zp]:!0})),e(m.b({[X.l0]:!0})),n()},onAutoDismiss:()=>{n()}})})})}var ei=n(835258),ea=n(802529),er=n(211862),es=n(762783),eo=n(589046),el=n(176203),ed=n(190028),ec=n(719097),eu=n(174730);let ep=(0,k.eU)(!1);var em=n(58212),eh=n(638641),ef=n(249586),eg=n(281599),e_=n(598272);let ex="slides_visual_bell_entrypoint_dismissed_user_flag";function ey(){return!function(){let e=(0,p.wA)(),t=(0,eg.d)(),n=(0,eu.f)(ex),i=(0,e_.$)(),r=(0,e_.N)(),[s,o]=a.useState(!1),[l,d]=a.useState(!1),c=a.useCallback(()=>{e(em.F.enqueue({messageComponentKey:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,type:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,timeoutOverride:1e4,onDismiss:()=>{o(!0),e(m.b({[ex]:!0})),(0,ef.Cu)({trackingContext:"Slides conversion visual bell entrypoint",name:"slides_conversion_visual_bell_entrypoint_dismissed"}),e(em.F.enqueue({message:(0,N.t)("slides.visual_bell.we_wont_ask_you_again")}))}}))},[e]);a.useEffect(()=>{r.size||e(em.F.dequeue({matchType:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL}))},[e,r]),a.useEffect(()=>{n?.createdAt||s||!t||l||!(i>=3)||(c(),d(!0))},[c,n,s,l,i,t])}(),null}var ev=n(574855),eb=n(755444),eC=n(428147),eE=n(366535),ej=n(459494),ew=n(244205),eT=n(90844),ek=n(381059),eI=n(235711),eS=n(295253),eN=n(228642),eA=n(718046),eL=n(765516),eO=n(226492),eR=n(909342);let eP=(0,eI.r1)(eA.IR);function eM(){let e=(0,ev.md)(ek.mp),t=(0,ev.md)(ek.t),n=(0,ev.md)(eP),a=(0,ev.md)(er.yV),r=(0,p.wA)(),{uniqueId:s,isShowing:o,show:l,complete:d}=(0,f.e)({overlay:y.B14,priority:g.N.SECONDARY_MODAL},[e,t,n]),c=(0,ej.hn)();return(0,eT.E)(s,"properties-panel-select-tab",e=>{e.properties?.tab==="prototype"&&l({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&c()&&!n})}),(0,i.jsx)(eO.X,{description:(0,N.tx)("upsell.advanced_prototyping.description"),isShowing:o,media:(0,i.jsx)(eL.w,{src:(0,eb.ck)("30507591ad5cd385aaf75d4a16ef140b74ec821b"),aspectRatio:1.75}),onClose:d,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("upsell.advanced_prototyping.see_plans"),type:"button",onClick:()=>{r(eE.to({type:eC.V,data:{upsellSource:eS.b.ADVANCED_PROTOTYPING_UPSELL,teamId:a?.team?.id,openCheckoutInNewTab:!0,featureList:(0,eN.xp)(eN.Q1.filter(e=>e!==eN.Xj.AUDIO_CONVERSATIONS),eN.Xj.ADVANCED_PROTOTYPING)}})),d()},ctaTrackingDescriptor:ew.c.SEE_PLANS},secondaryCta:{label:(0,N.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("upsell.advanced_prototyping.title"),trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:eA.IR})}var eD=n(459496),eF=n(61102);let eB="seen_audio_nux",eU=(0,eI.r1)(eB);function eH(){let e=(0,k.md)(eU),t=(0,f.e)({overlay:y.y4J,priority:g.N.SECONDARY_MODAL},[e]);return(0,eT.E)(t.uniqueId,"Context Viewed",e=>{let n=e.properties?.name;"join-call-with-others"===n?t.show({canShow:e=>!e}):"should-close-open-audio-nux"===n&&t.isShowing&&t.complete()}),(0,eT.E)(t.uniqueId,"Lost DOM Target",()=>{t.isShowing&&t.complete()}),(0,i.jsx)(eF.rq,{isShowing:t.isShowing,userFlagOnShow:eB,emphasized:!0,title:(0,N.tx)("collaboration.voice.join_the_conversation"),description:(0,i.jsx)("div",{style:{display:"inline"},children:(0,i.jsx)(eD.OS,{})}),targetKey:"audio-nux-key",onClose:t.complete,trackingContextName:"audio_nux_pointer"})}var eV=n(74620),eG=n(477536),ez=n(319063),eK=n(905523),eW=n(856520),eZ=n(739801),eq=n(191321),eX=n(830237),eY=n(971922),eJ=n(337726),eQ=n(10411),e$=n(81014),e0=n(145132),e1=n(4033),e2=n(432511),e3=(e=>(e[e.DONT_SHOW=0]="DONT_SHOW",e[e.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",e[e.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",e))(e3||{});let e5={"Export PNG with Color Profile":"867977941678289774"};function e4(){let{plugins:e}=(0,e1.wH)(),t=Object.fromEntries(Object.entries(e5).filter(([t,n])=>Object.values(e).some(e=>e.manifest.id===n)));return Object.keys(t).length>0?t:null}function e6(){let e=(0,e2.Av)();return(0,e2.tK)(e)}let e7=(0,k.eU)(null),e9="color_management_default_to_p3_modal--onboardingFooter--VSeAU",e8="color_management_default_to_p3_modal--content--FzYUr",te="seen_color_management_default_to_p3_modal",tt=eJ.tO,tn=eq.O0,ti="color_management_default_to_p3_modal";function ta(){let e=(0,f.e)({overlay:y.t_E,priority:g.N.SURVEY}),{currentStep:t,next:n,back:r}=(0,eG.A)({numSteps:2,onComplete:e.complete}),s=(0,eu.f)(te),[o]=(0,e$.jJ)(),l=e6(),d=e4(),[c,u]=(0,k.fp)(e7),p=(0,ez.jK)(),[m,h]=(0,a.useState)(!1),[_]=(0,k.fp)(eY.n$),x=(0,ez.C$)();return a.useEffect(()=>{s||null!=c||p.colorProfilePreference!==eK.M.DEFAULT||(u(eK.M.DISPLAY_P3),x(eK.M.DISPLAY_P3,{canSeeP3:l,desktopSetting:o,p3Plugins:d}),e.show())},[l,c,o,s,e,d,u,x,p.colorProfilePreference]),(0,eT.E)(e.uniqueId,eX.kF,()=>{e.isShowing&&0===t&&e.complete()}),(0,eT.E)(e.uniqueId,eq.nu,()=>{e.isShowing&&1===t&&e.complete()}),(0,eT.E)(e.uniqueId,eX.kL,()=>{m||e.isShowing||0!==t||_||(n(),e.show())}),(0,eT.E)(e.uniqueId,eY.E1,()=>{m||e.isShowing||0!==t||(n(),e.show())}),(0,i.jsxs)(eW.U,{currentStep:t,isShowing:e.isShowing,children:[(0,i.jsx)(eZ.h,{ctaText:(0,N.tx)("general.next"),element:tr,isShowing:e.isShowing,modalType:eQ.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:n,onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:tt,stepCounter:(0,i.jsx)("span",{className:e9,children:(0,N.tx)("fullscreen.color_management.curator.step_1of2")}),title:(0,i.jsx)(i.Fragment,{children:(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.title")}),trackingContextName:ti,userFlagOnShow:te,width:300}),(0,i.jsx)(eZ.h,{ctaText:(0,N.tx)("general.got_it"),element:ts,isShowing:e.isShowing,modalType:eQ.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:()=>{e.complete(),h(!0)},onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:tn,preventDismissOnClickSecondaryCta:!0,secondaryCtaText:(0,i.jsx)("div",{onClick:r,children:(0,N.tx)("general.previous")}),stepCounter:(0,i.jsx)("span",{className:e9,children:(0,N.tx)("fullscreen.color_management.curator.step_2of2")}),title:(0,i.jsx)(i.Fragment,{children:(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.title")}),trackingContextName:ti,userFlagOnShow:te,width:300})]})}function tr(){return(0,i.jsxs)("p",{className:e8,children:[(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.content",{colorProfileSetting:(0,i.jsx)("strong",{children:(0,N.tx)("fullscreen.color_management.curator.color_profile_setting")})})," ",(0,i.jsx)(b.N,{newTab:!0,href:e0.s,children:(0,N.tx)("rcs.rcs_shared.learn_more")})]})}function ts(){return(0,i.jsxs)("p",{className:e8,children:[(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.content",{fileColorProfile:(0,i.jsx)("strong",{children:(0,N.tx)("fullscreen.color_management.curator.file_color_profile")})})," ",(0,i.jsx)(b.N,{newTab:!0,href:e0.s,children:(0,N.tx)("rcs.rcs_shared.learn_more")})]})}function to(){let[e]=(0,e$.jJ)(),t=e6(),n=e4(),[i,r]=(0,k.fp)(e7),s=(0,ez.jK)(),o=(0,ez.C$)();return a.useEffect(()=>{null==i&&s.colorProfilePreference===eK.M.DEFAULT&&(r(eK.M.SRGB),o(eK.M.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:n}))},[t,i,e,n,r,o,s.colorProfilePreference]),null}function tl(){let e=function(){let e=(0,ez.jK)().colorProfilePreference!==eK.M.DEFAULT,t=function(){let[e]=(0,e$.jJ)(),t=e6(),n=e4();return t&&n&&["unmanaged","default",null].includes(e)?eK.M.DISPLAY_P3:eK.M.SRGB}(),[n]=(0,k.fp)(e7);return e&&null===n?0:t===eK.M.SRGB?1:t===eK.M.DISPLAY_P3?2:0}();if(!function(e){let t=(0,eV.aV)(),[n,i]=function(e){let[t,n]=a.useState(!1),[i,r]=a.useState(!1);return a.useEffect(()=>{let e;return i&&(e=setTimeout(()=>{n(!t),r(!1)},2e3)),()=>clearTimeout(e)},[i,t,2e3]),[t,a.useCallback(()=>r(!0),[])]}(2e3);return a.useEffect(()=>{t||i()},[t,i]),n}(0))return null;switch(e){case e3.DONT_SHOW:return null;case e3.DEFAULT_TO_SRGB:return(0,i.jsx)(to,{});case e3.DEFAULT_TO_DISPLAY_P3:return(0,i.jsx)(ta,{})}}var td=n(470876),tc=n(643077),tu=n(835307),tp=n(883058),tm=n(191047);function th(){let e=(0,f.e)({overlay:y.qnr,priority:g.N.DEFAULT_MODAL}),t=(0,p.wA)(),n=(0,p.Pj)(),r=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),n.getState().mirror.appModel.currentPage),s=(0,td.JU)((0,td.J3)()),o=!!er.q5()?.template,l=(0,eV.aV)(),d=!!(0,eu.f)("seen_custom_template_publish_nudge"),c=eu.f("figjam_editor_onboarded")?.updatedAt?.getTime(),u=!!c&&c<Date.now()-12096e5,h=!l&&!d&&s&&!r&&!o&&u;return((0,a.useEffect)(()=>{h&&setTimeout(()=>{e.show(),t(m.b({seen_custom_template_publish_nudge:!0}))},1e3)},[t,e,h]),e.isShowing)?(0,i.jsx)(tp.i,{step:{modalType:eQ.q3.DRAGGABLE,element:tm.ZH,trackingContextName:"custom_template_publish_nudge",onboardingKey:eJ.v4,title:(0,i.jsx)("div",{className:S.s.font13.fontMedium.pl8.pt16.pb16.$,children:(0,N.tx)("whiteboard.inserts.custom_templates_header")}),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:e.complete,onClose:e.complete,dismissModal:e.complete,dispatch:t}):null}var tf=n(883765),tg=n(633065),t_=n(219199),tx=n(653899);let ty=(0,eI.r1)("seen_desktop_download_modal_prompt"),tv=(0,eI.r1)("seen_desktop_download_modal_prompt_v2"),tb=(0,ek.tH)("used_desktop_app");function tC(){let e=(0,k.md)(ty),t=(0,k.md)(tv),n=(0,k.md)(ek.mp),a=(0,k.md)(tb),o=(0,r.kc)().desktop_show_download_prompt,{isShowing:l,show:d,complete:c}=(0,f.e)({overlay:y.kmj,priority:g.N.DEFAULT_MODAL},[t,e,n]);if((0,tx.h)(()=>{tg.eD||a||!o||d({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(n)&&!t})}),!l)return null;let u=()=>{c()};return(0,i.jsx)(eO.X,{description:(0,N.tx)("desktop_download_modal_prompt.level_up_your_workflow_with_tabs"),isShowing:l,media:(0,i.jsx)(eL.y,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:(0,eb.ck)("cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b")}),onClose:u,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.get_the_desktop_app"),type:"button",onClick:()=>{(0,tf.sx)("desktop_modal_download_prompt_cta_clicked_v2"),u(),t_.Ay.redirect(`/download/desktop/${s.Ay.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:ew.c.DESKTOP_APP_DOWNLOAD},secondaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("desktop_download_modal_prompt.download_the_figma_desktop_app"),trackingContextName:"Desktop Download Modal Prompt",userFlagOnShow:"seen_desktop_download_modal_prompt_v2"})}var tE=n(315361),tj=n(819851),tw=n(654200);function tT(){let{show:e,isShowing:t,complete:n,uniqueId:r}=(0,f.e)({overlay:y.Fwr,priority:g.N.DEFAULT_MODAL}),s=!!(0,u.hA)(),o=(0,tj.m0)(),l=(0,tE.uQ)();return(a.useEffect(()=>{t&&!l&&n()},[t,l,n]),(0,eT.E)(r,"focus_view_entry_point_onboarding_event",()=>{e()}),o&&!s&&l)?(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,description:(0,N.tx)("dev_handoff.focus_view_entry_point_onboarding.description"),isCanvasNode:!0,isShowing:t,media:(0,i.jsx)(eL.y,{src:(0,eb.ck)("f5d721aeb450c7b47d78312d00881a9ed3044463"),alt:(0,N.t)("dev_handoff.focus_view_entry_point_onboarding.image"),aspectRatio:16/9}),onClose:n,onTargetLost:n,pointToTopEdge:!0,primaryCta:{label:(0,N.tx)("general.got_it"),onClick:n,type:"button",ctaTrackingDescriptor:ew.c.GOT_IT},targetKey:l,title:(0,N.tx)("dev_handoff.focus_view_entry_point_onboarding.title"),trackingContextName:"Focus view entry point onboarding overlay"}):null}var tk=n(803276),tI=n(187429),tS=n(461546),tN=n(514275),tA=n(92063),tL=n(863154),tO=n(822764),tR=n(484495),tP=n(592726),tM=n(580868),tD=n(334992),tF=n(848974);function tB(e){let{viewedSidebar:t,setViewedSidebar:n}=e,r=(0,p.wA)(),s=(0,tR.w)({rolesToDefaultToOther:["education"]}),o=(0,tD.j)(s);return a.useMemo(()=>{t||(n(!0),r(tA.En({initialX:0,initialY:0,pinned:tM.t.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:o})))},[r,o,t,n]),(0,i.jsx)(i.Fragment,{})}function tU(){let e=(0,tP.TA)(),t=(0,er.q5)(),n=(0,p.d4)(e=>e.mirror.appModel.currentPage),r=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),n),s=(0,p.d4)(e=>!(0,tF.zP)(e.mirror.appModel.currentTool)),o=(0,tF.Uj)(t,e||""),l=(0,eI.Fu)("interacted_figjam_whats_new_v2_cta"),d=(0,k.md)(l),c=(0,k.md)(tL.wg),[u,m]=a.useState(!1),h=(0,f.e)({overlay:y.hsL,priority:g.N.HIGH_PRIORITY_MODAL},[d]);(0,tx.h)(()=>{h.show({canShow:e=>(0,tF.SS)(e)&&c&&(0,tF.ZQ)(t)&&r&&!s&&o})});let _=(0,tO.LR)(),x=()=>{_(),h.complete()};return(0,i.jsx)(eZ.h,{isShowing:h.isShowing,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>(0,i.jsx)(tB,{viewedSidebar:u,setViewedSidebar:m}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:h.complete,onClose:x,onManualDismiss:x})}var tH=n(589849),tV=n(847282),tG=n(514223),tz=n(539526),tK=n(101880),tW=n(352630),tZ=n(472436),tq=n(184641);let tX="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function tY({dismissModal:e}){let t=(0,p.wA)(),n=(0,er.tS)(),r=(0,p.d4)(e=>e.user?.email_validated_at),s=(0,p.d4)(e=>n?e.loadingState[tZ.Q.loadingKeyForPayload({file_key:n})]:null),o=(0,p.d4)(e=>n?e.loadingState[tq.D.loadingKeyForPayload({fileKey:n})]:null),l=(0,tH.s)(),d=s===tG.r.LOADING||"loading"===l.status||o===tG.r.LOADING,c=s===tG.r.SUCCESS||o===tG.r.SUCCESS;if((0,a.useEffect)(()=>{c&&e()},[c,e]),!n||!r)return null;let u=(0,ed.A)(r).isAfter((0,ed.A)().subtract(5,"minutes"));return(0,i.jsx)("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS",children:(0,i.jsxs)("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-",children:[(0,i.jsx)("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.save_modal.headline")}),(0,i.jsx)(tz.k,{multiple:1}),(0,i.jsx)("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:u?(0,N.tx)("figjam_try.save_modal.new_team"):(0,N.tx)("figjam_try.save_modal.save_one_team",{share:(0,i.jsx)("p",{className:tX,children:(0,N.tx)("figjam_try.save_modal.share")}),file_duplicate:(0,i.jsx)("p",{className:tX,children:(0,N.tx)("figjam_try.save_modal.file_duplicates")})})}),(0,i.jsx)(tz.k,{multiple:3}),(0,i.jsx)(tW.lR,{onClick:()=>{"loaded"===l.status&&(0,ee.oA)(l.data?.deviceTryFile)?t(tq.D({fileKey:n})):t(tZ.Q({file_key:n}))},disabled:d,trackingProperties:{buttonContext:"Let\u2019s jam"},children:(0,i.jsx)(tK.x,{isLoading:d,children:()=>(0,N.tx)("figjam_try.save_modal.cta")})})]})})}function tJ(){let e=(0,f.e)({overlay:y.JGK,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,k.md)(er.yV),n=t?.isTryFile,r=(0,tH.s)(),[s,o]=a.useState(!1);return(0,a.useEffect)(()=>{e.isShowing&&!n&&e.complete()},[n,e]),(0,a.useEffect)(()=>{let t=(0,tV.QL)(eJ.ao.key)===eJ.ao.value,i="loaded"===r.status&&!!(0,ee.oA)(r.data?.deviceTryFile);t&&i&&!s?(e.show(),o(!0)):t&&n&&!i&&e.show()},[e,n,r,s]),(0,i.jsx)(eZ.h,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:eQ.q3.WELCOME,element:({dismissModal:e})=>(0,i.jsx)(tY,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}var tQ=n(929302),t$=n(91478),t0=n(268389),t1=n(164981);let t2="figjam_try_confirm_save--textContainer--9YaF4";function t3(){let[e,t]=a.useState(!1),{show:n,isShowing:r,complete:s}=(0,f.e)({overlay:y.XAb,priority:g.N.HIGH_PRIORITY_MODAL}),o=(0,k.md)(er.yV),l=o?.isTryFile,d=(0,tH.s)(),c=(0,tV.QL)(eJ.ao.key)===eJ.ao.value,u=(0,k.md)(t1.N);return(0,a.useEffect)(()=>{!e&&c&&!l&&"loaded"===d.status&&ee.oA(d.data?.deviceTryFile)?.claimedAt&&ee.oA(d.data?.deviceTryFile)?.claimedByUserId!==u.data&&n()},[e,l,c,d,n,u]),(0,i.jsx)(x.M,{isShowing:r,children:(0,i.jsx)(t5,{onClose:()=>{s(),t(!0)},open:r})})}function t5(e){let t=tQ.hS({...e,preventUserClose:!0});return(0,i.jsx)(h.fu,{name:"figjam_try_device_already_claimed_overlay",children:(0,i.jsx)(t$.bL,{manager:t,width:420,height:"fixed",children:(0,i.jsx)(t0.vo,{children:(0,i.jsxs)(t0.nB,{padding:32,children:[(0,i.jsx)("div",{className:t2,children:(0,i.jsx)("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.already_claimed_modal.header")})}),(0,i.jsx)(tz.k,{multiple:1}),(0,i.jsx)("div",{className:t2,children:(0,i.jsx)("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.already_claimed_modal.description",{file_duplicate:(0,i.jsx)("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4",children:(0,N.tx)("figjam_try.already_claimed_modal.file_duplicate")})})})}),(0,i.jsx)(tz.k,{multiple:3}),(0,i.jsx)(tW.lR,{onClick:e.onClose,children:(0,N.tx)("figjam_try.already_claimed_modal.continue")})]})})})})}var t4=n(88921),t6=n(475961),t7=n(927919),t9=n(693356);let t8=(0,eI.r1)(t4.USER_FLAG_V2),ne=(0,ek.tH)("last_figjam_at"),nt=(0,eI.r1)("dont_show_figjam_updates_in_figma_design");function nn(){let e=(0,k.md)(nt),t=(0,k.md)(tL.wg),n=(0,k.md)(ek.mp),a=(0,k.md)(ne),r=(0,k.md)(t8),s=(0,k.md)(ek.Ot),o=(0,t6.jO)(),l=(0,f.e)({overlay:y.Ttn,priority:g.N.DEFAULT_MODAL},[e,n,r,s]);return(0,tx.h)(()=>{l.show({canShow:(e,n,i,r)=>{if(e||r)return!1;let s=(0,t9.f)({userCreatedAt:n,lastUsedFigjamDate:a,hasSeenOverlayV2:i});return(!t||o)&&s}})}),(0,i.jsx)(t7.xZ,{context:"editor",isShowing:l.isShowing,onClose:l.complete})}var ni=n(140464),na=n(618316),nr=n(997477),ns=n(850701);function no(){let e=(0,p.wA)(),t=(0,p.d4)(e=>e.currentTeamId),n=(0,p.Pj)(),r=(0,k.md)(ek.t),s=(0,k.md)(tL.NZ),o=(0,t6.jO)(),l=(0,k.md)(tL.wg),{getConfig:d}=(0,nr.I7)("exp_library_upsells_v2"),{isShowing:c,show:u,complete:m,uniqueId:h}=(0,f.e)({overlay:y.BrS,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>d().get("show_library_upsell",!1),predicate:e=>e,postCheck:e=>!0}},[r]);(0,a.useEffect)(()=>{if(!c)return;let t=n.getState().leftPanel.activeTab;return e(ns.FP({tab:w.xae.ASSETS})),()=>{e(ns.FP({tab:t}))}},[e,n,c]);let _=(0,a.useCallback)(e=>{e.properties?.action==="copy_paste_from_different_file"&&l&&u({canShow:e=>e&&s&&o})},[l,u,s,o]),x=(0,a.useCallback)(()=>{c&&m()},[c,m]);return(0,eT.E)(h,"component_instance_inserted",_),(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,description:(0,N.tx)("rcs.upsell_libraries.quickly_access_components"),emphasized:!0,isShowing:c,onClose:x,onTargetLost:x,primaryCta:{label:(0,N.tx)("rcs.upsell_libraries.see_plans"),type:"button",onClick:()=>{e(eE.to({type:eC.V,data:{teamId:t??void 0,upsellSource:eS.b.UPSELL_LIBRARIES_REUSE_COMPONENTS_OVERLAY,openCheckoutInNewTab:!0}})),x()},ctaTrackingDescriptor:ew.c.GOT_IT},secondaryCta:{label:(0,N.tx)("rcs.upsell_libraries.not_now"),type:"button",onClick:x,ctaTrackingDescriptor:ew.c.GOT_IT},targetKey:g.D,title:(0,N.tx)("rcs.upsell_libraries.reuse_components_across_all_files"),trackingContextName:"Upsell Libraries Reuse Components Overlay"})}var nl=n(124125),nd=n(659062),nc=n(219971);let nu="seen_link_shortcut_overlay",np=(0,eI.r1)(nu);function nm(){let e=(0,p.wA)(),t=(0,ev.md)(np),{show:n,isShowing:r,complete:s,uniqueId:o}=(0,f.e)({overlay:y.v75,priority:g.N.DEFAULT_MODAL},[t]),l=nc.y.isApple(),d=a.useMemo(()=>(0,i.jsx)(nl.S,{shortcut:l?"\u2318K":"Ctrl+K"}),[l]),c=a.useMemo(()=>(0,i.jsx)(nl.S,{shortcut:l?"\u21E7\u2318U":"Shift+Ctrl+U"}),[l]);return(0,eT.E)(o,["show_link_shortcuts_overlay"],()=>{n({canShow:t=>(e(m.b({seen_link_shortcut_overlay:!0})),!t)})}),(0,i.jsx)(eO.X,{description:(0,i.jsxs)("div",{children:[(0,N.tx)("fullscreen.link_shortcuts_onboarding.description"),(0,i.jsxs)("ul",{className:S.s.py8.$,style:nd.sx.add({listStyle:"disc inside"}).$,children:[(0,i.jsx)("li",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_actions_updated",{actionsKeyCommand:(0,i.jsx)("strong",{children:d})})}),(0,i.jsx)("li",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_links_updated",{link:(0,i.jsx)("strong",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.create_link")}),linkKeyCommand:c})})]})]}),isShowing:r,onClose:s,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("fullscreen.link_shortcuts_onboarding.got_it"),type:"button",onClick:s,ctaTrackingDescriptor:ew.c.GOT_IT},testId:"linkShortcutOverlay",title:(0,N.tx)("fullscreen.link_shortcuts_onboarding.title"),trackingContextName:"Link Shortcuts Preference Onboarding Modal",userFlagOnShow:nu,width:350})}var nh=n(511570),nf=n.n(nh),ng=n(769109),n_=n(495896),nx=n(195975);let ny="dismissed_local_component_asset_panel_pointer",nv=(0,eI.r1)(ny);function nb(){let e=(0,p.wA)(),t=(0,tP.TA)(),n=(0,k.md)(tL.wg),r=(0,k.md)(nv),s=(0,k.md)(tL.NZ),o=(0,k.md)(tL.pQ),l=(0,k.md)(ek.t),d=(0,t6.jO)(),c=er.q5()?.teamId==null,{isShowing:u,show:h,complete:_,uniqueId:x}=(0,f.e)({overlay:y.Smd,priority:g.N.SECONDARY_MODAL,experiment:{check:()=>(0,n_.Hz)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[r,l,o]),v=(0,a.useCallback)(()=>{n&&h({canShow:(e,t,n)=>d&&t&&(n||s)})},[d,n,s,h]),b=(0,a.useCallback)(()=>{u&&(_(),e(m.b({[ny]:!0})))},[e,_,u]);return(0,eT.E)(x,"action_create_symbol",v),(0,eT.E)(x,"component_instance_inserted",b),(0,i.jsx)(eF.rq,{isShowing:u,targetKey:eJ.Qr,description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:S.s.pt6.mr36.$,children:c?(0,N.tx)("design_systems.assets_panel.drag_drop_component_draft"):(0,N.tx)("design_systems.assets_panel.drag_drop_component")}),(0,i.jsx)(ng.Jn,{onClick:b,innerText:(0,N.t)("general.close"),"aria-label":(0,N.t)("general.close"),className:nf()(nx.Rf,S.s.absolute.top0.right0.mr8.mt10.$)})]}),primaryCta:{label:(0,N.tx)("design_systems.assets_panel.got_it"),type:"button",onClick:b,ctaTrackingDescriptor:ew.c.GOT_IT},onClose:b,trackingContextName:"Local Component Asset Panel Pointer",arrowPosition:tw.F_.LEFT_TITLE,emphasized:!0,hideCloseButton:!0})}var nC=n(432099),nE=n(548852);let nj=(0,eI.r1)("seen_mobile_comment_download_modal_prompt");function nw(){let e=(0,p.wA)(),t=(0,k.md)(nj),n=(0,p.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),s=(0,p.d4)(e=>e.user?.created_at),o=(0,ed.A)(s).add(14,"day").isSameOrAfter((0,ed.A)()),{isShowing:l,show:d,complete:c,uniqueId:u}=(0,f.e)({overlay:y.H2x,priority:g.N.DEFAULT_MODAL},[t]);if((0,eT.E)(u,nE.w,(0,a.useCallback)(()=>{d({canShow:e=>!!(0,r.kc)().mobile_download_modal_prompts&&!e&&!o&&!n})},[d,n,o])),!l)return null;let m=()=>{nC.Ay.post("/api/send_mobile_download_email",{type:"comment"}),(0,tf.sx)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),c(),e(em.F.enqueue({message:(0,N.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return(0,i.jsx)(eO.X,{description:(0,N.tx)("mobile_download_prompts.scan_the_qr_code"),isShowing:l,media:(0,i.jsx)(eL.y,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:(0,eb.ck)("6c270bb31fb5af03393425b7f0a6462ec59d04ab")}),onClose:()=>{c()},position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("mobile_download_prompts.email_me"),type:"button",onClick:()=>m(),ctaTrackingDescriptor:ew.c.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},secondaryCta:{label:(0,N.tx)("mobile_download_prompts.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("mobile_download_prompts.never_miss_a_comment"),trackingContextName:"Mobile Comment Download Modal Prompt",userFlagOnShow:"seen_mobile_comment_download_modal_prompt"})}var nT=n(124923),nk=n(599043),nI=n(70177),nS=n(700795),nN=n(915316),nA=n(450259),nL=n(276800),nO=n(967782);function nR(e){return(0,i.jsx)("div",{className:"connector_modal_wrapper--connectorModalWrapper--uCUjA",children:e.children})}var nP=n(132078),nM=n(80852),nD=n(354114),nF=n(255768),nB=n(5047);let nU="onboard_figjam_viewer--contentContainer--t9zim",nH="onboard_figjam_viewer--imageContainer--rvqD8",nV="onboard_figjam_viewer--image--ZdwAA",nG="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",nz="onboard_figjam_viewer--normal--HjE2J",nK="onboard_figjam_viewer--bold--kC3mV";class nW extends a.PureComponent{render(){let e=(0,i.jsxs)(i.Fragment,{children:[this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&(0,N.tx)("rcs.rcs_shared.done"),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&(0,N.tx)("rcs.figjam_onboarding.next")]});return(0,i.jsxs)("div",{className:nU,children:[(0,i.jsxs)("div",{style:nd.sx.add({width:`${this.props.imgContainerWidth}px`}).$,className:nH,children:[(0,i.jsx)("span",{className:"onboard_figjam_viewer--imgHelper--SJXYZ","aria-hidden":"true"}),(0,i.jsx)("img",{className:nV,src:this.props.imgSrc,alt:""})]}),(0,i.jsxs)("div",{className:nf()({[nG]:!0,[nz]:!this.props.isBold,[nK]:!!this.props.isBold}),children:[this.props.titleText&&(0,i.jsx)("div",{className:"onboard_figjam_viewer--title--k1Gpk",children:this.props.titleText}),(0,i.jsx)("div",{className:"onboard_figjam_viewer--text--xkcTB",children:this.props.bodyText}),(0,i.jsxs)("div",{className:"onboard_figjam_viewer--bottomContentRow--PgTeU",children:[(0,i.jsx)("div",{className:nf()({"onboard_figjam_viewer--secondaryText--THVcI":!0,[nz]:!this.props.isBold,[nK]:!!this.props.isBold}),children:this.props.steps?(0,N.tx)("rcs.rcs_shared.step_counter",{currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):(0,i.jsx)(i.Fragment,{})}),this.props.isBold?(0,i.jsx)(nB.J,{onClick:this.props.onNext,autoFocus:!0,children:e}):(0,i.jsx)(tW.$z,{onClick:this.props.onNext,children:e})]})]}),(0,i.jsx)("div",{className:"onboard_figjam_viewer--closeButton--hm43f",children:(0,i.jsx)(v.K,{onClick:this.props.onDismiss,"aria-label":(0,N.t)("modal.close"),children:(0,i.jsx)(E.A,{className:this.props.isBold?nK:void 0})})})]})}}nW.displayName="FigJamOnboardingModal";var nZ=n(991522);let nq=(0,eb.ck)("07ff49c75c8933ea70ff2e4776503291c31a35ef");function nX(e){let t=(0,nF.O)();(0,a.useEffect)(()=>(nD.Y5.triggerAction("set-tool-hand",null),()=>nD.Y5.triggerAction("set-tool-default",null)),[]),(0,a.useEffect)(()=>(t({eventName:"hand_tooltip_shown"}),()=>t({eventName:"pan_zoom_completed"})),[t]);let n=(0,n_.Un)();return(0,i.jsx)(nR,{children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:nZ.N,topPadding:-6,hasShadow:e.hasShadow,children:(0,i.jsx)(nW,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",{spaceKey:(0,i.jsx)("b",{children:(0,N.tx)("rcs.figjam_onboarding.space")})})}),onNext:e.onClickPrimaryCta,steps:{current:2,total:n?2:3},onDismiss:()=>{e.dismissModal(),t({eventName:"hand_tooltip_dismissed"})},imgSrc:nq})})})}var nY=n(660948);let nJ=(0,eb.ck)("4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a");function nQ(e){let t=s.Ay.mac?(0,N.t)("rcs.figjam_onboarding.cmd"):(0,N.t)("rcs.figjam_onboarding.ctrl"),n=(0,nY.v)()?-10:-3,r=(0,n_.Un)(),o=(0,nF.O)();return(0,a.useEffect)(()=>{o({eventName:"zoom_tooltip_shown"})},[o]),(0,i.jsx)(nR,{children:(0,i.jsx)(nP.Dv,{targetType:"dom",topPadding:n,targetKey:nZ.q,hasShadow:e.hasShadow,children:(0,i.jsx)(nW,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",{commandKey:(0,i.jsx)("b",{children:t}),plusOrMinusKeys:(0,i.jsx)("b",{children:(0,N.tx)("rcs.figjam_onboarding.plus_or_minus")})})}),onNext:e.onClickPrimaryCta,steps:{current:1,total:r?2:3},onDismiss:()=>{e.dismissModal(),o({eventName:"zoom_tooltip_dismissed"})},imgSrc:nJ})})})}function n$(e){return(0,i.jsx)(eZ.h,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:nQ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function n0(e){let t=(0,n_.Un)();return(0,i.jsx)(eZ.h,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:nX,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let n1=(0,eb.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1"),n2=[n$,n0,function(e){return(0,i.jsx)(eZ.h,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>(0,i.jsx)(nR,{children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:eJ.v4,topPadding:-6,children:(0,i.jsx)(nW,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team")}),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:n1})})}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];var n3=n(225417),n5=n(813166),n4=n(68351),n6=n(380494),n7=n(449572),n9=n(944350),n8=n(59849);function ie({skipAccountCreationDateCheck:e=!1}){let t=(0,eV.aV)(),n=(0,tj.lg)(),i=(0,er.q5)(),r=(0,k.md)(ek.mp),s=(0,n7.Rs)(n8.KMT,{currentOrgId:i?.parentOrgId||null});return a.useMemo(()=>n6.Qw.all([r,s]).transform(i=>{let[a,r]=i,s=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a),o=!!r.org?.k12GoogleOrg||(0,n4.aA)(r.currentUser.profile?.jobTitle||"");return!t&&n===n9._Y.WHITEBOARD&&(e||s)&&o}),[r,s,n,t,e])}let it=(0,eb.ck)("db6976747d085e1350d443cd04b08e7ba979b86b");function ii({isShowing:e,onPrimaryCtaClick:t,onClose:n}){return(0,i.jsx)(x.M,{isShowing:e,children:(0,i.jsx)(h.fu,{name:"Share to Google Classroom New User Onboarding",children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:"share",isBold:!0,topPadding:-6,autoWidth:!0,children:(0,i.jsx)(nW,{isBold:!0,titleText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.header"),bodyText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.body"),buttonText:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),onNext:t,onDismiss:n,imgSrc:it,imgContainerWidth:105})})})})}function ia({isShowing:e,onClose:t}){return(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,i.jsx)("div",{children:(0,N.tx)("whiteboard.google_classroom.pointer.body")}),disableHighlight:!0,emphasized:!0,isShowing:e,onClose:t,onTargetLost:t,targetKey:n4.pb,trackingContextName:"Share to Google Classroom Share Option Pointer",zIndex:eR.R.MODAL})}let ir="seen_figjam_share_to_google_classroom_existing_user_onboarding",is=(0,eI.r1)(ir),io="seen_figjam_share_to_google_classroom_new_user_onboarding",il=(0,eI.r1)(io),id=(0,eI.r1)("has_shared_to_google_classroom"),ic=(0,eI.r1)("figjam_editor_onboarded"),iu="start_share_to_classroom_new_user_onboarding";function ip(){let e=(0,p.wA)(),t=ie({skipAccountCreationDateCheck:!0}),n=(0,k.md)(is),r=(0,k.md)(il),s=(0,k.md)(id),o=(0,k.md)(n4.Ij),{show:l,isShowing:d,complete:c,uniqueId:u}=(0,f.e)({overlay:y.DKg,priority:g.N.OVERRIDING_MODAL},[r,n,s,t]);(0,eT.E)(u,iu,()=>{l({onShow:()=>{e(m.b({[io]:!0}))},canShow:(e,t,n,i)=>!e&&!t&&!n&&i})}),a.useEffect(()=>{n.data&&c()},[n,c]);let{currentStep:h,next:_}=(0,eG.A)({numSteps:2,onComplete:c}),x=function({isShowing:e,next:t,complete:n}){let a=(0,p.wA)(),r=(0,er.q5)();return[(0,i.jsx)(ii,{isShowing:e,onPrimaryCtaClick:()=>{if(!r){n();return}a((0,eE.to)({type:n5.g_,data:{fileKey:r.key,source:n3.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:n},"share-to-google-classroom-new-user-callout"),(0,i.jsx)(ia,{isShowing:e,onClose:n},"share-to-google-classroom-share-option-pointer")]}({isShowing:d,next:_,complete:c});return a.useEffect(()=>{o&&d&&0===h&&_()},[h,d,o,_]),(0,i.jsx)(eW.U,{currentStep:h,isShowing:d,children:x})}function im(e){let t=(0,p.wA)();return()=>{t(m.b({figjam_editor_onboarded:!0})),e()}}function ih({overlayUniqueId:e,afterReset:t}){let n=(0,p.wA)();(0,eT.E)(e,"Reset Onboarding",()=>{n(m.b({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1})),t&&t()})}function ig({steps:e,onComplete:t,isShowing:n,overlayUniqueId:r}){let{currentStep:s,next:o,reset:l}=(0,eG.A)({numSteps:e.length,onComplete:t});return ih({overlayUniqueId:r,afterReset:l}),(0,i.jsx)(eW.U,{currentStep:s,isShowing:n,children:a.useMemo(()=>e.map(e=>a.createElement(e,{onClickPrimaryCta:o,onClose:nL.lQ,onManualDismiss:t,isShowing:n})),[o,t,n,e])})}var i_=n(122559),ix=n(122010),iy=n(917360),iv=n(498349),ib=n(684742),iC=n(751536),iE=n(328341),ij=n(652539),iw=n(482996),iT=n(562086),ik=n(668242),iI=n(141773),iS=n(956592),iN=n(631370),iA=n(615782),iL=n(395556),iO=n(792028),iR=n(299640),iP=n(894981),iM=n(502756),iD=n(295114),iF=n(582154),iB=n(643330),iU=n(338052),iH=n(211261),iV=n(99723),iG=n(463470);function iz({onClickPrimaryCta:e,useCase:t}){let n=(0,er.q5)(),i=(0,p.wA)(),r=(0,nF.O)();return{onNext:(0,a.useCallback)(()=>{n&&(i((0,eE.to)({type:n5.g_,data:{fileKey:n.key,source:n3.nk.expFigJamOnboardingShareVariant}})),(0,nO.YQ)({id:"open share modal"}),r({eventName:"share_board_clicked",useCase:t})),e()},[n,i,e,r,t])}}let iK="make_something_assets--svg--hgXqn",iW="make_something_assets--svgHovered--3XZdi",iZ="make_something_assets--transformable--Ku46s",iq="make_something_assets--transformLeftBrainstorm--To6dH",iX="make_something_assets--transformRightBrainstorm--DH4Yj",iY="make_something_assets--transformLeftUpdates--HVSJ5",iJ="make_something_assets--transformRightUpdates--jOJJ-",iQ="make_something_assets--transformLeftPlanning--6tBWf",i$="make_something_assets--transformRightPlanning--H2U0C",i0="make_something_assets--transformRightDiagramming--2ff-F";function i1(e){return(0,i.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:nf()(iK,{[iW]:e.hovered}),children:[(0,i.jsx)("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsx)("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_351_43460)",children:[(0,i.jsx)("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsxs)("g",{filter:"url(#filter1_d_351_43460)",children:[(0,i.jsx)("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsxs)("g",{filter:"url(#filter2_d_351_43460)",children:[(0,i.jsx)("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,i.jsx)("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsxs)("g",{filter:"url(#filter3_d_351_43460)",children:[(0,i.jsx)("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,i.jsx)("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsx)("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,i.jsxs)("g",{filter:"url(#filter4_d_351_43460)",children:[(0,i.jsx)("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsx)("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsx)("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsxs)("g",{filter:"url(#filter5_d_351_43460)",className:nf()(iZ,iX),children:[(0,i.jsx)("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsx)("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:nf()(iZ,iX)}),(0,i.jsx)("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:nf()(iZ,iX)}),(0,i.jsxs)("g",{filter:"url(#filter6_d_351_43460)",className:nf()(iZ,iq),children:[(0,i.jsx)("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,i.jsx)("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,i.jsx)("rect",{className:nf()(iZ,iq),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{className:nf()(iZ,iq),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsx)("circle",{className:nf()(iZ,iq),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]})]})]})}function i2(e){return(0,i.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:nf()(iK,{[iW]:e.hovered}),children:[(0,i.jsx)("rect",{width:"196",height:"121.761",fill:"white"}),(0,i.jsx)("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsxs)("g",{clipPath:"url(#clip0_351_43276)",children:[(0,i.jsx)("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),(0,i.jsx)("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),(0,i.jsx)("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),(0,i.jsx)("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})]}),(0,i.jsx)("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),(0,i.jsx)("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),(0,i.jsx)("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),(0,i.jsxs)("g",{clipPath:"url(#clip1_351_43276)",children:[(0,i.jsx)("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),(0,i.jsx)("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),(0,i.jsx)("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),(0,i.jsx)("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})]}),(0,i.jsxs)("g",{clipPath:"url(#clip2_351_43276)",children:[(0,i.jsx)("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),(0,i.jsx)("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),(0,i.jsx)("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),(0,i.jsx)("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})]}),(0,i.jsxs)("g",{clipPath:"url(#clip3_351_43276)",children:[(0,i.jsx)("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),(0,i.jsx)("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),(0,i.jsx)("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),(0,i.jsx)("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})]}),(0,i.jsx)("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),(0,i.jsx)("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:nf()(iZ,i0)}),(0,i.jsx)("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:nf()(iZ,i0)}),(0,i.jsx)("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:nf()(iZ,i0)}),(0,i.jsxs)("g",{clipPath:"url(#clip4_351_43276)",className:nf()(iZ,i0),children:[(0,i.jsx)("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),(0,i.jsx)("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),(0,i.jsx)("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),(0,i.jsx)("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})]}),(0,i.jsx)("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsx)("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,i.jsxs)("g",{clipPath:"url(#clip5_351_43276)",children:[(0,i.jsx)("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),(0,i.jsx)("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),(0,i.jsx)("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),(0,i.jsx)("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})]}),(0,i.jsx)("path",{className:nf()(iZ,i0),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),(0,i.jsx)("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_351_43276",children:(0,i.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})}),(0,i.jsx)("clipPath",{id:"clip1_351_43276",children:(0,i.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})}),(0,i.jsx)("clipPath",{id:"clip2_351_43276",children:(0,i.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})}),(0,i.jsx)("clipPath",{id:"clip3_351_43276",children:(0,i.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})}),(0,i.jsx)("clipPath",{id:"clip4_351_43276",children:(0,i.jsx)("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})}),(0,i.jsx)("clipPath",{id:"clip5_351_43276",children:(0,i.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"})})]})]})}function i3(e){return(0,i.jsxs)("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",className:nf()(iK,{[iW]:e.hovered}),children:[(0,i.jsx)("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),(0,i.jsx)("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),(0,i.jsx)("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),(0,i.jsx)("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),(0,i.jsx)("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),(0,i.jsxs)("g",{clipPath:"url(#clip0_351_42930)",children:[(0,i.jsx)("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),(0,i.jsx)("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),(0,i.jsx)("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),(0,i.jsx)("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})]}),(0,i.jsxs)("g",{clipPath:"url(#clip1_351_42930)",children:[(0,i.jsx)("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),(0,i.jsx)("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),(0,i.jsx)("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),(0,i.jsx)("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})]}),(0,i.jsx)("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),(0,i.jsx)("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:nf()(iZ,iQ)}),(0,i.jsx)("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:nf()(iZ,iQ)}),(0,i.jsxs)("g",{clipPath:"url(#clip2_351_42930)",className:nf()(iZ,iQ),children:[(0,i.jsx)("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),(0,i.jsx)("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),(0,i.jsx)("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),(0,i.jsx)("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})]}),(0,i.jsx)("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:nf()(iZ,i$)}),(0,i.jsx)("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:nf()(iZ,i$)}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_351_42930",children:(0,i.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})}),(0,i.jsx)("clipPath",{id:"clip1_351_42930",children:(0,i.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})}),(0,i.jsx)("clipPath",{id:"clip2_351_42930",children:(0,i.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"})})]})]})}function i5(e){return(0,i.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:nf()(iK,{[iW]:e.hovered}),children:[(0,i.jsx)("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_351_120552)",children:[(0,i.jsx)("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{filter:"url(#filter1_d_351_120552)",children:[(0,i.jsx)("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{filter:"url(#filter2_d_351_120552)",children:[(0,i.jsx)("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsx)("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),(0,i.jsxs)("g",{filter:"url(#filter3_d_351_120552)",children:[(0,i.jsx)("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),(0,i.jsx)("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsxs)("g",{filter:"url(#filter4_d_351_120552)",children:[(0,i.jsx)("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{filter:"url(#filter5_d_351_120552)",children:[(0,i.jsx)("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{clipPath:"url(#clip0_351_120552)",children:[(0,i.jsx)("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),(0,i.jsx)("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),(0,i.jsx)("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),(0,i.jsx)("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})]}),(0,i.jsx)("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsx)("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsx)("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),(0,i.jsxs)("g",{filter:"url(#filter6_d_351_120552)",children:[(0,i.jsx)("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),(0,i.jsx)("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsxs)("g",{clipPath:"url(#clip1_351_120552)",children:[(0,i.jsx)("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),(0,i.jsx)("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),(0,i.jsx)("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),(0,i.jsx)("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})]}),(0,i.jsxs)("g",{filter:"url(#filter7_d_351_120552)",children:[(0,i.jsx)("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{filter:"url(#filter8_d_351_120552)",children:[(0,i.jsx)("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsxs)("g",{filter:"url(#filter9_d_351_120552)",children:[(0,i.jsx)("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,i.jsx)("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsx)("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),(0,i.jsxs)("g",{clipPath:"url(#clip2_351_120552)",children:[(0,i.jsx)("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),(0,i.jsx)("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),(0,i.jsx)("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),(0,i.jsx)("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})]}),(0,i.jsxs)("g",{filter:"url(#filter10_d_351_120552)",className:nf()(iZ,iJ),children:[(0,i.jsx)("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,i.jsx)("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:nf()(iZ,iJ)}),(0,i.jsx)("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:nf()(iZ,iJ)}),(0,i.jsxs)("g",{filter:"url(#filter11_d_351_120552)",className:nf()(iZ,iY),children:[(0,i.jsx)("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),(0,i.jsx)("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,i.jsx)("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:nf()(iZ,iY)}),(0,i.jsx)("path",{className:nf()(iZ,iY),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),(0,i.jsx)("path",{className:nf()(iZ,iY),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),(0,i.jsx)("path",{className:nf()(iZ,iY),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),(0,i.jsx)("path",{className:nf()(iZ,iY),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_351_120552",children:(0,i.jsx)("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})}),(0,i.jsx)("clipPath",{id:"clip1_351_120552",children:(0,i.jsx)("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})}),(0,i.jsx)("clipPath",{id:"clip2_351_120552",children:(0,i.jsx)("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"})})]})]})}var i4=n(866725),i6=n(680675);let i7="browse_templates_make_something_onboarding--faded--UuXrP";var i9=n(536283),i8=n(430011),ae=n(519128),at=n(221042);let an="loadingMakeSomethingTemplate",ai=e=>{let t=(0,k.Xr)(i_.w),{name:n}=(0,h.j6)(),r=(0,p.wA)(),[s,o]=(0,a.useState)(i4.fD.NONE),l=(0,a.useCallback)(e=>{r(iT.Ji({isActive:e}))},[r]);(0,a.useEffect)(()=>(l(!0),()=>{l(!1)}),[l]);let d=(0,iS.g)();(0,a.useEffect)(()=>(d&&w.gw5?.setFigjamStarterKitEnabled(!0),()=>{w.gw5?.setFigjamStarterKitEnabled(!1)}),[d]);let c=(0,k.Xr)(iH.Qs);(0,a.useEffect)(()=>{c({type:"CLOSE"})},[c]);let u=(0,nF.O)(),f=(0,a.useRef)(Date.now()),g=e.onHideModal,_=(0,a.useCallback)(()=>{g(),(0,nO.YQ)({id:i4.Lz}),r(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),r(eE.Ce()),t(i_.tX.COMPLETED)},[g,r,t]),x=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,ef.Cu)({trackingContext:n,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function y(t,i){(0,ef.Cu)({trackingContext:n,text:`${t} tile hovered`},"CTA Hovered"),o(t),e.onUseCasePreview?.(t,i)}let v=[{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:i9.A,previewSvg:e=>(0,i.jsx)(i1,{hovered:e}),useCase:i4.fD.BRAINSTORM,previewType:w.KpW.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:at.A,previewSvg:e=>(0,i.jsx)(i5,{hovered:e}),useCase:i4.fD.UPDATES,previewType:w.KpW.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:i8.A,previewSvg:e=>(0,i.jsx)(i3,{hovered:e}),useCase:i4.fD.PLAN,previewType:w.KpW.MAKE_SOMETHING_PLANNING},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:ae.A,previewSvg:e=>(0,i.jsx)(i2,{hovered:e}),useCase:i4.fD.TEAM,previewType:w.KpW.MAKE_SOMETHING_TEAM_CHART}];function b(e,t){let n=v.findIndex(t=>t.useCase===e)+t;return n>v.length-1?n=0:n<0&&(n=v.length-1),n}return{hoveredUseCase:s,setHoveredUseCase:o,onClickCloseButton:()=>{e.onHideModal(),(0,nO.YQ)({id:i4.Lz}),t(i_.tX.COMPLETED);let n=Math.round((Date.now()-f.current)/1e3);u({eventName:"msv2_dismissed",style:e.style,secondsAfterShown:n})},onClickMoreTemplatesButton:()=>{r(eE.$O({type:iM.PH.type,data:{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:_,onTemplateInsertedNewFile:_}})),u({eventName:"more_templates_clicked",style:e.style})},onClickUseCaseTile:x,onUseCasePreview:y,useCaseTiles:v,onListBoxKeydown:function(e){let t;if("Enter"===e.key){s!==i4.fD.NONE&&v.find(({useCase:e})=>e===s)&&x(s);return}if("Home"===e.key)t=0;else if("End"===e.key)t=v.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=b(s,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=b(s,1)}let n=v[t];n&&(o(n.useCase),y(n.useCase,n.previewType))}}},aa={[i4.fD.BRAINSTORM]:i4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[i4.fD.PLAN]:i4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[i4.fD.UPDATES]:i4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[i4.fD.TEAM]:i4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},ar=(0,iU.n)(({onSuccess:e}={})=>{let t=(0,k.Xr)(i_.w),n=(0,p.wA)(),i=(0,eV.aV)(),r=(0,iS.g)(),s=(0,p.d4)(e=>e.mirror.appModel.multiplayerSessionState===w.kul.JOINED),{hubFiles:o,templates:l,categoryIds:d,isLoading:c}=(0,iF.bg)({templatesShelfType:iO.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2",isCmtyShelvesV2Enabled:(0,iw.Sm)()}),{insertTemplate:u}=(0,iI.Fz)(),h=(0,a.useMemo)(()=>{let e={};return Object.keys(o).filter(e=>d.some(t=>l[t]?.includes(e))).reduce((e,t)=>{let n=o[t];return n&&(e[(0,iA.a6)(n).name.toUpperCase()]=n),e},e),e},[o,l,d]),f=r&&!c&&!i&&s;return{insert:(0,a.useCallback)(i=>{if(!f)return;if(i===i4.fD.NONE){e?.();return}let a=h[i],r=aa[i];a&&u({template:{template:a,type:iL.n.HubFile},onSuccess:()=>{e?.(),n(em.F.dequeue({matchType:an})),(0,nO.YQ)({id:r}),n(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(i_.tX.USE_CASE_STEPS),i===i4.fD.PLAN?w.glU.setCanvasZoomScale(.8):i===i4.fD.TEAM&&w.glU.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),n(em.F.enqueue({message:(0,N.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:eh.zX.SPINNER,type:an}))},[n,e,u,t,h,f]),canInsert:f}});function as(e){let t=(0,p.d4)(e=>{let t=e?.mirror?.appModel?.currentPage,n=e?.mirror?.sceneGraph,i=n?.get(t);return!i||!i.childCount||i.childrenAreAllGhosts}),n=(0,n_.Un)(),r=(0,nF.O)(),s=!n||t,o=s?"banner":"popup",l=()=>{e.hideModal?.()},d=e=>{r({eventName:"use_case_hovered",useCase:e,style:o})},c=e=>{r({eventName:"use_case_clicked",useCase:e,style:o})};function u(e,t){if("Escape"===e.key){t(),e.preventDefault(),e.stopPropagation();return}}return function(e){let t=(0,nF.O)(),n=(0,iE.ZC)(e);(0,a.useEffect)(()=>{if(!n){t({eventName:"msv2_shown",style:e});return}if(n!==e){t({eventName:"msv2_style_changed",style:e,prevStyle:n});return}},[n,e,t])}(o),s?(0,i.jsx)(ao,{onHideModal:l,trackUseCaseHover:d,trackUseCaseClick:c,onEscapeDown:u}):(0,i.jsx)(al,{onHideModal:l,trackUseCaseHover:d,trackUseCaseClick:c,onEscapeDown:u})}function ao(e){let{onHideModal:t,trackUseCaseHover:n,trackUseCaseClick:r}=e,[s,o]=(0,a.useState)(!1),l=(0,a.useRef)(!1),{insert:d,canInsert:c}=ar({onSuccess:()=>{l.current=!1}}),{hoveredUseCase:u,setHoveredUseCase:p,onClickCloseButton:m,onClickMoreTemplatesButton:h,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:_,onListBoxKeydown:x}=ai({templateInsertionLocation:iA.RD.CURRENT_FILE,onHideModal:t,onClickUseCaseTile(e){l.current=!0,d(e),t(),r(e)},onUseCasePreview(e,t){w.gw5.clearFigjamStarterKitPreview(),w.gw5.rotateFigjamStarterKitStrings(),w.gw5.showFigjamStarterKitPreview(t),n(e)},shouldAcceptClickUseCaseTile:()=>!l.current,style:"banner"});function y(){o(!1),w.gw5.clearFigjamStarterKitPreview(),p(i4.fD.NONE)}return c?(0,i.jsx)("div",{className:S.s.flex.justifyCenter.$,children:(0,i.jsx)(iy.b,{className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}},children:(0,i.jsxs)(iv.i,{children:[(0,i.jsx)("div",{className:nf()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[i7]:s}),children:(0,i.jsx)(tW.Me,{onClick:m,"aria-label":(0,N.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"},children:(0,i.jsx)(E.A,{})})}),(0,i.jsxs)("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G",children:[(0,i.jsxs)("div",{className:nf()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[i7]:s}),children:[(0,i.jsx)("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_title")}),(0,i.jsx)("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_subtitle")}),(0,i.jsx)("div",{className:"browse_templates_make_something_onboarding--templateButtonContainer--ey3hb",children:(0,i.jsx)("div",{className:"browse_templates_make_something_onboarding--templateButtonShadow--PGxmP",children:(0,i.jsx)(tW.c,{variant:"secondary",onClick:h,iconPrefix:(0,i.jsx)(iC.Q,{}),trackingEventName:"more templates click",htmlAttributes:{onFocus:y},autoFocus:!1,children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")})})})]}),(0,i.jsx)("div",{"aria-activedescendant":u,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:x,onMouseEnter:()=>o(!0),onMouseLeave:y,role:"listbox",tabIndex:0,children:_.map(({headerIcon:e,headerText:t,useCase:n,previewSvg:a,previewType:r})=>(0,i.jsxs)(ib.E,{className:nf()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[i7]:![i4.fD.NONE,n].includes(u)}),onClick:()=>f(n),htmlAttributes:{onFocus:()=>g(n,r),onMouseEnter:()=>g(n,r),tabIndex:-1},children:[(0,i.jsxs)("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI",children:[(0,i.jsx)(ij.B,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t]}),(0,i.jsxs)("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG",children:[(0,i.jsx)("div",{className:"browse_templates_make_something_onboarding--gradientOverlay--PmGRF"}),(0,i.jsx)("div",{children:a(u===n)})]})]},n))})]})]})})}):null}function al(e){let{onHideModal:t,trackUseCaseHover:n,trackUseCaseClick:r}=e,{shiftPopupUp:s,popupRef:o}=function(){let e=iG.C()?.whiteboardToolbeltContainerNode,t=(0,a.useRef)(null),[n,i]=(0,a.useState)(!1);return(0,a.useLayoutEffect)(()=>{let n=(0,iV.s)(()=>{let n=t.current?.getBoundingClientRect(),a=e?.getBoundingClientRect();n&&a&&i(a.left-n.right<24)},100);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),{popupRef:t,shiftPopupUp:n}}(),l=(0,p.wA)(),d=(0,iN.B)(),{hoveredUseCase:c,setHoveredUseCase:u,onClickCloseButton:m,onClickMoreTemplatesButton:h,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:_,onListBoxKeydown:x}=ai({templateInsertionLocation:iA.RD.NEW_FILE,onHideModal:t,onClickUseCaseTile(e){l(ik.zE({state:d,from:iR.f6.FIGJAM_MAKE_SOMETHING_POPUP,editorType:n9._Y.WHITEBOARD,team:void 0,openNewFileIn:iR.ai.NEW_TAB,figjamMakeSomethingUseCase:e})),r(e)},onUseCasePreview(e){n(e)},style:"popup"});return(0,i.jsx)("div",{className:nf()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":s}),children:(0,i.jsx)(iy.b,{className:"browse_templates_make_something_onboarding--popupModal--y2117",ref:o,htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}},children:(0,i.jsxs)(iv.i,{children:[(0,i.jsxs)("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ",children:[(0,i.jsx)("h2",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.popup.title")}),(0,i.jsx)(tW.Me,{onClick:m,"aria-label":(0,N.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"},children:(0,i.jsx)(E.A,{})})]}),(0,i.jsxs)("div",{className:S.s.pt8.pr12.pb12.pl12.$,children:[(0,i.jsx)("div",{"aria-activedescendant":c,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"vertical",onKeyDown:x,role:"listbox",tabIndex:0,className:"browse_templates_make_something_onboarding--popupUseCasesContainer--U5E6f",children:_.map(({headerIcon:e,headerText:t,useCase:n})=>(0,i.jsxs)("button",{"aria-label":t,"aria-selected":c===n,className:nf()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":c===n}),id:`make-something-onboarding-${n}`,onBlur:()=>u(i4.fD.NONE),onClick:()=>f(n),onFocus:()=>g(n),onMouseEnter:()=>g(n),onMouseLeave:()=>u(i4.fD.NONE),role:"option",tabIndex:-1,children:[(0,i.jsx)(ij.B,{className:nf()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":n===i4.fD.BRAINSTORM}),svg:e,height:n===i4.fD.BRAINSTORM?"16px":"20px",width:n===i4.fD.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t]},n))}),(0,i.jsx)(tW.lR,{trackingEventName:"more templates click",onClick:h,variant:"ghost",htmlAttributes:{onFocus:()=>u(i4.fD.NONE),onMouseEnter:()=>u(i4.fD.NONE)},children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")})]})]})})})}function ad(){let{insert:e,canInsert:t}=ar(),[n,i]=(0,k.fp)(i_.l5),r=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{t&&n!==i4.fD.NONE&&!r.current&&(e(n),r.current=!0)},[n,e,t]),(0,a.useEffect)(()=>()=>i(i4.fD.NONE),[i]),null}i4.Og,eQ.q3.SELF_CONTAINED,e=>(0,i.jsx)(as,{hideModal:e.dismissModal});let ac=`${i4.Og} Templates Toolbar Connector Tooltip`,au=`${i4.Og} Templates Toolbar Onboarding Finished Connector Tooltip`;function ap(e){return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:iD.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:iB.F_.BOTTOM,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{className:i6.RL,children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta})})}function am(e){return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:iD.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:iB.F_.BOTTOM,children:(0,i.jsx)(iP.mI,{titleText:(0,i.jsx)("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ",children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else")}),bodyText:(0,i.jsx)("span",{className:i6.$s,children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta})})}function ah(e){let t=(0,k.Xr)(i_.w);return(0,tx.h)(()=>{t(i_.tX.MODAL_SHOWING)}),(0,i.jsx)(eZ.h,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:a.useCallback(e=>(0,i.jsx)(ix.m,{role:"region","aria-label":(0,N.t)("figjam_onboarding_make_something.accessible_area.aria_label"),children:(0,i.jsx)(as,{hideModal:e.dismissModal})}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}eQ.q3.SELF_CONTAINED,eQ.q3.SELF_CONTAINED;let af="figjam_unified_onboarding_product",ag="figjam_unified_onboarding_pz";function a_(e){(0,nO.YQ)({id:e===n_.jg.PRODUCT_THEN_PZ?af:ag})}let ax=[n$,n0];function ay(){let e=(0,k.md)(n_.Am),{show:t,uniqueId:n,isShowing:r,complete:s}=(0,f.e)({overlay:y.wRI,priority:g.N.OVERRIDING_MODAL}),o=im((0,a.useCallback)(()=>{s(),e===n_.jg.PZ_THEN_PRODUCT&&(0,nO.YQ)({id:af}),e===n_.jg.PRODUCT_THEN_PZ&&(0,nO.YQ)({id:iu})},[s,e]));return(0,eT.E)(n,ag,()=>{t()}),(0,i.jsx)(ig,{steps:ax,onComplete:o,isShowing:r,overlayUniqueId:n})}function av(){let e=(0,k.md)(n_.Am),t=(0,k.md)(i_.w),{show:n,uniqueId:r,isShowing:s,complete:o}=(0,f.e)({overlay:y.Kze,priority:g.N.OVERRIDING_MODAL}),l=im(o);return(0,eT.E)(r,af,()=>{n()}),(0,a.useEffect)(()=>{t===i_.tX.COMPLETED&&e===n_.jg.PRODUCT_THEN_PZ&&(0,nO.YQ)({id:ag}),t===i_.tX.COMPLETED&&e===n_.jg.PZ_THEN_PRODUCT&&(0,nO.YQ)({id:iu})},[t,e]),(0,i.jsx)(ah,{onClickPrimaryCta:l,onClose:nL.lQ,onManualDismiss:l,isShowing:s})}var ab=n(359166),aC=n(152469),aE=n(550209),aj=n(504307),aw=n(422647),aT=n(151720),ak=n(288747),aI=n(710211),aS=n(104836),aN=n(919853),aA=n(827695),aL=n(111679);let aO=(0,eb.ck)("964c3ddf18b0f2712b664efde991dfc4f2c58eb8"),aR=(0,iU.D)((e,t)=>{t(aL.V3({url:e}))});function aP(e){let t=(0,p.wA)();return(0,i.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalContainer--O1ld1",children:(0,i.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP",children:(0,i.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP",children:(0,i.jsxs)("div",{className:nU,children:[(0,i.jsx)("div",{className:nH,children:(0,i.jsx)("img",{className:nV,src:aO,alt:""})}),(0,i.jsxs)("div",{className:nf()(nG,nz),children:[(0,i.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB",children:(0,N.tx)("rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial")}),(0,i.jsxs)("div",{className:"onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU",children:[(0,i.jsx)(C.$n,{variant:"ghost",onClick:e.dismissModal,children:(0,N.tx)("rcs.figjam_onboarding.maybe_later")}),(0,i.jsx)("div",{className:"onboard_figjam_viewer--openTutorialButton--4AqFo",children:(0,i.jsx)(tW.$z,{onClick:()=>{if("loaded"!==e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data||e.figJamTemplateFileResult.data.length<1)return;let n=e.figJamTemplateFileResult.data?.[0]??null;n&&aR(n.url,t),e.dismissModal()},disabled:"loading"===e.figJamTemplateFileResult.status,variant:"primary",children:"loading"===e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data?(0,i.jsx)(aA.k,{htmlAttributes:{"data-testid":"loading-spinner"}}):(0,N.tx)("rcs.figjam_onboarding.open_tutorial")})})]})]})]})})})})}async function aM(e){let t=(await e).data;if(!t)return!1;let n=(0,aT.kd)(t),i=(0,aT.mW)(n,"figjam_editor_onboarded");return!i&&!i&&!(()=>{let e=(0,ab.DN)();try{return!!e.get(aC.Xk)}catch(e){}return!1})()}function aD({openFile:e}){return!!(e&&e.trackTags?.isTemplate&&e.editorType===n9._Y.WHITEBOARD)}function aF(e,t){(0,aE.kF)("type",e),(0,aE.kF)("source",t),(0,aE.us)("FigJam onboarding - Failed to load starter files; we did not render open tutorial overlay")}function aB(e){let t=(0,ak.dq)(),n=aS.ol()?.id,[r]=(0,aI.IT)(aj.XZ({currentOrgId:t||void 0,currentTeamId:n,fileTags:["figjam_template"],shouldRecreate:!0}),{enabled:e.isShowing});return a.useEffect(()=>{"errors"===r.status&&aF("failure","curator")},[r.status]),a.useEffect(()=>{let e=setTimeout(()=>{"loading"===r.status&&aF("timeout","curator")},5e3);return()=>clearTimeout(e)},[r.status]),(0,i.jsx)(eZ.h,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:e=>(0,i.jsx)(aP,{...e,figJamTemplateFileResult:r}),isShowing:e.isShowing&&"loaded"===r.status,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aU(){let e=(0,p.wA)(),t=(0,er.MY)(),{show:n,uniqueId:r,complete:s,isShowing:o}=(0,f.e)({overlay:y.MJs,priority:g.N.OVERRIDING_MODAL},[t]),l=function(e,t){let n=(0,a.useRef)(),i=(0,a.useRef)(),r=(0,a.useRef)();return((0,a.useEffect)(()=>()=>{n.current?.()},[]),i.current)?i.current:null==n.current||null==r.current?(i.current=new Promise(a=>{n.current?.(),n.current=(0,aw.WB)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(r.current=e,a(r.current),i.current=void 0)})}),i.current):Promise.resolve(r.current)}(n8.Tej,{}),d=(0,k.md)(er.yV),c=(0,aN.Td)(),u=!aD({openFile:d}),h=(0,a.useRef)(!1);(0,a.useEffect)(()=>{aM(l).then(e=>{e&&!h.current&&n({canShow:e=>{let t=e?.editorType===n9._Y.WHITEBOARD&&!e?.canEdit;return t&&(h.current=!0),t}})})},[n,l]);let{currentStep:_,next:x,reset:v}=(0,eG.A)({numSteps:u?4:3,onComplete:s});(0,eT.E)(r,"Reset Onboarding",()=>{e(m.b({figjam_editor_onboarded:!1})),c&&(v(),n())});let b=im(s),C=a.useMemo(()=>{let e=n2.map(e=>(0,i.jsx)(e,{isShowing:o,onClickPrimaryCta:x,onClose:nL.lQ,onManualDismiss:b},e.name));return u&&e.push((0,i.jsx)(aB,{isShowing:o,onClickPrimaryCta:x,onClose:nL.lQ,onManualDismiss:b,testId:"open_figjam_tutorial_overlay"},"OpenFigJamTutorialOverlay")),e},[x,b,o,u]);return(0,i.jsx)(eW.U,{currentStep:_,isShowing:o,children:C})}var aH=n(913105),aV=n(118740);let aG=(0,iU.D)(()=>{let e=(0,ab.DN)();try{return!!e.get(aC.Xk)}catch(e){}return!1});function az({isTemplateFile:e,isTryFile:t,canvasEmpty:n,onboardedToFigJam:i,cameFromWhatsNew:a}){if(i||aG())return[];let r=(0,nM.O)()?[]:n2;if(e)return r;let s=[...r,aB];return a||t||!n?s:[ah]}function aK({openFile:e}){let t=(0,k.md)(i_.l5),n=(0,k.md)(tL.zo),a=(0,k.md)(n_.Am);return t!==i4.fD.NONE?null:("loaded"!==n.status||n.data)&&!a?(0,i.jsx)(aq,{openFile:e}):(0,i.jsx)(aZ,{openFile:e})}let aW=(e,t)=>{let n=(0,er.MY)(),i=(0,k.Xr)(n_.Am),r=(0,k.Xr)(i_.w),s=(0,k.md)(tL.zo),o=(0,eV.aV)(),l=(0,k.md)(aH.dO).status===aV.c.LOADING;ih({overlayUniqueId:e,afterReset:()=>{i(null),r(i_.tX.NOT_STARTED)}});let d=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!d.current&&"loaded"===s.status&&!o&&!l&&n.data?.canEdit&&n.data?.editorType==="whiteboard"&&(d.current=!0,t())},[t,s.status,o,l,n])};function aZ({openFile:e}){let t=(0,p.d4)(e=>e.mirror.appModel.currentPage),n=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),t),r=(0,k.md)(tL.zo),s=(0,eI.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,k.md)(s),l=(0,k.Xr)(n_.Am),{getConfig:d}=(0,nr.XV)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),c=(0,a.useCallback)(()=>{let e=d().get("sequence",n_.jg.DEFAULT);return l(e),e},[d,l]),[u,m]=(0,a.useState)(!1),[h,_]=(0,a.useState)([]),{show:x,uniqueId:v,isShowing:b,complete:C,experimentResult:E}=(0,f.e)({overlay:y.zoI,priority:g.N.OVERRIDING_MODAL,experiment:{check:c,predicate:e=>e!==n_.jg.DEFAULT,postCheck:e=>(e||aG()||m(!0),!1)}},[r,o]),j=(0,a.useRef)(n);(0,a.useEffect)(()=>{j.current=n},[n]);let{show:w,isShowing:T,complete:I}=(0,f.e)({overlay:y.lLk,priority:g.N.OVERRIDING_MODAL,experiment:{check:c,predicate:e=>e===n_.jg.DEFAULT,postCheck:(t,n)=>{let i=az({isTemplateFile:aD({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:j.current,onboardedToFigJam:t,cameFromWhatsNew:(0,tF.SS)(n)}),a=i.length>0;return a&&_(i),a}}},[r,o]),S=E||n_.jg.DEFAULT,N=S===n_.jg.DEFAULT?T:b,A=S===n_.jg.DEFAULT?I:C,L=(0,a.useMemo)(()=>S===n_.jg.DEFAULT?h:[],[S,h]);aW(v,(0,a.useCallback)(()=>{x(),w()},[x,w]));let O=im(A),R=(0,a.useCallback)(()=>{S===n_.jg.DEFAULT?O():u&&(A(),a_(S))},[O,A,u,S]);return((0,a.useEffect)(()=>{0===L.length&&u&&S!==n_.jg.DEFAULT&&a_(S)},[u,L,S]),E&&N&&0!==L.length)?(0,i.jsx)(ig,{steps:L,onComplete:R,isShowing:N,overlayUniqueId:v}):null}function aq({openFile:e}){let t=(0,p.d4)(e=>e.mirror.appModel.currentPage),n=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),t),r=(0,k.md)(tL.zo),s=(0,eI.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,k.md)(s),{show:l,uniqueId:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.lLk,priority:g.N.OVERRIDING_MODAL},[r,o]),[m,h]=(0,a.useState)([]);aW(d,(0,a.useCallback)(()=>{l({canShow:(t,i)=>{let a=az({isTemplateFile:aD({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:n,onboardedToFigJam:t,cameFromWhatsNew:(0,tF.SS)(i)}),r=a.length>0;return r&&h(a),r}})},[l,h,n,e]));let _=im(u);return c&&0!==m.length?(0,i.jsx)(ig,{steps:m,onComplete:_,isShowing:c,overlayUniqueId:d}):null}function aX({openFile:e}){return(0,i.jsx)(aK,{openFile:e})}let aY=(0,k.eU)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte",`url(${(0,eb.CZ)("webfont/1/Whyte-Regular.woff")})`);document.fonts.add(e)}await document.fonts.ready}),aJ=(0,k.Rq)(aY);function aQ(e){return(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:ac,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:ap,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function a$(e){return(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:au,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:am,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function a0(){let e=(0,eI.r1)("figjam_browse_templates_modal_onboarded"),t=(0,k.md)(e),n=(0,k.md)(aJ),[r,s]=(0,a.useState)(!1),o=(0,n_.Un)(),{show:l,isShowing:d,uniqueId:c,complete:u}=(0,f.e)({overlay:y.kp0,priority:g.N.OVERRIDING_MODAL},[t,n]);return(0,eT.E)(c,i4.Lz,()=>{s(!0),l({canShow:e=>!e&&!o})}),(0,eT.E)(c,eJ.P7,()=>{l({canShow:e=>!e&&!o})}),r?(0,i.jsx)(aQ,{isShowing:d,onClickPrimaryCta:u,onClose:u,onManualDismiss:u}):(0,i.jsx)(a$,{isShowing:d,onClickPrimaryCta:u,onClose:u,onManualDismiss:u})}var a1=n(669341),a2=n(877690),a3=n(880820),a5=n(488922),a4=n(831214);let a6={};function a7(e){return a6[e]??""}function a9(e){return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(iP.wV,{bodyText:(0,i.jsx)("span",{className:i6.R9,children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:i9.A})})}function a8(e){let{onClickPrimaryCta:t,dismissModal:n}=e;a.useEffect(()=>{function e(e){var n;t(),n=e.nodeId,a6.createdSticky=n}return nD.Y5.fromFullscreen.on("createdSticky",e),()=>{nD.Y5.fromFullscreen.removeListener("createdSticky",e)}},[t]);let r=(0,a4.L)();return(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:a5.s2,topPadding:r?-4:-22,autoWidth:!0,isBold:!0,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text")})})})})})})}function re(e){let[t]=a.useState(()=>a7("createdSticky")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.LEFT_TITLE,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rt(e){let{onClickPrimaryCta:t,dismissModal:n}=e,{handleTargetLost:r}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});a.useEffect(()=>{function e(e){var n;t(),n=e.nodeId,a6.createdStamp=n}return nD.Y5.fromFullscreen.on("createdStamp",e),()=>{nD.Y5.fromFullscreen.removeListener("createdStamp",e)}},[t]);let s=(0,a4.L)();return(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:a5.E$,topPadding:s?-6:-27,isBold:!0,autoWidth:!0,onTargetLost:r,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text")})})})})})})}function rn(e){let[t]=a.useState(()=>a7("createdStamp")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.TOP,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function ri(e){let t=(0,p.wA)(),n=(0,a3.MR)(),r=(0,a3.qU)(),[s,o]=a.useState("invalid"),{handleTargetLost:l}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>(n({source:a3.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(a1.lu({state:"open",userInitiated:!1})),o(a2.Hm),()=>{r({source:a3.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(a1.lu({state:"closed",userInitiated:!1}))}),[r,t,n]),(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.BRAINSTORM,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:s,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:l,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function ra(e){let{onNext:t}=iz({...e,useCase:i4.fD.BRAINSTORM});return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:eJ.v4,topPadding:-4,isBold:!0,hasShadow:!0,children:(0,i.jsx)(nW,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:iP.mN,isBold:!0})})}function rr(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Intro",stepNum:1}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:a9,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rs(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Sticky Prompt",stepNum:2}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:a8,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ro(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Sticky Reaction",stepNum:3}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:re,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rl(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Stamp Prompt",stepNum:4}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:rt,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rd(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Stamp Reaction",stepNum:5}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:rn,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rc(e){return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Timer",stepNum:6}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:ri,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ru(e){let t=(0,nF.O)();return(0,iP.rL)({useCase:i4.fD.BRAINSTORM,stepName:"Share",stepNum:7}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:ra,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:i4.fD.BRAINSTORM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function rp(e){return a.useEffect(()=>{!function(){let e=(0,H.UN)().getCurrentPage();if(e&&e.childCount>=1){var t,n,i;let a=e.childrenNodes[0];if(a?.type==="SECTION"&&a.childCount>=1){let e=a.childrenNodes[0];e?.type==="SHAPE_WITH_TEXT"&&(t=e.guid,a6.planningAheadInitialNode=t)}if(a?.type==="SECTION"&&a.childCount>=9){let e=a.childrenNodes[8];e?.type==="TEXT"&&(n=e.guid,a6.planningAheadPerson=n)}if(a?.type==="SECTION"&&a.childCount>=4){let e=a.childrenNodes[3];e?.type==="SHAPE_WITH_TEXT"&&(i=e.guid,a6.planningAheadProject=i)}}}()},[]),(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.PLAN,children:(0,i.jsx)(iP.wV,{bodyText:(0,i.jsx)("span",{className:i6.R9,children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:i8.A})})}function rm(e){let[t]=a.useState(()=>a7("planningAheadInitialNode")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.PLAN,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rh(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>a7("planningAheadPerson")),{handleTargetLost:s}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nD.Y5.fromFullscreen.on("finishedEditingText",e),()=>{nD.Y5.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.PLAN,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:r,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.LEFT_TITLE,onTargetLost:s,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text")})})})})})})}function rf(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>a7("planningAheadProject")),{handleTargetLost:s}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nD.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{nD.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.PLAN,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:s,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text")})})})})})})}function rg(e){let[t]=a.useState(()=>a7("planningAheadProject")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.PLAN,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.LEFT_TITLE,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function r_(e){let{handleTargetLost:t}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,a4.L)();return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.PLAN,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:n?a5.WB:a5.BC,topPadding:n?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,i.jsx)(iP.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rx(e){let{onNext:t}=iz({...e,useCase:i4.fD.PLAN});return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:eJ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,i.jsx)(nW,{titleText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"),bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:iP.mN,isBold:!0})})}function ry(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Intro",stepNum:1}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:rp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rv(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Section",stepNum:2}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:rm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rb(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Person",stepNum:3}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:rh,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rC(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Project Name",stepNum:4}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:rf,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rE(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Project Block",stepNum:5}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:rg,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rj(e){return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Shape",stepNum:6}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:r_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rw(e){let t=(0,nF.O)();return(0,iP.rL)({useCase:i4.fD.PLAN,stepName:"Share",stepNum:7}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:rx,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:i4.fD.PLAN}),e.onClose()},onManualDismiss:e.onManualDismiss})}function rT(e){return a.useEffect(()=>{!function(){var e,t,n;let i=(0,H.UN)().getCurrentPage();if(i){if(i.childCount>=1){let t=i.childrenNodes[0];t?.type==="SHAPE_WITH_TEXT"&&(e=t.guid,a6.teamChartName=e)}if(i.childCount>=2){let e=i.childrenNodes[1];e?.type==="ROUNDED_RECTANGLE"&&(t=e.guid,a6.teamChartImage=t)}if(i.childCount>=5){let e=i.childrenNodes[4];e?.type==="SHAPE_WITH_TEXT"&&(n=e.guid,a6.teamChartQuickCreate=n)}}}()},[]),(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.TEAM,children:(0,i.jsx)(iP.wV,{bodyText:(0,i.jsx)("span",{className:i6.R9,children:(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:ae.A})})}function rk(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>a7("teamChartName")),{handleTargetLost:s}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nD.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{nD.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.TEAM,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:s,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text")})})})})})})}function rI(e){let[t]=a.useState(()=>a7("teamChartImage")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.TEAM,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.LEFT_TITLE,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rS(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>a7("teamChartQuickCreate")),{handleTargetLost:s}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nD.Y5.fromFullscreen.on("quickCreate",e),()=>{nD.Y5.fromFullscreen.removeListener("quickCreate",e)}},[t]),(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.TEAM,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:r,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.RIGHT_TITLE,onTargetLost:s,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text")})})})})})})}function rN(e){let{handleTargetLost:t}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,a4.L)();return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.TEAM,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:n?a5.WB:a5.BC,topPadding:n?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rA(e){let{handleTargetLost:t}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta}),n=(0,a4.L)();return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.TEAM,children:(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:a5.Nr,topPadding:n?-1:void 0,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rL(e){let{onNext:t}=iz({...e,useCase:i4.fD.TEAM});return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:eJ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,i.jsx)(nW,{titleText:(0,N.tx)("figjam_onboarding_make_something.team_chart.diagram_together"),bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:iP.mN,isBold:!0})})}function rO(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Intro",stepNum:1}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:rT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rR(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Name",stepNum:2}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:rk,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rP(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Image",stepNum:3}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:rI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rM(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Quick Create",stepNum:4}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:rS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rD(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Shape",stepNum:5}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:rN,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rF(e){return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Connector",stepNum:6}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:rA,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rB(e){let t=(0,nF.O)();return(0,iP.rL)({useCase:i4.fD.TEAM,stepName:"Share",stepNum:7}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:rL,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:i4.fD.TEAM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function rU(e){return a.useEffect(()=>{!function(){var e,t,n,i,a;let r=(0,H.UN)().getCurrentPage();if(r){if(r.childCount>=1){let t=r.childrenNodes[0];t?.type==="SECTION"&&(e=t.guid,a6.teamUpdatesSection=e)}if(r.childCount>=6){let e=r.childrenNodes[5];e?.type==="WIDGET"&&(t=e.guid,a6.teamUpdatesPhotoBooth=t)}if(r.childCount>=4){let e=r.childrenNodes[3];e?.type==="TEXT"&&(n=e.guid,a6.teamUpdatesUpdates=n)}if(r.childCount>=5){let e=r.childrenNodes[4];e?.type==="TEXT"&&(i=e.guid,a6.teamUpdatesImportantDates=i)}if(r.childCount>=1){let e=r.childrenNodes[0];if(e?.type==="SECTION"&&e.childCount>=2){let t=e.childrenNodes[1];t?.type==="STICKY"&&(a=t.guid,a6.teamUpdatesSticky=a)}}}}()},[]),(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.UPDATES,children:(0,i.jsx)(iP.wV,{bodyText:(0,i.jsx)("span",{className:i6.R9,children:(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:at.A})})}function rH(e){let[t]=a.useState(()=>a7("teamUpdatesSection")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.UPDATES,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rV(e){let[t]=a.useState(()=>a7("teamUpdatesPhotoBooth")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.UPDATES,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rG(e){let[t]=a.useState(()=>a7("teamUpdatesUpdates")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.UPDATES,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rz(e){let[t]=a.useState(()=>a7("teamUpdatesImportantDates")),{handleTargetLost:n}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,i.jsx)(iP.vX,{onSkipClick:e.dismissModal,useCase:i4.fD.UPDATES,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.BOTTOM,onTargetLost:n,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function rK(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[r]=a.useState(()=>a7("teamUpdatesSticky")),{handleTargetLost:s}=(0,nP.Du)({shouldSkipConnectorModalAtom:i_.aG,skipConnectorModal:e.onClickPrimaryCta});return a.useEffect(()=>{function e(){t()}return nD.Y5.fromFullscreen.on("finishedEditingSticky",e),()=>{nD.Y5.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),(0,i.jsx)(iP.vX,{onSkipClick:n,useCase:i4.fD.UPDATES,children:(0,i.jsx)(nP.Dv,{targetType:"canvas",targetKey:r,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:iB.F_.TOP,onTargetLost:s,children:(0,i.jsx)(iP.mI,{bodyText:(0,i.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",{boldText:(0,i.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text")})})})})})})}function rW(e){let{onNext:t}=iz({...e,useCase:i4.fD.UPDATES});return(0,i.jsx)(nP.Dv,{targetType:"dom",targetKey:eJ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,i.jsx)(nW,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:iP.mN,isBold:!0})})}function rZ(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Intro",stepNum:1}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:rU,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rq(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Section",stepNum:2}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:rH,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rX(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Photo Booth",stepNum:3}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:rV,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rY(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Updates",stepNum:4}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:rG,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rJ(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Important Dates",stepNum:5}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:rz,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rQ(e){return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Sticky",stepNum:6}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:rK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r$(e){let t=(0,nF.O)();return(0,iP.rL)({useCase:i4.fD.UPDATES,stepName:"Share",stepNum:7}),(0,i.jsx)(eZ.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${iP.CM} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:rW,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:i4.fD.UPDATES}),e.onClose()},onManualDismiss:e.onManualDismiss})}function r0(e){switch(e){case i4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[rr,rs,ro,rl,rd,rc,ru,r1];case i4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[rZ,rq,rX,rY,rJ,rQ,r$,r1];case i4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[ry,rv,rb,rC,rE,rj,rw,r1];case i4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[rO,rR,rP,rM,rD,rF,rB,r1];default:return[]}}function r1({onClickPrimaryCta:e}){let t=(0,p.d4)(e=>e.modalShown),n=(0,a.useRef)(t);return(0,a.useEffect)(()=>{!t&&n.current&&(e(),(0,nO.YQ)({id:eJ.P7}))},[e,t]),(0,i.jsx)(i.Fragment,{})}function r2(){let[e,t]=a.useState([]),n=(0,k.Xr)(i_.w),{complete:r,uniqueId:s,show:o,isShowing:l}=(0,f.e)({overlay:y.Njd,priority:g.N.OVERRIDING_MODAL}),d=a.useCallback(()=>{r(),n(i_.tX.COMPLETED)},[r,n]);return((0,eT.E)(s,i4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(r0(i4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),n(i_.tX.USE_CASE_STEPS),o()}),(0,eT.E)(s,i4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(r0(i4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),n(i_.tX.USE_CASE_STEPS),o()}),(0,eT.E)(s,i4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(r0(i4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),n(i_.tX.USE_CASE_STEPS),o()}),(0,eT.E)(s,i4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(r0(i4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),n(i_.tX.USE_CASE_STEPS),o()}),ih({overlayUniqueId:s,afterReset:r}),0===e.length)?null:(0,i.jsx)(ig,{steps:e,onComplete:d,isShowing:l,overlayUniqueId:s})}var r3=n(430243),r5=n(310725),r4=n(630540),r6=n(911990),r7=n(906356),r9=n(454967),r8=n(483200),se=n(959834),st=n(354174);function sn(){return(0,i.jsxs)("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",children:[(0,i.jsx)("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),(0,i.jsx)("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),(0,i.jsx)("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),(0,i.jsx)("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),(0,i.jsx)("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),(0,i.jsx)("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),(0,i.jsx)("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),(0,i.jsx)("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),(0,i.jsx)("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),(0,i.jsx)("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),(0,i.jsx)("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),(0,i.jsx)("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22",children:(0,i.jsx)("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})}),(0,i.jsxs)("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})]})]})}let si=[{key:1,elem:(0,N.tx)("oss_sales_upsell_overlay.feature1")},{key:2,elem:(0,N.tx)("oss_sales_upsell_overlay.feature2")},{key:3,elem:(0,N.tx)("oss_sales_upsell_overlay.feature3")}],sa=(0,se.Ju)(function({onDismiss:e}){let t=(0,k.md)(er.yV),n=(0,p.wA)();return(0,i.jsxs)(st.yX,{autoFocusCta:!1,cancelText:(0,N.tx)("oss_sales_upsell_overlay.secondary_cta"),className:"oss_sales_upsell_modal--modal--fdI6U",confirmText:(0,N.tx)("oss_sales_upsell_overlay.primary_cta"),confirmationTitle:(0,N.tx)("oss_sales_upsell_overlay.title"),hideOnCancel:!1,hideOnConfirm:!1,isLoading:!t?.teamId,onCancel:()=>{n((0,eE.to)({type:r7.lk,data:{source:r9.B.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,N.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,onConfirm:()=>{t?.teamId&&n(r8.Bq({openInNewTab:!0,upsellSource:eS.b.OSS_SALES_UPSELL_MODAL}))},overrideOnHide:e,titleClass:"oss_sales_upsell_modal--title--wpaS5",children:[(0,i.jsx)("div",{className:S.s.lh24.font13.pt24.pr0.pb32.pl0.$,children:(0,i.jsxs)(r6.Y,{spacing:"40px",children:[(0,i.jsxs)(r6.Y,{direction:"vertical",spacing:"12px",children:[(0,i.jsx)("p",{children:(0,N.tx)("oss_sales_upsell_overlay.body1")}),(0,i.jsxs)(r6.Y,{direction:"vertical",spacing:8,children:[(0,i.jsx)("p",{className:S.s.fontSemiBold.$,children:(0,N.tx)("oss_sales_upsell_overlay.body2")}),(0,i.jsx)(r6.Y,{direction:"vertical",spacing:8,children:si.map(e=>(0,i.jsxs)(r6.Y,{spacing:8,horizontalAlignItems:"start",children:[(0,i.jsx)("p",{children:"\u2713"}),(0,i.jsx)("p",{children:e.elem})]},e.key))})]}),(0,i.jsx)("p",{className:S.s.pt4.$,children:(0,N.tx)("oss_sales_upsell_overlay.body3")})]}),(0,i.jsx)("div",{className:S.s.mr16.$,children:(0,i.jsx)(sn,{})})]})}),(0,i.jsx)("div",{className:S.s.bt1.colorBorder.bSolid.$})]})},"OssSalesUpsellModal");function sr(){let e=(0,k.md)(er.As),t=(0,k.md)(er.ze);return e&&t?(0,i.jsx)(ss,{teamId:e,fileKey:t}):null}function ss({teamId:e,fileKey:t}){let n=(0,p.wA)(),r=(0,k.md)(ek.M$),s=(0,n7.Rs)(n8.TNJ,{id:e}),o=(0,f.e)({overlay:y.jRE,priority:g.N.DEFAULT_MODAL},[r,s]),l=eb.tl().user_data,d=l?.email,c=(0,r5.HS)(d);return(0,tx.h)(()=>{o.show({canShow:(e,n)=>!!(c&&(0,r4.nN)(t)&&!e&&n.team?.hasPermission)})}),(0,a.useEffect)(()=>{o.isShowing&&(0,r4.wj)()},[c,o.isShowing]),(0,i.jsx)(eZ.h,{isShowing:o.isShowing,modalType:eQ.q3.FEATURE_UPDATE,element:function(e){return(0,tx.h)(()=>{n((0,eE.to)({type:sa,data:{onDismiss:e.dismissModal}}))}),(0,i.jsx)("div",{})},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:nL.lQ,onClose:o.complete,onManualDismiss:o.complete,testId:"oss_sales_upsell_overlay_test_id"})}var so=n(698835),sl=n(673540),sd=n(246144),sc=n(373235),su=n(850582),sp=n(558805),sm=n(469715),sh=n(157921);let sf="seen_figjam_section_preset_picker_callout",sg=(0,eI.Fu)(sf),s_=e=>(0,p.d4)(t=>{if(!e)return!1;let n=Object.keys(t.mirror.sceneGraphSelection);return 1===n.length&&n[0]===e});function sx({sectionNodeId:e,isShowing:t,complete:n}){let a=(0,R._X)({subscribeToUpdates_expensive:!0}),r=(0,H.UN)().get(e);if(!r)return null;let s=r.sectionPresetPickerCalloutPosition;if(isNaN(s.x)||isNaN(s.y))return null;let o=(0,R.Z0)(a,s,!0),l=parseFloat(sh._1),d={top:o.y+a.y+l+2,left:o.x+a.x-150,pointerOffset:150-l,pointerPosition:tw.F_.TOP};return(0,i.jsx)(eF.rq,{clickOutsideToHide:!0,description:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.description"),fixedPosition:!0,isShowing:t,location:d,onClose:n,primaryCta:{label:(0,N.tx)("rcs.got_it"),type:"button",onClick:n,ctaTrackingDescriptor:ew.c.GOT_IT},title:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.title"),trackingContextName:"section_preset_picker_callout",userFlagOnShow:sf,width:300})}function sy(){let e=(0,sc.q)(),t=(0,k.md)(sp.w),n=(0,k.md)(sm.m5),r=(0,k.md)(sg),s=(0,a.useRef)({numShown:0,hasLoggedToSentry:!1}),[o,l]=(0,a.useState)(null),d=s_(o),{show:c,isShowing:u,complete:p}=(0,f.e)({overlay:y.Byv,priority:g.N.DEFAULT_MODAL},[n,r]);return((0,a.useEffect)(()=>{t&&o&&d&&e&&c({canShow:(e,t)=>!!e&&!t})},[c,e,t,o,d]),(0,a.useEffect)(()=>{if("loaded"===r.status&&!r.data&&"loaded"===n.status&&n.data)return(0,su.H)(function(e){l(e)})},[r,n]),(0,a.useEffect)(()=>{u&&s.current.numShown++,s.current.numShown>1&&!s.current.hasLoggedToSentry&&(s.current.hasLoggedToSentry=!0,(0,sd.x1)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[u]),u&&o)?(0,i.jsx)(sx,{sectionNodeId:o,isShowing:u,complete:p}):null}let sv=(0,eb.ck)("90c10991400b728428a200de3b347bba3f6d1d1e");function sb({isShowing:e,onPrimaryCtaClick:t,onClose:n}){return(0,i.jsx)(eF.rq,{testId:"share-to-google-classroom-onboarding",isShowing:e,trackingContextName:"Share to Google Classroom Onboarding",targetKey:"share",title:(0,N.tx)("whiteboard.google_classroom.onboarding.header"),description:(0,N.tx)("whiteboard.google_classroom.onboarding.body"),media:(0,i.jsx)(eL.y,{src:sv,alt:(0,N.t)("whiteboard.google_classroom.onboarding.image_alt"),aspectRatio:300/169}),primaryCta:{label:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),type:"button",onClick:t,ctaTrackingDescriptor:ew.c.SHOW_ME},onClose:n})}function sC(){let e=(0,p.wA)(),t=ie({}),n=(0,k.md)(is),r=(0,k.md)(il),s=(0,k.md)(id),o=(0,k.md)(ic),l=(0,k.md)(n4.Ij),{show:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.Y2_,priority:g.N.DEFAULT_MODAL},[r,n,s,o,t]);a.useEffect(()=>{d({onShow:()=>{e(m.b({[ir]:!0}))},canShow:(e,t,n,i,a)=>!e&&!t&&!n&&i&&a})},[t,e,d]),a.useEffect(()=>{r.data&&u()},[r,u]);let{currentStep:h,next:_}=(0,eG.A)({numSteps:2,onComplete:u}),x=function({isShowing:e,next:t,complete:n}){let a=(0,p.wA)(),r=(0,er.q5)();return[(0,i.jsx)(sb,{onPrimaryCtaClick:()=>{if(!r){n();return}a((0,eE.to)({type:n5.g_,data:{fileKey:r.key,source:n3.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:n,isShowing:e},"share-to-google-classroom-existing-user-callout"),(0,i.jsx)(ia,{isShowing:e,onClose:n},"share-to-google-classroom-share-option-pointer")]}({isShowing:c,next:_,complete:u});return a.useEffect(()=>{l&&c&&0===h&&_()},[h,c,l,_]),(0,i.jsx)(eW.U,{currentStep:h,isShowing:c,children:x})}var sE=n(598626),sj=n(205798),sw=n(842909),sT=n(233420),sk=n(59975),sI=n(854284),sS=n(888760);let sN="has_onboarded_ai",sA=(0,k.eU)(!1);var sL=n(116450),sO=n(288971);let sR=g.N.HIGH_PRIORITY_MODAL+3;function sP(e,t){(0,tx.h)(()=>{e(m.b({[t]:!0}))})}let sM=(0,i.jsx)(sL.Jm,{src:(0,eb.ck)("b89b812ff4935b239f91bd78df370ad6dd947e0b"),aspectRatio:240/135,width:240});function sD({onClose:e,isShowing:t,onTargetLost:n}){let a=(0,p.wA)();return sP(a,sk.jx),sP(a,sN),(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.BOTTOM,description:(0,N.tx)("ui3_and_ai_tour.ai_callout.description"),highlightBlue:!0,isShowing:t,media:sM,onClose:e,onTargetLost:n,primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.show_me"),onClick:()=>{(0,sO.$I)({trackingData:{source:"onboarding_ai_callout_component"}}),e()},ctaTrackingDescriptor:ew.c.SHOW_ME},secondaryCta:{type:"link",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:ew.c.AI_PLAYGROUND},targetKey:sk.Ij,testId:sk.T4,title:(0,N.tx)("ui3_and_ai_tour.ai_callout.title"),trackingContextName:"UI3/AI Onboarding > AI"})}var sF=n(38119);function sB({onClose:e,isShowing:t,onTargetLost:n}){return sP((0,p.wA)(),sk.af),(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.BOTTOM,description:(0,r.kc)().hub_file_fragments?(0,N.tx)("ui3_and_ai_callouts.community_fragment_search.description"):(0,N.tx)("ui3_and_ai_callouts.fragment_search.description"),highlightBlue:!0,isShowing:t,onClose:()=>e(),onTargetLost:n,primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_callouts.fragment_search.cta"),onClick:()=>{(0,sF.Bd)(),e()},ctaTrackingDescriptor:ew.c.TRY_IT_OUT},targetKey:sk.Ij,testId:"fragmentSearchCallout",title:(0,N.tx)("ui3_and_ai_callouts.fragment_search.title"),trackingContextName:"Fragment Search Callout"})}function sU(){let e=function(){let e=(0,eu.f)(sk.$9),t=(0,eu.f)(sk.af),n=(0,eV.p8)("showUi"),i=(0,a.useMemo)(()=>e,[n]),r=(0,a.useMemo)(()=>t,[n]),s=(0,tj.m0)(),o=(0,tj.Em)(),l=(0,sw.PE)(),d=function(){let e=(0,sI.LC)();return(0,sS.C7)()&&e}(),c=[];return!s&&o&&l&&!i&&c.push(sD),0===c.length&&!s&&o&&d&&!r&&c.push(sB),c}(),t=(0,eI.r1)(sN),n=(0,k.md)(t),s=(0,eI.r1)("did_sign_up_as_ui3_user"),o=(0,k.md)(s),l=(0,eI.r1)(sk.$9),d=(0,k.md)(l),c=(0,eI.r1)(sk.af),p=(0,k.md)(c),m=(0,tj.Em)(),h=(0,u.l7)(),g=(0,u.hA)(),_=(0,sE.e)(),x=!!(0,r.kc)().ui3_and_ai_welcome_modal,v=(0,eV.aV)(),b=(0,k.md)(sT.Bu),C=(0,k.md)(ek.Fy),{uniqueId:E,show:j,isShowing:w,complete:T}=(0,f.e)({overlay:y.KTt,priority:sR},[n,d,o,p]),[I,S]=(0,k.fp)(sA),A=(0,a.useCallback)(()=>{e.length>0&&S(!0),T()},[S,T,e.length]),{currentStep:L,next:O}=(0,eG.A)({numSteps:0===e.length?1:e.length,onComplete:()=>A});(0,eT.E)(E,[(0,sj.wX)("dev"),(0,sj.wX)("design")],()=>{R()});let R=(0,a.useCallback)(()=>{x&&m&&!v&&0!==e.length&&C?.data&&!I&&j()},[x,m,v,e.length,C,j,I]);(0,a.useEffect)(()=>{v||b||R()},[v,R,b]);let P=(0,a.useCallback)(()=>{A()},[A]);(0,a.useEffect)(()=>{w&&b&&P()},[w,b,P]);let M=a.useMemo(()=>{let t={type:"button",label:(0,N.tx)("general.next"),onClick:O,ctaTrackingDescriptor:ew.c.NEXT},n={type:"button",label:(0,N.tx)("general.done"),onClick:A,ctaTrackingDescriptor:ew.c.DONE};return e.map((i,r)=>a.createElement(i,{primaryCta:r===e.length-1?n:t,onClose:A,stepNum:r+1,totalNumSteps:e.length,isShowing:w,onTargetLost:r===e.length-1?A:O}))},[O,A,e,w]);return((0,a.useEffect)(()=>{(!M||0===e.length||h||g||_)&&A()},[M,e.length,h,g,_,A]),w)?(0,i.jsx)(eW.U,{currentStep:L,isShowing:w,children:M}):null}var sH=n(471596);let sV="UI3 Reactivation Overlay";function sG(){let e=(0,eV.aV)(),t=(0,k.md)(sH.jH),{isShowing:n,complete:r}=(0,f.e)({overlay:y.HU3,priority:g.N.SECONDARY_MODAL}),{currentStep:s,next:o}=(0,eG.A)({numSteps:2,onComplete:r});return a.useEffect(()=>{n&&0===s&&!e&&o()},[n,s,e,o]),a.useEffect(()=>{n&&t&&r()},[n,t,r]),(0,i.jsxs)(eW.U,{currentStep:s,isShowing:n,children:[(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("ui3_reactivation_overlay.ui2_description"),disableHighlight:!0,isShowing:n,media:(0,i.jsx)(eL.w,{src:(0,eb.ck)("c24e9a3e1bb4e0babe4ebc86f9d58b79e44a1992"),aspectRatio:16/9}),onClose:e=>{"close_button_clicked"!==e&&(0,ef.Cu)({eventName:"Overlay Closed",trackingContext:`Onboarding Sequence > ${sV} Step 1`,overlayStep:1,closeReason:e}),r()},primaryCta:{type:"button",label:(0,N.tx)("ui3_reactivation_overlay.ui2_primary_cta"),onClick:o,ctaTrackingDescriptor:ew.c.SWITCH_TO_UI3},secondaryCta:{type:"link",label:(0,N.tx)("ui3_reactivation_overlay.secondary_cta"),href:"https://www.figma.com/blog/making-the-move-to-ui3-a-guide-to-figmas-next-chapter/",ctaTrackingDescriptor:ew.c.LEARN_MORE},targetKey:eJ.J_,title:(0,N.tx)("ui3_reactivation_overlay.ui2_title"),trackingContextName:`${sV} Step 1`}),(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("ui3_reactivation_overlay.ui3_description"),disableHighlight:!0,isShowing:n,media:(0,i.jsx)(eL.y,{src:(0,eb.ck)("94d7810cc12859da29e6f4e32a5ffe858ce5445e"),alt:(0,N.t)("ui3_reactivation_overlay.ui3_media_alt"),aspectRatio:16/9}),onClose:e=>{"close_button_clicked"!==e&&(0,ef.Cu)({eventName:"Overlay Closed",trackingContext:`Onboarding Sequence > ${sV} Step 2`,overlayStep:2,closeReason:e}),r()},primaryCta:{type:"button",label:(0,N.tx)("ui3_reactivation_overlay.ui3_primary_cta"),onClick:o,ctaTrackingDescriptor:ew.c.GOT_IT},secondaryCta:{type:"link",label:(0,N.tx)("ui3_reactivation_overlay.secondary_cta"),href:"https://www.figma.com/blog/making-the-move-to-ui3-a-guide-to-figmas-next-chapter/",ctaTrackingDescriptor:ew.c.LEARN_MORE},targetKey:eJ.J_,title:(0,N.tx)("ui3_reactivation_overlay.ui3_title"),trackingContextName:`${sV} Step 2`})]})}var sz=n(296831),sK=n(807427),sW=n(555013),sZ=n(59297),sq=n(36600);function sX({trackingContextName:e,getTitle:t,getBody:n,width:a=268}){return{modalType:eQ.q3.POINTER,trackingContextName:e,width:a,onboardingKey:a5.yl,shouldCenterArrow:iB.EL.FALLBACK,element:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(sZ.x,{target:a5.yl}),(0,i.jsx)("div",{className:sq.Hj,children:t()}),n()]}),userFlag:"seen_figjam_widget_nudge_flag"}}function sY(e){let[t,n]=a.useState(!0),r=(0,p.wA)(),s=(0,k.md)(er.yV);a.useEffect(()=>{setTimeout(()=>n(!1),1e3)});let o=()=>{r(m.b({explicitly_dismissed_create_component_pointer:!0})),e.dismissModal()};return t?null:(0,i.jsxs)(h.fu,{name:"library upsell create component pointer",properties:{fileKey:s?.key,teamId:s?.teamId},children:[(0,i.jsx)(sZ.x,{target:"create-symbol"}),(0,i.jsxs)(nP.NJ,{dismissModal:o,width:244,targetKey:"create-symbol",shouldNotWrapInParagraphTag:!0,shouldCenterArrow:iB.EL.FALLBACK,children:[(0,i.jsx)("p",{children:(0,N.tx)("rcs.upsell_libraries.click_here_to_turn_into_component")}),(0,i.jsx)(sW.Kz,{multiple:2}),(0,i.jsx)("div",{className:sh.kP,children:(0,i.jsx)(tW.$z,{onClick:o,variant:"primary",children:(0,N.tx)("rcs.upsell_libraries.visual_bell.got_it")})})]})]})}eQ.q3.SELF_CONTAINED,sX({trackingContextName:"FigJam Widget Nudge Generic",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.generic_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.generic_body")}),sX({trackingContextName:"FigJam Widget Nudge Project Management",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.pm_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.pm_body"),width:240}),sX({trackingContextName:"FigJam Widget Nudge Alignment",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.align_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.align_body")}),sX({trackingContextName:"FigJam Widget Nudge Fun",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.fun_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.fun_body")});var sJ=n(942329),sQ=n(254710),s$=n(663499),s0=(e=>(e.AwaitIsShowing="AwaitIsShowing",e.AwaitPastedElementsSelected="AwaitPastedElementsSelected",e.AwaitOtherElementsSelected="AwaitOtherElementsSelected",e.Completed="Completed",e))(s0||{}),s1=(e=>(e.OnShow="OnShowUpsellLibariesConsecutivePaste",e.SelectionChanged="Selection Changed",e))(s1||{});s$.R;let s2=(0,sJ.Op)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,sJ.nr)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,sJ.nr)("Selection Changed","AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,sJ.nr)("Selection Changed","Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),s3=(0,sQ.rn)("paste_deselected_machine",s2),s5=(0,eI.r1)("explicitly_dismissed_create_component_pointer"),s4=(0,ek.tH)("first_component_created_date");function s6(){let e=(0,p.wA)(),t=(0,k.md)(ek.t),n=(0,k.md)(tL.NZ),a=(0,k.md)(tL.pQ),r=(0,t6.jO)(),s=(0,k.md)(s4),o=(0,k.md)(s5),l=(0,sz.zl)(s3),d=(0,f.e)({overlay:y.g4U,priority:g.N.SECONDARY_MODAL},[t,a,o]);return(0,eT.E)(d.uniqueId,sK.zb,()=>{null===s&&d.show({canShow:(e,t,i)=>e&&(t||n)&&r&&!i,onShow:()=>{(0,nO.YQ)({id:s1.OnShow})}})}),(0,eT.E)(d.uniqueId,"action_create_symbol",()=>{d.isShowing&&(e(m.b({explicitly_dismissed_create_component_pointer:!0})),d.complete())}),(0,sz.ST)(l,({to:e})=>{e===s0.Completed&&(d.complete(),l.reset())}),(0,i.jsx)(s7,{isShowing:d.isShowing,onAbort:d.complete,children:(0,i.jsx)(eZ.h,{isShowing:d.isShowing,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:sY,onClickPrimaryCta:d.complete,onClose:d.complete,onManualDismiss:d.complete,testId:"upsell_libraries_consecutive_paste_overlay"})})}function s7(e){let[t,n]=a.useState(!1),i=eb.Ay().user_data?.id,{isShowing:r,onAbort:s}=e;return a.useEffect(()=>{!t&&r&&((0,n_.Hz)(i)?n(!0):s())},[n,t,r,s,i]),t?e.children:null}var s9=n(921540),s8=n(619070),oe=n(153515),ot=n(994847);let on="seen_workflow_interop_diagram_onboarding",oi=(0,eI.r1)(on),oa="FigJam Diagram Onboarding (Workflow Interop Experiment)",or={connectors:`${oa} - Connectors`,shapes:`${oa} - Shapes`,templates:`${oa} - Templates`},os=(0,eb.ck)("2655e9f0e4247dff3d5a46cf59f788473bffe0c6"),oo=(0,eb.ck)("0c9201d8164c2390cdcf3fb8d316b6bacdddb438"),ol=(0,eb.ck)("b8b42ba263794abd20364c3da0f3f4993fd4ed86");function od(){!function(){let e=(0,eV.p8)("pagesList");(0,a.useMemo)(()=>{let t=(0,tV.QL)("preservePageIndex");if(t&&e.length>0){(0,tV.EM)("preservePageIndex");let n=parseInt(t);if(isNaN(n)||n<0||n>=e.length)return;e.forEach((e,t)=>{t!==n&&nD.Y5.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,iI.Fz)(),t=(0,p.wA)();(0,tx.h)(()=>{let n=(0,tV.QL)("templateId");null!=n&&((0,tV.EM)("templateId"),t(s9.ts({hubFileId:n,callback:t=>{e({template:{template:t,type:iL.n.HubFile},userTriggered:!1,templateInsertionDirection:w.hKj.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,k.md)(oi),t=(0,f.e)({overlay:y.uPw,priority:g.N.OVERRIDING_MODAL},[e]),n=function(e){let t=(0,p.wA)();return a.useMemo(()=>[{title:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors_title"),trackingContextName:or.connectors,arrowPosition:tw.F_.BOTTOM,media:(0,i.jsx)(eL.y,{src:os,aspectRatio:900/508,alt:(0,N.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors"),targetKey:a5.BC,onClose:nL.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes_title"),trackingContextName:or.shapes,arrowPosition:tw.F_.BOTTOM,media:(0,i.jsx)(eL.y,{aspectRatio:900/507,src:oo,alt:(0,N.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes"),targetKey:a5.BC,onClose:nL.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.templates_title"),trackingContextName:or.templates,arrowPosition:tw.F_.BOTTOM,media:(0,i.jsx)(eL.y,{aspectRatio:900/505,src:ol,alt:(0,N.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.templates"),targetKey:a5.yl,secondaryCta:{type:"button",label:(0,N.tx)("rcs.figjam_diagram_onboarding.see_templates"),onClick:()=>{t(tA.En({initialX:0,initialY:0,initialTab:ot.p.TEMPLATES})),e.complete()}},onClose:nL.lQ}],[t,e])}(t);return(0,tx.h)(()=>{(0,tV.QL)(s8.tX.key)===s8.tX.value&&t.show({canShow:e=>!e})}),(0,i.jsx)(oe.WZ,{testId:"workflow-interop-machine-overlay",userFlagOnShow:on,isShowing:t.isShowing,onComplete:t.complete,steps:n})}var oc=n(920712);let ou="seen_figjam_workshop_onboarding",op=(0,eI.r1)(ou);function om(e){let t=(0,k.md)(tL.J1),n=(0,k.md)(op),a=(0,k.md)(tL.zo),r=(0,k.md)(tL.PD),s=(0,f.e)({overlay:y.Fq3,priority:g.N.SECONDARY_MODAL},[t,n,a,r]);return(0,tx.h)(()=>{s.show({canShow:(e,t,n,i)=>e&&!t&&n&&!i})}),(0,i.jsx)(eZ.h,{currentStepIndex:0,disableFooter:!0,element:oh,isShowing:s.isShowing,modalType:eQ.q3.DRAGGABLE,onClickPrimaryCta:s.complete,onClose:s.complete,onManualDismiss:s.complete,onboardingKey:eJ.v4,title:()=>(0,N.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),totalNumSteps:1,trackingContextName:"Fig Jam Workshop Onboarding",userFlagOnShow:ou,width:301})}function oh(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(oc.Gv,{width:301,src:(0,eb.ck)("a97e76df2b43ae8b408127c1c63ea0b8485ba8ac")}),(0,i.jsx)(oc.ak,{children:(0,N.tx)("rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account")})]})}var of=n(729926),og=n(475593),o_=n(167809),ox=n(606151);function oy(e,t,n,i){let r=(0,p.wA)(),s=(0,eu.f)(n),o=a.useRef(!!s);(0,eT.E)(e,t,a.useCallback(()=>{!(i?.current||o?.current)&&(s||(o.current=!0,r(m.b({[n]:!0}))))},[i,r,s,n]))}var ov=n(603936),ob=n(351405),oC=n(738849),oE=n(568659),oj=n(750497),ow=n(665813),oT=n(415567);function ok(){let{uniqueId:e,show:t,isShowing:n,complete:r}=(0,f.e)({overlay:y.a9B,priority:g.N.OVERRIDING_MODAL}),s=(0,p.wA)(),o=(0,eu.f)("cursor_bot_v2__no_basics_file__played_frame_formatting"),l=(0,eu.f)("design_panel_step_shown"),d=(0,eu.f)("cursor_bot_v2__basics_file__started_flow"),c=(0,t6.Ai)(["exp_cursor_bot_onboarding"]),u=(0,oE.b)();(0,eT.E)(e,"create_frame",a.useCallback(()=>{!o||l||d||c||n||t()},[l,d,n,o,t,c]));let h=(0,k.md)(of.a8),_=!!(0,eu.f)((0,og.Of)(ob.wn.FORMAT_FRAME,!1).tutorialPlayedUserFlag),x=a.useMemo(()=>(0,oj.p)(_,!1),[_]);if(!n)return null;if(h===ob.h0.PLAYING)return(0,i.jsx)(oC.a,{cursorBotStateManager:u,currentTutorial:x});let v=()=>{s(m.b({design_panel_step_shown:!0})),r()};return(0,i.jsx)(x.TooltipElement,{onClickNext:v,onClickShowMe:()=>{u.runTutorial(x)},onClickClose:v,skip:v,isFollowUp:!0})}function oI(){let{uniqueId:e,show:t,isShowing:n,complete:r}=(0,f.e)({overlay:y.ENg,priority:g.N.OVERRIDING_MODAL}),s=(0,p.wA)(),o=(0,eu.f)("cursor_bot_v2__no_basics_file__played_text_formatting"),l=(0,eu.f)("format_text_step_shown"),d=(0,eu.f)("cursor_bot_v2__basics_file__started_flow"),c=(0,oE.b)(),u=(0,t6.Ai)(["exp_cursor_bot_onboarding"]),[h,_]=a.useState(!1),x=(0,oT.Vr)(),v=(0,p.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,eT.E)(e,"create_text",()=>{_(!0)}),a.useEffect(()=>{!o||l||d||u||n||!h||x?.type!=="TEXT"||v!==w.m1T.DESIGN_LAYOUT||n||t()},[x,h,n,t,v,o,l,d,u]);let b=!!(0,eu.f)((0,og.Of)(ob.wn.FORMAT_TEXT,!1).tutorialPlayedUserFlag),C=a.useMemo(()=>(0,ow.Z)(b,!1),[b]),E=(0,k.md)(of.a8);if(!n)return null;if(E===ob.h0.PLAYING)return(0,i.jsx)(oC.a,{cursorBotStateManager:c,currentTutorial:C});let j=()=>{s(m.b({format_text_step_shown:!0})),r()};return(0,i.jsx)(C.TooltipElement,{onClickNext:j,onClickShowMe:()=>{c.runTutorial(C)},onClickClose:j,skip:j,isFollowUp:!0})}var oS=n(525092),oN=n(997273);function oA(){let e=(0,f.e)({overlay:y.CVA,priority:g.N.OVERRIDING_MODAL}),t=(0,eu.f)("no_figma_basics_tooltips_design_panel_step"),n=(0,eu.f)("design_panel_step_shown"),r=(0,eu.f)("started_figma_basics_onboarding"),s=(0,p.wA)(),o=t&&!n&&!r;if((0,eT.E)(e.uniqueId,"create_frame",a.useCallback(()=>{o&&!e.isShowing&&e.show()},[e,o])),!e.isShowing)return null;let l=()=>{e.complete(),s(m.b({design_panel_step_shown:!0}))};return(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("tooltips_plus_onboarding.design_panel.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:l,onTargetLost:l,targetKey:oS.W,title:(0,N.tx)("tooltips_plus_onboarding.change_properties_in_the_design_panel"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting"})}function oL(){let e=(0,f.e)({overlay:y.IQ,priority:g.N.OVERRIDING_MODAL}),t=(0,eu.f)("no_figma_basics_tooltips_format_text_step"),n=(0,eu.f)("format_text_step_shown"),r=(0,eu.f)("started_figma_basics_onboarding"),s=(0,p.wA)(),o=!n&&t&&!r;if((0,eT.E)(e.uniqueId,"create_text",a.useCallback(()=>{o&&!e.isShowing&&e.show()},[e,o])),!e.isShowing)return null;let l=()=>{e.complete(),s(m.b({format_text_step_shown:!0}))};return(0,i.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("tooltips_plus_onboarding.text_formatting.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:l,onTargetLost:l,targetKey:oN.B,title:(0,N.tx)("tooltips_plus_onboarding.text_formatting.title"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting"})}var oO=n(491821),oR=n(385446),oP=n.n(oR),oM=n(520561),oD=n(140948),oF=n(136896),oB=n(490279),oU=n(821058);function oH(e){let t;let{file:n,org:r,overlay:s}=e,o=(0,oM.B)(n,r.id),l=(0,a.useRef)(void 0),d=s.complete;if((0,a.useEffect)(()=>{o&&l.current&&!oP()(o.filePermissionsData,l.current?.filePermissionsData)&&d(),l.current=o},[o,d]),!o)return null;let c=o.isBranch,u=o.branchMatchesRepo,p=o.linkExpiresAt,m=(0,n3.Ch)(o.filePermissionsData,e.org),h=(0,oU.M3)((0,ed.A)(p)),f=!u&&c?(0,N.tx)("link_expired_overlay.different_branch_permissions_header"):(0,N.tx)("link_expired_overlay.header");return t=u?(0,N.tx)("link_expired_overlay.same_branch_permissions_body",{formattedTimestamp:h,audience:m}):c?(0,N.tx)("link_expired_overlay.different_branch_permissions_body",{formattedTimestamp:h,audience:m}):(0,N.tx)("link_expired_overlay.body",{formattedTimestamp:h,audience:m}),(0,i.jsx)(eF.rq,{isShowing:s.isShowing,trackingContextName:"Link Expired Overlay",title:f,description:t,targetKey:eJ.v4,onClose:s.complete})}let oV=(0,oD.bt)(e=>e.modalShown);function oG(e){let t=(0,a.useRef)(null),n=(0,f.e)({overlay:y.K_h,priority:g.N.SECONDARY_MODAL}),r=(0,ak.sZ)(),s=(0,k.md)(er.yV),o=k.md(oV)?.type===oB.j;return((0,eT.E)(n.uniqueId,[oF.q2],()=>{r&&s&&!n.isShowing&&!o&&n.show()}),(0,a.useEffect)(()=>(n.isShowing?t.current=setTimeout(()=>{t.current=null,n.complete()},45e3):t.current&&clearTimeout(t.current),()=>{t.current&&clearTimeout(t.current)}),[n]),r&&s)?(0,i.jsx)(oH,{overlay:n,org:r,file:s}):null}var oz=n(5175),oK=n(947035),oW=n(127082),oZ=n(382827),oq=n(750488),oX=n(746818);function oY(){let e=(0,p.wA)(),t=(0,sw.PE)(),n=(0,eI.r1)(oX.Kt),i=(0,k.md)(n),r=(0,eI.r1)(oX.wl),s=(0,k.md)(r),o=(0,oZ.sO)(),l=(0,eV.aV)(),{show:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.Fff,priority:sR},[i,s]),h=(0,a.useCallback)(()=>{o&&t&&(l||d({canShow:(e,t)=>e&&!t}))},[t,l,o,d]);return(0,a.useEffect)(()=>h(),[h]),(0,oq.i)({onClickPrimaryCta:u,onClickSecondaryCta:()=>{e(m.b({agreed_to_slides_ai_terms:!1}))},isShowing:c,isOnboarding:!1,totalSteps:1})}var oJ=n(147046),oQ=n(345477),o$=n(581372),o0=n(38473);function o1({openFile:e}){let t=(0,td.Gi)(),n=(0,td.J3)(),a=(0,td.JU)(n);return e&&e.teamId&&t?.type==="team"&&a?(0,i.jsx)(o2,{teamId:e.teamId}):null}function o2({teamId:e}){let t=(0,p.wA)(),n=(0,eI.r1)(oX.Kt),r=(0,k.md)(n),s=(0,eI.r1)(oX.uM),o=(0,k.md)(s),l=(0,oQ.hX)(`[data-onboarding-key="${eq.O0}"]`),d=(0,er.q5)(),c=(0,k.md)(ek.Fy),u=(0,eV.aV)(),m=(0,k.md)((0,o$.U)({teamId:e,editorType:n9._Y.SLIDES})),{numSkippedSlides:h,numTotalSlides:_}=(0,o0.Nr)(),x=_-h,{show:v,isShowing:b,complete:C}=(0,f.e)({overlay:y.uTW,priority:g.N.SECONDARY_MODAL},[r,o,c,m]),E=(0,a.useCallback)(()=>{!u&&l&&d&&v({canShow:(e,t,n,i)=>x>1&&e&&!t&&0===i&&n})},[u,l,d,v,x]);return(0,a.useEffect)(()=>E(),[E]),(0,a.useEffect)(()=>{b&&t(oJ.j7({type:eq.eg,data:{targetRect:l,activePathOnMount:[(0,N.t)("tile.dropdown.publish_as_template")]}}))},[t,l,b]),(0,i.jsx)(eF.rq,{arrowPadding:4,arrowPosition:tw.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,N.tx)("slides.templates.pro_templates_announcement.description"),disableHighlight:!0,isShowing:b,onClose:C,onTargetLost:C,primaryCta:{label:(0,N.tx)("slides.templates.pro_templates_announcement.button.done"),type:"button",onClick:C,ctaTrackingDescriptor:ew.c.DONE},targetKey:oX.w1,title:(0,N.tx)("slides.templates.pro_templates_announcement.header"),trackingContextName:"Slides Pro Templates Announcement",userFlagOnShow:"seen_slides_pro_templates_announcement",zIndex:eR.R.MODAL})}var o3=n(897024),o5=n(18029),o4=n(299117);function o6(e){return{isDesignEditor:e===el.nT.Design,isFigjamEditor:e===el.nT.Whiteboard,isSlidesEditor:e===el.nT.Slides,isDevModeEditor:e===el.nT.DevHandoff,isCooperEditor:e===el.nT.Cooper,isSitesEditor:e===el.nT.Sites,isFigmakeEditor:e===el.nT.Figmake,isIllustrationEditor:e===el.nT.Illustration}}let o7=a.memo(function({editorType:e,openFile:t}){let{isDesignEditor:n,isDevModeEditor:r}=o6(e),o=a.useRef(!n);a.useEffect(()=>{o.current=!n},[n]),function(e){let t=(0,k.md)(of.a8),n=(0,p.d4)(e=>e.user?.created_at),i=!!n&&(0,ed.A)("2023-05-01").isBefore(n);a.useEffect(()=>{if(!i){e.current=!0;return}e.current=e.current||(0,og.XC)(t)},[e,t,i]),(0,ov.yE)("x",e),(0,ov.yE)("y",e),(0,ov.yE)("width",e),(0,ov.yE)("height",e),(0,ov.yE)("angle",e),(0,ov.yE)("cornerRadius",e),(0,ov.yE)("strokePaints",e),(0,ov.yE)("fillPaints",e),(0,ov.yE)("effects",e),(0,ov.yE)("fontSize",e),(0,ov.yE)("fontFamily",e),(0,ov.yE)("fontStyle",e),(0,ox.g)("has_zoomed_in_design_file",e),(0,o_.U)("has_panned_in_design_file",e);let r=(0,f.e)({overlay:y._5$,priority:0});oy(r.uniqueId,"action_set_tool_frame","has_selected_frame_tool",e),oy(r.uniqueId,"create_frame","has_created_frame",e),oy(r.uniqueId,"create_text","has_created_text",e),e.current}(o),function(e){let t=(0,p.wA)(),n=(0,k.md)(ec.mp),i=null!=n&&(0,ed.A)("2023-10-31").isBefore(n),r=!!(0,eu.f)("has_opened_design_editor"),[s,o]=(0,k.fp)(ep);(0,a.useEffect)(()=>{i&&!r&&e&&(o(!0),t(m.b({has_opened_design_editor:!0})))},[t,r,e,o,i]),(0,a.useEffect)(()=>{s&&!e&&o(!1)},[s,e,o])}(n);let l=(0,er.MY)(),d=(0,eo.n)(),c=(0,es.I)();return ea.z4.getIsExtension()||"loaded"!==l.status||ei.pb.isGoogleClassroomIntegration()||d||r&&c?null:(0,i.jsxs)(a.Suspense,{fallback:null,children:[(0,i.jsx)(o9,{openFile:t,editorType:e}),!s.Ay.isIpadNative&&(0,i.jsx)(o8,{openFile:t,editorType:e})]})});function o9({editorType:e}){let{isFigjamEditor:t}=o6(e);return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsxs)(o4.p,{children:[(0,i.jsx)(tJ,{}),(0,i.jsx)(t3,{})]})})}function o8({editorType:e,openFile:t}){let{isFigjamEditor:n,isDesignEditor:a,isSlidesEditor:p,isDevModeEditor:m}=o6(e),h=(0,o5.tG)(),f=(0,l.q8)(),g=(0,c.xo)(),_=(0,oW.Oc)(),x=(0,u.hA)(),y=function(e){switch(e){case el.nT.Design:return oz.C5.Design;case el.nT.Whiteboard:return oz.C5.FigJam;case el.nT.Slides:return oz.C5.Slides;case el.nT.DevHandoff:return oz.C5.DevMode;case el.nT.Cooper:return oz.C5.Cooper;case el.nT.Sites:return oz.C5.Sites;case el.nT.Figmake:return oz.C5.FigMake;case el.nT.Illustration:return oz.C5.Illustration;default:return oz.C5.Unknown}}(e);return g?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o4.p,{children:(0,i.jsx)(nA.NuxOnboardingOverlay,{entryPoint:y})})}):(0,i.jsxs)(i.Fragment,{children:[a&&!(0,o.nl)()&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(tl,{})}),n&&!a&&(0,i.jsx)(oO.Q,{children:(0,i.jsx)(o4.p,{children:(0,i.jsx)(th,{})})}),a&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(nb,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(nT.A,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(nk.F,{})}),!_&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(nI.w,{})}),!s.Xb&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o4.p,{children:(0,i.jsx)(ni.P,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(tk.A,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(tI.Ay,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(sl.A,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(na.A,{})}),(0,i.jsx)(o4.p,{children:a&&(0,i.jsx)(oK.$,{})})]}),t?.canEditCanvas&&n&&!a&&(0,i.jsxs)(o4.p,{children:[(0,i.jsx)(aX,{openFile:t}),(0,i.jsx)(r2,{}),(0,i.jsx)(ad,{}),(0,i.jsx)(a0,{}),(0,i.jsx)(ay,{}),(0,i.jsx)(av,{})]}),!a&&!p&&!_&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(nA.NuxOnboardingOverlay,{entryPoint:y})}),n&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o4.p,{children:(0,i.jsx)(aU,{})})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(r3.KX,{})}),n&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(om,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(so.Wk,{})}),n&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(od,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(oG,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(eH,{})}),n&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o4.p,{children:(0,i.jsx)(tU,{})})}),a&&t?.canEdit&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(s6,{})}),a&&t?.canEdit&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(no,{})}),a&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(nn,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(tC,{})}),!s.Xb&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(nw,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(nS.b,{})}),a&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(sr,{})}),a&&(0,i.jsxs)(o4.p,{children:[(0,i.jsx)(oA,{}),(0,i.jsx)(oL,{})]}),a&&(0,i.jsxs)(o4.p,{featureFlag:"cursor_bot",children:[(0,i.jsx)(ok,{}),(0,i.jsx)(oI,{})]}),n&&!f&&!(0,r.kc)().figjam_synthesize_handbrake&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(en,{})}),n&&!f&&!(0,r.kc)().figjam_synthesize_handbrake&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(F.Cw,{})}),h&&(0,i.jsx)(o4.p,{children:n&&!(0,r.kc)().figjam_quick_actions_v2&&(0,i.jsx)(tN.vi,{})}),a&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(eM,{})}),n&&(0,i.jsxs)(o4.p,{children:[(0,i.jsx)(sm.rj,{}),(0,i.jsx)(sy,{})]}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(nm,{})}),n&&(0,i.jsxs)(o4.p,{children:[(0,i.jsx)(sC,{}),(0,i.jsx)(ip,{})]}),t&&(0,i.jsx)(o4.p,{featureFlag:"ui3_and_ai_welcome_modal",children:(0,i.jsx)(sU,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(d.QI,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(oY,{})}),t?.canEditCanvas&&p&&(0,i.jsx)(o4.p,{children:(0,i.jsx)(o1,{openFile:t})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(ey,{})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(nN.C,{source:"editor"})}),(0,i.jsx)(o4.p,{children:(0,i.jsx)(sG,{})}),(0,i.jsx)(o4.p,{featureFlag:"figjam_ai_actions_callout",children:(0,i.jsx)(tS.sR,{})}),t?.canEditCanvas&&m?(0,i.jsxs)(o4.p,{featureFlag:"cheddar",children:[(0,i.jsx)(o3.oI,{}),(0,i.jsx)(o3.Te,{}),(0,i.jsx)(o3.Ug,{})]}):null,m&&!x&&(0,i.jsx)(o4.p,{featureFlag:"dt_interactive_inspection_m2",children:(0,i.jsx)(tT,{})})]})}},461546:(e,t,n)=>{n.d(t,{D1:()=>v,FX:()=>y,n6:()=>x,sR:()=>b});var i=n(104076),a=n(716976),r=n(812714),s=n(795033),o=n(17140),l=n(192075),d=n(819851),c=n(422872),u=n(863154),p=n(143277),m=n(61102),h=n(842909),f=n(654200),g=n(441030),_=n(733742);let x=(0,s.eU)(!1),y=(0,s.eU)(!1),v="figjam_ai_actions_callout";function b(){let e=(0,s.md)((0,s.Rq)(u.Sb)),t=(0,_._)(),n=(0,s.md)(x),b=(0,s.md)(y),C=(0,h.PE)(),E=!(0,o.q8)(),j=(0,d.ow)(),w=C||(0,r.kc)().figjam_ai_menu_items_all_access&&j&&E,{show:T,isShowing:k,complete:I}=(0,c.e)({overlay:g.sP8,priority:p.N.SECONDARY_MODAL},[e]);return(0,a.useEffect)(()=>{n&&t&&(0,r.kc)().figjam_ai_actions_callout&&w&&T({canShow:e=>!e})},[w,n,t,T]),(0,a.useEffect)(()=>{k&&(!n||b)&&I()},[I,n,k,b]),(0,i.jsx)(m.rq,{arrowPosition:f.F_.BOTTOM,description:(0,l.tx)("figjam_ai.ai_actions_callout.description"),emphasized:!0,isShowing:k,onClose:I,shouldCenterArrow:f.EL.BEST_EFFORT,shouldDisableAnimation:!0,targetKey:v,testId:"figjam-ai-actions-overlay",title:(0,l.tx)("figjam_ai.ai_actions_callout.title"),trackingContextName:"FigJam Ai Actions callout"})}},514275:(e,t,n)=>{n.d(t,{AI:()=>b,bX:()=>v,i1:()=>S,vi:()=>I});var i=n(104076),a=n(716976),r=n(795033),s=n(653899),o=n(755444),l=n(192075),d=n(244205),c=n(422872),u=n(863154),p=n(235711),m=n(143277),h=n(563554),f=n(765516),g=n(61102),_=n(654200),x=n(441030),y=n(913105);let v="ai_generate_onboarding_key",b="ai_new_file_modal_v2_onboarding_key",C="has_seen_figjam_ai_modal_overlay",E="has_seen_figjam_ai_toolbar_tooltip",j=(0,p.r1)(y.W1),w=(0,p.r1)(C),T=(0,p.r1)(E),k=(0,p.r1)("figjam_editor_onboarded");function I(){let e=(0,r.md)(T),t=(0,r.md)(y.qe),n=(0,r.md)(y.rM),s=(0,c.e)({overlay:x.QLv,priority:m.N.HIGH_PRIORITY_MODAL},[e]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{s.show({canShow:e=>!e&&n&&t})},1e3);return()=>clearTimeout(e)},[t,n,s]),(0,i.jsx)(g.rq,{isShowing:s.isShowing,userFlagOnShow:E,targetKey:v,onClose:s.complete,trackingContextName:h.e0.AI_TOPBAR_TOOLTIP,title:(0,l.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.title"),description:(0,l.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.description"),emphasized:!0})}function S({targetKey:e}){let t=(0,r.md)((0,r.Rq)(u.Sb)),n=(0,r.md)(j),a=(0,r.md)(w),p=(0,r.md)(k),v=(0,r.Xr)(y.RC),b=(0,c.e)({overlay:x.xiH,priority:m.N.HIGH_PRIORITY_MODAL},[n,a,t,p]);(0,s.h)(()=>{b.show({canShow:(e,t,n,i)=>!e&&!t&&!n&&i})});let E=()=>{b.complete(),v(!0)};return(0,s.h)(()=>()=>{E()}),(0,i.jsx)(g.rq,{arrowPosition:_.F_.LEFT_TITLE,description:(0,l.tx)("whiteboard.ai_onboarding.new_file_modal.footer"),isShowing:b.isShowing,media:(0,i.jsx)(f.y,{src:(0,o.ck)("b306123ab827a626d46db70bcc5a74e9e76feacf"),alt:"",aspectRatio:301/154}),onClose:E,onTargetLost:E,primaryCta:{label:(0,l.tx)("rcs.got_it"),type:"button",onClick:E,ctaTrackingDescriptor:d.c.GOT_IT},targetKey:e,title:(0,l.tx)("whiteboard.ai_onboarding.new_file_modal.title"),trackingContextName:h.e0.AI_MODAL_ONBOARDING_TOOLTIP,userFlagOnShow:C})}},450259:(e,t,n)=>{n.d(t,{NuxOnboardingOverlay:()=>y});var i=n(104076),a=n(716976),r=n(903927),s=n(795033),o=n(653899),l=n(443192),d=n(115033),c=n(422872),u=n(987224),p=n(381059),m=n(174730),h=n(143277),f=n(902794),g=n(951824),_=n(708729),x=n(441030);function y(e){let t=(0,s.md)(u.eS),n=(0,r.wA)(),y=!!(0,m.f)("not_gen_0"),v=(0,s.md)(p.NT),b=(0,s.md)(p.g5),C=(0,s.md)(_.pC),E=(0,s.md)(p.b3),{show:j,complete:w,isShowing:T}=(0,c.e)({overlay:x.j0N,priority:h.N.HIGH_PRIORITY_MODAL},[v,b,t,E]),k=a.useCallback(()=>{j({canShow:(e,t,n,i)=>!C&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:n,isSamlSsoOnly:i}){return n?!i&&!(e&&["student","educator"].includes(e)):!(0,g.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:n,isSamlSsoOnly:i})})},[j,C]);if((0,o.h)(()=>{k()}),(0,d.Q)(T),!T)return null;let{trackingContextName:I,testId:S}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:y?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,i.jsx)(f.b,{isGen1:y,trackingContextName:I,entryPoint:e.entryPoint,isShowing:T,dataTestId:S,onOverlayClose:()=>{n(l.b({welcome_onboarded:!0})),w()}})}},5047:(e,t,n)=>{n.d(t,{J:()=>l});var i=n(104076),a=n(511570),r=n.n(a),s=n(352630),o=n(689190);function l({onClick:e,autoFocus:t,children:n,trackingEventName:a,trackingProperties:l,large:d}){return(0,i.jsx)(s.e6,{className:r()({[o.HM]:!0,"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":d}),onClick:e,htmlAttributes:{autoFocus:t},trackingEventName:a,trackingProperties:l,children:n})}},255768:(e,t,n)=>{n.d(t,{O:()=>r});var i=n(716976),a=n(166887);function r(){let e=(0,a.U)();return(0,i.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},894981:(e,t,n)=>{n.d(t,{CM:()=>f,mI:()=>g,mN:()=>_,rL:()=>v,vX:()=>x,wV:()=>y});var i=n(104076),a=n(716976),r=n(755444),s=n(652539),o=n(967782),l=n(192075),d=n(389396),c=n(5047),u=n(255768),p=n(337726),m=n(680675),h=n(564866);let f="FigJam Editor Onboarding";function g(e){return(0,i.jsxs)("div",{className:m.hQ,children:[e.svg&&(0,i.jsx)("div",{className:m.ZS,children:(0,i.jsx)(s.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})}),(0,i.jsxs)("div",{className:m.IP,children:[e.titleText?e.titleText:"",e.bodyText]}),e.buttonText&&e.onButtonClick&&(0,i.jsx)("div",{className:m.UD,children:(0,i.jsx)(c.J,{onClick:e.onButtonClick,autoFocus:!0,children:e.buttonText})})]})}let _=(0,r.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1");function x(e){let t=(0,u.O)(),n=(0,d.D)();return(0,i.jsxs)(i.Fragment,{children:[e.children,(0,i.jsx)("div",{className:m.Lx,style:{marginBottom:n+32},children:(0,i.jsxs)(c.J,{onClick:()=>{e.onSkipClick(),(0,o.YQ)({id:p.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},trackingProperties:{text:"Skip intro"},children:[(0,l.tx)("figjam_onboarding_make_something.all.skip_intro"),(0,i.jsx)(s.B,{svg:h.A})]})})]})}function y(e){return(0,i.jsx)("div",{className:m.xn,children:(0,i.jsx)(g,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg})})}function v(e){let{useCase:t,stepName:n,stepNum:i}=e,r=(0,u.O)();(0,a.useEffect)(()=>{r({eventName:"msv2_step_shown",useCase:t,stepName:n,stepNum:i})},[n,i,r,t])}},469715:(e,t,n)=>{n.d(t,{m5:()=>O,pN:()=>A,rj:()=>R});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(795033),l=n(755444),d=n(192075),c=n(244205),u=n(422872),p=n(863154),m=n(381059),h=n(235711),f=n(373235),g=n(643077),_=n(835307),x=n(143277),y=n(765516),v=n(61102),b=n(919853),C=n(654200),E=n(441030),j=n(913105),w=n(118740),T=n(558805),k=n(733742),I=n(963307),S=n(27605),N=n(646011);let A="section_presets_announcement_key",L="seen_figjam_section_presets_announcement",O=(0,h.Fu)(L);function R(){let e=(0,o.md)(I.P)===S.iH.TRUE,t=(0,r.d4)(e=>e.mirror.appModel.currentPage),n=(0,_.Fk)((t,n)=>(0,g.zC)(t,n)||e&&(0,g.re)(t,n),t),h=(0,f.q)(),R=(0,o.md)((0,o.Rq)(p.Sb)),P=(0,o.md)(O),M=(0,o.md)(T.w),D=(0,k._)(),F=(0,b.Td)(),B=function(){let[e,t]=(0,a.useState)(!1),n=(0,r.d4)(e=>e.isMakeSomethingV2Active),i=(0,o.md)(j.rM);return(0,a.useEffect)(()=>{(n||i)&&t(!0)},[i,n]),e}(),U=(0,o.md)(j.dO),H=(0,o.md)(m.mp),V=U.status!==w.c.NONE,[G,z]=(0,a.useState)(!1),{show:K,isShowing:W,complete:Z}=(0,u.e)({overlay:E.pjo,priority:x.N.SECONDARY_MODAL},[P,R,H]),q=1e3*parseFloat(N.H)+1e3;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{z(!0)},q);return()=>{clearTimeout(e)}},[q]),(0,a.useEffect)(()=>{M&&!B&&!V&&n&&h&&D&&G&&!F&&K({canShow:(e,t,n)=>{let i=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n);return!e&&!t&&i}})},[K,n,h,M,D,G,V,B,F]),(0,i.jsx)(v.rq,{arrowPosition:C.F_.BOTTOM,description:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.description"),isShowing:W,media:(0,i.jsx)(y.w,{src:(0,l.ck)("0ccb9b0b677f719939bd9bacd937201dfea4e8c9"),aspectRatio:4/3}),onClose:Z,primaryCta:{label:(0,d.tx)("rcs.got_it"),type:"button",onClick:Z,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.secondary"),type:"button",onClick:()=>{e&&s.gw5.setFigjamStarterKitEnabled(!1),s.T4N.createSectionForOnboarding(),Z()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},targetKey:A,title:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.title"),trackingContextName:"section_preset_picker_dlt_announcement",userFlagOnShow:L})}},9255:(e,t,n)=>{n.d(t,{P:()=>l,X:()=>o});var i=n(104076),a=n(716976),r=n(211862),s=n(719426);let o=(0,a.createContext)(null);function l({children:e}){let t=(0,r.q5)(),n=t?.fileRepoId,l=(0,s.Yj)(n??null),d=(0,a.useMemo)(()=>l&&"loaded"===l.status?l.data.activeBranches.length:null,[l]);return(0,i.jsx)(o.Provider,{value:d,children:e})}},661379:(e,t,n)=>{n.d(t,{A5:()=>B,CT:()=>U,EA:()=>D,H1:()=>J,II:()=>Z,L4:()=>H,SK:()=>W,SQ:()=>V,VK:()=>Q,WB:()=>K,aH:()=>Y,bL:()=>X,ih:()=>F,wd:()=>G});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(264993),l=n(980852),d=n(795033),c=n(851824),u=n(76616),p=n(886584),m=n(166887),h=n(221586),f=n(586398),g=n(390036),_=n(440327),x=n(192075),y=n(828987),v=n(819851),b=n(308072),C=n(893178),E=n(867041),j=n(568590),w=n(772523),T=n(508011),k=n(74620),I=n(120074),S=n(944350),N=n(162738),A=n(723628),L=n(132672),O=n(167151),R=n(185245),P=n(304299),M=n(396376);let D=a.createContext(!1);function F({id:e,onChange:t,query:n,focusedByButtons:a,innerRef:r,onKeyDown:s,onKeyUp:o,onPasteCapture:l,onFocus:d,editorType:c}){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(P.H,{ariaDescription:(0,x.t)("canvas_search.results_will_update_as_you_type"),dataTestId:"canvas-search-input",id:e,innerRef:r,onChange:t,onFocus:e=>{d&&d(e),!a.current&&e.target&&e.target.select(),a.current=!1},onKeyDown:e=>{e.keyCode===h.Uz.F?(0,h.Te)(e)?(e.currentTarget.select(),e.preventDefault()):(0,C.jr)(e,C.W0.NO,C.VA.NO)&&e.stopPropagation():s(e)},onKeyUp:o,onPasteCapture:l,placeholder:(0,x.t)("canvas_search.search_placeholder"),recordingKey:`${c}.canvas_search.search`,value:n})})}function B(e,t,n){let i=(0,a.useCallback)(({direction:i,shouldSelectInput:a})=>{if(e&&!e.current?.matches(":focus")){let t=new IntersectionObserver(i=>{let[r]=i;a?e.current?.select():(n.current=!0,e.current?.focus()),r.isIntersecting&&t.disconnect()});return e.current&&t.observe(e.current),()=>t.disconnect()}i&&t(i,"keyboard")},[n,e,t]);(0,p.p)(b.r.FocusEvent,i)}function U(){let e=(0,a.useRef)(!1),[t,n]=(0,a.useState)(!0),{query:i}=(0,r.d4)(e=>e.canvasSearch),{total:s}=(0,d.md)(_.Fk);return{focusedByButtons:e,hidden:t,setHidden:n,inputRef:a.useRef(null),navDisabled:!i||s<=1,showUi:(0,k.p8)("showUi")}}function H(){let e=(0,j.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope);return(0,a.useCallback)((n,i)=>{e(s.YEY.setActiveResultAndGetViewportSettings(n,i),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t])}function V(){let e=(0,j.Z)("canvas_search_navigate"),{query:t,scope:n,filters:i,mode:l}=(0,r.d4)(e=>e.canvasSearch),d=(0,r.wA)(),p=(0,a.useRef)(!1),h=(0,k.p8)("currentPage"),_=(0,T.L3)(),x=(0,k.p8)("pagesList"),[v,b]=(0,a.useState)(!1),[C,S]=(0,a.useState)(s.Ez5.uiState().isRecovery.getCopy()),[N,A]=(0,a.useState)(!1),L=z(),O=(0,m.am)(),R=(0,f.yZ)(),P=(0,a.useMemo)(()=>R&&(0,I.lH)(x),[R,x])||R&&s.h3O?.isValidatingIncremental(),M=(0,a.useMemo)(()=>!R&&(0,I.lH)(x),[R,x]);(0,a.useLayoutEffect)(()=>{n!==s.Lov.ALL_PAGES||N||!P&&C?s.YEY.setSearchScope(n):(A(!0),scheduler.postTask(async()=>{P&&await (0,E.q)(s._em.FIND_AND_REPLACE),s.YEY.setSearchScope(n),S(!0)},{priority:"user-blocking"}))},[C,x,n,N,P]);let D=(0,a.useCallback)(async(t,i=!0)=>{u.sn.start("canvas_search_time_to_results"),A(!0);let{nav:a,resultsByPage:r}=await L(t,i);Object.keys(r).filter(e=>e!==h&&e!==o.Xy).length?b(!0):b(!1),A(!1),i&&e(a,{additionalTrackEventParams:{searchScope:s.Lov[n]}});let l=u.sn.tryStop("canvas_search_time_to_results");l&&O("canvas_search_time_to_results",{timeElapsedMs:l,searchScope:s.Lov[n],resultCount:Object.values(r).reduce((e,t)=>e+=t.length,0)})},[h,e,n,L,O]),F=(0,c.A)(D,300),B=(0,a.useCallback)((e,t=!0)=>{d(y.NY(e)),A(!!e&&!(0,g.jN)(e)),F(e,t)},[d,F]);return(0,a.useEffect)(()=>{_&&t&&(n!==s.Lov.ALL_PAGES||!P&&C)&&D(t,!1)},[i,l,n,_,x,C,P]),{query:t,showSearch:_,resultsOnOtherPages:v,search:B,next:(0,a.useCallback)((t,n)=>{(0,w.Uc)(""),s.YEY.setHoveredResult(o.AD,-1);let i=!p.current;p.current=!1,e(s.YEY.setNextSearchResultAndGetViewportSettings(t,i),{additionalTrackEventParams:{source:n}})},[e]),exit:G(),setNavigateNearestOnce:function(){p.current=!0},mode:l,isLoading:N,allInstancesExpanded:C,missingResultsOnSomePages:M}}function G(){let e=(0,d.Xr)(R.Nl),t=(0,O.cJ)();return(0,a.useCallback)(()=>{t?e(void 0):s.YEY?.exitSearchMode(s.dNx.NONE)},[t,e])}function z(){let{scope:e,filters:t,mode:n}=(0,r.d4)(e=>e.canvasSearch),i=(0,k.p8)("currentPage"),l=(0,m.am)(),d=(0,v.lg)(),c=(0,r.d4)(e=>e.mirror.appModel.pagesList),u=(0,L.iW)();return(0,a.useCallback)(async(a,r=!0,p)=>{let m=p??i;if(!a||(0,g.jN)(a)){let{nav:e}=s.YEY.setSearchResultsAndGetViewportSettings([],m,"",{categories:[],mode:n});return{nav:e,resultsByPage:{}}}let h=!!t[A.kM.MatchCase],f=!!t[A.kM.WholeWords],{resultsByPage:_,metrics:x}=await N.H1.search(a,{searchLayerNames:[S._Y.DESIGN,S._Y.SLIDES,S._Y.SITES].includes(d),searchAnnotationTextContent:u,matchCase:h,wholeWords:f}),y=(0,M.kH)(t),v=e===s.Lov.ACTIVE_PAGE?_[m]?[{pageId:m,results:_[m]}]:[]:Object.keys(_).map(e=>({pageId:e,results:_[e]}));if(e===s.Lov.ACTIVE_PAGE&&_[o.Xy]){let e=_[o.Xy];e.length&&v.push({pageId:o.Xy,results:e})}if(1===a.length){let e=0,t=[],n=v.findIndex(e=>e.pageId===o.Xy);for(let i of(n>-1&&t.push(v[n]),c)){let n=v.findIndex(e=>e.pageId===i.nodeId);if(-1===n)continue;let a=v[n];if(a.results.length>1e3-e){t.push({results:a.results.slice(0,1e3-e),pageId:a.pageId});break}e+=a.results.length,t.push(a)}v=t}let{nav:b,...C}=s.YEY.setSearchResultsAndGetViewportSettings(v,m,a,{categories:y,mode:n}),E=y.map(e=>A.kM[e]);return l("canvas_search_results",{...x,...C,nodeTypes:E,searchScope:s.Lov[e],matchCase:h,wholeWords:f}),{nav:b,resultsByPage:_}},[i,d,t,n,c,e,u,l])}function K(){let e=(0,T.L3)(),t=s.YEY.hasDirtyPrimaryInstances(),n=(0,d.md)(_.Fk),i=(0,a.useRef)([]),r=t&&i.current.length,o=(0,a.useMemo)(()=>{if(!e||!n.total||r)return[];let t=s.YEY.getSearchResults(),a=[];return t.forEach(e=>{let t=e.results.map(e=>{let t=(0,l.UN)().get(e.guid);return t?{...e,textContent:t.textContent,name:t.name}:e});a.push({results:t,pageId:e.pageId})}),i.current=a,a},[n,e,r]);return r?i.current:o}function W(e){return!e.clientX&&!e.clientY||1===e.buttons}function Z(){let{query:e,scope:t}=(0,r.d4)(e=>e.canvasSearch),n=z();return(0,a.useCallback)(i=>{let a=s.YEY.getActiveResult(),r=a.type===s.Z6A.CANVAS,o=i||r&&a.guid;return!!o&&((0,l.UN)().setCurrentPageAsync(o).then(()=>{t===s.Lov.ACTIVE_PAGE?n(e,!1,o):s.YEY.setActiveResultAndGetViewportSettings(o,0)}),!0)},[e,t,n])}let q=(0,d.eU)(null);function X(){return(0,d.fp)(q)}function Y(){let e=(0,d.Xr)(q);return(0,a.useCallback)(t=>{W(t)||e(null)},[e])}function J(){let e=(0,d.Xr)(q);return(0,a.useCallback)(t=>{W(t)&&e(t.currentTarget)},[e])}function Q(){let[e,t]=X();return(0,a.useCallback)(n=>{n&&e&&n?.id===e?.id&&(t(null),n?.focus())},[e,t])}},48469:(e,t,n)=>{n.d(t,{_:()=>c});var i=n(104076),a=n(716976),r=n(420680),s=n(476816),o=n(192075),l=n(894210),d=n(661379);function c({onClick:e}){let t=(0,d.H1)(),n=(0,d.VK)(),c=a.useCallback(n=>{t(n),e(n)},[e,t]);return(0,i.jsx)(r.K,{ref:n,onClick:c,recordingKey:"canvas_search.search_icon_button","aria-label":(0,o.t)("fullscreen_actions.find"),htmlAttributes:{id:"canvas-search-icon-button","data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":l.Ib.LOOKUP},children:(0,i.jsx)(s.h,{})})}},304299:(e,t,n)=>{n.d(t,{H:()=>p});var i=n(104076),a=n(716976),r=n(276800),s=n(511570),o=n.n(s),l=n(221586),d=n(681398),c=n(757381),u=n(522215);function p({id:e,ariaDescription:t,innerRef:n,value:s,placeholder:p,onChange:m,onFocus:h,onKeyDown:f,onKeyUp:g,shiftEnterInsertsNewline:_,dataTestId:x,recordingKey:y,onPasteCapture:v}){let b=(0,a.useCallback)(e=>{n&&(n.current=e?.textarea??null)},[n]),C=s.includes("\n");return(0,i.jsx)(c.v,{ref:b,ariaDescription:t,className:o()(u.Rt,{[u.tI]:!C}),dataTestId:x,disableBorderStyles:!0,focusOnMount:!0,id:e,onChange:e=>m(e.currentTarget.value),onEscape:r.lQ,onFocus:h,onKeyDown:e=>{switch(e.keyCode){case l.Uz.ENTER:if(e.preventDefault(),_&&(e.shiftKey||d.Ay.mac&&e.ctrlKey)){let{selectionStart:t,selectionEnd:n}=e.currentTarget;e.currentTarget.setRangeText("\n",t,n,"end"),e.currentTarget.scrollLeft=0,e.stopPropagation(),m(e.currentTarget.value);return}break;case l.Uz.UP_ARROW:case l.Uz.DOWN_ARROW:if(C)return}f(e)},onKeyUp:g,onPasteCapture:v,placeholder:p,recordingKey:y,spellCheck:!1,value:s})}},351213:(e,t,n)=>{n.d(t,{a:()=>I});var i=n(104076),a=n(716976),r=n(903927),s=n(293422),o=n(844152),l=n(266808),d=n(170627),c=n(795033),u=n(511570),p=n.n(u),m=n(76616),h=n(166887),f=n(221586),g=n(641518),_=n(440327),x=n(271761),y=n(192075),v=n(58212),b=n(819851),C=n(893178),E=n(568590),j=n(737552),w=n(894210),T=n(304299),k=n(522215);function I({query:e,value:t,onChange:n,onFocus:u,recordingKey:I,hasMultipleSelections:S}){let N=(0,r.wA)(),A=(0,j.aq)(),L=(0,E.Z)("canvas_search_navigate"),O=(0,r.d4)(e=>e.canvasSearch.scope),{total:R}=(0,c.md)(_.Fk),P="whiteboard"===(0,b.lg)(),[M,D]=(0,a.useState)(!1),F=(0,x.b)(),B=e.toLocaleLowerCase()!==t.toLocaleLowerCase(),U=(0,h.am)(),H=!e||!R,V=d.nc.user("canvas-search-replace",n=>{if(!l.YEY)return;if(S){let{numReplaced:i,timeMs:a}=l.YEY.replaceInMultipleResults(t,{preserveCase:B},l.rpt.ONLY_ACTIVE);U("canvas_search_multi_replace",{source:n,timeMs:a,numReplaced:i,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),D(!0);return}let i=l.YEY.replaceInActiveResult(t,{preserveCase:B});i.wasSuccessful&&(D(!0),U("canvas_search_replace",{source:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),N(v.F.enqueue({type:"canvas-search-replace-once",message:(0,y.t)(P?"canvas_search.replace_all_message_figjam":O===l.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:1})})),i.nav&&L(i.nav,{delay:300,additionalTrackEventParams:{searchScope:l.Lov[O]}}))}),G=d.nc.user("canvas-search-replace-all",()=>{m.sn.start("canvas_search_replace_all");let{numReplaced:n,timeMs:i}=l.YEY.replaceInMultipleResults(t,{preserveCase:B},l.rpt.ALL);n>0&&(D(!0),N(v.F.enqueue({type:"canvas-search-replace-all",message:(0,y.t)(P?"canvas_search.replace_all_message_figjam":O===l.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:n})}))),U("canvas_search_replace_all",{source:"button",timeMs:i,numReplaced:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),m.sn.tryStop("canvas_search_replace_all")}),z=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:p()(k.v9,{[k.ei]:""===t}),"aria-hidden":"true",children:(0,i.jsx)(o.o,{})}),(0,i.jsx)(T.H,{value:t,placeholder:(0,y.t)("canvas_search.replace_placeholder"),recordingKey:g.Pt(I,"replace_input"),onChange:n,onFocus:e=>{u?.(e,!A())},onKeyDown:e=>{e.keyCode===f.Uz.ENTER?(V("enter"),e.stopPropagation()):M&&(0,f.Fo)(e)&&(0,C.jr)(e,C.W0.YES)&&e.stopPropagation()},shiftEnterInsertsNewline:!0})]});return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:p()(k.N6,F&&k.Sq),children:P?z:(0,i.jsx)("div",{className:k.Z9,children:z})}),(0,i.jsxs)("div",{className:k._E,children:[(0,i.jsx)(s.$n,{variant:"secondary",disabled:H,htmlAttributes:{"data-tooltip":(0,y.t)("canvas_search.replace_one"),"data-tooltip-type":w.Ib.TEXT},onClick:()=>V("button"),recordingKey:g.Pt(I,"replace_one"),children:(0,y.tx)("canvas_search.replace_one")}),(0,i.jsx)(s.$n,{disabled:H,variant:"secondary",onClick:G,recordingKey:g.Pt(I,"replace_all"),children:(0,y.tx)("canvas_search.replace_all")})]})]})}},550112:(e,t,n)=>{n.d(t,{I_:()=>O,Od:()=>R});var i=n(104076),a=n(716976),r=n(754245),s=n(903927),o=n(240803),l=n(454851),d=n(307829),c=n(129011),u=n(995639),p=n(266808),m=n(812714),h=n(795033),f=n(681398),g=n(641518),_=n(440327),x=n(665261),y=n(652539),v=n(192075),b=n(607804),C=n(828987),E=n(819851),j=n(506192),w=n(74620),T=n(723628),k=n(894210),I=n(215853),S=n(167151),N=n(396376),A=n(771855),L=n(7980),O=(e=>(e.LEFT="left",e.RIGHT="right",e.CENTER="center",e))(O||{});function R({lean:e,minWidth:t,shouldShowSearchCategories:n,recordingKey:a}){if(!(0,m.kc)().eu_fpl_migration_search_settings_menu)return(0,i.jsx)(P,{lean:e,minWidth:t,recordingKey:a});{let r=(e=>{switch(e){case"left":return"bottom-end";case"right":default:return"bottom-start";case"center":return"bottom"}})(e);return(0,i.jsx)(F,{minWidth:t,placement:r,shouldShowSearchCategories:n,recordingKey:a})}}function P({lean:e,minWidth:t,recordingKey:n}){let d=(0,s.wA)(),c=(0,j.BK)("CANVAS_SEARCH_FILTER_DROPDOWN"),m=a.useRef(null),y=(0,w.p8)("isReadOnly"),N=(0,h.md)(_.yo),A=(0,s.d4)(e=>e.canvasSearch.filters),O=(0,s.d4)(e=>e.canvasSearch.mode),R="whiteboard"===(0,E.lg)(),P=(0,S.cJ)(),F=(0,b.to)(),B=a.useMemo(()=>{let e=y?[]:[(0,i.jsx)(x.y0,{primaryText:(0,v.t)("canvas_search.search"),checked:O===p.EW4.FIND,onClick:()=>{d(C.sV(p.EW4.FIND)),c.hide()},recordingKey:g.Pt(n,"settings.find")},"find"),(0,i.jsx)(x.y0,{primaryText:(0,v.t)("canvas_search.replace"),checked:O===p.EW4.REPLACE,onClick:()=>{d(C.sV(p.EW4.REPLACE)),c.hide()},recordingKey:g.Pt(n,"settings","replace")},"replace"),(0,i.jsx)(x.wv,{},"sep1")],t=(t,a=!1)=>{let r=!!A[t];e.push((0,i.jsx)(M,{option:t,checked:r,counts:N,onClick:e=>{a||e.ctrlKey||f.Ay.mac&&e.metaKey?(d(C.DI(t)),a&&c.hide()):(d(C.zx(t)),c.hide())},recordingKey:n},t))};if(O===p.EW4.FIND&&!R&&!F){let a=!T.b4.some(e=>!!A[e]),r=Object.values(N).reduce((e,t)=>e+t,0);e.push((0,i.jsx)(D,{checked:a,icon:L.A,label:(0,v.t)("canvas_search.filter.all"),count:r,onClick:()=>{d(C.dY()),c.hide()},recordingKey:g.Pt(n,"settings","All")})),T.b4.forEach(e=>t(e)),e.push((0,i.jsx)(x.wv,{},"sep2"))}return T._V.forEach(e=>t(e,!0)),e},[d,c,A,R,F,y,O,N,n]);(0,a.useEffect)(()=>{y&&O===p.EW4.REPLACE&&d(C.sV(p.EW4.FIND))},[d,y,O]);let U=m.current&&(0,i.jsx)(I.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,hideDropdown:c.hide,lean:e,minWidth:t,options:B,propagateCloseClick:!0,recordingKey:g.Pt(n,"settings"),showPoint:!0,targetRect:m.current.getBoundingClientRect()});return(0,i.jsxs)(o.o,{eventListeners:["onClick","onMouseUp"],children:[(0,i.jsx)("div",{ref:m,children:(0,i.jsx)(l.d,{"aria-expanded":c.showing,onClick:()=>c.toggle(),actionOnPointerDown:!0,"aria-label":(0,v.t)("canvas_search.settings"),recordingKey:g.Pt(n,"settings"),htmlAttributes:{"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("canvas_search.settings")},children:(0,i.jsx)(u.A,{})})}),c.showing&&(P||F?r.createPortal(U,document.body):U)]})}function M(e){let t=e.counts[e.option],n=(0,N.sW)(e.option),a=(0,N.p9)(e.option);return(0,i.jsx)(D,{checked:e.checked,icon:n,label:a,count:t,onClick:e.onClick,buttonRef:e.buttonRef,recordingKey:g.Pt(e,"settings",T.kM[e.option])})}function D({checked:e,icon:t,label:n,count:a,onClick:r,buttonRef:s,recordingKey:o}){return(0,i.jsx)(x.MM,{checked:e,onClick:r,recordingKey:o,buttonRef:s,children:(0,i.jsxs)("div",{className:A.wV,children:[t&&(0,i.jsx)(y.B,{className:A.H9,svg:t}),(0,i.jsx)("span",{className:A.ed,children:n}),!!a&&(0,i.jsx)("span",{className:A.t1,children:a})]})})}function F({minWidth:e,placement:t,shouldShowSearchCategories:n,recordingKey:r}){let m=(0,s.wA)(),f=(0,w.p8)("isReadOnly"),x=(0,h.md)(_.yo),y=(0,s.d4)(e=>e.canvasSearch.filters),b=(0,s.d4)(e=>e.canvasSearch.mode),{manager:E,getTriggerProps:j}=d.b({initialPosition:t}),I=e=>{m(C.sV(e)),E.setOpen(!1)},S=(e,t)=>{e?.ctrlKey||e?.metaKey?m(C.DI(t)):m(C.zx(t))},A=e=>{m(C.DI(e))},O=b===p.EW4.FIND&&n;return(0,a.useEffect)(()=>{f&&b===p.EW4.REPLACE&&m(C.sV(p.EW4.FIND))},[m,f,b]),(0,i.jsx)(o.o,{eventListeners:["onClick","onMouseUp"],children:(0,i.jsxs)(d.bL,{manager:E,children:[(0,i.jsx)(l.d,{"aria-label":(0,v.t)("canvas_search.settings"),recordingKey:g.Pt(r,"settings"),htmlAttributes:{"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,v.t)("canvas_search.settings")},...j(),children:(0,i.jsx)(u.A,{})}),(0,i.jsxs)(d.mc,{children:[!f&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.z6,{value:b.toString(),onChange:e=>I(parseInt(e)),title:null,recordingKey:g.Pt(r,"mode_change"),children:[(0,i.jsx)(c.CU,{value:p.EW4.FIND.toString(),children:(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",width:"100%",...e?{minWidth:`${e}px`}:{}},children:(0,v.t)("canvas_search.search")})},"find"),(0,i.jsx)(c.CU,{value:p.EW4.REPLACE.toString(),children:(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",width:"100%",...e?{minWidth:`${e}px`}:{}},children:(0,v.t)("canvas_search.replace")})},"replace")]})}),O&&(0,i.jsxs)(d.YJ,{children:[(0,i.jsx)(B,{recordingKey:g.Pt(r,"settings","All"),checked:!T.b4.some(e=>!!y[e]),onChange:()=>{m(C.dY())},icon:L.A,label:(0,v.t)("canvas_search.filter.all"),count:Object.values(x).reduce((e,t)=>e+t,0),minWidth:e}),T.b4.map(t=>(0,i.jsx)(B,{recordingKey:g.Pt(r,"settings",T.kM[t]),checked:!!y[t],onChange:e=>S(e,t),icon:(0,N.sW)(t),label:(0,N.p9)(t),count:x[t],minWidth:e},t))]}),(0,i.jsx)(d.YJ,{children:T._V.map(e=>(0,i.jsx)(B,{recordingKey:g.Pt(r,"settings",T.kM[e]),checked:!!y[e],onChange:()=>A(e),icon:(0,N.sW)(e),label:(0,N.p9)(e)},e))})]})]})})}function B({checked:e,onChange:t,icon:n,label:a,count:r,recordingKey:s,minWidth:o}){return(0,i.jsx)(c.H_,{recordingKey:s,checked:e,onChange:(e,n)=>{t(n?.event)},children:(0,i.jsxs)("span",{style:{display:"flex",alignItems:"center",width:"100%",...o?{minWidth:`${o}px`}:{}},children:[n&&(0,i.jsx)(d.Q$,{children:(0,i.jsx)(y.B,{className:A.H9,svg:n})}),a,!!r&&(0,i.jsx)(d.Ov,{children:(0,i.jsx)(d.ME,{"data-testid":g.Pt(s,"count"),children:r})})]})})}},993604:(e,t,n)=>{n.d(t,{f:()=>eM});var i=n(104076),a=n(716976),r=n(903927),s=n(78439),o=n(276800),l=n(498349),d=n(420680),c=n(684742),u=n(689161),p=n(286138),m=n(476816),h=n(423128),f=n(527123),g=n(532286),_=n(266808),x=n(264993),y=n(812714),v=n(795033),b=n(511570),C=n.n(b),E=n(490698),j=n(221586),w=n(586398),T=n(681398),k=n(641518),I=n(366815),S=n(219972),N=n(390036),A=n(440327),L=n(915123),O=n(271761),R=n(679359),P=n(72138),M=n(652539),D=n(192075),F=n(58212),B=n(607804),U=n(828987),H=n(354114),V=n(308072),G=n(823736),z=n(568590),K=n(772523),W=n(74620),Z=n(120074),q=n(456877),X=n(894210),Y=n(307829),J=n(240803),Q=n(129011),$=n(602755),ee=n(506192),et=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(et||{}),en=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(en||{}),ei=n(522215);let ea=(0,v.eU)(!1),er=a.memo(function(e){let t=(0,v.Xr)(ea),n=(0,r.wA)(),a=(0,r.d4)(e=>e.canvasSearch.scope),s=(0,r.d4)(e=>e.mirror.appModel.pagesList),{allInstancesExpanded:o}=e,{getTriggerProps:l,manager:d}=Y.b(),u=eo(a);return(0,i.jsx)(J.o,{eventListeners:["onClick"],children:(0,i.jsxs)(Y.bL,{manager:d,children:[(0,i.jsxs)(c.E,{recordingKey:"figma_design_search_page_scope_dropdown",className:ei.Vz,"aria-label":(0,D.t)("canvas_search.scope_dropdown_aria_label",{scope:u}),"data-testid":"figma-design-search-scope-dropdown",...l(),children:[u,(0,i.jsx)($.O,{})]}),(0,i.jsxs)(Y.mc,{children:[(0,i.jsx)(es,{option:_.Lov.ACTIVE_PAGE,activeOption:a,onClickCallback:e=>{n(U.V2(e))}}),(0,i.jsx)(es,{option:_.Lov.ALL_PAGES,activeOption:a,onClickCallback:e=>{(0,Z.lH)(s)||!o?(t(!0),requestAnimationFrame(()=>{n(U.V2(e)),t(!1)})):n(U.V2(e))}})]})]})})});function es({option:e,activeOption:t,onClickCallback:n}){let a=(0,ee.BK)("CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN");return(0,i.jsx)(Q.H_,{recordingKey:`figma_design_search_page_scope.${e}`,checked:e===t,onChange:()=>{a.hide(),n(e)},children:eo(e)},e)}let eo=e=>{switch(e){case _.Lov.ACTIVE_PAGE:return(0,D.t)("canvas_search.this_page");case _.Lov.ALL_PAGES:return(0,D.t)("canvas_search.all_pages")}};var el=n(999083),ed=n(144949);n(120440);var ec=n(723628),eu=n(396376);function ep({short:e,options:t,recordingKey:n}){let s=(0,r.wA)(),o=(0,r.d4)(e=>e.canvasSearch.filters),l=(0,O.b)(),d=a.useCallback(e=>{s(U.DI(e))},[s]),c=a.useMemo(()=>(0,el.RP)(t,e=>o[e]?(0,i.jsx)(ed.v,{hasCloseButton:!0,onClose:()=>d(e),"aria-label":(0,D.t)("canvas_search.filter.remove_filter",{filter:(0,eu.p9)(e)}),recordingKey:k.Pt(n,ec.kM[e],"remove"),children:(0,eu.p9)(e)},`filter-chip-${e}`):null),[o,d,t,n]);return c.length?(0,i.jsx)("div",{"data-testid":"search-filter-chip-container",...{0:{className:"x78zum5 x1a02dak x1jnr06f xkl4b8w"},2:{className:"x78zum5 x1a02dak x1jnr06f x18jrek7"},1:{className:"x78zum5 x1a02dak x1jnr06f xkl4b8w xjkvuk6"},3:{className:"x78zum5 x1a02dak x1jnr06f x18jrek7 xjkvuk6"}}[!!l<<1|!!e<<0],children:c}):null}var em=n(695777),eh=n(771855);function ef({short:e,mode:t,recordingKey:n}){let a=(0,r.wA)(),s=(0,r.d4)(e=>e.canvasSearch.filters),o=t===_.EW4.FIND?eu.D4:eu.IM,l=(0,O.b)(),d=(0,el.RP)(o,e=>s[e]?(0,i.jsx)(eg,{option:e,onClose:()=>{a(U.DI(e))},recordingKey:n},e):null);return 0===d.length?null:(0,i.jsx)("div",{className:C()(eh.VS,{[eh.JE]:e,[eh.oZ]:l}),children:d})}function eg({option:e,onClose:t,recordingKey:n}){return(0,i.jsxs)("div",{className:eh.WP,children:[(0,eu.p9)(e),(0,i.jsx)(c.E,{className:eh._0,onClick:t,"aria-label":(0,D.t)("canvas_search.filter.remove"),"aria-describedby":(0,eu.p9)(e),recordingKey:k.Pt(n,ec.kM[e],"remove"),children:(0,i.jsx)(em.f,{})})]})}var e_=n(85598),ex=n(271899),ey=n(167151),ev=n(185245),eb=n(382827),eC=n(661379),eE=n(351213),ej=n(550112),ew=n(166887),eT=n(893178);function ek(e,t=!1){if(t||(0,eT.U5)(e,eT.W0.YES)){let t=(0,eT.f7)(e);return t&&e.stopPropagation(),t}return!1}function eI(e,t,n,i){let s=(0,eC.II)(),l=function(){let e=(0,z.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,ew.am)(),i=(0,a.useContext)(eC.EA),s=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"down"}),_.YEY&&e(_.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:_.Lov[t]}})},[e,t,n]);return i?s:o.lQ}(),d=function(){let e=(0,z.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,ew.am)(),i=(0,a.useContext)(eC.EA),s=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"up"}),_.YEY&&e(_.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:_.Lov[t]}})},[e,t,n]);return i?s:o.lQ}(),c=(0,a.useContext)(eC.EA);return(0,a.useCallback)(a=>{switch(c?(0,j.Fo)(a)&&!a.shiftKey?i(en.SINGLE):a.shiftKey?i(en.MULTI):i(en.NONE):i(en.NONE),a.keyCode){case j.Uz.P:case j.Uz.UP_ARROW:(a.keyCode!==j.Uz.P||T.Ay.mac&&(0,j.vN)(a,j.xH.CONTROL))&&(e(eu.OP.PREV,"keyboard"),a.stopPropagation(),a.preventDefault());break;case j.Uz.N:case j.Uz.DOWN_ARROW:(a.keyCode!==j.Uz.N||T.Ay.mac&&(0,j.vN)(a,j.xH.CONTROL))&&(e(eu.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault());break;case j.Uz.ENTER:if(_.YEY&&(0,j.Fo)(a)){_.YEY.exitSearchMode(_.dNx.SELECT_ACTIVE);break}if(s())break;a.shiftKey?t?d():e(eu.OP.PREV,"keyboard"):t?l():e(eu.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault();break;case j.Uz.ESCAPE:_.YEY&&_.YEY.exitSearchMode(_.dNx.NONE),a.preventDefault(),a.stopPropagation();break;default:n(a)}},[c,i,s,n,e,t,d,l])}function eS(e){return(0,a.useCallback)(t=>{if(t.keyCode===j.Uz.SHIFT){(!T.Ay.mac||t.metaKey)&&(T.Ay.mac||t.ctrlKey)||e(en.NONE);return}let n=T.Ay.mac&&"Meta"===t.key,i=!T.Ay.mac&&t.keyCode===j.Uz.CTRL;(n||i)&&!t.shiftKey&&e(en.NONE)},[e])}function eN(e){switch(e.keyCode){case j.Uz.DELETE:case j.Uz.BACKSPACE:if(_.YEY)return _.YEY.getNextResultForActiveResultRemoval();break;case j.Uz.X:if((0,j.Te)(e)&&_.YEY)return _.YEY.getNextResultForActiveResultRemoval();break;case j.Uz.H:case j.Uz.R:if((0,j.Fo)(e)&&e.shiftKey&&_.YEY)return _.YEY.getNextResultForActiveResultRemoval()}return x.AD}var eA=n(523860),eL=n(85206),eO=n(954206),eR=n(255111),eP=n(279162);let eM=a.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:n,next:r,exit:s,setNavigateNearestOnce:o,search:c,showSearch:u,mode:p,isLoading:f,allInstancesExpanded:g,missingResultsOnSomePages:b}=(0,eC.SQ)(),[E,w]=(0,a.useState)(""),{focusedByButtons:T,inputRef:k}=(0,eC.CT)(),I=(0,a.useRef)(null),S=(0,B.to)(),L=(0,z.Z)("canvas_search_navigate"),P=(0,v.md)(A.Wy),M=(0,v.md)(A.ml),F=(0,a.useContext)(eC.EA),U=(0,v.md)(ea),[V,K]=(0,a.useState)(null),[W,Z]=(0,a.useState)(en.NONE),[Y,J]=(0,a.useState)(!1);(0,a.useLayoutEffect)(()=>{if(F){if(M.size>1||P.size>1){J(!0);return}for(let e of P.values())e.size>1&&J(!0)}},[P,F,M]);let Q=(e,t)=>{J(!1),r(e,t)},$=function(e,t,n){if(!n)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(P,M,F),ee=function(e,t,n,i,r){let s=eI(e,n,e=>{let n=(e.keyCode===j.Uz.D||e.keyCode===j.Uz.F)&&(0,j.Fo)(e)&&e.shiftKey;ek(e)&&!n&&t.current?.focus()},r);return(0,a.useCallback)(e=>{let a=eN(e);switch(e.keyCode){case j.Uz.RIGHT_ARROW:case j.Uz.LEFT_ARROW:(0,j.Te)(e)||s(e);break;case j.Uz.C:case j.Uz.X:(0,j.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(H.Y5.triggerAction(e.keyCode===j.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===j.Uz.X&&t.current?.focus());break;case j.Uz.V:case j.Uz.Z:break;default:s(e)}_.YEY&&!n&&a!==x.AD&&i(_.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[n,s,t,i])}(Q,I,$,L,Z),et=eS(Z);(0,eC.A5)(k,r,T);let er=(0,eC.aH)(),es=(0,O.b)(),eo=(0,e_.HY)();if(!u)return null;let el=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:C()(ei.v9,{[ei.ei]:""===t}),children:(0,i.jsx)(m.h,{})}),(0,i.jsx)(eC.ih,{onChange:e=>{J(!1),c(e)},query:t,focusedByButtons:T,onKeyDown:ee,onKeyUp:et,innerRef:k,onPasteCapture:e=>{(0,G.gk)(e)&&(H.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),I.current?.focus())},editorType:q._Y.DESIGN})]});return(0,i.jsx)(l.i,{children:(0,i.jsxs)("div",{"data-testid":"search-sidebar",className:ei.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(_.YEY.setOverlayVisible(!1),o(),Z(en.NONE))},children:[(0,i.jsxs)("div",{className:ei.PP,children:[(0,i.jsxs)("div",{className:C()(ei.Wv,es&&ei.Fn),children:[(0,i.jsx)("div",{className:ei.Z9,children:el}),e&&(0,i.jsx)(ej.Od,{lean:ej.I_.RIGHT,shouldShowSearchCategories:!S,minWidth:(0,y.kc)().eu_fpl_migration_search_settings_menu?156:void 0,recordingKey:"figma_design_search"}),!eo&&(0,i.jsx)(d.K,{onClick:e=>{s(),er(e)},"aria-label":(0,D.t)("canvas_search.close"),recordingKey:"figma_design_search.close",htmlAttributes:{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.close")},children:(0,i.jsx)(h.A,{})})]}),(0,y.kc)().eu_fpl_search_result_chips&&(0,i.jsx)(ep,{recordingKey:"figma_design_search.filterChips",options:p===_.EW4.FIND?eu.D4:eu.IM,short:p===_.EW4.REPLACE}),!(0,y.kc)().eu_fpl_search_result_chips&&(0,i.jsx)(ef,{mode:p,short:p===_.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),p===_.EW4.REPLACE&&(0,i.jsx)(eE.a,{query:t,value:E,onChange:w,onFocus:(e,n)=>{!t&&n&&k.current?.focus()},hasMultipleSelections:$,recordingKey:"figma_design_search"})]}),f||U?(0,i.jsx)("div",{className:C()(ei.S,ei.dz),children:(0,i.jsx)(R.dW,{size:"medium",testId:"canvas-search-loading-spinner"})}):t&&!(0,N.jN)(t)&&(0,i.jsx)(eD,{allInstancesExpanded:g,hasMultipleSelections:$,hoverSelectMode:W,hoveredResult:V,isInMultiselectMode:Y,missingResultsOnSomePages:b,navigate:L,onNext:Q,replacement:p===_.EW4.REPLACE?E:void 0,resultInputHandlerRef:I,resultsOnOtherPages:n,setHoverSelectMode:Z,setHoveredResult:K,setIsInMultiselectMode:J})]})})});function eD({onNext:e,navigate:t,replacement:n,resultsOnOtherPages:l,resultInputHandlerRef:u,hoveredResult:p,hasMultipleSelections:m,isInMultiselectMode:h,missingResultsOnSomePages:y,hoverSelectMode:b,setIsInMultiselectMode:w,setHoverSelectMode:T,setHoveredResult:k,allInstancesExpanded:S}){let N=(0,r.wA)(),L=(0,eC.WB)(),O=(0,eC.II)(),M=(0,W.p8)("currentPage"),F=(0,a.useRef)(null),B=(0,r.d4)(e=>e.canvasSearch.scope),V=_.YEY.hasDirtyPrimaryInstances(),G=(0,v.md)(A.Fk),K=(0,v.md)(A.Ch),Z=(0,v.md)(A.Wy),q=(0,v.md)(A.ml),Y=(0,v.md)(A.hw),J=(0,a.useContext)(eC.EA),Q=!h,$=null==n,ee=(0,eC.L4)(),ea=function(e,t){let n=(0,z.Z)("canvas_search_navigate"),i=(0,r.d4)(e=>e.canvasSearch.scope),s=(0,ew.am)(),l=(0,a.useContext)(eC.EA),d=(0,a.useCallback)(a=>{if(!_.YEY)return;let{nav:r,numNewNodes:o,numNewTextMatches:l}=_.YEY.addActiveResultsAndGetViewportSettings(a);e&&s("canvas_search_enter_multi_select",{numberOfNodes:o,numberOfTextMatches:l,source:"shift+click",mode:t?"find":"replace"}),n(r,{additionalTrackEventParams:{searchScope:_.Lov[i]}})},[t,n,i,s,e]);return l?d:o.lQ}(Q,$),er=function(){let e=(0,z.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),n=(0,a.useContext)(eC.EA),i=(0,a.useCallback)((n,i,a)=>{_.YEY&&e(_.YEY.removeActiveResultAndGetViewportSettings(n,i,a),{additionalTrackEventParams:{searchScope:_.Lov[t]}})},[e,t]);return n?i:o.lQ}(),[es,eo]=function(...e){let[t,n]=(0,a.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,a.useCallback)((e,t=!0)=>{n(n=>n[e]!==t?{...n,[e]:t}:n)},[])]}(x.Xy,M),el=(0,a.useRef)({}),ed=(0,a.useMemo)(()=>{let e=[],t=L.find(e=>e.pageId===x.Xy),n=B===_.Lov.ALL_PAGES||!!t,i=L.find(e=>e.pageId===M),a=L;B===_.Lov.ACTIVE_PAGE&&(a=[],t&&a.push(t),i&&a.push(i));let r=0;for(let{pageId:t,results:i}of(el.current={},a)){if(0===i.length)continue;let a=!!es[t];if(n&&(e.push({type:"header",data:{pageId:t,open:a,numResults:i.reduce((e,t)=>e+=t.textMatches.length,0)}}),++r),n&&!a)continue;el.current[t]=r;let s=0;for(let n of i){let{textMatches:i,...a}=n;i.forEach((n,i)=>{e.push({type:"result",data:{...a,matchIndex:i,textMatch:n,index:s,pageId:t}}),++s,++r})}}return e},[M,es,B,L]);(0,a.useEffect)(()=>{null!=K&&eo(K.pageId)},[K,eo]);let ec=(0,s.z)({size:ed.length,parentRef:F,overscan:10}),ep=e=>{if(null==K||null==K.index)return[];let t=el.current[K.pageId];if(null==t)return[];let n=t+K.index;if(n===e)return[];let i=[],a=Math.min(n,e),r=Math.max(n,e);if("header"===ed[e].type)return i;for(let e=a;e<=r;e++)"result"===ed[e].type&&i.push(ed[e].data);return i},em=(0,a.useCallback)(e=>!!J&&"header"!==e.type&&(!!h||b!==en.NONE)&&(e.data.textMatch.matchType===_.Ifi.TEXT_MATCH&&q.has(e.data.resultGuid)&&!Z.has(e.data.resultGuid)||Y.has(e.data.resultGuid)),[Z,J,q,b,Y,h]),eh=(0,a.useCallback)(e=>"header"!==e.type&&(J?e.data.textMatch.matchType===_.Ifi.PAGE_MATCH?e.data.index===K?.index&&e.data.pageId===K?.pageId:e.data.textMatch.matchType===_.Ifi.LAYER_MATCH?q.has(e.data.resultGuid)&&!Z.get(e.data.resultGuid):Z.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===K?.index&&e.data.pageId===K?.pageId),[K?.index,K?.pageId,Z,J,q]),ef=(0,a.useCallback)((e,t,n)=>{let i=e+n,a=t+n,r=e=>"result"===e.type&&(eh(e)||em(e));for(;i>0&&i<=ed.length&&r(ed[i-1]);)i-=1;for(;a<ed.length&&r(ed[a]);)a+=1;return[i-n,a-n]},[em,eh,ed]),eg=(0,a.useCallback)((e,t)=>{if(e+t>=ed.length)return!1;let n=ed[e+t];return!eh(n)&&!em(n)},[em,eh,ed]),e_=(0,a.useCallback)((e,t,n)=>{let i=!1;for(let a=e;a<=t&&!(a+n>=ed.length);a+=1){let e=ed[a+n];if(!eh(e)&&!em(e)){i=!0;break}}return i},[em,eh,ed]),[ex,ey]=(0,a.useMemo)(()=>{let e=p?.nodeGuid??x.AD,t=K?.pageId!=null?el.current[K.pageId]:null;if(J&&b!==en.NONE&&p&&e!==x.AD&&p.pageId===K?.pageId&&null!=t){let n=p.index,i=p.matchIndex;if((b===en.SINGLE||K?.index==null)&&eg(n,t))return[n,_.YEY.getSingleHoveredSelectionEndIndex(e,i)];if(b===en.MULTI&&K?.index!=null&&K.index!==p.index){let a=n>K.index?K.index:n;return e_(a,n>K.index?n:K.index,t)?ef(a,_.YEY.getMultiHoveredSelectionEndIndex(e,i),t):[null,null]}}return[null,null]},[K?.index,K?.pageId,J,ef,b,p,e_,eg]),eb=(0,a.useCallback)(e=>!J||null==ex||null==ey||e<ex||e>=ey?et.NONE:e===ex&&e===ey-1?et.ALL:e===ex?et.TOP:e===ey-1?et.BOTTOM:et.MIDDLE,[J,ex,ey]),eE=(0,E.$)(K);(0,a.useEffect)(()=>{if(h||b!==en.NONE||null==K||null==K.index||0===ed.length||!eE)return;let e=el.current[K.pageId];if(null==e)return;let t=e+K.index,n=t>=ec.virtualItems[0].index&&t<=ec.virtualItems[ec.virtualItems.length-1].index,i=!1;if(n){let e=ec.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:n}=e;i=function(e,t){if(!t)return!0;let n=t.scrollTop,i=n+t.clientHeight;return e.top>=n&&e.bottom<=i}({top:t,bottom:t+n},F.current)}}i||V||ec.scrollToIndex(t,{align:"center"})},[K,eE,u,h,ed,V,ec,b]);let ej=(e,t,n,i)=>{let a=()=>{i?er(t.resultGuid,t.matchIndex,t.textMatch.matchType):ea([{nodeId:t.resultGuid,matchIndices:[t.matchIndex],searchResultType:t.textMatch.matchType}])};t.pageId===x.Xy?(O(t.guid),eo(t.guid),w(!1)):J&&t.pageId===K?.pageId?e.shiftKey&&K?.index==null?(i||a(),w(!0)):e.shiftKey?((()=>{let e=ep(n),t=[];e.forEach(e=>{let n=t.length?t[t.length-1]:void 0;n?.nodeId===e.resultGuid&&n?.searchResultType===_.Ifi.TEXT_MATCH?n.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),ea(t)})(),w(!0)):(0,j.Fo)(e)&&t.textMatch.matchType!==_.Ifi.PAGE_MATCH?(a(),w(!0)):(ee(t.resultGuid,t.matchIndex),w(!1)):(ee(t.resultGuid,t.matchIndex),w(!1))},eT=function(e,t,n,i,s,l,d){let c=function(e,t){let n=(0,z.Z)("canvas_search_navigate"),i=(0,r.d4)(e=>e.canvasSearch.scope),s=(0,ew.am)(),l=(0,a.useContext)(eC.EA),d=(0,a.useCallback)(()=>{if(!_.YEY)return;let{nav:a,numNewNodes:r,numNewTextMatches:o}=_.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&s("canvas_search_enter_multi_select",{numberOfNodes:r,numberOfTextMatches:o,source:"cmd/ctrl+A",mode:t?"find":"replace"}),n(a,{additionalTrackEventParams:{searchScope:_.Lov[i]}})},[t,n,i,s,e]);return l?d:o.lQ}(n,i),u=(0,a.useContext)(eC.EA),p=eI(e,s,ek,l);return(0,a.useCallback)(e=>{let n=eN(e);switch(e.keyCode){case j.Uz.UP_ARROW:case j.Uz.DOWN_ARROW:case j.Uz.RIGHT_ARROW:case j.Uz.LEFT_ARROW:s?(!function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),ek(e,!0)):p(e);break;case j.Uz.A:if(u&&(0,j.Te)(e)){c(),d(!0),e.stopPropagation(),e.preventDefault();break}ek(e);break;case j.Uz.C:(0,j.Te)(e)?(H.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):ek(e);break;case j.Uz.V:(0,j.Te)(e)?(H.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):ek(e);break;case j.Uz.X:(0,j.Te)(e)?(H.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):ek(e);break;case j.Uz.DELETE:case j.Uz.BACKSPACE:ek(e,!0);break;default:p(e)}_.YEY&&!s&&n!==x.AD&&t(_.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[s,u,p,c,d,t])}(e,t,Q,$,m,T,w),eA=eS(T),eL=(0,v.Xr)(ev.Nl);return(0,i.jsxs)("div",{className:ei.sb,children:[(0,i.jsxs)("div",{className:ei.Jo,children:[(0,i.jsx)(eF,{totalOnActivePage:G.total,resultsOnOtherPages:l,allInstancesExpanded:S}),0!==ed.length&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.K,{onClick:t=>{e(eu.OP.PREV,"button")},"aria-label":(0,D.t)("canvas_search.previous"),recordingKey:"figma_design_search.previous",disabled:G.total<=1,htmlAttributes:{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev"},children:(0,i.jsx)(f.l,{})}),(0,i.jsx)(d.K,{onClick:t=>{e(eu.OP.NEXT,"button")},"aria-label":(0,D.t)("canvas_search.next"),recordingKey:"figma_design_search.next",disabled:G.total<=1,htmlAttributes:{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next"},children:(0,i.jsx)(g.k,{})})]})]}),(0,i.jsxs)(P.P,{className:ei.bB,scrollContainerRef:F,children:[(0,i.jsx)(I.D8,{style:{height:ec.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:eT,onKeyUp:eA,forwardedRef:u,children:ec.virtualItems.map(e=>{let t=ed[e.index];if(!t)return null;let a=eh(t),r="result"===t.type&&t.data.pageId===K?.pageId?eb(t.data.index):et.NONE;return(0,i.jsx)("div",{ref:e.measureRef,className:C()({[ei.T]:r===et.TOP,[ei.fz]:r===et.MIDDLE,[ei.Nf]:r===et.BOTTOM,[ei.HR]:(b===en.SINGLE||K?.index==null)&&p?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`},children:"header"===t.type?(0,i.jsx)(eB,{...t.data,setOpen:e=>eo(t.data.pageId,e)}):(0,i.jsx)(eU,{activePageId:K?.pageId,hasMultipleSelections:m,indirectlySelected:em(t),isInHoveredSelectMode:b!==en.NONE&&!!p,isInMultiselectMode:h,onDoubleClick:()=>{eL(void 0),_.YEY.exitSearchMode(_.dNx.SELECT_ACTIVE)},onSelect:n=>ej(n,t.data,e.index,a),replacement:n,result:t.data,resultInputHandlerRef:u,selected:a,setHoveredResult:k,singletonHoverSelected:r===et.ALL})},"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`)})}),V&&(0,i.jsx)("div",{className:ei.S,children:(0,i.jsx)(R.dW,{size:"medium"})}),l&&B===_.Lov.ACTIVE_PAGE&&(0,i.jsx)(c.E,{recordingKey:"figma_design_search.other_pages_button",className:C()(ei.fp,ei.AX),onClick:()=>{N(U.V2(_.Lov.ALL_PAGES))},children:(0,D.tx)("canvas_search.results_other_pages")}),y&&B===_.Lov.ALL_PAGES&&(0,i.jsx)("div",{className:ei.du,children:(0,D.tx)("canvas_search.results_unavailable_offline")})]})]})}function eF({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:n}){let a=(0,eb.sO)(),s=(0,ey.cJ)(),o=(0,B.to)(),l=(0,r.d4)(e=>e.mirror.appModel.pagesList),d="";d=0===e?(0,Z.lH)(l)||!n?a?(0,D.t)("canvas_search.no_results_in_this_deck"):s?(0,D.t)("canvas_search.no_results_on_site"):o?(0,D.t)("canvas_search.no_results_in_buzz_file"):(0,D.t)("canvas_search.no_results_on_page"):t?(0,D.t)("canvas_search.no_results"):(0,D.t)("canvas_search.no_results_in_file"):(0,D.t)("canvas_search.results_count",{total:e});let c=(!a&&!s&&!o||(0,y.kc)().interop_pages)&&(e>0||t||(0,Z.lH)(l)||!n);return(0,i.jsxs)("div",{className:ei._M,children:[(0,i.jsx)(u.T,{"data-testid":"canvas-search-info",className:ei.qp,role:e>0?"status":"alert",children:d}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:ei.hY,children:"\xb7"}),(0,i.jsx)(er,{allInstancesExpanded:n})]})]})}function eB({pageId:e,open:t,setOpen:n,numResults:a}){let r=(0,W.eY)().get(e),s=e===x.Xy?(0,D.t)("fullscreen.canvas_search.pages"):r.name;return(0,i.jsxs)(I.GG,{className:ei.kQ,onClick:()=>n(!t),children:[(0,i.jsx)(M.B,{className:ei.eO,svg:t?eA.A:eL.A}),(0,i.jsx)("span",{className:ei.rB,children:s}),(0,i.jsx)("span",{className:ei.hs,children:a})]})}function eU({result:e,replacement:t,activePageId:n,resultInputHandlerRef:a,selected:s,indirectlySelected:l,singletonHoverSelected:d,onSelect:c,onDoubleClick:u,isInMultiselectMode:p,isInHoveredSelectMode:m,hasMultipleSelections:h,setHoveredResult:f}){let g=(0,W.eY)(),y=(0,W.p8)("currentPage"),v=e.textMatch.matchType===_.Ifi.TEXT_MATCH,b=null!=t&&v&&(g.get(e.guid)?.hasMissingFont||!1),E=!(0,w.yZ)(),j=(0,r.d4)(e=>e.mirror.appModel.pagesList),S=E&&e.textMatch.matchType===_.Ifi.PAGE_MATCH&&_.h3O.isIncrementalSession()&&(0,Z.Fy)(j,e.resultGuid)!==_.xal.LOADED,N=(0,r.wA)(),A=C()(ei.V3,{[ei.HR]:e.isPurple,[ei.wH]:s,[ei.r9]:S}),L=(0,i.jsx)(ex.Bf,{className:A,guid:e.guid});return b?L=(0,i.jsx)("div",{className:ei.v9+" "+A,children:(0,i.jsx)(M.B,{svg:eP.A})}):e.guid===y&&(L=(0,i.jsx)("div",{className:ei.v9+" "+A,children:(0,i.jsx)(M.B,{svg:eO.A})})),(0,i.jsxs)(I.GG,{className:C()({[ei.AX]:!0,[ei.wH]:s,[ei.Xt]:!s&&l,[ei.rX]:d,[ei.Dw]:m,[ei.HR]:e.isPurple,[ei.r9]:S}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{S?N(F.F.enqueue({type:"offline-page-switch",message:(0,D.t)("fullscreen.pages_panel.unavailable_offline")})):(a.current?.focus(),p||!s||(T.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===_.Ifi.PAGE_MATCH?c(t):h||_.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:p||S?o.lQ:u,onMouseEnter:()=>{e.pageId===x.Xy||e.pageId!==n?f(null):f({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),v?_.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===_.Ifi.LAYER_MATCH&&(0,K.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,K.Uc)(""),f(null),_.YEY.setHoveredResult(x.AD,-1)},recordingKey:k.Pt("figma_design_search","result",e.pageId,e.index),children:[(0,i.jsx)("div",{className:ei._P,children:L}),(0,i.jsx)("div",{className:C()(ei.D6,{[ei.c1]:v}),children:e.textContent&&v?(0,i.jsx)(eV,{text:e.textContent,match:e.textMatch,replacement:b?void 0:t,multiline:!0}):(0,i.jsx)(eH,{result:e})}),S&&(0,i.jsx)("div",{className:ei.QF,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline",children:(0,i.jsx)(M.B,{className:ei.VQ,svg:eR.A})})]})}function eH({result:e}){let{query:t}=(0,r.d4)(e=>e.canvasSearch),n=e.name&&e.stateGroupName?(0,S.w)(e.name):e.name;if(!n)return null;let a=e.stateGroupName||e.containerName,s=-1;e.textContent&&(n=e.textContent,s=e.name?.toLowerCase().indexOf(t)??-1,a=e.name);let o=n.toLowerCase().indexOf(t)??-1;return(0,i.jsxs)("div",{children:[n&&o>-1?(0,i.jsx)(eV,{text:n,match:{start:o,end:o+t.length,matchType:_.Ifi.LAYER_MATCH},multiline:!0}):(0,i.jsx)(L.ph,{text:n}),a&&(0,i.jsx)("div",{className:ei.Gu,children:s>-1?(0,i.jsx)(eV,{text:a,match:{start:s,end:s+t.length,matchType:_.Ifi.LAYER_MATCH}}):(0,i.jsx)(L.ph,{text:a})})]})}function eV({text:e,match:t,replacement:n,multiline:r}){let[s,o]=(0,a.useState)(e),[l,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o(e)},[e]),(0,a.useEffect)(()=>{if(!l||s!==e)return;let n=t.start,i=0;for(let t=n-1;t>=0;--t)if(/\s/.test(e[t])&&i++,3===i){n=t;break}i<3&&(n=0),o(e.slice(n))},[l,s,e,t.start]);let c=(0,a.useMemo)(()=>(0,i.jsx)(eG,{text:s,replacement:n,fullString:e,match:t}),[s,t,n,e]);return(0,i.jsx)(L.ph,{className:r?ei.c1:"",text:c,multiline:r,onTruncationChange:d})}function eG({text:e,replacement:t,fullString:n,match:a}){let r=0;n&&e!==n&&(r=n.length-e.length);let s=a.start-r,o=a.end-r,l=e.substring(0,s),d=e.substring(s,o),c=e.substring(o);if(t&&d.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=V.r.detectTextTransform(d);t=V.r.applyTextTransform(t,e)}return(0,i.jsxs)(i.Fragment,{children:[r?"\u2026":"",l,t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.E,{children:(0,D.tx)("canvas_search.original_replace_value")}),(0,i.jsx)("span",{className:ei.of,children:(0,i.jsx)("s",{children:d})}),(0,i.jsx)(p.E,{children:(0,D.tx)("canvas_search.updated_replace_value")}),(0,i.jsx)("b",{children:t})]}):(0,i.jsx)("b",{children:d}),c]})}},750388:(e,t,n)=>{n.d(t,{W:()=>L,l:()=>A});var i=n(104076),a=n(716976),r=n(903927),s=n(999083),o=n(812714),l=n(795033),d=n(246144),c=n(192075),u=n(366535),p=n(562951),m=n(278491),h=n(571430),f=n(643077),g=n(74620),_=n(211862),x=n(944350),y=n(853039),v=n(295253),b=n(498726),C=n(278151),E=n(516954),j=n(670974),w=n(383310),T=n(108069),k=n(816411),I=n(103345),S=n(832885),N=n(516813);let A=(0,l.eU)(!1);function L({clientX:e,clientY:t,pageIds:n,selectedView:L,shouldShowDuplicateOption:O}){let R=(0,r.wA)(),P=(0,r.d4)(e=>e.mirror.appModel),M=(0,_.q5)(),D=(0,g.p8)("pagesList"),F=(0,f.HZ)(),B=h.F.useShouldHideStarterCtaForOpenFile(),U=(0,w.cT)(),H=(0,j.hZ)(),V=1===n.length&&void 0!==n[0]?function({pageId:e,openFile:t,pagesList:n,team:i,shouldShowDuplicateOption:a,shouldPaywallForDraftsPageLimitV1:r,dispatch:s,hideUpsellPlanCta:l,isFileReadOnly:m,isK12OrgStudent:f}){var g;let _=n.length,E=n.filter(e=>!e.isDivider).length,j=n.find(t=>t.nodeId===e),w=!!j&&j.isDivider,A=n=>(0,N.HZ)()&&j&&t&&t.editorType===x._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:[e],dispatch:n,source:S.E.FJ_PAGE_MENU})}]:[];if(m||f)return[{action:"page-copy-link",args:{nodeId:e}},...A(s)];let L=()=>(0,o.kc)().move_page_to_new_file&&j&&t?((0,d.ED)("getPageMoveMenuItem","Parameters",{pageId:e,folderId:"1",fileKey:t.key}),{name:"page-move-to-new-file",callback:()=>{!function(e,t,n,i,a={},r=!0){if(!e)return;let s={...a,type:k.A.FILE,fileKey:e.key,file:e,afterFileMove:void 0,isMovePageToNewFile:r,page_id:n};t(u.to({type:(0,T.J)(),data:s}))}({key:t.key,name:t.name,folder_id:t.folderId,team_id:t.teamId,editor_type:t.editorType},s,e)}}):null,O=a?(g=w?(0,c.t)("fullscreen_actions.divider-duplicate"):(0,c.t)("fullscreen_actions.page-duplicate"),t&&((0,y.J9)({openFile:t,pageCount:_})||r({openFile:t,pageCount:_}))?{name:"page-duplicate",callback:()=>{s((0,u.to)({type:I.DV,data:{team:i,resource:b.vL.PAGE,action:C.ZN.DUPLICATE_PAGE,editorType:t.editorType,currentPlan:h.F.Plan.STARTER,upsellPlan:h.F.Plan.PRO,hideUpsellPlanCta:l,upsellSource:v.b.CREATE_NEW_PAGE}}))},displayText:g}:{action:"page-duplicate",args:{nodeId:e},loadingIndicatorString:"Duplicating",displayText:g}):null;return w?[O,L(),{action:"page-delete",args:{nodeIds:[e]},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.divider-delete")}]:[{action:"page-copy-link",args:{nodeId:e}},{separator:!0},{action:"page-rename",args:{nodeId:e},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:1})},O,L(),{separator:!0},{action:"page-delete",callback:()=>s(p.PK({})),args:{nodeIds:[e]},loadingIndicatorString:"Deleting",disabled:1===E,displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:1})},...A(s)]}({pageId:n[0],team:M?M.team:null,shouldShowDuplicateOption:O,openFile:M,pagesList:D,shouldPaywallForDraftsPageLimitV1:F,dispatch:R,hideUpsellPlanCta:B,isFileReadOnly:U,isK12OrgStudent:H}):function({pageIds:e,pagesList:t,dispatch:n,isFileReadOnly:i,isK12OrgStudent:a}){if(i||a)return[];let r=new Set(t.filter(e=>!e.isDivider).map(e=>e.nodeId)),s=e.filter(e=>r.has(e)),o=s.length;return 0===o?[]:[{action:"batch-page-rename",args:{nodeIds:s},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:o})},{separator:!0},{action:"page-delete",callback:()=>n(p.PK({})),args:{nodeIds:s},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:o}),disabled:r.size<=o},...(t=>{if(!(0,N.HZ)())return[];let n=l.zl.get(_.yV);return n&&n.editorType===x._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:Array.from(e),dispatch:t,source:S.E.FJ_PAGE_MENU})}]:[]})(n)]}({pageIds:n,pagesList:D,dispatch:R,isFileReadOnly:U,isK12OrgStudent:H});return(0,a.useEffect)(()=>(l.zl.set(A,!0),()=>{l.zl.set(A,!1)}),[]),(0,i.jsx)("div",{className:`${m.Dm}`,children:(0,i.jsx)(E.Q,{appModel:P,menuItems:(0,s.WI)(V),dispatch:R,selectedView:L,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,isLimitedDevMode:!1,recordingKey:"pageMenu"})})}},142996:(e,t,n)=>{n.d(t,{G:()=>iZ});var i=n(104076),a=n(716976),r=n(903927),s=n(667693),o=n(638004),l=n(266808),d=n(812714),c=n(633065),u=n(328341),p=n(1188),m=n(192075),h=n(436991),f=n(222714),g=n(370020),_=n(742549),x=n(752064),y=n(147046),v=n(111297),b=n(211862),C=n(657878),E=n(377026),j=n(407012),w=n(268389),T=n(827695),k=n(878604),I=n(17933),S=n(74620),N=n(421334);let A=(0,a.lazy)(()=>n.e(4544).then(n.bind(n,254544)));function L(){return(0,i.jsx)(w.vo,{children:(0,i.jsx)(w.nB,{padding:0,className:N.g4,children:(0,i.jsx)(T.k,{})})})}function O({onClose:e,defaultPosition:t,windowDefaultWidth:n,windowDefaultHeight:r,manager:s,entrypoint:o,children:l,scope:d}){return(0,S.aV)()?null:(0,i.jsx)(k._L,{constraints:{minWidth:n,minHeight:r},manager:s,defaultWidth:n,defaultHeight:r,onClose:({source:t})=>{"outside"!==t&&e()},defaultPosition:t,draggable:"header",children:(0,i.jsx)(I.nK,{children:(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)(L,{}),children:l||(0,i.jsx)(A,{scope:d,entrypoint:o})})})})}function R(){let e=h.ox(),t=(0,C._6)(),{windowInnerWidth:n,windowInnerHeight:s}=(0,f.l)(),o=a.useMemo(()=>({x:Math.max(0,(n-896)/2),y:Math.max(0,(s-600)/2)}),[n,s]),l=(0,b.q5)(),d=(0,g.IQ)(),c=(0,g.hm)(l)&&!d,u=(0,b._G)(),p=(0,_.RT)(),m=(0,r.wA)(),w="fullscreen"===t.view&&t.githubRepositorySelectorMode===E.e6.DIRECTORY_SELECTOR,T=()=>{"fullscreen"===t.view&&m((0,y.sf)({...t,showDevModeComponentBrowser:!0,showComponentBrowserGitHubSettings:!1}))},k=(0,_.yq)(),I=(0,x.bh)();return c?(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsx)(v.fu,{name:"Component Browser",children:(0,i.jsx)(O,{onClose:I,defaultPosition:o,windowDefaultWidth:896,windowDefaultHeight:600,manager:e,entrypoint:t.componentBrowserEntrypoint||"filename_menu",scope:t.componentBrowserScope||"file"})}),p&&u&&(0,i.jsx)(v.fu,{name:"Component Browser GitHub Settings",children:(0,i.jsx)(j.A,{libraryKey:u,onClose:T,onBack:T,isDirectorySelection:w})})]}):null}var P=n(795033),M=n(166887),D=n(58212),F=n(257593);let B="mcp-unmapped-components";function U({}){let e=(0,r.wA)(),t=(0,M.hC)(),n=(0,a.useRef)(!1),[s]=(0,P.fp)(F.D),[o,l]=(0,P.fp)(F.d),c=(0,_.ju)(),u=(0,a.useCallback)(e=>{l(!1),n.current=!1,t("component_browser.mcp_unmapped_components_banner_cta_clicked",{bannerId:e,cta:"close_banner",unmappedComponentsCount:s.length})},[l,t,s.length]),p=(0,a.useCallback)(e=>{t("component_browser.mcp_unmapped_components_banner_cta_clicked",{bannerId:e,cta:"start_mapping",unmappedComponentsCount:s.length}),l(!1),c({componentBrowserEntrypoint:"mcp_unmapped_components_banner",componentBrowserScope:"page"}),n.current=!1},[t,s.length,l,c]);return(0,a.useEffect)(()=>{if(!(0,d.kc)().dt_mcp_unmapped_components_banner)return;if(!o||0===s.length){e(D.F.dequeue({matchType:B})),n.current=!1;return}if(n.current)return;let i=crypto.randomUUID(),a=t=>{e(D.F.enqueue({type:B,message:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.description",{count:s.length}),button:{primary:{text:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.map_now"),action:()=>p(i)},secondary:{text:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.ignore"),action:()=>u(i)}},timeoutOverride:t,onDequeue:()=>{n.current=!1}}))};a(document.hasFocus()?2e4:1/0),n.current=!0,t("component_browser.mcp_unmapped_components_banner_shown",{unmappedComponentsCount:s.length,bannerId:i,windowIsFocused:document.hasFocus()});let r=()=>{n.current&&(e(D.F.dequeue({matchType:B})),a(2e4))};return window.addEventListener("focus",r),()=>{window.removeEventListener("focus",r)}},[o,s,e,u,p,t]),(0,i.jsx)(i.Fragment,{})}var H=n(549571),V=n(751464),G=n(962212),z=n(19877),K=n(598626),W=n(999083),Z=n(276800),q=n(420680),X=n(423128),Y=n(350019),J=n(511570),Q=n.n(J),$=n(983500),ee=n(641518),et=n(903282),en=n(772963),ei=n(236631),ea=n(951002),er=n(684742),es=n(550209),eo=n(332285),el=n(968169),ed=n(371952),ec=n(331497),eu=n(346260),ep=n(415567),em=n(728233),eh=n(180674),ef=n(77417),eg=n(13073),e_=n(487375),ex=n(993842);let ey=a.forwardRef(function({valueToCopy:e,isCopyable:t,children:n,valueTypeForTracking:r,variableTypeForTracking:s,recordingKey:o},l){let{isSelected:d}=(0,ex.e)(),c=(0,ep.Cj)(e),u=(0,eo.ON)(),p=a.useCallback(e=>{e.stopPropagation(),c&&c(),u("cell_copied",{type:r,variableType:s})},[c,u,r,s]);return(0,i.jsx)(er.E,{ref:l,className:Q()("variable_cell_content--copyButton--KwbAc ellipsis--ellipsis--Tjyfa",d&&"variable_cell_content--isOnSelected--UH9z4"),onClick:t?p:void 0,recordingKey:o,children:n})});function ev({variable:e,variableSetId:t,modeId:n,isCopyable:r,variableTypeForTracking:s}){let d=(0,ed._t)(t),c=a.useMemo(()=>n&&d?{[d]:n}:void 0,[n,d]),u=(0,ed.bL)(e.node_id,n,t),p=(0,ed.BQ)(e.node_id,c),m=u??p,h=!m||!p||"MIXED"===p||"MIXED"===m;if(a.useEffect(()=>{if(h){let e=m&&p?"Variables table cell has mixed value":"Variables table cell has no value";(0,es.$D)(o.e.DEVELOPER_TOOLS,Error(e))}},[h,m,p]),h)return null;switch(m.type){case l.Z_n.STRING:case l.Z_n.FLOAT:return(0,i.jsx)(eb,{value:m.value,isCopyable:r,recordingKey:`dev_handoff.variables_table.cell.copy-${e.name}-${n}`});case l.Z_n.BOOLEAN:return(0,i.jsx)(eb,{value:(0,eg.Oi)(m),isCopyable:r,variableTypeForTracking:s});case l.Z_n.COLOR:return(0,i.jsx)(eC,{value:m,isCopyable:r});case l.Z_n.ALIAS:return(0,i.jsx)(eE,{value:m,resolvedValue:p,isCopyable:r,variableTypeForTracking:s});case l.Z_n.SYMBOL_ID:case l.Z_n.NODE_FIELD_ALIAS:case l.Z_n.EXPRESSION:case l.Z_n.FONT_STYLE:case l.Z_n.TEXT_DATA:case l.Z_n.MAP:case l.Z_n.MANAGED_STRING_ALIAS:case l.Z_n.CMS_ALIAS:case l.Z_n.JS_RUNTIME_ALIAS:case l.Z_n.IMAGE:case l.Z_n.LINK:case l.Z_n.SLOT_CONTENT_ID:case l.Z_n.DATE:case l.Z_n.KEYFRAME_TRACK_ID:return null;default:(0,ea.xb)(m)}}function eb({value:e,isCopyable:t,variableTypeForTracking:n,recordingKey:a}){let r="number"==typeof e?(0,em.nd)(e,""):e;return(0,i.jsx)(ey,{valueToCopy:r,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:n,recordingKey:a,children:(0,i.jsx)("div",{className:ei.s.textBodyMedium.truncate.$,children:r})})}function eC({value:e,isCopyable:t,recordingKey:n}){let a=(0,el.Ku)(),r=(0,ef.Ig)(),s=(0,eh.q)(e.value,a,r,{alphaInPercent:!0}).value,o=(0,i.jsx)(eu.rh,{color:e.value,value:s,disableHover:!t,pillClassName:"variable_cell_content--rawColorPillContainer--uuD03"});return(0,i.jsx)("div",{className:ei.s.flex.alignCenter.gap8.h16.minW0.itemsCenter.$,children:(0,i.jsx)(ey,{valueToCopy:s,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:"COLOR",recordingKey:n,children:o})})}function eE({value:e,resolvedValue:t,isCopyable:n,variableTypeForTracking:r}){let s=(0,ed.u)(e.value),o=(0,ep.Cj)(s?.name),d=(0,eo.ON)(),c=a.useCallback(e=>{e.stopPropagation(),o&&o(),d("cell_copied",{type:"alias",variableType:r})},[o,d,r]);return t.resolvedType===l.rXF.COLOR?(0,i.jsx)(eu.np,{color:t.value,variable:s,label:s?.name??(0,m.t)("variables.missing_name"),onClick:s&&n?c:void 0,selected:n}):(0,i.jsx)("div",{className:Q()("variable_cell_content--aliasWrapper--mHIWi",e.resolvedType===l.rXF.COLOR&&"variable_cell_content--shiftLeft--x6CPr"),children:(0,i.jsx)(e_.wG,{thumbnailValue:t,text:s?.name??(0,m.t)("variables.missing_name"),variableValue:e.value,onClick:s&&n?c:void 0,disableHover:!n,ui3Height:!0})})}function ej({name:e,variableId:t,isCopyable:n,isSelected:r=!1,variableTypeForTracking:s}){let o=(0,ec.J2)((0,el.UK)().showGuids)&&t?`${e} (${t})`:e,l=(0,em.sD)(o);return a.useEffect(()=>{r&&l.current?.scrollIntoView({block:"nearest",behavior:"instant"})},[r,l]),(0,i.jsx)(ey,{ref:l,valueToCopy:e,isCopyable:n,variableTypeForTracking:s,recordingKey:`dev_handoff.variables_table.cell.copy-${e}`,children:o})}var ew=n(74528),eT=n(114720),ek=n(88314),eI=n(737121),eS=n(404343);let eN=(0,P.eU)({nameColumnWidth:void 0,valueColumnWidths:{}});function eA({modeID:e}){let[t,n]=(0,P.fp)(eN),r=a.useRef(null),s=a.useRef(0),[o,l]=(0,eI.i)({onBeforeDrag(){let n=e?t.valueColumnWidths[e]:t.nameColumnWidth,i=e?eS.Gyo:eS.Wsk;s.current=n??(0,$.jz)(i)},onDrag(t){let i=(0,ek.qE)(s.current+t.delta.x,50,500);n(t=>e?{...t,valueColumnWidths:{...t.valueColumnWidths,[e]:i}}:{...t,nameColumnWidth:i})}}),d=a.useCallback(()=>{n(t=>{if(e){let{[e]:n,...i}=t.valueColumnWidths;return{...t,valueColumnWidths:i}}return{...t,nameColumnWidth:void 0}})},[e,n]);return(0,i.jsx)("div",{ref:r,"data-dragging":o||void 0,onDoubleClick:d,...l({className:"variables_table_resizing--resizingHandle--il1Ui"})})}var eL=n(915013),eO=n(592726),eR=n(176203),eP=n(894210),eM=n(859802),eD=n(819222),eF=n(72832),eB=n(34378),eU=n(480355),eH=n(53400);let eV="variables_table--background--bcZc8",eG="variables_table--row--dhAQa",ez="variables_table--cell--3uNjl",eK="variables_table--rightBorder--WzCBo",eW="variables_table--cellContents--sgYHU ellipsis--ellipsis--Tjyfa",eZ="variables_table--ellipsis--PKOvw ellipsis--ellipsis--Tjyfa",eq=(0,$.jz)(eS.a_Q),eX=(0,$.jz)(eS.bTb);function eY({name:e}){let t=e.split("/"),n=t.slice(0,-1),a=t[t.length-1];return(0,i.jsxs)("div",{className:"variables_table--groupLabel--Mu-zB",children:[n.map((e,t)=>(0,i.jsx)(en.G,{className:"variables_table--groupLabelParent--yYqmc",text:e},`${e}-${t}`)),(0,i.jsx)(en.G,{className:"variables_table--groupLabelLast--zaKX-",text:a})]})}function eJ(){let e=(0,el.dP)(),t=(0,a.useRef)(null),[n,r]=a.useState(!1),{currentVariableSet:s,variablesTableColumns:l,variablesTableData:d,selectedVariable:c,selectedRowIndex:u,setSelectedVariable:h}=function(){let e=performance.now(),t=(0,eo.oy)(),n=(0,ew.A8)(),i=(0,ew.i_)(),r=(0,ed.yp)(),s=(0,ew.R6)(r),o=function(e,t){let n=(0,ew.vo)(e);return a.useMemo(()=>{if(!e)return[];let i=n.filter(e=>!t||t===ew.eb||e.name===t||e.name.startsWith(`${t}/`));return(0,W.Bq)(i.map((t,n)=>{let i=[],a=t.variables.map(n=>{let i=e.modes.map(e=>({variable:n,modeId:e.id})),a=n.name.split("/"),r=n.name.includes("/")?a[a.length-1]:n.name,s=n?.resolvedType!==void 0?(0,eg.Hr)(n.resolvedType):void 0;return{id:n.node_id,type:n.resolvedType,name:r,group:t.name,variableId:n.node_id,content:i,variableTypeForTracking:s}});return""!==t.name&&t.variables.length>0&&i.push({id:`group${n}`,isDividerRow:!0,content:t.name}),i.push(...a),i}))},[t,e,n])}(s,(0,P.md)(ew.bE)),l=a.useMemo(()=>o.findIndex(e=>e.variableId===n),[o,n]),d=a.useCallback(e=>{s&&i(e,s.node_id)},[i,s]),c=a.useMemo(()=>{let e=s?s.modes.map(e=>{let t=1===s.modes.length&&e.name===eB.nm?(0,m.t)("variables.create_modal.value_label"):e.name;return{id:e.id,label:t}}):[];return{currentVariableSet:s,variablesTableColumns:[{id:"name",label:(0,m.t)("dev_handoff.variables.table_column_name")},...e],variablesTableData:o,selectedRowIndex:l,selectedVariable:n,setSelectedVariable:d}},[s,o,l,n,d]);return t("table",performance.now()-e,{type:"data"}),c}(),f=a.useCallback(()=>{h(null)},[h]),g=(0,Y.Te)({count:d.length,getScrollElement:()=>t.current,estimateSize:e=>d[e]&&e0(d[e])?eX:eq,overscan:20,measureElement:e=>e.getBoundingClientRect().height+1});a.useEffect(()=>{!n&&u&&-1!==u&&(g.scrollToIndex(u,{align:"center"}),r(!0))},[n,u,g]);let _=function(){let e=(0,P.md)(eN);return e.nameColumnWidth?`${e.nameColumnWidth}px`:eS.Wsk}(),x=function(e){let t=(0,P.md)(eN),n=e?.length===1;if(!e)return"";if(n){let n=e[0],i=t.valueColumnWidths[n?.id||""]??eS.Gyo;return`minmax(${i}, auto)`}return e.map((n,i)=>{let a=t.valueColumnWidths[n.id],r=a?`${a}px`:eS.Gyo;return i===e.length-1?`${r} minmax(${eS.Gyo}, auto)`:r}).join(" ")}(s?.modes),y=(0,ed.u)(c||void 0),v=(0,P.md)(eT.$),b=a.useMemo(()=>({numColumns:l?.length,numRows:d?.length,variableType:y?.resolvedType!==void 0?(0,eg.Hr)(y.resolvedType):void 0,entrypoint:v}),[y?.resolvedType,l?.length,d?.length,v]);if(!(0,ew.zL)())return(0,i.jsx)("div",{className:eV,children:(0,i.jsx)("div",{className:"variables_table--loadingWrapper--WdL0z",style:{left:e},children:(0,i.jsx)(T.k,{size:"lg"})})});let C=!!s,E=0===d.length,j=s?.modes.length===1,w=`${_} ${x}`;return(0,i.jsx)(p.tH,{boundaryKey:"varTable",fallback:p.H4.DEFAULT_FULL_PAGE,team:o.e.DEVELOPER_TOOLS,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:!1,children:(0,i.jsx)(eo.gs,{name:"full_table",trackingProps:b,children:(0,i.jsx)("div",{className:eV,children:(0,i.jsxs)("div",{className:"variables_table--fullTableView--CVdEq",style:{left:e},children:[(0,i.jsx)(e$,{title:s?.name}),(0,i.jsx)("div",{className:"variables_table--tableWrapper---mT7S",children:C?E?(0,i.jsx)(eU.fQ,{title:(0,m.t)("variables.authoring_modal.no_variables_in_collection"),text:(0,m.t)("dev_handoff.variables.table_collection_empty")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"variables_table--scrollContainer--rlU7K",ref:t,children:(0,i.jsxs)(et.Zu,{gridColumnSizes:w,style:{height:g.getTotalSize()+(0,$.jz)(eS.wxr)},className:Q()("variables_table--stickyTopOverride--A1TnP","variables_table--stickyLeftOverride--mSdpV"),stickyTop:!0,stickyLeft:!0,"aria-label":(0,m.t)("dev_handoff.variables.table_aria-label"),"aria-describedby":"dev_mode_variables_table_title","aria-rowcount":d.length,children:[(0,i.jsxs)(et.$y,{className:eG,children:[l.map((e,t)=>{let n=0===t,a=t===l.length-1;return(0,i.jsxs)(et.Jy,{className:Q()(ez,{[eK]:t<l.length-1||!j,"variables_table--nameHeaderCell--TM9iU":n}),children:[(0,i.jsx)("div",{className:Q()(eZ,"variables_table--headerText--uHXN6"),children:e.label}),(!j||!a)&&(0,i.jsx)(eA,{modeID:n?void 0:e.id})]},e.id)}),(0,i.jsx)(et.Jy,{})]}),(0,i.jsx)("tr",{style:{height:g.getVirtualItems()[0]?.start??0,marginTop:-1}}),g.getVirtualItems().map(e=>{let t=d[e.index],n=e0(t),a=!n&&t.variableId===c;return(0,i.jsx)(ex.y,{isSelected:a,children:(0,i.jsx)(eQ,{isDivider:n,variableId:t.variableId??"",selectedVariableId:c,setSelectedVariable:h,variableTypeForTracking:t.variableTypeForTracking,children:n?(0,i.jsx)(et.Jy,{className:Q()(ez,"variables_table--groupDividerCell--DWXGW"),children:(0,i.jsx)("div",{className:Q()("variables_table--itemPlainText--5KrPr","variables_table--groupDivider--4bKFP",eZ),"data-testid":`dev_handoff.variables_table.header.${t.content}`,children:(0,i.jsx)(eY,{name:t.content})})}):(0,i.jsxs)(i.Fragment,{children:[!!t.name&&void 0!==t.type&&(0,i.jsxs)(et.Jy,{className:Q()(ez,"variables_table--nameCell--tM7zv",eK),children:[(0,i.jsx)(eF.i,{type:t.type}),(0,i.jsx)("div",{className:eW,children:(0,i.jsx)(ej,{name:t.name,variableId:t.variableId,isCopyable:a,isSelected:a,variableTypeForTracking:t.variableTypeForTracking})}),(0,i.jsx)(eA,{})]}),Array.isArray(t.content)&&t.content.map((e,n)=>{let r=n===t.content.length-1;return(0,i.jsxs)(et.Jy,{className:Q()(ez,!j&&eK),children:[(0,i.jsx)("div",{className:eW,children:(0,i.jsx)(ev,{variable:e.variable,variableSetId:s?.node_id,modeId:e.modeId,isCopyable:a,variableTypeForTracking:t.variableTypeForTracking})}),(!j||!r)&&(0,i.jsx)(eA,{modeID:e.modeId})]},`${e.variable.node_id}-${e.modeId}`)})]})})},t.id)})]})}),c&&(0,i.jsx)("div",{className:"variables_table--detailsSidePanelContainer--yLujF",children:(0,i.jsx)(eH.U,{selectedVariable:c,currentVariableSet:s?.node_id,onCloseDetailsSidePanel:f})})]}):(0,i.jsx)(eU.fQ,{title:(0,m.t)("variables.authoring_modal.no_variables_in_file"),text:(0,m.t)("dev_handoff.variables.table_empty")})})]})})})})}function eQ({isDivider:e,variableId:t,setSelectedVariable:n,selectedVariableId:r,variableTypeForTracking:s,children:o}){let l=(0,eo.ON)(),d=a.useCallback(e=>{e.stopPropagation(),r||l("variable_clicked",{variableType:s}),n(r===t?null:t)},[r,n,l,t,s]),c=ee.rf(`dev_handoff.variables_table.row-${t}`,"click",d),u=!e&&t===r;return(0,i.jsx)(et.$y,{className:Q()(eG,{"variables_table--divider--TKqZt":e,"variables_table--selected--rNRXH":u}),onMouseDown:c,children:o})}function e$({title:e}){let t=(0,eL.Ww)(),n=(0,r.d4)(e=>e.multiplayer),s=(0,b.q5)(),o=(0,eO.iZ)(),l=(0,C._6)(),d=(0,r.wA)(),c=(0,r.d4)(e=>"devModeVariablesTableBackFocusId"in e.selectedView?e.selectedView.devModeVariablesTableBackFocusId:void 0),u=(0,P.Xr)(eT.$),p=a.useCallback(()=>{u(null),d(y.sf({...l,view:"fullscreen",editorType:eR.nT.DevHandoff,showDevModeVariablesTable:!1,devModeFocusId:c}))},[d,l,u,c]);return(0,i.jsxs)("div",{className:"variables_table--header--412jw",children:[(0,i.jsxs)("div",{className:ei.s.flex.itemsCenter.$,children:[(0,i.jsx)(q.K,{"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-tooltip-type":eP.Ib.TEXT,"data-tooltip":(0,m.t)("general.close")},onClick:p,recordingKey:"dev_handoff.variables_table.close",children:(0,i.jsx)(X.A,{})}),(0,i.jsx)("div",{className:"variables_table--title--16SxT","data-testid":"dev_handoff.variables_table.title",id:"dev_mode_variables_table_title",children:e})]}),(0,i.jsxs)("div",{className:ei.s.flex.itemsCenter.gap4.$,children:[t&&(0,i.jsx)(eM.v7,{multiplayer:n,currentUser:t,onUserClick:Z.lQ,disableFollowing:!0}),s&&(0,i.jsx)(eD.w,{user:o,editingFile:s,isFileInWorkshop:!1,appendedClassname:"variables_table--shareButton--UM0c4"})]})]})}function e0(e){return!0===e.isDividerRow&&"string"==typeof e.content}var e1=n(132760),e2=n(929302),e3=n(475477),e5=n(307829),e4=n(700411),e6=n(816299),e7=n(623411),e9=n(149073),e8=n(66554),te=n(91274),tt=n(476816),tn=n(299986),ti=n(715934),ta=n(510704),tr=n(781767),ts=n(409650),to=n(790009),tl=n(441513),td=n(357524),tc=n(883765),tu=n(653899),tp=n(366815),tm=n(2713),th=n(225125),tf=n(115989),tg=n(697157),t_=n(557276),tx=n(72138),ty=n(652539),tv=n(271909),tb=n(565797),tC=n(21031),tE=n(554311),tj=n(118752),tw=n(890564),tT=n(222357),tk=n(772523),tI=n(141524),tS=n(268175),tN=n(985416),tA=n(835307),tL=n(469229),tO=n(81786),tR=n(85598),tP=n(383310),tM=n(569565),tD=n(821655),tF=n(369729),tB=n(417528),tU=n(443192),tH=n(174730),tV=n(148470);function tG(){let e=(0,r.wA)();return(0,tH.f)("dismissed_dev_mode_overview_banner")||(0,G.T)()?null:(0,i.jsx)(v.fu,{name:"Dev Mode Overview Banner",properties:{severity:tV.c.EVENT},children:(0,i.jsxs)(tD.Yy,{variant:"success",onDismiss:()=>{e(tU.b({dismissed_dev_mode_overview_banner:!0}))},children:[(0,i.jsx)(tF.Q,{title:(0,m.t)("dev_handoff.workflows.overview.banner.title"),children:(0,m.tx)("dev_handoff.workflows.overview.banner.subtitle")}),(0,i.jsx)(tB.N,{href:"https://help.figma.com/hc/articles/23918228264855",newTab:!0,children:(0,m.tx)("dev_handoff.workflows.overview.banner.learn_more")})]})})}var tz=n(293422);let tK=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.644 2.522a.5.5 0 0 1 .335.622l-3 10a.5.5 0 0 1-.957-.287l3-10a.5.5 0 0 1 .622-.335M4.147 5.147a.5.5 0 0 1 .707.707L2.708 8l2.146 2.147a.5.5 0 0 1-.707.707l-2.5-2.5a.5.5 0 0 1 0-.707zm7 0a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .707l-2.5 2.5a.5.5 0 0 1-.707-.707L13.293 8l-2.146-2.146a.5.5 0 0 1 0-.707"})})});var tW=n(987405),tZ=n(577357),tq=n(284467),tX=n(142914),tY=n(944350),tJ=n(59849),tQ=n(312387),t$=n(167262),t0=n(748033);let t1="overview--background--LdDDC",t2="overview--overviewBase--8lImP",t3="overview--withInsetEditorEnabled--ktYXp",t5="overview--focusViewLink--PFEvh",t4="overview--overviewRecentActivityRow--uTKSo",t6="overview--overviewRecentActivity--JwGnv",t7="overview--editInfo--PHbLh",t9="overview--timestamp--EH-pe",t8="overview--avatarIcon--c711v",ne="overview--editedIcon--MhN1N";function nt({showDescription:e,previewUrl:t,onClick:n}){return(0,i.jsxs)(e4._,{className:Q()(t6,t5),href:t,onClick:n,children:[(0,i.jsxs)("div",{className:t7,children:[(0,i.jsx)(tq.Qp,{className:"overview--avatarLoading--jMjJk",animationType:tq.JR.NO_SHIMMER}),(0,i.jsx)(tq.Qp,{className:"overview--editInfoRecentActivityLoading--w-QoB overview--editInfoRecentActivity---jsVr",animationType:tq.JR.NO_SHIMMER})]}),e&&(0,i.jsx)(tq.Qp,{className:"overview--editDescriptionLoading--hrI6B",animationType:tq.JR.NO_SHIMMER})]})}function nn({user:e,icon:t,editedString:n}){return(0,i.jsxs)("div",{className:t7,children:[(0,i.jsxs)("div",{className:"overview--avatarContainer--OD44p",children:[(0,i.jsx)(tX.H8,{user:e,size:24}),t]}),(0,i.jsx)("div",{className:"overview--editInfoRecentActivity---jsVr",children:(0,i.jsx)("span",{className:"overview--editInfoUser--P4GkS",children:n})})]})}function ni(e,t,n){if(!e||n)return null;switch(e.status){case l.zIx.BUILD:return(0,i.jsx)(tK,{className:Q()(t?ne:"overview--readyIcon--A94uc",t8)});case l.zIx.COMPLETED:return(0,i.jsx)(tW.l,{className:Q()(t?ne:"overview--completedIcon--9Nbjl",t8)})}return null}function na({nodeId:e,user:t,previewUrl:n,isFallbackForLegacyStatus:a,onClick:r}){let s=(0,tA.Fk)(t=>t.get(e)?.getStatusInfo(),e),o=(0,td.ei)(e),l=(0,tf.Ak)(o?.lastEditedAt),d=(0,b.q5)(),c=(0,H._I)();if(!t)return(0,i.jsx)(nt,{previewUrl:n,onClick:r});let u=s&&d&&(0,t0.y)(s,d);return(0,i.jsxs)("div",{className:t4,children:[(0,i.jsx)(e4._,{className:Q()(t6,t5),href:n,onClick:r,children:(0,i.jsx)(nn,{user:t,icon:ni(s,!0,a),editedString:(0,m.tx)("dev_handoff.workflows.edit_info.edited",{user:t.handle,dateFromNow:(0,i.jsx)("span",{className:t9,children:l})})})}),u&&c&&(0,i.jsx)(ns,{nodeId:e,isEdited:!0})]})}function nr({nodeId:e,user:t,description:n,previewUrl:a,isFallbackForLegacyStatus:r,onClick:s}){let o=(0,tA.Fk)(t=>t.get(e)?.getStatusInfo(),e),d=o?.lastUpdateUnixTimestamp?1e3*o.lastUpdateUnixTimestamp:null,c=(0,tf.Ak)(d),u=(0,b.q5)();if(!d)return(0,i.jsx)(na,{nodeId:e,user:t,previewUrl:a,isFallbackForLegacyStatus:r,onClick:s});if(!o||!t)return(0,i.jsx)(nt,{showDescription:!!n,previewUrl:a,onClick:s});let p=t$.TR(o.status,o.prevStatus)?.toLowerCase();if(!p)return(0,i.jsx)(na,{nodeId:e,user:t,previewUrl:a,isFallbackForLegacyStatus:r,onClick:s});let h=o.status===l.zIx.BUILD&&(o.status===o.prevStatus||!!o.description),f=u&&(0,t0.y)(o,u),g=h?(0,m.tx)("dev_handoff.workflows.edit_info.updated_design",{user:t.handle,dateFromNow:(0,i.jsx)("span",{className:t9,children:c})}):(0,m.tx)("dev_handoff.workflows.edit_info.marked",{user:t.handle,status:p,dateFromNow:(0,i.jsx)("span",{className:t9,children:c})});return(0,i.jsxs)("div",{className:t4,children:[(0,i.jsxs)(e4._,{className:Q()(t6,t5),href:a,onClick:s,children:[(0,i.jsx)(nn,{user:t,icon:ni(o,!1,r),editedString:g}),!!n&&(0,i.jsx)("div",{className:"overview--editDescription--rb1Qn",children:n})]}),h&&f&&(0,i.jsx)(ns,{nodeId:e,isEdited:!1})]})}function ns({nodeId:e,isEdited:t}){let n=(0,r.wA)(),a=b.q5()?.key,s=(0,M.U)(),l=async()=>{let i,r=null;if(a&&(s("Dev Mode Activity Compare Changes",{source:"compare_previous_overview"}),"loaded"===(r=await (0,tZ.Ek)(tJ.WND,{fileKey:a,nodeId:e})).file.status&&r.file.data)){let a=r.file.data.devModeActivity.filter(e=>e.activityType===tY.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime());if(i=t||1===a.length?a[0]:a[1],i?.version?.id){(0,tQ.L$)(i.version?.id,n,!0,e);return}}n(D.F.enqueue({message:(0,m.t)("dev_handoff.compare_changes.button.failed"),error:!0})),(0,es.$D)(o.e.DEVELOPER_TOOLS,Error("Open compare changes button failed"),{extra:{fileKey:a,activityInfoStatus:r?.file.status,activityInfoStatusError:r?.file.status==="error"?r?.file.error:void 0,activitiesLength:r?.file.status==="loaded"&&r.file.data?.devModeActivity.length,prevActivityId:i?.id,prevActivityVersionId:i?.version?.id}})};return(0,i.jsx)(tz.$n,{variant:"secondary",onClick:l,children:(0,m.tx)("inspect_panel.history.compare_changes")})}var no=n(691952),nl=n(851824),nd=n(773999);let nc=(0,tN.Wh)(()=>(0,P.eU)(""),{preserveValue:!1});var nu=n(698266);let np="performance.dev_mode.workflows.overview.time_to_first_thumbnail",nm=new nu.jk(np,{}),nh=(0,tN.rt)(void 0),nf=(0,tN.rt)(!1);var ng=n(130353),n_=n(674356),nx=n(236983),ny=n(759863);let nv=2*(0,$.jz)(eS.Evg),nb=nv/eS.RtY,nC=nv/8,nE=nb/8;function nj(e){let t=a.useMemo(()=>e.tabs.reduce((e,t)=>(e[t.key]=!0,e),{[ng.oz.ALL]:!1,[ng.oz.RECENTLY_VIEWED]:!1,[ng.oz.BUILD]:!1,[ng.oz.COMPLETED]:!1}),[e.tabs]),[n,r,s]=e1.t.useManagedTabs(t,e.selected,e.onTabSelected);return(0,i.jsx)(e1.t.TabStrip,{manager:s,children:e.tabs.map(t=>{let a=t.key===e.selected;return(0,i.jsxs)(e1.t.Tab,{...n[t.key],children:[t.label,void 0!==t.count&&(0,i.jsx)(no.s,{count:t.count,isInTab:!0,isActive:a})]},t.key)})})}let nw=(0,tN.Wh)(()=>(0,P.eU)(!1),{preserveValue:!1});function nT(){let e=(0,b.q5)(),t=(0,r.wA)(),n=(0,eO.iZ)(),s=(0,r.d4)(e=>e.multiplayer),o=a.useMemo(()=>s.allUsers.find(e=>e.sessionID===s.sessionID)||null,[s.allUsers,s.sessionID]),l=(0,eL.dR)(),d=(0,tm.B4)(),c=a.useCallback(e=>{(0,eM.Lx)(e,o?.sessionID,t,!1,s,l,d)},[o?.sessionID,t,s,l,d]);return(0,i.jsxs)("div",{className:"overview--toolbarRightItems--tjF72",children:[s&&e&&o&&(0,i.jsx)(eM.v7,{multiplayer:s,currentUser:o,onUserClick:c}),e&&(0,i.jsx)(eD.w,{user:n,editingFile:e,isFileInWorkshop:!1,appendedClassname:"overview--shareButton--5BlrF"})]})}let nk=(0,P.E2)("workflows_summary_tab",ng.oz.ALL,tl.z.nativeEnum(ng.oz)),nI=(0,tN.Wh)(()=>(0,P.eU)({}),{preserveValue:!0}),nS=(0,P.E2)("workflows_overview_sorted_by",ng._6.RECENT,tl.z.nativeEnum(ng._6));function nN(){let e=(0,r.d4)(e=>e.selectedView.overviewBackButtonTargetNodeId),t=(0,r.d4)(e=>e.mirror.appModel.pagesList[0]),n=function(){let e=(0,r.d4)(e=>e.mirror.appModel.pagesList),t=(0,ec.J2)(l.Ez5.currentSceneState().numReadyNodesByPage),n=(0,ec.J2)(l.Ez5.currentSceneState().numCompletedNodesByPage);return a.useMemo(()=>e.filter(e=>{let i=e.nodeId,a=t.has(i)?t.get(i)>0:l.glU.nodeStatusesOnPage(i).includes(l.zIx.BUILD),r=n.has(i)?n.get(i)>0:l.glU.nodeStatusesOnPage(i).includes(l.zIx.COMPLETED);return a||r}),[e,t,n])}()[0],s=e||n?.nodeId||t?.nodeId,o=(0,x.ZJ)(),d=(0,x.TP)(void 0,s),c=(0,r.d4)(e=>(0,tL.Np)(e,d)),u=(0,tP.n0)(),p=(0,tM.VS)({pagesList:u,isComparingChanges:!1});return s?(0,i.jsx)(tp.lt,{className:"overview--backLink--vAo8c",onClick:function(e){e.preventDefault(),s?p(s).then(()=>{o("overview_back_clicked")}):o("overview_back_clicked")},href:c,"data-testid":"dev_handoff.workflows.overview.back_button",recordingKey:"dev_handoff.workflows.overview.back_button","aria-label":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip-type":eP.Ib.TEXT,children:(0,i.jsx)(e9.C,{})}):null}function nA(){let{Sprig:e}=(0,th.A)(),t=(0,H._I)(),n=b.q5()?.key,s=(0,el.dP)(),c=(0,tR.HY)();(0,G.T)()&&(0,d.kc)().dt_vscode_ready_for_dev?s=0:c&&(s+=t_._);let u=(0,M.U)(),h=function(){let[e,t]=(0,P.fp)(nh);return a.useCallback(n=>{e||(t({source:n}),nm.start())},[e,t])}(),f=(0,C._6)(),g=(0,r.wA)();(0,tO.O)();let x=(0,ec.J2)(l.Ez5.currentSceneState().nodesWithStatusForFile),y=(0,a.useRef)(null),[v,E]=(0,P.fp)(tC.gk),[j,w]=(0,P.fp)(nS),k=a.useCallback(e=>{u("Dev Mode Overview Sort Changed",{sort:e}),w(e)},[w,u]),I=t?j:ng._6.PAGE,[N,A]=(0,P.fp)(nk),L=(0,tw.n9)(n),{setSearchString:O,searchString:R,searchFilter:D,searchActive:F}=function(){let[e,t]=(0,P.fp)(nc),n=(0,M.U)(),i=(0,a.useMemo)(()=>(function(e){let t=e?new nd.Ax(e.toLowerCase()):null;return{filter:e=>{let n=t?t.matchAgainst(e):null;return!n||!!n.find(e=>e.score>0)}}})(e),[e]),r=(0,a.useCallback)(e=>i.filter([e.nodeName,e.pageName,e.description]),[i]),s=(0,nl.A)(()=>{n("Dev Mode Overview Search",{})},1e3);return{setSearchString:(0,a.useCallback)(e=>{t(e),s()},[t,s]),searchString:e,searchFilter:r,searchActive:e.length>0}}(),B=a.useMemo(()=>x.filter(e=>e.status===l.zIx.BUILD&&D(e)),[x,D]),U=a.useMemo(()=>x.filter(e=>e.status===l.zIx.COMPLETED&&D(e)),[x,D]),V=a.useMemo(()=>{switch(N){case ng.oz.ALL:return x.filter(D);case ng.oz.RECENTLY_VIEWED:if(!L)return[];return Object.entries(L).reduce((e,[t,n])=>{let i=x.find(e=>e.nodeId===t&&D(e));return i&&e.push({...i,lastViewedTimestamp:n}),e},[]);case ng.oz.BUILD:return B;case ng.oz.COMPLETED:return U}},[x,N,L,D,B,U]),z=a.useMemo(()=>[{key:ng.oz.ALL,label:(0,m.t)("dev_handoff.workflows.overview.tab_all")},...(0,d.kc)().dt_workflows_recently_viewed?[{key:ng.oz.RECENTLY_VIEWED,label:(0,m.t)("dev_handoff.workflows.overview.tab_recent")}]:[],{key:ng.oz.BUILD,count:B.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_ready")},{key:ng.oz.COMPLETED,count:U.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_completed")}],[B.length,U.length]),K=a.useMemo(()=>{if(0===V.length)return[];if(N===ng.oz.RECENTLY_VIEWED)return[{key:"recent",sortedNodesWithStatusForFile:V.slice().sort(tw.YA)}];switch(I){case ng._6.PAGE:let e={};return V.slice().sort((e,t)=>e.visualOrder-t.visualOrder).forEach(t=>{e[t.pageId]||(e[t.pageId]={key:t.pageId,pageId:t.pageId,pageName:t.pageName,sortedNodesWithStatusForFile:[]}),e[t.pageId].sortedNodesWithStatusForFile.push(t)}),Object.values(e);case ng._6.RECENT:return[{key:"recent",sortedNodesWithStatusForFile:V.slice().sort((e,t)=>t.updatedAt-e.updatedAt)}];case ng._6.ALPHABETICAL:return[{key:"alphabetical",sortedNodesWithStatusForFile:V.slice().sort((e,t)=>e.nodeName.localeCompare(t.nodeName))}]}},[N,V,I]),[W,q]=(0,P.fp)(nI);a.useEffect(()=>{q(e=>{let t={...e};return K.forEach(({pageId:e})=>{e&&void 0===t[e]&&(t[e]=!0)}),t})},[q,K]);let X=a.useCallback(e=>{q(t=>{let n={...t};return n[e]=!n[e],n})},[q]),{numSections:Y,numFrames:J,numPages:$}=a.useMemo(()=>({numSections:x.filter(e=>e.isSection).length,numFrames:x.filter(e=>!e.isSection).length,numPages:new Set(x.map(e=>e.pageId)).size}),[x]),ee=(0,_.US)();!function({nodesWithStatusForFile:e,enabled:t}){let[n,i]=(0,P.fp)(nw),r=a.useRef(),s=(0,S.eY)();a.useEffect(()=>{if(!t)return;let a=0,o=0,l=performance.now();if(void 0===r.current&&(r.current=new Set),e.forEach(e=>{if(!r.current.has(e.nodeId)){a++;let t=performance.now();s.get(e.nodeId)?.flushAsyncUpdatersAndUpdateSymbolInstancesDescendedFrom();let n=performance.now()-t;n>o&&(o=n),r.current.add(e.nodeId)}}),!n){let e=performance.now()-l;(0,tc.sx)("performance.dev_mode.workflows.overview.materialize_nodes",{nodeCount:a,worstNodeMs:o,elapsedMs:e},{forwardToDatadog:!0}),i(!0)}},[e,r,s,n,i,t])}({enabled:ee,nodesWithStatusForFile:x});let[et,en]=a.useState(!1),ea=a.useCallback(()=>{en(!0),E(y.current?.scrollTop)},[E]),[er]=(0,P.fp)(ng._o);(0,tu.h)(()=>{let n=er||"init";u("Dev Mode Overview Shown",{type:t?"full":"lite",source:n},{forwardToDatadog:!0}),e("track","enter_ready_for_dev_view"),h(n),tk.wr()});let es=[...new Set(V.map(e=>e.userId).filter(e=>e))],eo=(0,tI.zy)(es);(0,ng.c7)(V,N,I),(0,ng.zz)(es,eo,V);let ed=a.useCallback(e=>{u("Dev Mode Overview Tab Clicked",{tab:e}),A(e)},[A,u]);a.useEffect(()=>{"fullscreen"===f.view&&f.commentThreadId&&(0,tj._$)(g,f,"overview_open_notification")},[g,f]);let eu=e2.hS({open:!0,onClose:Z.lQ});if(!ee||et)return(0,i.jsx)("div",{className:t1,children:(0,i.jsx)("div",{className:Q()(t2,"overview--overviewSpinner--zv-dq",t3),style:{left:s},children:(0,i.jsx)(T.k,{size:"lg"})})});let ep="";Y>0&&(ep+=(0,m.t)("dev_handoff.workflows.overview.sections_count",{count:Y})),J>0&&(Y>0&&(ep+=", "),ep+=(0,m.t)("dev_handoff.workflows.overview.frames_count",{count:J})),Y+J>0&&(ep+=" "+(0,m.t)("dev_handoff.workflows.overview.pages_count",{count:$}));let em=0===K.length,eh={left:s};return(0,G.T)()&&(0,d.kc)().dt_vscode_ready_for_dev&&(eh.margin="0px"),(0,i.jsxs)(e2.bL,{theme:{root:t1,contents:"overview--fullHeight--jSy-x"},manager:eu,children:[(0,i.jsx)(p.tH,{boundaryKey:"DevModeLeftPanel",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.DEVELOPER_TOOLS},children:(0,i.jsx)(tv.O,{})}),(0,i.jsxs)("div",{className:Q()(t2,t3),style:eh,children:[(0,d.kc)().dt_vscode_ready_for_dev&&(0,G.T)()?(0,i.jsx)(tb.f,{isOnReadyForDevPage:!0,children:t&&(0,i.jsx)(nO,{value:R,onChange:O})}):(0,i.jsxs)("div",{className:"overview--overviewHeader--BBr9p",children:[(0,i.jsx)(nN,{}),(0,i.jsxs)("div",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,i.jsx)("div",{className:"overview--overviewTitleIcon--NvF-4",children:(0,i.jsx)(e8.O,{})}),(0,i.jsx)("h1",{children:(0,m.tx)("dev_handoff.workflows.overview.title")})]}),(0,i.jsx)("div",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,i.jsx)("span",{children:ep})}),(0,i.jsx)(nH,{}),(0,i.jsx)("div",{className:"overview--overviewHeaderSpacer--oRKTg"}),t&&(0,i.jsx)(nO,{value:R,onChange:O}),(0,i.jsx)(nT,{})]}),(0,i.jsx)("div",{className:"overview--bannerWrapper--D8N5z",children:(0,i.jsx)(tG,{})}),(0,i.jsxs)("div",{className:"overview--scrollAndEmptyMessage--3hOyM",children:[em&&(0,i.jsx)("span",{className:"overview--emptyMessage--lyEC8",children:F?(0,m.tx)("dev_handoff.workflows.overview.empty_message_search"):(0,i.jsx)("div",{className:ei.s.preWrap.$,children:(0,m.tx)("dev_handoff.workflows.overview.no_designs",{status:function(e){switch(e){case ng.oz.BUILD:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready");case ng.oz.COMPLETED:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_completed");default:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready")}}(N),link:(0,i.jsx)("span",{className:"overview--learnMoreLink--Yrujk",children:(0,i.jsx)(e3.N,{href:"https://help.figma.com/hc/articles/23918228264855",trusted:!0,newTab:!0,children:(0,m.tx)("dev_handoff.workflows.overview.learn_more")})})})})}),(0,i.jsx)(tx.P,{className:"overview--overviewNodesScrollContainer--uc1ey",scrollContainerRef:y,initialScrollTop:v,children:(0,i.jsxs)("div",{className:"overview--overviewNodesScrollContainerContents--fTO-e",children:[t&&(0,i.jsxs)("div",{className:"overview--overviewTabsContainer--sjuS-",children:[(0,i.jsx)(nj,{tabs:z,selected:N,onTabSelected:ed}),N!==ng.oz.RECENTLY_VIEWED&&(0,i.jsx)(nU,{sortedBy:I,setSortedBy:k})]}),!em&&(0,i.jsx)("div",{className:"overview--overviewNodesContainer--P3anz",children:(0,i.jsx)("div",{className:"overview--overviewSections--2H4Qw",children:K.map(({key:e,pageId:t,pageName:n,sortedNodesWithStatusForFile:a})=>{let r=!t||W[e];return(0,i.jsx)(nR,{isExpanded:r,pageId:t,pageName:n,overviewNodes:a,users:eo,onExpandCollapseClicked:t?()=>X(t):void 0,onPreviewClick:ea},e)})})})]})})]})]})]})}function nL({pageName:e,isExpanded:t,onExpandCollapseClicked:n}){return(0,i.jsx)(er.E,{className:"overview--pageHeader--dubsT",onClick:n,"aria-label":t?(0,m.t)("dev_handoff.workflows.overview.collapse_page",{pageName:e}):(0,m.t)("dev_handoff.workflows.overview.expand_page",{pageName:e}),children:(0,i.jsxs)("div",{className:"overview--pageHeaderContent--Bq-Ol text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,i.jsx)(ty.B,{svg:t?nx.A:ny.A,className:"overview--caretIcon--gssmY"}),(0,i.jsx)(te.A,{className:"overview--pageIcon--w9-M7"}),(0,i.jsx)("span",{children:e})]})})}function nO({value:e,onChange:t}){return(0,i.jsx)(to.J,{brand:"dev-handoff",children:(0,i.jsxs)("div",{className:"overview--searchBar--NX8cb",children:[(0,i.jsx)(tt.h,{}),(0,i.jsx)(tg.L,{placeholder:(0,m.t)("dev_handoff.workflows.overview.search_placeholder"),value:e,onChange:e=>{t(e.target.value)},className:"overview--searchInput--3X9vp text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&(0,i.jsx)(q.K,{onClick:()=>t(""),"aria-label":(0,m.t)("dev_handoff.workflows.overview.clear_search"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.clear_search"),"data-tooltip-type":eP.Ib.TEXT},children:(0,i.jsx)(tn.L,{})})]})})}function nR({pageName:e,overviewNodes:t,users:n,isExpanded:a,onExpandCollapseClicked:r,onPreviewClick:s}){return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(nL,{pageName:e,isExpanded:a,onExpandCollapseClicked:r}),a&&(0,i.jsx)("div",{className:"overview--overviewNodesList--ipsOp",children:t.map(a=>(0,i.jsx)(nD,{overviewNode:a,onPreviewClick:s,renderPageName:!e,users:n,nodeCount:t.length},a.nodeId))})]})}function nP({overviewNode:e,onClick:t,renderPageName:n,showLastUpdated:s}){let{nodeId:o,isSection:d,updatedAt:c,pageName:u,nodeName:p,pageId:h}=e,f=(0,x.VW)(o,h),g=(0,r.d4)(e=>(0,tL.Np)(e,f)),_=(0,r.d4)(e=>(0,tL.xS)(e,f)),y=(0,ep.Cj)(_),v=(0,x.TQ)(),b=function(e,t){let n=(0,tA.Fk)(t=>t.get(e)?.getStatusInfo(),e),i=n?.lastUpdateUnixTimestamp?1e3*n.lastUpdateUnixTimestamp:null,a=(0,td.ei)(e),r=t?a?.lastEditedAt:i,s=(0,tf.Ak)(r);return r?s:null}(o,e.hasBeenEditedSinceLastStatusChange),C=a.useMemo(()=>e.hasBeenEditedSinceLastStatusChange?(0,m.tx)("dev_handoff.workflows.edit_info.changed"):e.status===l.zIx.COMPLETED?(0,m.tx)("dev_handoff.status.completed"):e.status===l.zIx.BUILD?e.description?(0,m.tx)("dev_handoff.workflows.edit_info.new version"):(0,m.tx)("dev_handoff.status.ready_for_dev"):(0,m.tx)("dev_handoff.workflows.edit_info.changed"),[e.description,e.hasBeenEditedSinceLastStatusChange,e.status]),{getTriggerProps:E,manager:j}=e5.b();return(0,i.jsxs)("div",{className:"overview--overviewNodeCardHeader--C-KTf",children:[(0,i.jsxs)(e4._,{className:Q()("overview--overviewNodeCardHeaderLeft--jYCXL",t5),onClick:t,href:g,recordingKey:ee.Pt("dev_handoff.workflows.overview.card",o),children:[(0,i.jsxs)("div",{className:"overview--headerTextWrapper--BdOAz",children:[n&&u&&(0,i.jsxs)("div",{className:"overview--pageNameAndChevron--5v8px",children:[(0,i.jsx)("span",{className:"overview--pageName--TURV8",children:u}),(0,i.jsx)("span",{className:"overview--breadCrumbSeparator--zcd8z",children:"/"})]}),(0,i.jsxs)("div",{className:"overview--nodeNameAndIcon--Tl3e-",children:[(0,i.jsx)("div",{children:d?(0,i.jsx)(ti.e,{}):(0,i.jsx)(ta.q,{})}),(0,i.jsx)("span",{className:"overview--nodeName--20NeF",children:p})]})]}),s&&c>1&&(0,i.jsx)("div",{className:"overview--updatedAtText--z05FL text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,m.tx)("dev_handoff.overview_mode.design_status",{fromNow:b,status:C})})]}),(0,i.jsxs)("div",{className:"overview--overviewNodeCardHeaderRight--wRNMN",children:[(0,i.jsxs)(e5.bL,{manager:j,children:[(0,i.jsx)(q.K,{...E(),"aria-label":(0,m.t)("dev_handoff.workflows.more_actions_tooltip"),children:(0,i.jsx)(tr.J,{})}),(0,i.jsxs)(e5.mc,{children:[(0,i.jsx)(e5.q7,{onClick:()=>v("Dev Mode Overview Card Go To Canvas Clicked",o,h),children:(0,m.tx)("dev_handoff.workflows.overview.show_on_page_action")}),(0,i.jsx)(e5.q7,{onClick:()=>y?.(),children:(0,m.tx)("dev_handoff.status.copy_focus_link")})]})]}),(0,i.jsx)(tE.p,{nodeId:o,isMinimal:!0,sourceForLogging:"overview"})]})]})}function nM({overviewNode:e,onClick:t,user:n}){let{description:a,nodeId:s,hasBeenEditedSinceLastStatusChange:o}=e,l=(0,x.VW)(e.nodeId),d=(0,r.d4)(e=>(0,tL.Np)(e,l));return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"overview--overviewAvatarRowMediaQueryHeader--nigbr",children:(0,i.jsx)("div",{className:"overview--overviewRecentActivityHeader--sPkSZ",children:(0,i.jsx)("h2",{children:o?(0,i.jsx)(na,{nodeId:s,user:n,previewUrl:d,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}):(0,i.jsx)(nr,{nodeId:s,user:n,description:a,previewUrl:d,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t})})})})})}function nD({overviewNode:e,onPreviewClick:t,renderPageName:n,users:a,nodeCount:s}){let o=(0,r.wA)(),l=(0,M.U)(),{nodeId:d,pageId:c,pageName:u,updatedAt:p,nodeName:h}=e,f=(0,x.VW)(d),g=(0,r.d4)(e=>(0,tL.Np)(e,f)),[_]=(0,P.fp)(nS),v=_===ng._6.RECENT&&p>1,[,b]=(0,P.fp)(ng.wz),C=a.usersById?.[e.userId],E=v&&(a.loading||C);function j(e){e.preventDefault(),l("Dev Mode Overview Card Clicked",{nodeId:d}),b("overview"),t(),o(y.sf(f))}let w=n&&u?`${u} / ${h}`:h,T=(0,m.t)("dev_handoff.workflows.overview.preview_alt_text",{imageDescription:w});return(0,i.jsxs)("article",{className:"overview--overviewNodeCard--NsmYU",children:[E&&(0,i.jsx)(nM,{overviewNode:e,onClick:j,user:C}),(0,i.jsxs)("div",{className:"overview--previewContainer--5NeGg",children:[(0,i.jsx)(nP,{overviewNode:e,onClick:j,renderPageName:n,showLastUpdated:!E}),(0,i.jsx)(nF,{nodeId:d,pageId:c,updatedAt:p,previewUrl:g,onClick:j,nodeCount:s,altText:T})]})]})}function nF({nodeId:e,pageId:t,updatedAt:n,previewUrl:r,onClick:s,nodeCount:o,altText:d}){let c=(0,tA.Fk)((e,t,n)=>(0,tj.S7)(e,t,n)||"var(--color-bg)",e,t),u=(0,tA.Fk)(t=>t.get(e)?.size),p=1+(5-5*Math.pow(Math.min(1,Math.max(0,Math.max(u?1-(nC-u.x)/nC:1,u?1-(nE-u.y)/nE:1))),.5)),h=u?{width:u.x*p,height:u.y*p}:{width:nv,height:nb},f=Math.min(1,Math.min(nv/h.width,nb/h.height)),g={width:Math.round(h.width*f),height:Math.round(h.height*f)},_=a.useRef(null),x=(0,tS.x)(_,"100%"),y=(0,tT.yh)({nodeId:e,width:g.width,height:g.height,shouldSkip:!x,version:n,reason:"workflows.overview.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:l.w3z.canBeBlendedSection(e)}),v=function(){let[e,t]=(0,P.fp)(nf),[n]=(0,P.fp)(nh),i=(0,M.U)();return a.useCallback(a=>{if(!e&&n){t(!0);let e=nm.stop();i(np,{nodeCount:a,source:n.source,elapsedMs:e},{forwardToDatadog:!0})}},[e,t,n,i])}();return a.useEffect(()=>{y&&v(o)},[y,v,o]),(0,i.jsxs)(e4._,{ref:_,className:Q()("overview--previewThumbnail--zofC5",t5),style:{background:c},onClick:s,href:r,children:[y&&(0,i.jsx)("img",{src:y.src,style:{maxWidth:y.displaySize.x,maxHeight:y.displaySize.y},alt:d,"aria-label":d}),(0,i.jsx)(to.J,{mode:"dark",children:(0,i.jsx)("div",{className:"overview--previewExpandIcon--nqhxn","data-tooltip":(0,m.t)("dev_handoff.workflows.overview.card_hover_expand_tooltip"),"data-tooltip-type":"text",children:(0,i.jsx)(ts.O,{})})})]})}let nB=new class{format(e){switch(e){case ng._6.PAGE:return(0,m.t)("dev_handoff.workflows.overview.sort_pages");case ng._6.RECENT:return(0,m.t)("dev_handoff.workflows.overview.sort_recent");case ng._6.ALPHABETICAL:return(0,m.t)("dev_handoff.workflows.overview.sort_alphabetical")}}};function nU({sortedBy:e,setSortedBy:t}){return(0,i.jsxs)(e6.bL,{value:e,onChange:t,children:[(0,i.jsx)(e6.l9,{label:(0,i.jsx)(e7.h,{children:(0,m.t)("dev_handoff.workflows.overview.sort_by")})}),(0,i.jsx)(e6.mc,{children:(0,i.jsx)(e6.YJ,{title:(0,i.jsx)(e6.hE,{children:(0,m.t)("dev_handoff.workflows.overview.sort_by")}),children:Object.values(ng._6).map(e=>(0,i.jsx)(e6.c$,{value:e,children:nB.format(e)},e))})})]})}function nH(){return(0,i.jsx)(to.J,{brand:"dev-handoff",children:(0,i.jsxs)(e4._,{href:"https://form.asana.com/?k=dyYqSpHdZqetESFQzNb8hQ&d=10497086658021",className:"overview--betaFeedbackBadge--PUv9s text--fontPos11--2LvXf text--_fontBase--QdLsd",newTab:!0,children:[(0,m.tx)("dev_handoff.workflows.overview.feedback"),(0,i.jsx)(ty.B,{className:"overview--badgeIcon--rKOUQ",svg:n_.A})]})})}var nV=n(458175),nG=n(608989),nz=n(819851),nK=n(470747),nW=n(249586),nZ=n(764973),nq=n(354114),nX=n(261970),nY=n(413102),nJ=n(704452),nQ=n(537307),n$=n(521255),n0=n(764425),n1=n(565854),n2=n(490499),n3=n(809483),n5=n(989745),n4=n(132672),n6=n(118409),n7=n(688658),n9=n(861622),n8=n(277018),ie=n(995639),it=n(7688),ii=n(892073),ia=n(236707),ir=n(980852),is=n(674524),io=n(755444),il=n(795161),id=n(361170),ic=n(315361),iu=n(329368),ip=n(337059),im=n(568590),ih=n(692042),ig=n(506192),i_=n(5072),ix=n(205088),iy=n(405223),iv=n(643330),ib=n(708560),iC=n(347105),iE=n(770158);let ij="hit-target-resize";function iw(e){let t=ip.hY[e.devicePresetIdentifier].inlinePreviewInfo?.hitTargetSvgUrl,[n,r]=a.useState(null);(0,a.useEffect)(()=>{fetch(t).then(e=>e.text()).then(e=>r(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[t]);let s=a.useMemo(()=>n?(0,ty.V)(n):null,[n]);return null!==s?(0,i.jsx)(iT,{...e,hitTargetSvg:s}):(0,i.jsx)(iC.K,{...e})}function iT({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:n,isResizing:r,setIsResizing:s,onResizeEnd:o,setResizeDirections:l,devicePresetIdentifier:d,isDeviceRotatedCCW:c,hitTargetSvg:u,hidden:p,recordingKey:m}){let h=a.useCallback(()=>{let e=t(),n=(16/((c?e.bottom-e.top:e.right-e.left)/ip.hY[d].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${ij}]`).forEach(e=>e.setAttribute("stroke-width",`${n}`))},[d,c,t]);(0,a.useEffect)(()=>{h()},[h]);let f=a.useCallback(()=>{h(),o?.()},[o,h]),{startResizing:g}=(0,iC.Q)({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:s,setResizeDirections:l,onResizeEnd:f,lockAspectRatio:n,hidden:p,recordingKey:m}),_=a.useRef(null),x=a.useRef(null),y=a.useMemo(()=>(0,ip.qt)(d)===ip.bq.WATCH,[d]),v=a.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;return y?iI({x:n,y:i},t):ik({x:n,y:i},t)},[y]),b=ee.rf(m,"mousedown",a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),g(v(e),{x:e.clientX,y:e.clientY})},[v,g]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),C=ee.rf(ee.Pt(m,"deviceFrameResizeTarget"),"mousemove",a.useCallback(e=>{if(r)return ee.aH;e.stopPropagation(),e.preventDefault();let t=v(e),n=e.currentTarget;x.current&&n.classList.remove(x.current);let i=(0,ib.as)(t);i&&n.classList.add(i),x.current=i},[v,r]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),E=a.useCallback(e=>{e.onmousemove=C,e.onmousedown=b},[b,C]);return((0,a.useEffect)(()=>{document.querySelectorAll(`[id^=${ij}]`).forEach(e=>E(e))},[d,E]),p)?null:c?(()=>{let e=ip.hY[d].imageSize,t=e.x/e.y;return(0,i.jsx)("div",{children:(0,i.jsx)(ty.B,{svg:u,svgClassName:Q()(iE.Q0,iE._d,iE.iZ),svgWidth:`${100*t}%`,ref:_,useOriginalSrcFills_DEPRECATED:!0})})})():(0,i.jsx)("div",{children:(0,i.jsx)(ty.B,{svg:u,svgClassName:iE.iZ,ref:_,useOriginalSrcFills_DEPRECATED:!0})})}let ik=(e,t)=>{let{x:n,y:i}=e,a=.1*Math.min(t.width,t.height),r=[];return i<a?r.push(ib.OP.TOP):i>t.height-a&&r.push(ib.OP.BOTTOM),n<a?r.push(ib.OP.LEFT):n>t.width-a&&r.push(ib.OP.RIGHT),r},iI=(e,t)=>{let{x:n,y:i}=e,a=.1*t.width;if(i<a)return[ib.OP.TOP];if(i>t.height-a)return[ib.OP.BOTTOM];if(n<a)return[ib.OP.LEFT];if(n>t.width-a)return[ib.OP.RIGHT];let r=[];return i<t.height/2?r.push(ib.OP.TOP):r.push(ib.OP.BOTTOM),n<t.width/2?r.push(ib.OP.LEFT):r.push(ib.OP.RIGHT),r};var iS=n(776975),iN=n(403160),iA=n(574433),iL=n(382827),iO=n(873016),iR=n(643945),iP=n(152783),iM=n(987836);let iD={x:600,y:600},iF="inlinePreviewModal",iB=()=>{let e=(0,d.kc)().make_iframe_in_figma_design_inline_preview,t=(0,ic.uQ)(),n=(0,iA.vD)(t),i=(0,iS.rh)(n),r="CODE_INSTANCE"===(0,ep.rb)()&&e,[s,o]=a.useState(!1),[l,c]=a.useState(!1);return a.useEffect(()=>{r&&!s&&o(!0),r||l||c(!0)},[r,s,l]),{codeSelectionToRender:r?i:null,passesMakeFF:e,shouldShowMakeIframe:r,shouldMountMakeCodeInstanceIframeComponent:s,shouldMountDesignLayersNodeIframeComponent:l}},iU=()=>{let e=(0,ih.MG)({subscribeToUpdates_expensive:!0}),t=(0,ih.TZ)({subscribeToUpdates_expensive:!0});return(0,a.useMemo)(()=>new id.Mi(e+n6.wR,t+n6.wR),[e,t])},iH=a.memo(function({pageId:e,viewerControl:t}){let[{previewKeyForErrorBoundary:n},a]=(0,P.fp)(t.stateAtom);return(0,i.jsx)(p.tH,{boundaryKey:"InlinePreviewModal",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,tc.sx)("inline_preview_crashed",{},{forwardToDatadog:!0}),a({type:"HANDLE_PREVIEW_CRASHED"}),(0,il.Lg)()||(0,il.nl)()||(0,io.b5)())throw Error("Inline preview crashed")},children:(0,i.jsx)(iV,{pageId:e,viewerControl:t})},n)}),iV=a.memo(function({pageId:e,viewerControl:t}){let n=a.useRef(null),s=(0,b.tS)(),o=(0,a.useRef)(!1),d=a.useRef(null),[{currentPresentedNode:c,navigateBackwardEnabled:p,navigateForwardEnabled:m,modalStatus:h,sizeInfo:f,showDeviceFrameEnabled:g,scalingInfo:_},x]=(0,P.fp)(t.stateAtom),y=(0,r.wA)(),v=(0,S.eY)(),C=(0,a.useMemo)(()=>h===iP.bi.OPEN,[h]),E=f?.initialViewerSize??iD,j=(0,u.ZC)(E),w=iU(),[T,k]=a.useState(w),[I,N]=a.useState(E.x),[A,L]=a.useState(E.y+ib.uF),O=ir.UN().getCurrentPage()?.prototypeDevice||null,R=O?.presetIdentifier,M=!!R&&(0,ip.L_)(R),D=C&&M&&g,{showing:F}=(0,ig.BK)(t.overflowDropdownType),B=(0,im.Z)(),U=(0,ec.ut)(l.Ez5?.singleSlideView().isInFocusedNodeView,!1),[H,V]=a.useState(!1),G=a.useCallback(()=>{V(!0),nq.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[V]),z=(0,iL.sO)(),K=H||F?iM.cD:iM.Xt,W=a.useCallback(e=>{y((0,ix.Zh)({name:"prototype.close_inline_viewer",params:{source:e}})),x({type:"CLOSE_INLINE_PREVIEW"})},[y,x]),Z=a.useCallback(()=>((0,ea.vA)(!!A),(0,ea.vA)(!!I),{x:I,y:A-ib.uF}),[A,I]),q=a.useCallback(e=>{N(e.x),L(e.y+ib.uF)},[N,L]),X=a.useCallback(()=>{let e=Z();if(!D)return e;(0,ea.B1)(R,"devicePresetIdentifier must be set");let t=O.rotation,{framePresetSize:n,idealDeviceSize:i}=(0,iO.is)(R,t);return(0,iO.BX)(e,n,i)},[R,Z,D,O?.rotation]);a.useEffect(()=>{o.current||k(w)},[w]),a.useEffect(()=>{x({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:X})},[x,X]);let Y=a.useMemo(()=>f?.breakpoint?.type!==n6.l5.DEVICE,[f]),J=a.useCallback(e=>{if(!Y)return;let t=X();(0,ea.vA)(!!c,"currentPresentedNode must be set");let n=v.get(c);(0,ea.vA)(!!n,"expected selectedNode to exist");let i=(0,n6.HS)(v,n),a=(0,n6.hX)(t,n,i,v);(0,ea.vA)(a.breakpoint.type!==n6.l5.DEVICE,"fit to aspect ratio not allowed for device"),q(a.initialViewerSize),y((0,ix.Zh)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[Y,X,c,v,q,y]),ee=()=>{if(!c)return!1;let e=!1;if(D){let{idealDeviceSize:t}=(0,iO.is)(R,O.rotation);e=t.x>=n6.Fe&&t.y>=n6.Sq}else{let t=v.get(c);if(!t)return!1;let n=(0,n6.HS)(v,t),i=(0,n6.nw)(n,t);e=i.x>=n6.Fe&&i.y>=n6.Sq}return e},et=a.useCallback(e=>{x({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[x]),en=a.useCallback(()=>{x({type:"RESIZE_MODAL",payload:{sceneGraph:v}})},[x,v]),ei=a.useCallback(e=>{if(e){let t=(0,ih.QZ)({nodeId:e,alwaysPan:!0,maxScale:.6});z?h===iP.bi.OPEN&&(B(t),U&&l.Ez5?.singleSlideView().focusNodeInFocusedNodeView(e,!0)):B(t)}},[B,z,U,h]);a.useEffect(()=>{x({type:"SET_SCROLL_CALLBACK",payload:ei})},[x,ei]);let er=a.useCallback(e=>{q({x:e.x,y:e.y+(0,$.jz)(eS.m8f)})},[q]),es=a.useMemo(()=>{if(D&&ip.hY[R]?.inlinePreviewInfo?.hitTargetSvgUrl)return function(e){let t=O.rotation===l.xOL.CCW_90;return(0,i.jsx)(iw,{...e,mirrorResizeHorizontally:!1,devicePresetIdentifier:R,isDeviceRotatedCCW:t})}},[D,R,O?.rotation]),eo=a.useCallback(e=>{(0,ea.vA)(f?.breakpoint.type===n6.l5.DEVICE,"device must be set to toggle device frame"),(0,ea.vA)(!!O,"prototypeDevice must be set to toggle device frame");let t=X();if(e){let e=O.presetIdentifier,{idealDeviceSize:n,framePresetSize:i}=(0,iO.is)(e,O.rotation);er((0,iO.Ho)(t,i,n))}else q(t)},[f?.breakpoint.type,O,X,q,er]);(0,ea.vA)(!C||null!==f,"sizeInfo should always be set when open"),a.useLayoutEffect(()=>{if(j!==E){if(D){let{idealDeviceSize:e,framePresetSize:t}=(0,iO.is)(R,O.rotation);er((0,iO.Ho)(E,t,e))}else q(E)}},[E,j,R,D,O,er,q]),a.useEffect(()=>{R&&(0,ip.L_)(R)&&(0,ip.Gn)(R)},[R]);let el=a.useCallback(()=>{let e=Z(),{width:t,height:n}=nq.Y5.getViewportInfo(),i=e.x/t,a=e.y/n;y((0,ix.Zh)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:D,horizontalCoverage:i,verticalCoverage:a}}))},[y,Z,D]),ed=(0,a.useMemo)(()=>{let e={height:"100%"};return D?e:{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}},[D]),{codeSelectionToRender:eu,passesMakeFF:ep,shouldShowMakeIframe:em,shouldMountMakeCodeInstanceIframeComponent:eh,shouldMountDesignLayersNodeIframeComponent:ef}=iB(),eg=t.ViewerComponent;if(h===iP.bi.NOT_LOADED)return null;let e_=Q()(z?iM.CN:iM.aq,D?null:K),ex=Q()(D?[K,iE.k9]:null,{[iM.FO]:z}),{x:ey,y:ev}=(0,n6.ut)((0,ir.UN)(),!0),eb=!C||!f?.initialViewerSize;return(0,i.jsxs)(iv.od,{ResizeTargetComponent:es,allowPartialHeaderOnScreen:!0,allowResizeHeight:H&&!z,allowResizeWidth:H&&!z,alwaysEnsureHeaderModalOnScreen:!0,containerClassName:e_,containerFillsPage:z,containerRef:d,customButton:(0,i.jsx)(iG,{allowActualSizeReset:ee(),allowSizeReset:Y,closeInlinePreview:W,iframeRef:n,isDeviceSupportedForPreview:M,isPreviewFittedToAspectRatio:()=>{if(!c||!Y)return!1;let e=v.get(c);if(!e)return!1;let t=X(),n=(0,n6.HS)(v,e),i=(0,n6.hX)(t,e,n,v),a=t.x/t.y,r=i.initialViewerSize.x/i.initialViewerSize.y;return(0,i_.o)(a,r)},isPreviewResponsive:"responsive"===_.contentScalingMode,isPreviewShownAtActualSize:()=>{if(!c||!n.current)return!1;let e=v.get(c);if(!e||!f?.breakpoint)return!1;let t=D?(0,iO.is)(R,O.rotation).framePresetSize:(0,n6.nw)(f.breakpoint,e),i=X();return(0,i_.o)(t.x,i.x,1e-4)&&(0,i_.o)(t.y,i.y,1e-4)},isPrototypeDeviceSet:!!O&&O.type!==l.XQq.NONE,onToggleShowDeviceFrame:eo,openFileKey:s||void 0,resizeToActualSize:()=>{if(!ee())return;(0,ea.vA)(!!c),(0,ea.vA)(!!f);let e=v.get(c);(0,ea.vA)(!!e),y((0,ix.Zh)({name:"prototype.resize_to_actual_size"}));let t=D?(0,iO.is)(R,O.rotation).idealDeviceSize:(0,n6.nw)(f.breakpoint,e),n=(e,t)=>{q(e),k(new id.Mi(t.x,t.y))},i=Z();(0,n6.UB)(t,y,()=>n(i,T)),q(t)},resizeToFitAspectRatio:()=>J("overflow_menu"),scrollToNode:ei,setPreviewIsResponsive:et,showFullscreenButton:z,showOverflow:!z,viewerControl:t,width:I}),disableDragging:z,dragHeaderOnly:!0,frameStyle:ed,headerClassName:ex,height:A,hidden:eb,ignoreCloseShortcut:!C,lockAspectRatio:f?.breakpoint?.type===n6.l5.DEVICE,makeContentPixelPerfect:!0,minHeight:ev,minWidth:ey,onClose:()=>{W("modal")},onDragStart:()=>o.current=!0,onEdgeDoubleClick:()=>J("double_click"),onFocus:e=>{(!d.current||e.target===d.current||e.target===n.current)&&(t.onFocus()||G())},onResize:en,onResizeEnd:el,position:T,preventKeyboardFocus:!0,recordingKey:iF,setHeight:L,setPosition:k,setWidth:N,tabIndex:0,title:(0,i.jsx)(iz,{navigateBackwardEnabled:p,navigateForwardEnabled:m,width:I,onBack:t.onBack,onForward:t.onForward,onRestart:t.onRestart}),transparentContentBackground:D,width:I,children:[ep&&eh&&(0,i.jsx)(iR.H,{initialViewerSize:E,isDeviceFrameShown:D,shouldHide:!em,children:(0,i.jsx)(iN.m,{chatNodeId:null,codeSelectionToRender:eu,isVisible:!0,sandbox:null,showToolbar:!1})},"make-code-instance-iframe"),ef&&(0,i.jsx)(iR.H,{initialViewerSize:E,isDeviceFrameShown:D,shouldHide:em,children:(0,i.jsx)(eg,{closeInlinePreview:W,iframeFocused:H,isOpen:C,onIframeFocus:G,openFileKey:s||void 0,pageId:e,ref:n,setIframeFocused:V},e)},"design-layers-node-iframe")]})});function iG({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:n,isDeviceSupportedForPreview:s,openFileKey:o,resizeToFitAspectRatio:d,scrollToNode:c,showOverflow:u,showFullscreenButton:p,iframeRef:h,resizeToActualSize:f,isPreviewShownAtActualSize:g,setPreviewIsResponsive:_,isPreviewResponsive:x,closeInlinePreview:y,onToggleShowDeviceFrame:v,width:b,isPreviewFittedToAspectRatio:C,viewerControl:E}){let j=(0,r.wA)(),w=a.useRef(null),[{currentPresentedNode:T,targetFrameFollowingEnabled:k,showDeviceFrameEnabled:I},S]=(0,P.fp)(E.stateAtom),{showing:N,toggle:A}=(0,ig.BK)(E.overflowDropdownType),L=a.useCallback(()=>{if(!o)throw Error("Expected openFileKey to exist");if(!T)throw Error("openPrototypeInNewTab called without currentPresentedNode");j(iu.F({fileKey:o,nodeId:T,startingPointNodeId:l.X3B?.getActivePrototypeStartingPointNodeIdOnCurrentPage()??"",source:"inline_viewer",scalingInfo:x?n?{contentScalingMode:"responsive",viewportScalingMode:"scale-down"}:{contentScalingMode:"responsive",viewportScalingMode:"contain"}:void 0})),y("open_in_new_tab")},[o,T,j,x,n,y]),O=a.useCallback(()=>{let e=!k;j((0,ix.Zh)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),S({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),c(T)},[j,S,k,c,T]),R=a.useCallback(()=>{let e=!I;j((0,ix.Zh)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),S({type:"TOGGLE_SHOW_DEVICE_FRAME"}),v(e)},[j,I,v,S]),M=a.useCallback(()=>{let a={displayText:(0,m.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{_(!0)},isChecked:x,icon:(0,i.jsx)(n7.V,{}),unsetStrokeOnActiveOption:!0},r={displayText:s?(0,m.t)("inline_preview.overflow_menu.fixed"):(0,m.t)("inline_preview.overflow_menu.fit_width"),name:s?"fixed":"fit-width",isChecked:!x,recordingKey:"fixedButton",icon:s?(0,i.jsx)(n9.O,{}):(0,i.jsx)(n8.v,{}),callback:()=>{_(!1)},unsetStrokeOnActiveOption:!0},o={displayText:(0,m.t)("inline_preview.overflow_menu.follow_prototype"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:O,isChecked:k},l={displayText:s?(0,m.t)("inline_preview.overflow_menu.resize_device_100_percent"):(0,m.t)("inline_preview.overflow_menu.resize_window_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:f,disabled:!t,isChecked:g(),"data-onboarding-key":"resize-to-actual-size"},c={displayText:(0,m.t)("inline_preview.overflow_menu.reset_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:d,isChecked:C(),disabled:!e,hidden:n},u={displayText:(0,m.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:R,isChecked:I&&s,disabled:!s,hidden:!n};return[s?a:r,s?r:a,{separator:!0,displayText:""},o,l,c,u,{displayText:(0,m.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:L,hidden:b>n6.kl}]},[x,s,O,k,f,t,g,d,C,e,n,R,I,L,b,_]),D=a.useCallback(()=>{h.current&&h.current.requestFullscreen()},[h]);return(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)("div",{ref:w,children:(0,i.jsx)(q.K,{"aria-label":(0,m.t)("inline_preview.overflow_menu"),htmlAttributes:{"data-tooltip-type":eP.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.overflow_menu")},actionOnPointerDown:!0,onClick:e=>{e.stopPropagation(),A({})},recordingKey:(0,is.Pt)(iF,"overflowMenuButton"),children:(0,i.jsx)(ie.A,{})})}),b>n6.kl&&(0,i.jsx)(q.K,{htmlAttributes:{"data-tooltip-type":eP.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.new_tab"),"data-testid":"preview-open-in-presentation-view"},"aria-label":(0,m.t)("inline_preview.new_tab"),onClick:L,recordingKey:(0,is.Pt)(iF,"openInNewTabButton"),children:(0,i.jsx)(it.V,{})}),p&&(0,i.jsx)(q.K,{onClick:D,htmlAttributes:{"data-tooltip-type":eP.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.open_fullscreen")},"aria-label":(0,m.t)("inline_preview.open_fullscreen"),children:(0,i.jsx)(ts.O,{})}),N&&w.current&&(0,i.jsx)(iy.j,{dispatch:j,items:M(),lean:"center",onDismissMenu:E.onDismissOverflow,onDropdownHidden:E.onDismissOverflow,onFocus:e=>{e.stopPropagation()},onSelectItem:e=>{e.callback&&e.callback()},parentRect:w.current.getBoundingClientRect(),recordingKey:(0,is.Pt)(iF,"overflowMenu"),showPoint:!0})]})}function iz({navigateForwardEnabled:e,navigateBackwardEnabled:t,onRestart:n,width:a,onBack:s,onForward:o}){let l=(0,r.wA)();return(0,i.jsxs)("div",{className:iM.KW,children:[a<=n6.Ah?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.K,{htmlAttributes:{"data-testid":"preview-navigate-backward"},"aria-label":(0,m.t)("viewer.footer.previous_frame"),onClick:s,disabled:!t,recordingKey:(0,is.Pt)(iF,"navigateBackwardButton"),children:(0,i.jsx)(e9.C,{})}),(0,i.jsx)(q.K,{"aria-label":(0,m.t)("viewer.footer.next_frame"),onClick:o,disabled:!e,recordingKey:(0,is.Pt)(iF,"navigateForwardButton"),htmlAttributes:{"data-testid":"preview-navigate-forward"},children:(0,i.jsx)(ii.e,{})})]}),a<=n6.kl?null:(0,i.jsx)(q.K,{"aria-label":(0,m.t)("inline_preview.restart"),htmlAttributes:{"data-tooltip-type":eP.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.restart"),"data-testid":"preview-restart-prototype"},onClick:()=>{l((0,ix.Zh)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),n()},recordingKey:(0,is.Pt)(iF,"restartButton"),children:(0,i.jsx)(ia.H,{})})]})}var iK=n(211452);function iW(){let e=(0,r.d4)(e=>e.selectedView),t=(0,b.tS)(),n=(0,r.d4)(e=>e.progressBarState.mode),i=(0,r.d4)(e=>(0,nW.pi)({editorType:nZ.d1(e)?.editor_type})),o=n!==l.Oin.HIDE_UI&&n!==l.Oin.ON_AND_LOCKED,p=(0,b.q5)(),h=(0,iL.jY)(),f=(0,n$.BI)(),g=(0,ec.ut)(l.Ez5?.interopToolMode(),l.nQ7.SELF);(0,a.useEffect)(()=>(document.body.setAttribute("data-editor-theme",(0,n3.ju)(e,g)),()=>{document.body.removeAttribute("data-editor-theme")}),[e,g]),(0,nK.Ou)(),(0,nK.fq)(),(0,nV._)(),(0,nG.c)(),(0,a.useEffect)(()=>{o&&t&&h&&nq.Y5.onReady().then(()=>{d.kc()?.fullscreen_send_client_rendered_message?l.h3O?.sendClientRendered(nJ.xK.getClientRenderedMetadata()):l.h3O?.sendSignal("client-rendered",""),window.requestAnimationFrame(()=>{c.eD?.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),nJ.xK.reactFullscreenViewIsRendered(),nJ.xK.report(t,i),d.kc()?.fullscreen_use_threaded_rendering||function(){let e=(0,nY.dX)("fullscreen");if(!e||l.PcT?.usingWebGPU())return;let t=(0,nX.ap)()?e.getContext("webgl2"):e.getContext("webgl");if(!t||!window.expectedWebGLContextAttributes)return;let n=t.getContextAttributes();if(!n)return;let i=l.CeL?.getGpuDeviceInfo()??{vendor:"",renderer:"",version:""},a={};for(let e of Object.keys(n))a[`actual_${e}`]=n[e];let r={},s=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))n[e]!==window.expectedWebGLContextAttributes[e]&&(s=!1),r[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let o={...a,...r,...i,are_context_attributes_correct:s};(0,tc.sx)("fullscreen_load_gpu_parameters",o)}()})})},[o,t,i,h]);let _=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);(0,a.useEffect)(()=>{f?.handleCompleteInitialLoad&&_&&f.handleCompleteInitialLoad()},[f,_]);let[x,y]=(0,a.useState)(!1),v=(0,r.d4)(e=>e.mirror.appModel.isReadOnly);(0,a.useEffect)(()=>{f?.updateReadOnly&&_&&!x&&(y(!0),f.updateReadOnly(v))},[f,_,x,y,v]);let C=(0,u.ZC)(p),E=(0,r.d4)(e=>e.mirror.appModel.pagesList),j=(0,a.useMemo)(()=>E.map(e=>({id:e.nodeId,name:e.name,divider:e.isDivider})),[E]),w=(0,u.ZC)(j),T=(0,r.d4)(e=>e.mirror.appModel.currentPage),k=(0,u.ZC)(T);(0,a.useEffect)(()=>{f?.updatePages&&p&&(!C||p.key!==C.key||p.name!==C.name||p.editorType!==C.editorType||p.isTryFile!==C.isTryFile||!(0,s.c2)(j,w)||T!==k)&&f.updatePages({fileKey:p.key,fileName:p.name,editorType:p.editorType,isTryFile:p.isTryFile,pages:j.length>0?j:[{id:T,name:(0,m.t)("fullscreen.pages_panel.pages_placeholder"),divider:!1}],currentPageId:T})},[f,p,C,j,w,T,k]);let I=(0,n0.WC)();(0,a.useEffect)(()=>{f?.updateWebOverlaysShown&&f.updateWebOverlaysShown(I)},[f,I]);let S=(0,n2.o3)(n2.nt.customKeyboardShortcuts);(0,a.useEffect)(()=>{(0,d.kc)().ce_custom_keyboard_shortcuts&&l.glU?.reloadKeyboardShortcuts()},[S]);let N=(0,r.d4)(e=>e.multiplayer.allUsers),A=(0,r.d4)(e=>e.multiplayer.observingSessionID),L=(0,r.d4)(e=>e.multiplayer.presenterSessionID),O=(0,r.d4)(e=>e.multiplayer.deviceNameFilter),R=(0,r.d4)(e=>e.multiplayer.sessionID),P=(0,a.useMemo)(()=>{let{users:e}=(0,n1.Yp)(N,null,!1,1048576,{sessionID:R,observingSessionID:A,presenterSessionID:L,deviceNameFilter:O});return{sessionID:R,observingSessionID:-1!==A?A:null,presenterSessionID:-1!==L&&L||null,users:e}},[N,O,A,L,R]),M=(0,u.ZC)(P);return(0,a.useEffect)(()=>{f?.updateMultiplayerUserInfo&&!(0,s.c2)(M,P)&&f.updateMultiplayerUserInfo(P)},[f,P,M]),(0,n5.iA)(),!function(e,t){let n=(0,H.U4)(),i=(0,H._I)(),r=(0,H.xo)(),s=(0,V.D)(),o=(0,z.U)("permission",!0),d=e&&!i&&!n&&!(0,G.T)();(0,a.useEffect)(()=>{t||(l.w3z.setCanAccessDevMode(i),l.w3z.setCanEnterDevMode(n),l.w3z.setShowWorkflowsControls(s),l.w3z.setIsUsingDevModeDemoFile(r))},[i,n,s,t,r]),(0,a.useEffect)(()=>{d&&o("design")},[o,d])}((0,nz.m0)(),(0,nz.ow)()),(0,n4.J2)(),null}function iZ({children:e}){let t=(0,r.d4)(n6.xY),n=(0,r.d4)(e=>e.mirror.appModel.currentPage),a=(0,_.l7)(),s=(0,K.e)(),l=(0,nz.Em)(),d=(0,nz.m0)(),c=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return(0,i.jsxs)(i.Fragment,{children:[e??null,(0,i.jsx)(iW,{}),t&&(0,i.jsx)(iH,{viewerControl:iK.e,pageId:n}),a&&(0,i.jsx)(p.tH,{boundaryKey:"DevModeOverview",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:nQ.y4,children:(0,i.jsx)(nA,{})}),(0,i.jsx)(p.tH,{boundaryKey:"ComponentBrowser",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:nQ.y4,children:(0,i.jsx)(R,{})}),s&&c&&(0,i.jsx)(p.tH,{boundaryKey:"DevModeVariablesTable",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:nQ.y4,children:(0,i.jsx)(eJ,{})}),(0,i.jsx)(p.tH,{boundaryKey:"McpUnmappedComponentsBanner",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:nQ.y4,children:(l||d)&&(0,i.jsx)(U,{})})]})}},200503:(e,t,n)=>{n.d(t,{n:()=>a});var i=n(266808);let a=(0,n(795033).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return i.glU?.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},513833:(e,t,n)=>{n.d(t,{G:()=>O,b:()=>L});var i=n(104076),a=n(716976),r=n(903927),s=n(929302),o=n(266808),l=n(264993),d=n(812714),c=n(795033),u=n(511570),p=n.n(u),m=n(419278),h=n(265149),f=n(192075),g=n(683875),_=n(223837),x=n(692042),y=n(331497),v=n(894210),b=n(959834),C=n(200503),E=n(385984),j=n(160521),w=n(426984),T=n(965815),k=n(480057);function I(){let e=(0,c.Xr)(C.n),t=a.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return(0,d.kc)().figjam_a11y_inline_toolbar?(0,i.jsx)(w.V,{variant:"button",tooltip:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),ariaLabel:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl",children:(0,i.jsx)(j.p,{})}):(0,i.jsx)(T.K0,{svg:k.A,active:"NONE",tooltip:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var S=n(112339);function N(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let i=t.get(Object.keys(n)[0]);return i&&"WIDGET"===i.type?i:null}function A(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let L=a.memo(function(){let e=(0,r.d4)(A),t=e?.guid,[n,s]=a.useState(null),d=a.useMemo(()=>t&&t!==l.AD?o.glU.getEmbedTypeOfTooltipIcon(t):null,[t]);a.useEffect(()=>{if(!d||!t){s(null);return}let e=(0,_.EE)("embed-tooltip",[t],e=>{s(e?.position||null)});return s(e.currentNodePosition&&e.currentNodePosition[t]?.position||null),()=>{(0,_.lB)("embed-tooltip")}},[t,d]);let c=!!d&&!!n,u=(0,x._X)({subscribeToUpdates_expensive:c}),p=a.useMemo(()=>{if(!n)return{};let e=(0,x.Yb)(u,n),t=e.x+u.x,i=e.y+u.y;return{height:n.height,width:n.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${i}px) rotate(${n.angle}deg) scale(${u.zoomScale})`}},[u,n]);return c?(0,i.jsx)("div",{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":"video"===d||"autoplayable_video"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===d||"autoplayable_audio"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===d||"figma"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.file"):(0,f.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:p}):null}),O=a.memo(function(){let e=(0,y.J2)(o.Ez5.embedUiState().activeEmbedData),t=(0,r.d4)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),n=(0,r.d4)(N),a=(0,c.md)(C.n),s=!!e&&n?.guid===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,d.kc)().figjam_embeds_allowlist&&!(0,m.Cy)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):(0,i.jsx)(R,{isEmbedMaximized:a,nodeSelected:s,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),R=a.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:n,srcUrl:r,isEmbedMaximized:l}=e,d=a.useRef(null),u=a.useRef(null),p=a.useRef(null),m=a.useRef(null),f=(0,x._X)({subscribeToUpdates_expensive:!0}),g=function(e,t){let[n,i]=a.useState(!1),[r,s]=a.useState(!1);return a.useEffect(()=>{!e&&r&&s(!1)},[e,r]),a.useEffect(()=>{function e(e){if(t.current){let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&i(!0)}}function a(e){if(t.current&&n){i(!1);let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&s(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",a),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",a)}},[n,t]),r||!n&&e}(n,u),y=(0,c.Xr)(C.n),v=s.hS({open:l,onClose:()=>y({type:"MINIMIZE"})}),b=(0,h.Wx)(p.current);return a.useEffect(()=>{let e=(0,_.EE)("active-embed",[t],e=>{if(!e.position){o.glU.setActiveEmbed("");return}m.current=e.position,D(u,f,m,b,l,g)}),n=e.currentNodePosition[t]?.position;return n?(m.current=n,D(u,f,m,b,l,g)):o.glU.setActiveEmbed(""),()=>{(0,_.lB)("active-embed")}},[t,l,g,f,b]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:u,children:(0,i.jsx)(M,{ref:d,srcUrl:r,autofocus:g},t+r)}),l&&(0,i.jsx)(P,{manager:v,modalTargetRef:p})]})});function P(e){let{manager:t,modalTargetRef:n}=e;return(0,i.jsxs)(s.bL,{manager:t,theme:{backdrop:"embed_overlay--embedModalBackdrop--GznWd",contents:"embed_overlay--embedModal--NmRO5",root:"embed_overlay--embedModalRoot--YSySR"},children:[(0,i.jsx)("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH",children:(0,i.jsx)("div",{className:"embed_overlay--embedModalMenuContainer--03E8r",children:(0,i.jsxs)(T.W1,{testID:"embedMenu",children:[(0,i.jsx)(S.e,{inModal:!0}),(0,i.jsx)(I,{}),(0,i.jsx)(T.wv,{}),(0,i.jsx)(E.S,{inModal:!0})]})})}),(0,i.jsx)("div",{className:"embed_overlay--embedModalContentContainer--jP-31",children:(0,i.jsx)("div",{ref:n,className:"embed_overlay--embedModalTarget--hxGi-"})})]})}let M=a.forwardRef(function(e,t){let n=(0,r.wA)(),[s,l]=a.useState(!1),d=a.useRef(null),{srcUrl:c,autofocus:u}=e;return(0,i.jsxs)("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE",children:[!s&&(0,i.jsx)("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),(0,i.jsx)("iframe",{ref:t||d,allowFullScreen:!0,className:p()("embed_overlay--iframe--FcmB0",{"embed_overlay--iframeHidden--xwbj9":!s}),"data-embed-iframe":!0,frameBorder:"0",onLoad:()=>{let e=t&&t.current||d.current;e&&u&&e.focus(),l(!0)},onMouseOver:()=>{o.h3O?.sendChatMessage("",""),n(g.Ho())},src:c,title:(0,f.t)("whiteboard.embeds.embed_overlay_iframe_title")},c)]})});function D(e,t,n,i,a,r){if(!e.current||!t||!n.current)return;let s=e.current,o=n.current;if(a){if(!i)return;s.style.position="fixed",s.style.height=`${i.height}px`,s.style.width=`${i.width}px`,s.style.pointerEvents="all",s.style.transform="unset",s.style.transformOrigin="unset"}else{let e=(0,x.Yb)(t,o);s.style.position="fixed",s.style.height=`${o.height}px`,s.style.width=`${o.width}px`,s.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,s.style.transformOrigin="top left",r?s.style.pointerEvents="all":s.style.pointerEvents="none"}}(0,b.Ju)(R,"EmbedMaximizedModal")},896784:(e,t,n)=>{n.d(t,{c:()=>t4});var i=n(104076);n(50953);var a=n(716976),r=n(903927),s=n(126852),o=n(12866),l=n(359166),d=n(341628),c=n(508334),u=n(812714),p=n(221586),m=n(681398);let h=new Set(["-","="]),f=new Set(["-","=","f","o","p","r","s"]);function g(e){if(!f.has(e.key))return;let t=m.Ay.mac?p.xH.META:p.xH.CONTROL;(0,p.vN)(e,t)?e.target instanceof Element&&e.target.matches(".cm-content")||e.preventDefault():h.has(e.key)&&(t|=p.xH.SHIFT,(0,p.vN)(e,t)&&e.preventDefault())}var _=n(437540),x=n(997477),y=n(836982),v=n(1188),b=n(549571),C=n(486879),E=n(850701),j=n(475034),w=n(251864),T=n(111297),k=n(481173),I=n(851824),S=n(883765),N=n(819851),A=n(249586),L=n(58399),O=n(657687),R=n(497588),P=n(239223);n(501781);var M=n(203144),D=n(99723),F=n(633065),B=n(956442),U=n(866786),H=n(4033),V=n(164131),G=n(8828);let z=(0,D.s)((e,t)=>{F.eD.updateFullscreenMenuState({pluginMenuData:e,widgetMenuData:t})},250);var K=n(537307),W=n(444878),Z=n(211862),q=n(288747),X=n(592726),Y=n(985416),J=n(266808),Q=n(416245),$=n(192075),ee=n(58212),et=n(717466),en=n(443192),ei=n(354114),ea=n(491246),er=n(39769);let es="keyboard-layout-preference",eo=(e,t,n)=>{t&&e(et.FU({tab:t})),n||ei.Y5.triggerAction("toggle-keyboard-shortcuts")},el=(e,t,n,i)=>{e(en.b({keyboard_manual_supported_bell:!0})),e(ee.F.enqueue({message:(0,$.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_available",{newKeyboardName:(0,Q.As)(t)}),button:{text:(0,$.t)("keyboard_settings.update_keyboard_shortcuts"),action:()=>eo(e,"layout",i)},type:es,onDismiss:()=>{e(en.b({keyboard_manual_supported_bell:!0}))},timeoutOverride:2e4})),(0,Q.CZ)({layout:n,detectedLayout:t,eventName:"manual_supported_keyboard_detected"})},ed=(e,t,n)=>{e(en.b({keyboard_generic_supported_first_bell:!0})),e(ee.F.enqueue({message:(0,$.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_now_available",{newKeyboardName:(0,Q.As)(t)}),button:{text:(0,$.t)("keyboard_settings.enable_and_show_new_shortcuts"),action:()=>{eo(e,"layout",n),(0,Q.rd)({layout:t})}},type:es,onDismiss:()=>{}})),(0,Q.CZ)({layout:J.aTn.UNKNOWN,detectedLayout:t,eventName:"first_generic_detected_supported_keyboard"})};async function ec(e,t){if(!F.eD)return null;let n=await F.eD.getKeyboardLayout();if(!n)return null;if(t===n)return n;let i=(0,er.pB)(n),a=(0,Q.v7)();return i===a||e(i,a,n,null!=t),n}async function eu(e,t){if(!window.isSecureContext||window.top!==window.self)return null;let n=navigator.keyboard;if(!n||!n.getLayoutMap)return null;let i=await n.getLayoutMap();if(function(e,t){for(let[n,i]of e)if(t?.get(n)!==i)return!1;return!0}(i,t))return t;let{layoutJSON:a,detectedLayoutsWeb:r}=(0,ea.$$)(i),s=(0,ea.ZN)({layoutJSON:a,detectedLayouts:r,desktopLayout:null}),o=(0,Q.v7)();return s===o||e(s,o,JSON.stringify(a),null!=t),i}var ep=n(764973),em=n(220411),eh=n(530299),ef=n(685490),eg=n(374794),e_=n(10019),ex=n(9781),ey=n(297852),ev=n(710211),eb=n(525972),eC=n(342816),eE=n(806054),ej=n(114937),ew=n(176203),eT=n(963740),ek=n(563554),eI=n(950597),eS=n(795033),eN=n(972920),eA=n.n(eN),eL=(e=>(e.NOT_INITIALIZED="not_initialized",e.ACTIVE_FIRST_TIME="active_first_time",e.ACTIVE_AFTER_IDLE="active_after_idle",e.IDLE_DUE_TO_INACTIVITY="idle_due_to_inactivity",e.IDLE_DUE_TO_TAB_SWITCH="idle_due_to_tab_switch",e))(eL||{}),eO=n(140948);let eR=(0,eS.eU)(eL.NOT_INITIALIZED),eP=(0,eO.bt)(e=>({state:e,fileKey:e.openFile?.key})),eM=[eL.ACTIVE_AFTER_IDLE,eL.ACTIVE_FIRST_TIME],eD=(0,eS.eU)(null,(e,t,n)=>{let{state:i,fileKey:a}=e(eP),r=e(eR);if((r&&eM.includes(r)?"start":"end")!=(n&&eM.includes(n)?"start":"end")){let e="";switch(n){case eL.ACTIVE_AFTER_IDLE:case eL.ACTIVE_FIRST_TIME:e="active";break;case eL.IDLE_DUE_TO_INACTIVITY:case eL.IDLE_DUE_TO_TAB_SWITCH:e="inactive";break;default:e="non-initialized"}(0,A.ds)("active_time_spent_event",a,i,{currentState:e,activeState:n},{forwardToDatadog:!0,batchRequest:!1})}t(eR,n)}),eF=["mousemove","mousedown","keydown","touchstart","touchmove","wheel"];var eB=n(449572),eU=n(59849),eH=n(469229),eV=n(912565),eG=n(907915),ez=n(293422),eK=n(511570),eW=n.n(eK),eZ=n(243886),eq=n(236631),eX=n(280110),eY=n(219199),eJ=n(208882),eQ=n(350819),e$=n(239210),e0=n(918999),e1=n(403224),e2=n(990240);function e3(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.auth);return(0,a.useEffect)(()=>{t(eJ.Ts({origin:"request_permissions_entry",redirectUrl:eY.Ay.location.pathname,formState:eQ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},[t,e.accountPickerData]),(0,i.jsxs)(e0.u,{useOriginalSrcFills:!0,onBackClick:()=>{n.formState===eQ.qB.ACCOUNT_PICKER?e.closeAuth():t(eJ.Ts({origin:"request_permissions_entry",redirectUrl:eY.Ay.location.pathname,formState:eQ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},children:[(0,i.jsx)("div",{className:"request_permissions_app--authViewContainer--1XJOG",children:(0,i.jsx)(e$.Ob,{id:"request-permissions-app",modal:!0,auth:n})}),(0,i.jsx)(e2.d,{children:(0,i.jsx)(e1.Ji,{})})]})}function e5(e){let t=((0,r.d4)(e=>e.authedUsers)??{}).byId??{},n=e.authedUsers??Object.values(t),[s,o]=(0,a.useState)(!1);return(0,i.jsx)(eZ.w,{children:s?(0,i.jsx)(e3,{accountPickerData:{authed_users:n,authed_user_access_reason:{},destination_name:(0,$.t)("mfa_required_modal.account_switcher.destination")},closeAuth:()=>{o(!1)}}):(0,i.jsx)(eX.H,{org:e.org,switchAccountsSection:(0,i.jsx)(function(){let e=(0,X.iZ)();return!e||F.eD?null:(0,i.jsx)("div",{className:eW()(eq.s.mt24.$,"mfa_required--secondaryText--eCIsl"),children:(0,$.tx)("mfa_required_modal.account_switcher.text",{userEmail:e.email,link:(0,i.jsx)(ez.$n,{variant:"link",onClick:()=>{o(!0)},children:(0,$.tx)("mfa_required_modal.account_switcher.switch_accounts")})})})},{}),fileKey:e.fileKey})})}var e4=n(788846),e6=n(328341),e7=n(472436),e9=n(366535),e8=n(152469),te=n(244399),tt=n(847282),tn=n(226377),ti=n(342430),ta=n(956359),tr=n(420680),ts=n(889093),to=n(423128),tl=n(201019);function td(e){let{onDismiss:t}=e;return(0,i.jsx)(T.fu,{name:"Workshop Expired File Banner",children:(0,i.jsxs)("div",{className:`workshop_expiry_footer--banner--ELf7G ${tl.yl}`,children:[(0,i.jsxs)("div",{className:"workshop_expiry_footer--bannerContent--w2Lw1",children:[(0,i.jsx)("div",{className:"workshop_expiry_footer--icon--mM-A8",children:(0,i.jsx)(ts.C,{})}),(0,i.jsx)("div",{className:"workshop_expiry_footer--textContent--TN7cv",children:(0,i.jsx)("span",{className:"workshop_expiry_footer--title--cmlOu text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",children:(0,$.tx)("whiteboard.open_sessions.expiry_banner_title")})})]}),(0,i.jsx)(tr.K,{onClick:t,"aria-label":(0,$.t)("general.close"),children:(0,i.jsx)(to.A,{})})]})})}var tc=n(785182),tu=n(561378);function tp(e){let{onWorkshopExpired:t}=e;!function(){let e=(0,r.wA)(),t=(0,X.iZ)(),n=!t,i=(0,te.nF)(),s=i.enabled,o=i.enabled?i.id:null,d=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===J.kul.JOINED),c=(0,r.d4)(e=>e.progressBarState.mode),u=Z.q5()?.isTryFile,p=(0,tt.QL)("name");(0,a.useEffect)(()=>{n&&u&&o&&p&&d&&e((0,e8.cq)({name:p}))},[n,u,p,o,e,d]);let m=(0,a.useMemo)(()=>{if(!t||null==o)return!1;if(u)return!0;let e=(0,l.DN)();try{return e.get((0,tu.v6)(o)).includes(t.email)}catch(e){return!1}},[t,o,u]),h=t?.email;(0,a.useEffect)(()=>{h&&o&&u&&(0,tu.kO)(o,h)},[h,o,u]);let f=(0,Z.MY)();(0,a.useEffect)(()=>{if(s&&!(0,tn.T)(c)&&"loaded"===f.status){let t=localStorage.getItem((0,ti.K)(o));n?t?(0,e8.QA)(t):e(e9.$O({type:tc.e})):f.data?.canEdit||m||e(e9.$O({type:tc.e}))}},[e,n,s,o,c,m,f]);let g=(0,Z.q5)(),_=g?.key,x=g?.name;(0,a.useEffect)(()=>{if(s&&!(0,tn.T)(c)&&n&&u&&_&&x===(0,$.t)("fullscreen.fullscreen_view_selector.untitled")){let t=localStorage.getItem((0,ti.K)(o));t&&e(e7.S({userName:t,file_key:_}))}},[s,c,o,n,u,_,x,e])}();let{showEditFileFooter:n,dismissEditFileFooter:s}=function(e){let[t,n]=(0,a.useState)(!1),i=(0,r.wA)(),s=(0,X.iZ)(),o=(0,Z.q5)(),l=o?.name,d=!s,{userCanEditFile:c}=(0,a.useMemo)(()=>d?{userCanEditFile:!1,userCanSeeEditButton:!1}:o?{userCanEditFile:o.canEdit}:{userCanEditFile:!1,userCanSeeEditButton:!1},[d,o]),u=(0,te.nF)(),p=u.enabled,m=(0,e6.ZC)(p),h=u.enabled?u.until.valueOf():null,f=(0,a.useRef)(null),g=(0,a.useCallback)(()=>{if(!d){J.h3O?.reconnect(!1),c||n(!0);return}i(eJ.Ts({origin:"logged_out_footer",formState:eQ.qB.SIGN_UP,redirectUrl:eY.Ay.location.pathname})),i(e9.to({type:ta.x,data:{headerText:(0,$.t)("whiteboard.open_sessions.expiry_modal_title",{file_name:l||""}),subtitle:(0,$.t)("whiteboard.open_sessions.expiry_modal_subtext"),disableHiding:!0}})),e()},[i,e,d,c,l]);return(0,a.useEffect)(()=>{if(p&&h){let e=Math.max(h-Date.now(),0);f.current=setTimeout(()=>{f.current=null,g()},e)}return()=>{f.current&&clearTimeout(f.current)}},[i,p,h,g]),(0,a.useEffect)(()=>{null!=m&&p!==m&&(p?J.h3O?.reconnect(!1):(f.current&&clearTimeout(f.current),g()))},[i,p,m,g]),{showEditFileFooter:t,dismissEditFileFooter:(0,a.useCallback)(()=>{n(!1)},[])}}(t);return n?(0,i.jsx)(td,{onDismiss:s}):null}var tm=n(136896),th=n(590268),tf=n(741050),tg=n(390036),t_=n(345477),tx=n(678375),ty=n(74620),tv=n(521255),tb=n(564941),tC=n(980852),tE=n(91834),tj=n(166887),tw=n(562951),tT=n(643077),tk=n(428827),tI=n(830237),tS=n(211261),tN=n(880820),tA=n(733742),tL=n(505968),tO=n(368933),tR=n(605712),tP=n(315115),tM=n(382827),tD=n(20226),tF=n(338052),tB=n(9255),tU=n(443208),tH=n(394549),tV=n(921540),tG=n(217897),tz=n(880233),tK=n(285626),tW=n(724179),tZ=n(956592),tq=n(997463),tX=n(40312),tY=n(790628),tJ=n(842909),tQ=n(854284),t$=n(495766),t0=n(446071);let t1=a.memo(({children:e})=>{let t=(0,r.d4)(e=>e.openFile),n=t?t.key:"",s=t?.parentOrgId||"",o=(0,a.useRef)(null),l=(0,r.wA)(),d=(0,eS.md)(tW.h),c=(0,r.d4)(e=>e.openFile?.canEdit??!1),p=(0,ty.p8)("isReadOnly"),h=(0,q.dq)(),f=(0,N.E3)(),g=(0,e6.ZC)(f);f!==g&&g&&l(E.PQ([])),(0,tJ.G_)(n,s),(0,tH.OQ)(n),(0,tQ.y1)(n),(0,tY.WR)(),tK.nz(),(0,tZ.N)(),(0,t$.Ky)(),(0,a.useEffect)(()=>{let e=()=>{window.scrollTo({left:document.body.scrollLeft,top:document.body.scrollTop,behavior:"smooth"})};window.scrollTo(0,0),m.XN&&document.addEventListener("focusout",e),document.documentElement.classList.add(t0.FC),document.body.classList.add(t0.Wc),l(tG._J());let t=window.FigmaMobile;return t&&(t._get_memory_stats=()=>{let e=J.P2e?.getImageMemory(),t=J.P2e?.getHeapMemoryBreakdown();var n={coreJsBufferMemory:J.hMR?.getJsBufferMemory()||0,coreLocalMaxUsedHeapMemory:J.hMR?.getLocalMaxUsedHeapMemory()||0,coreMaxUsedHeapMemory:J.hMR?.getMaxUsedHeapMemory()||0,coreTotalUsedHeapMemory:J.hMR?.getTotalUsedHeapMemory()||0,fullscreenCompressedImages:e?.compressedImages??0,fullscreenUncompressedImagesArrayBuffers:e?.uncompressedArrayBuffer??0,fullscreenUncompressedImagesImageBitmap:e?.uncompressedImageBitmap??0};let i=J.hMR?.getMemStatsSummary()??void 0;if(i){let e=a(t?.mem_pool_current)||0,n=a(t?.font_files_current)||0,r=a(t?.unique_paths_current)||0,s=a(t?.vector_networks_current)||0;i.application={memPool:{total:e},fontFiles:{total:n},uniquePaths:{total:r},vectorNetworks:{total:s}}}function a(e){return"number"==typeof e?e:parseInt(e)}return{metadata:JSON.parse(JSON.stringify(n)),reservedWasmMemory:(0,tq.le)()||0,rendererGpuMemory:a(J.P2e?.getRendererGpuMemory())||0,rendererBreakdown:function(e){return{textures:a(e.textures),vertexBuffers:a(e.vertexBuffers),renderBuffers:a(e.renderBuffers),uniformBuffers:a(e.uniformBuffers)}}(J.P2e?.getRendererMemoryBreakdown())??void 0,memStats:i}}),()=>{m.XN&&document.removeEventListener("focusout",e),document.body.classList.remove(t0.Wc),document.documentElement.classList.remove(t0.FC)}},[l]),(0,a.useEffect)(()=>{t&&!o.current&&(l(tK.Yx({})),t&&!p?t?.canEdit&&l(tV.rH({fileKey:t.key})):(0,u.kc)().ce_new_missing_fonts_logging&&(0,tX.DI)(),o.current=t)},[l,p,t]),(0,a.useEffect)(()=>{(0,t$.RS)(l,t?.key,h)},[l,h,t?.key,f]),(0,a.useEffect)(()=>{F.eD&&F.eD.setEditFilePermissions(c)},[c]);let _=(0,a.useRef)(null),x=(0,a.useRef)(null);return((0,a.useEffect)(()=>{t&&(null===_.current||!_.current)&&l((0,tz.x4)()),t&&_.current&&t.key!==_.current&&l((0,tz.x4)()),x.current&&f!==x.current&&l((0,tz.x4)()),x.current=f,_.current=t?.key},[l,t,f]),"ok"!==d)?null:(0,i.jsx)(i.Fragment,{children:e})});var t2=n(923570),t3=n(968169);let t5=()=>{"hidden"===document.visibilityState&&(l.x4?.clear(),eI.L.cleanupSession())};function t4({children:e,loadedCommentsProvider:t=!0}){let n=(0,r.wA)(),l=(0,Z.q5)();(0,b.lF)(l?.key??""),ev.M4.Folder.useValue(l?.folderId);let p=(0,r.d4)(e=>e.selectedView.editorType),[h,f]=(0,a.useState)(!1),_=(0,o.DP)(),v=(0,tM.sO)(),w=(0,b.xo)(),T=(0,a.useCallback)(()=>{(0,t2.jS)(),f(!0)},[]),O=function({onCanvasExpired:e}){let t=(0,r.d4)(e=>(0,eH.U2)(e.selectedView)),n=(0,X.TA)(),i=(0,q.dq)(),[s,o]=a.useState(!1),l=(0,eV.K)(),d=(0,eB.Rs)(eU.NSA,{fileKey:t??""},{enabled:!!t}),c="loaded"===d.status&&d.data.file?.canRead!==!0,p="loaded"===d.status&&d.data.file?.canRead===!0;return a.useLayoutEffect(()=>{l&&c&&(o(!0),e())},[l,c,e]),a.useEffect(()=>{l&&p&&S.az.trackDefinedEvent("mfa.file_access_without_restriction",{orgId:i??void 0,userId:n??void 0,fileKey:t??void 0})},[l,p,i,n,t]),!!(0,u.kc)().mfa_for_guests&&s}({onCanvasExpired:T}),D=(0,r.d4)(e=>e.mergingStatus);(0,a.useEffect)(()=>{if((0,u.kc)().ce_suppress_browser_keys)return document.addEventListener("keydown",g,!0),()=>void document.removeEventListener("keydown",g,!0)},[]),function(){let e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,r.wA)(),i=(0,r.d4)(e=>e.userFlags),s=(0,r.d4)(e=>!!e.user),o=function(e,t){let n=(0,r.d4)(e=>e.mirror.appModel.showKeyboardShortcuts),i=(0,r.d4)(e=>e.user?.created_at),s=(0,a.useMemo)(()=>{let e=new Date("2022-11-14").getTime();return null!=i&&new Date(i).getTime()>=e},[i]);return(0,a.useCallback)((i,a,r,o)=>{t.keyboard_user_first_detection||o||!s?i!==J.aTn.US_QWERTY||o||a!==J.aTn.UNKNOWN?i&&a!==J.aTn.UNKNOWN?t.keyboard_manual_supported_bell||el(e,i,a,n):i&&a===J.aTn.UNKNOWN?t.keyboard_generic_supported_first_bell||ed(e,i,n):(0,Q.CZ)({layout:a,detectedLayoutStr:r??void 0,eventName:"keyboard_change_no_bell"}):(0,Q.CZ)({layout:i,eventName:"ignore_us_qwerty"}):(e(en.b({keyboard_user_first_detection:!0})),i&&((0,Q.rd)({layout:i}),(0,Q.CZ)({layout:i,eventName:"auto_set_new_user_layout"})))},[e,t,n,s])}(n,i),l=(0,a.useCallback)(async()=>{if(s){if(F.eD){let t=await ec(o,e.current??null);e.current=t}else{let e=await eu(o,t.current??null);t.current=e}}},[o,s]);(0,a.useEffect)(()=>{ei.Y5.isReady()?l():ei.Y5.onReady().then(()=>setTimeout(l,500))},[])}(),(0,W.XS)(),function(){let e=(0,r.Pj)(),t=(0,r.d4)(ep.d1),n=(0,r.d4)(ef.m0),i=(0,r.d4)(ef.No),s=(0,r.d4)(e=>e.library.publishedByLibraryKey),o=(0,Z.q5)(),l=(0,r.d4)(e=>e.fileVersion),d=(0,r.d4)(e=>e.loadingState),c=(0,r.d4)(e=>e.library.local),u=(0,r.d4)(e=>e.library.assetsPanelSearch.shouldSearchDefaultLibraries),p=(0,em.ud)(),m=(0,r.d4)(e=>e.folders),h=(0,eg.l6)(),f=(0,eg.He)(),g=(0,r.d4)(e=>e.library.assetsPanelSearch.query),_=(0,r.d4)(e=>e.library.assetsPanelSearch.searchOptions),x=(0,eh.D2)(d,(0,ex.yD)(o?.key||"")),y=(0,e_.M)();(0,a.useEffect)(()=>{t&&ey.YG.sourcesDidChange()},[t,n,i,s,c,u,p,m]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.queryDidChange(e)},[e,g,y]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.searchOptionsDidChange(e)},[e,_,y]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.subscriptionsDidChange(e,h,f)},[e,x,h,f,o,l,d,y])}(),(0,c.ji)(),(0,G.gN)(),F.eD&&function(){let e=(0,H.x)(),t=(0,H.V2)(),n=(0,H.QZ)(),i=(0,r.d4)(e=>e.mirror.appModel.isReadOnly),s=(0,r.d4)(e=>e.openFile),o=(0,r.d4)(e=>e.localPlugins),l=(0,N.E3)(),d=(0,H.op)(),c=(0,r.d4)(e=>e.installedPluginVersions.plugins),u=(0,r.d4)(e=>e.mirror.selectedStyleProperties?.selectedWidgetInfo),p=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),m=(0,r.d4)(e=>e.publishedPlugins),h=(0,r.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),f=(0,H.Be)(),g=f.orgPlugins,_=f.orgWidgets,x=(0,V.h)("plugin"),y=(0,V.h)("widget"),v=(0,H.NU)(),b=(0,H.qr)(),C=(0,H.ZT)(),E=null!=(0,G.SH)();a.useEffect(()=>{let a={isReadOnly:i,userCanViewPlugins:e,openFile:s,publishedPlugins:m,localExtensions:o,allSavedPlugins:c,recentlyUsedPlugins:d,org:h,editorType:l,widgetSelectionInfo:u,hideRecentsHeader:!0,activeTextReviewPlugin:p,orgSavedPlugins:g,orgSavedWidgets:_,orgPrivatePlugins:x,orgPrivateWidgets:y,savedWidgetVersions:v,recentlyUsedWidgets:b,publishedWidgets:C,userCanViewWidgets:n,userCanRunExtensions:t};z(B.$0(a),U.wX(a))},[i,e,s,m,c,d,o,h,l,u,p,f,g,_,x,y,v,b,C,E,n,t])}(),(0,eb.x)(),function(){let e=(0,N.E3)(),t=(0,a.useCallback)(()=>{(0,S.sx)("display_redline",{source:"keyboard_shortcut",mode:e})},[e]),n=(0,I.A)(t,1e3,{leading:!0,trailing:!1}),i=(0,r.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),s=(0,a.useRef)(i);(0,a.useEffect)(()=>{s.current!==i&&(s.current=i,n())},[i,n])}(),function(){let e=(0,t3.dP)(),t=(0,t3.qw)(),n=(0,t3.UX)(),i=document.documentElement.style;(0,a.useLayoutEffect)(()=>{i.setProperty("--left-panel-width",`${e}px`),(0,u.kc)().properties_panel_resize_lag_fix&&(i.setProperty("--properties-panel-width",`${t}px`),i.setProperty("--dev-handoff-panel-width",`${n}px`))},[e,t,n,i])}(),(0,x.I7)("exp_aa_test_fullscreen_view").getConfig(),function(){let e=(0,r.wA)(),t=(0,tA._)(),n=(0,tv.BI)(),[i,s]=(0,a.useState)(!1),o=(0,r.d4)(e=>e.multiplayer),l=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===J.kul.JOINED);!function(){let e=(0,Z.q5)(),t=window.FigmaMobile,n=(0,tT.rE)(),i=(0,tk.C3)(),s=(0,r.wA)(),o=(0,tj.am)(),l=i?(0,tE.oA)(i.pageNodeId):void 0;(0,a.useEffect)(()=>{t&&(t._select_page=async e=>{l===e&&s(tw.au({})),await (0,tC.UN)().setCurrentPageAsync(e)})},[s,t,l]),(0,a.useEffect)(()=>{t&&(t._rename_page=(t,n)=>{(0,tT.CQ)({openFile:e,pageId:t,newName:n,trackRenamePage:()=>o("page_commit_rename",{nodeId:t},{forwardToDatadog:!0})})})},[t,e,o]),(0,a.useEffect)(()=>{t&&(t._delete_page=e=>{ei.Y5.triggerActionInUserEditScope("page-delete",{args:{nodeId:e}}),ei.Y5.commit()})},[t]),(0,a.useEffect)(()=>{t&&(t._create_page=()=>{n(null)})},[t,n])}();let d=a.useCallback(t=>{J.h3O?.observeUser(t),o&&o.observingSessionID!==t&&o.sessionID!==t&&e(en.b({aware_of_observation_mode:!0}))},[o,e]);a.useEffect(()=>{t&&!i&&n?.shouldOptimizeForIpadApp&&l&&!J.Ez5?.defaultToolIsHandSelect()&&(s(!0),ei.Y5.triggerAction("set-tool-hand",null))},[t,n,i,s,l]);let c=(0,r.d4)(({mirror:{appModel:e}})=>e.showUi);a.useEffect(()=>{n?.updateUIVisible&&n.updateUIVisible(c)},[n,c]);let u=(0,tv.m0)();a.useEffect(()=>{u&&(u._try_to_flush_autosave=async()=>{let e=(0,tx.ZG)();if(e){let t=e.session();t&&await t.tryToFlushAutosave()}})},[u]);let p=(0,tI.Kd)();a.useEffect(()=>{n?.updateSaveStatus&&(p?l?n.updateSaveStatus(tO.a.SAVING):n.updateSaveStatus(tO.a.PAUSED):n.updateSaveStatus(tO.a.SAVED))},[n,p,l]);let m=(0,r.d4)(e=>(0,tb.Yh)(e.mirror.appModel,"undo")),h=(0,r.d4)(e=>(0,tb.Yh)(e.mirror.appModel,"redo"));a.useEffect(()=>{if(n?.updateUndoEnabled&&n.updateUndoEnabled(m),n?.updateRedoEnabled&&n.updateRedoEnabled(h),u){let t=t=>{e(ee.F.dequeue({matchType:"undo_redo_gesture"})),e(ee.F.enqueue({message:t,type:"undo_redo_gesture",timeoutOverride:750}))};u._trigger_undo=()=>{m&&(ei.Y5.triggerActionInUserEditScope("undo"),t((0,$.t)("fullscreen_actions.undo")))},u._trigger_redo=()=>{h&&(ei.Y5.triggerActionInUserEditScope("redo"),t((0,$.t)("fullscreen_actions.redo")))}}},[n,e,m,h,u]);let f=(0,tv.pt)();a.useEffect(()=>{f&&(f._set_ui_visibility=e=>{e!==c&&ei.Y5.triggerAction("toggle-ui")})},[f,c]);let g=(0,t_.Yk)();a.useEffect(()=>{n?.updateDLTHeight&&n.updateDLTHeight(g)},[g,n]);let _=(0,ty.dH)(),x=(0,tP.pK)(_),y=(0,tv.Ef)(),v=(0,r.d4)(e=>e.mirror?.appModel.isReadOnly);a.useEffect(()=>{x&&!v&&(y?.nativeToolbarUpdateActiveTool?.(x),y?.nativeToolbarUpdateMultiselectActive?.("MULTISELECT"===x))},[y,x,v]);let[b,C]=a.useState("ERASER"),[E,j]=a.useState("PENCIL");a.useEffect(()=>{!v&&x&&(0,tP.S0)(x)&&x!==b&&(j(b),C(x))},[x,b,C,j,v]),a.useEffect(()=>{f&&(f._switch_to_eraser=function(){if(v)return{success:!1,error:tR.lj.READ_ONLY_FILE,currentTool:"NONE"};if("ERASER"!==b)return(0,tP.Jm)("set-tool-eraser"),{success:!0,error:null,currentTool:"ERASER"};{let e=tP.Jh.get(E);return e&&(0,tP.Jm)(e),{success:!0,error:null,currentTool:E}}},f._switch_to_previous_drawing_tool=function(){if(v)return{success:!1,error:tR.lj.READ_ONLY_FILE,currentTool:"NONE"};let e=tP.Jh.get(E);return e&&(0,tP.Jm)(e),{success:!0,error:null,currentTool:E}})},[v,x,E,b,f]),a.useEffect(()=>{u&&(u._observe_user=e=>{d(e)})},[u,d]),u&&(u._update_context_menu_visibility=e=>{J.glU?.updateNativeContextMenuVisibility(e)},u._override_document_visibility_state=tL.R,u._set_allow_draw_with_touch=e=>{J.glU?.setAllowDrawWithTouch(e)},u._unlock_all_objects=()=>{ei.Y5.triggerActionInUserEditScope("unlock-all")},u._zoom_reset=()=>{ei.Y5.triggerActionInUserEditScope("zoom-reset")},u._zoom_to_fit=()=>{ei.Y5.triggerActionInUserEditScope("zoom-to-fit")},u._present=()=>{J.h3O?.startPresenting()},u._find_in_file=()=>{ei.Y5.triggerActionInUserEditScope("canvas-search")},u._copy=()=>{ei.Y5.triggerActionInUserEditScope("copy")},u._cut=()=>{ei.Y5.triggerActionInUserEditScope("cut")},u._paste=()=>{ei.Y5.triggerActionInUserEditScope("paste")},u._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:n}=e;return new Blob([(0,tg.Vs)(t)],{type:n})}),n=ei.Y5.fileArrayToString(t);J.glU?.handleOpenFromJsonString(n,tR.wu.MOBILE_NATIVE_NAVBAR)},u._get_zoom_scale=()=>J.glU?.getViewportZoomScale()??1),f&&(f._open_timer=()=>{eS.zl.set(tS.Qs,{type:"OPEN"}),(0,S.sx)(tN.Fn.OPEN,{source:tN.OO.IPAD_MENU})},f._close_timer=()=>{eS.zl.set(tS.Qs,{type:"CLOSE"})},f._activate_multiselect_mode=()=>{(0,tP.Jm)("set-tool-multiselect")},f._deactivate_multiselect_mode=()=>{(0,tP.Jm)("set-tool-default")})}(),(0,eC.a4)(),(0,d.fp)(),function(){let e=(0,r.wA)(),[t,n]=(0,th.Wz)("nux_seat_selection_show_confirmation",null);(0,a.useEffect)(()=>{t&&("autoApproved"in t&&"seatType"in t&&e(e9.to({type:tf.u,data:{...t}})),n(null))},[t,e,n])}(),(0,L.i)(),a.useEffect(()=>Y.Bc,[]),(0,ej.DW)(),a.useEffect(()=>(p===ew.nT.Whiteboard&&m.Ay.isMeetDevice&&"undefined"!=typeof document&&document.addEventListener("visibilitychange",t5),()=>{document.removeEventListener("visibilitychange",t5)}),[p]);let K=(0,k.o)();a.useEffect(()=>{if(K)return n(j.HQ({storeInRecentsKey:K})),p===ew.nT.Whiteboard&&(n(j.gr({storeInRecentsKey:K})),n(j.vZ({storeInRecentsKey:K}))),p!==ew.nT.DevHandoff&&n(j.aF({storeInRecentsKey:K})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)};function e(e){switch(e.key){case eE.vY:case eE.S7:case eE.a7:n(j.HQ({storeInRecentsKey:K}));break;case eE.YN:case eE.xk:n(j.aF({storeInRecentsKey:K}));break;case eE.SO:n(j.gr({storeInRecentsKey:K}));break;case eE.JG:n(j.vZ({storeInRecentsKey:K}))}}},[n,p,K]);let et=(0,X.TA)();a.useEffect(()=>{et&&n(C.oQ())},[n,et]),a.useEffect(()=>{w&&(0,M.K7)()},[w]),function(){let e=(0,eS.Xr)(eD);(0,a.useEffect)(()=>{let t;let n=()=>{clearTimeout(t),t=setTimeout(()=>{e(eL.IDLE_DUE_TO_INACTIVITY)},6e4)},i=()=>{n(),e(eL.ACTIVE_AFTER_IDLE)},a=eA()(i,500,{trailing:!1,leading:!0}),r=()=>{try{"visible"===document.visibilityState?i():e(eL.IDLE_DUE_TO_TAB_SWITCH)}catch(e){throw console.error("Failed to update visibility state",e),e}};return e(eL.ACTIVE_FIRST_TIME),eF.forEach(e=>{document.addEventListener(e,a)}),document.addEventListener("visibilitychange",r),n(),()=>{eF.forEach(e=>{document.removeEventListener(e,a)}),document.removeEventListener("visibilitychange",r),clearTimeout(t)}},[e,6e4])}(),a.useEffect(()=>{let e=e=>{if(D===s.y.MERGING)return e.returnValue="A merge operation is in progress. Closing the window could result in data loss or corruption; please wait until the operation completes.",e.preventDefault(),n(E.sx({name:"Unload During Merge Warning Shown"})),!1},t=()=>{D===s.y.MERGING&&n(E.sx({name:"Page Closed During Merge"}))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",t),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("unload",t)}},[D,n]);let ea=(0,a.useRef)(!1);a.useEffect(()=>{l?.key&&!ea.current&&(ea.current=!0,R.y.startTimer(l.key,(0,eT.lM)()))},[l?.key]);let er=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t6,{file:l,loadedCommentsProvider:t,onCanvasExpired:T,children:e})});return(0,i.jsx)(y.k,{name:"editor",alsoTrack:()=>({editorType:(0,ew.Bu)(p),productType:(0,A.Dc)(p),uiVersion:_.version,fileKey:l?.key||"",slideView:v?eS.zl.get(tD.v2)?"ssv":"grid":void 0}),trackImpressions:!1,children:(0,i.jsx)(P.wG,{children:(0,i.jsxs)(i.Fragment,{children:[!h&&er,!h&&(0,i.jsx)(tp,{onWorkshopExpired:T}),O&&(0,i.jsx)(t7,{file:l})]})})})}function t6({children:e,file:t,loadedCommentsProvider:n,onCanvasExpired:a}){let s=(0,r.d4)(e=>e.userStateLoaded),o=(0,r.d4)(e=>e.mirror.appModel.isInitialized),l=(0,_.R)(e=>e.comments),{anchorPositions:d,boundingBoxPositions:c,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:p}=(0,O.Cn)(),m=(0,O.e_)(),h=(0,X.TA)();(0,tm.ox)({file:t,onCanvasExpired:a});let f=function(){let{error:e}=(0,v.Hb)();return!!(e instanceof Error&&e.message.includes("Out of memory"))}(),g=(0,i.jsx)(tU.R,{children:(0,i.jsx)(tB.P,{children:(0,i.jsx)(v.tH,{boundaryKey:"InAppPage",fallback:f?(0,i.jsx)(e4.PG,{}):v.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:K.y4,children:(0,i.jsx)(t1,{children:e})})})});return(0,T.T8)(n?(0,i.jsx)(w.NX,{userId:h,file:t,orgId:t?.parentOrgId??null,activeId:l.activeThread?.id||null,anchorPositions:d,boundingBoxPositions:c,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:p,getPageIdsForNodes:m,children:g}):g,ek.e0.EDITOR,null!=t?(0,A.oP)(t):{},null!=t&&s&&o)}function t7({file:e}){let t=(0,q.sZ)();return(0,r.d4)(e=>e.modalShown?.type===eG.M)||!t?null:(0,i.jsx)(e5,{org:t,fileKey:e?.key})}(0,tF.n)(()=>{})},308308:(e,t,n)=>{n.d(t,{sk:()=>sX});var i=n(104076);n(50953);var a=n(716976),r=n(903927),s=n(276800),o=n(266808),l=n(812714),d=n(795033),c=n(437540),u=n(9109),p=n(449572),m=n(513369),h=n(719894),f=n(681398),g=n(1188),_=n(192075),x=n(58212),y=n(511295),v=n(598626),b=n(565797),C=n(742549),E=n(23689),j=n(562951),w=n(278491),T=n(354114),k=n(246144),I=n(261970),S=n(45550),N=n(636208),A=n(413102);class L{static getCanvasColorSpace(e={}){let t=(0,A.dX)("fullscreen"),n=t?.getContext(I.ap()?"webgl2":"webgl")?.drawingBufferColorSpace;if("srgb"===n);else if("display-p3"===n)return e.returnString?o.RYP[o.RYP.DISPLAY_P3]:o.RYP.DISPLAY_P3;return e.returnString?o.RYP[o.RYP.SRGB]:o.RYP.SRGB}static setCanvasColorSpace(e){let t=(0,A.dX)("fullscreen"),n=t?.getContext(I.ap()?"webgl2":"webgl");"drawingBufferColorSpace"in n&&(n.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===o.H4l)throw Error("ColorManagementStateJs is not defined");return e.returnString?o.ywP[o.H4l.documentColorProfile().getCopy()]:o.H4l.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await S.EC.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,N.D)();for(let n of t.currentPage.selection){for(let i=0;i<n.fills.length;i++){let a=n.fills[i];if("IMAGE"===a.type){let r=t.getImageByHash(a.imageHash);if(!r)continue;let s=await r.getBytesAsync(),l=await e(s);if(l){let e={id:n.id,type:"fill",index:i,imageHash:a.imageHash,colorProfile:o.RYP[l.colorProfile],bytes:s};(0,k.ED)("ColorManagementDebug","images",e,{logToConsole:o.NUh.ALWAYS})}}}for(let i=0;i<n.strokes.length;i++){let a=n.strokes[i];if("IMAGE"===a.type){let r=t.getImageByHash(a.imageHash);if(!r)continue;let s=await r.getBytesAsync(),l=await e(s);if(l){let e={id:n.id,type:"stroke",index:i,imageHash:a.imageHash,colorProfile:o.RYP[l.colorProfile],bytes:s};(0,k.ED)("ColorManagementDebug","images",e,{logToConsole:o.NUh.ALWAYS})}}}}}}function O(){return a.useEffect(()=>((0,l.kc)().ee_color_management_debug&&(window.colorManagementDebug=L),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var R=n(962212),P=n(813343),M=n(592726),D=n(944350),F=n(59849),B=n(530299),U=n(331497),H=n(904017),V=n(835307),G=n(225125),z=n(113985),K=n(849757),W=n(220082),Z=n(946847),q=n(233420);function X(){let{Sprig:e}=(0,G.A)(),t=(0,d.md)(q.Lk),n=(0,W.I)(),{loaded:i,query:r,sessionId:s}=function(){let[e,t]=(0,a.useState)(!1),{currentSearch:n}=(0,d.md)(K.WP),i=(0,d.md)(z.hO.currentSearchAtom),r=(0,d.md)(q.dd);(0,a.useEffect)(()=>{let e=n?.result.status==="loaded",a=i?.result.status==="loaded";e&&a&&t(!0)},[n?.result.status,i?.result.status]);let s="";return n?.input.type==="input-text"&&(s=n.input.query),{loaded:e,query:s,sessionId:r}}(),o=(0,a.useRef)(null),c=(0,a.useRef)(!1),u=(0,a.useCallback)(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),p=(0,a.useCallback)(()=>{e("track","quick_actions_assets_tab_search",{query:r,sessionId:s}),c.current=!0},[e,r,s]);return(0,a.useEffect)(()=>{if((0,l.kc)().assets_tab_sprig_tracking&&!c.current)return t===Z.Jc.ASSETS&&i&&(n?o.current=setTimeout(()=>{p()},3e4):(p(),u())),u},[t,u,i,n,p]),null}var Y=n(176203),J=n(564941),Q=n(855751),$=n(918830);function ee(){let e=(0,Q.X)();return(0,i.jsx)($.Y,{prioritizedBanners:e,location:"editor"})}var et=n(132539);let en=a.memo(function(){return(0,l.kc)().internal_only_debug_tools?(0,i.jsx)(ea,{}):null});a.memo(function(){return(0,l.kc)().internal_only_debug_tools?(0,i.jsx)(er,{}):null});let ei={loading:()=>null,error:function(){return a.useEffect(()=>{console.error("Failed to load FigmaScope")},[]),null}},ea=et.A.createLazyComponent(()=>Promise.all([n.e(3315),n.e(895)]).then(n.bind(n,635283)).then(e=>e.EmbeddedFigmaScopeViewForEditorEnabled),{...ei,componentName:"EmbeddedFigmaScopeViewForEditorEnabled"}),er=et.A.createLazyComponent(()=>Promise.all([n.e(3315),n.e(895)]).then(n.bind(n,635283)).then(e=>e.EmbeddedFigmaScopeViewForViewerEnabled),{...ei,componentName:"EmbeddedFigmaScopeViewForViewerEnabled"});var es=n(140650),eo=n(307966),el=n(511570),ed=n.n(el),ec=n(124125),eu=n(219971);function ep(){let e=Array.from((0,U.ut)(o.Ez5?.uiState().autoLayoutShortcutHints,new Map).values()),t=(0,d.md)(q.Bu),n=eu.y.isApple(),a=e=>{switch(e){case o.oeV.IGNORE_AUTOLAYOUT:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.ignore_auto_layout"),shortcutText:n?"\u2303 Ctrl":"S"};case o.oeV.PREVENT_NESTING:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.prevent_nesting"),shortcutText:(0,_.t)("fullscreen.auto_layout_hints.space_key")};case o.oeV.FORCE_INSERTION:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.force_insertion"),shortcutText:n?"\u2318":"Ctrl"}}},r=e=>e.isValid?e.isActive?"auto_layout_hints--activeShortcutWithTextContainer--dkT1S auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--invalidShortcutWithTextContainer--gvHLT auto_layout_hints--shortcutWithTextContainer--uEquz";return e?(0,i.jsx)("div",{className:ed()("auto_layout_hints--root--MJKU2",{"auto_layout_hints--rootAdjustedForQA--YZlbt":t}),children:(0,i.jsx)("div",{className:"auto_layout_hints--hintsBarContainer--3DyGD",children:e.sort((e,t)=>e.shortcut-t.shortcut).map((e,t)=>{let n=a(e.shortcut);return(0,i.jsxs)("div",{className:r(e),children:[(0,i.jsx)("div",{className:e.isActive&&e.isValid?"auto_layout_hints--activeShortcutContainer--bj0CD auto_layout_hints--shortcutContainer--mIecl":"auto_layout_hints--shortcutContainer--mIecl",children:n.shortcutText.length>0?(0,i.jsx)("div",{className:"auto_layout_hints--smallShortcutText--lHZ8Q",children:n.shortcutText}):(0,i.jsx)(ec.S,{shortcut:n.shortcutText})}),(0,i.jsx)("p",{children:n.displayName})]},t)})})}):null}let em={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages",filterBy:"hidden_sections"},eh={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages"};var ef=n(198444),eg=n(264993),e_=n(980852),ex=n(983500),ey=n(193716),ev=n(646767),eb=n(968169),eC=n(446385),eE=n(38473),ej=n(706739),ew=n(404343);let eT=(0,d.eU)(new Map),ek=(0,ex.jz)(ew.LdP);function eI({children:e}){let t=(0,U.ut)(o.Ez5?.cooperFocusView().isInFocusedNodeView,!1),n=(0,U.ut)(o.Ez5?.canvasGrid().canvasGridArray,[]),r=(0,eE.rY)(n),s=a.useMemo(()=>r.reduce((e,t,n)=>(e.set(t,n),e),new Map),[r]),l=function(){let e=(0,ev.wq)(),t=(0,d.Xr)(eT),[n,i]=a.useState(new Map),[r,s]=a.useState(new Map);return a.useEffect(()=>{let a=new Set,o=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,n=r.get(e.id),i={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};o.set(e.id,i),t&&(!n||t.x!==n.x&&t.y!==n.y)&&a.add(e)}),a.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let n=(0,e_.UN)().get(t),a=n?.containingCooperFrameId()??eg.AD;a!==eg.AD&&e.canvasPosition&&(s(t=>new Map(t.set(e.id,e.canvasPosition))),i(t=>new Map(t.set(e.id,a))))});let l=new Map;n.forEach((e,t)=>{let n=o.get(t);if(!n)return;let{commentCount:i,hasUnread:a}=n,r=l.get(e),s={commentCount:(r?.commentCount??0)+i,threadIds:[...r?.threadIds??[],t],hasUnread:r?.hasUnread||a};l.set(e,s)}),t(l)},[t,r,n,e.data,e.status]),n}(),c=(0,eb.qw)(),u=a.useCallback(e=>{let t=l.get(e.id);if(t)return t;let n=e.comments[0]?.client_meta?.node_id;if(!n)return eg.AD;let i=(0,e_.UN)().get(n);return i?.containingCooperFrameId()??eg.AD},[l]),p=(0,ej.R)(),m=a.useMemo(()=>{let e=[eC.mW.RESOLVED,eC.mW.YOURS];return t&&e.push(eC.mW.CURRENT_ASSET),e},[t]),h=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD,eC.qN.ASSET],[]),f=(0,ey.J)(),g=a.useCallback(e=>{let t=u(e),n=s.get(t);return void 0!==n&&t!==eg.AD?(0,_.t)("comments.asset_number",{orderNum:n+1}):e.pageName},[u,s]),x=a.useMemo(()=>!!t,[t]),y=a.useCallback(e=>{if(!t)return()=>{};let n=u(e);return n!==eg.AD?()=>{f(n)}:()=>{o.Ez5?.cooperFocusView().exitFocusedNodeView()}},[u,f,t]),v=a.useMemo(()=>({[eC.qN.ASSET]:(e,t)=>{let n=1/0,i=u(e),a=u(t),r=s.get(i)??n,o=s.get(a)??n;return r!==o?r-o:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[u,s]),b=a.useMemo(()=>{let e,t=0;return{maxHeightDelta:-(e=0+ek),minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:t+=c}},[c,!0]),C=a.useMemo(()=>({paddingRight:c}),[c,!0]),E=a.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:x,orphanedBy:"deleted_anchors",filterBy:"deleted_anchors",sidebarFilters:m,sidebarSorts:h,sidebarModesDisabled:!0,dockPositionAdjustment:p,getParentName:g,getOnCommentSelect:y,sortComparatorOverrides:v,commentPositionPaddingAdjustment:C,draggableModalBoundsAdjustment:b}),[x,m,h,p,g,y,v,C,b]);return(0,i.jsx)(ef.a.Provider,{value:E,children:e})}var eS=n(375627),eN=n(650069),eA=n(580868),eL=n(213233);function eO({children:e}){let t=(0,r.d4)(e=>e.universalInsertModal?.pinned===eA.t.PINNED_AND_DOCKED_LEFT),n=(0,eN.a)(),{isPropertiesPanelCollapsed:s}=(0,eS.iT)(),o=(0,eb.qw)();o=s?0:o;let l=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS,eC.mW.CURRENT_PAGE],[]),d=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),{xDelta:c,yDelta:u}=(0,ej.R)(),p=a.useMemo(()=>{let e=(0,ex.hG)(ew.PXB),n=c;return t&&(n+=eL.AN+e),{xDelta:n,yDelta:u}},[t,u,c]),m=a.useMemo(()=>{let e=(0,ex.jz)(ew.LdP),t=0,i=0;return n&&(t+=e,i+=o),{maxHeightDelta:0,minBottomMarginDelta:t,minLeftMarginDelta:0,minRightMarginDelta:i}},[o,n]),h=a.useMemo(()=>{if(n)return{paddingRight:o}},[o,n]),f=a.useMemo(()=>({...ej.y,sidebarFilters:l,sidebarSorts:d,dockPositionAdjustment:p,draggableModalBoundsAdjustment:m,commentPositionPaddingAdjustment:h}),[l,d,h,p,m]);return(0,i.jsx)(ef.a.Provider,{value:f,children:e})}var eR=n(681958),eP=n(728977);let eM={isDevHandoff:!0};function eD({children:e}){let t=(0,eN.a)(),n=(0,C.hA)(),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),o=a.useContext(eP.kw),{isPropertiesPanelCollapsed:l}=(0,eS.iT)(),d=(0,eb.UX)();d=l?0:d;let c=(0,ex.jz)(ew.ZB$),u=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS,eC.mW.CURRENT_PAGE],[]),p=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),m=(0,ej.R)(),h=a.useMemo(()=>{let e=0,n=0;return t&&(e+=c,n+=d),{maxHeightDelta:0,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:n}},[c,d,t]),f=a.useMemo(()=>{if(t)return{paddingRight:d}},[d,t]),g=a.useCallback(e=>{if(!n)return!1;let t=e&&s?o.getCommentDestinationForCanvasPosition(e,s)?.nodeId:void 0;return!t||!(0,eR.rV)((0,e_.UN)(),n,t)},[s,o,n]),x=a.useMemo(()=>{let e={...ej.y,sidebarFilters:u,sidebarSorts:p,dockPositionAdjustment:m,draggableModalBoundsAdjustment:h,commentPositionPaddingAdjustment:f,linkGenerationParams:eM,isCommentingDisabledAtPosition:g,commentDisabledPositionBellMessage:(0,_.t)("dev_handoff.workflows.focus_view.comments")};return n&&(e.filterBy="non_dev_mode_focus"),e},[u,p,m,h,f,g,n]);return(0,i.jsx)(ef.a.Provider,{value:x,children:e})}var eF=n(498520),eB=n(899103),eU=n(921996),eH=n(226762);let eV={isFigJam:!0};function eG({children:e}){let t=(0,eU.Vi)(),n=a.useMemo(()=>[eC.mW.RESOLVED,eC.mW.YOURS],[]),r=a.useMemo(()=>[eC.qN.CREATION_DATE,eC.qN.UNREAD],[]),s=(0,eb.dP)(),o=(0,ej.R)({leftSidePanelWidth:s}),l=a.useMemo(()=>208,[]),d=a.useMemo(()=>{let e=new Map;return e.set(eB.b.DOCK_STYLE,"dock--dock--A6jIs"),e.set(eB.b.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,eF.Bx)("light")),e},[]),c=a.useMemo(()=>{let e;let n=(0,ex.jz)(ew.IuL),i=(0,ex.jz)(ew.rY4),a=0,r=0;return e=0-n,a+=n,t&&(r+=i),{maxHeightDelta:e,minBottomMarginDelta:a,minLeftMarginDelta:0,minRightMarginDelta:r}},[t]),u=a.useCallback(()=>{(0,eH.W)("left",()=>{})},[]),p=a.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:n,sidebarSorts:r,dockPositionAdjustment:o,draggableModalBoundsAdjustment:c,onDockSideEffect:u,sidebarBottomPaddingAdjustment:l,styleOverrideMap:d,linkGenerationParams:eV}),[o,c,u,l,n,r,d]);return(0,i.jsx)(ef.a.Provider,{value:p,children:e})}var ez=n(495216);function eK({children:e}){let t=(0,r.d4)(e=>e.selectedView.editorType),n=a.useMemo(()=>{if(window.FigmaMobile)return t===Y.nT.Whiteboard?function({children:e}){return(0,i.jsx)(ef.a.Provider,{value:em,children:e})}:function({children:e}){return(0,i.jsx)(ef.a.Provider,{value:eh,children:e})};switch(t){case Y.nT.Design:return eO;case Y.nT.Whiteboard:return eG;case Y.nT.Slides:return ez.Yz;case Y.nT.DevHandoff:return eD;case Y.nT.Cooper:return eI;default:return function({children:e}){return(0,i.jsx)(ef.a.Provider,{value:ej.y,children:e})}}},[t]);return(0,i.jsx)(n,{children:e})}var eW=n(878604),eZ=n(268389),eq=n(623411),eX=n(419541),eY=n(684742),eJ=n(293422),eQ=n(989941),e$=n(883765),e0=n(264830),e1=n(361170),e2=n(72138),e3=n(652539),e5=n(236631),e4=n(967782),e6=n(663355),e7=n(722039),e9=n(850701),e8=n(435049);let te=0;class tt{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,n;let i=new Promise((e,i)=>{t=e,n=i}),a=++te;return this.jobs.push({jobId:a,resolve:t,reject:n,callback:e}),{promise:i,jobId:a}}}let tn={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},ti=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:n}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:n}},this.queuedWorker=new tt,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||tn,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var ta=n(685464),tr=n(239223),ts=n(925843),to=n(945858),tl=n(736216),td=n(260495),tc=n(553065),tu=n(156774),tp=n(211862),tm=n(643898),th=n(706964),tf=n(894210),tg=n(141330),t_=n(290407),tx=n(5885),ty=n(523625),tv=n(714136),tb=n(578420),tC=n(643330);let tE="export_picker--header--Wz6np",tj="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE";var tw=n(443105);let tT=(0,ex.hG)(ew.zK5);function tk(){let e=(0,tp.q5)(),t=(0,r.d4)(e=>e.exportableItems),n=(0,r.d4)(e=>e.dropdownShown),s=!!e&&(0,tm.Pe)(e),o=(0,e0.Av)(),d=(0,r.d4)(e=>e.saveAsState),c=(0,r.d4)(e=>e.mirror.appModel.currentPage),u=(0,r.wA)(),p=()=>{u(e9.XE())},m=new e1.Mi(window.innerWidth-tT,o+12);a.useEffect(()=>{u((0,ts.HR)())},[u]);let h=(0,i.jsx)("div",{className:"export_picker--exportModalContainer---vmI7",children:(0,i.jsx)(tN,{exports:t,isCopyExportRestricted:s,width:tT,dispatch:u,dropdownShown:n,saveAsState:d,currentPage:c})});return(0,l.kc)().ce_tv_fpl_export_picker?(0,i.jsx)(eW.bL,{onClose:p,draggable:"header",defaultPosition:m,children:(0,i.jsxs)(eZ.vo,{children:[(0,i.jsx)(eZ.Y9,{children:(0,i.jsx)(eZ.hE,{children:(0,_.t)("fullscreen.properties_panel.export")})}),(0,i.jsx)(eZ.nB,{padding:0,children:h})]})}):(0,i.jsx)(tC.Ao,{title:(0,_.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:m,onClose:p,dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx",children:h})}let tI=new e8.mz;function tS({nodeID:e,title:t,filename:n,exportSetting:r,colorProfile:s=o.RYP.SRGB,isBeingRenamed:l,...d}){let[c,u]=(0,a.useState)({size:"",warning:"",warningTooltip:""}),[p,m]=(0,a.useState)(""),h=(0,tl.A0)(o.uQ6.EXPORT_PICKER);(0,a.useEffect)(()=>{let i={guid:e,title:t,filename:n,exportSetting:r},a=o.glU.getExportWarningAndSize(i);if(a){let{size:e,warning:t,warningTooltip:n}=a;u({size:e,warning:t,warningTooltip:n})}else console.error("Failed to export",i);let l=!!r.contentsOnly,d=(0,tc.gl)(r)?s:(0,ta.A)([r],s),{jobId:c}=ti.queueJob(()=>{let t=tu._G(new e1.Mi(32,32),e,l),n="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(n=tu.Pv(t.pixels,t.pixelSize,d)),m(n)});return()=>ti.cancelJobs([c])},[s,r,n,e,t]);let{onToggleChecked:f,isChecked:g,isDisabled:x}=d,{imageType:y}=r,v=d.warning??c.warning,b=d.warningTooltip??c.warningTooltip,C=(0,a.useId)(),E=`${C}-input`,j=`${C}-export-name`,w=`${C}-desc`,T=`${C}-title`;return(0,i.jsxs)("div",{className:"export_picker--row--lVRtp",children:[(0,i.jsx)(eq.h,{htmlFor:E,children:(0,_.t)("fullscreen.export.select_for_export")}),(0,i.jsx)(eX.W,{id:E,checked:g,onChange:f,disabled:x,"aria-describedby":`${j} ${w}`}),(0,i.jsx)(eY.E,{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),o.glU?.panToNode(e,!1)},htmlAttributes:{"data-tooltip-type":tf.Ib.TEXT,"data-tooltip":n},"aria-label":(0,_.t)("fullscreen.export.view_selection_on_canvas"),"aria-describedby":T,children:!!p&&(0,i.jsx)("img",{src:p,className:"export_picker--thumb--pKbcx",alt:""})}),(0,i.jsx)("div",{id:j,className:"export_picker--label--43URE",children:(0,i.jsxs)("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA",children:[(0,i.jsx)("div",{className:ed()("export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa",{"export_picker--nameRenaming--jTYjh":h&&l}),id:T,children:t}),v&&(0,i.jsxs)("div",{className:"export_picker--warningRow--PMwtO",children:[(0,i.jsx)(e3.B,{className:"export_picker--warningIcon--fgSRz",svg:tw.A,"data-tooltip-type":tf.Ib.TEXT,"data-tooltip":b}),(0,i.jsx)("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa",children:v})]})]})}),(0,i.jsxs)("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:w,children:[(0,i.jsxs)("div",{children:[tI.format(r.constraint)," ",y]}),(0,i.jsx)("div",{children:c.size})]})]})}class tN extends a.PureComponent{constructor(){super(...arguments),this.state={renamingLayersRunning:!1,downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(e9.XE())},this.autoRenameFrameAndFile=async e=>{if(0===e.length)return;this.setState({renamingLayersRunning:!0}),this.props.exports.items.forEach(t=>{e.includes(t.nodeID)&&(t.isBeingRenamed=!0)}),d.zl.set(tv.zF,(0,to.Tr)(o.uQ6.EXPORT_PICKER)),(0,t_.B3)(tg.JT.AUTO_RENAME_LAYERS),await (0,t_.Ag)(tg.JT.AUTO_RENAME_LAYERS,to.Ay,{source:o.uQ6.EXPORT_PICKER,overwriteNames:!1,customNodeSelection:e,ignoreDescendants:!0});let t=(0,t_.pP)(tg.JT.AUTO_RENAME_LAYERS).state;t===t_.qy.DONE?this.props.exports.items.forEach(t=>{if(!e.includes(t.nodeID))return;let n=e_.UN().get(t.nodeID)?.name;t.filename=t.filename.replace(t.title,n||t.title),t.title=n||t.title,t.isBeingRenamed=!1}):(t===t_.qy.ERROR||t===t_.qy.CANCELLED)&&this.props.exports.items.forEach(e=>{e.isBeingRenamed=!1}),this.setState({renamingLayersRunning:!1})},this.cancelAutoRename=()=>{let{aiTrackingContext:e}=(0,t_.pP)(tg.JT.AUTO_RENAME_LAYERS),t={...e,...(0,tx.LU)({shortcut:null,target:null}),interaction:ty.Ek.STOP};(0,t_.cT)(tg.JT.AUTO_RENAME_LAYERS),(0,tx.nP)(t)},this.onExport=e=>{if(this.props.isCopyExportRestricted||((0,e$.sx)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()||0===e.length))return;let t=[this.props.currentPage];td.xY.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,th.Dc)(th.hV.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),n=0;o.glU.clearExportedItems();let i=t.map(e=>ti.queueJob(()=>o.glU.exportItem(e))),a=i.map(e=>e.promise);a.forEach(e=>e.then(()=>this.setState({exportingProgress:++n}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:i.map(e=>e.jobId)}),Promise.all(a).then(()=>{this.setState({exportingJobIds:[]}),o.glU.saveExportedItems(),this.props.dispatch(e9.XE()),this.props.dispatch(e6.rg()),(0,e4.YQ)({id:"export_completed",properties:{from:"export_picker"}})})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,n)=>{this.props.dispatch(e7.G({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(e7.G({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID],this.renderRenameLayersButton=e=>{let{detectedUnnamedLayers:t,exceedingLayerLimit:n,renamableNodeGuids:a}=(0,tl.Mc)(e.map(e=>e.nodeID),!0),r=this.state.renamingLayersRunning?this.cancelAutoRename:()=>this.autoRenameFrameAndFile(a),s=!(t&&!n)||this.state.downloadStarted||this.state.exportingStarted;return(0,i.jsx)(eJ.Pw,{variant:"secondary",onClick:r,disabled:s,children:this.state.renamingLayersRunning?(0,_.tx)("fullscreen.export.cancel"):(0,i.jsxs)("div",{className:e5.s.flex.flexRow.justifyCenter.gap8.$,children:[(0,_.tx)("fullscreen.context_menu.auto_rename_layers"),(0,i.jsx)(tb.y,{helpUrlVariant:tg.JT.AUTO_RENAME_LAYERS})]})})}}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&ti.cancelJobs(this.state.exportingJobIds)}getItemsToExport(){return this.props.exports.items?this.props.exports.items.filter(e=>this.isChecked(e)):[]}renderHeader(){if(this.isExporting())return(0,i.jsxs)("div",{className:tE,children:[(0,i.jsx)("label",{className:tj,children:(0,_.tx)("fullscreen.export.preparing_exporting_progress_of_exporting_total",{exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})}),(0,i.jsx)(eJ.$n,{variant:"secondary",onClick:this.onCancel,children:(0,_.tx)("fullscreen.export.cancel")})]});if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return(0,i.jsx)("div",{className:tE,children:(0,i.jsx)("label",{className:tj,children:(0,_.tx)("fullscreen.export.exporting")})});if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return(0,i.jsx)("div",{className:tE,children:(0,i.jsx)("label",{className:tj,children:(0,_.tx)("fullscreen.export.downloading")})});{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return(0,i.jsxs)("div",{className:tE,children:[(0,i.jsx)("label",{className:tj,children:(0,_.tx)("fullscreen.export.downloading_progress",{downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})}),(0,i.jsx)(eJ.$n,{variant:"secondary",onClick:this.onCancel,children:(0,_.tx)("fullscreen.export.cancel")})]})}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,n=e.length,a=n===t;return(0,i.jsxs)("div",{className:tE,children:[(0,i.jsx)(eQ.S,{checked:a,mixed:!a&&t>0,onChange:()=>this.setAllChecked(!a),label:(0,i.jsx)(eq.J,{children:(0,_.tx)("fullscreen.export.num_selected_of_total_selected",{numSelected:t,total:n})})}),(0,i.jsx)("span",{className:"export_picker--flexRight--PFS7g",children:(0,i.jsx)(eJ.$n,{variant:"secondary",disabled:!t,onClick:()=>this.onExport(this.getItemsToExport()),autoFocus:!0,children:(0,_.tx)("fullscreen.export.export")})})]})}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0,t=(0,tl.A0)(o.uQ6.EXPORT_PICKER);return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"export_picker--modal--FoIpV",children:[this.renderHeader(),(0,i.jsxs)(e2.P,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6",children:[!e&&(0,i.jsx)("div",{className:"export_picker--emptyModal--x2aqt",children:(0,_.tx)("fullscreen.export.no_selected_layers_with_export")}),(0,i.jsx)(tr.ZH,{children:({documentExportColorProfile:n})=>e&&this.props.exports.items.map((e,a)=>(0,i.jsx)(tS,{colorProfile:n,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),isBeingRenamed:t&&e.isBeingRenamed,...e},a))})]}),t&&(0,i.jsx)("div",{className:"export_picker--footer--a3gs1",children:this.renderRenameLayersButton(this.getItemsToExport())})]})})}}tN.displayName="ExportPicker";var tA=n(398585),tL=n(491488),tO=n(55029),tR=n(819851),tP=n(508011),tM=n(692042),tD=n(624155),tF=n(564914),tB=n(383310),tU=n(506347);let tH=(0,ex.jz)(ew.ZAq);function tV({subscribeToUpdates__EXPENSIVE:e}){let t=(0,tM._X)({subscribeToUpdates_expensive:e}),n=(0,tR.ow)(),i=(0,tB.Ye)(),r=(0,e0.Pg)(),s=(0,tP._o)(),{left:o,right:l}=(0,tO.LO)();return a.useCallback((e,a,d)=>{let c={top:s,left:i||n?0:o,right:t.x+t.width-(Math.max(n?0:l,d+12)+8),bottom:t.height-(r+tH+16)},u=12;e<c.left?u=c.left+12:e>c.right&&(u=-(d+4));let p=12;return a>c.bottom&&(p=Math.min(c.bottom+12-(a+8),-(r+24))),{x:u,y:p}},[n,t,i,r,s,o,l])}var tG=n(58599),tz=n(170627),tK=n(947892);let tW={type:"SOLID",opacity:1,visible:!0,blendMode:"NORMAL"};function tZ({initialPosition:e,initialCreationColor:t,initialView:n,disableStyleModal:s,onClose:l}){let{VariableAndStyleCreateModalRoot:d}=a.useContext(tK.l)??{},c=(0,r.d4)(e=>e.pickerShown),u=(0,r.wA)();function p(){(e9.Ty(c?.id??null)||e9.kU(c?.id??null))&&u(e9.XE())}let m=a.useMemo(()=>({type:o.Z_n.COLOR,resolvedType:o.rXF.COLOR,value:t}),[t]);return e&&d?(0,i.jsx)(d,{disableStyleModal:s,inheritStyleKeyField:"inheritFillStyleKey",initialPosition:e,initialStyleCreationPaint:tW,initialVariableValue:m,initialView:n,onClose:l,onCreateStyle:function(e){tz.l7.system("create-new-style-from-eyedropper",()=>{o.OmW.applyPaint((0,tG.oU)(t),null,e.node_id),p()})},onCreateVariable:function(e){let n=Object.values(e.modeValues)?Object.values(e.modeValues)[0]:null,i=(0,tG.oU)(n?.type===o.Z_n.COLOR?n.value:t);o.OmW?.applyPaint(i,e.node_id,null),p()},resolvedType:o.rXF.COLOR,shouldUseEyedropperStyleCreationFlow:!0}):null}var tq=n(984441),tX=n(551827),tY=n(359166),tJ=n(418853),tQ=n(633065),t$=n(827259),t0=n(641518),t1=n(638641),t2=n(416381),t3=n(863154),t5=n(25870);let t4=(0,d.eU)(!1);var t6=n(473918),t7=n(391145),t9=n(355256),t8=n(77417),ne=n(561437),nt=n(754245),nn=n(674135),ni=n(862567);class na extends a.Component{static getDerivedStateFromError(e){return{}}componentDidCatch(e,t){if((0,nn.isErrorCausedByWindowClose)(e))(0,k.xi)("FloatingWindowErrorBoundary","Ignoring IPC error",{error:e,errorInfo:t},{reportAsSentryError:!1});else throw e}render(){return this.props.children}}function nr({children:e,initialWidth:t,initialHeight:n,initialMinHeight:i,initialExtraFeatures:r,onChangePosition:s,hidden:o}){if(!tQ.eD||!tQ.eD.isFloatingWindowAvailable())throw Error("DesktopFloatingWindow: rendered with unsupported desktop app version");let[l,d]=(0,a.useState)(null),c=(0,a.useRef)(l),u=(0,a.useRef)(t),p=(0,a.useRef)(n),m=(0,a.useRef)(i),h=(0,a.useRef)(r),f=(0,a.useRef)(s),g=(0,a.useRef)(null),_=(0,a.useCallback)(e=>{null!=g.current&&g.current.displayId!==e.displayId&&requestAnimationFrame(()=>{null!=c.current&&(0,nn.withFloatingWindowAPI)(c.current,e=>{e.readyToDisplay()})}),g.current=e,f.current?.(e)},[]),x=(0,a.useCallback)(()=>{let e=`width=${u.current},height=${p.current},floatingWindow=true`;null!=m.current&&(e+=`,minHeight=${m.current}`),null!=h.current&&(e+=`,${h.current}`);let t=window.open("about:blank","_blank",e);if(null==t)return(0,k.x1)("DesktopFloatingWindow","Unable to open floating window"),null;t.document.body.style.overflow="hidden",function(e){let t=0,n=()=>{(t-=1)<=0&&e.requestAnimationFrame(()=>{(0,nn.withFloatingWindowAPI)(e,e=>{e.readyToDisplay()})})};for(let t of(e.document.body.classList.add(ni.xE),document.body.attributes))t.name.startsWith("data-")&&e.document.body.setAttribute(t.name,t.value);for(let i of(e.document.body.style.colorScheme=document.body.style.colorScheme,document.querySelectorAll("link[rel=stylesheet], style"))){let a=i.cloneNode(!0);"LINK"===a.tagName&&(t+=1,a.addEventListener("load",n),a.addEventListener("error",n)),e.document.head.appendChild(a)}0===t&&n()}(t),(0,nn.withFloatingWindowAPI)(t,e=>{e.onChangePosition(_)}),d(t),c.current=t,t.addEventListener("close",()=>{d(null),c.current=null})},[_]),y=!!e;return((0,a.useEffect)(()=>{y?x():d(null)},[y,x]),(0,a.useEffect)(()=>{if(null!=l)return()=>{(0,nn.suppressingErrorsCausedByWindowClose)(()=>{l.close()})}},[l]),(0,a.useEffect)(()=>{null!=l&&(0,nn.withFloatingWindowAPI)(l,e=>{o?e.hideWindow():e.showWindow()})},[l,o]),null!=l)?nt.createPortal(e,l.document.body):null}function ns(e){return(0,i.jsx)(na,{children:(0,i.jsx)(nr,{...e})})}function no({children:e,loupeWidth:t,loupeHeight:n,panelWidth:r,panelHeight:s,hidden:d,onClick:c}){let u=!!(0,l.kc)().desktop_floating_eyedropper_fake_cursor,p=(s+12+16)*2,m=(r+12+16)*2,[h,f]=(0,a.useState)(!1),[g,_]=(0,a.useState)(!1),[x,y]=(0,a.useState)(!0),[v,b]=(0,a.useState)(!1),C=h?16:16+r+24,E=g===x?16:16+s+24;x||(E=-E);let j=a.useRef(null),w=a.useRef(null),T=(0,a.useCallback)(e=>{nt.flushSync(()=>{b(!0),e()}),j.current?.getBoundingClientRect(),nt.flushSync(()=>{b(!1)})},[]),k=(0,a.useCallback)(e=>{let t=w.current;w.current=e;let n=t?.yZone===nn.FloatingWindowVerticalZone.NN||t?.yZone===nn.FloatingWindowVerticalZone.N,i=e.yZone===nn.FloatingWindowVerticalZone.NN||e.yZone===nn.FloatingWindowVerticalZone.N,a=()=>{y(!i),f(e.xZone===nn.FloatingWindowHorizontalZone.EE),_(e.yZone===nn.FloatingWindowVerticalZone.SS)};null!=t&&(n!==i||t.displayId!==e.displayId)?T(a):a()},[T]);return(0,t6.Gz)(u&&!d),(0,i.jsxs)(ns,{initialWidth:m,initialHeight:p,initialMinHeight:s+16,initialExtraFeatures:(0,l.kc)().desktop_global_eyedropper?`eyedropper=1,eyedropperWidth=${t},eyedropperHeight=${n}`:void 0,onChangePosition:k,hidden:d,children:[(0,i.jsx)("div",{onClick:c,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),u&&(0,i.jsx)("div",{style:{position:"absolute",left:m/2,bottom:p/2,transform:"translate(-50%, 50%)",pointerEvents:"none"},children:(0,i.jsx)(t6.fA,{currentToolForCursor:o.NLJ.DROPPER_COLOR})}),(0,i.jsx)("div",{ref:j,style:{position:"absolute",height:s,width:r,left:0,[x?"top":"bottom"]:0,transform:`translate(${C}px, ${E}px)`,transition:v?void 0:"transform 0.2s ease-in-out"},children:e})]})}var nl=n(725837),nd=n(249586);let nc=document.createElement("canvas"),nu=nc.getContext("2d"),np=(e,t,n,i,a,r)=>{e.save();{let s=t/2;r?e.roundRect?e.roundRect(0,0,48,48,5):e.rect(0,0,48,48):e.arc(s,s,s-2,0,2*Math.PI,!1),e.clip();let{width:l,height:d,rgba:c,grid:u}=a;if(nu&&l&&d){let n=nu.createImageData(l,d,{colorSpace:a.colorProfile===o.RYP.DISPLAY_P3?"display-p3":"srgb"});n.data.set(c),nc.width=l,nc.height=d,nu.putImageData(n,0,0),e.imageSmoothingEnabled=!1,e.drawImage(nc,0,0,t,t)}if(u){e.beginPath();let a=r?1:0,s=r?-.5:.5;for(let r=1;r<i;r++)s+=n,e.moveTo(s,a),e.lineTo(s,t-a),e.moveTo(a,s),e.lineTo(t-a,s);e.strokeStyle=r?"rgba(0, 0, 0, 0.1)":"rgba(51, 51, 51, 0.2)",e.stroke()}}e.restore()},nm=(e,t,n,i)=>{i||(e.strokeStyle="white",e.strokeRect(t-n/2-.5,t-n/2-.5,n+2,n+2),e.strokeStyle="black",e.strokeRect(t-n/2+.5,t-n/2+.5,n,n))},nh=(e,t,n)=>{if(n){e.beginPath(),e.roundRect?e.roundRect(0,0,348,548,5):e.rect(0,0,348,548),e.strokeStyle="rgba(0, 0, 0, 0.1)",e.stroke();return}e.beginPath(),e.arc(t,t,t-1,0,2*Math.PI,!1),e.strokeStyle="white",e.stroke(),e.beginPath(),e.arc(t,t,t-2,0,2*Math.PI,!1),e.strokeStyle="black",e.stroke()};function nf(e,t,n){let i=n?7:17,a=n?7:10,r=n?48:i*a,s=e.getContext("2d");if(!s)return;let o=devicePixelRatio;e.width=r*o,e.height=r*o,s.scale(o,o),np(s,r,a,i,t,n),nm(s,r/2,a,n),nh(s,r/2,n)}let ng="eyedropper_v2--text--dOiTx",n_="eyedropper_v2--rowContents--dv3nr",nx="eyedropper_v2--chit--1D1ND";function ny({eyedropper:e,onOpenCreationModal:t}){let n,s;let c=function(){let e=(0,r.d4)(e=>e.eyedropper),t=(0,r.d4)(e=>e.library.local.styles),n=(0,d.md)(tU.Cg),i=(0,r.d4)(e=>e.library.used__LIVEGRAPH.styles);if(!e)return null;let a=e.assetId,s={},l=e.variableSetModeId;if(""===a)return null;let c=null,u=null;if(tL.PK.isValid(a)){if(c=tL.PK.toGuidStrIfLocal(a)){if(c in t){let e={style:t[c]};return s[c]=e,e}}else if(u=tL.PK.toRefIfSubscribed(a)){c=tL.PK.fromRef(u);let e=(0,tD.yh)(u.key,i,{}),t=null;return e&&(t={style:e},s[c]=t),t}}else if(tL.sD.isValid(a)){if((c=tL.sD.toString(a))in n){let e={variable:n[c],variableModeId:l};return s[c]=e,e}let e=o.CWU.getSubscribedVariableInfo(c);if(e){let t={variable:(0,tF.ZI)(e),variableModeId:l};return s[c]=t,t}}return c&&c in s?s[c]:null}(),u=(0,r.wA)(),p=function(){let e=o.Ez5?.uiState().backgroundPickerOpen.getCopy(),t=(0,r.d4)(e=>e.mirror.appModel.prototypeBackgroundPickerOpen),n=(0,r.d4)(e=>e.variablePickerShown.isShown),i=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),a=(0,r.d4)(e=>e.mirror.selectionProperties.numSelected);return e||t||n||i.type!==o.rrT.NONE||0!==a}(),m=(0,tR.E3)(),h=(0,tr.Ep)(),g=(0,d.md)(t3.wg),y=(0,d.md)(t4),v=function(){let e=(0,d.md)(tJ.U),[t,n]=a.useState(!0);return a.useEffect(()=>{let e=()=>{n(!0)},t=()=>{n(!1)};return document.addEventListener("mouseenter",e),document.addEventListener("mouseleave",t),()=>{document.removeEventListener("mouseenter",e),document.removeEventListener("mouseleave",t)}},[]),t?null:e}(),[b,C]=(0,tY.Vc)("has_toggled_eyedropper_creation_mode",!1),[E,j]=a.useState(!1),[w,T]=a.useState(!1),k=a.useRef(null),I=a.useRef(null);a.useLayoutEffect(()=>{if(I.current){if(null!=v){let{width:t,height:n,rgba:i}=v,{grid:a}=e;nf(I.current,{width:t,height:n,rgba:i,grid:a,colorProfile:h},!0)}else{let{width:t,height:n,rgba:i,grid:a}=e;nf(I.current,{width:t,height:n,rgba:i,grid:a,colorProfile:h},!0)}}});let S=(0,t2.v4)(),N=(0,t8.Ig)(),A=(0,eb.Ku)(),L=function(){let e=(0,eb.Ku)();return a.useCallback(()=>{let t=Object.keys(o.NVY).length/2,n=(e+1)%(t-1),i=[o.NVY.CSS,o.NVY.UIColor];for(;i.includes(n);)n=(n+1)%(t-1);(0,eb.UK)().colorFormat.set(n)},[e])}(),O=tV({subscribeToUpdates__EXPENSIVE:y}),R=(0,eF.H0)(v?.color??e.color)??eF.UE,P=(0,eF.H0)(e.resolvedVariableColor)??eF.UE,M=m===Y.nT.Whiteboard,D=m===Y.nT.DevHandoff,F=c?.style?c.style:void 0,B=c?.variable?c.variable:void 0,U=!M&&!D,H=U&&e.dropperData.creationFlow!==o._4o.NONE&&!F&&!B,V=!g||D||!p&&!H,G=N(R,{eyedropperFormat:!0})||"",z="",K=[];F?(z=F.name,n=(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"eyedropper_v2--styleCircle--rLPqT"}),(0,i.jsx)(ne.zi,{dsStyle:F,disableOutline:!0,disableTooltip:!0})]}),s="eyedropper-v2-style",K=[{key:"modifier-1",label:"shift"}]):B?(z=D?(0,t2.xv)(B,S.id)??B.name:B.name,n=(0,i.jsx)(t7.J,{className:nx,color:P,hideBorderShadow:!0}),s="eyedropper-v2-variable",K=[{key:"modifier-1",label:"shift"}]):U&&b?(e.dropperData.creationFlow===o._4o.STYLES?(z=(0,_.t)("eyedropper.create_style"),n=(0,i.jsx)(tq.J,{}),s="eyedropper-v2-style-creation"):e.dropperData.creationFlow===o._4o.VARIABLES&&(z=(0,_.t)("eyedropper.create_variable"),n=(0,i.jsx)(tq.J,{}),s="eyedropper-v2-variable-creation"),K=[{key:"modifier-1",label:"shift"},{key:"modifier-2",label:f.Ay.mac?"\u2318":"ctrl",isMetaKey:f.Ay.mac}]):(z=V?(0,_.t)("eyedropper.click_to_copy"):(0,_.t)("eyedropper.click_to_sample"),n=(0,i.jsx)(tX.V,{}));let W=a.useCallback(()=>{if(!k.current)return null;t(R,e)},[t,R,e]),Z=a.useCallback(()=>{if(!k.current||!V&&p)return!1;let t="",n="";return E&&(F?t="style name":B&&(t="variable name"),n=z),""===t&&(t=A===o.NVY.HEX?"hex":t9.F.format(A),n=G),(0,t$.Dk)(n),u(x.F.enqueue({message:(0,_.t)("visual_bell.copied_color_to_clipboard_figma_design",{colorType:t}),count:n,icon:t1.zX.EYEDROPPER})),!function(e,t,n,i,a){let r,s;let o=nl.D.getState(),[l,d]=(r="raw",s=n,i&&"style name"===t?(r="style",s=i.node_id):a&&"variable name"===t&&(r="variable",s=a.node_id),[r,s]);(0,nd.ds)("eyedropper_copy",o.openFile?.key,o,{tracking_session_dropper_id:e,selection_type:l,copied_value:d,contains_style:!!i,contains_variable:!!a})}(e.dropperData.dropperId,t,n,F,B),!0},[A,u,e.dropperData,G,p,z,E,F,B,V]),q=a.useCallback((e,t)=>{if(o.OmW?.toggleOffEyedropper(),H&&E){W();return}Z()||tz.l7.system(e,()=>{o.OmW?.applyPaint(tG.oU(R),t?B?.node_id??null:null,t?F?.node_id??null:null)})},[Z,H,R,W,E,F?.node_id,B?.node_id]),X=a.useCallback(()=>{q("apply-global-eyedropper-with-click",!1)},[q]),J=t0.fo("stylesAndVariablesEyedropper","keydown",a.useCallback(e=>{let{event:t}=e,n=f.Ay.mac?t.metaKey:t.ctrlKey;"Tab"===t.key&&(L(),e.accept()),t.shiftKey&&(F||B||!n||C(!0),(H&&n||F||B)&&(j(!0),e.accept())),"Enter"===t.key&&k.current&&(q("apply-eyedropper-with-keyboard",E),e.accept())},[q,H,L,E,C,F,B])),Q=a.useCallback(e=>{let t=f.Ay.mac?e.metaKey:e.ctrlKey;(e.shiftKey||"Shift"!==e.key)&&(!H||t||"Meta"!==e.key)||j(!1)},[H]),$=a.useCallback(()=>{Z()},[Z]),ee=a.useCallback(e=>{H&&E&&W()},[H,E,W]),et=a.useCallback(()=>{T(!0)},[]);a.useEffect(()=>(window.addEventListener("keyup",Q),window.addEventListener("pointerup",$),window.addEventListener("mousedown",ee),window.addEventListener("mousemove",et,{once:!0}),()=>{window.removeEventListener("keyup",Q),window.removeEventListener("pointerup",$),window.removeEventListener("mousedown",ee),window.removeEventListener("mousemove",et)}));let en=(0,l.kc)().desktop_floating_eyedropper&&tQ.eD?.isFloatingWindowAvailable(),ei=(0,ex.jz)(M?ew.tXK:ew.k22),ea=(()=>{let t;if(!y&&!v)return null;if(!en){let n=O(e.cursorPosition.x,e.cursorPosition.y,ei);t={transform:`translate(${n.x}px, ${n.y}px)`}}return(0,i.jsxs)("div",{className:ed()("eyedropper_v2--eyedropperv2----W5m",w&&"eyedropper_v2--eyedropperv2Animation--AQ3Od"),style:t,ref:k,"data-testid":"eyedropper",children:[(0,i.jsx)("div",{className:"eyedropper_v2--loupeSamplingSquare--mt9xT"}),(0,i.jsx)("canvas",{ref:I}),!M&&(0,i.jsxs)("div",{children:[(0,i.jsx)(nv,{icon:(0,i.jsx)(t7.J,{className:nx,color:R,hideBorderShadow:!0}),text:G,keyBadges:[],isSelected:!E}),(0,i.jsx)(nv,{icon:n,text:z,keyBadges:K,isSelected:E,dataTestId:s})]})]})})();return(0,i.jsxs)(i.Fragment,{children:[null!=ea&&(0,i.jsx)(t5.vL,{focusOnMount:!0,name:"stylesAndVariablesEyedropper",handleKeyDown:J}),en?(0,i.jsx)(no,{loupeHeight:e.height,loupeWidth:e.width,panelHeight:(0,ex.jz)(ew.ZAq),panelWidth:ei,hidden:null==ea,onClick:X,children:ea}):null!=ea&&(0,i.jsx)(t6.ix,{position:e.cursorPosition,currentToolForCursor:o.NLJ.DROPPER_COLOR,children:ea})]})}function nv({icon:e,text:t,keyBadges:n,isSelected:a,dataTestId:r}){return(0,i.jsxs)("div",{className:ed()("eyedropper_v2--menuRow--IGEss",a&&"eyedropper_v2--selectedRow--GlyoK",w.Dm),"data-testid":r,children:[(0,i.jsxs)("div",{className:n_,children:[(0,i.jsx)("div",{className:"eyedropper_v2--iconContainer--TVZ5N",children:e}),(0,i.jsx)("div",{className:ed()("eyedropper_v2--menuOption--WK4oh",ng),children:t})]}),(0,i.jsx)("div",{className:n_,children:n&&n.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:ed()(ng,e.isMetaKey?"eyedropper_v2--keyMetaBadge--S1g3y eyedropper_v2--keyBadge--9GITk":"eyedropper_v2--keyTextBadge--ERRPy eyedropper_v2--keyBadge--9GITk"),children:(0,i.jsx)(ec.S,{shortcut:e.label})})},e.key))})]})}function nb(){let e=(0,r.d4)(e=>e.eyedropper),t=a.useRef(),n=tV({subscribeToUpdates__EXPENSIVE:!!e}),[s,l]=a.useState(!1),[d,c]=a.useState(null),[u,p]=a.useState("createVariable"),[m,h]=a.useState(!1),f=a.useCallback((e,i)=>{l(!0),c(e),p(i.dropperData.creationFlow===o._4o.STYLES?"createStyle":"createVariable"),h(i.dropperData.canAcceptStyles);let a=n(i.cursorPosition.x,i.cursorPosition.y,tA.i),r=new e1.Mi(a.x+i.cursorPosition.x,a.y+i.cursorPosition.y);t.current=r,o.OmW?.toggleOffEyedropper()},[n]),g=a.useCallback(()=>{l(!1)},[]),_=s&&d;return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(ny,{eyedropper:e,onOpenCreationModal:f}),_&&(0,i.jsx)(tZ,{initialPosition:t.current,initialCreationColor:d,initialView:u,disableStyleModal:!m,onClose:g})]})}var nC=n(919410),nE=n(516954);function nj({clientX:e,clientY:t,selectedView:n,deleteCollection:a,collectionId:s}){let o=(0,r.wA)(),d=(0,nC.ZX)(),{appModel:u,sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=[];return null!=a&&h.push({name:"dakota-delete-collection",callback:()=>{a()}}),(0,l.kc)().dakota_import_export&&h.push({name:"dakota-export-collection-internal",callback:async()=>{let e=await d(s);e||o(x.F.enqueue({message:"Could not export collection to clipboard"})),navigator.clipboard.writeText(e??""),o(x.F.enqueue({message:"Collection exported to clipboard"}))}}),(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:u,dispatch:o,menuItems:h,recordingKey:"dakotaCollectionContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}function nw({clientX:e,clientY:t,selectedView:n,deleteField:a,duplicateField:s}){let o=(0,r.wA)(),{appModel:l,sceneGraph:d,sceneGraphSelection:u}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),p=[];return p.push({name:"dakota-duplicate-field",callback:s},{separator:!0},{name:"dakota-delete-field",callback:a}),(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:l,dispatch:o,menuItems:p,recordingKey:"dakotaFieldContextMenu",removeDisabledItems:!0,sceneGraph:d,sceneGraphSelection:u,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}function nT({clientX:e,clientY:t,selectedView:n,deleteItemOrItems:a}){let s=(0,r.wA)(),{appModel:o,sceneGraph:l,sceneGraphSelection:d}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),u=[];return null!=a&&u.push({name:"dakota-delete-item",callback:()=>{a()}}),(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:o,dispatch:s,menuItems:u,recordingKey:"dakotaItemContextMenu",removeDisabledItems:!0,sceneGraph:l,sceneGraphSelection:d,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}var nk=n(4033),nI=n(638004),nS=n(550209);function nN(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function nA(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.mirror.appModel),a=e.clientX,s=e.clientY,o=async t=>{let n=await fetch(e.attachment.imageUrl,{mode:"cors"}),i=await n.blob();if(!t)return i;if("image/jpeg"===i.type||"image/gif"===i.type){let e=await createImageBitmap(i),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");return n?.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return i},l=[{name:"download-attachment",callback:async()=>{try{await o(!1).then(n=>{let i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=(0,_.t)("comments.attachment_default_name",{fileExtension:n.type.split("/")[1]}),a.click(),URL.revokeObjectURL(i),(0,e$.sx)("Comment Attachment Download Success",nN(e.attachment)),t(x.F.enqueue({message:(0,_.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(n){(0,e$.sx)("Comment Attachment Download Failure",nN(e.attachment)),(0,nS.$D)(nI.e.FEEDBACK,n),t(x.F.enqueue({message:(0,_.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(x.F.enqueue({message:(0,_.t)("comments.copying_attachment"),type:"copy-attachment",icon:t1.zX.SPINNER}));try{await o(!0).then(async n=>{let i=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([i]).then(()=>{(0,e$.sx)("Comment Attachment Copy Success",nN(e.attachment)),t(x.F.enqueue({message:(0,_.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(n){(0,e$.sx)("Comment Attachment Copy Failure",nN(e.attachment)),(0,nS.$D)(nI.e.FEEDBACK,n),t(x.F.enqueue({message:(0,_.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return(0,i.jsx)(nE.Q,{appModel:n,menuItems:l,targetRect:{width:10,height:10,left:a+100,top:s,right:a+110,bottom:s-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var nL=n(928693),nO=n(549571),nR=n(166887),nP=n(878566),nM=n(111297),nD=n(104836),nF=n(19877),nB=n(478146);function nU({children:e,entryPoint:t}){let n=(0,tp.tS)(),r=(0,M.iZ)(),s=(0,nD.ol)(),o=(0,nP.O)(),l=(0,nR.U)(),d=(0,nF.U)("upsell"),c=(0,a.useCallback)(()=>{l("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:t},{forwardToDatadog:!0}),d("handoff")},[t,d,l]);return(0,i.jsx)(nM.fu,{name:"Dev Mode Upsell In Design Mode",properties:{currentPlan:o,teamId:s?.id,userId:r?.id,fileKey:n,upsellSource:t},children:(0,i.jsxs)(eY.E,{className:"context_menus_upsells--upsellItem--lBYll",onClick:c,children:[(0,i.jsx)(e3.B,{svg:nB.A}),(0,i.jsx)("span",{children:e})]})})}function nH(){return(0,i.jsx)(nU,{entryPoint:"design_section_status",children:(0,_.tx)("dev_handoff.paywall.ready_for_dev.upsell")})}function nV(){return(0,i.jsx)(nU,{entryPoint:"design_copy_as_code",children:(0,_.tx)("dev_handoff.paywall.codegen.upsell")})}function nG(){return(0,i.jsx)(nU,{entryPoint:"design_annotations",children:(0,_.tx)("dev_handoff.paywall.annotations.upsell")})}function nz({targetInViewport:e,annotationsCount:t,selectedView:n}){var a;let s=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),l=(0,r.d4)(e=>e.mirror.sceneGraph),d=(0,nF.U)("annotations_button"),c=(0,tM.ni)(),u=(0,nO._I)(),p=(0,nO.U4)(),m=(a=()=>d("handoff"),u?[{name:"view-annotations",callback:a,flags:["design"]},{separator:!0},{render:()=>(0,i.jsxs)("div",{className:e5.s.flex.itemsCenter.colorTextMenuSecondary.columnGap4.pl4.pb4.pr10.pt0.$,children:[(0,i.jsx)(tX.V,{style:{"--color-icon":"var(--color-text-menu-secondary)"}}),(0,_.tx)("dev_handoff.paywall.annotations.double_click_hint")]}),optionHeight:32}]:p?[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>(0,i.jsx)(nG,{}),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})}]),h=e.origin.x+c.x,f=e.origin.y+c.y,g={left:h,top:f,right:h+e.size.x,bottom:f+e.size.y,width:e.size.x,height:e.size.y};return(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{allowDisabledOnly:!p,appModel:o,dispatch:s,menuItems:m,minWidth:50,recordingKey:"annotationsButtonMenu",removeDisabledItems:p,sceneGraph:l,selectedView:n,showPoint:!0,targetRect:g})})}var nK=n(814082),nW=n(469229),nZ=n(977899);function nq(e){let t=(0,r.wA)(),n=(0,ev.I_)(),a=(0,r.d4)(e=>e.mirror.appModel);if(!(0,r.d4)(e=>(0,nW.U2)(e.selectedView)))return null;let{thread:s}=e,o=!!s.comments.find(e=>e.isUnread),l=!!s.isPendingFromSinatra,d=null,c=n.commentReceipts;c&&(d=o?{name:"mark-as-read",callback:()=>{t(nK.AY({receiptsAPI:c,thread:s}))}}:{name:"mark-as-unread",callback:()=>{t(nK.QY({receiptsAPI:c,comment:s.comments[0]}))}});let u=[];l||((0,nZ.m)(s.sidebarItemType)?u.push({name:"resolve",callback:()=>{t(nK.hx({thread:s,resolved:!0}))},disabled:null!=s.commentPin},d,{name:"copy-link",callback:()=>{e.copyLink(s.comments[0])}},{separator:!0}):u.push({name:"copy-link",callback:()=>{e.copyLink(s.comments[0])}},{separator:!0})),u.push({action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.hide_comments")});let p=u.filter(e=>e).map(e=>e),m={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return(0,i.jsx)(nE.Q,{appModel:a,menuItems:p,targetRect:m,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var nX=n(999083),nY=n(615654),nJ=n(926653),nQ=n(146283),n$=n(190028),n0=n(846696),n1=n(18978),n2=n(997477),n3=n(432099),n5=n(607804),n4=n(21791),n6=n(80341),n7=n(975961),n9=n(977745),n8=n(193350),ie=n(896058);async function it({paint:e,fileKey:t,dispatch:n}){if(!t||"VIDEO"!==e.type||!e.video||!e.video?.hash)return ia("Incorrect asset type"),null;n(n8.n.set({message:(0,_.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let i=await (0,ie.w6)({paint:e,fileKey:t});if(null===i)return ia("Error getting download url for asset"),null;ii(i)}let ii=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},ia=e=>{(0,nS.$D)(nI.e.FIGJAM,Error(`Error exporting video: ${e}`))};var ir=n(619070),is=n(683875),io=n(243397),il=n(218329),id=n(62913),ic=n(330378),iu=n(956442),ip=n(866786),im=n(164131),ih=n(470876),ig=n(84463),i_=n(222195),ix=n(324109),iy=n(220411),iv=n(297869),ib=n(221479);function iC(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var iE=n(167507),ij=n(772523),iw=n(775262),iT=n(666188),ik=n(851461),iI=n(248043),iS=n(303106),iN=n(453619),iA=n(252677),iL=n(912610),iO=n(8828),iR=n(402276),iP=n(319706),iM=n(792028),iD=n(299640),iF=n(437761),iB=n(532096),iU=n(132672),iH=n(402767),iV=n(704422),iG=n(842909),iz=n(854284),iK=n(888760),iW=n(288971),iZ=n(390452),iq=n(196486),iX=n(167037),iY=n(45754),iJ=n(167151),iQ=n(237400),i$=n(831104),i0=n(351231),i1=n(625635);function i2(e,t){return{action:"slides-rewrite-text",flags:["slides"],callback:()=>(0,i$.mD)(e,{source:"context_menu"}),disabled:!t}}function i3(e){return!d.zl.get(i$.Tm)&&e}var i5=n(171396),i4=n(668242),i6=n(172996),i7=n(764973),i9=n(929171),i8=n(415567),ae=n(30508);function at(){let e=(0,tR.Em)(),t=(0,i9.y)().transform(e=>e?.canCreateSitesFileWithReasons.result).unwrapOr(!1),n=(0,tp.Kf)(),i=(0,i8.Vr)();if(!i||!i.isTopLevelFrame())return!1;let a=i.size.x;return!(a<1200)&&!(a>1600)&&!!e&&!!t&&!!n}let an=(0,n(338052).n)((e,t)=>{(0,nd.Cu)({trackingContext:"SelectionContextMenu > DesignToSites",text:"Copy to Figma Sites",pageId:e,nodeId:t})}),ai={name:"copy-to-figma-sites",flags:["edit","design"],callback:(e,t,n)=>{let i=nl.D.getState(),a=(0,e_.UN)(),r=(0,ae.j)(a.getDirectlySelectedNodes().map(e=>e.guid)),s=i.openFile?.key,o=i.fileVersion,l=a.getCurrentPage()?.guid;if(!s||!o||!l||!r){(0,k.x1)("designToSites","Unable to fetch required data to create a new Sites file",{fileKey:s,fileVersion:o,pageGuid:l,selectedNodeId:r},{reportAsSentryError:!0}),x.F.enqueue({message:(0,_.t)("selection_context_menu.error_creating_sites_file"),type:"design-to-sites-error",error:!0});return}let c=d.zl.set(i6.me,{fileKey:s,fileVersion:o,pageGuid:l,selectedNodeId:r}),u=(0,i7.Kl)(i);an(l,r),n((0,i4.zE)({state:u,from:iD.f6.DESIGN_COPY_TO_SITES_ENTRYPOINT,editorType:D._Y.SITES,team:void 0,openNewFileIn:iD.ai.NEW_TAB,newFileDataLocalStorageKey:c}))}};var aa=n(930658);let ar=(0,ex.hG)(ew.tui);function as(e){let t=(0,r.wA)(),n=e.clientX,a=e.clientY;return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{allowCodegenOptions:e.selectedView.editorType===Y.nT.Design,appModel:e.appModel,"aria-labelledby":e.ariaLabelledBy,dispatch:t,isLimitedDevMode:e.isLimitedDevMode,menuItems:(0,nX.WI)((()=>{var n,i,a,r;let s=e.isPrototypeCanvasEditUiVisible&&!e.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],d=window.FigmaMobile,c=ag(e.appModel.showComments,e.selectedView,e.viewportInfo,e.clientX,e.clientY,t,d?.requestToAddDraftCommentPin),u=e.selectedView.editorType===Y.nT.Whiteboard,p=e.selectedView.editorType===Y.nT.Slides,m=e.selectedView.editorType===Y.nT.Sites,h=e.selectedView.editorType===Y.nT.Figmake,g=e.selectedView.editorType===Y.nT.Cooper,x=(0,iB.$A)(e.selectedView),y=f.Ay.windows?"Ctrl+":"\u2318",v={action:"paste-here",flags:["edit"],displayText:u?(0,_.t)("fullscreen_actions.paste"):void 0,shortcutText:u?`${y}V`:void 0},b=!f.Ay.safari||d?.readClipboardData?[v,u?{separator:!0}:null]:[],C={name:"start-chat",disabled:e.isJoinedToActiveVotingSession||e.isCursorChatDisabled,callback:(n,i,a,r)=>{o.glU?.triggerAction("set-tool-default",null),t(is.F6({position:{x:r.clientX||e.clientX,y:(r.clientY||e.clientY)-ar},source:"canvas_context_menu"}))}},E=i2(t,(n=e.hasSlidesAiTextEnabled,i={x:e.clientX,y:e.clientY},a=e.slideId,r=e.viewportInfo,!!(a&&r&&(0,i1.ih)(a,i,r))&&i3(n))),j=e.openFile,w=e.canPublishOrgTemplate&&j?(0,i5.we)({dispatch:t,file:{key:j.key,name:j.name,folder_id:j.folderId,team_id:j.teamId,editor_type:j.editorType,parent_org_id:j.parentOrgId},fileNeedsMovingBeforePublish:e.fileNeedsMovingBeforePublish,isPublished:e.isFilePublishedTemplate,source:"fullscreen-context-menu"}):null,T=u&&!(0,l.kc)().figjam_quick_actions_v2,k=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.show_hide_comments")},...u||h?[]:[{separator:!0},C],T||h?null:{action:"toggle-menu",displayText:(0,iW.gn)()?(0,_.t)("fullscreen_actions.toggle-actions-menu"):(0,_.t)("fullscreen_actions.toggle-menu")},!e.userCanViewPlugins||m&&!(0,l.kc)().sites_plugin_api||g&&!(0,l.kc)().buzz_plugins||h?null:(0,iu.qz)({...e,isReadOnly:e.appModel.isReadOnly},"contextmenu"),e.appModel.isReadOnly||!e.userCanViewWidgets||x?null:(0,ip.Vd)(e,"contextmenu"),w,...s],I=[...c,...b,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...u?[C,{separator:!0}]:[],...p?[{separator:!0},E]:[],...k];return av(I,"canvas_context_menu"),I})()),recordingKey:"canvasMenu",removeDisabledItems:!0,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:n+100,top:a,right:n+110,bottom:a-10}})})}function ao(e){let t=(0,nk.op)(),n=(0,nk.$1)(),s=(0,nk.cW)(),o=(0,nk.Be)(),l=o.orgPlugins,d=o.orgWidgets,c=(0,im.h)("plugin"),u=(0,im.h)("widget"),p=(0,nk.NU)(),m=(0,nk.qr)(),h=(0,nk.ZT)(),f=(0,iV.S)(),g=(0,nR.am)();a.useEffect(()=>{g("Canvas Right Click")},[g]);let _=(0,tM._X)({subscribeToUpdates_expensive:!0}),x=(0,ih.J3)(),y=(0,ih.JU)(x),v=x===ih.kN.FILE_IN_DRAFTS,b=!!(0,ih.kD)(),C=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),E=ay(),j=(0,i$.Ne)(),w=(0,iQ.Jb)(),T=(0,r.d4)(tp.tB),k=(0,r.d4)(e=>e.selectedView.editorType),I=(0,r.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]||null),S=(0,r.d4)(e=>e.mirror.appModel),N=(0,r.d4)(ik.gR),A=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,i.jsx)(as,{...e,activeTextReviewPlugin:C,allSavedPlugins:o.plugins,appModel:S,canPublishOrgTemplate:y,editorType:k,fileNeedsMovingBeforePublish:v,hasSelection:A,hasSlidesAiTextEnabled:j,isCursorChatDisabled:f,isFilePublishedTemplate:b,isJoinedToActiveVotingSession:N,isPrototypeCanvasEditUiVisible:E,localExtensions:n,openFile:T,org:I,orgPrivatePlugins:c,orgPrivateWidgets:u,orgSavedPlugins:l,orgSavedWidgets:d,publishedPlugins:s,publishedWidgets:h,recentlyUsedPlugins:t,recentlyUsedWidgets:m,savedWidgetVersions:p,slideId:w,viewportInfo:_})}let al=(e,t)=>o.glU?o.glU.getObjectsListUnderCursor(e,t):[],ad=class e extends a.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{ij.Uc(e)},this.objectsListMouseExit=()=>{ij.Uc("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let n=al(e,t);if(null==n)return[];let i=[];for(let e of n){let t=e.nodeId;i.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",source:"canvas_context_menu",displayText:(0,_.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return i},this.getNodeTypeForCopyLinkText=()=>{let e=this.getSelectionGuid();return e&&o.glU?o.glU.isPlatformShape(e)?o.Z6A.SHAPE_WITH_TEXT:o.glU.getNodeType(e):null},this.getPageListForMoveToMenu=()=>{let e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];let t=[];for(let n of e)n.nodeId!==this.props.appModel.currentPage&&(n.isDivider?t.push({separator:!0}):t.push({name:n.name,args:{nodeId:n.nodeId,name:n.name},action:"page-move-to",displayText:(0,_.t)("fullscreen_actions.page-move-to",{name:n.name??""})}));return t},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(o.iCO.NONE),relatedStateMenu:this.getRelatedComponentMenu(o.iCO.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeTypeForCopyLinkText:this.isFigjam()?this.getNodeTypeForCopyLinkText():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){let t;if(e!==o.iCO.NONE&&e!==o.iCO.STATE_INSTANCE)return null;let n={userId:this.props.user?.id,fileKey:this.props.openFile?.key,orgId:this.props.openFile?.parentOrgId??void 0,teamId:this.props.openFile?.teamId??void 0},i=(0,iP.SY)(this.props.masterSymbolGUID,this.props.dispatch,this.props.openFile?.key||"",(0,nJ.l)(this.props.openFile?.libraryKey??""),this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.isCooper,e,n,this.props.stateGroupSelectionInfo);if(0===i.length)return null;t=e===o.iCO.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let a=this.props.clientX,r=this.props.clientY;return{items:i,showPoint:!1,parentRect:{width:10,height:10,left:a+100,top:r,right:a+110,bottom:r-10},recordingKey:t,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return o.glU?o.glU.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY):null}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),n=this.props.spellCheckPreference,i=this.props.appModel.spellCheckSuggestions,a=i||!n?[{name:"spell-check-menu",flags:["design","whiteboard","slides","cooper"],children:[(0,iT.x)(),{separator:!0},...(0,iT.A)()]},...this.props.userCanViewPlugins?(0,iu.dL)(this.props,"contextmenu"):[]]:[];return[...n||this.props.appModel.activeTextReviewPlugin?a_(i,this.props.editorType):[],...a,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getFaviconMenu(e){return{name:e?"clear-favicon":"set-favicon",args:{label:e?(0,_.t)("fullscreen_actions.clear_favicon"):(0,_.t)("fullscreen_actions.set_as_favicon")},flags:["edit","!slides","sites"],featureFlags:["sites"],callback:()=>{let t=e_.UN().getCurrentPage()?.guid;void 0!==t&&tz.l7.user("set-web-settings",()=>{o.glU?.setWebMetadata({faviconID:e?"":this.getSelectionGuid()},[t]),T.Y5.commit()})}}}getFileThumbnailMenu(e){return{name:(0,l.kc)().dse_library_pg_thumbnails?T.Y5.getFileThumbnailMenuItemName():T.Y5.getThumbnailMenuItemName(),args:(0,l.kc)().dse_library_pg_thumbnails?{label:e?(0,_.t)("fullscreen_actions.restore_default_file_thumbnail"):(0,_.t)("fullscreen_actions.set_as_file_thumbnail")}:{label:e?(0,_.t)("fullscreen_actions.restore_default_thumbnail"):(0,_.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(ir.$m({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}getPageThumbnailMenu(){return{get name(){return T.Y5.getPageThumbnailMenuItemName()},callback:()=>T.Y5.handlePageThumbnailMenuItem(),get disabled(){return T.Y5.disablePageThumbnailMenu()},flags:["edit","design"],featureFlags:["dse_library_pg_thumbnails"]}}selectedEmbedOrLinkPreviewHasValidUrl(){return this.props.widgetSelectionInfo?.pluginID===iE.k.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||this.props.widgetSelectionInfo?.pluginID===iE.k.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&this.props.selectedView.editorType===Y.nT.Whiteboard}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeTypeForCopyLinkText?function(e){switch(e){case o.Z6A.STICKY:return(0,_.t)("fullscreen_actions.copy-link-to-sticky");case o.Z6A.CONNECTOR:return(0,_.t)("fullscreen_actions.copy-link-to-connector");case o.Z6A.WIDGET:return(0,_.t)("fullscreen_actions.copy-link-to-widget");case o.Z6A.STAMP:return(0,_.t)("fullscreen_actions.copy-link-to-stamp");case o.Z6A.SECTION:return(0,_.t)("fullscreen_actions.copy-link-to-section");case o.Z6A.TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-text");case o.Z6A.TABLE:return(0,_.t)("fullscreen_actions.copy-link-to-table");case o.Z6A.WASHI_TAPE:return(0,_.t)("fullscreen_actions.copy-link-to-washi-tape");case o.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-shape");case o.Z6A.INSTANCE:return(0,_.t)("fullscreen_actions.copy-link-to-instance");default:return(0,_.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeTypeForCopyLinkText):this.isSelectedElementASlide()?(0,_.t)("fullscreen_actions.copy_link_to_slide"):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,iB.$A)(this.props.selectedView)&&this.props.attributionContextKey,n=(0,C.Wl)(this.props.selectedView),i=(0,C.s4)(this.props.selectedView),a=(0,i0.P)(this.props.selectedView),r=nl.D?.getState()?.openFile?.canEdit,s=(0,n0.Ki)()&&(0,l.kc)().aip_flower_garden_on_copy&&r,c=this.getSelectionGuid(),u=(0,iI.jN)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,iB.$A)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),isDevModeOverview:n,devModeFocusId:i,attributionContext:t?(0,iS.b)(this.props.attributionContextKey,iS.d.FULLSCREEN_CONTEXT_MENU):null});if((0,l.kc)().ce_copy_labelled_links){let t=(0,e_.UN)().get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}s&&d.zl.set(n0.ui,c??null);let p=(()=>{if(s)return{visualBellTypeOverride:n1.xp,visualBellMessageComponentKeyOverride:t1.Rw.DESIGN_LINTER_COPY_SELECTION,visualBellButton:{text:(0,_.t)("fullscreen_actions.quick_actions.detect-violations"),action:()=>{(0,iH.u)({source:o.Qej.COPY_SELECTION_TOAST})}},visualBellExtras:{onDismiss:()=>{}}};if(this.isFigjam()&&this.state.nodeTypeForCopyLinkText)return{visualBellMessageOverride:function(e){switch(e){case o.Z6A.STICKY:return(0,_.t)("visual_bell.copy_link_to_sticky");case o.Z6A.CONNECTOR:return(0,_.t)("visual_bell.copy_link_to_connector");case o.Z6A.WIDGET:return(0,_.t)("visual_bell.copy_link_to_widget");case o.Z6A.STAMP:return(0,_.t)("visual_bell.copy_link_to_stamp");case o.Z6A.SECTION:return(0,_.t)("visual_bell.copy_link_to_section");case o.Z6A.TEXT:return(0,_.t)("visual_bell.copy_link_to_text");case o.Z6A.TABLE:return(0,_.t)("visual_bell.copy_link_to_table");case o.Z6A.WASHI_TAPE:return(0,_.t)("visual_bell.copy_link_to_washi_tape");case o.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("visual_bell.copy_link_to_shape");case o.Z6A.INSTANCE:return(0,_.t)("visual_bell.copy_link_to_instance");default:return(0,_.t)("visual_bell.copy_link")}}(this.state.nodeTypeForCopyLinkText)};if(a&&c){let e=(0,e_.UN)().get(c);if(e)return{visualBellMessageOverride:(0,_.t)("copy_to_clipboard.slides.link_to_slide_copied_to_clipboard",{name:e.name})}}return{}})(),m={fileKey:this.props.openFile.key,url:u,label:e,source:iS.d.FULLSCREEN_CONTEXT_MENU,visualBellTypeOverride:p.visualBellTypeOverride,visualBellButton:p.visualBellButton,visualBellExtras:p.visualBellExtras,showVisualBellOnErrorForInteractionTests:s},h=p.visualBellMessageComponentKeyOverride?{...m,visualBellMessageComponentKeyOverride:p.visualBellMessageComponentKeyOverride}:{...m,visualBellMessageOverride:p.visualBellMessageOverride};this.props.dispatch(ir.S(h))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_phone",{number:t})}}else{let t=iC(e);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,iA.UA)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,tc.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,n7.V8)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let e=this.props.embedData?.url||this.props.embedData?.srcUrl||this.props.linkPreviewData?.url,t=iC(decodeURIComponent(e));return{name:"labeled-menu-item",args:{label:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t})},callback:()=>{!function(e,t){let n=decodeURIComponent(t);(0,t$.Dk)(n),(0,ib.Rm)(iv.yc.COPY_LINK,n),e(x.F.enqueue({type:"copy-preview",message:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:iC(n)}),error:!1}))}(this.props.dispatch,e)}}}getMaybeEmbedDeactivateMenu(){return this.props.widgetSelectionInfo?.pluginID===iE.k.EMBED_WIDGET&&o.Ez5&&this.props.widgetSelectionInfo.widgetID===o.Ez5.embedUiState().activeEmbedData.getCopy().embedNodeId?{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{o.glU?.deactivateEmbed()}}:null}getExportVideo(){if(!this.props.fillPaints||(0,tc.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!e)return null;let t=this.props.openFile?.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard","design"],platforms:["!ipad"],displayText:(0,_.t)("fullscreen.context_menu.export_selected_video"),callback:(n,i,a)=>{it({paint:e,fileKey:t,dispatch:a})}}}getCombineVideoStack(){return{action:"combine-selected-video-stack",flags:["edit","design"],platforms:["!ipad"],displayText:(0,_.t)("fullscreen.context_menu.combine_selected_video_stack"),callback:async()=>{let e=Object.keys(this.props.sceneGraphSelection);if(1!==e.length||!e[0])return;let t=this.props.sceneGraph.get(e[0]);if(!t)return;let n=t.childrenNodes.map(e=>{let t=o.ruz?.getTopmostVideoIndex(e.id)??void 0;if(void 0!==t)return e.fills[t]?.video}).filter(e=>!!e),i=(await Promise.all(n.map(e=>(0,iX.f)(e)))).filter(e=>!!e),a=await (0,iX.M)(i);a&&tz.l7.ai("combine-selected-video-stack",()=>{if(!o.ruz)return;let e=(0,e_.UN)(),t=T.Y5.getViewportInfo(),n=e.createNode("RECTANGLE");n.size={x:1280,y:720},n.x=t.offsetX-n.size.x/2,n.y=t.offsetY-n.size.y/2,o.ruz.insertVideoInNode(n.id,a,(0,_.t)("fullscreen.context_menu.combine_selected_video_stack")),T.Y5.triggerAction("commit")})},featureFlags:["aip_mw_video"]}}selectedDefaultLibraryComponents(){let e=Object.keys(this.props.sceneGraphSelection);if(0===e.length)return!1;let t=this.props.sceneGraph.get(e[0])?.symbolId;if(!t)return!1;let n=this.props.sceneGraph.get(t)?.sourceLibraryKey;return!!n&&(0,tD.td)(this.props.library.defaultPublished,n)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if(this.props.selectedView.editorType===Y.nT.Design)return null;let t=e=>this.props.dispatch(n9.af({id:e,resourceType:iM.bD.PLUGIN})),n=(0,iL.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(n,i)=>e.refreshCache.debounceRefresh(n,()=>t(n),i),iF.FW.FIGJAM),i=[],a=new Set;for(let e of n)a.has(e.pluginTypeAndID)||(i.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),a.add(e.pluginTypeAndID));return 0===i.length?null:{name:"remove-plugin-actions",children:[...i.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>o.NfO?.removeRelaunchDataFromSelection(t),args:{extensionName:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>i.map(({plugin_id:e})=>o.NfO?.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,J.Yh)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,J.Yh)(this.props.appModel,"push-changes-to-main"),n=(0,J.Yh)(this.props.appModel,"restore-symbol-or-state-group"),i=(0,J.Yh)(this.props.appModel,"add-variant"),a=(0,J.Yh)(this.props.appModel,"publish-selection"),r=[e,t,n,i,a].filter(Boolean).length;if(0===r)return null;if(1===r){if(e)return{action:"find-symbol"};if(i)return{action:"add-variant",flags:["edit"]};if(a)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,J.Yh)(this.props.appModel,"delete-table-contents"),t=(0,J.Yh)(this.props.appModel,"delete-current-table-row")||(0,J.Yh)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,n=!f.Ay.safari||!!t?.readClipboardData,a=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&!this.props.isBuzzCarousel&&n,r=this.props.isTextEditModeMenu,s=(0,iz.P5)(),o=(0,iK.C7)()&&this.props.hasFragmentSearchPermission,d=this.props.isEligibleForDesignToSites,c=(0,J.Yh)(this.props.appModel,"send-to-make-from-design")&&(this.props.shouldShowSendToMake??!1),u=(0,J.Yh)(this.props.appModel,"send-selection-to-buzz-from-design"),p=[d,c,u].filter(Boolean).length>1&&this.props.shouldConsolidateSendToEntryPoints(),m=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>(0,i.jsx)(nV,{}),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],h=f.Ay.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case Y.nT.Design:case Y.nT.Illustration:case Y.nT.Figmake:case Y.nT.Sites:case Y.nT.Slides:case Y.nT.Cooper:{let t=[c?{...iN.V6,...p?{name:"figma-make",iconType:"figmake",alwaysShowCheckMarkOffset:!0}:{name:"send-to-make-from-design"}}:null,u?{...p?{name:"figma-buzz",iconType:"buzz",alwaysShowCheckMarkOffset:!0}:{action:"send-selection-to-buzz-from-design"},flags:["edit","design"],callback:(e,t,n)=>{(0,n4.rN)(n,(0,n4.VY)({openFile:this.props.openFile,fileVersion:this.props.fileVersion}),iD.f6.SEND_SELECTION_TO_BUZZ_FROM_DESIGN_CONTEXT_MENU)}}:null,d?{...ai,...p?{name:"figma-sites",iconType:"sites",alwaysShowCheckMarkOffset:!0}:{name:"copy-to-figma-sites"}}:null];e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${h}C`}:null,a?{action:"paste-here",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-here"),shortcutText:r?`${h}V`:void 0}:this.props.isSingleSlideViewCarousel?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${h}V`}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:r?(0,_.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:r?`${h}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:m},{action:"copy-as-menu",flags:["!edit"],children:m},{action:"duplicate-in-place",flags:["edit","slides","cooper"],displayText:(0,_.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${h}D`},...p?[{name:"send-to",children:(0,nX.WI)(t)}]:t,s||o?{action:"find-inspiration",flags:["edit","!slides","!cooper"]}:null,(0,l.kc)().asset_suggestions_inspect_fragment?{action:"inspect-fragment",flags:["!slides","!cooper"]}:null];break}case Y.nT.DevHandoff:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${h}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${h}C`}:null,a?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${h}V`}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-to-replace")}:null]}return e}getCopyExportMenu(){return this.isFigjam()?[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,_.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]:(0,l.kc)().aip_mw_video?[this.getExportVideo()]:[]}rulerGuideMenu(e,t){let n="toggle-rulers",i=[e===o._0v.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:n,displayText:(0,_.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,J.c1)(this.props.appModel.keyboardShortcuts,n)},...this.getRulerUnitSubmenu()],a=[{action:"remove-guide"}];switch(t){case o.bQY.RULER:return i;case o.bQY.GUIDE:return a;case o.bQY.BOTH:return a.concat(...i);default:return[]}}getRulerUnitSubmenu(){let e=[{action:"toggle-ruler-unit-pixels",checked:(0,eb.UK)().renderRulerUnitAsPixels.getCopy()},{action:"toggle-ruler-unit-inches",checked:(0,eb.UK)().renderRulerUnitAsInches.getCopy()}];return[{action:"ruler-unit-menu",flags:["cooper"],children:(0,nX.WI)(e),featureFlags:["buzz_print_export"]}]}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["slides"]},{separator:!0},{action:"create-slide",flags:["slides"]},{action:"create-row",flags:["slides"],featureFlags:["slide_chapters"]},{action:"select-all-slides",flags:["slides"]},...this.skipSlidesMenu()]}isSelectedElementASlide(){let e=this.getSelectionGuid();if(!e)return!1;let t=(0,e_.UN)().get(e);return t?.type==="SLIDE"}skipSlidesMenu(){let e=(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!(0,nY.Y)(t))return!1}return!0})(),t=Object.keys(this.props.sceneGraphSelection).length>1;return e?[{separator:!0},(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!(0,nY.Y)(t)||!t.isSkippedSlide)return!1}return!0})()?{action:t?"unskip-slides":"unskip-slide",flags:["slides"]}:{action:t?"skip-slides":"skip-slide",flags:["slides"]}]:[]}slidesObjectAnimationMenu(){return(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!t||!t.isInSlide)return!1}return!0})()?[{action:"add-slide-object-animation",flags:["edit","slides"]}]:[]}buzzCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["cooper"]}]}sitesSemanticTagMenu(){let e=this.props.accessibilityPanelConfig;return e.tagEditable?{name:"change-tag",children:e.tagOptions.map(t=>{if("divider"in t)return{separator:!0};let n=t.value,i=n.toLowerCase(),a=(0,iY.K3)(n),r=e.accessibleHTMLTag===iY._I.AUTO?e.tagDefaultValue===n:e.accessibleHTMLTag===n;return{name:i,displayText:a,sideText:i,sideTextClassname:aa.Rc,rightJustifySideText:!0,callback:()=>{e.setAccessibleHTMLTag(n)},checked:r}}),flags:["edit","sites"],featureFlags:["sts_a11y_layers_semantic_tags"]}:null}contextMenu(){let{objectItems:e,relatedComponentMenu:t,relatedStateMenu:n}=this.state,a=this.props.appModel,r=this.props.selectedView.editorType===Y.nT.Design,s=this.props.selectedView.editorType===Y.nT.Slides,d=(0,iJ.Vj)(this.props.selectedView),c=this.props.selectedView.editorType===Y.nT.Figmake,u=this.props.selectedView.editorType===Y.nT.Cooper,p=this.props.selectedView.editorType===Y.nT.Illustration,m=(r||d||c||p)&&(0,J.Yh)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&e.length>1,h=this.props.isObjectsPanelMenu,f=h&&this.props.hasAIPermission&&(0,iK.Ii)(),g=window.FigmaMobile,x=ag(a.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,g?.requestToAddDraftCommentPin),y=(0,J.Yh)(this.props.appModel,"swap-to-related-symbol"),v=(0,J.Yh)(this.props.appModel,"swap-to-related-state"),b=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],C=this.getCopyPasteMenu(),E=this.getCopyExportMenu(),j=[m?{action:"select-node-menu",children:e,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],w=!r&&!p,T=s||d&&!(0,l.kc)().sites_plugin_api||c||u?[]:[w?{separator:!0}:null,this.props.userCanViewPlugins?(0,iu.qz)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly||!this.props.userCanViewWidgets?null:(0,ip.Vd)(this.props,"contextmenu")],k=(0,l.kc)().internal_only_debug_tools,I=k&&1===this.props.numSelected,S=this.props.spellCheckPreference,N=this.props.appModel.spellCheckSuggestions,A=i3(this.props.hasSlidesAiTextEnabled),L=i2(this.props.dispatch,A);return[...S||this.props.appModel.activeTextReviewPlugin?a_(N,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},...x,...C,{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},L,{separator:!0},this.getCombineVideoStack(),{separator:!0},...E,{separator:!0},...j,{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit","slides"]},{action:"send-backward",flags:["edit","slides"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"create-webpage",flags:["edit","sites"]},{action:"set-as-site-homepage",flags:["edit","sites"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.ungroup")},h?{action:"rename-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.rename")}:null,f?{name:"auto-rename-layers",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.auto_rename_layers"),rightIcon:(0,i.jsx)(tb.y,{variant:iZ.x.ON_MENU,helpUrlVariant:tg.JT.AUTO_RENAME_LAYERS}),callback:()=>{(0,iW.$I)({moduleToOpen:{type:"custom",module:(0,i.jsx)(iq.A,{source:o.uQ6.CONTEXT_MENU}),beforeModuleOpen:()=>{(0,t_.B3)(tg.JT.AUTO_RENAME_LAYERS),(0,t_.Ag)(tg.JT.AUTO_RENAME_LAYERS,to.Ay,{source:o.uQ6.CONTEXT_MENU,overwriteNames:!1})},name:Z.Sn.RENAME_LAYERS_TOAST},trackingData:{source:"selection_context_menu_rename_layers"}})}}:null,{action:"flatten-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.flatten")},p?{action:"break-vector-network-into-paths",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.split_vector")}:null,p?{action:"add-transform-modifier-to-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.wrap_with_transform")}:null,{action:"outline-stroke",flags:["edit"],shortcutText:(0,J.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit"],get displayText(){let e=(0,id.P)();return(0,ic.A)(e)}},p?{action:"create-brush-menu",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.create-brush-menu"),children:[{action:"create-stretch-brush"},{action:"create-scatter-brush"}]}:null,{action:"set-as-primary-breakpoint",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.set-as-primary-breakpoint")},this.props.canSetAsFavicon&&!this.props.appModel.isReadOnly?this.getFaviconMenu(this.getSelectionGuid()===this.props.sceneGraph.getCurrentPage()?.webMetadata?.faviconID):null,this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getFileThumbnailMenu(this.getSelectionGuid()===this.props.openFile?.thumbnailGuid):null,(0,l.kc)().dse_library_pg_thumbnails&&this.props.canSetAsPageThumbnail&&!this.props.appModel.isReadOnly?this.getPageThumbnailMenu():null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["design","edit","slides"]},(0,io.r)({msalEnabled:(0,J.Yh)(this.props.appModel,"run-multi-stack-auto-layout")&&!this.props.propertiesPanelShouldShowRemoveAutoLayout,destroyAllALEnabled:(0,J.Yh)(this.props.appModel,"destroy-all-auto-layout"),resizeToFitEnabled:(0,J.Yh)(this.props.appModel,"resize-to-fit")}),{action:"create-symbol",flags:["edit"]},this.sitesSemanticTagMenu(),{action:"create-code-layer-from-design",flags:["edit","sites"]},{action:"create-make-from-design",flags:["edit","design"],featureFlags:["bake_canvas"],displayText:(0,_.t)("fullscreen_actions.create-make-prototype")},{action:"edit-code",flags:["edit","sites"]},{action:"restore-design-in-place-from-code",flags:["edit","sites"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},...(0,ix.$)()?[{action:"convert-to-slot",flags:["edit"]},{action:"convert-slot-to-frame",flags:["edit"]}]:[],y&&t?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:t}:null,v&&n?{name:"swap-to-related-state",flags:["edit"],childDropdown:n}:null,{action:"reset-symbol",flags:["edit"]},{action:"reset-fauxverride",flags:["edit","sites"]},{action:"detach-instance",flags:["edit","design","sites"]},this.getMainComponentActionsMenu(),{action:"link-to-component",flags:["edit"]},{displayText:(0,_.t)("dev_handoff.layers.add_annotation"),flags:["design","dev_handoff"],action:"add-annotation"},{action:"remove-annotations",flags:["dev_handoff","design"]},...w?[]:T,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},...w?T:[],{separator:!0},this.getImageToProfilePicture(),...b,...s?this.skipSlidesMenu():[],{separator:!0},...s?this.slidesObjectAnimationMenu():[],(0,l.kc)().dt_ccv2_on_canvas?{action:"find-codebase-suggestions",flags:[]}:null,I?{separator:!0}:null,I?{action:"debug-inspect-layer-figma-scope"}:null,k?{action:"debug-print-as-test-code"}:null]}getActionSource(){return this.props.isTextEditModeMenu?"canvas_context_menu":this.props.isObjectsPanelMenu?"panel":this.props.isRulerGuideMenu||this.props.isSelectLayerMenu?void 0:"canvas_context_menu"}render(){let e=this.props.clientX,t=this.props.clientY,n=(0,nX.WI)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.props.isBuzzCarousel?this.buzzCarouselMenu():this.contextMenu());return av(n,this.getActionSource()),(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:this.props.appModel,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:n,recordingKey:"layerMenu",removeDisabledItems:!0,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}};function ac(e){let t=e.mirror.sceneGraph.getCurrentPage()?.guid;return e.library.publishableSymbols.some(e=>e.containingFrame.pageId===t)||e.library.publishableStateGroups.some(e=>e.containingFrame.pageId===t)}function au(e){let t=(0,r.d4)(tp.tB),n=(0,nk.Tg)(),a=(0,tM._X)({subscribeToUpdates_expensive:!0}),s=(0,iy.ud)(),o=(0,nO._I)(),l=(0,nO.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ay(),p=(0,r.wA)(),m=(0,nk.Be)(),h=m.orgPlugins,f=(0,im.h)("plugin"),g=(0,U.J2)((0,eb.UK)().spellCheckPreference),_=(0,c.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?(0,e_.UN)().get(t[0]):null,i=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type||"RESPONSIVE_SET"===n.type||"WEBPAGE"===n.type),a=null!=n&&"FRAME"===n.type&&n.isTopLevelFrame(),r=e.selectedView.editorType,s=i&&!n?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tm.Eh)(e),userCanViewWidgets:(0,nk.BE)(e),userCanRunExtensions:(0,tm.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,i_.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:a,canSetAsFileThumbnail:s,canSetAsPageThumbnail:s&&ac(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isDevHandoff:r===Y.nT.DevHandoff,isLimitedDevMode:(0,iB.$A)(e.selectedView)&&!(0,nO.tn)(e)}}),x=(0,iG.PE)(),y=(0,i$.Ne)(),v=(0,iz.LC)(),b=at(),C=(0,ig.J)(),E=ab(),j=(0,n5.to)(),w=(0,iY.bo)();return(0,i.jsx)(ad,{...e,..._,accessibilityPanelConfig:w,activeTextReviewPlugin:d,allSavedPlugins:m.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:l,dispatch:p,editorType:_.editorType,fileByKey:s,hasAIPermission:x,hasFragmentSearchPermission:v,hasSlidesAiTextEnabled:y,isCooper:j,isEligibleForDesignToSites:b,isPrototypeCanvasEditUiVisible:u,openFile:t,orgPrivatePlugins:f,orgSavedPlugins:h,recentlyUsedPlugins:n,shouldConsolidateSendToEntryPoints:E,shouldShowSendToMake:C,spellCheckPreference:g,viewportInfo:a})}ad.displayName="SelectionContextMenu",ad.refreshCache=new iR.O(n$.A.duration(1,"day"));var ap=(e=>(e.SINGLE_SLIDE_VIEW="single_slide_view",e.COOPER_CAROUSEL="cooper_carousel",e))(ap||{});function am(e){let t=(0,r.d4)(tp.tB),n=(0,nk.Tg)(),a=(0,tM._X)({subscribeToUpdates_expensive:!0}),s=(0,iy.ud)(),o=(0,nO._I)(),l=(0,nO.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ay(),p=(0,r.wA)(),m=(0,nk.Be)(),h=m.orgPlugins,f=(0,im.h)("plugin"),g=(0,U.J2)((0,eb.UK)().spellCheckPreference),_=(0,c.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?(0,e_.UN)().get(t[0]):null,i=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type),a=e.selectedView.editorType,r=i&&!n?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tm.Eh)(e),userCanViewWidgets:(0,nk.BE)(e),userCanRunExtensions:(0,tm.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,i_.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:!1,canSetAsFileThumbnail:r,canSetAsPageThumbnail:r&&ac(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:a,isDevHandoff:a===Y.nT.DevHandoff,isLimitedDevMode:(0,iB.$A)(e.selectedView)&&!(0,nO.tn)(e)}}),x=(0,iG.PE)(),y=(0,i$.Ne)()&&"single_slide_view"===e.carouselType,v=(0,iz.LC)(),b=at(),C=ab(),E=(0,n5.to)(),j=(0,iY.bo)();return(0,i.jsx)(ad,{...e,..._,accessibilityPanelConfig:j,activeTextReviewPlugin:d,allSavedPlugins:m.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:l,dispatch:p,editorType:_.editorType,fileByKey:s,hasAIPermission:x,hasFragmentSearchPermission:v,hasSlidesAiTextEnabled:y,isBuzzCarousel:"cooper_carousel"===e.carouselType,isCooper:E,isEligibleForDesignToSites:b,isPrototypeCanvasEditUiVisible:u,isSingleSlideViewCarousel:"single_slide_view"===e.carouselType,openFile:t,orgPrivatePlugins:f,orgSavedPlugins:h,recentlyUsedPlugins:n,shouldConsolidateSendToEntryPoints:C,spellCheckPreference:g,viewportInfo:a})}function ah({expandElement:e,guid:t,...n}){let a=(0,r.d4)(e=>e.mirror.sceneGraphSelection),s=(0,r.d4)(e=>e.mirror.appModel),o=(0,r.d4)(e=>e.mirror.sceneGraph),l=(0,C.hA)()??void 0,d=(0,tp.q5)(),c=(0,r.d4)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),u=(0,V.Fk)((e,t)=>{let n=e.get(t);return n?n.canHaveAnnotation:null},t),p=(0,iU.s9)(),m=(0,r.wA)(),h=f.Ay.windows?"Ctrl+":"\u2318",g=[e?{name:"expand-element",callback:e}:null,{separator:!0},u&&p?{name:"add-annotation",action:"add-annotation"}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${h}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},c?{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!d)return;let e=(0,iI.jN)({file:d,nodeId:t,isDevHandoff:!0,devModeFocusId:l,isReadOnly:!0,isFigJam:!1,attributionContext:null});m(ir.S({fileKey:d.key,url:e,source:iS.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],x=n.clientX,y=n.clientY;return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:s,dispatch:m,menuItems:g.filter(n6.t),recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:o,sceneGraphSelection:a,selectedView:n.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:x+100,top:y,right:x+110,bottom:y-10}})})}function af({...e}){let t=(0,r.d4)(e=>e.mirror.sceneGraphSelection),n=(0,r.d4)(e=>e.mirror.appModel),a=(0,r.d4)(e=>e.mirror.sceneGraph),s=(0,r.wA)(),o=f.Ay.windows?"Ctrl+":"\u2318",l=[];navigator.clipboard&&navigator.clipboard.write&&l.push({name:"copy",shortcutText:`${o}C`,callback:()=>{e.onCopyText()}});let d=e.clientX,c=e.clientY;return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:n,dispatch:s,menuItems:l,recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:a,sceneGraphSelection:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:d+100,top:c,right:d+110,bottom:c-10}})})}function ag(e,t,n,i,a,r,s){return e&&n&&t.commentsEnabled&&f.Ay.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,n,i,a){if(!e)return;let r={x:t,y:n-ar};if(a)a({x:r.x,y:r.y,width:36.8,height:36.8});else{let t=(0,tM.$$)(e,r);i(nK.vV({anchorPosition:t})),i(nK.CX())}}(n,i,a,r,s)}},{separator:!0}]:[]}function a_(e,t){var n;if(!e)return[];let i=!!e?.figma;return[...function(e,t){let{figma:n,textReviewPlugin:i}=e,a=e=>{if(!e)return[];let n=[],i=e?.suggestions||[],a=e?.rangeStart||0,r=e?.rangeEnd||0;for(let e of i.slice(0,3))n.push({action:"replace-selected-text",flags:ax,displayText:e,recordingKey:`replace-selected-text-${n.length}`,args:{replacementText:e,rangeStart:a,rangeEnd:r},callback(){let e=(0,nd.pi)({editorType:(0,Y.oD)(t)});(0,e$.sx)("Spell Check Suggestion Clicked",{productType:e})}});return n},r=a(n),s=a(i);return r.length||s.length?!r.length&&s.length?[{header:!0,name:iO.SH()?.plugin.name||"Plugin"},...s]:r.length&&!s.length?r:[...r,{name:"replace-selected-text",displayText:iO.SH()?.plugin.name||"Plugin",children:s}]:[{header:!0,flags:ax,name:(0,_.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...i&&e?.figma?.rangeText?[(n=e?.figma?.rangeText,{name:"spell-check-menu-add-word",flags:ax,callback:async(e,t,i)=>{try{let e=await n3.Ay.post("/api/spell-check-words",{word:n});if(200===e.status){let e=await (0,iw.Xw)();await e.addWords([n]),T.Y5.triggerAction("redo-spell-checking")}else(0,k.x1)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(nQ.k.error(e),(0,k.x1)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}let ax=["design","whiteboard","slides","sites","cooper"];function ay(){return(0,U.ut)((0,ij.aY)(),o.FAf.DESIGN)===o.FAf.PROTOTYPE}function av(e,t){t&&e.forEach(e=>{e&&((0,il._o)(e)&&(e.source=t,"submenu"in e&&e.submenu&&av(e.submenu,t)),(0,il.TV)(e)&&e.children&&av(e.children,t))})}function ab(){let{getConfig:e}=(0,n2.I7)("exp_send_to_new_products_consolidation");return a.useCallback(()=>e().get("enabled",!1,e=>"boolean"==typeof e),[e])}var aC=n(50536);function aE({clientX:e,clientY:t,selectedView:n}){let s=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),l=(0,tp.q5)(),d=a.useCallback(()=>{s(aC.lW({stringToCopy:(0,iI.jN)({file:l,isDevHandoff:!0,isDevModeOverview:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null}),successText:(0,_.t)("permissions.copy_link_button.visual_bell.copy_summary_link")}))},[s,l]),c=[{name:"page-copy-link",displayText:(0,_.t)("dev_handoff.status.copy_summary_link"),callback:d}];return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:o,menuItems:c,dispatch:s,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,recordingKey:"overviewMenu"})})}function aj({pageId:e,clientX:t,clientY:n,selectedView:a}){let s=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),l=(0,V.Fk)((e,t)=>e.get(t)?.isPageDivider,e),d=[{action:"page-copy-link",args:{nodeId:e},disabled:l}];return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:o,menuItems:d,dispatch:s,selectedView:a,showPoint:!1,targetRect:{width:10,height:10,left:t+100,top:n,right:t+110,bottom:n-10},removeDisabledItems:!1,recordingKey:"pageMenu"})})}function aw(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.mirror.appModel),a=e.clientX,s=e.clientY,o=[{name:"redistribute-gradient-stops",callback:e.redistributeStops},{separator:!0},{name:"delete-gradient-stop",callback:e.deleteStop}];return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:n,menuItems:o,dispatch:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:a+100,top:s,right:a+110,bottom:s-10},removeDisabledItems:!1,recordingKey:"pageMenu"})})}n(120440);var aT=n(147046),ak=n(790009),aI=n(352630);function aS({name:e,variant:t,recordingKey:n,onClick:a}){return(0,i.jsx)(ak.J,{brand:"design",mode:"dark",children:(0,i.jsx)("div",{className:"xdqdrvq",children:(0,i.jsx)(aI.Ih,{variant:t,recordingKey:n,onClick:a,children:e})})})}var aN=n(205917);function aA({targetInViewport:e,selectedView:t}){let n=(0,r.wA)(),s=(0,r.d4)(e=>e.mirror.appModel),l=(0,e_.UN)(),d=(0,tM.ni)(),c=(0,nO.xo)(),u=(0,a.useCallback)(()=>{(0,iH.u)({source:o.Qej.RFD_INITIAL_NUDGE}),n(aT.oB())},[n]);(0,aN.KV)(o.Qej.RFD_INITIAL_NUDGE,!0);let p=(0,a.useMemo)(()=>[{name:(0,_.t)("dev_handoff.linter.menu_title_header"),header:!0,displayTextClassName:"xb3xe92 xeaf4i8 xz16r55 x1iorvi4 xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},{name:(0,_.t)("dev_handoff.linter.menu_title_subheader"),header:!0,displayTextClassName:"xb3xe92 xeaf4i8 xz16r55 xjkvuk6 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},{render:()=>(0,i.jsx)(aS,{name:(0,_.t)("fullscreen_actions.quick_actions.detect-violations"),variant:"primary",recordingKey:"linterDetectViolations",onClick:u}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,flags:["design","dev_handoff"],disabled:!!c},{render:()=>(0,i.jsx)(aS,{name:(0,_.t)("dev_handoff.linter.menu_skip_button"),variant:"secondary",recordingKey:"skipLinting",onClick:()=>n(aT.oB())}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,flags:["design","dev_handoff"],disabled:!!c}],[c,n,u]),m=e.origin.x+d.x,h=e.origin.y+d.y,f={left:m,top:h,right:m+e.size.x,bottom:h+e.size.y,width:e.size.x,height:e.size.y};return(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:s,dispatch:n,menuItems:p,minWidth:200,recordingKey:"linterMenu",removeDisabledItems:!c,sceneGraph:l,selectedView:t,showPoint:!0,targetRect:f})})}var aL=n(750388),aO=n(201975),aR=n(4232),aP=n(506192),aM=n(405223);function aD(){let e=(0,aP.Um)(),t=(0,r.wA)(),n=(0,aR.Gt)(e?.data.pluginId,e?.data.triggeredFrom),a=(0,aR.dR)(e?.data.pluginId,e?.data.triggeredFrom),s=(0,aO.t)(e?.data.pluginId,n,a);if(!e)return null;let o=e.data.target.height+e.data.target.width>0;return(0,i.jsx)(aM.j,{showPoint:o,items:s,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:o?"left":"right"})}var aF=n(751464),aB=n(315361),aU=n(130353),aH=n(802529),aV=n(643077),aG=n(221586),az=n(555013);let aK=(0,d.eU)("");function aW({onResult:e}){let[t,n]=(0,d.fp)(aK),[s,o]=(0,a.useState)(!1),l=a.useRef(null),c=(0,a.useCallback)(e=>{n(e.target.value)},[n]),u=(0,r.d4)(e=>(0,iB.$A)(e.selectedView)),p=(0,a.useCallback)(()=>{e(t),n("")},[t,e,n]),m=a.useCallback(e=>{switch(e.keyCode){case aG.Uz.SPACE:case aG.Uz.ENTER:p(),e.stopPropagation();return}},[p]);return(0,a.useEffect)(()=>{let e=l.current;if(e)return e.addEventListener("keydown",m),()=>{e.removeEventListener("keydown",m)}},[m]),(0,i.jsx)(ak.J,{brand:u?"dev-handoff":"design",mode:"dark",children:(0,i.jsxs)("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z",children:[(0,i.jsx)(az.ks,{autoFocus:!0,className:"ready_status_menu_item--textInput--iqTJf",maxLength:1e3,onChange:c,onCompositionEnd:()=>o(!1),onCompositionStart:()=>o(!0),onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||s||p()},placeholder:(0,_.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t}),(0,i.jsx)(aI.Ih,{ref:l,variant:"primary",onClick:p,recordingKey:"markReady",children:(0,_.tx)("dev_handoff.status.menu_note_button")})]})})}let aZ="status_context_menu--headerStrong--9G-Jb";function aq({targetInViewport:e,nodeId:t,selectedView:n}){let s=(0,r.wA)(),u=(0,r.d4)(e=>e.mirror.appModel),p=(0,e_.UN)(),m=(0,aB.mJ)(t),h=!!m?.hasReadyStatus,f=!!m?.hasCompletedStatus,g=h||f,x=(0,aF.D)()&&!!m?.hasBeenEditedSinceLastStatusChange,y=(0,tp.q5)(),v=(0,nF.U)("status_label_menu"),b=(0,tM.ni)(),C=(0,nO._I)(),E=(0,nO.U4)(),j=(0,aF.D)(),T=C&&j,k=(0,J.Yh)(u,"set-selection-completed-status"),I=(0,J.Yh)(u,"mark-incomplete"),S=(0,n0.L4)(),N=(0,nR.U)(),A=(0,tR.E3)(),[,L]=(0,d.fp)(aU.wz),O=(0,aV.dh)(),R=(0,tl.A0)(o.uQ6.READY_FOR_DEV),P=(0,nO.xo)(),M=(0,a.useMemo)(()=>o.w3z.isReadOnly(o.SES.NODE_STATUS),[]),D=o.w3z.canEditNodeStatus(),F=E&&M&&!C,B=(0,c.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,editorType:Y.nT.DevHandoff,focusViewBackNavigation:{toEditorType:e.selectedView.editorType,toOverview:!1},devModeFocusId:t,overviewBackButtonTargetNodeId:O}:e.selectedView),U=(0,a.useMemo)(()=>{if(!y)return[];let e=I?{name:"status-mark-as-ready",callback:()=>{aH.z4.setNodesReady(!0,[t],"canvas",null),R&&(0,tl.R4)([t])},flags:["dev_handoff","design"],disabled:!!P}:null,a=k?{name:"status-mark-as-completed",callback:()=>{aH.z4.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"],disabled:!!P}:null,r=h?a:e,l=S?{name:"detect-violations",callback:()=>{(0,iH.u)({source:o.Qej.RFD_STATUS_MENU})},flags:["dev_handoff","design"],featureFlags:["aip_flower_garden","aip_flower_garden_ready_for_dev"],disabled:!!P}:null,d=[...l?[l]:[],...r?[r]:[]],c={name:"ready-status-copy-dev-link",callback:()=>{let e=(0,iI.jN)({file:y,nodeId:t,isDevHandoff:!0});s(ir.S({fileKey:y.key,url:e,source:iS.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},u=E?[{name:"ready-status-open-in-dev-mode",callback:()=>{v("handoff")},flags:["design"]},c]:[c],p={separator:!0,flags:["design","dev_handoff"]},m=[p,{render:()=>(0,i.jsx)(nH,{}),optionHeight:32,flags:["design"]}],b=T&&!aH.z4.getIsExtension()?[{name:"enter-dev-mode-focus-view",callback:()=>{N("Dev Mode Canvas Focus Entry Clicked",{nodeId:"devModeFocusId"in B?B.devModeFocusId:""}),v("handoff"),L(A===Y.nT.DevHandoff?"dev_mode_canvas":"design_canvas"),s(aT.sf(B))},flags:["design","dev_handoff"]},{name:"status-copy-focus-link",callback:()=>{let e=(0,iI.jN)({file:y,nodeId:O,isDevHandoff:!0,devModeFocusId:n?.devModeFocusId??t});s(ir.S({fileKey:y.key,url:e,source:iS.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1}]:u;if(!D)return[...b,...F?m:[]];let C=[...b,...d.length>0?[p,...d]:[],p,{name:"status-remove",callback:()=>{aH.z4.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1,disabled:!!P},...F?m:[]];return g?x?[{name:"completed-status-remark-as-ready",displayText:f?(0,_.t)("dev_handoff.status.menu_title_design_changed_since_completed"):(0,_.t)("dev_handoff.status.menu_title_design_changed_since_ready"),displayTextClassName:aZ,children:C,showDotDotDotButton:!0},{render:()=>(0,i.jsx)(aW,{onResult:e=>{aH.z4.setNodesReady(!0,[t],"canvas",e??null),R&&(0,tl.R4)([t]),s(aT.oB())}}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,allowClickThrough:!0,flags:["design","dev_handoff"],disabled:!!P}]:C:[{header:!0,name:(0,_.t)("dev_handoff.status.menu_title_start_handoff_title"),displayTextClassName:aZ},{render:()=>(0,i.jsx)(aW,{onResult:e=>{aH.z4.setNodesReady(!0,[t],"canvas",e??null),R&&(0,tl.R4)([t]),s(aT.oB())}}),flags:["design","dev_handoff"],disabled:!!P}]},[y,k,I,O,h,E,D,F,t,v,s,T,g,x,B,n?.devModeFocusId,f,A,L,N,R,P,S]),H=e.origin.x+b.x,V=e.origin.y+b.y,G={left:H,top:V,right:H+e.size.x,bottom:V+e.size.y,width:e.size.x,height:e.size.y};return(0,aN.KV)(o.Qej.RFD_STATUS_MENU,S&&!!(0,l.kc)().aip_flower_garden_ready_for_dev),(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:u,dispatch:s,menuItems:U,minWidth:176,recordingKey:"readyStatusMenu",removeDisabledItems:!P,sceneGraph:p,selectedView:n,showPoint:!0,targetRect:G})})}var aX=n(949701);function aY(e){let t=(0,r.wA)(),n=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),a=(0,tp.q5)(),s=(0,aX.oA)(a?.siteMount);return(0,i.jsx)(aJ,{...e,...n,openFileHasPublishedSiteMount:!!s&&"published"===s.status,dispatch:t})}class aJ extends a.PureComponent{constructor(e){super(e)}componentDidMount(){o.VDs?.setExpectingCopyCutEvent(!0)}componentWillUnmount(){o.VDs?.setExpectingCopyCutEvent(!1)}contextMenu(){let e=this.props.sceneGraphSelection,t=this.props.sceneGraph.getCurrentPage()?.siteHomepageId,n=!!t&&void 0!==e[t];return[{action:"sites-copy-link",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.copy-external-url"),disabled:!this.props.openFileHasPublishedSiteMount},{action:"copy-link",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.copy-link")},{separator:!0},{action:"rename-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.rename")},{action:"duplicate",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.duplicate-webpage")},{action:"copy",flags:["edit"]},{action:"delete-selection",flags:["edit"],disabled:n,displayText:(0,_.t)("sites.fullscreen_actions.delete-selection")},{separator:!0},{action:"set-as-site-homepage",flags:["edit"]}]}render(){let e=this.props.clientX,t=this.props.clientY,n=(0,nX.WI)(this.contextMenu());return(0,i.jsx)("div",{className:`${w.Dm}`,children:(0,i.jsx)(nE.Q,{appModel:this.props.appModel,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:n,recordingKey:"webpageMenu",removeDisabledItems:!0,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}}function aQ({clientX:e,clientY:t,selectedView:n,isLayerLike:a,isInteraction:s,renameItem:o,deleteItem:l,selectOnCanvas:d}){let u=(0,r.wA)(),{sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=(0,r.d4)(e=>e.mirror.appModel),f=[];return f.push({name:"rename-selection",displayText:(0,_.t)("fullscreen.context_menu.rename"),callback:o,shortcutText:" "}),a&&f.push({name:"select-on-canvas",displayText:(0,_.t)("sites.code_layer.context_menu.select_on_canvas"),callback:d}),f.push({name:a?"delete-code-layer":s?"delete-code-interaction":"delete-code-file",callback:l}),(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:h,dispatch:u,menuItems:f,recordingKey:"codeComponentContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}aJ.displayName="WebpageContextMenu";var a$=n(294570),a0=n(862589),a1=n(29335),a2=n(460434);function a3({clientX:e,clientY:t,selectedView:n,targetItem:a,paint:s,onPaintChange:l}){let d=(0,r.wA)(),{appModel:u,sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=(0,a1.s1)(),f=(0,a0.k1)(h),g=[];return"DOCUMENT_COLOR"===a.type?g.push({name:"slides-move-to-theme-colors",recordingKey:"moveToThemeColors",callback:()=>{let e=f(a.documentColor);e&&s&&(0,tc.hS)(s)&&s.color&&(0,eF.DA)(s.color,a.documentColor)&&l((0,a2.FW)(e),a$.zk.YES)}}):(g.push({name:"slides-edit-theme-color",recordingKey:"edit",callback:a.onEdit}),g.push({name:"slides-delete-theme-color",recordingKey:"delete",callback:()=>{o.CWU?.deleteVariable(a.variableId)}})),(0,i.jsx)("div",{className:w.Dm,children:(0,i.jsx)(nE.Q,{appModel:u,dispatch:d,menuItems:g,recordingKey:"slidesColorPickerContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}var a5=n(133662),a4=n(99723),a6=n(225686),a7=n(366535),a9=n(141773),a8=n(411017),re=n(373235),rt=n(395556),rn=n(875997),ri=n(768300),ra=n(558805),rr=n(959834),rs=n(354174);let ro=(0,rr.Ju)(function({sectionId:e,initialTemplateId:t,initialShelfId:n,onConfirm:a,onCancel:r}){let s=(0,tp.tS)();return(0,i.jsx)(nM.fu,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:s,sectionId:e,initialTemplateCategory:n,initialTemplateId:t,templateType:rt.n.HubFile},children:(0,i.jsx)(rs.yX,{confirmationTitle:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:ed()(e5.s.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R"),children:(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.header")}),(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.description")]}),confirmText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:a,onCancel:r})})},"SectionPresetPickerConfirmationModal");function rl({name:e,leadingIcon:t,onIconClick:n}){return(0,i.jsxs)("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,i.jsx)("button",{className:ed()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":n}),onClick:n,children:(0,i.jsx)(e3.B,{svg:t})}),(0,i.jsx)("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:e})]})}var rd=n(827695),rc=n(56834),ru=n(802589);function rp(){return(0,i.jsx)("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n",children:(0,i.jsx)(rd.k,{size:"lg"})})}function rm({name:e,description:t,iconUrl:n}){return(0,i.jsx)(rf,{name:e,description:t,iconUrl:n,trailingIcon:(0,i.jsx)(e3.B,{className:"section_preset_picker--chevronRight--hORsb",svg:ru.A}),itemType:"shelf"})}function rh({name:e,description:t,iconUrl:n,isSelected:a,iconBackgroundColor:r}){return(0,i.jsx)(rf,{name:e,description:t,iconUrl:n,trailingIcon:a?(0,i.jsx)(e3.B,{svg:rc.A}):void 0,iconBackgroundColor:r,itemType:"template"})}function rf({name:e,description:t,itemType:n,iconUrl:a,trailingIcon:r,iconBackgroundColor:s}){return(0,i.jsxs)("div",{className:ed()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===n,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===n}),children:[(0,i.jsx)("div",{className:ed()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===n,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===n}),style:{backgroundColor:s},children:a&&(0,i.jsx)("img",{src:a,alt:(0,_.t)("whiteboard.section_preset_picker.shelf.thumbnail")})}),(0,i.jsxs)("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,i.jsx)("div",{className:"section_preset_picker--nameText--LS4BG",children:e}),(0,i.jsx)("div",{className:"section_preset_picker--descriptionText--OCJkN",children:t})]}),r&&(0,i.jsx)("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97",children:r})]})}var rg=n(387932),r_=n(751870),rx=n(577900);let ry="section_preset_item",rv=/^Section(\s\d+)?$/,rb=(0,ex.jz)(ew.IuL);function rC({sectionId:e,sectionName:t,initialShelfId:n,initialTemplateId:s,showAlertOnSelect:l}){let c,u;let p=(0,r.wA)(),m=(0,tp.tS)(),h=(0,d.md)(ra.g),f="hasData"===h.state?h.data:[],g=0!==f.length,[x,y]=(0,a.useState)(n),[v,b]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),j=(0,a8.fG)(),w=(0,rn.g)(),T=(0,d.Xr)(ri.Yq),k=(0,d.Xr)(ri.pn),I=(0,d.Xr)(ri.bj),S=(0,d.md)(ri.oh),N=(0,d.md)(ri.pF),A=(0,re.q)(),L=(0,d.md)(ri.pg),O=function(e,t){let n=(0,tM._X)({subscribeToUpdates_expensive:!0}),i=n.zoomScale,r=(0,a.useMemo)(()=>{let t=(0,e_.UN)().get(e);if(!t)return null;let n=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:n.x,y:n.y}}},[i,e]);if(!r)return null;let{canvasSpaceSectionTopLeft:s,canvasSpaceSectionOrigin:o}=r,l=(0,tM.Z0)(n,{x:s.x,y:s.y},!0),d={x:l.x-8,y:l.y},c=(0,tM.Z0)(n,o,!0),u=Math.max(d.y+n.y,n.y+8),p={top:u,bottom:u+200,height:200,left:0,right:d.x,width:301},m={x:(0,tM.Qt)(t.x,0,i,0),y:(0,tM.Qt)(t.y,0,i,0)};return{contextMenuRect:p,mouseBoundaryRect:{x:d.x,y:c.y+n.y,width:m.x+8,height:m.y}}}(e,N),R=a.useRef(!1),P=a.useCallback(()=>{T(),k(),b(!1)},[T,k]);(0,a.useEffect)(()=>{let e=setTimeout(()=>{E(!0)},500);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>()=>{R.current||(T(),k())},[T,k]);let M=O?.mouseBoundaryRect;if((0,a.useEffect)(()=>{if(!v||!M)return;let e=(0,a4.s)(function(e){let t=document.activeElement?.id??"";(!M||e.clientX>M.x+M.width||e.clientX<M.x||e.clientY>M.y+M.height||e.clientY<M.y)&&!t.includes(ry)&&P()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[P,v,M]),!O)return null;let{contextMenuRect:D}=O,F=(n,i,a)=>{if(A&&m&&!L&&(b(!1),S?.template.id!==n.template.id)){if(T(),n.template.id===s){k();return}n.type===rt.n.HubFile&&(0,a9.Zg)({insert:()=>w(n,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:o.Z6A.SECTION,options:{nodeId:e,newName:rv.test(t)||i&&t===i?a:null,shelfId:n.category??"",templateId:n.template.id,templateName:(0,a8.gY)(n)}}}),template:n,fileKey:m,dispatch:p,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},B=e=>{(0,a9.Zg)({insert:()=>I({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:tz.zk.USER}),template:e,fileKey:m,dispatch:p,triggeredFrom:"section-preset",userTriggered:!0})},U=t=>{A&&m&&!L&&t.template.id!==s&&(R.current=!0,l?p((0,a7.to)({type:ro,data:{sectionId:e,initialTemplateId:s,initialShelfId:n,onConfirm:()=>B(t),onCancel:()=>P()}})):B(t))},H=x?f.find(e=>e.id===x):void 0;if(H){c={displayText:H.title,render:()=>(0,i.jsx)(rl,{name:H.title,leadingIcon:r_.A,onIconClick:()=>{y(null),T()}}),preventDismissOnSelected:!0};let e=n&&s?(0,rg.bO)(f,n,s):null;u=H.shelf_content.map((t,n)=>{let a={type:rt.n.HubFile,template:t,category:x},{name:r,description:o}=j(a),l=(0,a6.$J)(o).trim(),d="client_meta"in t?JSON.parse(t.client_meta):{},c=d.preset_picker?.thumbnail_url_dark_bg??"";return{displayText:r,render:()=>(0,i.jsx)(rh,{name:r,description:l,iconUrl:c,isSelected:s===a.template.id,iconBackgroundColor:(0,rg.j3)(n)}),onMouseEnter:()=>{F(a,e,r)},callback:()=>U(a)}})}else c={displayText:"Edit section name",render:()=>(0,i.jsx)(rl,{name:(0,_.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:rx.A}),preventDismissOnSelected:!0},u=f.map(t=>({displayText:t.title,render:()=>(0,i.jsx)(rm,{name:t.title,description:t.description,iconUrl:t.shelf_meta.preset_picker?.thumbnail_url}),preventDismissOnSelected:!0,callback:()=>{(0,e$.sx)("section_preset_picker_category_clicked",{fileKey:m,sectionId:e,selectedCategory:t.id,initialTemplateCategory:n,initialTemplateId:s}),y(t.id),T()}}));if(!g){if(!C)return null;u.push({displayText:"Loading",render:()=>(0,i.jsx)(rp,{}),disabled:!0})}return(0,i.jsx)(nM.fu,{name:"section_preset_picker_shown",enabled:g,properties:{fileKey:m,sectionId:e,initialTemplateCategory:n,initialTemplateId:s,templateType:rt.n.HubFile},children:(0,i.jsx)(aM.j,{depth:0,disableDropdownScrollContainer:!0,dispatch:p,displayOverTarget:!0,items:[c,...u],lean:"left",leanPadding:0,minBottomMargin:rb,minWidth:301,onMouseLeaveMenu:e=>{if(e.clientX>=D.right){b(!0);return}P()},onSelectItem:e=>{e.callback&&e.callback("",null,p)},parentRect:D,preventZoom:!0,recordingKey:ry,showPoint:!1})})}function rE(e){let t=(0,r.d4)(e=>!e.mirror.appModel.isReadOnly),n=(0,tp.q5)();(0,r.d4)(e=>n?.team||null);let a=(0,nk.x)(),s=(0,nk.QZ)(),o=(0,nk.V2)(),l=e.dropdownShown.type,d=(0,nL.v)();if(l===w.K9){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(au,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1})}if(l===w.wi){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(au,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(l===w.ku){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(au,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(l===w.t4){let{clientX:n,clientY:r,axis:l,rulerGuideContextMenuType:d}=e.dropdownShown.data;return(0,i.jsx)(au,{axis:l,clientX:n,clientY:r,isObjectsPanelMenu:!1,isRulerGuideMenu:!0,isTextEditModeMenu:!1,rulerGuideContextMenuType:d,selectedView:e.selectedView,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:a,userCanViewWidgets:s})}if(l===w.Rb){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(au,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0})}if(l===w.W_){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(ao,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(l===w.LO)return(0,i.jsx)(aD,{});else if(l===w.SA){let{clientX:t,clientY:n,pageId:a}=e.dropdownShown.data;return(0,i.jsx)(aj,{pageId:a,clientX:t,clientY:n,selectedView:e.selectedView})}else if(l===w.bx){let{clientX:t,clientY:n}=e.dropdownShown.data;return(0,i.jsx)(aE,{clientX:t,clientY:n,selectedView:e.selectedView})}else if(l===w.d2){let{clientX:t,clientY:n,pageIds:a,shouldShowDuplicateOption:r}=e.dropdownShown.data;return(0,i.jsx)(aL.W,{pageIds:a,clientX:t,clientY:n,selectedView:e.selectedView,shouldShowDuplicateOption:r})}else if(l===w.Z7){let{thread:t,pinClientRect:n}=e.dropdownShown.data;return(0,i.jsx)(nq,{selectedView:e.selectedView,thread:t,pinClientRect:n,copyLink:d})}else if(l===w.DT){let{attachment:t,clientX:n,clientY:a}=e.dropdownShown.data;return(0,i.jsx)(nA,{attachment:t,selectedView:e.selectedView,clientX:n,clientY:a})}else if(l===w.i){let{clientX:n,clientY:r,stringToCopy:l,expandElement:d,guid:c}=e.dropdownShown.data;return(0,i.jsx)(ah,{clientX:n,clientY:r,expandElement:d,guid:c,isObjectsPanelMenu:!0,selectedView:e.selectedView,stringToCopy:l,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:a,userCanViewWidgets:s})}else if(l===w.Sl){let{clientX:n,clientY:r,onCopyText:l}=e.dropdownShown.data;return(0,i.jsx)(af,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,onCopyText:l})}else if(l===w.WJ){let{targetInViewport:n,nodeId:r}=e.dropdownShown.data;return(0,i.jsx)(aq,{targetInViewport:n,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,nodeId:r})}else if(l===w.AM){let{targetInViewport:t}=e.dropdownShown.data;return(0,i.jsx)(aA,{targetInViewport:t,selectedView:e.selectedView})}else if(l===w.XX){let{targetInViewport:n,annotationsCount:r}=e.dropdownShown.data;return(0,i.jsx)(nz,{targetInViewport:n,annotationsCount:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0})}else if(l===w.si){let{sectionId:n,initialShelfId:r,initialTemplateId:l,sectionName:d,showAlertOnSelect:c}=e.dropdownShown.data;return(0,i.jsx)(rC,{initialShelfId:r,initialTemplateId:l,isObjectsPanelMenu:!0,sectionId:n,sectionName:d,selectedView:e.selectedView,showAlertOnSelect:c,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:a,userCanViewWidgets:s})}else if(l===w.U3){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(am,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,carouselType:ap.SINGLE_SLIDE_VIEW})}else if(l===w.kX){let{clientX:t,clientY:n,targetItem:a,paint:r,onPaintChange:s}=e.dropdownShown.data;return(0,i.jsx)(a3,{clientX:t,clientY:n,selectedView:e.selectedView,targetItem:a,paint:r,onPaintChange:s})}else if(l===w.OI){let{boundingRect:t,targetObjectAnimation:n}=e.dropdownShown.data;return(0,i.jsx)(a5.E,{boundingRect:t,selectedView:e.selectedView,targetObjectAnimation:n})}else if(l===w.J7){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(aY,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}else if(l===w.V6){let{clientX:t,clientY:n,deleteCollection:a,collectionId:r}=e.dropdownShown.data;return(0,i.jsx)(nj,{clientX:t,clientY:n,deleteCollection:a,selectedView:e.selectedView,collectionId:r})}else if(l===w.Zn){let{clientX:t,clientY:n,deleteField:a,duplicateField:r}=e.dropdownShown.data;return(0,i.jsx)(nw,{clientX:t,clientY:n,deleteField:a,duplicateField:r,selectedView:e.selectedView})}else if(l===w.s9){let{clientX:t,clientY:n,deleteItemOrItems:a}=e.dropdownShown.data;return(0,i.jsx)(nT,{clientX:t,clientY:n,deleteItemOrItems:a,selectedView:e.selectedView})}else if(l===w.jQ){let{clientX:t,clientY:n,deleteItem:a,renameItem:r,isLayerLike:s,isInteraction:o,selectOnCanvas:l}=e.dropdownShown.data;return(0,i.jsx)(aQ,{clientX:t,clientY:n,isLayerLike:s,isInteraction:o,deleteItem:a,renameItem:r,selectOnCanvas:l,selectedView:e.selectedView})}else if(l===w.Vx){let{clientX:n,clientY:r}=e.dropdownShown.data;return(0,i.jsx)(am,{clientX:n,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:a,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,carouselType:ap.COOPER_CAROUSEL})}else if(l===w.Vl){let{clientX:t,clientY:n,deleteStop:a,redistributeStops:r}=e.dropdownShown.data;return(0,i.jsx)(aw,{clientX:t,clientY:n,deleteStop:a,redistributeStops:r,selectedView:e.selectedView})}return null}var rj=n(797666),rw=n(729926),rT=n(475593),rk=n(120276);function rI(){let e=(0,d.Xr)(rw.mH),t=(0,rT.XC)((0,d.md)(rw.a8));return(0,l.kc)().cursor_bot&&t?(0,i.jsx)("div",{className:rk.CR,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var rS=n(982287),rN=n(76616),rA=n(328341),rL=n(586398),rO=n(373547),rR=n(120074),rP=n(679359);function rM({background:e,showSpinner:t}){let n=a.useContext(eP.kw),{x:r,y:s,width:o}=n.getViewportInfo(),d={background:e},c=window.innerWidth-o;n&&(d={...d,width:`calc(100vw - ${c}px)`,height:`calc(100vh - ${s}px)`,top:`${s}px`,left:`${r}px`});let u=!1;return(0,l.kc)().css_backed_loading_spinner?u=!0:!(0,l.kc)().disable_page_switch_spinner||(0,f.KR)()||f.rr||(t=!1),(0,i.jsxs)("div",{className:"loading_overlay--pageSyncing--9AqbU",children:[(0,i.jsx)("div",{className:ed()("loading_overlay--blurredOverlay--79bya",w.Dm),style:d}),t&&u?(0,i.jsx)("div",{className:"loading_overlay--pageSyncingFadeIn--QVvQE",children:(0,i.jsx)(rP.$y,{size:"large"})}):t&&(0,i.jsx)(rP.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"})]})}function rD(){let e=(0,nR.U)(),t=(0,r.d4)(e=>e.selectedView),n=r.d4(e=>e.versionHistory)?.isLoadingPage,s=(0,rO.DP)(),{isLoading:d}=(0,rR.v9)({selectedView:t,isLoadingVersionHistory:n,theme:s}),c=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState),u=(0,rL.yZ)(),p=(0,r.d4)(e=>e.mirror.appModel.currentPage),m=(0,r.wA)(),[h,f]=a.useState(null),g=(0,rA.ZC)(d),_=(0,a.useCallback)(t=>{e("page_loading_overlay",{timeElapsedMs:t,pageNodeId:p},{forwardToDatadog:!0})},[e,p]);return a.useEffect(()=>{if((0,l.kc)().long_page_change_notif){if(o.h3O.isIncrementalSession()&&d)d!==g&&u&&c!==o.kul.JOINED&&(f(Date.now()),m(x.F.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=h?Date.now()-h:0;e<3e3||e>9e3?(m(x.F.dequeue({matchType:"long-page-change"})),f(null)):setTimeout(()=>{m(x.F.dequeue({matchType:"long-page-change"})),f(null)},Math.max(0,9e3-e))}}},[d,c,u,m,h,g]),(0,i.jsx)(rF,{onPageLoadingFinish:_,selectedView:t,isLoadingVersionHistory:n,theme:s})}function rF({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:n,theme:r}){let{isLoading:s,isLoadingMissingFonts:o,background:l}=(0,rR.v9)({selectedView:t,isLoadingVersionHistory:n,theme:r});return((0,a.useEffect)(()=>{!s&&rN.sn.get("page_loading_overlay")&&requestAnimationFrame(()=>{let t=rN.sn.tryStop("page_loading_overlay");t&&e&&e(t)})},[s,e]),s)?(rN.sn.get("page_loading_overlay")||rN.sn.start("page_loading_overlay"),(0,i.jsx)(rM,{background:l,showSpinner:!o})):null}var rB=n(951002),rU=n(316862),rH=n(853137),rV=n(667693),rG=n(409019),rz=n(795161),rK=n(659062),rW=n(198277),rZ=n(193460),rq=n(574587),rX=n(687849),rY=n(893178),rJ=n(525972),rQ=n(719947),r$=n(423683),r0=n(745859),r1=n(403950),r2=n(790628),r3=n(266868),r5=n(870638),r4=n(6159),r6=n(81969),r7=n(65389),r9=n(216294),r8=n(124348),se=n(735194),st=n(521183),sn=n(718668),si=n(617101),sa=n(568132),sr=n(377036);let ss=e=>(0,il.Zj)(e)&&!e.hideCheckForQuickCommand;class so extends t0.o6{constructor(e){super(e),this.searchInputRef=a.createRef(),this.scrollContainerRef=a.createRef(),this.listboxId=(0,rU.g)(),this.resultPrefix=(0,rU.g)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let n=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(n)}else t=this.recentlyUsedItemsMenu();this.logSearchResults(e,t),this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.logSearchResults=(e,t)=>{this.props.quickActionsSessionId&&this.props.fireQueryResultTrackingEvent({quickActionsSessionId:this.props.quickActionsSessionId,quickActionsQueryId:this.props.latestQuerySessionIdRef.current,searchQuery:e,numSearchResults:this.state.searchResults.length,currentSelection:this.props.currentSelection,module:Z.Jc.ALL,moduleFilters:null,qaVersion:r3.U3,searchQueryResults:(0,r5.X)(t)})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=t0.cZ(this,"click",e=>{e?.button!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=t0.C0(this,"keydown",e=>{let t=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,n=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,i=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:n,displayAriaActiveDescendant:i}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(n)}},n=(0,aG.vN)(e,aG.xH.CONTROL),i=f.Ay.mac?(0,aG.vN)(e,aG.xH.META):n,a=f.Ay.mac&&n;switch(e.keyCode){case aG.Uz.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&tz.l7.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case aG.Uz.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(aT.oB());break;case aG.Uz.N:case aG.Uz.DOWN_ARROW:if(e.keyCode===aG.Uz.N&&!a){(0,rY.jr)(e,rY.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(1);break;case aG.Uz.P:case aG.Uz.UP_ARROW:if(e.keyCode===aG.Uz.P&&!a){(0,rY.jr)(e,rY.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(-1);break;case aG.Uz.TAB:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&t.itemParameterArgs&&(this.onStartParameterMode(t.itemParameterArgs,t,"tab"),this.logActionSelectedEvent(t));break}case aG.Uz.R:case aG.Uz.S:case aG.Uz.D:case aG.Uz.E:case aG.Uz.F:case aG.Uz.O:if(i){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,rY.jr)(e,rY.W0.NO)}}),this.onSearchChange=t0.Z7(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSelectItem=(e,t)=>{if(e.disabled)this.cancelDelayedClose();else{let n=!1;if(e.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)rJ.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),n=!0;else if(e.parametersRequired){this.onStartParameterMode(e.itemParameterArgs,e,t?.type==="click"?"click":"enter"),this.logActionSelectedEvent(e);return}}if(e.callback&&!n&&(e.callback((0,il.Dz)(e),e.args,this.props.dispatch),n=!0),e.action&&(rX.VU.get(e.action,"quick-actions",e.args)(t),n=!0),n&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),this.logActionSelectedEvent(e),"toggle-publish"===e.action&&(0,e4.YQ)({id:"insert-component-onboarding-event"}),ss(e)&&!(0,rz.PN)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(aT.oB())},300);return}this.props.dispatch(aT.oB())}},this.renderResult=(e,t)=>{let n=t===this.state.activeItemIndex;return(0,i.jsx)(sd,{actionIcon:this.getActionIcon(e),active:n,allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,appModel:this.props.appModel,disabled:!!e.disabled,id:this.getResultId(t),isLastItem:t===this.state.searchResults.length-1,item:e,onClick:t=>this.onSelectItem(e,t),onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,recordingKey:t0.Pt(this.props,e.action||"searchResult"),role:"option",searchQuery:this.state.searchQuery},e.action||t)},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,rV.c2)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,rW.M)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,isReadOnly:this.props.appModel.isReadOnly,includeDisabled:!0});return new r1.xm(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:!0})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}logActionSelectedEvent(e){let{createMetrics:t}=this.props.interactionMetrics;(0,r8.kp)({item:e,searchQuery:this.state.searchQuery,qaVersion:r3.U3,numSearchResults:this.state.searchResults.length,searchPosition:this.state.activeItemIndex,moduleFilters:null,...t()})}recentlyUsedItemsMenu(){return(0,nX.WI)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),n=e.filter(e=>e.disabled);return t.concat(n)}addToRecentlyUsedCommands(e,t){let n=(0,r9.EG)(e),i=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==n&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));i.length>=3&&i.pop(),i.unshift({displayName:n,runPluginArgs:t}),this.props.dispatch(e9.PQ(i)),this.props.updateFrecencyHistory(e,this.state.searchQuery),(0,r6.s)({displayText:n,runPluginArgs:t,localFileIdOrPluginId:e.pluginLocalFileId??e.pluginId})}getActionIcon(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,iL.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...this.props.pluginAndWidgetMenuArgs.publishedPlugins,...this.props.pluginAndWidgetMenuArgs.publishedWidgets}})),t&&!(0,iF.ZQ)(t))?(0,i.jsx)(r$.V,{className:st.ZR,plugin:t,role:"presentation"}):(0,i.jsx)(e3.B,{className:st.pB,svg:sa.A,ariaLabel:`${e.name} icon`})}if(e.iconType&&"external_link"===e.iconType)return(0,i.jsx)(e3.B,{svg:si.A})}onStartParameterMode(e,t,n){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,n)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return(0,i.jsx)("div",{className:st.Tk,children:(0,_.tx)("fullscreen_actions.no_matches")})}else if(0===this.state.searchResults.length)return null;return(0,i.jsx)(se.h,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox",children:e.map(this.renderResult)})}render(){let e=this.state.searchQuery||this.state.searchResults.length;return(0,i.jsxs)(se.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions",children:[(0,i.jsxs)("div",{className:st.$P,children:[(0,i.jsx)(e3.B,{svg:sr.A,className:st.qc}),(0,i.jsx)("input",{ref:this.searchInputRef,"aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0,"aria-autocomplete":"list","aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-owns":this.listboxId,className:st.Rt,dir:"auto",maxLength:150,onChange:this.onSearchChange,onClick:this.onClick,placeholder:(0,ic.A)("quick-actions-modal-placeholder"),role:"combobox",spellCheck:!1,value:this.state.searchQuery})]}),this.renderResults()]})}}function sl(e){let t=(0,rq.c4)(),n=(0,rZ.F)(),a=(0,r8.Sk)(),{addFrecencyUsage:s}=(0,r0.fJ)(),o=(0,r.d4)(rQ.l),l=(0,tv.Ev)(),c=(0,d.md)(q.dd),u=(0,d.md)(q.Rt),p=(0,rG.F)(u),m=(0,r.wA)(),h=(0,r2.wo)(),f=(0,r.d4)(e=>e.mirror.appModel),g=(0,r.d4)(e=>e.selectedView),_=(0,r.d4)(e=>e.user?.locale);return(0,i.jsx)(so,{...e,appModel:f,currentSelection:o,dispatch:m,fireQueryResultTrackingEvent:l,fullscreenMenuItems:n,interactionMetrics:a,latestQuerySessionIdRef:p,locale:_,pluginAndWidgetMenuArgs:t,quickActionsSessionId:c,recentlyUsedQuickCommands:h,selectedView:g,updateFrecencyHistory:s})}function sd(e){let t=(0,U.J2)((0,eb.UK)().showQuickCommandRankDebug);return(0,i.jsx)(sc,{...e,showQuickCommandRankDebug:t})}so.displayName="QuickActions";class sc extends t0.o6{constructor(e){super(e),this.onClick=t0.cZ(this,"click",e=>{if(!this.props.onClick)return t0.aH;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item;if(e.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return(0,i.jsx)(r7._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return(0,i.jsx)(r7.h,{itemPath:t})}let t=(0,r9.EG)(e);return this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore&&(t=`M${e.stringMatchScore} P${e.popularityScore}: `+t),(0,i.jsx)("div",{className:st.D6,children:t})},ss(this.props.item)?this.state={itemIsChecked:(0,il.WJ)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,il.WJ)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),n=(0,il.Dz)(e),a=e.shortcutText||(0,J.c1)(this.props.appModel.keyboardShortcuts,n),r=void 0!==this.props.item.runPluginArgs,s=e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),o="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,d=null;void 0!==this.state.itemIsChecked?d=(0,i.jsx)(r4.S,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(d=this.props.actionIcon);let c=`${this.props.active?st.ix:st.Ke} ${this.props.disabled?st.wn:""}`;return(0,i.jsxs)("div",{className:c,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked,children:[(0,i.jsx)("div",{className:st.EA,children:d}),(0,i.jsxs)("div",{className:st.V4,children:[t,s&&(0,i.jsx)("div",{className:st.Vu,children:(0,_.tx)("fullscreen_actions.development")})]}),a&&!o&&(0,i.jsx)("div",{className:st.LE,children:(0,i.jsx)(ec.S,{shortcut:a})}),!a&&o&&(0,i.jsxs)("div",{className:st.LE,children:[(0,i.jsx)("div",{className:st.Hq,children:(0,_.tx)("fullscreen_actions.tab")}),r&&(0,i.jsx)("div",{className:st.w8,children:(0,_.tx)("fullscreen_actions.to_edit")}),(0,i.jsx)(e3.B,{svg:sn.A})]}),!a&&e.isRepairCommand&&(0,l.kc)().internal_only_debug_tools&&(0,i.jsx)("div",{style:rK.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$,children:"REPAIR"})]})}}function su({parameterEntryArgs:e,fireTrackingEvent:t}){let[n,r]=a.useState(),[s,o]=a.useState(!0),l=(0,d.Xr)(q.dd);if(a.useEffect(()=>{if(s){o(!1);let n=(0,rU.g)();l(n),t(n),e&&r({args:e})}},[e,s,t,l]),!n)return(0,i.jsx)(sl,{recordingKey:"quickActions",onStartParameterEntry:(e,t,n)=>{let i;switch(n){case"tab":i="quick-actions-tab";break;case"enter":i="quick-actions-enter";break;case"click":i="quick-actions-click";break;default:(0,rB.xb)(n)}r({args:{...e,triggeredFrom:i},item:t})}});{let{args:e,item:t}=n,a=t?(0,r9.EG)(t):void 0;return(0,i.jsx)(rH.ry,{command:e.command,displayName:e.displayName,initialParameterValues:t?.runPluginArgs?.parameterValues,onExitParameterEntry:()=>{r(void 0)},parameterOnly:e.parameterOnly,parameters:e.parameters,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,recentlyUsedCommandName:a,recordingKey:"parameterEntry",triggeredFrom:e.triggeredFrom})}}sc.displayName="QuickActionsResult";var sp=n(497932),sm=n(132760),sh=n(387092),sf=n(7718),sg=n(911990),s_=n(825911),sx=n(74376),sy=n(441746),sv=n(292658),sb=n(913014);function sC({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:n,onSubmit:s,shouldUseEyedropperStyleCreationFlow:o}){let l=(0,r.d4)(e=>e.mirror.selectedStyleProperties),d=(0,r.d4)(e=>e.mirror.sceneGraphSelection),c=a.useRef(Object.keys(d).length>0),u=(0,sf.sg)(e),{styleRef:p,createStyle:m}=(0,sv.u)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:c.current,trackingOptions:{styleType:u},shouldUseEyedropperStyleCreationFlow:o}),h=t0.of(n,"submit",()=>{m(),s(p)});return l.styleType?(0,i.jsxs)(s_.zK.Provider,{value:s_.zM.CREATE_VARIABLE_STYLE,children:[(0,i.jsx)(sb.O8,{type:l.styleType,recordingKey:n,isInspectPanel:!1,selectedStyleProperties:l,showProperties:!0,onEnterPressed:h}),(0,i.jsx)(sg.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16,children:(0,i.jsx)(eJ.$n,{onClick:h,disabled:!p,variant:"primary",children:(0,_.tx)("design_systems.create_style.create_style")})})]}):null}var sE=n(903964),sj=n(52547),sw=n(52498),sT=n(31863);function sk({clientType:e}){let t=(0,nR.U)();return(0,a.useEffect)(()=>{let n=Date.now();return()=>{let i=Date.now()-n;t("reconnecting_modal_shown",{msElapsed:i,clientType:e}),i>1e3&&(0,sw.B3)(e)}},[e,t]),(0,i.jsx)("div",{className:`${sT.h} ${sT.M}`,children:(0,i.jsx)(ak.J,{mode:"dark",children:(0,i.jsxs)(sj.bL,{children:[(0,i.jsx)(rd.k,{}),(0,i.jsx)(sj.QB,{children:(0,_.tx)("reconnecting_modal.loading")})]})})})}function sI(){return(0,nR.U)()("waiting_for_sync_modal_shown"),(0,i.jsx)("div",{className:`${sT.h}`,children:(0,i.jsx)(ak.J,{mode:"dark",children:(0,i.jsxs)(sj.bL,{children:[(0,i.jsx)(rd.k,{}),(0,i.jsx)(sj.QB,{children:(0,_.tx)("waiting_for_sync_modal.saving")})]})})})}var sS=n(116553),sN=n(175100),sA=n(790621),sL=n(813141),sO=n(641099),sR=n(435789);function sP(e){let t=(0,sL.G)(),n=(0,sA.JI)();if(t||!n)return null;let a=(0,tc.E7)(n?.url)??"",r=null;if(""!==a){let{url:t,nodeIdInThisFile:n,versionId:i}=(0,iA.ih)(a,e.store);r=n&&!i?{type:"internal",id:n}:{type:"url",url:t}}let{x:s,y:l}=n,d=T.Y5.getViewportInfo(),c=Math.min(Math.max(s,100),d.width-100);return(0,i.jsx)("div",{className:"sites_hyperlink_editor--container--67YMj",style:{left:Math.round(c+d.x),top:Math.round(l+d.y)},children:(0,i.jsxs)("div",{className:`sites_hyperlink_editor--popup--3kD7E _overlayBase--_overlayBase--Rkj8l ${w.Dm}`,children:[r&&(0,i.jsx)(e3.B,{svg:sR.A,className:"sites_hyperlink_editor--breakIcon--LW2w0",onMouseDown:t=>{e.onClickTrash(t)},recordingKey:t0.Pt(e.recordingKey,"breakHyperlink")}),(0,i.jsx)(sO.MO,{id:"inline_editor",recordingKey:e.recordingKey,link:r,onLinkChange:t=>{let n;t?.type==="url"?n=t.url:t?.type==="internal"&&(n=T.Y5.generateLinkToNode(t.id)),e.setUrl(n??""),o.glU?.hideHyperlinkEditor()},isHyperlinkEditor:!0})]})})}function sM(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substring(7):e}function sD(e){let t=(0,r.wA)(),n=(0,r.Pj)().getState(),[l,d]=a.useState(sM(e.hyperlinkLocation.url)),c=a.useRef(!0),u=a.useRef(l);a.useEffect(()=>{u.current=l},[l]);let p=a.useCallback(t=>tz.l7.user("set-hyperlink",()=>!!o.glU&&o.glU.setHyperlink(sM(t),e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),[e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeEnd,e.hyperlinkLocation.rangeStart]);a.useEffect(()=>()=>{c.current&&(p(u.current),(0,e$.sx)("Hyperlink Editor Updated Link On Dismiss"))},[p]);let m=t0.AF(e.recordingKey,"change",e=>{d(e.target.value.trim())}),h=t0.v_(e.recordingKey,"keydown",n=>{if((0,rY.jr)(n,rY.W0.NO))return t0.aH;if("Escape"===n.key)n.preventDefault(),c.current=!1,(0,e$.sx)("Hyperlink Editor Cancelled On Escape"),o.glU.hideHyperlinkEditor();else if("Enter"===n.key){if(n.preventDefault(),c.current=!1,p(l)){if(""===l)(0,e$.sx)("Hyperlink Editor Deleted Link"),t(x.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")}));else{let t={};if(l&&!l.startsWith("mailto:"))try{let n=new URL((0,sS.xT)(l)).hostname,i=e.editorType;t={domain:n,editorType:i}}catch(e){}(0,e$.sx)("Hyperlink Editor Updated Link On Enter",t)}}else(0,e$.sx)("Hyperlink Editor Invalid Link"),t(x.F.enqueue({message:(0,_.t)("hyperlink.invalid_link_plain")}));o.glU.hideHyperlinkEditor()}}),f=t0.rf(e.recordingKey,"click",n=>{c.current=!1,e.hyperlinkLocation&&tz.l7.user("clear-hyperlink",()=>o.glU.setHyperlink("",e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),t(x.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")})),o.glU.hideHyperlinkEditor(),n.stopPropagation()}),g=e.hyperlinkLocation.x,y=e.hyperlinkLocation.y,v=T.Y5.getViewportInfo(),b=Math.round(Math.min(Math.max(g,100),v.width-100)+v.x),C=Math.round(y+v.y);return e.editorType===Y.nT.Sites||e.editorType===Y.nT.Figmake?(0,i.jsx)(sP,{recordingKey:"hyperlinkEditor",setUrl:d,onClickTrash:f,store:n}):(0,i.jsx)(sN.c,{url:l,location:new e1.Mi(b,C),onInputChange:m,onInputKeyDown:h,onBlur:s.lQ,onClickTrash:f})}var sF=n(259964),sB=n(440104),sU=n(127082),sH=n(428827),sV=n(174318),sG=n(495766),sz=n(446071);function sK(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===o.NLJ.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===o.Oin.HIDE_UI||e.progressBarState.mode===o.Oin.ON_AND_LOCKED,hasCursorBot:!!(0,l.kc)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}function sW({fileKey:e}){let t=(0,r.wA)(),n=(0,r.Pj)(),i=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),s=(0,sH.jz)(),l=(0,sV.e_)()===sV.$_.ELIGIBLE,d=(0,V.Fk)(e=>e.getCurrentPage()?.guid);return a.useLayoutEffect(()=>{if(!i||!l)return;let a=n.getState(),r=s?.find(e=>e.inProgress),c=a.mirror.appModel.votingSessionInfo,u=c.sessionId&&s?s.find(e=>e.id===c.sessionId):null;if(r){if(r.id!==c.sessionId){t(j.au({}));let n=(0,B.VP)(a.loadingState,j.$c(e))||a.voting.lastInitiatedVotingSessionId===r.id;t(j.H1({votingStage:n?o.W8Y.JOINED:o.W8Y.NOT_JOINED}))}}else c.sessionId&&!u?t(j.H1({votingStage:o.W8Y.NO_SESSION})):!r&&c.sessionId&&c.votingStage!==o.W8Y.ENDED&&(t((u?.pageNodeId&&(0,m.oA)(u.pageNodeId))===d?j.H1({sessionId:c.sessionId,votingStage:o.W8Y.ENDED}):j.H1({votingStage:o.W8Y.NO_SESSION})),t(j.D6("")))},[e,t,s,i,l,n,d]),null}function sZ(){let e=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),t=a.useRef(!1);return a.useEffect(()=>{e&&!t.current&&((0,h.Z1)(),t.current=!0)},[e,t]),null}let sq={VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:n,initialStyleCreationPaint:a,initialView:s,resolvedType:l,onCreateVariable:d,onCreateStyle:c,onClose:u,disableStyleModal:p,shouldUseEyedropperStyleCreationFlow:m}){let h="createVariableAndStyleModal";(0,sy.NF)({resolvedType:l});let{onCreateVariableSubmit:f,onCreateStyleSubmit:g}=function({onCreateVariable:e,onCreateStyle:t,onClose:n}){let{onCreateVariableSubmit:i}=(0,sx.useVariableCreateModalActions)({onCreateVariable:e,onClose:n}),a=(0,tp._G)(),s=(0,r.d4)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:i,onCreateStyleSubmit:function(e){let i=function(e){let t=o.Pt4.getStyleNodeId(e.key,e.version),n=s.get(t);return n?{type:tF.PW.STYLE,name:n.name,library_key:a??(0,nJ.l)(""),key:n.styleKeyForPublish,thumbnail_url:"",canvas_url:"",content_hash:n.styleVersionHash??void 0,userFacingVersion:(0,sh.IA)(n.userFacingVersion),node_id:n.guid,isLocal:!0,style_type:n.styleType}:null}(e);i&&(t(i),n())}}}({onCreateVariable:d,onCreateStyle:c,onClose:u}),[x,y,v]=sm.t.useTabs({createStyle:!p,createVariable:!0},{recordingKey:t0.Pt(h,"viewTabs"),defaultActive:()=>s&&["createVariable","createStyle"].includes(s)?s:"createVariable"});return(0,i.jsx)(eW.bL,{onClose:u,defaultPosition:e,width:tA.i,recordingKey:"createStyleWindow",children:(0,i.jsxs)(eZ.vo,{children:[(0,i.jsxs)(eZ.Y9,{children:[(0,i.jsx)(eZ.r1,{children:(0,_.tx)("design_systems.create_style.title")}),(0,i.jsxs)(sm.t.TabStrip,{manager:v,children:[(0,i.jsx)(sm.t.Tab,{...x.createStyle,children:(0,_.tx)("design_systems.create_style.style")}),(0,i.jsx)(sm.t.Tab,{...x.createVariable,children:(0,_.tx)("variables.create_modal.title")})]})]}),(0,i.jsxs)(eZ.nB,{padding:0,children:[(0,i.jsx)(sm.t.TabPanel,{...y.createStyle,children:(0,i.jsx)(sC,{inheritStyleKeyField:n,initialStyleCreationPaint:a,recordingKey:"createStyleModal",onSubmit:g,shouldUseEyedropperStyleCreationFlow:m??!1})}),(0,i.jsx)(sm.t.TabPanel,{...y.createVariable,children:(0,i.jsx)(sx.CreateVariableForm,{resolvedType:l,initialValue:t,recordingKey:t0.Pt(h,"createVariableForm"),onSubmit:f})})]})]})})},VariableAndComponentPropCreateModalRoot:sp.NO};function sX({children:e}){let t=(0,c.R)(sK),n=(0,r.wA)(),h=(0,M.TA)(),j=t.openFile?t.openFile.key:null,k=(0,H.px)().unwrapOr(null),I=(0,U.ut)(o.Ez5?.uiState().shouldShowAutoLayoutHintsIfExist,!1),S=(0,U.ut)(o.Ez5?.uiState().autoLayoutShortcutHints,new Map),N=(0,p.Rs)((0,F.Jpz)({key:j??""}),{enabled:!!j}),A=!1;if(N&&"loaded"===N.status&&t.openFile){let e=N.data.file;if(e&&h){let n=e.linkAccess,i=(0,m.oA)(e.team?.isStarterTeam,!1),a=(0,m.oA)(e.team?.isStudentTeam,!1),r=!!e.roles.find(e=>e.userId===h);A=(0,l.kc)().starter_file_no_auto_grant_role?t.openFile.canEdit&&n===D.PQ.EDIT&&i&&!a&&!k:t.openFile.canEdit&&n===D.PQ.EDIT&&i&&!a&&!r}}(0,y.fk)(j);let L=t.openFile?.editorType==="design",B=(0,C.l7)(),V=(0,v.e)(),G=(0,C.RT)(),z=(0,sU.Oc)(),[K]=(0,d.fp)(P.vE),W=(0,d.Xr)(t4),Z=!t.showUi&&(0,J.TY)(t.dropdownShown),q=t.dropdownShown?.type===J.jv,Q=q?t.dropdownShown?.data?.parameterEntryArgs:void 0,$=t.dropdownShown?.data?.fireQuickActionsTrackingEvent||s.lQ,et=!(0,sF.ty)(),ei=(0,a.useCallback)(e=>{n((0,E.r)({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},[n]),ea=(0,a.useCallback)(e=>{T.Y5.reparentRootElement(e),e&&e.addEventListener("drop",ei)},[ei]),er=K&&K.status===P.QY.WAITING,el=!er&&t.showingReconnectingModal;return(0,i.jsxs)(i.Fragment,{children:[(0,l.kc)().ee_color_management_debug?(0,i.jsx)(O,{}):null,j&&(0,i.jsx)(sW,{fileKey:j}),!(f.Ay.isIpad||f.Ay.isIpadNative||f.Ay.isMobileBrowser||f.Ay.isMeetDevice)&&(0,i.jsx)(sZ,{}),(0,i.jsx)("div",{className:sz.MY,"data-forward-events-to-fullscreen":!0,children:(0,i.jsx)(tK.l.Provider,{value:sq,children:(0,i.jsxs)(eK,{children:[(0,l.kc)().cursor_bot&&L&&t.hasCursorBot&&(0,i.jsx)(rI,{}),!B&&!V&&!z&&!G&&(0,i.jsx)("div",{ref:ea,onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1)},"fullscreen-container"),(0,i.jsx)(rD,{}),(0,i.jsx)(eo.T,{}),(0,R.T)()&&(0,l.kc)().dt_vscode_ready_for_dev&&(0,i.jsx)(b.f,{isOnReadyForDevPage:!1}),!t.fileIsLoading&&(0,i.jsx)(ee,{}),Z&&(0,i.jsx)(nE.e,{dropdown:t.dropdownShown},"fullscreen-menu"),q&&(0,i.jsx)(g.tH,{boundaryKey:"QuickActionsOuter",onError:()=>{n(x.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,i.jsx)(su,{parameterEntryArgs:Q,fireTrackingEvent:$},"quick-actions")}),(0,i.jsx)(X,{}),(0,l.kc)().ce_al_experiments_on&&I&&S.size>0&&(0,i.jsx)(ep,{}),e,t.hyperlinkLocation&&(0,i.jsx)(sD,{hyperlinkLocation:t.hyperlinkLocation,editorType:t.selectedView.editorType,recordingKey:"hyperlinkEditor"}),(0,i.jsx)(es.y,{}),t.progressBarState.mode!==o.Oin.OFF&&(0,i.jsx)(sE.z2,{editorType:(0,Y.oD)(t.selectedView.editorType),progressBarMode:t.progressBarState.mode,progressBarType:t.progressBarState.type,left:0}),er?(0,i.jsx)(sI,{}):el&&(0,i.jsx)(sk,{clientType:"fullscreen"}),(0,i.jsx)(sG.Nd,{}),(0,i.jsx)(sG.jx,{showStartModal:A}),t.dropdownShown&&!et&&!f.Ay.isMeetDevice&&(0,i.jsx)(g.tH,{boundaryKey:"FullscreenContextMenu",onError:()=>{n(x.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,i.jsx)(rE,{dropdownShown:t.dropdownShown,selectedView:t.selectedView,ariaLabelledBy:(0,_.t)("fullscreen.fullscreen_view.context_menu.aria_label")})}),t.pickerShown?.id===w.C9&&(0,i.jsx)(tk,{}),t.pickerShown?.id===rS.O&&(0,i.jsx)(rS.S,{recordingKey:"nudgeAmountPicker"}),(0,i.jsx)(nb,{})]})})}),(0,i.jsx)(en,{}),t.showKeyboardShortcuts&&(0,i.jsx)(rj.k7,{recordingKey:"keyboardShortcutPanel"}),(0,l.kc)().react_scenegraph&&(0,i.jsx)(sB.U,{fallback:u.H4.NONE})]})}},495766:(e,t,n)=>{n.d(t,{jx:()=>eu,XI:()=>ef,qn:()=>ed,Nd:()=>ec,RS:()=>el,P2:()=>em,j6:()=>eh,Ky:()=>ep});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(324063),l=n(549571),d=n(598626),c=n(742549),u=n(548587),p=n(315910),m=n(366535),h=n(551037),f=n(354114),g=n(74620),_=n(211862),x=n(592726),y=n(725837),v=n(249586),b=n(299640),C=n(814509),E=n(231378),j=n(722661),w=n(790009),T=n(170627),k=n(980852),I=n(883765),S=n(166887),N=n(967782),A=n(228227),L=n(278491),O=n(772523),R=n(553065),P=n(754446),M=n(692042),D=n(733106),F=n(862716),B=n(415567),U=n(48251);function H(e){let t=(0,r.d4)(e=>e.mirror.selectionProperties.name),n=(0,r.d4)(e=>e.mirror.selectionProperties.width),a=(0,B.xv)(),o=(0,D.W)();if(!t||!n||!a)return null;let l=s.qmM?.editorTypeConfig().hasSlideRowBeenManuallyRenamed(a)??!0;return(0,i.jsx)(F.qn,{name:l?t:"",setName:n=>{t&&(T.l7.user("rename-frame",()=>O.i(a,n)),o({newTitle:n,nodeType:"FRAME"}),n!==t&&(0,D.d)(n).length>0&&(0,N.YQ)({id:"frame_node_name_changed_with_rfd_indicator",properties:{nodeId:a}}),e?.setNameCallback?.(a))},maxWidth:n,hasSlideRowBeenManuallyRenamed:l})}function V(){return(0,i.jsx)(w.J,{brand:"design",children:(0,i.jsx)(H,{setNameCallback:e=>{I.az.trackDefinedEvent("slides.rename_row",{rowId:e})}})})}function G(){return(0,i.jsx)(w.J,{brand:"cooper",children:(0,i.jsx)(H,{})})}function z(){let[e,t]=(0,P.lJ)("prototypeStartingPoint"),n=R.E7(e)?.name||"";return n?(0,i.jsx)(F.qn,{name:n,setName:n=>{n&&t({name:n,description:R.E7(e)?.description||"",position:R.E7(e)?.position||""})},maxWidth:93,containerClassname:U.VW}):null}function K(){let{measurementId:e,initMeasurementText:t}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),n=(0,r.d4)(e=>e.mirror.appModel.currentPage),o=a.useMemo(()=>s.w3z.findMeasurement(e,n),[e,n]),l=a.useRef(!o?.freeText),d=(0,A.Kv)(),c=function(){let e=(0,S.U)();return a.useCallback((t,n,i)=>{let a=t.findContainingTopLevelFrameOrSelf(),r=t.containingCanvas,s={measurement_id:n.id,from_node_id:n.fromNode,to_node_id:1===n.toNode.length?n.toNode[0].toString():n.toNode.toString(),node_type:t.type};a&&(s.tlf_id=a),r&&(s.page_id=r),s.free_text=i,e("update_annotation_measurement_free_text",s)},[e])}();return o?d?(s.glU?.hideOnCanvasNameEditor(),null):(0,i.jsx)(F.qn,{name:t,setName:e=>{let n=(0,k.UN)().get(o.fromNode);if(n){if(l&&e===t)return;T.l7.user("free-text-annotation-measurement",()=>{n.updateMeasurementFreeText(o.id,e),c(n,o,e)})}},maxWidth:150}):null}function W(){let{varWidthNodeId:e,varWidthIndex:t}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),n=(0,S.U)(),a=(0,k.UN)().get(e);if(!a)return null;let s=a.variableWidthPoints,o=a.strokeWeight;if(s.length<=t)return null;let l=s[t],d=l.ascent*o*2;return(0,i.jsx)(F.qn,{name:(Math.round(10*d)/10).toString(),containerClassname:U.WV,setName:e=>T.nc.user("set-var-width-point-ascent",()=>{let i=parseFloat(e);if(isNaN(i))return;let r=[...s];r[t]={...l,ascent:i/(2*o)},a.variableWidthPoints=r,n("on_canvas_var_width_point_update",{node_id:a.id})})(),maxWidth:200})}function Z(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width),n=(0,D.W)();return null!=e&&t?(0,i.jsx)(q,{name:e,setNameWithNodeId:(e,t)=>{T.l7.user("rename-section",()=>O.i(e,t?t.trim():"")),n({newTitle:t,nodeType:"SECTION"})},maxWidth:t}):null}function q(e){let{name:t,setNameWithNodeId:n,maxWidth:a}=e,o=(0,B.uQ)(),l=(0,F.R9)(t,e=>{o&&n(o,e)},{maxWidth:a}),d=(0,r.d4)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType;return t===s.m1T.DESIGN_LAYOUT||t===s.m1T.SITES_LAYOUT}),{fontSize:c,top:u,left:p,height:m,horizontalPadding:h,verticalPadding:f,borderRadius:g}=function(e,t){let{fontSize:n,padding:i,margin:a,cornerRadius:o}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),l=s.qmM.editorTypeConfig().showBigSectionNamePills(),d=i.x,c=i.y,u=l?24:2*i.y+n,p=0,m=-a.y-u,h=s.qmM.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=h)&&(p=a.x,m=a.y),{fontSize:n,height:u,top:m,left:p,horizontalPadding:d,verticalPadding:c,borderRadius:o}}((0,r.d4)(e=>{if(null===o)return!1;let t=e.mirror.sceneGraph.get(o),n=e.mirror.appModel.currentPage,i=!!t?.isResponsiveSetOrWebpage;return t&&("SECTION"===t.type||i)&&t.parentGuid===n}),Math.round(100*(0,M._X)({subscribeToUpdates_expensive:!0}).zoomScale));if(!l||!o)return null;let{containerRef:_,measurerRef:x,containerStyle:y,editingName:v,onFocus:b,onChange:C,onKeyDown:E,onBlur:j,width:w,setIsComposing:T}=l,k=d?"normal":500;return(0,i.jsxs)("div",{ref:_,className:`${U.ed} ${L.Dm}`,style:y,children:[(0,i.jsx)("span",{ref:x,className:U.so,style:{fontSize:c,fontWeight:k,paddingLeft:h,paddingRight:h,paddingTop:f,paddingBottom:f},children:v}),(0,i.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:U.Zk,dir:"auto",onBlur:j,onChange:C,onCompositionEnd:()=>T(!1),onCompositionStart:()=>T(!0),onFocus:b,onKeyDown:E,spellCheck:!1,style:{width:`${w}px`,fontSize:c,fontWeight:k,left:p,top:u,height:m,borderRadius:g,paddingLeft:h,paddingRight:h,paddingTop:f,paddingBottom:f},value:v})]})}var X=n(457609),Y=n(788814),J=n(598369),Q=n(219199),$=n(192075),ee=n(111297),et=n(234581),en=n(354174),ei=n(201019);function ea(e){let t=(0,x.iZ)();return(0,i.jsx)(ee.fu,{name:"Starter team edit confirmation modal",properties:{userId:t?.id,userEmail:t?.email},children:(0,i.jsx)(en.yX,{confirmationTitle:(0,$.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,I.sx)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),et.L.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,I.sx)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),Q.Ay.redirect("/files/recents-and-sharing")},children:(0,i.jsx)("div",{className:ei.jE,children:(0,$.tx)("fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",{email:t?.email})})})})}var er=n(276800);let es=(0,n(959834).Ju)(function(e){return(0,i.jsxs)(en.ey,{size:"small",className:ei.yl,disableClickOutsideToHide:!0,hide:er.lQ,children:[(0,i.jsx)("div",{className:ei.DD,children:(0,$.tx)("file_migration.updating.title")}),(0,i.jsx)("div",{className:ei.jE,children:(0,$.tx)("file_migration.updating.message")})]})},"FileMigrationWarningModal");function eo(){return(0,r.d4)(e=>e.progressBarState)}let el=(0,o.xx)((e,t,n)=>{e(p.gI()),e(u.mV({}))});function ed(){switch((0,g.p8)("onCanvasNameEditorInfo").mode){case s.nzw.FRAME_NAME:return(0,i.jsx)(H,{});case s.nzw.FLOW_STARTING_POINT_NAME:return(0,i.jsx)(z,{});case s.nzw.SECTION_NAME:return(0,i.jsx)(Z,{});case s.nzw.MEASUREMENT_FREE_TEXT:return(0,i.jsx)(K,{});case s.nzw.RESPONSIVE_SET_NAME:return(0,i.jsx)(Z,{});case s.nzw.CANVAS_GRID_ROW_NAME:return(0,i.jsx)(V,{});case s.nzw.CANVAS_GRID_ROW_STATE_GROUP:return(0,i.jsx)(G,{});case s.nzw.GRID_TRACK_SIZE:return(0,i.jsx)(j.v2,{});case s.nzw.VAR_WIDTH_SIZE:return(0,i.jsx)(W,{});default:return null}}function ec(){let e=eo(),t=(0,r.d4)(e=>e.showingOpenDesktopAppModal),n=(0,r.wA)();if(e.mode!==s.Oin.OFF)return(0,i.jsx)(i.Fragment,{});switch(t){case b.kF.FOR_OPEN:return(0,i.jsx)(Y.g,{dispatch:n});case b.kF.FOR_MENU:return(0,i.jsx)(X.s,{dispatch:n})}return(0,i.jsx)(i.Fragment,{})}function eu(e){let t=(0,_.q5)(),n=(0,x.iZ)();return e.showStartModal&&n&&t&&t.key?(0,i.jsx)(ea,{fileKey:t.key}):(0,i.jsx)(i.Fragment,{})}function ep(){let e=(0,a.useRef)(null),t=(0,a.useRef)(!1),n=eo(),i=(0,r.wA)(),o=(0,r.d4)(e=>e.needsUpgrade),l=(0,a.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null)},[e]),d=(0,a.useCallback)(()=>{l(),e.current=setTimeout(()=>{t.current=!0,o&&n.mode!==s.Oin.OFF&&i((0,m.to)({type:es}))},2e4)},[o,n,i,l]),c=(0,a.useCallback)(()=>{t.current&&i(m.Ce()),t.current=!1,l()},[t,l,i]);(0,a.useEffect)(()=>(f.Y5.fromFullscreen.on("multiplayerConnect",d),f.Y5.fromFullscreen.on("multiplayerDisconnect",l),f.Y5.fromFullscreen.on("multiplayerGotSchema",c),()=>{f.Y5.fromFullscreen.removeListener("multiplayerConnect",d),f.Y5.fromFullscreen.removeListener("multiplayerDisconnect",l),f.Y5.fromFullscreen.removeListener("multiplayerGotSchema",c),l()}),[l,d,c])}function em(e,t,n){!t.current&&function(e,t){if(t===s.NLJ.VECTOR_PENCIL||t===s.NLJ.ERASER||t===s.NLJ.HIGHLIGHTER){var n;return n="figjam",(0,v.uE)("Pointer Input",y.D.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case s.NLJ.VECTOR_PENCIL:return"VECTOR_PENCIL";case s.NLJ.ERASER:return"ERASER";case s.NLJ.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:n}),!0}return!1}(e,n)&&(t.current=!0)}function eh(e,t){t.current||(t.current=!0)}function ef({commentsDetailContainerRef:e}){let t=(0,g.p8)("topLevelMode")===s.lyf.HISTORY,n=(0,_.q5)(),a=(0,r.d4)(e=>e.user),o=(0,g.p8)("currentPage"),u=(0,r.d4)(e=>e.comments),p=(0,c.l7)(),m=(0,d.e)(),f=(0,h.k)(),x=(0,l.xo)(),y=u.activeThread?.id||null,v=u.showOnlyParticipating,b=u.showResolved;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J.Ay,{}),n&&!t&&!p&&!m&&(a||f)&&!x&&(0,i.jsx)(C.$2,{showOnlyParticipatingComments:v,showResolvedComments:b,pageId:o,activeId:y,renderDetailContainerInPortal:!0,detailContainerPortal:e.current}),!x&&(0,i.jsx)(E.yL,{})]})}},11216:(e,t,n)=>{n.d(t,{v:()=>F});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(511570),l=n.n(o),d=n(876621),c=n(501781),u=n(962212),p=n(288747),m=n(331497),h=n(623971),f=n(795033),g=n(883765),_=n(725837),x=n(755444),y=n(449572),v=n(770366),b=n(227689),C=n(850701),E=n(152469),j=n(244399),w=n(4033),T=n(727612),k=n(211862),I=n(657878),S=n(761597),N=n(59849),A=n(923570);function L(){return(0,S.o)(),(0,i.jsx)(i.Fragment,{})}function O(e){let t=(0,I._6)(),n="fullscreen"===t.view?t.fileKey:null,o=(0,r.wA)(),l=(0,r.d4)(e=>e.fileByKey),d=(0,r.d4)(e=>e.userAnalyticsData),c=(0,r.d4)(e=>e.user),u=(0,k.q5)(),p=u?.canEdit,{orgId:m}=e,h=null!=n&&!!l[n]?.is_favorited,O=(0,y.Rs)((0,N.jJU)({fileKey:n||""}),{enabled:!!n});a.useEffect(()=>{if("loaded"===O.status){let e=O.data.file?.developerRelatedLinks,t=e?.reduce((e,t)=>{let n=e.get(t.nodeId)??[];return n.push(t),e.set(t.nodeId,n),e},new Map);if(t)try{s.glU?.setDeveloperRelatedLinks(t)}catch{}}},[O]);let R=a.useRef(!1),P=(0,f.Xr)(j.Kc),M=(0,y.Rs)(N.a8q,{fileKey:n||""},{enabled:!!n});a.useLayoutEffect(()=>{if("loaded"!==M.status)return;let e=M.data.figFileWorkshopMode;P(e?e.expiresAt:null),e&&e.expiresAt>new Date&&(R.current=!0),o(E.lX(e?{id:e.id,until:e.expiresAt,loaded:!0}:{loaded:!0}))},[M,o,P]);let D=a.useRef(null),F=a.useRef(!1),B=a.useRef(null),U=a.useRef(null),H=(0,y.Rs)(N.ehp,{fileKey:n||""},{enabled:!!n});a.useLayoutEffect(()=>{if("loaded"!==H.status||H.errors.length>0&&null===H.data.file)return;let e=H.data.file;if(null===D.current){let t=(0,x.Ay)().editing_file;null!==e&&t&&e.key===t.key&&!!t.can_edit!==e.canEdit&&((0,g.sx)("open_file_inconsistent_permission",{file_key:e.key,lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit,user:_.D.getState().user?.id},{batchRequest:!0}),(0,v.Rh)("open_file.inconsistent_permissions",{lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit}))}if((0,A.X_)({openFile:e,wasInWorkshop:R.current,previousCanEdit:D.current,wasInUnclaimedTryFile:F.current,previousCanView:U.current,previousFileKey:B.current?.key||null},o),null==e)return;U.current=e.canView,D.current=e.canEdit,R.current&&e.isTryFile&&(F.current=!0);let t=_.D.getState().selectedView;"fullscreen"===t.view&&t.fileKey===e?.key&&B.current!==e&&(o(C.UC({openFile:{...e,isFavorited:h},isLiveGraphSync:!0})),B.current=e)},[H,o,h]);let V=(0,w.Be)();return a.useLayoutEffect(()=>{let e=_.D.getState().selectedView;if(!V.loaded||"fullscreen"!==e.view)return;let{plugins:t,widgets:n,orgPlugins:i,orgWidgets:a}=V,r={...t,...i},s={...n,...a};o(b.g3(r)),o(b.zI(s))},[o,m,V]),(0,T.rB)(),p&&(0,S.n)(d,c?.email)?(0,i.jsx)(L,{}):(0,i.jsx)(i.Fragment,{})}var R=n(690551),P=n(495766),M=n(446071);function D(){return(0,c.co)(),null}function F({children:e,setShouldShowDragAndDropBorder:t,onPointerDown:n=P.j6,isDragTarget:o=!1}){let c=(0,r.d4)(e=>e.modalShown),f=(0,u.T)(),g=(0,m.ut)(s.Ez5?.devHandoffState()?.focusMode,!1),_=(0,p.dq)(),x=a.useRef(!1);return(0,i.jsx)(R.d,{children:(0,i.jsx)(d.Y,{isDragTarget:()=>o,onTargetDragEnter:()=>{t(!0)},onTargetDragLeave:()=>{t(!1)},onTargetDrop:()=>{t(!1)},style:{flex:"1 1 auto"},children:(0,i.jsxs)("div",{"aria-hidden":!!c,className:l()(M.lA,f&&g&&M.$J),onPointerDown:e=>{n(e,x)},children:[(0,i.jsx)(O,{orgId:_}),e,(0,i.jsx)(h.G,{}),(0,i.jsx)(D,{})]})})})}},81786:(e,t,n)=>{n.d(t,{O:()=>m});var i=n(716976),a=n(903927),r=n(357524),s=n(296525),o=n(83734),l=n(315361),d=n(74620),c=n(361145),u=n(68191),p=n(312387);function m(){let e=(0,a.wA)(),t=(0,d.aV)(),n=(0,a.d4)(e=>e.selectedView.compareChangesVersionId),m=(0,a.d4)(e=>e.selectedView.compareChangesActivityId),h=(0,a.d4)(e=>e.selectedView?.view==="fullscreen"&&e.selectedView.compareChangesNodeId||null),f=(0,l.uQ)(),g=h??f??void 0,_=(0,r.ei)(g),x=(0,s.i)(g),{versions:y,versionsQueryLoaded:v}=(0,u.DS)(g),b=!v||0===y.length||!_,C=(0,c.P)(),E=(0,o.dU)(g??null,"cc_version_id_url");i.useEffect(()=>{(n||m)&&!t&&v&&!C&&(x&&!b?E():(0,p.L$)(void 0,e,!1,null))},[n,m,e,t,C,b,x,E,v])}},790621:(e,t,n)=>{n.d(t,{C_:()=>x,iv:()=>g,LP:()=>_,JI:()=>f,v2:()=>h});var i=n(104076),a=n(716976),r=n(903927),s=n(951002),o=n(266808),l=n(983500),d=n(681398),c=n(816622),u=n(819851),p=n(404343);let m=(0,l.hG)(p.Ty8);function h(){let e=(0,c.jw)(),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:n}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||n.onCanvasNameEditorInfo.mode===o.nzw.SECTION_NAME)),n=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),i=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd),a=(0,u.lg)();return"whiteboard"===a?t?40:n&&d.XN?40:i?20+m/2:o.qmM?.shouldRenderTableUiForSelection()!==o.miS.HIDE?20+m/2:16:"cooper"===a?e?40:30:8}function f(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function g(e,t,n,i){switch(i){case o.cfv.ABOVE:return n<e.y?o.cfv.ABOVE:o.cfv.BELOW;case o.cfv.BELOW:return n>e.y?o.cfv.BELOW:o.cfv.ABOVE;case o.cfv.LEFT:return t<e.x?o.cfv.LEFT:o.cfv.RIGHT;case o.cfv.RIGHT:return t>e.x?o.cfv.RIGHT:o.cfv.LEFT;default:(0,s.xb)(i)}}function _(e){let t=a.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),n=a.useCallback(()=>{let{current:n}=t;n.didMenuMidpointChange&&n.didSelectionChange&&e.current?.animate(),n.frameHandle||(n.frameHandle=setTimeout(()=>{n.didMenuMidpointChange=!1,n.didSelectionChange=!1,n.frameHandle=null},0))},[e]);return{markSelectionChanged:a.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,n()),t.current.lastSelection=e},[n]),markPositionChanged:a.useCallback(e=>{let{current:i}=t;(e.x!==i.lastMidpoint.x||e.y!==i.lastMidpoint.y)&&(i.didMenuMidpointChange=!0,n()),i.lastMidpoint=e},[n])}}let x=a.forwardRef(function({children:e,disableAnimation:t=!1},n){let r=a.useRef(null);return a.useImperativeHandle(n,()=>({animate:()=>{r.current&&!t&&(r.current.style.animation="none",r.current.offsetTop,r.current.style.animation="")}})),(0,i.jsx)("div",{ref:r,className:t?void 0:"inline_editor_layer--animationRoot--pX-db",children:e})})},804363:(e,t,n)=>{n.d(t,{G_:()=>m,Lm:()=>h,NA:()=>c});var i=n(266808),a=n(795033),r=n(246144),s=n(850701),o=n(354114),l=n(637599),d=n(140948),c=(e=>(e.ASSETS="assets",e.FILE="file",e.CHAT="chat",e.SEARCH="search",e))(c||{});let u=(0,l.vv)(()=>i.Ez5?.uiState().showCanvasSearch,!1),p=(0,d.bt)(e=>e.leftPanel),m=(0,a.eU)(e=>{let t=e(u),n=e(p);if(t)return"search";switch(n.activeTab){case i.xae.ASSETS:return"assets";case i.xae.CHAT:return"chat";case i.xae.LAYERS:return"file";default:return(0,r.xi)("ui3p/navbar","designLeftPanelOverlayStateAtom: Unhandled left panel tab",{tab:n.activeTab}),"file"}});function h(e){switch(i.Ez5?.uiState().showCanvasSearch&&"search"!==e&&i.YEY?.exitSearchMode(i.dNx.NONE),e){case"assets":o.Y5.dispatch(s.FP({tab:i.xae.ASSETS,persist:!0}));break;case"file":o.Y5.dispatch(s.FP({tab:i.xae.LAYERS,persist:!0}));break;case"chat":o.Y5.dispatch(s.FP({tab:i.xae.CHAT,persist:!1}));break;case"search":o.Y5.triggerActionEnum(i.rcl.CANVAS_SEARCH,{source:"navbar"})}}},369923:(e,t,n)=>{n.d(t,{LP:()=>m,_L:()=>f,ek:()=>h,lk:()=>g});var i=n(104076),a=n(914391),r=n(102449),s=n(476816),o=n(260619),l=n(795033),d=n(491645),c=n(192075),u=n(383310),p=n(804363);function m(){let e=(0,l.md)(p.G_);return(0,i.jsx)(d.K0,{label:(0,c.t)("design.navbar.file"),icon:(0,i.jsx)(a.g,{}),onClick:()=>(0,p.Lm)(p.NA.FILE),active:e===p.NA.FILE})}function h(){let e=(0,l.md)(p.G_);return(0,i.jsx)(d.K0,{label:(0,c.t)("design.navbar.assets"),icon:(0,i.jsx)(r.s,{}),onClick:()=>(0,p.Lm)(p.NA.ASSETS),active:e===p.NA.ASSETS})}function f(){let e=(0,l.md)(p.G_),t=(0,u._4)();return(0,i.jsx)(d.K0,{label:(0,c.t)("design.navbar.find"),icon:(0,i.jsx)(s.h,{}),onClick:t,active:e===p.NA.SEARCH})}function g(){let e=(0,l.md)(p.G_);return(0,i.jsx)(d.K0,{label:(0,c.t)("design.navbar.chat"),icon:(0,i.jsx)(o.l,{}),onClick:()=>(0,p.Lm)(p.NA.CHAT),active:e===p.NA.CHAT})}},85598:(e,t,n)=>{n.d(t,{HY:()=>f,nb:()=>g,sG:()=>_,ur:()=>h});var i=n(104076),a=n(491645),r=n(557276),s=n(819851),o=n(74620),l=n(490499),d=n(604578),c=n(618907),u=n(383310),p=n(255578),m=n(830237);function h({canvasInteractions:e}){let t=(0,o.aV)();return(0,i.jsxs)(a.bL,{menuButton:(0,i.jsx)(m.xG,{hideChevron:!0}),width:r._,isFileLoading:t,children:[e,(0,i.jsxs)(a.wi,{children:[(0,i.jsx)(m.n8,{}),(0,i.jsx)(d.En,{isLeftRail:!0}),(0,i.jsx)(c.J,{}),(0,i.jsx)(p.A,{})]})]})}function f(){let e=(0,s.Em)(),t=(0,u.Ye)(),n=(0,l.o3)(l.nt.designNavBar);return e&&!t&&n}function g(){return{leftOffset:f()?r._:void 0}}function _(){return{maxWidth:f()?u.g_-r._:void 0}}},670974:(e,t,n)=>{n.d(t,{h5:()=>f,hZ:()=>p,hs:()=>g,mb:()=>h,sv:()=>_});var i=n(951002),a=n(643077),r=n(211862),s=n(288747),o=n(592726),l=n(383310),d=n(557030);let c=/^Page \d+$/;var u=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(u||{});function p(){let e=(0,s.sZ)(),t=!!e?.k12_google_org,n=o.iZ()?.profile?.job_title;return t&&"student"===n}function m(){let e=(0,r.q5)(),t=(0,l.cT)(),n=p();return e?n?"k12":t?"readOnly":(0,d.Qy)(e)?"personalDraft":null:"fileLoading"}var h=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(h||{});function f({nonDividerPageCount:e}){let t=m(),n=(0,a.nn)(),r=n&&!c.exec(n);if("fileLoading"===t)return null;if(e>1||r)return"viewPages";switch(t){case null:return"addPage";case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,i.xb)(t)}}function g(){return null===m()}function _(){return null===m()}},703678:(e,t,n)=>{n.d(t,{P:()=>b});var i=n(104076),a=n(716976),r=n(684742),s=n(658704),o=n(761845),l=n(795033),d=n(511570),c=n.n(d),u=n(983500),p=n(581133),m=n(192075),h=n(278491),f=n(692042),g=n(852415),_=n(404343);let x="floating_layers_panel--isExpanded--qjuJR",y="floating_layers_panel--chevronIcon--rNFmc",v=(0,u.jz)(_.M$q);function b({children:e,title:t=null,nodeIcon:n=null,panelActions:d=null,onSizeChange:u,bottom:_,left:b,hide:C}){let[E,j]=a.useState(!1),w=a.useRef(null),T=(0,f.QU)({subscribeToUpdates_expensive:!0}),k=(0,l.md)(p.f),I=(T-(k?.current?.clientWidth??0))/2-v-6,[S,N]=a.useState(230);function A(){j(!E)}let L=E?Math.min(S,I):230;return a.useEffect(()=>{u&&u(L)},[L,u]),(0,i.jsx)(g.wV,{ref:w,className:c()("floating_layers_panel--container---6H4q",h.Dm,"devHandoffFloatingLayersPanel","pagesPanel"),"data-cancel-insertable-resource-drag-and-drop":!0,defaultSize:230,disableResizing:!E,id:"focus-floating-left-panel",onResize:e=>{N(Math.min(Math.max(e,230),I))},side:"right",size:L,style:{bottom:_,left:b,display:C?"none":void 0},children:(0,i.jsxs)("div",{className:"floating_layers_panel--containerInner--GVica",children:[(0,i.jsxs)("div",{className:c()("floating_layers_panel--header--YtDpH",{[x]:E}),children:[(0,i.jsxs)(r.E,{className:c()("floating_layers_panel--headerButton--e-t0D",{[x]:E}),onClick:A,"aria-expanded":E,"aria-label":(0,m.t)("dev_handoff.tag.layers"),children:[!E&&n,(0,i.jsxs)("div",{className:"floating_layers_panel--middle--QR7nt",children:[(0,i.jsx)("div",{className:c()("floating_layers_panel--title--pH3fr",{"floating_layers_panel--hasNoIconWhenCollapsed--F2ap6":!n&&!E}),children:(0,m.tx)("dev_handoff.tag.layers")}),!E&&t]})]}),E&&d,(0,i.jsx)(r.E,{className:c()("floating_layers_panel--expandCollapseButton--EOmgJ",{[x]:E}),onClick:A,"aria-expanded":E,"aria-label":(0,m.t)("dev_handoff.tag.layers"),children:E?(0,i.jsx)(s.r,{className:y}):(0,i.jsx)(o.a,{className:y})})]}),(0,i.jsx)("div",{className:c()("floating_layers_panel--listContainer--Kr9-C",{[x]:E}),children:e})]})})}},128396:(e,t,n)=>{n.d(t,{s:()=>R});var i=n(104076),a=n(716976),r=n(903927),s=n(54092),o=n(74620),l=n(490499),d=n(443208),c=n(651534),u=n(812714),p=n(795033),m=n(192075),h=n(141330),f=n(290407),g=n(946847),_=n(288971),x=n(537952),y=n(898591),v=n(458439);function b(){let{state:e}=(0,f.RL)(h.JT.PUBLISH_LIBRARY_FOR_AI,x.Iq),[t,n]=(0,p.fp)(y.OV);return(a.useEffect(()=>{[f.qy.ERROR,f.qy.DONE].includes(e)&&t&&(n(!1),(0,_.$I)({moduleToOpen:{type:"custom",module:(0,i.jsx)(v.u,{}),name:g.Sn.LIBRARY_CSS_EXTRACTION},trackingData:{source:"publishing_modal"}}))},[e,t,n]),(0,u.kc)().bake_ds_import_l3a&&t)?(0,i.jsx)(c.t,{"data-tooltip":(0,m.t)("figmake.ds_imports.extract_library_icon_tooltip"),"data-tooltip-type":"text","data-tooltip-show-below":!0}):null}var C=n(255578),E=n(830237),j=n(211862),w=n(255145),T=n(803848),k=n(55538),I=n(262114),S=n(676290);function N(){let e=(0,j.q5)(),t=(0,w.Z)();return(0,i.jsxs)(T.O,{label:(0,m.t)("fullscreen_actions.expand-ui-with-filename",{fileName:t}),children:[(0,i.jsx)("div",{className:"design_dev_handoff_collapsed_left_panel_toggle--fileName--3AMNd",children:(0,i.jsx)(I.n,{shouldShowConnectedBadge:!0})}),e&&(0,i.jsx)(k.s,{openFile:e}),(0,i.jsx)(E.n8,{}),(0,i.jsx)(S.A,{})]})}var A=n(965108),L=n(604578),O=n(618907);function R(){let{isLeftPanelCollapsed:e}=(0,a.useContext)(d.t),t=(0,o.aV)(),n=(0,r.d4)(e=>e.mirror.appModel.showUi),s=(0,l.o3)(l.nt.designNavBar);return t||!n?null:(0,i.jsxs)(A._,{isCollapsed:e,children:[(!s||e)&&(0,i.jsx)(E.xG,{}),e?(0,i.jsx)(N,{}):(0,i.jsx)(P,{})]})}function P(){let e=(0,s.Zr)("toggle-sidebar");return(0,i.jsxs)("div",{className:"design_dev_handoff_left_panel_island--expandedIconSection--8-YFf",children:[(0,i.jsx)(E.n8,{}),(0,i.jsx)(L.En,{}),(0,i.jsx)(O.J,{}),(0,i.jsx)(C.A,{}),(0,i.jsx)(b,{}),e&&(0,i.jsx)(S.n,{})]})}},74037:(e,t,n)=>{n.d(t,{m:()=>ts});var i=n(104076),a=n(716976),r=n(903927),s=n(307829),o=n(420680),l=n(602755),d=n(812714),c=n(511570),u=n.n(c),p=n(883765),m=n(641518),h=n(11395),f=n(192075),g=n(551037),_=n(835258),x=n(506192),y=n(240803),v=n(684742),b=n(967782),C=n(406954),E=n(894210),j=n(731575);function w({ariaLabel:e,className:t,dropdownKey:n,tooltipText:r,additionalDispatchData:s,toggleOnClick:o,divRef:d,dataTestId:c,dataOnboardingKey:p,rcsHandlerId:h,recordingKey:f,canOpenDropdown:g}){let _=(0,x.BK)(n),w=d||a.createRef();return(0,i.jsx)(y.o,{eventListeners:["onClick","onMouseDown"],children:(0,i.jsx)(v.E,{ref:w,actionOnPointerDown:!o,"aria-expanded":_.showing,"aria-label":e,className:u()(j.FH,t,{[j.u]:_.showing}),"data-onboarding-key":p,"data-testid":c,"data-tooltip":r,"data-tooltip-type":E.Ib.TEXT,htmlAttributes:{onKeyDown:e=>(0,C.hx)({e,onClickHandler:()=>_.toggle(),onEscapeHandler:d?.current?.blur})},onClick:()=>{(!g||g())&&w?.current&&(_.toggle({data:{...s,targetRect:w?.current.getBoundingClientRect()}}),h&&(0,b.YQ)({id:h,properties:{dropdownKey:n}}))},recordingKey:m.Pt(f,"chevron"),children:(0,i.jsx)(l.O,{})})})}var T=n(191321),k=n(735288),I=n(795033),S=n(578854),N=n(236631),A=n(132078);function L(e){let{targetKey:t}=e,[n,r]=a.useState(!1),[s,o]=(0,I.fp)(S.Ui),l=(0,_.MP)()&&null!==s&&!n;(0,a.useEffect)(()=>(window.addEventListener("message",S.FR),()=>{window.removeEventListener("message",S.FR)}),[]);let d=s?(0,f.tx)("fullscreen.filename_view.zoom-integration-popup-header-with-name",{hostName:s}):(0,f.t)("fullscreen.filename_view.zoom-integration-popup-header");return(0,i.jsx)(i.Fragment,{children:l&&(0,i.jsx)(A.OA,{targetKey:t,isUI3:e.isUI3,dismissModal:()=>{r(!0),o(null)},width:268,background:"dark",title:(0,i.jsx)("div",{className:N.s.alignLeft.$,children:d}),children:(0,i.jsx)("p",{className:N.s.textBodyMedium.alignLeft.$,children:(0,f.t)("fullscreen.filename_view.zoom-integration-popup-body")})})})}var O=n(276800),R=n(266808),P=n(949701),M=n(449572),D=n(607804),F=n(370020),B=n(549571),U=n(742549),H=n(646767),V=n(111297),G=n(854972),z=n(819851),K=n(332795),W=n(470876),Z=n(249586),q=n(20940),X=n(93025),Y=n(364017),J=n(107507),Q=n(371952),$=n(521255),ee=n(211862),et=n(592726),en=n(59849),ei=n(562311),ea=n(842013),er=n(132711),es=n(295253),eo=n(176203),el=n(389348),ed=n(564941),ec=n(563554),eu=n(474871),ep=n(171396),em=n(837500),eh=n(218329),ef=n(330378),eg=n(717648),e_=n(340670);function ex(e,t){e=e.filter(e=>e&&(0,eg.UN)(e,{isDesktopMenu:!1,isReadOnly:t.appModel.isReadOnly,isSearching:!!t.isSearching,selectedView:t.selectedView,isLimitedDevMode:t.isLimitedDevMode}));let n=[],a={header:"",items:[]};for(let t of(n.push(a),e))(0,eh.k$)(t)?(a={header:"",items:[]},n.push(a)):(0,eh.gN)(t)?a.header=t.name:a.items.push(t);return 1===n.length||n.every(e=>!e.header)?e.map(e=>ey(e,t)):n.map(e=>(0,i.jsx)(s.YJ,{title:(0,i.jsx)(s.hE,{children:e.header}),children:e.items.map(e=>ey(e,t))},e.header))}function ey(e,t){if(!e||(0,eh.k$)(e)||(0,eh.gN)(e)||(0,eh.id)(e))return null;let n=(0,eh._o)(e)&&e.disabled||!e.name&&!((0,eh._o)(e)&&(0,ed.Yh)(t.appModel,e.action));if(!((0,eh._o)(e)&&e.disabledAndForceVisible)&&n&&t.removeDisabledItems)return null;let a=(0,eh.Dz)(e);return(0,eh._o)(e)?(0,i.jsxs)(e_.Pu,{onClick:()=>e.callback?.(e.action,{},t.dispatch),recordingKey:e.recordingKey||e.action||e.name,children:[((0,eh.TV)(e)||(0,eh._o)(e))&&e.displayText||(0,ef.A)(a,e.args),e.rightIcon&&(0,i.jsx)(s.Ov,{children:e.rightIcon}),e.rightText&&(0,i.jsx)(s.Ov,{children:e.rightText}),e.shortcutText&&(0,i.jsx)(s.rm,{children:e.shortcutText})]},e.name):(0,eh.TV)(e)&&e.children?(0,i.jsxs)(s.g8,{children:[(0,i.jsx)(e_.Qq,{recordingKey:e.childDropdown&&e.childDropdown.recordingKey||e.name,children:e.displayText}),(0,i.jsx)(s.MJ,{children:ex(e.children,t)})]},e.name):null}var ev=n(83008),eb=n(524101),eC=n(557030),eE=n(986336),ej=n(127082),ew=n(167151),eT=n(347142),ek=n(382827),eI=n(999370),eS=n(129011),eN=n(239223),eA=n(319063);let eL=a.memo(function(){let e=(0,eN.R6)(),{colorProfilePreference:t}=(0,eA.jK)(),n=(0,eA.hP)(t)===R.RYP.DISPLAY_P3?"p3":"srgb",a=[{value:R.ywP.SRGB,label:(0,f.t)("fullscreen.filename_view.color_management.color_profile_srgb")},{value:R.ywP.DISPLAY_P3,label:(0,f.t)("fullscreen.filename_view.color_management.color_profile_display_p3")}].sort((t,n)=>t.value===e&&n.value!==e?-1:t.value!==e&&n.value===e?1:0);return(0,i.jsx)(s.YJ,{children:(0,i.jsxs)(s.g8,{children:[(0,i.jsx)(e_.Qq,{children:(0,f.t)("fullscreen.filename_view.color_management.file_color_profile")}),(0,i.jsx)(s.MJ,{children:(0,i.jsxs)(eS.z6,{title:(0,i.jsx)(s.r1,{children:(0,f.t)("fullscreen.filename_view.color_management.file_color_profile")}),value:R.ywP[e],onChange:e=>{e===R.ywP[R.ywP.SRGB]?R.glU&&R.glU.triggerAction("change-document-color-profile-to-srgb",{}):e===R.ywP[R.ywP.DISPLAY_P3]&&R.glU&&R.glU.triggerAction("change-document-color-profile-to-display-p3",{})},children:[e===R.ywP.LEGACY&&(0,i.jsx)(e_.MJ,{value:R.ywP[R.ywP.LEGACY],children:(0,f.t)("fullscreen.filename_view.color_management.menu_item_title.legacy_file",{colorProfile:(0,f.t)(`fullscreen.properties_panel.export_settings_color_profile.${n}`)})}),a.map(e=>(0,i.jsx)(e_.MJ,{value:R.ywP[e.value],children:(0,f.t)("fullscreen.filename_view.color_management.menu_item_title.legacy.assign",{color_profile:e.label})},e.value))]})})]})})});var eO=n(255551),eR=n(795737),eP=n(36002),eM=n(708412),eD=n(619070),eF=n(418732),eB=n(36444),eU=n(850701),eH=n(366535),eV=n(587658),eG=n(958251),ez=n(283548),eK=n(190737),eW=n(392243),eZ=n(937505),eq=n(42995),eX=n(944350),eY=n(363153),eJ=n(39059),eQ=n(791400),e$=n(127815),e0=n(161552),e1=n(949052),e2=n(309112),e3=n(418463),e5=(e=>(e.DISABLED="disabled",e.PUBLISH="publish",e.SHOW_UPSELL_MODAL="show_upsell_modal",e))(e5||{});function e4(){let e=(0,r.wA)();return a.useCallback(()=>{e(eH.to({type:e1.dD,data:{entrypoint:e2.RR.FILENAME_VIEW_DROPDOWN}}))},[e])}function e6(){let e=(0,ee.q5)(),t=(0,M.Rs)((0,en.dTR)({fileKey:e?.key||""}),{enabled:!!e?.key});return a.useMemo(()=>{if(!e)return{};let n=!1,i=!1,a=!1,r=null;return"loaded"===t.status&&(n=!!t.data?.file?.canTrash&&!!(0,P.oA)(t.data?.file?.canTrash),a=!!(0,P.oA)(t.data?.file?.canMove),i=!!(t.data.file&&(0,eG._R)(t.data.file.editorType??eX._Y.DESIGN,t.data.file.currentPlanUser)),r=(0,P.oA)(t.data?.file?.canMoveWithReasons)||null),{userCanTrashFile:n,userIsVRForSeat:i,userCanMove:a,userCanMoveWithReasons:r}},[t,e])}var e7=n(623411),e9=n(340099);let e8=a.memo(function(){let e=(0,r.d4)(e=>e.currentUserOrgId),t=(0,r.d4)(e=>e.currentTeamId),n=(0,eQ.Q)({currentOrgId:e,currentTeamId:t}),o=!!(0,et.iZ)(),l=function(){let e=(0,r.d4)(ee.vu),t=(0,r.d4)(e=>e.currentUserOrgId),n=(0,r.d4)(e=>e.currentTeamId),i=(0,eQ.Q)({currentOrgId:t,currentTeamId:n});return a.useMemo(()=>{if(e&&"loaded"===i.status)return(0,eK.T0)(i.data,e.key)},[e,i])}(),d=!!l,c=(0,et.iZ)(),u=(0,ee.q5)(),p=ti(),m="loaded"===n.status&&(0,eK.gV)(n.data,e),h=n.data?.currentUser?.userSidebarSections!=null?(0,P.oA)(n.data.currentUser.userSidebarSections):null,f=n.data?.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],g=(0,eK.t$)(h??[],f),_=g.find(e=>e.id===l?.resource.sidebarSectionId),x=u?.folderId===c?.personal_drafts_folder_id,y=(0,e9.pH)(u?.key??null,{enabled:!!u});if(tn||!o)return null;let v=!x&&!!p&&!(m&&!d),b="loaded"===y.status&&y.data&&u;return v||b?(0,i.jsxs)(s.YJ,{children:[v&&(0,i.jsx)(te,{isFavorited:d,favoriteSection:_,sections:g}),b&&(0,i.jsx)(tt,{})]}):null}),te=a.memo(function({isFavorited:e,favoriteSection:t,sections:n}){let o=function(){let e=(0,r.wA)(),t=(0,r.d4)(ee.vu),n=(0,r.d4)(e=>e.currentUserOrgId),i=(0,r.d4)(e=>e.currentTeamId),s=(0,eQ.Q)({currentOrgId:n,currentTeamId:i}),o=a.useMemo(()=>{if(t&&"loaded"===s.status)return(0,eK.T0)(s.data,t.key)},[t,s]);return(n,i)=>{if(!t)return;let a={entrypoint:"editor",favoriteId:o?.resource.id,sectionId:i,file:eq.F.toLiveGraph(t),fileBrowserEntryPoint:!1};n?e(eM.qP(a)):e(eM.Fb(a))}}(),l=(0,f.t)("favorited_resources.add_to_sidebar");return e&&(l=`${(0,f.t)("favorited_resources.indicate_section_prefix")}: ${t?.name||(0,f.t)("sidebar.starred")}`),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.g8,{children:[(0,i.jsx)(e_.Qq,{children:l}),(0,i.jsx)(s.MJ,{children:(0,i.jsxs)(eS.z6,{title:(0,i.jsx)(e7.h,{children:l}),value:t?.id||(e?(0,f.t)("sidebar.starred"):void 0),recordingKey:"favorite-custom",onChange:e=>{e===(0,f.t)("sidebar.starred")?o(!1):o(!!t&&t.id===e,e)},children:[0===n.length&&(0,i.jsx)(e_.MJ,{value:(0,f.t)("sidebar.starred"),children:(0,f.t)("sidebar.starred")},(0,f.t)("sidebar.starred")),n.map(e=>(0,i.jsx)(e_.MJ,{value:e.id,children:e.name||(0,f.t)("sidebar.starred")},e.id))]})})]}),e&&(0,i.jsx)(e_.Pu,{recordingKey:"favorite-custom-remove",onClick:()=>o(!0,t?.id),children:(0,f.t)("favorited_resources.remove_from_sidebar")})]})}),tt=a.memo(function(){let e=(0,ee.q5)(),t=function(){let e=(0,r.wA)();return t=>{e(eH.to({type:(0,eR.l)(),data:{pinnedFileId:t}}))}}(),n=function(){let e=(0,r.wA)();return t=>{e(eH.to({type:(0,eP.I)(),data:{pinnedFileId:t}}))}}(),a=(0,e9.pH)(e?.key??null,{enabled:!!e}),s=(0,e9.GI)("filename-context-menu");if("loaded"!==a.status||!a.data||!e)return null;let{canPinFileToWorkspace:o,canEditPin:l,existingFilePinId:d,workspaceHasMaxPins:c}=a.data;return o?(0,i.jsx)(e_.Pu,{recordingKey:"pin-to-workspace",onClick:()=>s(e.key,c),children:(0,f.t)("tile.dropdown.pin_to_workspace")}):l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e_.Pu,{onClick:()=>t(d),children:(0,f.t)("tile.dropdown.edit_workspace_pin")}),(0,i.jsx)(e_.Pu,{onClick:()=>n(d),children:(0,f.t)("tile.dropdown.remove_workspace_pin")})]}):null}),tn=(0,J.ck)(),ti=()=>{let e=(0,ee.q5)(),t=(0,r.d4)(e=>e.plans);return a.useMemo(()=>!!t.find(t=>e?.plan?.tier===eX.Ag.ORG||e?.plan?.tier===eX.Ag.ENTERPRISE?`organization::${t.plan_id}`===e?.plan?.id:`team::${t.plan_id}`===e?.plan?.id),[t,e?.plan?.tier,e?.plan?.id])},ta=(0,J.ck)(),tr=a.memo(function({recordingKey:e=""}){let t=(0,r.d4)(e=>e.mirror.appModel),n=(0,r.d4)(e=>e.selectedView),o=(0,r.d4)(e=>(0,ei.getPermissionsStateMemoized)(e)),l=(0,r.d4)(e=>e.userStateLoaded),c=(0,ee.q5)(),u=(0,r.d4)(e=>e.fileVersion),h=(0,r.d4)(e=>e.repos),g=!!(0,et.iZ)(),_=(0,r.wA)();(0,Q.SR)();let{archiveBranch:x,deleteBranch:v,deleteFile:b,restoreBranch:C,openFileAnalytics:E,projectUrl:j,publish:w,toggleVersionHistory:T,resetFileThumbnail:k,rename:S,closeSelectMenu:N}={deleteBranch:function(){let e=(0,ee.q5)(),t=(0,r.wA)();return()=>{e&&t(eH.to({type:e$.e,data:{fileName:e.name,onConfirm:()=>t(eB.kj({fileKeys:{[e.key]:!0},userInitiated:!0}))}}))}}(),rename:function(){let e=(0,r.wA)();return a.useCallback(()=>{e(eU.vg())},[e])}(),deleteFile:function(){let e=(0,ee.q5)(),t=e?.canDelete,n=(0,r.d4)(ee.vu),i=(0,G.JT)(),a=i&&i.profile.entityType===el.o1.TEAM,s=(0,r.wA)(),o=(0,r.d4)(e=>e.repos);return()=>{if(!e||!n)return;let i=(0,q.up)(e,o),r=!!eJ.Ay&&t&&!a;i&&(0,q.SA)(e,i)?e.repo?.canEdit&&!i.trashed_at&&s(eB.U1({filesByKey:{},reposById:{[i.id]:{repo:i,main_file:n}}})):r&&s(eB.U1({filesByKey:{[e.key]:n}}))}}(),archiveBranch:function(){let e=(0,r.d4)(ee.vu),t=(0,r.wA)();return()=>{e&&(t(eV.VK({fileKeys:{[e.key]:e},userInitiated:!0})),(0,p.sx)("Branch Archived",{fileKey:e.key,fileRepoId:e.file_repo_id}))}}(),restoreBranch:function(){let e=(0,r.d4)(ee.vu),t=(0,r.wA)();return()=>{e&&t(eF.Rh({fileKeys:{[e.key]:e},userInitiated:!0}))}}(),openFileAnalytics:function(){let e=(0,ee.q5)(),t=(0,r.wA)();return a.useCallback(()=>{e&&t((0,eH.to)({type:e0.e,data:{fileKey:e.key,entrypoint:ez.F.FileView}}))},[e,t])}(),projectUrl:function(){let e=(0,ee.q5)(),t=(0,eZ.FC)(),n=(0,r.d4)(e=>e.isOpenFileLoadedFromLiveGraph),[i,s]=a.useState(!1);return a.useEffect(()=>{if(n&&!i){let e=setTimeout(()=>{s(!0)},100);return()=>clearTimeout(e)}},[n,i]),a.useMemo(()=>{if(!e)return;let a=e.project;return a&&a.path&&""!==a.path?(0,eW.cU)(a.id,a.orgId??null,a.teamId,t,!!a?.team?.canView,"filename_view_dropdown_helpers.useProjectUrl",n&&i):null},[e,t,n,i])}(),publish:function(){let e=(0,I.md)(ea.p9),t=(0,r.d4)(ea.fA),n=(0,ee.q5)(),i=e4(),s=function(){let e=(0,ee.q5)(),t=(0,r.d4)(e=>e.teams),n=(0,r.wA)(),i=e4();return()=>{if(!e)return;let a=e.teamId&&t[e.teamId];n(eH.to({type:e3.$3,data:{afterFileMove:i,team:a||null}}))}}(),o=a.useMemo(()=>n&&e?t?"publish":"show_upsell_modal":"disabled",[t,e,n]);return"disabled"===o?null:()=>{n&&"show_upsell_modal"===o?s():"publish"===o&&i()}}(),toggleVersionHistory:function(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return()=>{(0,em.Ah)(t)?e((0,eY.Eg)()):e((0,eY._b)({source:ec.e0.EDITOR_TOOLBAR}))}}(),resetFileThumbnail:function(){let e=(0,r.wA)(),t=(0,ee.q5)();return()=>{t&&e(eD.$m({file_key:t.key,thumbnail_guid:null}))}}(),closeSelectMenu:function(){let e=(0,eO.cq)();return()=>{e&&e.events.emit("click")}}()},A=(0,ek.sO)(),L=(0,ew.cJ)(),J=(0,ej.Oc)(),eh=!!((0,d.kc)().ds_pubplat_sts||(0,d.kc)().ds_pubplat_sts_code),ef=(0,D.to)(),eg=(0,z.Em)(),ey=(0,z.m0)(),eS=(0,$.BI)(),eN=(0,$.m0)(),eA=o.user,eR=(0,F.WO)(c),eP=(0,U.ju)(),eM=(0,r.d4)(ea.F9),eG=(0,ev.jT)(c,eM).unwrapOr(!1),eK=(0,M.Rs)(en.iY3,{branchFileKey:c?.key||""},{enabled:!!c}),eq=(0,eC.DF)(c,eA),eX=(0,eT.e4)(),{userCanTrashFile:eQ,userCanMove:e1}=e6(),e2=(0,G.JT)(),e5=e2&&e2.profile.entityType===el.o1.TEAM,e7=!!eA&&eQ&&!e5,e9=(0,er.jB)({files:[{editor_type:c?.editorType??null,folder_id:c?.project?.id??null}],repos:[],destinationFolderId:c?.project?.id??null,isDestinationDrafts:!1}),te=(0,er.Cp)(e9.destinationPlan?{type:e9.destinationPlan.key.type,parentId:e9.destinationPlan.key.parentId}:null,e9.licenseType),tt=function(e,t){let{userIsVRForSeat:n,userCanMove:i,userCanMoveWithReasons:r}=e6(),s=(0,ee.q5)(),o=(0,M.Rs)((0,en.dTR)({fileKey:s?.key||""}),{enabled:!!s?.key});return a.useMemo(()=>({canMove:!!i,isUserViewerRestricted:!!n,planUser:o.data?.file?.currentPlanUser??null,inDrafts:!!o.data?.file?.isDraftFile,draftsMoveData:e,hasConnectedPlanUserInOrg:t,canMoveWithReasons:r||void 0}),[i,n,o.data?.file?.currentPlanUser,o.data?.file?.isDraftFile,e,t,r])}(e9,!!te),tn=(0,B.xo)(),ti=!1;c&&n.editorType&&(ti=n.editorType===eo.nT.Slides&&(0,P.oA)(c.org?.isSlidesDisabled)||n.editorType===eo.nT.Sites&&!!c.org?.isSitesDisabled||n.editorType===eo.nT.Cooper&&!!c.org?.isCooperDisabled);let tr=J&&e9.requiresUpgrade&&!eX,ts=(0,er.Px)(e9,ti),to=tn||ts||tr,tl=(0,Y.$n)(),td=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),tc=(0,eE.F)(),tu=(0,H.n6)(),tp=(0,W.kD)(),tm=(0,W.J3)(),th=(0,W.JU)(tm),tf=tm===W.kN.FILE_IN_DRAFTS,tg=K.h.useTrackingContext({trigger:es.b.FILE_DUPLICATE});a.useEffect(()=>{eN&&(eN._move_to_project=()=>{e1&&!to&&(0,eC.RG)(_,c,h,tt)()}),eS?.updateFilePermissionV2?.(eq,!!e1&&!to,!!e7)},[eq,e1,e7,to,_,eS,eN,c,h,tt]);let t_=(0,eb.tz)(),tx=g&&!ta&&(eg||ey||L&&eh),ty=eM&&eR,tv=(0,i.jsx)(e_.Pu,{disabled:!w,recordingKey:m.Pt(e,"publishVersion"),onClick:w?()=>{N(),w()}:O.lQ,children:(0,f.t)("fullscreen.filename_view.publish-styles-and-components")}),tb=eR&&(0,i.jsx)(e_.Pu,{recordingKey:m.Pt(e,"codeConnect"),onClick:()=>eP({componentBrowserEntrypoint:"filename_menu",componentBrowserScope:"file"}),children:(0,f.t)("dev_handoff.component_browser.menu_item")}),tC=!!eG&&(0,i.jsx)(e_.Pu,{recordingKey:m.Pt(e,"viewFileAnalytics"),onClick:E,children:(0,f.t)("fullscreen.filename_view.file_analytics")});if(!c)return null;let tE=R.Ez5&&R.Ez5.uiState().isRecovery.getCopy(),tj=n.editorType,tw=!c.canExport,tT=tj===eo.nT.Whiteboard&&!!c.org?.figjamDisabledAt||tj===eo.nT.Slides&&(0,P.oA)(c.org?.isSlidesDisabled)||tj===eo.nT.Sites&&!!c.org?.isSitesDisabled||tj===eo.nT.Cooper&&!!c.org?.isCooperDisabled||(0,ei.isOrgUserExternallyRestrictedFromState)(o)||tw,tk=tj!==eo.nT.Whiteboard,tI=!!(tk&&(0,q.Kz)(c)),tS="loaded"===eK.status&&(null===eK.data.file||eK.data.file&&(0,eu.AM)(eK.data.file)===eu.pT.MERGED),tN=tI&&("loaded"!==eK.status||tS),tA=eA&&c.canManage,tL=!!(tI&&c.trashedAt),tO=tL&&!tN,tR=c.folderId===eA?.personal_drafts_folder_id,tP=c.canEdit&&!!c.thumbnailGuid,tM=!ta&&n.editorType===eo.nT.Design&&c.canEdit,tD=ex((0,X.m)(tl,ec.e0.EDITOR_TOOLBAR,td,tu),{appModel:t,selectedView:n,dispatch:_}),tF=ex((0,X.t)(tl,ec.e0.EDITOR_TOOLBAR,td),{appModel:t,selectedView:n,dispatch:_});return(0,i.jsx)(V.fu,{name:ec.e0.EDITOR_FILENAME_DROPDOWN,properties:{...tg,slideConversionDropdownEntrypoint:tc},children:(0,i.jsx)(s.mc,{children:(0,i.jsxs)(y.o,{eventListeners:["onPointerEnter","onPointerLeave","onMouseEnter","onMouseLeave"],children:[tD.map((e,t)=>(0,i.jsx)(a.Fragment,{children:e},`merging-${t}`)),tI&&tF.map((e,t)=>(0,i.jsx)(a.Fragment,{children:e},`branching-${t}`)),g&&!ta&&!tE&&!J&&(0,i.jsx)(e_.Pu,{disabled:!(0,ed.Yh)(t,"enter-history-mode"),recordingKey:m.Pt(e,"toggleVersionHistory"),onClick:T,children:(0,em.Ah)(t.activeCanvasEditModeType)?(0,f.t)("fullscreen.filename_view.version-history-hide"):(0,f.t)("fullscreen.filename_view.version-history-show")}),!J&&(0,i.jsxs)(s.YJ,{children:[!!tp&&(0,ep.Z5)({dispatch:_,fileKey:tp?.fileKey||"",templateName:tp?.name||""}),th&&!J&&(0,ep.R5)({dispatch:_,file:{key:c.key,name:c.name,folder_id:c.folderId,team_id:c.teamId,editor_type:c.editorType,parent_org_id:c.parentOrgId},isPublished:!!tp,fileNeedsMovingBeforePublish:tf,source:"filename-context-menu"}),tx&&(0,i.jsx)(i.Fragment,{children:ty?(0,i.jsxs)(s.g8,{children:[(0,i.jsx)(e_.Qq,{children:(0,f.t)("fullscreen.filename_view.library_actions")}),(0,i.jsxs)(s.MJ,{children:[tv,tb,tC]})]}):(0,i.jsxs)(i.Fragment,{children:[tv,tC]})}),tk&&!A&&!ef&&!L&&!tE&&!J&&(0,i.jsxs)(e_.Pu,{disabled:!eA,recordingKey:m.Pt(e,"exportSelectedExportables"),onClick:()=>{R.glU&&R.glU.triggerAction("export-selected-exportables",{source:"toolbar"})},children:[(0,f.t)("fullscreen.filename_view.export"),(0,i.jsx)(s.Ov,{children:(0,i.jsx)(s.rm,{children:(0,ed.c1)(t.keyboardShortcuts,"export-selected-exportables")})})]}),tc&&c.canEdit&&(0,i.jsx)(e_.Pu,{onClick:()=>{(0,Z.Cu)({name:"slides_file_dropdown_entrypoint"}),(0,eI.fx)(c,u).then(e=>{(0,eI.PF)(_,e)})},recordingKey:m.Pt(e,"copyToFigmaSlides"),disabled:!eA,children:(0,f.t)("slides.general.copy_current_page_to_figma_slides")})]}),(0,i.jsx)(e8,{}),!tI&&tF.length>0&&(0,i.jsx)(s.YJ,{children:tF.map((e,t)=>(0,i.jsx)(a.Fragment,{children:e},`branching-group-${t}`))}),tM&&(0,i.jsx)(eL,{}),(0,i.jsxs)(s.YJ,{children:[g&&!ta&&!tR&&t_.canDuplicate&&(0,i.jsx)(e_.Pu,{disabled:!l||tT,recordingKey:m.Pt(e,"duplicate"),onClick:t_.duplicateFile,children:t_.duplicateDisplayText}),g&&!tL&&(0,i.jsx)(e_.Pu,{disabled:!eq,recordingKey:m.Pt(e,"rename"),onClick:()=>{N(),S()},children:tI?(0,f.t)("fullscreen.filename_view.rename-branch"):(0,f.t)("fullscreen.filename_view.rename")}),g&&!ta&&tO&&(0,i.jsx)(e_.Pu,{disabled:!tA,recordingKey:m.Pt(e,"restore"),onClick:C,children:(0,f.t)("fullscreen.filename_view.restore")}),g&&!ta&&j&&""!==j&&(0,i.jsx)(e_.Oo,{recordingKey:"goToProject",href:j,newTab:!0,children:(0,f.t)("fullscreen.filename_view.go_to_project")}),g&&!ta&&!tI&&(0,i.jsxs)(e_.Pu,{disabled:to,"data-onboarding-key":"FILENAME_VIEW_MOVE_TO_PROJECT",recordingKey:m.Pt(e,"moveToProject"),onClick:(0,eC.RG)(_,c,h,tt),children:[(0,f.t)("fullscreen.filename_view.move_file"),(0,i.jsx)(s.Ov,{children:(0,er.zS)(e9,to,te)})]}),g&&!ta&&!tL&&!tR&&eQ&&(0,i.jsx)(e_.Pu,{disabled:!e7,recordingKey:m.Pt(e,"delete"),onClick:tI?x:b,children:tI?(0,f.t)("fullscreen.filename_view.archive-branch"):(0,f.t)("fullscreen.filename_view.move_to_trash")}),g&&!ta&&tL&&(0,i.jsx)(e_.Pu,{disabled:!tA,onClick:v,children:tI?(0,f.t)("fullscreen.filename_view.archive-branch"):(0,f.t)("fullscreen.filename_view.move_to_trash")})]}),!!tP&&(0,i.jsx)(s.YJ,{children:(0,i.jsx)(e_.Pu,{recordingKey:m.Pt(e,"resetFileThumbnail"),onClick:k,children:(0,d.kc)().dse_library_pg_thumbnails?(0,f.t)("fullscreen.filename_view.restore_default_file_thumbnail"):(0,f.t)("fullscreen.filename_view.restore_default_thumbnail")})})]})})})});function ts({setFileMenuIsHovered:e,isDropdownVisibleWithDelay:t,recordingKey:n}){let c=(0,r.wA)(),y=(0,x.Um)(),v=y?.type===T.eg,b=(0,r.d4)(e=>e.isRenaming),C=(0,g.k)(),E=(0,h.WN)(),j=a.useCallback(()=>!C||(E("LEFT_PANEL_FILE_NAME_CHEVRON"),!1),[C,E]),{getTriggerProps:I,manager:S}=s.b(),N=I(),A=(0,d.kc)().eu_filename_dropdown;return a.useMemo(()=>b?null:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:u()("file_menu--chevronContainer--rxTVi",{"file_menu--selected--URB0u":v||t,"file_menu--enableSecondaryHover--h5duI":!(v||t)}),onMouseEnter:()=>{e?.(!0)},onMouseLeave:()=>{e?.(!1)},children:[(0,_.MP)()&&(0,i.jsx)(L,{isUI3:!0,targetKey:T.O0}),A?(0,i.jsxs)(s.bL,{manager:S,children:[(0,i.jsx)(o.K,{...N,recordingKey:m.Pt(n,"chevron"),"aria-label":(0,f.t)("fullscreen.filename_view.edit_file_menu"),children:(0,i.jsx)(l.O,{})}),(0,i.jsx)(tr,{recordingKey:n})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{ariaLabel:(0,f.t)("fullscreen.filename_view.edit_file_menu"),canOpenDropdown:j,className:"file_menu--chevron--55jNJ",dataOnboardingKey:T.O0,dataTestId:"filename-menu-chevron",dropdownKey:T.eg,recordingKey:n,toggleOnClick:!0}),(0,i.jsx)(k.i,{dropdownTargetRect:y?.data?.targetRect,dispatch:c,dropdownVisible:v,recordingKey:n,activatePathOnMount:y?.data?.activatePathOnMount,trackEvent:p.sx})]})]})}),[j,c,y?.data?.activatePathOnMount,y?.data?.targetRect,v,b,S,N,A,e,t,n])}},262114:(e,t,n)=>{n.d(t,{n:()=>Y});var i=n(104076),a=n(903927),r=n(136829),s=n(812714),o=n(511570),l=n.n(o),d=n(716976),c=n(638004),u=n(266808),p=n(883765),m=n(449572),h=n(513369),f=n(550209),g=n(192075),_=n(830534),x=n(301868),y=n(889833),v=n(819851),b=n(20940),C=n(59849),E=n(830704),j=n(563554),w=n(845680);function T(e){let t=Number(e);return Number.isNaN(t)?((0,b.cb)(Error("Invalid checkpoint id found in repo data")),null):t}function k(e){let t=(0,v.m0)(),{openFile:n,modalShown:i,topLevelMode:a,dispatch:r}=e,{canEdit:s,key:o,fileRepoId:l}=n,k=function(e){let t=e?.fileRepoId||"",n=(0,m.Rs)(C.op7,{repoId:t});return d.useMemo(()=>{if("loaded"!==n.status||!t)return!1;let{repo:i}=n.data,a=n.data.repo?.files;if(i&&(0,b.Ns)(e,i))return!1;if(null==i||!a)return(0,f.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("useUpdatesAvailableFromMain called with invalid repo or repo files data")),!1;let r=a.find(t=>t.key===e.key),s=a.find(e=>(0,b.Ns)(e,i));if(!r||!s)return(0,f.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("useUpdatesAvailableFromMain called with invalid branch or source file data")),!1;if(r.sourceCheckpointId===s.checkpointId)return!1;let o=(0,h.oA)(s.recentFileVersions)||[];if(0===o.length||!r.sourceCheckpointId)return!1;let l=T(r.sourceCheckpointId);if(null===l)return!1;let d=o.filter(e=>{let{user:t,checkpoint:n}=e;if(!n||t.isSystemUser)return!1;let{id:i,meta:a}=n,r=T(i);if(null===r||r<=l)return!1;if(null===a||null===a.editCounts||void 0===a.editCounts)return!0;let s=function(e){try{return Object.fromEntries(Object.entries(e).map(([e,t])=>{let n=t&&t.version_history_count?{version_history_count:parseInt(t.version_history_count)}:{version_history_count:0};return[e,n]}))}catch(e){return(0,b.cb)(Error("Invalid edit count found in repo data")),null}}(a.editCounts);return null!==s&&Object.values(s).some(e=>e.version_history_count>0)});return!!d&&d.length>0},[e,t,n])}(n);return d.useEffect(()=>{if(t&&k){r(x.Q.dequeue({type:_._.BRANCHING_SOURCE_FILE_UPDATED}));return}s&&i?.type!==w.$l.type&&a!==u.lyf.BRANCHING&&k?((0,p.sx)("Branch Update Alert",{action:"Shown",fileKey:o,fileRepoId:l}),r(x.Q.enqueue({notification:{type:_._.BRANCHING_SOURCE_FILE_UPDATED,message:(0,g.t)("collaboration.branching.updates_available_from_main_file"),acceptCallback:()=>{r(y.hx({direction:E.Kn.FROM_SOURCE,trackingContextName:j.e0.BRANCHING_UPDATE_NOTIFICATION})),(0,p.sx)("Branch Update Alert",{action:"Update",fileKey:o,fileRepoId:l})},dismissCallback:()=>{(0,p.sx)("Branch Update Alert",{action:"Dismiss",fileKey:o,fileRepoId:l})}}}))):r(x.Q.dequeue({type:_._.BRANCHING_SOURCE_FILE_UPDATED}))},[s,o,l,i,a,k,r,t]),null}var I=n(641518),S=n(394785),N=n(506192),A=n(126852),L=n(951002),O=n(328341),R=n(58212),P=n(638641),M=n(384036),D=n(234573),F=n(366535),B=n(621161),U=n(152530),H=(e=>(e[e.NoMerges=0]="NoMerges",e[e.MergeInProgress=1]="MergeInProgress",e[e.MergeComplete=2]="MergeComplete",e[e.MergeError=3]="MergeError",e[e.MergeTimeout=4]="MergeTimeout",e))(H||{});function V(e){return null===e.mergeResultCheckpointId}function G({repoId:e,openFileKey:t,currentUserId:n,appMergingStatus:i,openFileMerge:r}){var s;let o=function({repoId:e,currentUserId:t,appMergingStatus:n,openFileMerge:i}){let a=(0,m.Rs)(C.grH,{repoId:e}),[r,s]=d.useState(0),[o,l]=d.useState();return d.useEffect(()=>{if("loaded"===a.status){let e;let n=a.data.repo?.files?.find(e=>e.fileMerges.find(e=>e.id===i?.fileMergeId&&e.userId===t&&V(e)));i&&(e=a.data.repo?.files?.find(e=>e.fileMerges.find(e=>e.id===i.fileMergeId&&e.userId===t&&!V(e)))),n?(0===r||2===r)&&(l(n),s(1)):1===r&&e?(l(e),s(2)):0===r&&e?(l(e),s(2)):(3===r||4===r)&&(l(e||o),s(2))}},[a,r,o,i,t]),d.useEffect(()=>{n===A.y.MERGING_ERROR?s(3):3===r&&n===A.y.NOT_MERGING&&s(0)},[r,n]),d.useEffect(()=>{let e;if(1===r?e=setTimeout(()=>{s(4)},3e4):2===r&&(e=setTimeout(()=>{s(0),l(void 0)},3e3)),void 0!==e)return()=>clearTimeout(e)},[t,r,o]),{state:r,mergeFile:o}}({repoId:e,currentUserId:n,appMergingStatus:i,openFileMerge:r}),l=(0,O.ZC)(o),c=function(e,t,n){switch(t){case 0:default:return;case 1:case 3:case 4:return n?.fileMerges.find(t=>t.userId===e&&V(t));case 2:return n?.fileMerges.find(t=>t.userId===e&&!V(t))}}(n,o.state,o.mergeFile),u=(0,a.wA)(),h=d.useContext(B.ss),[f,_]=d.useState(!0);d.useEffect(()=>{let e=()=>{_(!0)},t=()=>{_(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}},[_]);let x=f&&(o?.state===3||o?.state===4||(s=o?.mergeFile,c?.direction===0?s?.sourceFileKey===t:s?.key===t)),y=d.useMemo(()=>o?.state!==2||l?.state===3?null:{icon:P.zX.CHECK,type:"file-merge-submit",message:c?.direction===0?(0,g.t)("collaboration.branching.merge_success"):(0,g.t)("collaboration.branching.update_success"),button:c?.direction===0?{text:(0,g.t)("collaboration.branching.edit_merge_description"),action:()=>{u(D.T({fileKey:t,versionId:c?.mergeResultFileversionId})),(0,p.sx)("Merge Finished Edit Description Clicked",{branchKey:o.mergeFile?.key,sourceKey:o.mergeFile?.sourceFileKey})}}:void 0,timeoutOverride:1e4},[u,c?.direction,c?.mergeResultFileversionId,o.mergeFile?.key,o.mergeFile?.sourceFileKey,o.state,t,l?.state]);return d.useEffect(()=>{if(0===o.state||x||u(R.F.clearAll()),0===o.state&&(!l||l?.state===2)){u(R.F.clearAll());return}if(4===o.state&&l&&1===l.state&&l.mergeFile){let e=o.mergeFile.key===t?E.Kn.FROM_SOURCE:E.Kn.TO_SOURCE;u(R.F.clearAll()),u((0,F.to)({type:U.my,data:{view:U.RK.TIMED_OUT,mergeParams:{branchKey:o.mergeFile.key,sourceKey:o.mergeFile.sourceFileKey,direction:e},failureInfo:{file_merge_id:c.id}}}))}y&&u(R.F.enqueue(y));let e=c?.direction===0?E.Kn.TO_SOURCE:E.Kn.FROM_SOURCE;if(l&&1===l.state&&(3===o.state||4===o.state)){let t;switch(o.state){case 3:t=Error("useMergeStatus: Backend merge error");break;case 4:t=Error("useMergeStatus: Open merge was not closed in 30 seconds");break;default:(0,L.xb)(o.state)}(0,b.HJ)(t,E.PW.ON_MERGE,e,{file_merge_id:c?.id})}if((l?.state===1||l?.state===0)&&2===o.state){let t={branchKey:o.mergeFile.key,direction:e,sourceKey:o.mergeFile.sourceFileKey,branchModalTrackingId:h};u(M.ie({})),u(M.ov({hideModal:!0,mergeParams:t,userInitiated:!0,reason:"merge_complete"}))}},[u,c,o.mergeFile,o.state,t,l,x,y,h]),null}var z=n(211862),K=n(592726),W=n(410107),Z=n(191321),q=n(557030);let X="filename_view--renaming--fsHo8";function Y(e){let t=(0,K.iZ)(),n=(0,z.q5)(),o=n?.repo,d=!!(n&&o&&(0,b.Ns)(n,o)),c=!!(n&&(0,b.Kz)(n)),u=!!n&&(0,q.DF)(n,t),p=(0,a.d4)(e=>e.isRenaming),m=N.Um()?.type===Z.eg,h=(0,a.d4)(e=>e.mergingStatus),f=(0,a.d4)(e=>e.openFileMerge),g=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),_=(0,a.d4)(e=>e.modalShown),x=(0,a.wA)(),y=(0,z.l3)(),v=y?.ownerRole?.userId===t?.id,C=n?.project?.activeProjectResourceConnections?.[0],E=!!n&&!n?.teamId&&!n?.parentOrgId,j=(0,s.kc)().dtm_deprecation_pre_migration_onboarding&&E&&!v;return(0,i.jsxs)("div",{className:l()("filename_view--filenameView--oktvS",{[X]:p}),children:[c&&(0,i.jsx)("span",{"data-testid":"branch-icon",className:"filename_view--branchIcon--QuC5N",children:(0,i.jsx)(r.L,{})}),(0,i.jsx)("span",{className:l()("filename_view--filenameText--dN0ll",{[X]:p,"filename_view--dropdownOpen--WdeTr":m||e.isDropdownVisibleWithDelay,"filename_view--enableSecondaryHover--FeJmc":!p,"filename_view--shouldShowFileMenu--Xd8rw":!e.shouldShowFileMenu}),onMouseEnter:()=>{e.setFileNameIsHovered?.(!0)},onMouseLeave:()=>{e.setFileNameIsHovered?.(!1)},"data-onboarding-key":j?W.l:void 0,children:d&&o?(0,i.jsx)(Z.IS,{dispatch:x,user:t,repo:o,canRename:u,isRenaming:p,dataTestId:"repo_name_data_test_id"}):(0,i.jsx)(Z.o3,{recordingKey:I.Pt(e.recordingKey,"fileName")})}),e.shouldShowConnectedBadge&&C&&(0,i.jsx)(S.W,{hostPlanName:C.hostPlanName,connectedPlanName:C.connectedPlanName}),n?.fileRepoId&&t?.id&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{openFile:n,modalShown:_,topLevelMode:g,dispatch:x}),(0,i.jsx)(G,{repoId:n.fileRepoId,openFileKey:n.key,currentUserId:t.id,appMergingStatus:h,openFileMerge:f})]}),j&&(0,i.jsx)(W.O,{isOwner:!1})]})}},413535:(e,t,n)=>{n.d(t,{d:()=>p});var i=n(104076);n(120440);var a=n(598626),r=n(742549),s=n(54092),o=n(211862),l=n(467111),d=n(85598),c=n(557352),u=n(676290);function p({shouldUseBottomBorder:e}){let t=(0,o.q5)(),n=(0,r.l7)(),p=(0,a.e)(),m=(0,d.HY)(),h=(0,s.Zr)("toggle-sidebar");if(!(t&&t.key&&t.name))return(0,i.jsxs)(c.SZ,{shouldUseBottomBorder:!!e,shouldUseTopPadding:m,children:[(0,i.jsx)(l.cQ,{}),(0,i.jsx)(l.EG,{})]});let f=(0,i.jsx)(c.x$,{shouldShowFileMenu:!n&&!p,recordingKey:c.Fp});return m&&(f=(0,i.jsxs)("div",{className:"x7hzu26 x1ai9mow x78zum5 x1qughib",children:[f,h&&(0,i.jsx)(u.n,{})]})),(0,i.jsxs)(c.SZ,{shouldUseBottomBorder:!!e,children:[f,(0,i.jsx)(c.l9,{}),(0,i.jsx)(c.t7,{openFile:t})]})}},557352:(e,t,n)=>{n.d(t,{x$:()=>I,t7:()=>N,Fp:()=>T,SZ:()=>k,l9:()=>S});var i=n(104076),a=n(716976),r=n(903927),s=n(684742),o=n(511570),l=n.n(o),d=n(271761),c=n(192075),u=n(889833),p=n(20940),m=n(506192),h=n(211862),f=n(592726),g=n(563554),_=n(530091),x=n(9255),y=n(55538),v=n(191321);function b(e){return(0,i.jsx)("div",{className:"static_repo_name--container--6SAYd",children:(0,i.jsx)(s.E,{className:"static_repo_name--button--4ZBh2 ellipsis--ellipsis--Tjyfa",onClick:()=>e.dispatch(u.oz({trackingContextName:e.trackingContextName})),children:(0,p.oj)(e.repo)})})}b.displayName="StaticRepoName";var C=n(74037),E=n(262114);let j="left_panel_header_components--row--5uMsb",w="left_panel_header_components--withBottomMargin--qvGQT",T="leftPanelHeader";function k({shouldUseBottomBorder:e,children:t,withSmallPaddingRight:n,shouldUseTopPadding:a}){return(0,i.jsx)("div",{className:l()("left_panel_header_components--container--i23pm",{"left_panel_header_components--withBottomBorder--OQzj-":e,"left_panel_header_components--withSmallPaddingRight--BOLxn":n,"left_panel_header_components--withTopPadding--bVY-b":a}),children:t})}function I({shouldShowFileMenu:e=!0,recordingKey:t}){let[n,r]=a.useState(!1),s=m.Um()?.type===v.eg,[o,l]=a.useState(s);a.useEffect(()=>{if(s)l(!0);else{let e=requestAnimationFrame(()=>{l(!1)});return()=>cancelAnimationFrame(e)}},[s]);let c=(0,d.b)(),u=(0,i.jsxs)("div",{className:j,"data-file-header-hover":n,style:c?{overflow:"hidden"}:void 0,children:[(0,i.jsx)(E.n,{setFileNameIsHovered:r,isDropdownVisibleWithDelay:o,recordingKey:t,shouldShowFileMenu:e}),e&&(0,i.jsx)(C.m,{setFileMenuIsHovered:r,isDropdownVisibleWithDelay:o,recordingKey:t})]});return(0,i.jsx)(_.x,{children:u})}function S(){let e=(0,h.q5)(),t=e?.repo,n=!!(t&&(0,p.Ns)(e,t)),a=!!(e&&(0,p.Kz)(e)),s=(0,r.wA)();return a&&t?(0,i.jsx)("div",{className:l()(j,w),children:(0,i.jsx)(b,{repo:t,dispatch:s,trackingContextName:g.e0.EDITOR_TOOLBAR_ACTION})}):n&&e.fileRepoId?(0,i.jsx)("div",{className:l()(j,w),children:(0,i.jsx)(A,{})}):null}function N({openFile:e}){let t=(0,f.iZ)();return(0,i.jsxs)("div",{className:j,children:[(0,i.jsx)(v.ur,{openFile:e,user:t}),(0,i.jsx)(y.s,{openFile:e})]})}function A(){let e=(0,r.wA)(),t=a.useContext(x.X);return null===t||t<1?null:(0,i.jsx)(s.E,{className:"left_panel_header_components--button--zghbk",onClick:()=>e(u.o5({trackingContextName:g.e0.EDITOR_TOOLBAR_ACTION})),children:(0,c.tx)("fullscreen.filename_view.branch-count",{BRANCHES:t})})}},965108:(e,t,n)=>{n.d(t,{_:()=>m});var i=n(104076),a=n(716976),r=n(903927),s=n(492737),o=n(140008),l=n(511570),d=n.n(l),c=n(278491),u=n(383310),p=n(869288);function m({isCollapsed:e,children:t,minWidth:n=u.Yh,maxWidth:l=u.g_}){let m=a.useRef(null),h=function({isShowing:e,isCollapsed:t,ref:n,minWidth:i,maxWidth:s}){let o=(0,r.d4)(e=>e.isRenaming),l=(0,p.E)(n,t&&!o&&e);return(0,a.useMemo)(()=>t?o&&"number"==typeof l?{width:Math.max(i,l)}:{maxWidth:s}:void 0,[t,o,l,i,s])}({isCollapsed:e,isShowing:!0,ref:m,minWidth:n,maxWidth:l}),f=(0,s.U1)(),g=(0,a.useCallback)(t=>{(0,o.cZ)(m,t),f(e?t:null)},[f,e]);return(0,i.jsx)("div",{className:d()(c.Dm,"left_panel_island_container--islandContainer--uM5h6",{"left_panel_island_container--collapsed--OEOq4":e,"left_panel_island_container--withInsetEditor--XKTTi":!e}),style:h,ref:g,children:t})}},12811:(e,t,n)=>{n.d(t,{n:()=>r});var i=n(104076),a=n(120440);function r({height:e}){let t=void 0!==e?a.Ay.props(s.height(e)):{className:"left_panel_island_spacer--islandSpacer--5ynLJ"};return(0,i.jsx)("div",{...t})}let s={height:e=>[{kZKoxP:null!=e?"x16ye13r":e,kAzted:null!=e?"x82snj4":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-minHeight":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]}},604578:(e,t,n)=>{n.d(t,{En:()=>c,J:()=>l,Ty:()=>d});var i=n(104076),a=n(762801),r=n(894862),s=n(864980),o=n(271761);function l(){return!1}function d(){return{shouldShow:!1,label:"This is a local C++ build so it may be out of date.\n\nRun this inside fullscreen/ to use the latest build from CI:\n\n./fs unlink",icon:r.Z}}function c({isLeftRail:e=!1}){e=(0,o.b)()||e;let{shouldShow:t,label:n}=d(),r=a.iv({placement:e?"right":"bottom"});return t?(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Uj,{"aria-label":"Local Build Warning",...r.getTriggerProps(),children:(0,i.jsx)(s.e,{})}),(0,i.jsx)(a.mc,{manager:r,children:(0,i.jsx)(a.UC,{children:n})})]}):null}n(537307)},618907:(e,t,n)=>{n.d(t,{J:()=>f,K:()=>h});var i=n(104076),a=n(903927),r=n(261804),s=n(266808),o=n(166887),l=n(147643),d=n(192075),c=n(366535),u=n(331497),p=n(894210),m=n(384510);function h(){let e=(0,a.d4)(e=>e.modalShown),t=e?.type===m.CM.type,n=(0,u.ut)(s.Ez5?.uiState().showMissingFontsButton,!1),i=(0,o.U)(),l=(0,a.wA)();return{expanded:t,icon:r.z,label:(0,d.t)("fullscreen.toolbar.missing_fonts"),onClick:()=>{t?l((0,c.AS)()):(i("missing_fonts_button_clicked"),s.glU.findMissingFontsAndShowPopover())},shouldShow:n}}function f({isLeftRail:e=!1}){let{label:t,onClick:n,shouldShow:a}=h();return a?(0,i.jsx)(l.J,{onClick:n,recordingKey:"toolbarView.missingFontsButton","aria-label":(0,d.t)("fullscreen.toolbar.missing_fonts"),htmlAttributes:{"data-tooltip":t,"data-tooltip-type":p.Ib.TEXT,"data-tooltip-show-right":e},children:(0,i.jsx)(r.z,{})}):null}},803848:(e,t,n)=>{n.d(t,{O:()=>l});var i=n(104076),a=n(684742),r=n(192075),s=n(354114),o=n(894210);function l({label:e,children:t}){let n=(0,r.t)("fullscreen_actions.expand-ui");return(0,i.jsx)(a.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>s.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":e??n,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":n,"data-tooltip-shortcut-key":"toggle-sidebar"},children:t})}},676290:(e,t,n)=>{n.d(t,{n:()=>u,A:()=>p});var i=n(104076),a=n(731913),r=n(147643),s=n(192075),o=n(354114),l=n(83202),d=n(894210),c=n(59975);function u(){let e=(0,l.q)()?(0,s.t)("fullscreen_actions.expand-ui"):(0,s.t)("fullscreen_actions.minimize-ui");return(0,i.jsx)(r.J,{"aria-label":e,onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":c.ue,"data-tooltip":e,"data-tooltip-type":d.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"},children:(0,i.jsx)(a.C,{})})}function p(){return(0,i.jsx)("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV",children:(0,i.jsx)(a.C,{})})}},869288:(e,t,n)=>{n.d(t,{E:()=>a});var i=n(716976);function a(e,t){let[n,a]=(0,i.useState)(null);return(0,i.useLayoutEffect)(()=>{if(!e||!e.current||!t)return;a(e.current.getBoundingClientRect().width);let n=new ResizeObserver(e=>{e.forEach(e=>{let t=e.borderBoxSize?.[0];a(t?t.inlineSize:e.contentRect.width)})});return n.observe(e.current),()=>n.disconnect()},[e,t]),n}},675476:(e,t,n)=>{n.d(t,{Q:()=>u});var i=n(104076),a=n(716976),r=n(511570),s=n.n(r),o=n(968169),l=n(83202),d=n(331497),c=n(383310);let u=a.forwardRef(({shouldAnimate:e=!0,ignoreRulers:t,leftOffset:n=0,floatingWhenExpanded:a,children:r},u)=>{let p=(0,d.J2)((0,o.UK)().renderRulers),m=(0,c.Ye)(),h=(0,l.T)();return(0,i.jsx)("div",{ref:u,className:s()("left_panel_positioner--leftPanelPositioner--8Yehe",{"left_panel_positioner--withShowingRulers--xB1lD":p&&!t,"left_panel_positioner--withAnimation--pFRuR":e&&!h,"left_panel_positioner--withInsetEditorEnabled--GYcUX":!m&&!a}),style:n?{left:n}:void 0,children:r})})},389276:(e,t,n)=>{n.d(t,{Nz:()=>ei,Qe:()=>er,X5:()=>eo,hH:()=>G});var i=n(104076),a=n(716976),r=n(903927),s=n(951002),o=n(266808),l=n(812714),d=n(795033),c=n(511570),u=n.n(c),p=n(561839),m=n(858959),h=n(883765),f=n(76616),g=n(328341),_=n(681398),x=n(2713),y=n(690824),v=n(264830),b=n(367793),C=n(192075),E=n(76404),j=n(508011),w=n(692042),T=n(74620),k=n(211862),I=n(915013),S=n(612433),N=n(657878),A=n(95975),L=n(729926),O=n(351405),R=n(475593),P=n(64004),M=n(259964),D=n(77244),F=n(844379),B=n(437595),U=n(424793),H=n(572988),V=n(43607);let G=5;var z=(e=>(e[e.Default=0]="Default",e[e.Mobile=1]="Mobile",e[e.Prototype=2]="Prototype",e[e.Slide=3]="Slide",e))(z||{});let K=(e,t)=>{let n=(0,w.ni)(),i=(0,v.Av)(),r=(0,j._o)(),s=(0,T.p8)("showUi"),o=(0,N._6)(),l=function({isUI3:e,prototypeHeaderHidden:t,showUi:n,style:i,toolbarHeight:a,editorBannerHeight:r}){return(2===i?t?0:a:e?_.Ay.isIpadNative||(0,_.FP)()&&n?(0,M.VA)():0:n||_.Ay.isIpadNative?a:0)+r}({isUI3:!("prototype"===o.view&&"slides"===o.file.editor_type),prototypeHeaderHidden:t,showUi:s,style:e,toolbarHeight:i,editorBannerHeight:r});return a.useMemo(()=>({left:n.x,top:l,width:n.width}),[n,l])};function W(e){let t;let n=(0,w.ni)();(0,T.p8)("showUi");let i=0;(_.Ay.isIpad||(0,_.FP)())&&(i=(0,M.VA)());let r=n.y+i;switch(e){case 1:t=4;break;case 2:t=r;break;case 3:t=0;break;case 0:t=2*G}return a.useMemo(()=>({left:n.x,top:r,width:n.width-(0===e?2*G:0),height:n.height-t-i}),[n,e,r,t,i])}let Z=(e,t)=>{let n;let i=W(t),r=0;switch(t){case 0:n={borderWidth:G},r=G;break;case 1:if((0,_.FP)()){n={};break}n={borderTopWidth:4},r=4;break;case 3:n={borderWidth:G,borderRadius:"0.8rem",boxSizing:"border-box"},r=G;break;case 2:n={}}return a.useMemo(()=>({style:{...i,...n,"--multiplayerBorderColor":e,borderStyle:"solid","--multiplayerBorderWidth":`${r}px`},borderInfo:{width:r,color:e}}),[e,i,n,r])};function q(e){let{children:t,prototypeHeaderHidden:n}=e,a=(0,N.z3)(),r=0;"prototype"===a?r=2:_.Xb&&(r=1);let s=K(r,n||!1),o=2===r?V.Y$:void 0,d=2===r&&n?V.Fd:void 0;return(0,i.jsx)("div",{className:u()(V.GE,o,d,{[V.Sj]:(0,l.kc)().figjam_a11y_spotlight}),style:s,"data-testid":"multiplayer-bell-container",children:t})}function X(){let{style:e,borderInfo:t}=a.useContext(U.h);return e={...e,borderColor:t.color},(0,i.jsx)("div",{"data-testid":"viewport-frame",className:V.KM,style:e})}function Y(){let{style:e,borderInfo:t}=a.useContext(U.h);return e={...e,color:"brand"===t.color?"var(--color-bg-brand)":t.color,"--borderColorTransitionDurationSeconds":`${H.Bn}s`},(0,i.jsx)("div",{className:V.KM,style:e})}function J(e){let{children:t,colorOverride:n,overlayStatus:a}=e,r=(0,I.$0)(),s=(0,I.dR)(),o=(0,I.Ww)(),l=(0,N._6)(),d=0;"prototype"===l.view?d=l.isPresenterView?3:2:_.Xb&&(d=1);let c=Z((()=>{if(n)return n;if(!a)return s&&o?.sessionID===s?.sessionID?o?.color??"transparent":r?.color??"transparent";{let{self:e,others:t}=a;return"none"!==e?"brand":"following"===t&&"none"===e?r?.color??"transparent":"transparent"}})(),d);return(0,i.jsx)(U.h.Provider,{value:c,children:t})}var Q=(e=>(e.PRESENTING="presenting",e.PROMPT_TO_ACCEPT_NOMINATION="prompt_to_accept_nomination",e.SHOWING_EXPLAINER="showing_explainer",e.NONE="none",e))(Q||{}),$=(e=>(e.PENDING_AUTO_FOLLOW="pending_auto_follow",e.FOLLOWING="following",e.PROMPT_TO_REJOIN="prompt_to_rejoin",e.NONE="none",e))($||{});function ee(){return"prototype"!==(0,N.z3)()&&!(0,_.FP)()}function et(e,t,n,i){let r=(0,g.ZC)(e),s=(0,g.ZC)(t),o=a.useRef(performance.now()),l=(0,A.u)();return a.useEffect(()=>{if("presenting"===e){let e=f.sn.tryStop("start_spotlight");e&&(0,h.sx)("start_spotlight",{elapsedMs:e,...l},{forwardToDatadog:!0})}else if("pending_auto_follow"===t){let e=f.sn.tryStop("join_spotlight");e&&(0,h.sx)("join_spotlight",{elapsedMs:e,...l},{forwardToDatadog:!0})}else if("following"===t){let e=f.sn.tryStop("start_following");e&&(0,h.sx)("start_following",{elapsedMs:e,...l},{forwardToDatadog:!0})}},[e,t,n,i,l]),(e!==r||t!==s)&&(o.current=performance.now()),{statusChangedAt:o.current}}function en(e){let{multiplayer:t,prototypeHeaderHidden:n,isTabAccessible:r=!1,hideOthersOverlayOverride:c=!1}=e,u=(0,I.Ww)(),h=(0,I.dR)(),f=(0,I.$0)(),g=(0,I.y)(),v=(0,k.q5)(),j=(0,d.md)(y.Fj),w=(0,S.T)(),T=(0,x.y7)(),A=(0,x.oJ)(),L=(0,x.$)(),[O,R]=a.useState(!1);a.useEffect(()=>{R(!1)},[h?.sessionID]),a.useEffect(()=>{f?.sessionID===h?.sessionID&&R(!1)},[f?.sessionID,h?.sessionID]);let{isAutoFollowPending:P,cancelAutoFollowCallback:M,completeAutoFollowCallback:U,observeCurrentPresenter:V,autoFollowType:G,autoFollowDelayMs:z}=(0,I.oW)({multiplayer:e.multiplayer}),{isWaitingForFirstFollower:K,stopPresenting:W}=function(e){let[t,n]=a.useState(!1),i=e.followerCount,[r,s]=(0,d.fp)(y.Dv);0===i||t||n(!0);let l=(0,x.jA)(e)||r;(0,x.jA)(e)&&r&&s(!1),!l&&t&&n(!1);let c=l&&0===i&&!t,u=(0,S.T)(),p=(0,N.z3)(),m=a.useCallback(()=>{u(S.N.STOP),"prototype"===p?b.hk()?.stopPresenting():o.h3O.stopPresenting()},[u,p]),h=a.useCallback(()=>!!c&&(m(),!0),[m,c]);return(0,E.O1)(h,E.KD.MULTIPLAYER_SPOTLIGHT),{isWaitingForFirstFollower:c,stopPresenting:m}}(t),Z=function(e){let{multiplayer:t,showingExplainer:n,isPendingPresenting:i}=e;return(0,x.jA)(t)||i?"presenting":n?"showing_explainer":(0,x.NB)(t)?"prompt_to_accept_nomination":"none"}({multiplayer:t,showingExplainer:(0,d.md)(y.ah),isPendingPresenting:(0,d.md)(y.Dv)}),X=function(e){let{multiplayer:t,isAutoFollowPending:n,presenterUser:i,suppressRejoinPrompt:a}=e;return n?"pending_auto_follow":(0,x.L3)(t)?"following":i&&!a?"prompt_to_rejoin":"none"}({multiplayer:t,isAutoFollowPending:P,presenterUser:h,suppressRejoinPrompt:O}),Q=a.useRef(t.allUsers.length);Q.current=t.allUsers.length;let{statusChangedAt:$}=et(Z,X,v,Q),[en,ei]=function(e,t){switch(e){case"presenting":if("following"===t||"prompt_to_rejoin"===t)return[e,"none"];return[e,t];case"prompt_to_accept_nomination":if("pending_auto_follow"===t)return["none",t];return[e,"none"];case"showing_explainer":case"none":return[e,t];default:(0,s.xb)(e)}}(Z,X),ea=ei;c&&"following"===ea&&(ea="none");let er=a.useCallback(()=>{R(!0),M(),w(S.N.IGNORE)},[M,w]),es=G===I.D_.INITIAL,eo=a.useCallback(()=>"pending_auto_follow"===ea&&!!P&&G===I.D_.INITIAL&&(M(),!0),[G,M,P,ea]);(0,E.O1)(eo,E.KD.MULTIPLAYER_SPOTLIGHT);let el=ee(),ed="showing_explainer"===en,ec=(0,d.md)(D.N),eu="none"!==en,ep="none"!==ea,em=["presenting","prompt_to_accept_nomination","showing_explainer"].includes(en)||["following"].includes(ea),[eh,ef]=(0,d.fp)(y.uc);return em!==eh&&ef(em),(0,i.jsxs)(J,{overlayStatus:{self:en,others:ea},children:[(0,i.jsx)(p.N,{children:em&&(0,i.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.Bn},children:(0,i.jsx)(Y,{})})}),(0,i.jsx)(p.N,{children:eu&&(0,i.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.Bn},children:(0,i.jsx)(q,{prototypeHeaderHidden:n,children:(()=>{switch(en){case"presenting":if(null===u)return null;if(K){let e=(0,C.tx)("collaboration.spotlight.bell.presenter.waiting_for_followers"),t=(0,C.t)("collaboration.spotlight.bell.presenter.cancel");return(0,i.jsx)(B.Y,{color:"brand",message:{text:e},renderKey:`${u.sessionID}`,progressBar:!0,progressBarDurationMs:j,autoHide:!1,button:{text:t,onClick:W},isTabAccessible:r})}return(0,i.jsx)(B.Y,{color:"brand",message:{text:(0,i.jsx)(F.s,{count:t.followerCount})},renderKey:`${u.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,C.t)("collaboration.spotlight.bell.presenter.stop"),onClick:W},docked:el,isTabAccessible:r});case"prompt_to_accept_nomination":if(!u||!g)return null;return(0,i.jsx)(B.Y,{autoHide:!1,button:{text:(0,C.t)("collaboration.spotlight.tooltip.spotlight_me"),onClick:()=>{T(t)}},color:"brand",isTabAccessible:r,message:{text:(0,C.tx)("collaboration.spotlight.bell.follower.nominated",{nominatorName:g.name})},onCloseCallback:()=>{A(u.sessionID,t)},progressBar:!1,progressBarDurationMs:0,renderKey:`${u.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"showing_explainer":if(null===u)return null;let e=h?(0,C.tx)("collaboration.spotlight.bell.explainer.takeover",{currentPresenter:h?.name}):(0,C.tx)("collaboration.spotlight.bell.explainer");return(0,i.jsx)(B.Y,{autoHide:!1,button:null,color:"brand",docked:!1,isTabAccessible:r,message:{text:e},progressBar:!1,progressBarDurationMs:0,renderKey:`${t.sessionID}`,useSecondaryColor:!0});case"none":return null;default:(0,s.xb)(en)}})()})})}),(0,i.jsx)(p.N,{children:ep&&(0,i.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.Bn},children:(0,i.jsx)(q,{prototypeHeaderHidden:n,children:(()=>{switch(ea){case"pending_auto_follow":{if(!h)return null;let e=h.name,t=es?{text:(0,C.tx)("collaboration.spotlight.bell.follower.spotlighting_presenter_alternate_copy",{presenterName:e}),onClick:U}:{text:(0,C.tx)("collaboration.spotlight.bell.follower.switching_to_new_presenter",{presenterName:e})},n=es?{text:(0,C.t)("collaboration.spotlight.bell.follower.not_now"),onClick:er}:null;return(0,i.jsx)(B.Y,{color:h?.color,message:t,renderKey:`${h.sessionID}`,progressBar:es,progressBarDurationMs:z||0,autoHide:!1,button:n,ghost:ed,isTabAccessible:r})}case"following":{let e=t.observingSessionID===t.presenterSessionID;if(null===f)return null;let n=f?.name||"",a=e?(0,C.tx)("collaboration.spotlight.bell.follower.spotlight_on_presenter",{observedUserName:n}):(0,C.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:n}),s={text:e?(0,C.t)("collaboration.spotlight.bell.stop_following"):(0,C.t)("collaboration.spotlight.bell.stop"),onClick:()=>L(t)};return(0,i.jsx)(B.Y,{autoHide:!_.Xb,button:s,color:f?.color,docked:el,ghost:ed,isTabAccessible:r,message:{text:a},progressBar:!1,progressBarDurationMs:0,renderKey:`${t.observingSessionID}`,secondaryButton:(0,l.kc)().spotlight_zoom_override&&ec&&1!==ec?{text:(0,C.t)("collaboration.spotlight.bell.reset_zoom"),onClick:()=>{d.zl.set(D.N,1)}}:null})}case"prompt_to_rejoin":let e=()=>(0,x.KI)(V,t,"Spotlight Rejoined",$);if(null!==f||null===h)return null;let n=(0,C.tx)("collaboration.spotlight.bell.follower.reprompt_spotlight_on_presenter",{presenterUserName:h.name}),a=(0,C.t)("collaboration.spotlight.bell.follower.follow");return(0,i.jsx)(B.Y,{autoHide:!1,button:{text:a,onClick:e},color:h?.color,ghost:ed,isTabAccessible:r,message:{text:n,onClick:e},onCloseCallback:()=>(0,x.KI)(()=>R(!0),t,"Spotlight Rejoin Dismissed",$),progressBar:!1,progressBarDurationMs:0,renderKey:`${h.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"none":return null;default:(0,s.xb)(ea)}})()})})})]})}function ei({prototypeHeaderHidden:e,isTabAccessible:t=!1,hideOthersOverlayOverride:n=!1}){let a=(0,r.d4)(({multiplayer:e})=>e),s=(0,I.HG)(),o=(0,I.By)(),l=-1!==a.observingSessionID;return((0,I.VA)({multiplayer:a}),(0,I.Pi)({multiplayer:a}),o)?null:s?(0,i.jsx)(en,{multiplayer:a,prototypeHeaderHidden:e,isTabAccessible:t,hideOthersOverlayOverride:n}):l?(0,i.jsx)(ea,{prototypeHeaderHidden:e,isTabAccessible:t}):null}function ea(e){let{prototypeHeaderHidden:t,isTabAccessible:n=!1}=e,s=(0,I.$0)(),o=(0,k.q5)(),l=(0,r.d4)(e=>e.multiplayer.allUsers.length),d=a.useRef(l);d.current=l,et("none","following",o,d);let c=`${s?.sessionID}`,u=a.useMemo(()=>{let e=s?.name||"";return{text:(0,C.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:e})}},[s]),p=ee();return null===s?null:(0,i.jsxs)(J,{children:[(0,i.jsx)(X,{}),(0,i.jsx)(q,{prototypeHeaderHidden:t,children:(0,i.jsx)(B.Y,{color:s?.color,message:u,renderKey:c,autoHide:!_.Xb,progressBar:!1,progressBarDurationMs:0,button:null,docked:p,isTabAccessible:n})})]})}function er(){let e=(0,d.md)(L.a8)===O.h0.PLAYING,t=(0,d.md)(L.$i);if(!e)return null;switch(t){case O.JJ.CANVAS:return(0,i.jsx)(J,{colorOverride:R.rK,children:(0,i.jsx)(X,{})});case O.JJ.PROPERTIES_PANEL:return(0,i.jsx)(es,{});default:return null}}function es(){let e=W(0),t=P.iP-2*G;return(0,i.jsx)("div",{"data-testid":"cursor-bot-properties-panel-frame",className:V.KM,style:{border:`${G}px solid ${R.rK}`,width:`${t}px`,height:e.height,top:e.top,right:0}})}function eo(){return(0,i.jsx)(J,{colorOverride:"var(--color-border-brand-strong)",children:(0,i.jsx)(X,{})})}},738849:(e,t,n)=>{n.d(t,{a:()=>el,S:()=>eo});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(795033),l=n(668242),d=n(443192),c=n(422872),u=n(764973),p=n(211862),m=n(174730),h=n(944350),f=n(475961),g=n(299640),_=n(143277),x=n(389276),y=n(708417),v=n(97961),b=n(834524),C=n(441030),E=n(729926),j=n(351405),w=n(155342),T=n(256384),k=n(90844),I=n(592726),S=n(475593);let N=[j.wn.CREATE_FRAME,j.wn.FORMAT_FRAME,j.wn.CREATE_TEXT,j.wn.FORMAT_TEXT];var A=n(568659),L=n(599078),O=n(755444),R=n(192075),P=n(604171),M=n(736206),D=n(574555);function F(e,t){let n=j.wn.CREATE_FRAME,{tutorialPlayedUserFlag:a,stepCompletedUserFlag:r}=(0,S.Of)(n,t);return{name:n,tutorialPlayedUserFlag:a,stepCompletedUserFlag:r,duration:t?8900:5200,startingState:t?{centerNodeMatcher:M.C7,resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.product_page_hub_file_id,nodeWidth:M.e7,nodeHeight:M.HX}}:void 0,steps:function(e,t){let n=[{type:j.HQ.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:600},{type:j.HQ.CHANGE_TOOL,toolType:s.NLJ.FRAME}];return t?n.push({type:j.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:M.b7,height:M.mg},nodeName:M.Ur,locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:M.C7,offsetX:523,offsetY:285},nodeNameForLogging:j.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1500},{type:j.HQ.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:j.HQ.INSERT_NODE,locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,M.xK)(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:(0,O.ck)("eccc694a7069c9cafd11d1b91b27e0a5c5e7a394"),width:M.b7,height:M.g1},nodeName:"Image",nodeNameForLogging:j.Le.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:j.$2.BOTTOM_RIGHT},{type:j.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,M.xK)(e,1),nodeNameForLogging:j.Le.PRODUCT_FRAME_CHERRIES_FRAME}):n.push({type:j.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:j.bn.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:j.Le.NO_BASICS_FILE_FRAME,additionalDelay:1500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1500}),n.push({type:j.HQ.CLEAR_CHAT}),n}(0,t),TooltipElement:t=>{let{primaryCtaProps:n,secondaryCtaProps:a,onPrimaryCtaClick:r,onSecondaryCtaClick:s}=(0,P.W)({isReplay:e,props:t});return(0,i.jsx)(D.e,{onPrimaryCtaClick:r,onSecondaryCtaClick:s,primaryCtaProps:n,secondaryCtaProps:a,onClose:t.onClickClose,bodyText:(0,R.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}}var B=n(681958),U=n(236631),H=n(244205),V=n(111297),G=n(333682);function z(e){let t=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return a.useEffect(()=>{t&&s.glU.triggerAction("set-tool-type",null)},[t]),(0,i.jsx)(G.b,{disableHighlight:!0,dismissModal:e.onClose,lowerLeftText:(0,i.jsx)(V.$z,{onClick:e.onBackCtaClick,className:U.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:H.c.BACK},children:(0,R.tx)("general.back")}),onPrimaryCtaClick:e.onPrimaryCtaClick,onSecondaryCtaClick:e.onSecondaryCtaClick,pointsTo:"toolbar",primaryCtaProps:e.primaryCtaProps,secondaryCtaProps:e.secondaryCtaProps,targetKey:"tool-type-onboarding",title:(0,R.tx)("cursor_bot.add_words_where_needed"),trackingContextName:"Cursor Bot Create Text Step",children:(0,R.tx)("cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that")})}function K(e,t,n){let a=j.wn.CREATE_TEXT,{tutorialPlayedUserFlag:r,stepCompletedUserFlag:o}=(0,S.Of)(a,t);return{name:a,tutorialPlayedUserFlag:r,stepCompletedUserFlag:o,duration:t?11400:6600,startingState:t?{centerNodeMatcher:e=>(0,M.xK)(e,M.$5),resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.ginger_no_text_hub_file_id,nodeWidth:M.e7,nodeHeight:M.HX}}:{centerNodeMatcher:M.ok},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let n=[];return t?n.push({type:j.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500}):n.push({type:j.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,B.cy)(M.ok,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."}),n.push({type:j.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:1200}),t?n.push({type:j.HQ.INSERT_NODE,nodeName:M.qw,payload:{nodeType:"TEXT",text:M.qw,height:16},locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,M.xK)(e,1),offsetX:24,offsetY:334},cursorPosition:j.$2.BOTTOM_LEFT,nodeNameForLogging:j.Le.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:j.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:300},{type:j.HQ.INSERT_NODE,nodeName:M.A8,payload:{nodeType:"TEXT",text:M.A8,height:16},locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,M.xK)(e,2),offsetX:316,offsetY:334},cursorPosition:j.$2.BOTTOM_LEFT,nodeNameForLogging:j.Le.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:j.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:300},{type:j.HQ.INSERT_NODE,nodeName:M.$j,payload:{nodeType:"TEXT",text:M.$j,height:16},locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,M.xK)(e,3),offsetX:24,offsetY:368},cursorPosition:j.$2.BOTTOM_LEFT,nodeNameForLogging:j.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):n.push({type:j.HQ.INSERT_NODE,nodeName:M.N1,payload:{nodeType:"TEXT",text:M.N1,width:29,height:16,shouldCenterAlign:!0,typingDurationPerCharMs:200},cursorPosition:j.$2.BOTTOM_LEFT,locationType:j.bn.INSIDE_SCENE_NODE,location:{parentMatcher:M.ok,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:j.Le.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1500}),n}({shouldSkipYup:e||!n,isInBasicsFile:t}),TooltipElement:t=>{let{primaryCtaProps:n,secondaryCtaProps:a,onPrimaryCtaClick:r,onSecondaryCtaClick:s}=(0,P.W)({isReplay:e,props:t});return(0,i.jsx)(z,{onPrimaryCtaClick:r,onSecondaryCtaClick:s,primaryCtaProps:n,secondaryCtaProps:a,onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}}var W=n(750497),Z=n(665813);let q=(0,L.Mz)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,n)=>({...t,[n.name]:!!e[n.stepCompletedUserFlag]}),{}));var X=(e=>(e.PanAndZoom="pan_and_zoom",e.YoureAllSet="youre_all_set",e))(X||{}),Y=n(511570),J=n.n(Y),Q=n(883765),$=n(555013),ee=n(692042),et=n(894210),en=n(144798),ei=n(120276);let ea=a.memo(({currentTutorial:e,stateManager:t})=>{let n;let r=(0,o.md)(E.a8),s=(0,o.md)(E.jE),l=a.useCallback(()=>{let e=u.current;return e?Math.min(Math.round(e/s*100),100):0},[s]);a.useEffect(()=>{let n=n=>{n&&27===n.keyCode&&(0,S.XC)(r)&&((0,Q.sx)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:u.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:j.mf.ESC_KEY}))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[r,t,l,e.name]);let[d,c]=(0,o.fp)(E.mH),u=a.useRef(0),p=a.useRef();if(a.useEffect(()=>{if(!(0,S.XC)(r)){u.current=0,clearInterval(p.current),p.current=void 0;return}let e=setInterval(()=>u.current+=17,17);return p.current=e,()=>clearInterval(e)},[r]),(0,S.XC)(r)){let e=s-u.current;n={animation:`50% center ${e}ms linear`}}let m=(0,ee.ni)(),h=a.useMemo(()=>({top:m.y+x.hH+4}),[m.y]);return(0,i.jsx)("div",{className:ei.CL,style:h,children:(0,i.jsx)("div",{className:J()({[en.e]:d}),onAnimationEnd:()=>{c(!1)},children:(0,i.jsxs)("div",{className:ei.KB,style:n,children:[(0,i.jsx)($.Kz,{multiple:1,direction:"x"}),(0,i.jsx)("div",{children:e.name}),(0,i.jsx)($.Kz,{multiple:1,direction:"x"}),(0,i.jsx)(V.$z,{className:ei.gd,onClick:()=>{t.stopCurrentTutorial({timeElapsed:u.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:j.mf.STOP_BTN})},"data-tooltip-type":et.Ib.TEXT,"data-tooltip":(0,R.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:H.c.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,R.t)("cursor_bot.stop_tutorial"),children:(0,R.tx)("collaboration.spotlight.bell.presenter.stop")})]})})})}),er="create_frame_animation--frameCornerSquare--TEcO4";function es(){let e=(0,ee._X)({subscribeToUpdates_expensive:!1}),t=(0,o.md)(E.Dh);if(null==t)return null;let{x:n,y:a,width:r,height:s,duration:l}=t,d=(0,ee.Yb)(e,{x:n,y:a,width:r,height:s}),c=e.x+d.x,u=e.y+d.y;return(0,i.jsx)("div",{style:{top:u,left:c,width:`${d.width}px`,height:`${d.height}px`,position:"absolute"},children:(0,i.jsxs)("div",{style:{border:"1px solid #4497F7",animationDuration:`${l}ms`},className:"create_frame_animation--animationFrame--4fuzR",children:[(0,i.jsx)("div",{style:{top:-3,left:-3,background:"#ffffff"},className:er}),(0,i.jsx)("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:er}),(0,i.jsx)("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:er}),(0,i.jsx)("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:er})]})})}function eo(){let{isShowing:e,show:t,complete:n,uniqueId:x}=(0,c.e)({overlay:C.SyB,priority:_.N.OVERRIDING_MODAL}),L=(0,r.wA)(),O=(0,r.Pj)(),R=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),P=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===s.kul.JOINED),M=(0,A.b)(),D=(0,o.md)(E.a8),B=(0,m.f)("has_cursor_bot_onboarding_v2");!function(e,t,n){let i=(0,I.iZ)(),a=(0,r.wA)(),s=(0,m.f)("has_cursor_bot_onboarding_v2"),o=(0,p.Cq)({useSinatraType:!0}),l=(0,f.WO)(i?.id,o,["exp_cursor_bot_onboarding"]),c=e=>{let i={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let n of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.has_zoomed_in_design_file=!1,t.has_panned_in_design_file=!1,t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),N)){let{tutorialPlayedUserFlag:i,stepCompletedUserFlag:a}=(0,S.Of)(n,e);t[i]=!1,t[a]=!1}return t}(l),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(i.has_cursor_bot_onboarding_v2=!0),a(d.b(i)),t||n()};(0,k.E)(e,w.W,()=>{o?.editor_type===h._Y.DESIGN?c(!0):a(T.s.error("Cursor Bot can only be run in Figma design."))}),(0,k.E)(e,"Reset Onboarding",()=>{s&&o?.editor_type===h._Y.DESIGN&&c()})}(x,e,t);let[U,H]=a.useState(b.en.FORWARD),V=function(){let e=(0,m.f)("has_cursor_bot_onboarding_v2"),t=(0,m.f)("cursor_bot_v2__basics_file__started_flow"),n=(0,f.Ai)(["exp_cursor_bot_onboarding"]),i=(0,f.jm)(n),s=function(e){let t=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),n=!!(0,m.f)((0,S.Of)(j.wn.CREATE_FRAME,e).tutorialPlayedUserFlag),i=!!(0,m.f)((0,S.Of)(j.wn.FORMAT_FRAME,e).tutorialPlayedUserFlag),r=!!(0,m.f)((0,S.Of)(j.wn.CREATE_TEXT,e).tutorialPlayedUserFlag),s=!!(0,m.f)((0,S.Of)(j.wn.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,a.useMemo)(()=>e?[F(n,e),K(r,e,t),(0,Z.Z)(s,e),(0,W.p)(i,e)]:[F(n,e),(0,W.p)(i,e),K(r,e,t),(0,Z.Z)(s,e)],[e,t,n,r,s,i])}(n),o=(0,r.d4)(e=>q(e,s));if(!e||i||!n&&t)return null;let l=0;if(s.forEach(e=>{o[e.name]&&(l+=1)}),l>=s.length)return n?"youre_all_set":"pan_and_zoom";let d={...s[l]};return l>0&&(d.previousTutorialCompleteUserFlag=s[l-1].stepCompletedUserFlag),d}(),G=(0,f.Ai)(["exp_cursor_bot_onboarding"]),z=(0,f.Y3)(),Y=(0,f.jm)(G),J=z||Y,Q=p.q5()?.canEdit;a.useEffect(()=>{!J&&!e&&B&&V&&R&&P&&Q&&t()},[J,e,t,B,V,R,P,Q]),a.useEffect(()=>{e&&(Y||!V)&&n()},[e,n,Y,V]);let $=(0,m.f)("cursor_bot_v2__basics_file__started_flow");if(a.useEffect(()=>{e&&G&&!$&&L(d.b({cursor_bot_v2__basics_file__started_flow:!0}))},[L,G,e,$]),!e||!V)return null;let ee=()=>{G?L(d.b({cursor_bot_v2__basics_onboarded:!0})):L(d.b({cursor_bot_v2__no_basics_onboarded:!0})),n()};if(V===X.YoureAllSet)return(0,i.jsx)(y.J,{onPrimaryCtaClick:()=>{let e=(0,u.xA)({state:O.getState(),openNewFileIn:g.ai.NEW_TAB,folderOverride:"drafts",trackingInfo:{from:g.f6.CURSOR_BOT_END_MODAL,selectedView:O.getState().selectedView},editorType:h._Y.DESIGN});L(l.uM(e)),ee()},onSecondaryCtaClick:ee,onClose:ee});if(V===X.PanAndZoom)return(0,i.jsx)(v.iF,{markComplete:ee});if(D===j.h0.PLAYING)return(0,i.jsx)(el,{cursorBotStateManager:M,currentTutorial:V});let et=()=>{V.previousTutorialCompleteUserFlag&&(H(b.en.BACKWARD),L(d.b({[V.previousTutorialCompleteUserFlag]:!1})))},en=()=>{H(b.en.FORWARD),L(d.b({[V.stepCompletedUserFlag]:!0}))};return(0,i.jsx)(V.TooltipElement,{onClickShowMe:()=>M.runTutorial(V),onClickNext:en,onClickClose:ee,onClickBack:et,skip:U===b.en.BACKWARD?et:en})}function el({cursorBotStateManager:e,currentTutorial:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Y,{}),(0,i.jsx)(ea,{currentTutorial:t,stateManager:e}),(0,i.jsx)(es,{}),(0,i.jsx)(x.Qe,{})]})}},568659:(e,t,n)=>{n.d(t,{b:()=>R});var i=n(716976),a=n(903927),r=n(266808),s=n(795033),o=n(141773),l=n(568590),d=n(772523),c=n(174730),u=n(331497),p=n(728977),m=n(729926),h=n(638004),f=n(170627),g=n(681958),_=n(883765),x=n(498520),y=n(246144),v=n(795161),b=n(141183),C=n(256384),E=n(921540),j=n(443192),w=n(354114),T=n(692042),k=n(395556),I=n(294570),S=n(878193),N=n(351405),A=n(475593);let L=(0,v.Lg)()?0:300;class O{constructor(e,t,n,i,a,s,o,l,d,c,u,p,m,h,f,g,_,x,y,b,C){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=n,this.setCursorBotAnimationDuration=i,this.setCursorBotTutorialPhase=a,this.setCursorType=s,this.setCursorDirection=o,this.setToolbarActionWithSimulatedHover=l,this.setCursorBotAnimationLayerPosition=d,this.setCursorBotOverlayType=c,this.setCursorBotTutorialDuration=u,this.hasWaved=p,this.cursorBotX=m,this.cursorBotY=h,this.getViewportInfo=f,this.navigate=g,this.sceneGraph=_,this.infoForSentry=x,this.dispatch=y,this.insertTemplate=b,this.appModel=C,this.waitForDuration=(e,t)=>new Promise(n=>{this.setTimeoutWrapper({callback:n,delay:(0,v.Lg)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{r.Ez5.editorState().shouldBlockUserEvents.set(!0),(0,v.Lg)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(N.h0.AWAITING_PLAYBACK),r.Ez5.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let n=t.slice(0,e);this.setCursorBotChat(n),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,v.Lg)()?0:35,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let n=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t,e.name)}catch(n){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:n,tutorialName:e.name});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,b.Lk)(A.tF,h.e.UNOWNED);let i=window.performance.now();return this.currentTutorialRunningPromise=n(),this.currentTutorialRunningPromise.finally(()=>{(0,b.Dz)(A.tF);let t=window.performance.now()-i;(0,y.Lo)(A.tF,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:n,tutorialName:i}){if(!e)throw Error("Hub file ID is not provided");let a=async e=>{let a=r.qmM.findBoundsToCenterNewTopLevelNode(t+88,n),s=a.origin.x+88,o=a.origin.y;await this.centerViewportAroundCanvasRect({x:s,y:o,width:t,height:n}),await this.waitForDuration(this.moveCursorBot({x:s+t/2,y:o+n/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:N.HQ.SET_CHAT,message:"Here\u2019s another example..."},i),await this.insertTemplate({template:{type:k.n.HubFile,template:e},userTriggered:!1,editScopeType:r.zkO.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:r.hKj.CUSTOM_POSITION,templateCustomPosition:{x:s,y:o},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?a(this.startingStateHubFiles[e]):new Promise((t,n)=>{this.dispatch(E.ts({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await a(e),t()}catch(e){n(e)}}}))})}logSentryError(e,t){(0,y.x1)(A.tF,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(C.s.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial({tutorialName:t.tutorialName,stopTrigger:N.mf.STATE_MANAGER_ERROR,errorMessage:e,nodeName:t.name})}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,_.sx)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:n}){this.timeoutIds.push(setTimeout(e,t)),n&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(m.Lw),this.setCursorBotY(m.WW),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(r.z7E.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(N.zu.DEFAULT),this.setCursorBotOverlayType(N.JJ.CANVAS),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){let e=this.sceneGraph.getCurrentPage()?.childrenGuids;e&&e.length>0?r.NfO.scrollAndZoomIntoView(e):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==r.glU.getFirstSelectedNodeIdForCurrentPage()){let t=r.glU.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(n&&e(n,this.sceneGraph))return n}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:n,resetStartingState:i}=e.startingState;!(0,g.cy)(n,this.sceneGraph)&&i&&(t+=3e3)}this.hasWaved||(t+=A.Y4+A.YX),this.setCursorBotTutorialDuration(t),(0,y.Lo)(A.tF,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(N.h0.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(j.b({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:A.Y4,isBlockingTutorialExecution:!1}),await this.transition({type:N.HQ.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:A.YX,preDelay:A.Y4},e.name)),void 0!==e.startingState){let t;let{centerNodeMatcher:n,prioritizeSelectedNode:i,resetStartingState:a}=e.startingState;if(i&&(t=this.getSelectedNodeIfMatches(n)),t||(t=(0,g.WY)(n,this.sceneGraph)),!t&&a)try{await this.insertStartingStateFromHubFile({...a,tutorialName:e.name}),t=(0,g.cy)(n,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,g.E6)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},n=r.NfO.getViewportBounds(),i=(0,A.dK)(t,{width:n.width,height:n.height,zoom:this.getViewportInfo().zoomScale});null==i||isNaN(i)||(e.scale=i),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(j.b({[e]:!0})),t?.(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},L)}async centerViewportAroundCanvasRect(e,t=!1){let{x:n,y:i,width:a,height:r}=e,s=this.getViewportInfo();if(t&&(0,T.UN)(e,s))return;let o=s.zoomScale;(a*o>s.width||r*o>s.height)&&(o=Math.min(s.width/a,s.height/r)/1.1),await this.navigate({centerX:n+a/2,centerY:i+r/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:n,animationDuration:i}){if("canvas"===n){let n=this.getViewportInfo(),i=(0,T.Z0)(n,{x:e,y:t});e=i.x+n.x,t=i.y+n.y}return i=i||function(e,t,n,i){let a=Math.abs(e-t),r=Math.abs(n-i);return Math.min(Math.round(1.6*Math.sqrt(a*a+r*r)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(i),this.setCursorBotX(e),this.setCursorBotY(t),i}repositionNode(e,t,n){f.l7.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:n})}async insertNode(e,t,n,i,a){let s;if("RECTANGLE"===e.nodeType){let t=await (0,A.mF)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});s=t?this.sceneGraph.get(t):null}else s=f.l7.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!s)return null;if(f.l7.onboarding("size",()=>{s&&r.Egt.setSelectedNodeAndCanvas(s.guid,!1)}),a){let e=(0,g.cy)(a,this.sceneGraph,this.tutorialParentNode);f.l7.onboarding("append-child",()=>s&&e?.appendChild(s))}if(this.repositionNode(s,n,i),f.l7.onboarding("rename-node",()=>{s&&(s.name=t)}),"FRAME"===e.nodeType)f.l7.onboarding("resize-frame",()=>s?.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){r.glU.triggerAction("set-tool-default",null),this.setCursorType(r.z7E.DEFAULT);let t=s.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;f.l7.onboarding("set-text-color",()=>{s&&(s.fills=[{...s.fills[0],color:(0,x.HD)(e||x.UE)?x.UE:x.Uv}])})}let n=e.text.length,i=e.typingDurationPerCharMs||50,a=500;for(let t=0;t<n;t++)this.setTimeoutWrapper({callback:()=>{f.l7.onboarding("set-text",()=>{s?.spliceCharacters(s.textData?.characters?.length??t,s.textData?.characters?.length??t,e.text[t],"BEFORE")})},delay:a,isBlockingTutorialExecution:!1}),a+=Math.max(i-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{f.l7.onboarding("set-text-horizontal-alignment",()=>{s&&(s.textAlignHorizontal="CENTER",s.textAlignVertical="CENTER")})},delay:a,isBlockingTutorialExecution:!1}),await this.waitForDuration(a)}return s}getCursorBotNodeInsertionLocation(e){let t;if(e.locationType===N.bn.INSIDE_SCENE_NODE){let{parentMatcher:n,useDefaultLocationIfParentNotFound:i}=e.location,a=(0,g.cy)(n,this.sceneGraph,this.tutorialParentNode);if(!a)return i?this.getCursorBotNodeInsertionLocation({...e,locationType:N.bn.DEFAULT}):void 0;let r=e.location?.offsetX??0,s=e.location?.offsetY??0,{absoluteBoundingBox:{x:o,y:l,w:d,h:c}}=a;e.location.shouldPositionRelativeToCenterOfParent&&(r+=d/2,s+=c/2),t={cursorBotX:o+r,cursorBotY:l+s,insertionX:r,insertionY:s}}else if(e.locationType===N.bn.CANVAS_COORDINATE)t={cursorBotX:e.location.x,cursorBotY:e.location.y,insertionX:e.location.x,insertionY:e.location.y};else{let n=r.qmM.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100);t={cursorBotX:n.origin.x,cursorBotY:n.origin.y,insertionX:n.origin.x,insertionY:n.origin.y}}if(void 0!==e.cursorPosition&&null==e.nodeDrawingAnimationDuration){let n=e.payload.width??100,i=e.payload.height??100;switch(e.cursorPosition){case N.$2.BOTTOM_LEFT:t.cursorBotY+=i;break;case N.$2.BOTTOM_RIGHT:t.cursorBotX+=n,t.cursorBotY+=i;case N.$2.TOP_LEFT:}}return t}async transition(e,t){if(this.shouldStop)return;let n=async()=>{switch(e.type){case N.HQ.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case N.HQ.CLEAR_CHAT:this.setCursorBotChat("");return;case N.HQ.TARGET_DOM_NODE:{let n=(0,S.xT)(e.dataOnboardingKey);if(!n){let n={name:e.dataOnboardingKey,tutorialName:t,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",n):this.logErrorAndStopTutorial("Failed to find DOM node to target",n);return}let{targetX:i,targetY:a}=(0,A.L7)(n,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:i,y:a,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case N.HQ.TARGET_SCENE_NODE:{let n=(0,g.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(n=this.getSelectedNodeIfMatches(e.meetsConditions)??n),!n){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging,tutorialName:t});return}await this.centerViewportAroundCanvasRect({x:n.absoluteBoundingBox.x,y:n.absoluteBoundingBox.y,width:n.absoluteBoundingBox.w,height:n.absoluteBoundingBox.h},!0);let i=e.position||{x:N.GF.RIGHT,y:N.NI.BOTTOM},{targetX:a,targetY:s}=(0,A.L7)(n,i,e.offset);await this.waitForDuration(this.moveCursorBot({x:a,y:s,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&r.Egt.setSelectedNodeAndCanvas(n.guid,!1);return}case N.HQ.SELECT_SCENE_NODE:{let n;if(e.prioritizeSelectedNode&&(n=this.getSelectedNodeIfMatches(e.meetsConditions)),n||(n=(0,g.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!n){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging,tutorialName:t});return}r.Egt.setSelectedNodeAndCanvas(n.guid,!1);return}case N.HQ.INSERT_NODE:{let n=this.getCursorBotNodeInsertionLocation(e);if(void 0===n){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging,tutorialName:t});return}let i=e.payload.height??100,a=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:n.cursorBotX,y:n.cursorBotY,width:a,height:i},!0),await this.waitForDuration(this.moveCursorBot({x:n.cursorBotX,y:n.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:n.cursorBotX,y:n.cursorBotY,width:a,height:i,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:n.cursorBotX+a,y:n.cursorBotY+i,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let r=n.insertionX??n.cursorBotX,s=n.insertionY??n.cursorBotY;await this.insertNode(e.payload,e.nodeName,r,s,e.locationType===N.bn.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case N.HQ.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case N.HQ.CHANGE_TOOL:[r.NLJ.FRAME,r.NLJ.TYPE].includes(e.toolType)?(e.toolType===r.NLJ.TYPE?r.glU.triggerAction("set-tool-type",null):e.toolType===r.NLJ.FRAME&&r.glU.triggerAction("set-tool-frame",null),this.setCursorType(r.z7E.CROSSHAIR)):e.toolType===r.NLJ.HAND?(r.glU.triggerAction("set-tool-hand",null),this.setCursorType(r.z7E.HAND)):e.toolType===r.NLJ.NONE&&(r.glU.triggerAction("set-tool-default",null),this.setCursorType(r.z7E.DEFAULT));return;case N.HQ.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case N.HQ.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case N.HQ.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case N.HQ.SET_PROPERTIES_PANEL_TAB:(0,d.NT)(e.tab);return;case N.HQ.UPDATE_SELECTED_NODE_PROPERTIES:{let t=r.glU.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(!n){(0,y.x1)(A.tF,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===r.m1T.TEXT&&((0,d.wr)(),r.Egt.setSelectedNodeAndCanvas(t,!1)),w.Y5.updateSelectionProperties({..."function"==typeof e.properties?e.properties(n):e.properties},{shouldCommit:I.zk.YES,editScopeType:r.zkO.ONBOARDING});return}case N.HQ.SCROLL_PROPERTIES_PANEL:(0,A.$1)(e.value);return;case N.HQ.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,y.x1)(A.tF,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case N.HQ.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await n();let i=e.additionalDelay||0;e.type===N.HQ.SET_CHAT&&(i+=35*e.message.length),i>0&&await this.waitForDuration(i,e.type===N.HQ.SET_CHAT),await e.callback?.(this.dispatch)}}function R(){let[e,t]=(0,s.fp)(m.jr),[n,h]=(0,s.fp)(m.Sf),f=(0,s.Xr)(m.H7),g=(0,s.Xr)(m.nG),_=(0,s.Xr)(m.Ds),x=(0,s.Xr)(m.Dh),y=(0,s.Xr)(m.a8),v=(0,s.Xr)(m.iB),b=(0,s.Xr)(m.oO),C=(0,s.Xr)(m.$i),E=(0,s.Xr)(m.jE),j=!!(0,c.f)("cursor_bot_v2_has_greeted_with_wave"),w=i.useContext(p.kw),T=(0,l.Z)(),k=(0,a.d4)(e=>e.mirror.sceneGraph),I=(0,a.wA)(),{insertTemplate:S}=(0,o.Fz)(),N=(0,u.ut)((0,d.aY)(),r.FAf.DESIGN),A=(0,a.d4)(e=>e.mirror.appModel.showUi),L=(0,a.d4)(e=>e.mirror.appModel),R=i.useRef();return R.current||(R.current=new O(t,h,g,_,y,v,f,b,x,C,E,j,e,n,()=>w.getViewportInfo(),T,k,{isUiShown:A,propertiesPanelTab:N},I,S,L)),i.useEffect(()=>{R.current?.updatePositionState(e,n)},[e,n]),i.useEffect(()=>{R.current?.updateSceneGraphReference(k)},[k]),i.useEffect(()=>{R.current?.updateInfoForSentry({isUiShown:A,propertiesPanelTab:N})},[N,A]),i.useEffect(()=>{R.current?.updateAppModel(L)},[L]),i.useEffect(()=>{R.current?.updateHasWaved(j)},[j]),R.current}},604171:(e,t,n)=>{n.d(t,{W:()=>o});var i=n(266808),a=n(192075),r=n(244205),s=n(174730);function o({isReplay:e,props:t}){let n,o,l,d;let c=(0,s.f)("cursor_bot_v2_make_show_me_primary_cta"),u=()=>{t.onClickNext?.(),i.glU.triggerActionInUserEditScope("set-tool-default",null)},p=t.isFollowUp?(0,a.t)("cursor_bot.got_it"):(0,a.t)("tooltips_plus_onboarding.next"),m=t.isFollowUp?r.c.GOT_IT:r.c.NEXT;return c?(n={ctaText:e?(0,a.t)("cursor_bot.show_me_again"):(0,a.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?r.c.SHOW_ME_AGAIN:r.c.SHOW_ME},o={ctaText:p,ctaTrackingDescriptor:m},l=t.onClickShowMe,d=u):(n={ctaText:p,ctaTrackingDescriptor:m},o={ctaText:e?(0,a.t)("cursor_bot.show_me_again"):(0,a.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?r.c.SHOW_ME_AGAIN:r.c.SHOW_ME},l=u,d=t.onClickShowMe),{primaryCtaProps:n,secondaryCtaProps:o,onPrimaryCtaClick:l,onSecondaryCtaClick:d}}},736206:(e,t,n)=>{n.d(t,{$5:()=>m,$j:()=>C,A8:()=>b,AO:()=>O,C7:()=>N,Dl:()=>h,HX:()=>o,IM:()=>M,LW:()=>p,N1:()=>F,Q$:()=>P,TT:()=>A,U4:()=>S,Ui:()=>_,Ur:()=>d,Ut:()=>B,YH:()=>T,YI:()=>g,_q:()=>I,b7:()=>c,bO:()=>j,e7:()=>s,g1:()=>l,mg:()=>u,ok:()=>D,qw:()=>v,ro:()=>x,wG:()=>y,x0:()=>E,xK:()=>L,yz:()=>k,zk:()=>w});var i=n(58599),a=n(681958);let r="Watermelon",s=1440,o=900,l=310,d="Cherries",c=395,u=416,p=24,m=1,h=4,f={r:1,g:1,b:1,a:1},g={r:237/255,g:239/255,b:228/255,a:1};function _(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}let x={r:225/255,g:228/255,b:217/255,a:1},y={family:"Inter",style:"Regular",postscript:"Inter-Regular"},v="Rainier cherries",b="$3.99 / lb",C="Grown in Linden, CA",E="Semi Bold",j="Italic",w="Roboto Serif",T={r:71/255,g:103/255,b:48/255,a:1},k={r:116/255,g:121/255,b:109/255,a:1},I={value:130/1.21,units:"PERCENT"},S={value:150/1.21,units:"PERCENT"};function N(e,t){return!(!R(e)||!(0,a.cy)(e=>e.name===r,t,e)||(0,a.cy)(e=>e.name===d,t,e))}function A(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===d&&e.absoluteBoundingBox.w===c&&e.absoluteBoundingBox.h===u&&!!t&&R(t)}(e)&&(void 0===t||e.childCount===t)}function L(e,t){return!!(A(e,t)&&0===e.cornerRadius&&e.strokePaints?.data?.length===0&&(0,i.Vm)(e.fills[0]?.color,f))}function O(e,t){if(!L(e,t))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!B(t))return!1;return!0}function R(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&e.absoluteBoundingBox.w===s&&e.absoluteBoundingBox.h===o}function P(e,t){let n=e.parentNode;return"FRAME"===e.type&&e.name===r&&!!n&&N(n,t)}function M(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function D(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childCount}let F="Hello";function B(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==y.family||e.fontName.style!==y.style)return!1;let n=e.parentNode;return!!n&&L(n,h)}},750497:(e,t,n)=>{n.d(t,{p:()=>x});var i=n(104076),a=n(266808),r=n(681958),s=n(755444),o=n(236631),l=n(192075),d=n(244205),c=n(111297),u=n(475961),p=n(351405),m=n(475593),h=n(604171),f=n(736206),g=n(525092),_=n(592103);function x(e,t){let n=p.wn.FORMAT_FRAME,{tutorialPlayedUserFlag:x,stepCompletedUserFlag:y}=(0,m.Of)(n,t);return{name:n,tutorialPlayedUserFlag:x,stepCompletedUserFlag:y,duration:t?17500:9400,steps:function(e){let t=[];return t.push({type:p.HQ.SET_PROPERTIES_PANEL_TAB,tab:a.FAf.DESIGN}),e?t.push({type:p.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,f.xK)(e,f.Dl),nodeNameForLogging:p.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:p.HQ.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:p.Le.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:p.HQ.SET_CURSOR_DIRECTION,direction:p.zu.RIGHT},{type:p.HQ.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:g.W,offset:{x:-28,y:132},position:{x:p.GF.LEFT,y:p.NI.TOP},cursorBotMovementAnimationDuration:600},{type:p.HQ.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:p.JJ.PROPERTIES_PANEL,additionalDelay:1500},{type:p.HQ.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"fill"),position:{x:p.GF.LEFT,y:p.NI.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:(0,f.IM)(e?f.YI:(0,f.Ui)())}),additionalDelay:0},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:p.HQ.CLEAR_CHAT}),e&&t.push({type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:p.GF.LEFT,y:p.NI.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:p.HQ.SET_CHAT,message:"A border...",additionalDelay:500},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:(0,f.IM)(f.ro),strokeWeight:2},additionalDelay:10},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:p.HQ.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:p.HQ.CLEAR_CHAT},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:700,additionalDelay:300},{type:p.HQ.SET_CHAT,message:"Or rounded corners!",additionalDelay:500},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:f.LW},additionalDelay:10},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:p.HQ.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>(0,f.xK)(e,f.Dl),resetStartingState:{hubFileId:s.Ay()?.cursor_bot?.ginger_formatted_text_hub_file_id,nodeHeight:f.HX,nodeWidth:f.e7}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:n=>{let{primaryCtaProps:a,secondaryCtaProps:s,onPrimaryCtaClick:u,onSecondaryCtaClick:p}=(0,h.W)({isReplay:e,props:n});return(0,i.jsx)(_.Z,{bodyText:t?(0,l.t)("cursor_bot.design_panel_can_change_objects"):(0,l.t)("cursor_bot.design_panel_is_key"),frameNodeMatcher:t?e=>(0,r.WY)(e=>(0,f.TT)(e,f.Dl),e)||(0,r.cy)((e,t)=>(0,f.Q$)(e,t),e):void 0,fromCursorBot:!0,isFollowUp:n.isFollowUp,lowerLeftText:n.onClickBack?(0,i.jsx)(c.$z,{onClick:n.onClickBack,className:o.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:d.c.BACK},children:(0,l.tx)("cursor_bot.back")}):void 0,onClose:n.onClickClose,onPrimaryCtaClick:u,onSecondaryCtaClick:p,primaryCtaProps:a,secondaryCtaProps:s,skip:n.skip,title:(0,l.t)("cursor_bot.make_it_look_just_right")})}}}},665813:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(104076),a=n(266808),r=n(681958),s=n(980852),o=n(755444),l=n(236631),d=n(192075),c=n(244205),u=n(111297),p=n(475961),m=n(351405),h=n(475593),f=n(604171),g=n(736206),_=n(415567),x=n(997273);function y(e,t){let n=m.wn.FORMAT_TEXT,{tutorialPlayedUserFlag:y,stepCompletedUserFlag:v}=(0,h.Of)(n,t);return{name:n,tutorialPlayedUserFlag:y,stepCompletedUserFlag:v,duration:t?10500:8500,steps:function(e){let t=[];return t.push({type:m.HQ.SET_PROPERTIES_PANEL_TAB,tab:a.FAf.DESIGN}),e&&t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),prioritizeSelectedNode:!0,nodeNameForLogging:m.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:x.B,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:m.HQ.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:m.HQ.SET_CURSOR_DIRECTION,direction:m.zu.RIGHT},{type:m.HQ.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.qw),nodeNameForLogging:m.Le.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:500,additionalDelay:1e3},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:g.x0,lineHeight:g._q}},{type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.A8),nodeNameForLogging:m.Le.CHERRIES_FRAME_PRICE_TEXT},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.YH),fontSize:20,fontStyle:g.x0,lineHeight:g._q,textAlignHorizontal:"RIGHT"}},{type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),nodeNameForLogging:m.Le.CHERRIES_FRAME_GROWN_TEXT},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.yz),fontSize:16,lineHeight:g.U4},additionalDelay:1500}):t.push({type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-picker-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===g.zk?g.wG.family:g.zk}),additionalDelay:300},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===g.bO?g.wG.style:g.bO}),additionalDelay:300},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:1500}),t.push({type:m.HQ.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?m.JJ.TEXT_PANEL:m.JJ.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(0,g.AO)(e,4),resetStartingState:{hubFileId:o.Ay()?.cursor_bot?.ginger_hub_file_id,nodeHeight:g.HX,nodeWidth:g.e7}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:n=>{let a=(0,_.Vr)(),{primaryCtaProps:o,secondaryCtaProps:p,onPrimaryCtaClick:m,onSecondaryCtaClick:h}=(0,f.W)({isReplay:e,props:n});return(0,i.jsx)(x.P,{bodyText:(0,d.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,getNodeToSelect:t?()=>(0,r.WY)(e=>"TEXT"===e.type&&(e.name===g.$j||"Grown in Tracy, CA"===e.name),(0,s.UN)()):()=>a?.type==="TEXT"?a:(0,r.WY)(e=>"TEXT"===e.type,(0,s.UN)()),isFollowUp:n.isFollowUp,lowerLeftText:n.onClickBack?(0,i.jsx)(u.$z,{onClick:n.onClickBack,className:l.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:c.c.BACK},children:(0,d.tx)("cursor_bot.back")}):void 0,onClose:n.onClickClose,onPrimaryCtaClick:m,onSecondaryCtaClick:h,primaryCtaProps:o,secondaryCtaProps:p,skip:n.skip,title:t?(0,d.t)("cursor_bot.pick_the_perfect_font"):(0,d.t)("cursor_bot.and_pick_the_perfect_font")})}}}},722661:(e,t,n)=>{n.d(t,{XB:()=>N,v2:()=>A,y5:()=>I});var i=n(104076),a=n(716976),r=n(971080),s=n(467020),o=n(602755),l=n(987405),d=n(967212),c=n(661307),u=n(610731),p=n(3262),m=n(572902),h=n(236793),f=n(790009),g=n(266808),_=n(812714),x=n(511570),y=n.n(x),v=n(437540),b=n(192075),C=n(553065),E=n(754446),j=n(739710),w=n(862716),T=n(48251);let k=Object.values(g.sAE).filter(e=>"number"==typeof e),I=50;function S(e){switch(e){case g.sAE.FIXED:return"FIXED";case g.sAE.HUG:return"HUG";case g.sAE.FLEX:return"FLEX"}}function N(e){switch(e){case g.sAE.FIXED:return"FIXED";case g.sAE.HUG:return"HUG";case g.sAE.FLEX:return"FLEX"}}function A(){let e;let[t,n]=(0,E.lJ)("gridTrackSize"),a=t&&(0,C.hS)(t)&&void 0!==t.value?t.value:void 0,r=t&&(0,C.hS)(t)&&void 0!==t.type?g.sAE[t.type]:void 0,{axis:s,width:o,initialText:l,shouldOpenDropdown:d}=(0,v.R)(e=>({axis:e.mirror.appModel.onCanvasNameEditorInfo.axis,width:e.mirror.selectionProperties.width,initialText:e.mirror.appModel.onCanvasNameEditorInfo.initialText,shouldOpenDropdown:e.mirror.appModel.onCanvasNameEditorInfo.shouldOpenDropdown})),c=(0,C.E7)((0,E.kl)("gridRowCount")),u=(0,C.E7)((0,E.kl)("gridColumnCount"));if(!t||!(0,C.gl)(t)&&void 0===r||!(0,C.gl)(t)&&void 0===a||!o||!u||!c)return null;e=s===g._0v.X?Math.round(o/u):Math.round(o/c);let p="";if((0,C.gl)(t))p=(0,b.t)("fullscreen.mixed");else{let e=parseFloat(t.value.toFixed(2)),n=(0,b.t)("fullscreen.auto");(0,_.kc)().ce_tv_grid_ga&&(n=`${e}x`),p=r===g.sAE.FLEX?n:r===g.sAE.HUG?(0,b.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"):(0,j.lg)(e)}let m=e=>{var t;let i;let a=(0,_.kc)().ce_tv_grid_ga&&e.endsWith("px"),s=(0,_.kc)().ce_tv_grid_ga&&!a&&e.endsWith("x"),o=(t=(t=e).trim().toLowerCase(),"auto".startsWith(t)||"fill".startsWith(t))?g.sAE.FLEX:"hug".startsWith(t)&&(0,_.kc)().ce_tv_grid_hug?g.sAE.HUG:"fixed".startsWith(t)?g.sAE.FIXED:null,l=g.sAE.FIXED;s?l=g.sAE.FLEX:a?l=g.sAE.FIXED:null!==o&&(l=o),s?i=parseFloat(e.slice(0,-1)):a?i=parseFloat(e.slice(0,-2)):l===g.sAE.FIXED&&(i=parseFloat(e)),(0,_.kc)().ce_tv_grid_ga&&void 0!==i&&!a&&i<I&&r===g.sAE.FLEX&&(l=g.sAE.FLEX),void 0!==i&&isNaN(i)||n({value:i,type:N(l)})};return(0,_.kc)().ce_tv_grid_hug?(0,i.jsx)(L,{name:l||p,setName:m,maxWidth:e,noSelectOnFocus:!!l,disableSaveOnEscape:!0,axis:s,gridTrackSizingType:r,setGridTrackSizingType:e=>{n({type:N(e)})},shouldOpenDropdown:d}):(0,i.jsx)(w.qn,{name:l||p,setName:m,maxWidth:e,noSelectOnFocus:!!l,disableSaveOnEscape:!0})}function L(e){let t=(0,w.R9)(e.name,e.setName,{maxWidth:e.maxWidth,noSelectOnFocus:e.noSelectOnFocus,disableSaveOnEscape:e.disableSaveOnEscape}),[n,d]=a.useState(e.shouldOpenDropdown),[c,u]=a.useState(n&&void 0!==e.gridTrackSizingType?S(e.gridTrackSizingType):void 0),p=s.F.useCombobox({selected:void 0!==e.gridTrackSizingType?[S(e.gridTrackSizingType)]:[],activeValue:c,onActiveValueChange:u,expanded:n,expandOnFocus:!1,onExpand:d,onSelect(t){if(!t)return;let n=function(e){switch(e){case"FIXED":return g.sAE.FIXED;case"HUG":return g.sAE.HUG;case"FLEX":return g.sAE.FLEX;default:return null}}(t);null!=n&&(e.setGridTrackSizingType(n),d(!1),g.glU?.hideOnCanvasNameEditor())}}),m=a.useRef(null);if(!t)return null;let{containerRef:h,measurerRef:_,containerStyle:x,editingName:v,onFocus:b,onChange:C,onKeyDown:E,onBlur:j,width:I,setIsComposing:N}=t;return(0,i.jsx)(w.n9,{containerRef:h,containerClassname:e.containerClassname,containerStyle:x,measurerRef:_,editingName:v,children:(0,i.jsxs)(f.J,{brand:"design",children:[(0,i.jsxs)("div",{className:T.hs,children:[(0,i.jsx)(r.Y,{id:`on-canvas-name-editor-${e.name}`,...p.getInputProps({ref:m,autoFocus:!0,className:T.U2,onChange:(e,{event:t})=>{C(t)},onKeyDown:function(e){"Enter"===e.key&&n||E(e)},spellCheck:!1,style:{width:`${I}px`},value:v,htmlAttributes:{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",dir:"auto",onBlur:j,onCompositionEnd:()=>N(!1),onCompositionStart:()=>N(!0),onFocus:b}})}),(0,i.jsx)(s.F.Trigger,{...p.getTriggerProps(),className:T.uR,children:(0,i.jsx)(o.O,{})})]}),(0,i.jsx)(s.F.PopupList,{...p.getListProps(),anchorEl:m,"data-testid":"grid-track-combobox-popup-list",placement:"bottom",offset:({rects:e})=>-e.reference.height/2-e.floating.height/2,className:T.g1,children:k.map(t=>(0,i.jsx)(s.F.Option,{value:S(t),className:T.r2,recordingKey:`trackSizingTypeOption-${t}`,children:(0,i.jsxs)("span",{className:y()(T.Fo,{[T.$U]:c===S(t)}),children:[(0,i.jsx)(l.l,{className:T.rF}),(0,i.jsx)(O,{gridTrackSizingType:t,axis:e.axis}),(0,i.jsx)(R,{gridTrackSizingType:t,axis:e.axis})]})},t))})]})})}function O(e){switch(e.gridTrackSizingType){case g.sAE.FIXED:return e.axis===g._0v.X?(0,i.jsx)(d.w,{}):(0,i.jsx)(c.T,{});case g.sAE.HUG:return e.axis===g._0v.X?(0,i.jsx)(u.v,{}):(0,i.jsx)(p.C,{});case g.sAE.FLEX:return e.axis===g._0v.X?(0,i.jsx)(m.G,{}):(0,i.jsx)(h.N,{})}}function R(e){switch(e.gridTrackSizingType){case g.sAE.FIXED:return e.axis===g._0v.X?(0,b.tx)("fullscreen.on_canvas_editor.grid_track_size.fixed_width"):(0,b.tx)("fullscreen.on_canvas_editor.grid_track_size.fixed_height");case g.sAE.HUG:return(0,b.tx)("fullscreen.on_canvas_editor.grid_track_size.hug");case g.sAE.FLEX:return e.axis===g._0v.X?(0,b.tx)("fullscreen.on_canvas_editor.grid_track_size.fill_column"):(0,b.tx)("fullscreen.on_canvas_editor.grid_track_size.fill_row")}}},862716:(e,t,n)=>{n.d(t,{R9:()=>_,n9:()=>x,qn:()=>y});var i=n(104076),a=n(716976),r=n(903927),s=n(88314),o=n(266808),l=n(511570),d=n.n(l),c=n(221586),u=n(641518),p=n(278491),m=n(354114),h=n(893178),f=n(692042),g=n(48251);function _(e,t,n){let i;let{maxWidth:l,noSelectOnFocus:d=!1,disableSaveOnEscape:p=!1,hasSlideRowBeenManuallyRenamed:_=!0}=n,{padding:x,margin:y,...v}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),b=(0,f._X)({subscribeToUpdates_expensive:!0}),C=b?.zoomScale||1,[E,j]=a.useState(e),[w,T]=a.useState(!0),k=a.useRef(null),I=a.useRef(null),[S,N]=a.useState(0),[A,L]=a.useState(!1),O=a.useCallback((e,t)=>{switch(v.mode){case o.nzw.FRAME_NAME:case o.nzw.VAR_WIDTH_SIZE:N(Math.min(e,l*C)+7);break;case o.nzw.CANVAS_GRID_ROW_NAME:case o.nzw.CANVAS_GRID_ROW_STATE_GROUP:let n=Math.min(e,l*C);_?N(n+14):N(Math.max(n,40)+14);break;case o.nzw.RESPONSIVE_SET_NAME:case o.nzw.SECTION_NAME:let i=l*C;v.mode===o.nzw.RESPONSIVE_SET_NAME&&(i-=60),e<i?N(e):N(i-2*y.x);break;case o.nzw.FLOW_STARTING_POINT_NAME:N(Math.min(e,l)+4);break;case o.nzw.MEASUREMENT_FREE_TEXT:N(Math.min(e,l*C)+8.5);break;case o.nzw.GRID_TRACK_SIZE:let a=e;o.qmM&&(a=o.qmM.measureTrackLabelSize(t).x),N(Math.min(a,l*C+8.5))}},[v.mode,l,C,y.x,_]);a.useLayoutEffect(()=>{I.current&&O(I.current.scrollWidth,E)},[E,O]),a.useEffect(()=>{e&&(T(!0),j(e))},[e]),a.useEffect(()=>{let e=e=>{let t=!(k.current&&k.current.contains(e.target)),n=document.querySelector('[data-resource-id="rename-selection"]'),i=e.target&&n&&n.contains(e.target);t&&!i&&o.glU?.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let R=u.AF("onCanvasRename","change",e=>{j(e.target.value)}),P=u.v_("onCanvasRename","keydown",e=>{if(!A){if("Escape"===e.key&&p){T(!1),o.glU?.hideOnCanvasNameEditor();return}switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),T(!1),t(E),m.Y5.commit(),o.glU?.hideOnCanvasNameEditor();break;case"=":case"-":(0,c.Fo)(e)&&(0,h.f7)(e)}}});if(!b)return null;let M={},D=(0,f.Z0)(b,{x:v.x,y:v.y},!1),F={x:D.x+b.x,y:D.y+b.y};if(v.mode===o.nzw.FLOW_STARTING_POINT_NAME&&(F.x-=32+S,F.y=Math.round(F.y)),v.mode===o.nzw.FRAME_NAME){let e=(0,s.Cc)(5,9,(b.zoomScale-.1)*5);e=(0,s.qE)(e,5,9)-3,F.y-=e}if(v.mode===o.nzw.CANVAS_GRID_ROW_NAME&&o.Ez5){let e=o.Ez5.canvasGrid().gridRowSpacing()/2*b.zoomScale;e-=8,F.y-=e}switch(v.mode===o.nzw.CANVAS_GRID_ROW_STATE_GROUP&&o.Ez5&&(F.y+=8,F.x+=6),v.mode===o.nzw.RESPONSIVE_SET_NAME&&(F.x+=36,F.y-=3),v.mode===o.nzw.VAR_WIDTH_SIZE&&(F.y+=20*v.varWidthTextDirection.y,F.x+=20*v.varWidthTextDirection.x),v.mode===o.nzw.GRID_TRACK_SIZE?v.isShownOnLeft?(M.transformOrigin=`${F.x-10}px ${F.y}px`,F.x+=10,M.transform=`rotate(${v.angle}deg) translate(calc(${F.x}px - 100%), ${F.y-10}px)`):(M.transformOrigin=`${F.x}px ${F.y}px`,M.transform=`rotate(${v.angle}deg) translate(calc(${F.x}px - 50%), ${F.y-10}px)`):v.mode===o.nzw.MEASUREMENT_FREE_TEXT?v.invertTextPosition?M.transform=v.isCentered?`translate(calc(${F.x}px - 50%), ${F.y-24}px)`:`translate(calc(${F.x-6}px - 100%), ${F.y-9.5}px)`:M.transform=v.isCentered?`translate(calc(${F.x}px - 50%), ${F.y+7}px)`:`translate(${F.x+6}px, ${F.y-9.5}px)`:v.mode===o.nzw.VAR_WIDTH_SIZE?M.transform=`translate(calc(${F.x}px - 50%), ${F.y-10}px)`:M.transform=`translate(${F.x}px, ${F.y}px) rotate(${v.angle}deg)`,v.mode){case o.nzw.FRAME_NAME:i=g.Rj;break;case o.nzw.CANVAS_GRID_ROW_NAME:case o.nzw.CANVAS_GRID_ROW_STATE_GROUP:i=g.oX;break;case o.nzw.FLOW_STARTING_POINT_NAME:i=g.K3;break;case o.nzw.MEASUREMENT_FREE_TEXT:i=g.Q;break;case o.nzw.GRID_TRACK_SIZE:i=g.PE;break;case o.nzw.VAR_WIDTH_SIZE:i=g.z$}return{containerRef:k,measurerRef:I,containerStyle:M,inputClassname:i,editingName:E,onFocus:e=>{d||e.target.select(),I.current&&O(I.current.scrollWidth,E)},onChange:R,onKeyDown:P,onBlur:e=>{w&&(t(e.target.value),m.Y5.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&o.glU?.hideOnCanvasNameEditor())},width:S,setIsComposing:L}}function x({containerRef:e,containerClassname:t,containerStyle:n,measurerRef:a,editingName:r,children:s}){return(0,i.jsxs)("div",{ref:e,className:d()(t,p.Dm,g.T_),style:n,children:[(0,i.jsx)("span",{ref:a,className:g.jk,children:r}),s]})}function y(e){let t=_(e.name,e.setName,{maxWidth:e.maxWidth,noSelectOnFocus:e.noSelectOnFocus,disableSaveOnEscape:e.disableSaveOnEscape,hasSlideRowBeenManuallyRenamed:e.hasSlideRowBeenManuallyRenamed});if(!t)return null;let{containerRef:n,measurerRef:a,containerStyle:r,editingName:s,onFocus:o,onChange:l,onKeyDown:d,onBlur:c,width:u,setIsComposing:p,inputClassname:m}=t;return(0,i.jsx)(x,{containerRef:n,containerClassname:e.containerClassname,containerStyle:r,measurerRef:a,editingName:s,children:(0,i.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:m,dir:"auto",onBlur:c,onChange:l,onCompositionEnd:()=>p(!1),onCompositionStart:()=>p(!0),onFocus:o,onKeyDown:d,spellCheck:!1,style:{width:`${u}px`},value:s})})}},65554:(e,t,n)=>{n.d(t,{Cg:()=>l,UA:()=>d,fr:()=>s,uF:()=>r,ym:()=>o});var i=n(983500),a=n(404343);let r=40,s=(0,i.jz)(a.xM9),o=(0,i.jz)(a.M$q),l=(0,i.jz)(a.MGP),d=8},347598:(e,t,n)=>{n.d(t,{B:()=>o});var i=n(104076),a=n(511570),r=n.n(a),s=n(961125);function o({children:e,hasScrollLine:t,onClick:n}){return(0,i.jsx)("div",{className:r()(s.kL,{[s.to]:t}),onClick:n,children:e})}},837080:(e,t,n)=>{n.d(t,{H:()=>r});var i=n(104076),a=n(489175);function r({children:e,dataOnboardingKey:t}){return(0,i.jsx)("div",{className:"header_text--headerText--ZXIeN",onContextMenu:a.jo,"data-onboarding-key":t,children:e})}},90453:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(104076),a=n(511570),r=n.n(a),s=n(120074);function o({isFullHeight:e,children:t}){let n=(0,s._Z)().isLoading;return(0,i.jsx)("div",{"data-testid":"left-panel-body",className:r()("left_panel_body--container--GuUjF sf_pro--uiFontWithSFProFallback--m-p9V",{leftPanelBody:!n,"left_panel_body--flexGrow--HFJjd":e}),children:t})}},400690:(e,t,n)=>{n.d(t,{e:()=>c,i:()=>d});var i=n(104076),a=n(516604),r=n(352630),s=n(192075),o=n(643077),l=n(894210);function d({onClick:e,recordingKey:t,tooltipText:n}){return(0,i.jsx)(r.Me,{recordingKey:t,"aria-label":n,onClick:e,trackingProperties:{text:"Add new page"},htmlAttributes:{"data-testid":"new-page-button","data-tooltip":n,"data-tooltip-type":l.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,i.jsx)(a.x,{})})}function c({recordingKey:e}){let t=(0,o.rE)();return(0,i.jsx)(d,{onClick:()=>t(null),recordingKey:e,tooltipText:(0,s.t)("fullscreen.pages_panel.add_new_page")})}},681470:(e,t,n)=>{n.d(t,{t:()=>C});var i=n(104076),a=n(828073),r=n(597342),s=n(516604),o=n(658704),l=n(266808),d=n(641518),c=n(652539),u=n(236631),p=n(192075),m=n(819851),h=n(822852),f=n(643077),g=n(944350),_=n(894210),x=n(983764),y=n(87535);let v="new_page_dropdown--newPageIcon--R2RXS";var b=n(871428);function C({recordingKey:e}){let{Dropdown:t,toggleDropdown:n,isDropdownShown:C,dropdownTargetRef:E}=(0,x.B)("newPageDropdown"),j=(0,m.lg)(),w=(0,h.Te)(),T=(0,f.rE)();if(!w)return null;let k=[{displayText:(0,p.t)("fullscreen.pages_panel.page_dropdown_new"),optionHeight:24,editorType:null,disabled:!0},{displayText:(0,p.t)("fullscreen.pages_panel.design_page"),optionHeight:24,editorType:g._Y.DESIGN,icon:(0,i.jsx)("div",{className:v,children:(0,i.jsx)(a.k,{})}),callback:()=>T(l._YF.DESIGN)},{displayText:(0,p.t)("fullscreen.pages_panel.figjam_page"),optionHeight:24,editorType:g._Y.WHITEBOARD,icon:(0,i.jsx)("div",{className:v,children:(0,i.jsx)(c.B,{svg:b.A})}),callback:()=>T(l._YF.WHITEBOARD)},{displayText:(0,p.t)("fullscreen.pages_panel.slide_deck"),optionHeight:24,editorType:g._Y.SLIDES,icon:(0,i.jsx)("div",{className:v,children:(0,i.jsx)(r.l,{})}),callback:()=>T(l._YF.SLIDES)}],I=48;for(let e=0;e<k.length;e++)if(k[e].editorType===j){I+=24*e;break}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:u.s.absolute.w8.h8.$,ref:E,style:{bottom:`${I}px`,right:"42px"}}),(0,i.jsx)(y.K0,{className:"new_page_dropdown--newPageButton--sYJsl",recordingKey:d.Pt(e,"newPageDropdown"),"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,p.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-show-above":!0,onMouseDown:n,children:(0,i.jsxs)("div",{className:"new_page_dropdown--newPageIconsContainer--pzY38",children:[(0,i.jsx)(s.x,{}),(0,i.jsx)("div",{className:"new_page_dropdown--newPageChevron--N0hv3",children:(0,i.jsx)(o.r,{})})]})}),C&&(0,i.jsx)(t,{minWidth:160,items:k,showPoint:!0})]})}},558720:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(104076),a=n(454851),r=n(781767),s=n(641518),o=n(192075),l=n(894210),d=n(983764);function c(e){let{Dropdown:t,toggleDropdown:n,dropdownTargetRef:c,isDropdownShown:u}=(0,d.B)("LAYERS_PANEL_DROPDOWN");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:c,children:(0,i.jsx)(a.d,{"aria-label":(0,o.t)("dev_handoff.code.options"),recordingKey:e.recordingKey,"aria-expanded":u,onClick:function(e){e.stopPropagation(),n()},htmlAttributes:{"data-tooltip":(0,o.t)("dev_handoff.code.options"),"data-tooltip-type":l.Ib.TEXT},children:(0,i.jsx)(r.J,{})})}),(0,i.jsx)(t,{items:e.dropdownItems,showPoint:!0,lean:e.lean,recordingKey:s.Pt(e.recordingKey,"dropdown")})]})}},569565:(e,t,n)=>{n.d(t,{bU:()=>ee,bG:()=>en,VS:()=>ei});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(795033),l=n(511570),d=n.n(l),c=n(166887),u=n(86517),p=n(328341),m=n(514223),h=n(586398),f=n(742549),g=n(469191),_=n(661711),x=n(968169),y=n(510232),v=n(568590),b=n(643077),C=n(508011),E=n(120074),j=n(211862),w=n(657878),T=n(944350),k=n(331497),I=n(638004),S=n(684742),N=n(168302),A=n(380494),L=n(441513),O=n(449572),R=n(513369),P=n(550209),M=n(679359),D=n(804101),F=n(767273),B=n(192075),U=n(59849),H=n(669436),V=n(602443);function G({pageRowRef:e,pagesListRef:t,nodeId:n,nodeName:a,pageThumbnail:r,isLoading:s}){let l=(0,j.q5)(),u=(0,c.hC)(),p=(0,o.Xr)(V.qp);if(!l||!t.current||!e.current)return null;let h=t.current.getBoundingClientRect().left+t.current.getBoundingClientRect().width,f=h-16,g=`calc(${h}px + var(--spacer-2, 0.5rem))`,_=e.current.getBoundingClientRect().top,x=e.current.getBoundingClientRect().height;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{position:"fixed",zIndex:10,left:f+"px",top:_+"px",height:x+"px",width:"32px"}}),(0,i.jsxs)("div",{"data-testid":"PageSummaryPreview",className:"page_summary_preview--previewContainer--kx2Uy",style:{left:g,top:_+x/2},children:[(0,i.jsxs)("div",{className:"page_summary_preview--thumbnailContainer--a-jPQ",children:[(0,i.jsx)("div",{"data-testid":"FileThumbnail",children:(0,i.jsx)(F.V,{thumbnailType:(0,D.lv)(l.editorType,!1),thumbnailUrl:r?.thumbnail_url??null,clientMeta:r?.thumbnail_meta??l.clientMeta,noBorder:!0})}),(0,i.jsx)(S.E,{"aria-label":(0,B.t)("pages_panel.summary_preview.update_preview"),className:d()("page_summary_preview--refreshButton--XAvPe",{"page_summary_preview--alwaysShowRefreshButton--M3IDC":!r}),onClick:()=>{l&&!s&&(u("figjam_pages_summary.preview_refreshed",{previewPageId:n}),p(m.r.LOADING),H.S.updatePageCheckpointThumbnails({fileKey:l.key}).catch(()=>{u("figjam_summary_preview.page_thumbnails_request_failed_increment_metric",{})}))},htmlAttributes:{"data-tooltip":(0,B.t)("pages_panel.summary_preview.update_preview"),"data-tooltip-type":"text","data-testid":"RefreshPreviewButton"},children:s?(0,i.jsx)(M.kt,{testId:"LoadingSpinner",size:"small",className:"page_summary_preview--loadingSpinner--FXocO"}):(0,i.jsx)(N.o,{})})]}),(0,i.jsx)("div",{className:"page_summary_preview--pageTitleContainer--Yk-qK text--fontPos13--xW8hS text--_fontBase--QdLsd",children:a})]})]})}let z=L.z.record(L.z.object({thumbnail_url:L.z.string(),thumbnail_meta:L.z.object({}).passthrough().transform(e=>JSON.stringify(e)),created_at:L.z.string().optional()}));var K=n(722887),W=n(221586),Z=n(354114),q=n(772523),X=n(383310),Y=(e=>(e.RANGE="range",e.INDIVIDUAL="individual",e))(Y||{});function J(e){return(0,W.Fo)(e)?"individual":e.shiftKey?"range":null}var Q=n(757218),$=n(170627);function ee({pages:e,isReadOnly:t,onContextMenu:n,isComparingChanges:l,onPageSwitch:d,pageToNumChanges:p,shouldHighlightActivePage:m=!0,activePageShouldUseBrandColor:y,scrollContainer:v,shouldUseButtonRows:E}){let j=(0,k.ut)(s.Ez5?.currentPageState().requestedPageChange,""),w=(0,k.ut)(s.Ez5?.uiState().showInFileMemoryPercentage,!1),T=(0,b.dh)(),I=!(0,h.wK)(),S=(0,c.U)(),N=(0,f.l7)(),A=(0,a.useRef)(null),L=(0,C.Ht)(),O=(0,r.d4)(e=>e.versionHistory),R=(0,k.J2)((0,x.UK)().showGuids),{selectedPageIds:P,handleMultiselectClick:M,cancelMultiselect:D}=function(e){let[t,n]=(0,o.fp)(V.cE),i=(0,b.dh)(),r=(0,a.useCallback)(()=>{n(e=>e.length?[]:e)},[n]),s=(0,a.useCallback)((a,s)=>{let o=J(s);switch(o&&((0,q.tJ)([]),Z.Y5.commit()),o){case"individual":return n(t.includes(a)?t.filter(e=>e!==a):0===t.length&&i!==a?[i,a]:[...t,a]),!0;case"range":{let r=0===t.length?i:t[t.length-1],s=e.findIndex(e=>e.nodeId===r),o=e.findIndex(e=>e.nodeId===a),l=Math.min(s,o),d=Math.max(s,o),c=new Set(t),u=e.slice(l,d+1).map(e=>e.nodeId);return c.has(u[0])&&c.has(u[u.length-1])?n(t.filter(e=>!u.includes(e))):n([...t,...u.filter(e=>!c.has(e))]),!0}case null:return r(),!1}},[r,e,i,t,n]);return{selectedPageIds:t,handleMultiselectClick:s,cancelMultiselect:r}}(e),{isReordering:F,reorderingPageIds:B,startReordering:U,cancelReordering:H,commitReordering:G,draggingState:z,updateDraggingState:Y}=function(e){let[t,n]=(0,a.useState)([]),i=(0,a.useRef)(null),[r,o]=(0,a.useState)(null),l=t.length>0,d=(0,c.U)(),u=(0,a.useCallback)(e=>{n(e),o(null),i.current=null},[]),p=(0,a.useCallback)(()=>{n(e=>e.length?[]:e),o(null),i.current=null},[]),m=(0,a.useCallback)((e,n)=>{if(t.includes(e)){o(null);return}let a=n.target;r&&r.dragOverPageId===e&&i.current||(i.current=a.getBoundingClientRect());let s=n.clientY-i.current.top<i.current.height/2?"before":"after";o(t=>t&&t.dragOverPageId===e&&t.insertPosition===s?t:{dragOverPageId:e,insertPosition:s})},[r,t]),h=(0,a.useCallback)(()=>!r||!l||t.includes(r.dragOverPageId)?(p(),!1):($.l7.user("reorder-pages",()=>{let n=(0,X.Pe)(e);"before"===r.insertPosition?[...t].sort((e,t)=>(n[e]??Number.MAX_SAFE_INTEGER)-(n[t]??Number.MAX_SAFE_INTEGER)).forEach(e=>{s.Egt?.pageMoveBeforePage(e,r.dragOverPageId)}):[...t].sort((e,t)=>(n[t]??Number.MAX_SAFE_INTEGER)-(n[e]??Number.MAX_SAFE_INTEGER)).forEach(e=>{s.Egt?.pageMoveAfterPage(e,r.dragOverPageId)})}),p(),d("page_reorder",{reorderedPageIds:t,dragOverPageId:r.dragOverPageId,insertPosition:r.insertPosition},{forwardToDatadog:!0}),!0),[e,l,t,p,r,d]);return{isReordering:l,reorderingPageIds:t,startReordering:u,cancelReordering:p,commitReordering:h,draggingState:r,updateDraggingState:m}}(e),{renamingPageId:ee,startRenaming:ei,cancelRenaming:ea,commitRenaming:er,pendingPageName:es,setPendingPageName:eo}=(0,Q.c)(e),el=en({pagesList:e,isComparingChanges:l});!function({pagesList:e,isDisabled:t,selectedPageIds:n,startRenaming:i,cancelMultiselect:r,cancelReordering:s}){(0,a.useEffect)(()=>{if(t)return;let a=t=>{let a=(0,X.Pe)(e),o=n.filter(t=>{let n=a[t];return void 0!==n&&!e[n].isDivider}).sort((e,t)=>a[e]-a[t]);if(0!==o.length)switch(t.keyCode){case W.Uz.ESCAPE:r(),s();break;case W.Uz.R:(0,W.Fo)(t)&&(1===o.length?i(o[0]):Z.Y5.triggerActionInUserEditScope("batch-page-rename",{args:{nodeIds:o}}))}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t,e,n,r,s,i])}({pagesList:e,isDisabled:t,selectedPageIds:P,startRenaming:ei,cancelMultiselect:D,cancelReordering:H}),(0,a.useEffect)(()=>{let e=()=>{D(),H()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[D,H]),(0,a.useEffect)(()=>{if(!F)return;let e=e=>{e.stopPropagation(),t?H():G()};return document.addEventListener("mouseup",e),()=>document.removeEventListener("mouseup",e)},[F,t,H,G]),(0,u.C)(v?.getScrollContainer(),F);let ed=(e,n)=>{H(),t||(0,g.i)(n)||J(n)||(P.includes(e)?U(P):(D(),U([e])))},ec=(e,n)=>{F&&!t&&(Y(e,n),n.preventDefault(),n.stopPropagation())},eu=(e,n)=>{if(t||J(n)){H();return}G()&&(n.preventDefault(),n.stopPropagation())},ep=(e,n)=>{n.stopPropagation(),!t&&M(e,n)||(0,_.J)(()=>{N&&S("Dev Mode Overview Page Clicked",{pageId:e}),el(e),d?.(e)})},em=({nodeId:e,e:t,clientX:i,clientY:a})=>{t.preventDefault(),t.stopPropagation(),n({nodeId:e,clientX:i??t.clientX,clientY:a??t.clientY})},eh=e=>{t||ei(e)},ef=e=>{ee&&(t||!e?ea():er())},eg=e=>!!m&&(j?e===j:e===T),e_=(0,a.useMemo)(()=>{let t=e[0];return!!t&&e.some(e=>e.pageType!==t.pageType)},[e]);return(0,i.jsx)("div",{ref:A,children:e.map((t,n)=>(0,i.jsx)("div",{children:(0,i.jsx)(et,{nodeId:t.nodeId,nodeName:t.name,isDivider:t.isDivider,isFirstRow:0===n,isLastRow:n===e.length-1,draggingState:z,pagesListRef:A,previewSummaryEnabled:0===B.length&&!t.isDivider&&ee!==t.nodeId,children:(0,i.jsx)(K.G,{activePageShouldUseBrandColor:y,hasMultiplePageTypes:e_,index:n,isActive:eg(t.nodeId),isComparingChanges:l,isDivider:t.isDivider,isOffline:I,isRenaming:ee===t.nodeId,nodeId:t.nodeId,nodeName:t.name,onClickCallback:ep,onContextMenuCallback:em,onMouseDownCallback:ed,onMouseMoveCallback:ec,onMouseUpCallback:eu,pageToNumChanges:p,pageType:t.pageType,pagesList:e,renamingPagePendingName:ee===t.nodeId?es:null,reorderingPageGuids:B,selectedPageGuids:P,setRenamingPagePendingName:eo,shouldShowGuids:R,shouldUseButtonRow:E,showInFileMemoryPercentage:w,showMemoryUsage:L,startRenaming:eh,stopRenaming:ef,versionHistory:O})})},t.nodeId))})}function et({nodeId:e,nodeName:t,isDivider:n,isFirstRow:l,isLastRow:u,children:h,draggingState:f,pagesListRef:g,previewSummaryEnabled:_}){let x=(0,a.useRef)(null),[y,v]=a.useState(!1),b=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===s.lyf.HISTORY),C=f&&f.dragOverPageId===e?"before"===f.insertPosition?l?"pages_list--withInsertBeforeTop--IQT63":"pages_list--withInsertBefore---ui-o":u?"pages_list--withInsertAfterBottom--yG3xD":"pages_list--withInsertAfter--7QoMA":null,E=(0,j.q5)(),[w,k]=(0,o.fp)(V.qp),S=(0,a.useMemo)(()=>E?.editorType===T._Y.WHITEBOARD&&!b,[E?.editorType,b]),N=(0,a.useMemo)(()=>y&&_&&S,[y,_,S]),L=function(e){let t=(0,j.q5)(),n=(0,O.Rs)(U.SPC,{fileKey:t?.key??""},{enabled:!!(t?.key&&e)});return A.Qw.useTransform(n,e=>{if(e?.file?.pagesSignedThumbnailData.status!==R.tT.Loaded)return null;try{if(!e?.file?.pagesSignedThumbnailData.data)return null;let t=JSON.parse(e.file.pagesSignedThumbnailData.data);return z.parse(t)}catch(n){return(0,P.$D)(I.e.FIGJAM,Error(`PageSummaryPreview: Failed to parse page thumbnail data. Error: ${n.message}.`),{tags:{fileKey:t?.key},extra:{parsedPageThumbnails:e?.file?.pagesSignedThumbnailData.data}}),null}})}(S),M=(0,a.useMemo)(()=>L?.data?.[e],[e,L?.data]),D=(0,a.useMemo)(()=>w===m.r.LOADING||"loading"===L.status,[w,L.status]);(0,a.useEffect)(()=>{M?.created_at&&k(m.r.SUCCESS)},[k,M?.created_at]);let F=(0,c.hC)(),B=(0,p.ZC)(S);return(0,a.useEffect)(()=>{!B&&N&&F("figjam_summary_preview.preview_shown",{previewPageId:e})},[F,e,N,B]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:d()("pages_list--pagesRowWrapper--Plig-",C,{"pages_list--divider--idUOu":n}),ref:x,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),"data-testid":"PagesRowWrapper",children:[h,y&&_&&S&&(0,i.jsx)(G,{"data-testid":"PageSummaryPreview",pagesListRef:g,pageRowRef:x,nodeId:e,nodeName:t,pageThumbnail:M,isLoading:D})]})})}function en({pagesList:e,isComparingChanges:t}){let n=(0,v.Z)("page_change_navigator_navigate"),i=(0,y.E)(),o=(0,c.U)(),l=(0,r.wA)(),d=(0,w._6)(),u=(0,b.dh)(),p=(0,r.d4)(e=>e.versionHistory);return(0,a.useCallback)(a=>(0,b.$P)(a,u,p,l,(0,E.Fy)(e,a)===s.xal.LOADED,o,n,i,t,d),[e,n,i,o,l,d,u,p,t])}function ei({pagesList:e,isComparingChanges:t,enabled:n=!0}){let i=(0,v.Z)("page_change_navigator_navigate"),o=(0,y.E)(),l=(0,c.U)(),d=(0,r.wA)(),u=(0,w._6)(),p=(0,b.dh)(n),m=(0,r.d4)(e=>e.versionHistory);return(0,a.useCallback)(async a=>{n&&await (0,b.$P)(a,p,m,d,(0,E.Fy)(e,a)===s.xal.LOADED,l,i,o,t,u)},[e,i,o,l,d,u,p,m,t,n])}},562921:(e,t,n)=>{n.d(t,{k3:()=>m,q0:()=>h});var i=n(716976),a=n(795033),r=n(409019),s=n(328341),o=n(222714),l=n(264830),d=n(985416),c=n(582689),u=n(65554),p=n(137783);function m({initialHeight:e,numberOfPages:t,upsellHeight:n,panelHeadersHeight:a,showingExtraControls:d,scrollContainerInnerRef:c,filterState:m,onHeightChange:f}){let[g,_]=(0,i.useState)(void 0),x=(0,i.useRef)(!1),{windowInnerHeight:y}=(0,o.l)(),v=(0,i.useCallback)(function(e){_(e),f?.(e)},[f]);(0,i.useLayoutEffect)(()=>{void 0===e||x.current||(_(e),x.current=!0)},[e]);let b=function({numberOfPages:e,upsellHeight:t,panelHeadersHeight:n,showingExtraControls:a,windowInnerHeight:r}){return(0,i.useMemo)(function(){let i=e*u.fr;return i=Math.ceil(i/u.fr)*u.fr+t+u.UA,a&&(i+=u.fr),Math.min(i,Math.round(.25*(r-(0,l.bG)()-u.Cg-n)))},[n,t,r,e,a])}({numberOfPages:t,upsellHeight:n,panelHeadersHeight:a,showingExtraControls:d,windowInnerHeight:y}),C=h({scrollContainerInnerRef:c,windowInnerHeight:y}),E=g?C(g):b;return function({filterState:e,computedHeight:t,defaultHeight:n,setHeight:a}){let o=(0,s.ZC)(t),l=(0,r.F)({previousComputedHeight:o,defaultHeight:n,setHeight:a});(0,i.useLayoutEffect)(()=>{if(void 0===e)return;let{previousComputedHeight:t,defaultHeight:n,setHeight:i}=l.current;t&&i(e===p.m.ALL?Math.max(t,n):Math.min(t,n))},[e,l])}({filterState:m,computedHeight:E,defaultHeight:b,setHeight:v}),{height:E,setHeight:v,defaultHeight:b}}function h({scrollContainerInnerRef:e,windowInnerHeight:t}){let{topLevelObjectRowHeight:n}=i.useContext(c.y0);return(0,i.useCallback)(function(i){return Math.max(1.5*u.fr,Math.min(i,t-(e.current?.getBoundingClientRect().top??175)-(1.5*n+(u.uF+u.ym))))},[e,t,n])}(0,d.Wh)(()=>(0,a.eU)(null))},137783:(e,t,n)=>{n.d(t,{m:()=>i});var i=(e=>(e.FILTERED="filtered",e.ALL="all",e))(i||{})},748672:(e,t,n)=>{n.d(t,{R:()=>et});var i=n(104076),a=n(716976),r=n(240803),s=n(680909),o=n(812714),l=n(511570),d=n.n(l),c=n(192075),u=n(643077),p=n(65554),m=n(641518),h=n(742549),f=n(489175),g=n(819851),_=n(48469),x=n(400690),y=n(681470),v=n(629592);function b({isReadOnly:e,isPagesOpen:t,isComparingChanges:n,hasMultiplePageTypes:r,onClickNewPage:l,onCanvasSearch:d,onPageContextMenu:c,recordingKey:p,title:b,tooltipText:C}){let E=(0,u.dh)(),j=(0,u.nn)(),w=(0,g.m0)(),T=(0,h.l7)(),k=r||(0,o.kc)().interop_pages,I=(e||w||T)&&!!d,S=(0,a.useCallback)(e=>{(0,f.jo)(e),t||c?.({nodeId:E,clientX:e.clientX,clientY:e.clientY})},[c,t,E]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Y9,{variant:"leftPanel",size:"lg",children:[I?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.JU,{htmlAttributes:{onContextMenu:S},recordingKey:m.Pt(p,"collapsedRow"),children:(0,i.jsx)("span",{className:v.W,"data-onboarding-key":"pages-panel-toggle",children:t?(0,i.jsx)("span",{children:b}):j||""})}),!n&&(0,i.jsx)(s.X0,{children:(0,i.jsx)(_._,{onClick:d})})]}):(0,i.jsx)(s.JU,{htmlAttributes:{onContextMenu:S},recordingKey:m.Pt(p,"collapsedRow"),children:b}),!e&&(0,i.jsx)(s.X0,{children:k?(0,i.jsx)(y.t,{recordingKey:p}):(0,i.jsx)(x.i,{onClick:l,recordingKey:m.Pt(p,"newPage"),tooltipText:C})})]})})}var C=n(876621),E=n(72138),j=n(772523),w=n(120074),T=n(490499),k=n(852415),I=n(903927),S=n(409019),N=n(555013),A=n(428147),L=n(366535),O=n(459494),R=n(111297),P=n(332795),M=n(936817),D=n(788127),F=n(259936),B=n(74620),U=n(211862),H=n(937505),V=n(944350),G=n(853039),z=n(562311),K=n(295253);function W({onHeightChange:e}){let t=(0,I.wA)(),n=(0,U.q5)(),r=(0,H.FC)(),s=(0,B.p8)("pagesList").length,o=(0,g.m0)(),l=(0,O.Fr)(),u=P.h.useTrackingContext({trigger:K.b.PAGE_TRACKER_UPSELL}),p=(0,S.F)(e),m=a.useCallback(e=>{p.current?.(e?.getBoundingClientRect().height||0)},[s]),h=(0,I.d4)(e=>e.isOpenFileLoadedFromLiveGraph),f=n?.team,_=n?.plan,x=f&&(0,z.canEditTeam)(f.id,r)&&!(0,G.XX)(f),y=f&&_&&f.canEdit&&_.tier===V.Ag.STARTER,v=(0,F.u8)({oldValue:x,newValue:y,newValueReady:h,label:D.A.PageTrackerUpsell.canEditStarterTeam,enableFullRead:(0,M.DQ)(M.Pw.GROUP_7),contextArgs:{planId:_?.id,isOpenFileLoadedFromLiveGraph:h}});if(s<=0||!n||o||!v)return null;let b=(0,G.Lj)(n);if((b<=1||b>=1/0)&&!l(n))return null;let C=()=>{let e=K.b.PAGE_TRACKER_UPSELL;t((0,L.to)({type:A.V,data:{upsellSource:e,teamId:f?.id,openCheckoutInNewTab:!0}}))},E=(0,i.jsx)(N.Us,{onClick:C,trusted:!0,"data-testid":"page_tracker_upsell_link",children:(0,c.tx)("fullscreen.pages_panel.see_plans_that_offer_more")}),j=(0,i.jsx)(N.Us,{onClick:C,trusted:!0,"data-testid":"page_tracker_upsell_link",children:(0,c.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")}),w=s/G.LF[n.editorType??V._Y.DESIGN],T=d()({"page_tracker_upsell--progressPartial--guOiP":w<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===w,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":w>1}),k=`${Math.trunc(100*Math.min(w,1))}%`,W={fileTeamId:f?.id,numPages:s,...u};return(0,i.jsx)(R.fu,{name:"Page Tracker Upsell",properties:W,children:(0,i.jsx)("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:m,"data-testid":"page_tracker_upsell",children:(0,i.jsxs)("div",{className:"page_tracker_upsell--upsellBody--yUAjd",children:[(0,i.jsx)("div",{className:"page_tracker_upsell--progressBar--fDCBY",children:(0,i.jsx)("div",{className:T,style:{width:k},"data-testid":"page_tracker_progress_bar"})}),(0,i.jsx)("p",{className:"page_tracker_upsell--upsellText--Ng-u0",children:(()=>{let e=G.LF[n.editorType??V._Y.DESIGN]-s;return e>=2?(0,i.jsxs)(i.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),(0,i.jsx)("br",{}),E]}):1===e?(0,i.jsxs)(i.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),(0,i.jsx)("br",{}),j]}):0===e?(0,i.jsxs)(i.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:G.LF[n.editorType??V._Y.DESIGN]}),(0,i.jsx)("br",{}),j]}):(0,i.jsxs)(i.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.all_free_pages_used"),(0,i.jsx)("br",{}),j]})})()})]})})})}var Z=n(569565),q=n(562921),X=n(843955),Y=n(639853);function J({pages:e,initialHeight:t,extraControls:n,panelHeadersHeight:r,onScroll:s,shouldHighlightActivePage:o,isComparingChanges:l,pageToNumChanges:c,isReadOnly:u,onPageContextMenu:p,filterState:m,onHeightChange:h}){let f=(0,w._Z)().isLoading,g=(0,a.useRef)(null);(0,X.a)({pagesList:e,scrollContainerRef:g});let _=(0,a.useRef)(null),[x,y]=(0,a.useState)(0),v=e.length,b=(0,T.o3)(T.nt.newResizablePanel),I=(0,T.o3)(T.nt.designPagePickerA11y),{height:S,setHeight:N,defaultHeight:A}=(0,q.k3)({initialHeight:t,numberOfPages:v,upsellHeight:x,panelHeadersHeight:r,showingExtraControls:!!n,scrollContainerInnerRef:_,filterState:m,onHeightChange:h});return(0,i.jsx)(C.V,{children:(0,i.jsx)(k.wV,{size:S,defaultSize:A,onResize:e=>{N(e),j.Uc("")},side:"bottom",className:f?Y.aY:Y.l$,children:(0,i.jsxs)(E.P,{scrollBarAlways:!1,ref:g,scrollContainerRef:_,className:d()(Y.jG,{[Y.ge]:!b}),onScroll:s,children:[(0,i.jsx)(Z.bU,{pages:e,scrollContainer:g.current??void 0,shouldHighlightActivePage:o,isComparingChanges:l,pageToNumChanges:c,isReadOnly:u,onContextMenu:p,shouldUseButtonRows:I}),n,(0,i.jsx)(W,{onHeightChange:y})]})})})}var Q=n(817679);let $="pages_panel--pagesPanelContent--ZGkcM",ee="pages_panel--pagesPanelContentBottomBorder--dozDy";function et({height:e,onHeightChange:t,isOpen:n,onToggle:l,showHeader:m=!0,pages:h,extraControls:f,filterState:g,panelHeadersHeight:_=p.uF,shouldHighlightActivePage:x=!0,isComparingChanges:y=!1,pageToNumChanges:v,isReadOnly:C,onPageContextMenu:E,onCanvasSearch:j}){let w="pagesPanel",[T,k]=(0,a.useState)(!1),I=(0,a.useCallback)(e=>{k(e>0)},[k]),S=(0,u.rE)(),N=n&&T,A=h.some(e=>h[0]&&e.pageType!==h[0].pageType);return(0,o.kc)().eu_fpl_collapse?(0,i.jsx)(r.o,{eventListeners:["onClick"],children:(0,i.jsx)("div",{className:d()($,{[ee]:m}),children:(0,i.jsxs)(s.bL,{isOpen:n,toggle:l,children:[m&&(0,i.jsx)(b,{hasMultiplePageTypes:A,isComparingChanges:y,isPagesOpen:n,isReadOnly:C,onCanvasSearch:j,onClickNewPage:()=>S(null),onPageContextMenu:E,recordingKey:w,title:(0,c.t)("fullscreen.pages_panel.pages"),tooltipText:(0,c.t)("fullscreen.pages_panel.add_new_page")}),(0,i.jsx)(s.UC,{children:(0,i.jsx)(J,{extraControls:f,filterState:g,initialHeight:e??void 0,isComparingChanges:y,isReadOnly:C,onHeightChange:t,onPageContextMenu:E,onScroll:I,pageToNumChanges:v,pages:h,panelHeadersHeight:_,shouldHighlightActivePage:x})})]})})}):(0,i.jsx)(r.o,{eventListeners:["onClick"],children:(0,i.jsxs)("div",{className:d()($,{[ee]:m}),children:[m&&(0,i.jsx)(Q.J,{hasMultiplePageTypes:A,hasScrollLine:N,isComparingChanges:y,isPagesOpen:n,isReadOnly:C,onCanvasSearch:j,onClickNewPage:()=>S(null),onPageContextMenu:E,onTogglePages:l,recordingKey:w,title:(0,c.t)("fullscreen.pages_panel.pages"),tooltipText:(0,c.t)("fullscreen.pages_panel.add_new_page")}),n&&(0,i.jsx)(J,{extraControls:f,filterState:g,initialHeight:e??void 0,isComparingChanges:y,isReadOnly:C,onHeightChange:t,onPageContextMenu:E,onScroll:I,pageToNumChanges:v,pages:h,panelHeadersHeight:_,shouldHighlightActivePage:x})]})})}},453373:(e,t,n)=>{n.d(t,{g:()=>s});var i=n(104076),a=n(602755),r=n(708669);function s(e){return(0,i.jsx)("div",{className:"pages_panel_chevron--chevron--3E6os","data-show-on-hover":e.isExpanded||void 0,children:e.isExpanded?(0,i.jsx)(a.O,{}):(0,i.jsx)(r.k,{})})}},722887:(e,t,n)=>{n.d(t,{v:()=>U,G:()=>B});var i=n(104076),a=n(716976),r=n(903927),s=n(382629),o=n(286138),l=n(684742),d=n(828073),c=n(597342),u=n(517796),p=n(66554),m=n(910176),h=n(266808),f=n(812714),g=n(795033),_=n(511570),x=n.n(_),y=n(641518),v=n(652539),b=n(192075),C=n(58212),E=n(819851),j=n(106112),w=n(120074),T=n(331497),k=n(835307),I=n(894210),S=n(750388),N=n(221586),A=n(893178),L=n(737139);function O({value:e,setValue:t,recordingKey:n,isDisabled:r,stopRenaming:s}){let o=(0,a.useRef)(null);(0,a.useEffect)(()=>{o.current?.select()},[]);let l=y.v_(n,"keydown",e=>{if(e.keyCode===N.Uz.ESCAPE)s(!1),e.stopPropagation();else if(e.keyCode===N.Uz.ENTER)e.preventDefault(),s(!0);else{if(e.keyCode!==N.Uz.TAB)return(0,A.jr)(e,A.W0.NO),y.aH;e.preventDefault(),s(!0)}}),d=y.AF(n,"change",e=>{r||t(e.currentTarget.value)}),c=y.iQ(n,"blur",()=>{s(!0)});return(0,i.jsx)(L.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"page_rename_input--input--s2o7Q",innerRef:o,onBlur:c,onChange:d,onKeyDown:l,spellCheck:!1,value:e})}var R=n(639853),P=n(255111),M=n(871428);function D({editorType:e}){switch(e){case h._YF.DESIGN:return(0,i.jsx)(d.k,{});case h._YF.WHITEBOARD:return(0,i.jsx)(v.B,{svg:M.A});case h._YF.SLIDES:return(0,i.jsx)(c.l,{});default:return null}}function F(e){let{isActive:t,isDivider:n,pageType:a,hasMultiplePageTypes:r}=e;return n||!r?null:(0,i.jsx)("div",{className:x()(R.n6,{[R.vu]:t}),children:(0,i.jsx)(D,{editorType:a})})}function B({pageType:e,hasMultiplePageTypes:t,nodeId:n,nodeName:o,isRenaming:l,startRenaming:d,stopRenaming:c,renamingPagePendingName:u,setRenamingPagePendingName:p,isActive:m,shouldShowGuids:_,onMouseDownCallback:T,onMouseUpCallback:N,onMouseMoveCallback:A,onClickCallback:L,reorderingPageGuids:M,selectedPageGuids:D,onContextMenuCallback:B,showMemoryUsage:V,showInFileMemoryPercentage:G,isOffline:z,isComparingChanges:K,pageToNumChanges:W,versionHistory:Z,isDivider:q,pagesList:X,index:Y,activePageShouldUseBrandColor:J,shouldUseButtonRow:Q}){let $=(0,r.wA)(),ee="whiteboard"===(0,E.lg)(),[et,en]=a.useState(!1),ei=(0,g.md)(S.l),ea=(0,k.Fk)((e,t,n)=>n?e.get(t)?.nodeMemoryUsage:null,n,G),er=(0,k.Fk)((e,t,n)=>n?e.get(t)?.rootMemoryUsage:null,n,G),es=a.useMemo(()=>(0,w.Fy)(X,n)===h.xal.LOADED,[n,X]),eo=h.h3O?.getSessionState()===h.kul.JOINED,el=a.useMemo(()=>z&&!eo&&!es&&!!h.h3O?.isIncrementalSession(),[z,es,eo]),ed=y.Pt("pagesPanel","row",Y)||"",ec=y.rf(ed,"contextmenu",e=>{e.preventDefault(),!el&&B&&B({nodeId:n,e})}),eu=y.rf(ed,"dblclick",()=>{el||l||d(n)}),ep=y.rf(ed,"click",e=>{if(!q&&!l){if(el){$(C.F.enqueue({type:"offline-page-switch",message:(0,b.t)("fullscreen.pages_panel.unavailable_offline")}));return}L(n,e)}}),em=a.useCallback(e=>{el||l||T(n,e)},[l,n,T,el]),eh=a.useCallback(e=>{l||A(n,e)},[l,n,A]),ef=a.useCallback(e=>{l||N(n,e)},[l,n,N]),eg=a.useCallback(()=>(0,s.uy)(ea)||(0,s.uy)(er)?"":(0,j.pr)(ea,er,!0),[ea,er]),e_=K&&W?.get(n)||0,ex=Z?.activeId&&"current_version"===Z.activeId,ey=V&&G&&!l&&ex,ev=!K&&!l,eb=q&&!m&&!l,eC=ee&&!l&&m&&D?.length===0,eE=x()({[R.mB]:eb,[R.oG]:!eb,[R.sl]:m,[R.sR]:eC&&et&&ei,[R.Pl]:J,[R.Dq]:0===M.length&&0===D.length,[R.As]:Q},0!==M.length||0!==D.length?D.includes(n)?R.wH:M.includes(n)?R.iB:0===M.length?R.Dq:"":""),ej=a.useRef(null),ew=a.useRef(!1),eT=a.useCallback(e=>{c(e),ew.current=!0},[c]);a.useLayoutEffect(()=>{!l&&ew.current&&ej.current&&(ej.current.focus(),ew.current=!1)},[l]);let ek=l&&(0,i.jsx)(O,{value:u||"",setValue:p,stopRenaming:eT,recordingKey:ed,isDisabled:el}),eI=el&&!eb&&(0,i.jsx)("div",{className:R.Nr,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline",children:(0,i.jsx)(v.B,{className:R.VQ,svg:P.A,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"})}),eS=(0,f.kc)().version_diffing&&K&&e_>0&&(0,i.jsx)("div",{className:R.Sp,children:e_}),eN=eC&&!t,eA=eN?(0,i.jsx)(H,{accessibleLabel:Q?(0,b.t)("fullscreen.pages_panel.page_row.more_actions",{pageName:o}):void 0,onContextMenuCallback:B,nodeId:n,isMoreActionsActive:et,setIsMoreActionsActive:en,isPageContextMenuOpen:ei,shouldAbsolutePositionButton:Q}):null,eL=(0,i.jsxs)(i.Fragment,{children:[!Q&&ek,eb?(0,i.jsx)("span",{className:R.jE,"data-testid":"pageDivider"}):!l&&(0,i.jsx)("div",{className:eN?R.R:R.Nz,children:(0,i.jsx)("span",{className:el?R.YW:R.KE,children:_?`${o} (${n})`:o})}),(0,i.jsxs)("div",{className:R.q8,children:[ev&&(0,i.jsx)(U,{pageGuid:n,fallback:(0,i.jsx)(F,{isActive:m,isDivider:q,pageType:e,hasMultiplePageTypes:t}),hideBackground:!0}),eI,ey&&(0,i.jsx)("span",{className:el?R.hi:R.VC,dir:"auto",children:eg()}),eS,!Q&&eA]})]});return Q?l?(0,i.jsxs)("div",{className:eE,draggable:!1,onContextMenu:ec,children:[ek,(0,i.jsxs)("div",{className:R.q8,children:[eI,eS]})]}):(0,i.jsxs)("div",{className:"pages_panel_row--pageRowContainer--oVnTb",children:[(0,i.jsx)("button",{ref:ej,"aria-current":m?"page":void 0,className:eE,draggable:!1,onClick:ep,onContextMenu:ec,onDoubleClick:eu,onMouseDown:em,onMouseMove:eh,onMouseUp:ef,type:"button",children:eL}),eA]}):(0,i.jsx)("div",{className:eE,draggable:!1,onClick:ep,onContextMenu:ec,onDoubleClick:eu,onMouseDown:em,onMouseMove:eh,onMouseUp:ef,children:eL})}function U({pageGuid:e,margin:t,fallback:n=null,hideBackground:a=!1}){let r=(0,T.ut)(h.Ez5?.currentSceneState().numReadyNodesByPage,null),s=(0,T.ut)(h.Ez5?.currentSceneState().numCompletedNodesByPage,null),l=r?.has(e)?r.get(e)>0:!!h.glU?.nodeStatusesOnPage(e).includes(h.zIx.BUILD),d=s?.has(e)?s.get(e)>0:!!h.glU?.nodeStatusesOnPage(e).includes(h.zIx.COMPLETED);return d&&!l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.E,{children:(0,b.t)("dev_handoff.status.completed")}),(0,i.jsx)(u.g,{className:"pages_panel_row--pageCompleted--gzdWd","data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.status.completed"),"data-testid":"pageCompletedIndicator"})]}):l||d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.E,{children:(0,b.t)("dev_handoff.tag.ready_to_build")}),(0,i.jsx)(p.O,{className:x()("pages_panel_row--pageReady--XaDiG",{"pages_panel_row--hideBackground--22Ike":a}),style:t?{[t]:"8px"}:void 0,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.tag.ready_to_build"),"data-testid":"pageReadyIndicator"})]}):n}function H({accessibleLabel:e,onContextMenuCallback:t,nodeId:n,isMoreActionsActive:r,isPageContextMenuOpen:s,setIsMoreActionsActive:o,shouldAbsolutePositionButton:d}){let c=a.useRef(null);return a.useEffect(()=>{s||o(!1)},[s,o]),(0,i.jsx)(l.E,{ref:c,"aria-label":e,htmlAttributes:d?void 0:{onDoubleClick:e=>e.stopPropagation()},onClick:e=>{o(!0);let i=c.current?.getBoundingClientRect();i&&t({nodeId:n,e,clientX:i.x+-4,clientY:i.y+i.height+10})},className:x()("pages_panel_row--pageMoreActionsButton--5Rty9",{"pages_panel_row--pageMoreActionsButtonActive--2dmC-":r&&s,"pages_panel_row--pageMoreActionsAbsolutePosition--S-xcp":d}),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.more_pages_actions"),"data-tooltip-show-above":!0,children:(0,i.jsx)(m.A,{className:"pages_panel_row--pageMoreActionsIcon--kzZVn"})})}},342053:(e,t,n)=>{n.d(t,{y:()=>s});var i=n(104076),a=n(511570),r=n.n(a);function s({children:e,withBorder:t,autoHeight:n=!1}){return(0,i.jsx)("div",{className:r()("tabs_header--tabsHeader--8rHi8",{"tabs_header--autoHeight--eXDMV":n,"tabs_header--withBorder--jZYSF":t}),children:e})}},817679:(e,t,n)=>{n.d(t,{J:()=>C});var i=n(104076),a=n(716976),r=n(684742),s=n(812714),o=n(511570),l=n.n(o),d=n(641518),c=n(236631),u=n(742549),p=n(489175),m=n(819851),h=n(643077),f=n(48469),g=n(347598),_=n(837080),x=n(400690),y=n(681470),v=n(453373),b=n(629592);function C({isReadOnly:e,isPagesOpen:t,isComparingChanges:n,hasMultiplePageTypes:o,hasScrollLine:C,onClickNewPage:E,onTogglePages:j,onCanvasSearch:w,onPageContextMenu:T,recordingKey:k,title:I,tooltipText:S}){let N=(0,h.dh)(),A=(0,h.nn)(),L=(0,m.m0)(),O=(0,u.l7)(),R=L||O,P=o||(0,s.kc)().interop_pages,M=(e||R)&&!!w,D=(0,a.useCallback)(e=>{(0,p.jo)(e),t||T?.({nodeId:N,clientX:e.clientX,clientY:e.clientY})},[T,t,N]);return(0,i.jsxs)(g.B,{onClick:e?j:void 0,hasScrollLine:C,children:[M?(0,i.jsxs)(_.H,{children:[(0,i.jsxs)(r.E,{onClick:j,className:b.Rm,htmlAttributes:{onContextMenu:D},recordingKey:d.Pt(k,"collapsedRow"),children:[(0,i.jsx)("span",{className:l()(b.II,{[b.dK]:O}),children:(0,i.jsx)(v.g,{isExpanded:t})}),(0,i.jsx)("span",{className:b.W,"data-onboarding-key":"pages-panel-toggle",children:t?(0,i.jsx)("span",{children:I}):A||""})]}),(0,i.jsx)("div",{className:l()(b.Co,{[b.dK]:n}),children:(0,i.jsx)(f._,{onClick:w})})]}):(0,i.jsx)(_.H,{children:(0,i.jsxs)(r.E,{onClick:j,className:b.Rm,recordingKey:d.Pt(k,"collapsedRow"),children:[(0,i.jsx)(v.g,{isExpanded:t}),(0,i.jsx)("span",{children:I})]})}),!e&&(0,i.jsx)("div",{className:c.s.flex.relative.mr8.justifyEnd.itemsCenter.$,children:P?(0,i.jsx)(y.t,{recordingKey:k}):(0,i.jsx)(x.i,{onClick:E,recordingKey:d.Pt(k,"newPage"),tooltipText:S})})]})}},502047:(e,t,n)=>{n.d(t,{K:()=>c,g:()=>u});var i=n(716976),a=n(903927),r=n(795033),s=n(147046),o=n(278491),l=n(383310),d=n(602443);function c(){let e=(0,a.wA)();return(0,i.useCallback)(({nodeId:t,clientX:n,clientY:i})=>{e((0,s.j7)({type:o.SA,data:{clientX:n,clientY:i,pageId:t}}))},[e])}function u({pagesList:e,shouldShowDuplicateOption:t=!0}){let n=(0,a.wA)(),[c,u]=(0,r.fp)(d.cE);return(0,i.useCallback)(({nodeId:i,clientX:a,clientY:r})=>{let d=new Set(e.map(e=>e.nodeId)),p=c.filter(e=>d.has(e));p.length>0&&!p.includes(i)&&d.has(i)&&(p.push(i),u(p));let m=(()=>{if(p.length>0){let t=(0,l.Pe)(e);return[...p].sort((e,n)=>t[e]-t[n])}return[i]})();0!==m.length&&n((0,s.j7)({type:o.d2,data:{clientX:a,clientY:r,pageIds:m,shouldShowDuplicateOption:t}}))},[c,n,e,u,t])}},843955:(e,t,n)=>{n.d(t,{a:()=>u});var i=n(716976),a=n(795033),r=n(983500),s=n(409019),o=n(643077),l=n(602443),d=n(404343);let c=(0,r.hG)(d.xM9);function u({pagesList:e,scrollContainerRef:t}){let n=(0,o.dh)(),r=(0,a.md)(l.l7),d=(0,s.F)(e),c=(0,s.F)(!!r);(0,i.useLayoutEffect)(()=>{c.current||p({pageId:n,pagesList:d.current,scrollContainerRef:t})},[n,t,d,c]),(0,i.useLayoutEffect)(()=>{r&&p({pageId:r,pagesList:d.current,scrollContainerRef:t})},[r,t,d])}function p({pageId:e,pagesList:t,scrollContainerRef:n}){let i=n.current;if(!i)return;let a=t.findIndex(t=>t.nodeId===e);if(-1===a)return;let r=a*c,s=r+c,o=i.getScrollTop(),l=o+i.getTrackHeight();r<o?i.scrollTo(r-c/2):s>l&&i.scrollTo(o+(s-l)+c/2)}},757218:(e,t,n)=>{n.d(t,{c:()=>g});var i=n(716976),a=n(903927),r=n(266808),s=n(980852),o=n(795033),l=n(166887),d=n(967782),c=n(661711),u=n(643077),p=n(120074),m=n(211862),h=n(733106),f=n(602443);function g(e){let t=(0,u.dh)(),[n,g]=(0,o.fp)(f.l7),[_,x]=(0,o.fp)(f.oZ),y=(0,m.q5)(),v=(0,a.wA)(),b=(0,u.rE)(),C=(0,a.d4)(e=>e.versionHistory),E=(0,l.am)(),j=(0,h.W)(),w=(0,i.useCallback)(e=>{g(e),r.glU?.triggerActionInUserEditScope("track-page-rename",{args:{nodeId:e}})},[g]),T=(0,i.useCallback)(()=>g(null),[g]),k=(0,i.useCallback)(async()=>{if(!n)return;let i=(0,s.UN)().get(n),a=i?.name,o=_||"",l=await (0,u.zO)({openFile:y,pageNode:i,pageName:o});if((0,u.CQ)({openFile:y,pageId:n,newName:o,oldName:a,trackRenamePage:()=>E("page_commit_rename",{nodeId:t,isDivider:l},{forwardToDatadog:!0})}),l&&t===n){let n=e.findIndex(e=>e.nodeId===t),i=n+1,a=e[i];for(;a&&a.isDivider;)i+=1,a=e[i];if(a)(0,c.J)(()=>(0,u.$P)(a.nodeId,t,C,v,(0,p.Fy)(e,a.nodeId)===r.xal.LOADED,E));else{let i=n-1,a=e[i];for(;a&&a.isDivider;)i-=1,a=e[i];a?(0,c.J)(()=>(0,u.$P)(a.nodeId,t,C,v,(0,p.Fy)(e,a.nodeId)===r.xal.LOADED,E)):b(null)}}g(e=>e===n?null:e),j({newTitle:o,nodeType:"PAGE"}),a!==o&&(0,h.d)(o).length>0&&(0,d.YQ)({id:"page_name_changed_with_rfd_indicator",properties:{pageId:n}})},[e,b,n,g,_,y,t,C,E,v,j]);return{renamingPageId:n,startRenaming:w,cancelRenaming:T,commitRenaming:k,pendingPageName:_,setPendingPageName:x}}},481836:(e,t,n)=>{n.d(t,{d:()=>o});var i=n(716976),a=n(903927),r=n(359166),s=n(211862);function o({defaultIsOpen:e}){let[t,n]=function(e){let t=(0,s.tS)(),[n,o]=(0,i.useState)(()=>t?l(t)??e:e);return(0,i.useLayoutEffect)(()=>{if(!t)return;let e=l(t);e&&o(e)},[t]),[n,(0,i.useCallback)(e=>{o(n=>{let i="function"==typeof e?e(n):e;return t&&function(e,t){let n=(0,r.TQ)();if(n){let i=JSON.parse(n.getItem("pages-panel")||"{}");if((0,a.bN)(i[e],t))return;i[e]=t,n.setItem("pages-panel",JSON.stringify(i))}}(t,i),i})},[t])]}({height:null,isOpen:e,devHandoffShowAllPages:!1}),o=(0,i.useCallback)(e=>{n(t=>({...t,isOpen:e}))},[n]),d=(0,i.useCallback)(e=>{n(t=>({...t,height:e}))},[n]),c=(0,i.useCallback)(e=>{n(t=>({...t,devHandoffShowAllPages:e}))},[n]);return{height:t.height,setHeight:d,isOpen:t.isOpen,setIsOpen:o,devHandoffShowAllPages:t.devHandoffShowAllPages,setDevHandoffShowAllPages:c}}function l(e){let t=(0,r.TQ)();if(t)return JSON.parse(t.getItem("pages-panel")||"{}")[e]}},434923:(e,t,n)=>{n.d(t,{Q:()=>D});var i=n(104076),a=n(716976),r=n(156412),s=n(266808),o=n(170627),l=n(511570),d=n.n(l),c=n(190028),u=n(641518),p=n(836982),m=n(555013),h=n(957581),f=n(236631),g=n(352630),_=n(192075),x=n(977745),y=n(260745),v=n(111297),b=n(810244),C=n(912610),E=n(402276),j=n(525972),w=n(792028),T=n(176203),k=n(437761),I=n(894210),S=n(959509),N=n(423683),A=n(697874),L=n(501883),O=n(737139),R=n(26950),P=n(691417);let M=class e extends a.PureComponent{constructor(){super(...arguments),this.onRemoveRelaunchData=e=>{o.l7.user("remove-plugin-relaunch-data",()=>s.NfO.removeRelaunchDataFromSelection(e))},this.onRelaunch=async e=>{let t=this.props.openFileKey;if(!t)return;if(!(0,S.Fr)()){j.R.instance.handleUpgrade(y.Q7.RUN_PLUGIN);return}let{canRun:n}=(0,C.JT)({plugin:e.plugin,editorType:this.props.editorType??T.nT.Design});if(n)return await j.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:t,command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:this.props.editorType===T.nT.DevHandoff?"handoff-relaunch":"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})},this.fetchPlugin=e=>{this.props.dispatch(x.af({id:e,resourceType:w.bD.PLUGIN}))},this.renderRelaunchRows=e=>{let t="";return e.map(e=>{let n=e.plugin.plugin_id,a=`${e.pluginTypeAndID}-${e.relaunchButton.command}`,r=(0,i.jsx)(F,{relaunchData:e,recordingKey:u.Pt(this.props,"relaunch",a),onRelaunch:this.onRelaunch,onRemoveRelaunchData:this.onRemoveRelaunchData,firstButtonForPlugin:n!==t,collapsibleStyling:this.props.isDevHandoff&&this.props.collapsible},a);return t=n,r})}}render(){let t=(0,C.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localPlugins,this.props.orgEntity,this.props.numSelected,(t,n)=>e.refreshCache.debounceRefresh(t,this.fetchPlugin.bind(this),n),k.FW.FIGMA);if(0===t.length)return null;let n=this.props.title??(0,_.t)("properties_panel.plugin.title");return this.props.isDevHandoff?(0,i.jsx)(p.k,{name:"inspection_panel",children:(0,i.jsx)(A.VZ,{title:n,collapsiblePanelKey:this.props.collapsible?"plugin-relaunch":void 0,recordingKey:"plugin",children:this.renderRelaunchRows(t)})}):(0,i.jsx)(p.k,{name:"plugin_panel",children:(0,i.jsxs)(O.Zk,{children:[(0,i.jsx)(O.fI,{children:(0,i.jsx)(L.Q,{children:n})}),this.renderRelaunchRows(t)]})})}};M.displayName="PluginPanel",M.refreshCache=new E.O(c.A.duration(1,"day"));let D=M;class F extends u.o6{constructor(){super(...arguments),this.onRelaunch=u.cZ(this,"click",()=>{this.props.onRelaunch(this.props.relaunchData)})}render(){return(0,i.jsx)(B,{...{...this.props,onRelaunch:this.onRelaunch,recordingKey:u.Pt(this.props,"removeButton")}})}}function B(e){let{plugin:t,relaunchButton:n}=e.relaunchData,a=(0,k.ZQ)(t)?(0,i.jsx)("div",{className:"plugin_panel--pluginIconLocal--44TyG",children:(0,i.jsx)(h.t,{svg:R.A,fallbackSvg:P.A})}):(0,i.jsx)("div",{className:"plugin_panel--pluginIcon--TvCDA plugin--pluginIconBase--yAG5F",children:(0,i.jsx)(N.V,{plugin:t})});return(0,i.jsxs)(v.fu,{name:"PluginRelaunchRow",properties:{pluginId:t.plugin_id},trackingTargets:b.K.RCS,children:[(0,i.jsx)(O.fI,{className:e.collapsibleStyling?"plugin_panel--rowButtonCollapsible--Vfrhx button_row--rowButton--s-r8y raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm button_row--_rowButton--EdZXq":"plugin_panel--rowButton--PxW5t button_row--rowButton--s-r8y raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm button_row--_rowButton--EdZXq",children:(0,i.jsxs)("div",{className:"plugin_panel--relaunchContainer--leq1l",children:[(0,i.jsx)(m.Yo,{className:"plugin_panel--relaunchButton--sEH4s",onClick:()=>e.onRelaunch(e.relaunchData),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":t.name,children:(0,i.jsxs)("div",{className:f.s.flex.itemsCenter.$,children:[(0,i.jsx)("div",{className:"plugin_panel--pluginIconContainer--o3Wvm",children:a}),(0,i.jsx)("div",{className:"plugin_panel--relaunchButtonName--Ol-Gy",children:(0,i.jsx)("div",{className:f.s.ellipsis.overflowHidden.noWrap.fontMedium.$,children:n.name})})]})}),(0,i.jsx)("div",{className:"plugin_panel--iconContainer--KltJf",children:(0,i.jsx)(g.Me,{recordingKey:e.recordingKey,trackingProperties:{action:"minus"},"aria-label":(0,_.t)("properties_panel.plugin.remove_tooltip"),onClick:()=>e.onRemoveRelaunchData(e.relaunchData.plugin.plugin_id),htmlAttributes:{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,_.t)("properties_panel.plugin.remove_tooltip")},children:(0,i.jsx)(r.O,{})})})]})}),!!n.description&&(0,i.jsx)("div",{className:d()("plugin_panel--relaunchDescription--TmxcU",e.collapsibleStyling&&"plugin_panel--relaunchDescriptionPadded--G2-Tl"),children:(0,i.jsx)("pre",{className:"plugin_panel--relaunchDescriptionText--8x1PM ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:n.description===k.Q7?(0,_.tx)("properties_panel.plugin.mixed_descriptions"):n.description})})]})}F.displayName="PluginRelaunchRow"},325751:(e,t,n)=>{n.d(t,{A:()=>H});var i=n(104076),a=n(716976),r=n(903927),s=n(276800),o=n(420680),l=n(240803),d=n(276926),c=n(816424);let u=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5V8h10v-.5a.5.5 0 0 0-.5-.5m.5 2H7v7.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5zM7.5 6A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm7 7a1 1 0 0 0-.486-.857l-2.5-1.5A1 1 0 0 0 10 11.5v3a1 1 0 0 0 1.515.857l2.5-1.5A1 1 0 0 0 14.5 13m-1.972-.583L13.5 13l-.972.583L12 13.9l-1 .6v-3l1 .6z",clipRule:"evenodd"})})});var p=n(266808),m=n(170627),h=n(795033),f=n(511570),g=n.n(f),_=n(641518),x=n(246144),y=n(836982),v=n(619511),b=n(192075),C=n(50536),E=n(784654),j=n(819851),w=n(687849),T=n(354114),k=n(553065),I=n(754446),S=n(74620),N=n(211862),A=n(205088),L=n(144386),O=n(894210),R=n(697874),P=n(589481),M=n(61796),D=n(341887),F=n(737139);function B({children:e,...t}){return(0,i.jsx)(v.k,{isVisible:!0,children:(0,i.jsx)(o.K,{...t,children:e})})}function U({selected:e,hasFocus:t,flowItemsCount:n,item:a,index:r,hasFile:s,fileKey:o,fileProtoUrl:m,isDragging:h,viewOnly:f,dispatch:x,onMouseDown:y,onMouseMove:v,onMouseUp:j,renamingStartingPointNodeId:w,setRenamingStartingPointNodeId:T,submitRename:k,selectFlowRowAndSetToEditName:I,recordingKey:S}){return(0,i.jsxs)(P.e,{className:"prototype_flows_panel--flowRow--pqvyi","data-testid":"prototype-flow-panel-row",dragging:h,onDoubleClick:()=>{var e;return e=a.nodeID,void(f||w===e||(T(e),p.X3B?.centerViewportOnNodeIfNecessary(e)))},onMouseDown:y,onMouseMove:v,onMouseUp:j,recordingKey:_.Pt(S,"draggableRow"),selected:e&&t,singletonRow:n<=1,children:[!f&&w&&w===a.nodeID?(0,i.jsx)(D.mZ,{defaultValue:a.prototypeStartingPoint.name||"",submitRename:e=>k(a.nodeID,e),recordingKey:_.Pt(S,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>I(e?r-1:r+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):(0,i.jsx)(F.JU,{className:"prototype_flows_panel--flowName--kg1JF",children:a.prototypeStartingPoint.name}),w!==a.nodeID&&(0,i.jsx)("div",{className:g()("prototype_flows_panel--panelInfoContainer--pVsR6","prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ"),children:(0,i.jsxs)(l.o,{display:"contents",eventListeners:["onMouseDown"],children:[(0,i.jsx)(B,{onClick:()=>{var e;return e=a.nodeID,void p.glU.selectInstances(e,!p.X3B?.isNodeVisibleInViewport(e))},"aria-label":(0,b.t)("proto.flows_panel.select_frame"),htmlAttributes:{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.select_frame")},children:(0,i.jsx)(d.A,{})}),(0,i.jsx)(B,{disabled:!s,onClick:()=>(function(e){let t=p.X3B?.currentDeviceType(),n=(0,L.vp)({scalingInfo:{viewportScalingMode:(0,A.qb)(t||p.bq3.NONE),contentScalingMode:(0,A.Rv)(t||p.bq3.NONE)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});x(C.lW({stringToCopy:`${m}${n}`}))})(a.nodeID),"aria-label":(0,b.t)("proto.flows_panel.copy_link"),htmlAttributes:{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")},children:(0,i.jsx)(c.r,{})}),(0,i.jsx)(B,{disabled:!o,onClick:function(){x((0,E.K)({fileKey:o,startingPointNodeId:a.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"aria-label":(0,b.t)("proto.flows_panel.preview"),htmlAttributes:{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.preview")},children:(0,i.jsx)(u,{})})]})})]},a.nodeID)}let H=function(e){let t=(0,I.kl)("prototypeStartingPointsInfo"),n=(0,r.d4)(N.sS)||"",o=(0,N.q5)(),l=(0,N.Cq)({useSinatraType:!0}),d=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),c=(0,S.eY)(),u=(0,j.m0)(),[f,g]=a.useState(null),v=(0,r.wA)(),C=u||e.viewOnly,E=(0,r.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&C),A=(0,k._W)(t,[]),{collapsedInspectionPanelAtom:L,collapseEnabled:O}=(0,R.QZ)("prototype_flows"),[P,D]=(0,h.fp)(L),B=a.useCallback(()=>{D(!P)},[D,P]);if(a.useEffect(()=>{l||(0,x.x1)("prototyping","No file available in flows panel",{fileKey:n})},[l,n]),!t||u&&0===(A=A.filter(e=>c.get(e.nodeID)?.visible)).length)return null;function H(e){let t=e;e>=A.length?t=0:e<0&&(t=A.length-1),T.Y5.updateAppModel({currentSelectedProperty:{type:p.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),g(A[t].nodeID)}function V(e,t){g(null),t&&m.l7.user("update-prototype-starting-point-name",()=>{p.glU.updatePrototypeStartingPointName(e,t)})}let G=u&&O&&P;return(0,i.jsx)(y.k,{name:"prototype_flows_panel",children:(0,i.jsx)(F.Zk,{className:P?"noBottomPadding":void 0,children:(0,i.jsx)(M.h6,{addProperty:s.lQ,boldHeaderRow:G,currentSelectedProperty:d,dispatch:v,hideAddButton:!0,isPanelBodyCollapsedAtom:O?L:void 0,onChange:e=>{if(0===e.length||0===d.indices.length)return;let t=A.filter((e,t)=>d.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=A[d.indices[0]].nodeID,i=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,a=A[d.indices[d.indices.length-1]].nodeID,r=e[e.length-1].nodeID===a?"":e[e.findIndex(e=>e.nodeID===a)+1].nodeID;m.l7.user("change-starting-points",()=>{p.glU.insertPrototypeStartingPointsBetween(t,i,r)})},onDeleteProperty:C?()=>{}:e=>{let t=A.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&p.glU.deletePrototypeStartingPoints(t)},onHeaderClick:O?B:void 0,openFile:o,pickerShown:null,propertyList:A,recordingKey:"prototypeFlowsList",renderProperty:(e,t,a,r,s,o,d,c,u)=>(0,i.jsx)(U,{dispatch:v,fileKey:n,fileProtoUrl:l?.prototype_url,flowItemsCount:A.length,hasFile:!!l,hasFocus:s,index:t,isDragging:r,item:e,onMouseDown:d,onMouseMove:c,onMouseUp:u,recordingKey:_.Pt("prototypeFlowsList",t),renamingStartingPointNodeId:f,selectFlowRowAndSetToEditName:H,selected:a,setRenamingStartingPointNodeId:g,submitRename:V,viewOnly:!!C},t),reversed:!1,selectedPropertyType:p.rrT.PROTOTOTYPE_STARTING_POINT,shouldIgnoreKeyboardEventDuplicateProperty:!0,showVisibleFlowsButton:C&&!G,stylePickerShown:{isShown:!1},title:(0,b.t)("proto.flows"),toggleVisibleFlows:e=>{O&&e.stopPropagation(),w.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:E})})})}},341887:(e,t,n)=>{n.d(t,{mZ:()=>z,Ay:()=>V});var i=n(104076),a=n(716976),r=n(903927),s=n(684742),o=n(420680),l=n(240803);let d=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var c=n(803126),u=n(816424),p=n(156412),m=n(266808),h=n(170627),f=n(511570),g=n.n(f),_=n(437540),x=n(221586),y=n(641518),v=n(619511),b=n(192075),C=n(50536),E=n(354114),j=n(553065),w=n(754446),T=n(211862),k=n(205088),I=n(144386),S=n(894210),N=n(415567),A=n(501883),L=n(878604),O=n(268389),R=n(983500),P=n(300535),M=n(361170),D=n(72138),F=n(404343);let B=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:r}){let[s,o]=(0,a.useState)(e?.description||""),l=(0,a.useRef)(s);(0,a.useEffect)(()=>{l.current=s},[s]);let d=(0,N.uQ)(),c=(0,a.useRef)(d),u=(0,a.useCallback)(()=>{h.l7.user("submit-prototype-starting-point-description",()=>{c.current&&m.glU.updatePrototypeStartingPointDescription(c.current,l.current)}),t()},[t]);(0,a.useEffect)(()=>u,[u]);let p=(0,a.useCallback)(()=>{h.l7.user("blur-prototype-starting-point-description",()=>{c.current&&m.glU.updatePrototypeStartingPointDescription(c.current,l.current)})},[]);return(0,a.useEffect)(()=>(window.addEventListener("blur",p),window.addEventListener("focus",p),()=>{window.removeEventListener("blur",p),window.removeEventListener("focus",p)}),[p]),(0,i.jsx)(L.bL,{defaultPosition:new M.Mi(n.x-(0,R.hG)(F.M0y),n.y),onClose:u,draggable:"header",children:(0,i.jsxs)(O.vo,{children:[(0,i.jsx)(O.Y9,{children:(0,i.jsx)(O.hE,{children:(0,b.t)("proto.starting_point_modal.description")})}),(0,i.jsx)(O.nB,{padding:0,children:(0,i.jsx)(D.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf",children:(0,i.jsx)("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto",children:(0,i.jsx)(P.X,{fallback:null,errorFallback:null,placeholder:(0,b.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:s,onInputChange:e=>{o(e)},onBlur:p,mountBehavior:"focusAndSelectAll",toolbarOptions:"minimal",toolbarProps:{"aria-label":(0,b.t)("proto.starting_point_modal.description")}})})})})]})})};var U=n(737139),H=n(596763);function V(e){let[t,n]=(0,w.lJ)("prototypeStartingPoint"),f=!!(0,_.R)(G),[x,L]=(0,a.useState)(!1),[O,R]=(0,a.useState)(j.E7(t)?.name||""),[P,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=j.E7(t)?.name||"";e!==O&&(R(e),!O&&P&&(M(!1),L(!0)))},[t,O,P]);let[D,F]=(0,a.useState)(!1),V=(0,a.useRef)(null),K=(0,N.Tv)(),W=(0,T.Cq)({useSinatraType:!0}),Z=!!W,q=W?.prototype_url,X=(0,r.d4)(e=>e.mirror.appModel.urlNodeId),Y=(0,r.wA)(),J=(0,a.useCallback)(()=>{F(!1)},[]);(0,a.useEffect)(()=>{J()},[J,K]);let Q=h.nc.user("delete-prototype-starting-points",()=>{K&&m.glU.deletePrototypeStartingPoints(K)}),$=y.rf(y.Pt(e.recordingKey,"minusButton"),"click",e=>{Q()}),ee=y.rf(y.Pt(e.recordingKey,"nameLabel"),"click",e=>{L(!0)});(0,a.useEffect)(()=>(E.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ee),()=>{E.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ee)}),[ee]);let et=y.rf(e.recordingKey,"click",e=>{M(!0),h.l7.user("add-prototype-starting-point",()=>{E.Y5.triggerAction("add-prototype-starting-point")})}),en=K&&K.length>1,ei=(0,j._W)(t,{}),ea=(0,i.jsx)(i.Fragment,{children:x?(0,i.jsx)(z,{defaultValue:O,submitRename:function(e){L(!1),e?n({name:e,description:(0,j.E7)(t)?j.E7(t)?.description:"",position:(0,j.E7)(t)?j.E7(t)?.position:""}):R(j.E7(t)?.name||"")},recordingKey:y.Pt(e,"startingPointNameInput")}):(0,i.jsx)(s.E,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ee,"aria-label":(0,b.t)("proto.starting_points.edit_flow_title"),children:O})}),er=(0,i.jsx)(o.K,{onClick:()=>{F(!0)},htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.edit_description")},"aria-label":(0,b.t)("proto.starting_points.edit_description"),recordingKey:y.Pt(e,"startingPointPanelIcon"),children:(0,i.jsx)(d,{})}),es=(0,i.jsx)(H.DE,{ref:V,label:null,input:ea,icon:er});return f?(0,i.jsxs)(U.Zk,{children:[(0,i.jsxs)(U.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R",children:[(0,i.jsx)(A.Q,{extended:!0,children:(0,b.tx)("proto.starting_points.flow_starting_point_title")}),(0,i.jsx)("span",{className:"prototype_starting_point_panel--fadeOutOnUnhover--6-o5B",children:!en&&(0,i.jsx)(v.k,{isVisible:!0,children:(0,i.jsx)(o.K,{disabled:!Z,onClick:()=>(function(e,t,n){let i=m.X3B?.currentDeviceType()??m.bq3.NONE,a=(0,I.vp)({scalingInfo:{viewportScalingMode:(0,k.qb)(i),contentScalingMode:(0,k.Rv)(i)},nodeId:void 0,startingPointNodeId:n,showHotspots:void 0});e(C.lW({stringToCopy:`${t}${a}`}))})(Y,q,X),htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")},"aria-label":(0,b.t)("proto.flows_panel.copy_link"),children:(0,i.jsx)(u.r,{})})})}),(0,i.jsx)("span",{className:"prototype_starting_point_panel--rightIconButton--ID6ZQ",children:(0,i.jsx)(o.K,{onClick:$,htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.delete_starting_point_tooltip"),children:(0,i.jsx)(p.O,{})})})]}),en?(0,i.jsx)(U.fI,{children:(0,i.jsx)(U.nV,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi",children:(0,b.tx)("proto.starting_points.click_to_remove_mixed_content")})}):(0,i.jsxs)(i.Fragment,{children:[es,D&&(0,i.jsx)(B,{startingPoint:ei,closeModal:J,parentPanelRectObject:V.current.getBoundingClientRect(),recordingKey:y.Pt(e,"startingPointDescriptionModal")})]})]}):en?null:(0,i.jsx)(U.Zk,{children:(0,i.jsxs)(U.fI,{className:g()("prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR draggable_list--hover--yEfA5","prototype_starting_point_panel--hover--5t-WV"),children:[(0,i.jsx)(A.Q,{faded:!0,extended:!0,children:(0,i.jsx)(s.E,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onClick:et,recordingKey:y.Pt(e,"panelTitle"),children:(0,b.tx)("proto.starting_points.flow_starting_point_title")})}),(0,i.jsx)("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--",children:(0,i.jsx)(l.o,{eventListeners:["onMouseDown"],display:"contents",children:(0,i.jsx)(o.K,{onClick:et,htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.add_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.add_starting_point_tooltip"),recordingKey:y.Pt(e,"plusButton"),children:(0,i.jsx)(c.e,{})})})})]})})}function G(e){return e.mirror.selectionProperties.prototypeStartingPoint}function z(e){let[t,n]=a.useState(e.defaultValue),r=y.AF(e.recordingKey,"change",e=>{n(e.target.value)}),s=y.iQ(e.recordingKey,"blur",h.nc.user("rename-starting-point",()=>e.submitRename(t))),o=y.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===x.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return(0,i.jsx)(l.o,{eventListeners:["onMouseDown"],display:"contents",children:(0,i.jsx)("input",{"aria-label":(0,b.t)("proto.starting_points.edit_flow_title"),autoFocus:!0,className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,dir:"auto",onBlur:s,onChange:r,onFocus:e=>{e.currentTarget.select()},onKeyDown:o,placeholder:"Flow name",type:"text"})})}},948311:(e,t,n)=>{n.d(t,{v2:()=>ey,Ds:()=>e_});var i=n(104076),a=n(716976),r=n(903927),s=n(420680),o=n(293422),l=n(429120),d=n(602755),c=n(266808),u=n(812714),p=n(795033),m=n(641518),h=n(2713),f=n(11395),g=n(236631),_=n(192075),x=n(142914),y=n(607804);n(120440);var v=n(33091),b=n(366535),C=n(211862),E=n(643898),j=n(519414);function w(){let e=(0,r.wA)(),t=(0,C.q5)(),n=(0,p.md)(v.o),a=!!t&&(0,E.Pe)(t);return(0,i.jsx)("div",{className:"x1057jvv xnfn54o",children:(0,i.jsx)(o.WW,{variant:"secondary",disabled:a||n.isExporting,onClick:()=>e(b.to({type:j.p})),children:(0,_.t)("fullscreen.toolbar.buzz.export")})})}var T=n(988681),k=n(549571),I=n(819851),S=n(244399),N=n(551037),A=n(835258),L=n(915013),O=n(592726),R=n(443208),P=n(467111),M=n(859802),D=n(286911),F=n(819222),B=n(911865),U=n(964231),H=n(67282),V=n(375e3),G=n(813141),z=n(167151),K=n(382827),W=n(17933),Z=n(684742),q=n(816424),X=n(511570),Y=n.n(X),J=n(755444),Q=n(124125),$=n(58212),ee=n(203132),et=n(687849),en=n(54092),ei=n(76365),ea=n(894210),er=n(564941),es=n(236202),eo=n(746818),el=n(910950);let ed={"present-slides-audience-view":"set-slides-audience-view","present-slides-presenter-view":"set-slides-presenter-view"};function ec(){let[e,t]=a.useState(!1),{getTriggerProps:n,getContainerProps:r,getArrowProps:s}=W.fP({isOpen:e,onOpenChange:t,type:"tooltip",placement:"bottom-end",softDismiss:!0}),o=!(0,en.Zr)("present-slides-audience-view");return(0,i.jsxs)("div",{className:Y()(el.fullHeightSidebarFlyout,{"slides_present_popover--popoverButtonActive---2tRc":e,[el.disabledFullHeightSidebarFlyout]:o}),"data-tooltip-type":ea.Ib.LOOKUP,"data-tooltip":"present-slides-audience-view","data-onboarding-key":eo.J5,"data-testid":"present-slides-audience-view",children:[(0,i.jsx)(Z.E,{actionOnPointerDown:!0,htmlAttributes:{"data-testid":"slides-presentation-flyout-button"},className:Y()(el.fullHeightSidebarFlyoutButton,"slides_present_popover--popoverButton--aAPlW",{"slides_present_popover--popoverButtonDisabled--J-LyW":o}),"aria-label":(0,_.t)("fullscreen.flyout.slides_presentation"),recordingKey:"slidesPresentationFlyout",...n(),children:(0,i.jsx)(l.K,{})}),(0,i.jsxs)(W.mc,{...r({className:"slides_present_popover--popoverContainer--9Slvg"}),children:[(0,i.jsx)(W.i3,{...s()}),(0,i.jsx)(eu,{})]})]})}function eu(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"slides_present_popover--optionsContainer--onjlH",children:[(0,i.jsx)(ep,{}),(0,i.jsx)(em,{})]}),(0,i.jsx)(ef,{})]})}function ep(){return(0,i.jsx)(eh,{action:"present-slides-audience-view",icon:(0,i.jsx)(ee.V,{}),description:(0,_.t)("fullscreen_actions.present-slides-description"),recordingKey:"audienceViewPresent"})}function em(){return(0,i.jsx)(eh,{action:"present-slides-presenter-view",icon:(0,i.jsx)(ee.y,{}),description:(0,_.t)("fullscreen_actions.present-slides-presenter-view-description"),recordingKey:"presenterViewPresent"})}function eh({action:e,icon:t,description:n,recordingKey:a}){let s=(0,r.d4)(ei.nj),o=(0,en.Zr)(e),l=(0,es.Jg)(e),d=(0,er.c1)(s.keyboardShortcuts,e);return(0,i.jsx)(Z.E,{className:"slides_present_popover--presentOptionButton--Lhjzj",onClick:t=>{et.VU.get(ed[e],"toolbar")(t)},disabled:!o,recordingKey:a,children:(0,i.jsxs)("div",{className:"slides_present_popover--presentOptionButtonContent--fS6qx",children:[(0,i.jsx)("h3",{className:"slides_present_popover--presentOptionName--IyAoT slides_present_popover--text--84FoS",children:l}),(0,i.jsx)(Q.S,{shortcut:d,className:"slides_present_popover--shortcut--RMmIC"}),(0,i.jsx)("div",{className:"slides_present_popover--presentOptionButtonIcon--aquNW",children:t}),(0,i.jsx)("p",{className:"slides_present_popover--presentOptionDescription--0NTTE",children:n})]})})}function ef(){let e=(0,C.tS)(),t=(0,r.wA)(),n=a.useCallback(()=>{let n=`${(0,J.Ay)().figma_url}/deck/${e}`;navigator.clipboard.writeText(n),t($.F.enqueue({type:"copy-presentation-link-success",message:(0,_.t)("fullscreen_actions.copy-presentation-link-success")}))},[e,t]);return(0,i.jsxs)(Z.E,{onClick:n,htmlAttributes:{"data-onboarding-key":eo.FM},className:"slides_present_popover--copyPresentationLinkButton--EGEdD",children:[(0,i.jsx)(q.r,{}),(0,_.tx)("fullscreen_actions.copy-presentation-link")]})}var eg=n(691201);let e_=(0,p.eU)(0);function ex(e){let{isRightPanelCollapsed:t}=a.useContext(R.t),n=(0,r.wA)(),v=(0,K.sO)(),b=(0,z.cJ)(),C=(0,y.to)()&&(0,y.HH)(),E=(0,I.HW)(),j=(0,L.dR)(),W=(0,r.d4)(e=>e.multiplayer),Z=a.useMemo(()=>W.allUsers.find(e=>e.sessionID===W.sessionID)||null,[W.allUsers,W.sessionID]),q=(0,h.B4)(),X=E?null:e.openFile,Y=(0,S.DG)(X?.key||"").enabled,J=(0,A.ck)(),Q=a.useRef(null),$=(0,p.Xr)(e_),ee=(0,N.k)(),et=(0,T.e)(),en=(0,G.G)(),ei=(0,k.xo)(),ea=(0,O.iZ)(),er=(0,f.WN)();a.useEffect(()=>{Q.current&&t&&$(Q.current.clientWidth)},[t,Q,$,W.allUsers]);let es=a.useCallback(e=>{(0,M.Lx)(e,Z?.sessionID,n,E,W,j,q)},[Z?.sessionID,n,E,W,j,q]);return(0,i.jsx)("div",{ref:Q,children:null===X?(0,i.jsx)("div",{className:eg.tU,children:(0,i.jsx)(P.YJ,{})}):(0,i.jsxs)("div",{className:eg.Yg,children:[(0,i.jsxs)("div",{className:eg.kb,children:[(0,i.jsx)(D.sK,{isUI3:!0}),ei&&ea&&(0,i.jsx)(x.H8,{user:{...ea,id:ea.id}}),W&&e.openFile&&Z&&!ei&&(0,i.jsx)(M.v7,{thresholdUsesContainerWidth:!0,multiplayer:W,currentUser:Z,onUserClick:ee?()=>er(c.rcl.FOLLOW_PRESENTER):es})]}),(t||ee)&&!C&&(0,i.jsx)("div",{className:eg.wR,children:(0,i.jsx)(V.H,{recordingKey:m.Pt("header","zoomMenu")})}),(0,i.jsx)("div",{className:eg.Oh,children:(0,i.jsxs)("div",{className:g.s.flex.itemsCenter.$,children:[!J&&!C&&(!(0,u.kc)().slides_a11y_present_button||!v)&&(et||!en)&&!ee&&(0,i.jsx)(H.QE,{item:b?U.Ax:v&&!(0,u.kc)().slides_a11y_present_button?B.IS:U.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),ee&&!C&&!en&&(0,i.jsxs)("div",{className:g.s.flex.flexRow.$,children:[(0,i.jsx)(s.K,{"aria-label":(0,_.t)("fullscreen_actions.present-as-prototype"),onClick:()=>er(c.rcl.PRESENT_AS_PROTOTYPE),children:(0,i.jsx)(l.K,{})}),(0,i.jsx)(s.K,{"aria-label":(0,_.t)("fullscreen.flyout.prototype_view"),onClick:()=>er(c.rcl.PRESENT_AS_PROTOTYPE),children:(0,i.jsx)(d.O,{})})]}),C&&(0,i.jsx)(w,{}),v&&(0,u.kc)().slides_a11y_present_button&&(0,i.jsx)(ec,{}),ee&&(0,i.jsx)("div",{style:{marginLeft:8,marginRight:8},children:(0,i.jsx)(o.WW,{variant:"secondary",onClick:()=>er("SHARE_BUTTON"),children:(0,_.t)("fullscreen.toolbar.multiplayer.share")})}),X&&!ee&&(0,i.jsx)(F.w,{user:e.user,editingFile:X,isFileInWorkshop:Y,appendedClassname:eg.OI})]})})]})})}function ey({recordingKey:e}){let t=(0,C.q5)(),n=(0,r.d4)(e=>e.user);return(0,i.jsx)(ex,{recordingKey:e,openFile:t,user:n,isIntegration:(0,A.ck)()})}},251951:(e,t,n)=>{n.d(t,{wu:()=>z,yj:()=>K});var i=n(104076),a=n(716976),r=n(903927),s=n(667693),o=n(420680),l=n(649238),d=n(387092),c=n(812714),u=n(783728),p=n.n(u),m=n(219199),h=n(641518),f=n(246144),g=n(652539),_=n(192075),x=n(366535),y=n(968169),v=n(331497),b=n(76365),C=n(564914),E=n(894210),j=n(288054),w=n(699914),T=n(954741),k=n(236631),I=n(596763);let S=a.forwardRef(function({labelTx:e,input:t,icon:n},a){return(0,i.jsx)(I.fn,{ref:a,leftInput:(0,i.jsx)("span",{className:k.s.textBodyMedium.pl1.flex.$,children:e}),rightInput:t,icon:n,leftLabel:null,rightLabel:null})});var N=n(916051),A=n(664320),L=n(304900);function O(){return(0,i.jsx)("div",{className:"x10l6tqk xl8wat7 x1neqaik x1vjfegm",children:(0,i.jsx)("svg",{viewBox:"0 0 18 24",className:"xxk0z11",children:(0,i.jsx)("path",{className:"x8mtndw xbocpqy",strokeWidth:"1",d:"M -1 0.5h 1a 5 5 0 0 1 5 5q 0 4 4 4 q 4 0 4 -4a 5 5 0 0 1 5 -5h 1v 23h -1a 5 5 0 0 1 -5 -5q 0 -4 -4 -4 q -4 0 -4 4a 5 5 0 0 1 -5 5h -1z"})})})}function R(e){let{leftInput:t,rightInput:n,icon:a}=e;return(0,i.jsx)(I.fn,{leftInput:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1n2onr6",children:[(0,i.jsx)(O,{}),(0,i.jsx)("div",{className:"xh8yej3 x1pc0aet",children:t})]}),leftLabel:(0,_.t)("variables.create_modal.collection_label"),rightLabel:(0,_.t)("variables.mode_picker.mode_header"),rightInput:(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1n2onr6",children:(0,i.jsx)("div",{className:"xh8yej3 x1pc0aet",children:n})}),icon:a})}n(120440);var P=n(488748);let M="variable_mode_entries--infoIconContainer--DmUPj",D="variable_mode_entries--infoIcon--JylKl";var F=n(230645);let B=T.l6,U=T.c$,H=T.l6,V=T.c$;function G({modeOptions:e,inheritedModeID:t,isShowingGuids:n}){return{format:i=>{if(i===A.iw.LEARN_MORE)return(0,_.t)("variables.modes.option.learn_more");if(i===A.iw.REVIEW_UPDATES)return(0,_.t)("variables.modes.option.review_updates");if(i===A.UE){if(t===A.Mo)return(0,_.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:(0,_.t)("variables.mode_properties_panel.select.option.mixed")});let n=e.find(e=>s.c2(e.modeId,t))?.name;return n?(0,_.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:n}):(0,_.t)("variables.mode_properties_panel.select.option.auto")}{if(i===A.Ws)return 0===e.length&&(0,f.x1)("variables","No mode options available"),(0,_.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:e[0].name??""});if(i===A.Mo)return(0,_.t)("variables.mode_properties_panel.select.option.mixed");if(i===A.Yn)return(0,_.t)("variables.mode_properties_panel.select.option.deleted");let t=e.find(e=>(0,s.c2)(e.modeId,i));return t?n?`${t.name} (${t.modeId.guid})`:t.name:((0,f.x1)("variables","Option does not exist in modeOptions"),(0,_.t)("variables.mode_properties_panel.select.option.deleted"))}},isEqual:(e,t)=>(0,s.c2)(e,t)}}function z({fill:e,showExplicitOnly:t,recordingKey:n}){let s=(0,A.kN)(),o=(0,v.J2)((0,y.UK)().showGuids),l=(0,r.d4)(b.Sh),c=a.useMemo(()=>JSON.stringify(l),[l]),u=(0,A.hZ)(),p=(0,A.cd)(),m=Object.entries(s),f=a.useMemo(()=>m.sort(([e,t],[n,i])=>t.libraryKey!==i.libraryKey?t.libraryKey?i.libraryKey?t.libraryKey.localeCompare(i.libraryKey):1:-1:t.collectionName.localeCompare(i.collectionName)),[m]);return(0,i.jsx)(i.Fragment,{children:f.map(([a,r])=>{let s=r.inheritMode,l=r.explicitMode;return(0,i.jsx)(K,{explicitModeID:l,fill:e,inheritedModeID:s,isShowingGuids:o,modeOptions:r.modeOptions,onChange:(e,t)=>{p(e,(0,d.yG)(a),()=>{u(a,e,t)})},recordingKey:h.Pt(n,`variableModeEntry-${t}`),showExplicitOnly:t,variableSetKey:a,variableSetName:r.collectionName},`variable-mode-entry-${a}-${t}-${c}`)})})}function K(e){let{fill:t,showExplicitOnly:n,variableSetName:d,variableSetKey:u,modeOptions:f,explicitModeID:y,inheritedModeID:v,isShowingGuids:b,recordingKey:k,hideRemoveButton:I,onChange:O}=e,z=(0,r.wA)(),K=(0,r.d4)(e=>e.dropdownShown),W=(0,A.ZP)(),Z=y&&y!==A.Mo&&f.every(e=>!(0,s.c2)(e.modeId,y)),q=A.Ws;Z?q=A.Yn:y?q=y:v&&(q=A.UE);let X=a.useId(),Y=G({modeOptions:f,inheritedModeID:v,isShowingGuids:b}).format(q),[J,Q]=a.useState(n),$=a.useCallback((e,t,n)=>{O(e,n),void 0!==t&&Q(t)},[O]),ee=(0,L.T)(u,f,y,v??null),et=(0,c.kc)().ds_extended_collections&&ee.collectionsInFamily.size>1,en=a.useMemo(()=>(0,c.kc)().ds_extended_collections?function(e,t){let n=[],a=(0,i.jsx)("div",{className:M,children:(0,i.jsx)(g.B,{className:D,svg:F.A})});for(let t of e.formattedModeOptions)t.type===L.Z.Standard&&t.modeId.collectionKey===e.activeCollectionKeyInFamily&&n.push((0,i.jsx)(U,{value:t.modeId,fullWidth:!0,rightSettingsIcon:t.isCompatible?void 0:a},`mode-option-${t.modeId.guid}`));return e.hasIncompatibleMode&&(n.push((0,i.jsx)(T.sK,{})),n.push((0,i.jsx)(U,{value:t,iconToReplaceCheck:a},t===A.iw.REVIEW_UPDATES?"incompatible-modes-updates":"incompatible-modes-learn-more"))),n}(ee,W):function(e,t,n,a){let r=[];if(0===t.length)return r;let s=p()(t,e=>e.modeId.collectionKey),o=(0,i.jsx)("div",{className:M,children:(0,i.jsx)(g.B,{className:D,svg:F.A})});return Object.entries(s).map(([t,a])=>{for(let s of(r.length>0&&a.length>0&&r.push((0,i.jsx)(T.sK,{})),a))r.push((0,i.jsx)(U,{value:s.modeId,recordingKey:h.Pt(e,`varSetSelect=${t}`,`value=${s.modeId.guid}`,`varSetKey=${t}`),fullWidth:!0,rightSettingsIcon:s.isCompatible?void 0:o},`mode-option-${t}-${s.modeId.guid}-${n}`))}),t.some(e=>!e.isCompatible)&&(r.push((0,i.jsx)(T.sK,{})),a===A.iw.REVIEW_UPDATES?r.push((0,i.jsx)(U,{value:A.iw.REVIEW_UPDATES,iconToReplaceCheck:o,recordingKey:h.Pt(e,"incompatible-modes-review-updates")},"incompatible-modes-updates")):a===A.iw.LEARN_MORE&&r.push((0,i.jsx)(U,{value:A.iw.LEARN_MORE,iconToReplaceCheck:o,recordingKey:h.Pt(e,"incompatible-modes-learn-more")},"incompatible-modes-learn-more"))),r}(k,f,n,W),[k,f,n,W,ee]),ei=a.useMemo(()=>({format:e=>e===A.Mo?(0,_.t)("variables.mode_properties_panel.select.option.mixed"):ee.collectionsInFamily.get(e)??e,isEqual:(e,t)=>e===t}),[ee.collectionsInFamily]),ea=a.useCallback(e=>{let t=ee.getSelectedModeForNewSet(e,q);t&&(O(t.modeId,t.name),Q(!1))},[q,ee,O]);if(f.length<2||J&&!y)return null;let er=q===A.Mo,es=!!v,eo=!et||v===A.Mo||v?.collectionKey===ee.activeCollectionKeyInFamily,el=!et||f[0]?.modeId.collectionKey===ee.activeCollectionKeyInFamily,ed=function(e,t,n,a,r,s,o){let l=[];return n&&l.push((0,i.jsx)(U,{value:A.Mo,recordingKey:h.Pt(e,"value:MIXED"),selected:!0},A.Mo),(0,i.jsx)(T.sK,{})),a?r&&l.push((0,i.jsx)(U,{value:A.UE,recordingKey:h.Pt(e,"value:INHERIT")},A.UE),(0,i.jsx)(T.sK,{})):o.length>0&&s&&l.push((0,i.jsx)(U,{value:A.Ws,recordingKey:h.Pt(e,"value:DEFAULT"),disabled:!o[0].isCompatible,selected:t===A.Ws},A.Ws),(0,i.jsx)(T.sK,{})),t===A.Yn&&l.push((0,i.jsx)(U,{value:A.Yn,recordingKey:h.Pt(e,"value:DELETED"),disabled:!0,selected:!0},A.Yn)),l}(k,q,er,es,eo,el,f),ec=(0,i.jsxs)(B,{ariaLabelledBy:X,chevronClassName:P.ai,dispatch:z,dropdownAlignment:"right",dropdownShown:K,dropdownWidth:200,fill:t,formatter:G({modeOptions:f,inheritedModeID:v,isShowingGuids:b}),id:`var-set-mode-${u}-${n}`,inputClassName:P.UZ,onChange:e=>{e===A.iw.LEARN_MORE?m.Ay.unsafeRedirect(A.Yc,"_blank"):e===A.iw.REVIEW_UPDATES?z(x.to({type:w.T,data:{initialTab:C.Wv.UPDATES,entrypoint:j.r6.VARIABLE_MODE_INCOMPATIBLE_REVIEW_UPDATES_DROPDOWN_OPTION}})):$(e,!1,G({modeOptions:f,inheritedModeID:v,isShowingGuids:b}).format(e))},property:q,recordingKey:h.Pt(k,`varSetSelect=${u}`),tooltip:Y,children:[...ed,...en]}),eu=(0,i.jsx)("span",{className:"variable_mode_entries--ui3VariableSetName--eqW9C variable_mode_entries--variableSetName--hmoV4","data-testid":"variableModeEntry",children:d}),ep=(0,i.jsx)(o.K,{"aria-label":(0,_.t)("general.remove"),onClick:()=>$("INHERIT",!0),actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,_.t)("general.remove"),"data-tooltip-type":E.Ib.TEXT},children:(0,i.jsx)(l.f,{})});if(et){let e=(0,i.jsxs)(H,{dispatch:z,dropdownAlignment:"right",dropdownShown:K,dropdownWidth:200,fill:t,formatter:ei,id:`variable-set-in-family-select-${u}-${n}`,inputClassName:P.UZ,onChange:ea,property:ee.activeCollectionKeyInFamily,recordingKey:h.Pt(k,`varSetInFamilySelect=${u}`),children:["MIXED"===ee.activeCollectionKeyInFamily&&(0,i.jsx)(V,{value:A.Mo,recordingKey:h.Pt(k,`varSetInFamilyOption=${A.Mo}`),children:(0,_.t)("variables.mode_properties_panel.select.option.mixed")},`var-set-in-family-option-${A.Mo}`),Array.from(ee.collectionsInFamily.entries()).map(([e,t])=>(0,i.jsx)(V,{value:e,recordingKey:h.Pt(k,`varSetInFamilyOption=${e}`),children:t},`var-set-in-family-option-${e}`))]});return(0,i.jsx)(R,{leftInput:e,rightInput:ec,icon:I?void 0:ep})}return I?(0,i.jsx)(N.No,{label:eu,labelId:X,input:ec}):(0,i.jsx)(S,{labelTx:eu,input:ec,icon:ep})}},853137:(e,t,n)=>{n.d(t,{Hj:()=>z,W$:()=>G,ry:()=>V});var i=n(104076),a=n(716976),r=n(903927),s=n(999083),o=n(951002),l=n(948351),d=n(638004),c=n(511570),u=n.n(c),p=n(883765),m=n(221586),h=n(681398),f=n(641518),g=n(550209),_=n(246144),x=n(652539),y=n(192075),v=n(147046),b=n(850701),C=n(354114),E=n(643898),j=n(912610),w=n(8828),T=n(29236),k=n(525972),I=n(885163),S=n(306728),N=n(423683),A=n(266868),L=n(81969),O=n(601704),R=n(735194),P=n(830224),M=n(521183),D=n(610488),F=n(377036);let B="Loading suggestions...";function U(e){(0,o.vA)(null!==e,"We should never be in the middle state if there are no optional parameters")}class H extends f.o6{constructor(e){let t;if(super(e),this.searchInputRef=a.createRef(),this.scrollContainerRef=a.createRef(),this.searchBarRef=a.createRef(),this.primaryPlaceholderTextRef=a.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),n=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),i=n>=0?n:this.state.activeItemIndex,a=t.length||!this.state.searchQuery?null:(0,y.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:i,items:t,errorMessage:a});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,y.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{let e=this.state.activeParameterIndex,t=null;if("middle"===e){if(U(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}t=this.firstOptionalIndex-1}else if("final"===e)t=this.props.parameters.length-1;else{if(0===e){this.props.onExitParameterEntry();return}t=e-1}let n={...this.state.parameterValues},i=this.getParameterForIndex(t)?.key;i&&delete n[i],this.setParameterIndex(t,n)},this.onTextChange=e=>{let t;let n=this.state.activeParameterIndex;if("middle"===n)U(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===n)return;t=n}let i=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:i,currentSearchQuery:e}),this.setLoadingMessage(B),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let n;let i=this.state.activeParameterIndex;if("final"===i){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let a={...this.state.parameterValues};if("middle"!==i){if(0===this.state.items.length)return;let n=this.props.parameters[i];if(e<0||e>=this.state.items.length){let a="Trying to select suggestion at invalid index";console.error(a),(0,_.Lo)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:i,parameter:n.name,keyPress:t}),(0,g.$D)(d.e.EXTENSIBILITY,Error(a));return}let r=this.state.items[e];"skip"===r||("freeform"===r?a[n.key]={name:this.state.searchQuery}:((0,o.KF)(!this.state.loadingMessage,"Selected item while loading"),a[n.key]=r))}let r=this.firstOptionalIndex;if("middle"===i){if(U(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(a);return}n=this.firstOptionalIndex}else if(i===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(a);return}n="final"}else n=null!==r&&i===r-1?"tab"===t?r:"middle":i+1;this.setParameterIndex(n,a),this.searchInputRef.current.focus()},this.onKeyDown=f.C0(this,"keydown",e=>{let t=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},n=h.Ay.mac?(0,m.vN)(e,m.xH.META):(0,m.vN)(e,m.xH.CONTROL);switch(e.keyCode){case m.Uz.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case m.Uz.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case m.Uz.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case m.Uz.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(-1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case m.Uz.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case m.Uz.ESCAPE:e.preventDefault(),this.props.dispatch(v.oB());break;case m.Uz.P:case m.Uz.FORWARD_SLASH:n&&(e.preventDefault(),this.props.dispatch(v.oB()));break;case m.Uz.EQUALS:case m.Uz.DASH:n&&(e.preventDefault(),"-"===e.key?C.Y5.triggerAction("zoom-out"):C.Y5.triggerAction("zoom-in"));break;case m.Uz.R:case m.Uz.S:case m.Uz.D:case m.Uz.E:case m.Uz.F:case m.Uz.O:if(n){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=f.Z7(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,n)=>{let a,r="",s="";return"skip"===t?(r=`Skip "${e.name}"`,s="skip"):"freeform"===t?(r=this.state.searchQuery,s="skip"):(r=t.name,s=t.name,a=W(t,M.ZR)),(0,i.jsx)(K,{recordingKey:f.Pt(this.props,"suggestion",s),active:n===this.state.activeItemIndex,suggestion:r,onClick:e=>this.onSelectItem(n,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:n})},icon:a,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:n})}},n)},(0,_.Lo)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let n=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=n<0?null:n,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let r=this.getParameterForIndex(t);r&&this.triggerInputEvent({parameterValues:{},currentParameter:r,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){let e=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?e=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(e=(0,j.uF)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(e=this.props.localExtensions[this.props.pluginLocalFileId]),!e)throw Error("Plugin not runnable");let{canRun:t}=(0,j.JT)({plugin:e,editorType:this.props.editorType});if(!t)throw Error("Plugin not runnable");this.runArgs={plugin:e,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:this.props.openFile?.key||"",deferRunEvent:!0,isWidget:!1};let n=(0,T.D)();return k.R.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),n}async triggerInputEvent(e){this.eventID++;let t=this.eventID,n=await this.handler;this.eventID===t&&n.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=Math.min(250,Math.max(this.primaryPlaceholderTextRef.current.offsetWidth,120));this.setState({placeholderWidth:e})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,n=t.offsetWidth<t.scrollWidth;e||!n||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,p.sx)(O.yh,(0,O.ov)({...this.props,qaVersion:A.U3})),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){super.componentWillUnmount(),this.ranWithParameters||(0,S.wY)();let e=(0,O.O8)(this.props.parameters,this.state.parameterValues);this.ranWithParameters&&e.requiredEntered!==e.requiredCount&&((0,_.Lo)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,g.$D)(d.e.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let t=(0,O.ov)({...this.props,qaVersion:A.U3});(0,p.sx)(O.rj,{...t,success:this.ranWithParameters,parametersEntered:e.entered,requiredParametersEntered:e.requiredEntered,optionalParametersEntered:e.optionalEntered})}getDropdownItems(e,t,n){if("middle"===n||"final"===n)return[];let i=e.slice(),a=this.props.parameters[n];t.length>0&&a.allowFreeform&&i.unshift("freeform");let r=this.props.parameters[n];return 0===t.length&&r.optional&&i.unshift("skip"),i}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let n=this.getParameterForIndex(e);n&&((0,_.Lo)("PluginParameterEntry","setParameterIndex",{nextParameter:n.name}),this.triggerInputEvent({parameterValues:t,currentParameter:n,currentSearchQuery:""}));let i=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(B),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:i})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:n}=await (0,I.y)(this.runArgs);n||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(b.Rw({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}})),(0,L.s)({displayText:e,runPluginArgs:t,localFileIdOrPluginId:this.props.pluginLocalFileId??this.props.pluginId})}(0,w.C3)(t)}this.ranWithParameters=!0,this.props.dispatch(v.oB())}renderResults(){if("middle"===this.state.activeParameterIndex)return(0,i.jsxs)("div",{className:P.wM,children:[(0,i.jsxs)("div",{className:P.FV,children:[(0,i.jsx)("div",{className:P.h8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.tab")}),(0,i.jsx)("div",{className:P.w8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.to_enter_optional_parameters")})]}),(0,i.jsxs)("div",{className:P.FV,children:[(0,i.jsx)("div",{className:P.h8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.enter")}),(0,i.jsx)("div",{className:P.w8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.to_run_plugin")})]})]});if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=(0,i.jsx)("div",{className:M.Tk,children:this.state.errorMessage}):this.state.loadingMessage&&(t=(0,i.jsx)("div",{className:M.Tk,children:this.state.loadingMessage})),0===this.state.items.length)return t;let n=t?this.state.items.length+1:this.state.items.length;return(0,i.jsxs)(R.h,{ref:this.scrollContainerRef,resultCount:n,children:[this.state.items.map((t,n)=>this.renderResult(e,t,n)),t]})}renderCurrentParameters(){let e=this.getCurrentParameter()?.key,t=z(this.props.parameters,this.state.parameterValues,e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{value:this.state.hidePluginName?void 0:this.props.displayName,icon:function(e,t,n){if(!n)return(0,i.jsx)(x.B,{className:P.nW,svg:D.A,ariaLabel:"plugin icon"});{let a=e[n];return a||(a=t[n]&&(0,j.uF)(t[n])),(0,i.jsx)(N.V,{className:P.nW,plugin:a,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)},"plugin-name"),t]})}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return(0,i.jsx)(i.Fragment,{});if("middle"===e){let e=(0,s.WI)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return(0,i.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:e})})}{let n=this.props.parameters[e],a=this.props.parameters.slice(e);if(n.optional){let e=a.map(e=>e.name);return t&&(e[0]=""),(0,i.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:e.join(", ")})}{let e=(0,s.WI)(a.map(e=>e.optional?null:e.name)),n=(0,s.WI)(a.map(e=>e.optional?e.name:null));return t&&(e[0]=""),(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:e.join(", ")}),n.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:P.yL,children:"|"},"divider"),(0,i.jsx)("span",{children:(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:n.join(", ")})},"optionalParams")]})]})}}}render(){let e=this.getCurrentParameter(),t=e?.description,n=this.placeholderElement(),a="final"===this.state.activeParameterIndex?P.ed:P.Kf,r={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},s=this.renderResults();return(0,i.jsxs)(R.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,children:[(0,i.jsxs)("div",{className:M.$P,children:[(0,i.jsx)(x.B,{svg:F.A,className:M.qc}),(0,i.jsxs)("div",{className:P.ON,ref:this.searchBarRef,children:[this.renderCurrentParameters(),(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)("input",{ref:this.searchInputRef,className:P.t6,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:r}),(0,i.jsx)("div",{className:P.l4,children:(0,i.jsxs)("div",{className:P.qf,children:[(0,i.jsx)("span",{className:P.CZ,children:this.state.searchQuery}),n]})})]})]})]}),!!t&&(0,i.jsx)("div",{className:u()({[P.WL]:!0,[P.$8]:!s}),children:t}),s]})}}function V(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.openFile),a=(0,r.d4)(e=>e.publishedPlugins),s=(0,r.d4)(e=>e.installedPluginVersions.plugins),o=(0,r.d4)(e=>e.localPlugins),l=(0,r.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),d=(0,r.d4)(e=>e.selectedView.editorType),c=(0,r.d4)(e=>(0,E.Eh)(e)),u=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),p=(0,r.d4)(e=>(0,E.cb)(e));return(0,i.jsx)(H,{...e,activeTextReviewPlugin:u,allSavedPlugins:s,dispatch:t,editorType:d,localExtensions:o,openFile:n,org:l,publishedPlugins:a,userCanRunExtensions:p,userCanViewPlugins:c})}function G(e){return(0,i.jsxs)("div",{className:P.Io,children:[e.icon&&(0,i.jsx)("span",{children:e.icon}),e.value&&(0,i.jsx)("span",{children:e.value})]})}function z(e,t,n){return e.filter(e=>t[e.key]&&e.key!==n).map(e=>t[e.key]&&t[e.key].name&&(0,i.jsx)(G,{icon:W(t[e.key],P.nW),value:t[e.key].name},e.key))}H.displayName="PluginParameterEntry";class K extends f.o6{constructor(){super(...arguments),this.onClick=f.cZ(this,"click",e=>{if(!this.props.onClick)return f.aH;this.props.onClick(e)})}render(){let e=`${this.props.active?M.ix:M.Ke}`;return(0,i.jsxs)("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,children:[(0,i.jsx)("div",{className:M.EA,children:this.props.icon}),(0,i.jsx)("div",{className:P.iu,children:(0,i.jsx)("div",{className:M.D6,children:this.props.suggestion})})]})}}function W(e,t){let n="";if(e.iconUrl)n=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)n="data:image/svg+xml;base64,"+l.aj(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;n="data:application/octet-stream;base64,"+l.lF(e.icon)}return(0,i.jsx)(Z,{className:t,src:n})}K.displayName="ParameterSuggestion";class Z extends f.o6{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,g.$D)(d.e.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),(0,i.jsx)(i.Fragment,{})):["https:","http:","data:","blob:"].includes(e.protocol)?(0,i.jsx)("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,g.$D)(d.e.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),(0,i.jsx)(i.Fragment,{}))}}Z.displayName="UntrustedImage"},65389:(e,t,n)=>{n.d(t,{_:()=>m,h:()=>p});var i=n(104076),a=n(716976),r=n(667693),s=n(328341),o=n(652539),l=n(853137),d=n(830224),c=n(521183),u=n(70690);function p({itemPath:e}){let t=a.useRef(null),n=a.useRef(null),l=a.useRef(null),d=a.useRef(null),[p,m]=a.useState("full"),h=(0,s.ZC)(e);a.useLayoutEffect(()=>{(0,r.c2)(e,h)||"full"===p||m("full"),"full"===p&&f()},[h,e,p]);let f=()=>{let e=n.current?.offsetWidth,i=d.current?.offsetWidth,a=l.current?.offsetWidth,r=t.current?.scrollWidth,s=t.current?.clientWidth;void 0!==e&&void 0!==i&&void 0!==a&&r&&s&&s<r&&(e+i>s?m("plugin"):m("path"))};if(1===e.length)return(0,i.jsx)("span",{ref:d,children:e[0]});let g=e.slice(1,e.length-1),_=(0,i.jsx)(o.B,{svg:u.A,className:c.VU,dataTestId:"rightChevron"}),x=(0,i.jsxs)("span",{ref:n,children:["plugin"===p?"...":e[0],_]}),y=(0,i.jsx)("span",{ref:l,children:"plugin"!==p&&(0,i.jsx)(i.Fragment,{children:"path"===p?(0,i.jsxs)(i.Fragment,{children:["...",_]}):g.map((e,t)=>(0,i.jsxs)("span",{children:[e," ",_]},t))})});return(0,i.jsxs)("div",{ref:t,className:c.D6,..."full"!==p?{"data-tooltip-type":"text","data-tooltip":e.join(" > "),"data-tooltip-show-above":!0}:{},children:[x,y,(0,i.jsx)("span",{ref:d,children:e[e.length-1]})]})}function m({runPluginArgs:e,itemParameterArgs:t}){let[n,r]=a.useState(!1),s=a.useRef(null);a.useEffect(()=>{let e=s.current;e&&e.offsetWidth<e.scrollWidth&&!n&&r(!0)},[n]);let o=e.parameterValues;if(o){let e=t.parameters,a=(0,l.Hj)(e,o);return(0,i.jsxs)("div",{className:d.ON,ref:s,"data-testid":"parameter-display",children:[(0,i.jsx)(l.W$,{value:n?void 0:t.displayName},"plugin-name"),a]})}return(0,i.jsx)(i.Fragment,{})}},735194:(e,t,n)=>{n.d(t,{H:()=>u,h:()=>p});var i=n(104076),a=n(716976),r=n(641518),s=n(665261),o=n(72138),l=n(278491),d=n(25870),c=n(521183);class u extends r.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return(0,i.jsx)(d.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0,children:(0,i.jsx)(s.ms,{className:`${c.DU} ${l.Dm}`,style:e,"data-testid":this.props["data-testid"],onClick:this.onContainerClick,children:(0,i.jsx)("div",{children:this.props.children})})})}}class p extends r.o6{constructor(e){super(e),this.scrollContainerRef=a.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),n=32*e,i=32*e+32;n<t?this.scrollContainerRef.current.scrollTo(n):i>t+304&&this.scrollContainerRef.current.scrollTo(i-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return(0,i.jsxs)(o.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id,children:[this.props.children,(0,i.jsx)("div",{style:{height:8}})]})}}},317582:(e,t,n)=>{n.d(t,{s:()=>_});var i=n(716976),a=n(903927),r=n(999083),s=n(812714),o=n(513879),l=n(596224),d=n(887555),c=n(292168),u=n(755893),p=n(977745),m=n(819851),h=n(710211),f=n(912610),g=n(3234);function _(){let e=(0,a.wA)(),t=(0,m.lg)(),[n,_]=(0,i.useState)([]),[x,y]=(0,i.useState)(!1),v=(0,i.useMemo)(()=>{let e=(0,u.Gj)(t);(0,s.kc)().ext_design_plugins_in_sites&&e===u.qq.SITES&&(e=u.qq.DESIGN);let n={resourceType:[c.vt.PLUGIN,c.vt.WIDGET],editorType:e,caller:g.z.SUGGESTED_EXTENSIONS,sortBy:d.e.Browse.POPULAR,includeContent:!0};return[{...n,price:o.C.FREE},{...n,price:o.C.PAID}]},[t]),b=(0,i.useCallback)(async()=>{let e,t;try{[e,t]=await Promise.all([h.M4.fetch(g.a.ResourcesPaginatedQuery(v[0])),h.M4.fetch(g.a.ResourcesPaginatedQuery(v[1]))])}catch(e){y(!1),_([]);return}let n=e.map(e=>(0,l.$9)(e)).filter(e=>!!e),i=t.map(e=>(0,l.$9)(e)).filter(e=>!!e);_((0,r.k4)([...(0,r.k4)(n).slice(0,10),...(0,r.k4)(i).slice(0,5)])),y(!0)},[v]);return(0,i.useEffect)(()=>{b()},[b]),(0,i.useEffect)(()=>{e(p.Qi({publishedPlugins:n,src:"Quick Actions V2 suggested extensions"}))},[n,e]),{loaded:x,extensions:(0,i.useMemo)(()=>n.map(e=>(0,f.Ar)(e)).filter(e=>!!e),[n])}}},870638:(e,t,n)=>{n.d(t,{X:()=>o});var i=n(216294),a=n(266868),r=n(714136);function s(e){return{key:(0,i.ee)(e),isDisabled:!!e.disabled,resultType:e.pluginId||e.pluginLocalFileId?a.l4.EXTENSION:a.l4.ACTION}}function o(e){let t=new Map;e.forEach(e=>{let n=e.category??"";t.has(n)||t.set(n,[]),t.get(n)?.push(e)});let n=[];for(let[e,i]of t.entries())n.push({name:e,actions:i.map(s)});return(0,r.i6)(n)}},716755:(e,t,n)=>{n.d(t,{l:()=>dW});var i={};n.r(i),n.d(i,{button:()=>lA,buttonContent:()=>lR,buttonText:()=>lO,destructive:()=>lK,destructiveLink:()=>lX,destructiveSecondary:()=>lW,fauxFocus:()=>lH,icon:()=>lL,largeSize:()=>lD,largeWideSize:()=>lB,link:()=>lq,outlineStyle:()=>lU,primary:()=>lG,regularSize:()=>lM,secondary:()=>lz,shortcut:()=>lP,signup:()=>lZ,solidStyle:()=>lV,wideSize:()=>lF});var a=n(104076),r=n(716976),s=n(903927),o=n(638004),l=n(498349),d=n(266808),c=n(795033),u=n(1188),p=n(58212),m=n(842909),h=n(220082),f=n(120640),g=n(288971),_=n(76616),x=n(653899),y=n(965685),v=n(836734),b=n(607532),C=n(4033),E=n(164131),j=n(233420),w=n(16480),T=n(583928),k=n(170956),I=n(266868),S=n(757725),N=n(714136),A=n(798811),L=n(780712),O=n(951002),R=n(276800),P=n(674524),M=n(221586),D=n(316862),F=n(848561),B=n(236631),U=n(192075),H=n(113985),V=n(315910),G=n(89782),z=n(211862),K=n(643898),W=n(461546),Z=n(140255),q=n(849275),X=n(854284),Y=n(141330),J=n(725837),Q=n(581133),$=n(849757),ee=n(5885),et=n(946847),en=n(975542),ei=n(256314),ea=n(83068),er=n(572552),es=n(584288),eo=n(715315),el=n(803126),ed=n(619636),ec=n(521348),eu=n(812714),ep=n(851824),em=n(550209),eh=n(795161),ef=n(124125),eg=n(652539),e_=n(659062),ex=n(260745),ey=n(218329),ev=n(920132),eb=n(843707),eC=n(687849),eE=n(968169),ej=n(74620),ew=n(288747),eT=n(331497),ek=n(912610),eI=n(525972),eS=n(719947),eN=n(437761),eA=n(894210),eL=n(423683),eO=n(564941),eR=n(745859),eP=n(65389),eM=n(216294),eD=n(124348),eF=n(437540);function eB(){return(0,eF.R)(e=>{let t={};for(let n in e.mirror.appModel)(0,eO.vg)(n)&&(t[n]=e.mirror.appModel[n]),"isReadOnly"===n&&(t.isReadOnly=e.mirror.appModel.isReadOnly);return t})}var eU=n(999083),eH=n(658598),eV=n(71905),eG=n(442193),ez=n(944131),eK=n(621592),eW=n.n(eK),eZ=n(171660),eq=n(819851),eX=n(980852),eY=n(246144),eJ=n(178623);async function eQ(e,t,n){let i;return(await eJ.Ay.shared.assistantChat({messages:[...t,e]})).pipeThrough((i={},new TransformStream({async transform(e,t){if(e.choices.length&&(i=function(e,t){let n=(e,t)=>{for(let[i,a]of(e={...e},Object.entries(t)))if(void 0===e[i]||null===e[i]){if(e[i]=a,Array.isArray(e[i]))for(let t of e[i])delete t.index}else if("string"==typeof e[i]&&"string"==typeof a)e[i]+=a;else if("number"==typeof e[i]&&"number"==typeof a)e[i]=a;else if(Array.isArray(e[i])&&Array.isArray(a)){let t=e[i];for(let e=0;e<a.length;e++){let{index:i,...r}=a[e];if(i-t.length>1)throw Error(`Error: An array has an empty value when tool_calls are constructed. tool_calls: ${t}; tool: ${a}`);t[i]=n(t[i],r)}}else"object"==typeof e[i]&&"object"==typeof a&&(e[i]=n(e[i],a));return e};return n(e,t.choices[0].delta)}(i,e),t.enqueue({...i,role:"assistant"}),i.tool_calls&&i.tool_calls.length>0&&"tool_calls"===e.choices[0].finish_reason))for(let e of i.tool_calls){let i=await n(e),a={tool_call_id:e.id,role:"tool",name:e.function.name,content:JSON.stringify(i)};t.enqueue(a)}}})))}var e$=n(441513),e0=n(309581),e1=n(624155),e2=n(297852),e3=n(67779),e5=n(737791),e4=n(306728),e6=n(414191),e7=n(4460),e9=n(176203),e8=n(959509),te=n(649038),tt=n(823539),tn=n(113139),ti=n(432099);let ta=new class{sendFeatureRequest(e){return ti.Ay.post("/api/ask_figma/request_feature",tn.td.toAPIParameters(e))}};var tr=(e=>(e.Idle="idle",e.Loading="loading",e.Error="error",e))(tr||{});let ts=(0,c.eU)({status:"idle",messages:[]}),to=e$.z.object({node_id:e$.z.string(),score:e$.z.number(),file_name:e$.z.string(),editor_name:e$.z.string(),editor_img_url:e$.z.string(),last_edited_at:e$.z.string(),url:e$.z.string(),thumbnail_url:e$.z.string(),edit_info:e$.z.object({created_at:e$.z.string(),last_modified:e$.z.string(),last_modified_user:e$.z.string()}).optional(),containing_page_name:e$.z.string(),containing_frame_name:e$.z.string().optional(),fragment_name:e$.z.string(),width:e$.z.number(),height:e$.z.number()}),tl=e$.z.object({type:e$.z.literal("fragments"),status:e$.z.literal("success"),fragments:e$.z.array(to)}),td=e$.z.object({type:e$.z.literal("fragments"),status:e$.z.literal("success"),fragments:e$.z.array(to.pick({score:!0,file_name:!0,editor_name:!0,last_edited_at:!0,containing_page_name:!0,containing_frame_name:!0,fragment_name:!0})),images:e$.z.array(e$.z.string())}),tc=e$.z.object({type:e$.z.literal("selection"),status:e$.z.literal("success"),selectionLength:e$.z.number()}),tu=e$.z.object({type:e$.z.literal("selection"),status:e$.z.literal("success"),selectionLength:e$.z.number(),images:e$.z.array(e$.z.string()),jsx:e$.z.array(e$.z.string())}),tp=e$.z.object({type:e$.z.literal("plugin"),status:e$.z.literal("success")}),tm=e$.z.object({type:e$.z.literal("plugin"),status:e$.z.literal("success")}),th=e$.z.object({type:e$.z.literal("assets"),queries:e$.z.array(e$.z.string()),status:e$.z.literal("success"),assets:e$.z.any().array()}),tf=e$.z.object({type:e$.z.literal("assets"),status:e$.z.literal("success"),assets:e$.z.array(e$.z.object({name:e$.z.string(),description:e$.z.string().optional()})),images:e$.z.array(e$.z.string())}),tg=e$.z.object({type:e$.z.literal("request-feature"),status:e$.z.literal("success"),title:e$.z.string(),description:e$.z.string()}),t_=e$.z.object({type:e$.z.literal("request-feature"),status:e$.z.literal("success"),images:e$.z.undefined()}),tx=e$.z.object({userFacing:e$.z.union([tl,tc,tp,th,tg]),assistantFacing:e$.z.union([td,tu,tm,tf,t_])});async function ty(e){if("function"!==e.type)throw Error("Unexpected tool_call type:"+e.type);let t=JSON.parse(e.function.arguments),n=c.zl.get(z.ze);if(!n)throw Error("No file key found");switch(e.function.name){case"autocomplete":case"view_user_selection":{let e=eX.UN().getCurrentPage()?.directlySelectedNodes??[],t=e?.slice(0,10),n=t.map(e=>{let t=(0,H.T1)(e,H.UF.GPT);if(!t)throw Error("Failed to export thumbnail");return t}),i=t.map(e=>"");return{userFacing:{type:"selection",status:"success",selectionLength:e.length},assistantFacing:{type:"selection",status:"success",selectionLength:e.length,images:n,jsx:i}}}case"visual_search_with_selection":case"search_designs_by_text":{let i=[];if("visual_search_with_selection"===e.function.name){let e=eX.UN().getCurrentPage()?.directlySelectedNodes;if(!e||0===e.length)throw Error("No selection found");i=(await (0,H.lc)({type:"input-selection",node:e[0],file_key:n,name:e[0].name})).slice(0,3)}else i=(await (0,H.c)({type:"input-text",value:t.query,file_key:n})).slice(0,3);return{userFacing:{type:"fragments",status:"success",fragments:i},assistantFacing:{type:"fragments",status:"success",fragments:i.map(e=>({score:e.score,file_name:e.file_name,editor_name:e.editor_name,last_edited_at:e.last_edited_at,containing_page_name:e.containing_page_name,containing_frame_name:e.containing_frame_name,fragment_name:e.fragment_name})),images:i.map(e=>e.thumbnail_url)}}}case"search_components_by_text":{let e=t.queries.slice(0,3);if(0===e.length)throw Error("No queries provided");let n=(await Promise.all(e.map(e=>tb(e)))).map(e=>e.slice(0,3)).flat(),i=[],a=[];return n.map(e=>{if(!e.thumbnail_url)return;let t=e.thumbnail_url.startsWith("/")?`${window.location.origin}${e.thumbnail_url}`:e.thumbnail_url;i.push(e),a.push(t)}),{userFacing:{type:"assets",status:"success",queries:t.queries,assets:i},assistantFacing:{type:"assets",status:"success",assets:i.map(e=>({name:e.name,description:e.description})),images:a}}}case"create_figma_plugin":let i=e$.z.object({plugin_code:e$.z.string(),ui_code:e$.z.string().optional()}).safeParse(t);if(!i.success)throw Error("Invalid args: "+i.error.toString());let{plugin_code:a,ui_code:r}=i.data;return tv(a,r);case"edit_file":{let e=e$.z.object({code:e$.z.string()}).safeParse(t);if(!e.success)throw Error("Invalid args: "+e.error.toString());let{code:n}=e.data;return tv(n)}case"request_feature":let s=e$.z.object({title:e$.z.string(),description:e$.z.string()}).safeParse(t);if(!s.success)throw Error("Invalid args: "+s.error.toString());let{title:o,description:l}=s.data,d={title:o,description:l,chatHistory:c.zl.get(ts).messages};return await ta.sendFeatureRequest(d),{userFacing:{type:"request-feature",status:"success",title:o,description:l},assistantFacing:{type:"request-feature",status:"success"}};default:throw Error(`No function found for ${e.function.name}`)}}async function tv(e,t){let n=c.zl.get(z.ze),i=(0,e8.o8)();if(!i)throw Error("Cannot run plugin while logged out");if(!n)throw Error("No file key found");await (0,e4.wY)();let a=`
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    ${t}
    </script>
    <div id="root"></div>
    `,r=t?(0,ek.nx)(e,a):e,s=(0,e4.mv)();return e4.iu.currentPluginRunID=s,(0,e5.E9)({allowedDomains:te.gH,apiVersion:e3.pS,capabilities:[],stats:new tt.P,checkSyntax:!0,code:r,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:R.lQ,isLocal:!0,isWidget:!1,name:"Assistant plugin",openFileKey:n,permissions:ek.qH.forFirstPartyPlugin(),pluginID:"",pluginRunID:s,pluginVersionID:"0",queryMode:!1,showLaunchErrors:!0,showRuntimeErrors:!0,titleIconURL:"",userID:i,vmType:"cppvm",editorType:[eN.FW.FIGMA],incrementalSafeApi:!1,enableNativeJsx:!1}),{userFacing:{type:"plugin",status:"success"},assistantFacing:{type:"plugin",status:"success"}}}async function tb(e){let t=J.D.getState(),n=(0,z.tB)(t),i=(0,e7.vx)(t);if(!n||null==i)throw Error("No open file or file version found");let a=1;for(;!(0,e2.Wg)(J.D.getState())&&a<=50;)await new Promise(e=>setTimeout(e,200*a)),a++;if(!(0,e2.Wg)(J.D.getState()))throw Error("Failed to initialize assets");let r={type:Z.I.ALL},s=(0,e9.yY)((0,eq.XE)((0,e6.h)(t))),o=c.zl.get(e0.qp);t=J.D.getState();let l={type:"input-text",query:e,assetTypeOption:r,isKnownLibrary:e=>!0,openFile:(0,z.tB)(t),selectedView:(0,e6.h)(t),inDesignEditor:s,fileVersion:i,currentOrgId:(0,e1.eD)(t),fileByKey:(0,e7.t_)(t),libraryByLibraryKey:o,includeVisualAssets:!1,usedAssetKeys:(0,e1.ET)(t,J.D.dispatch)};e2.YG.refreshSourcesIfNeeded(J.D);let d=await e2.YG.computeResultsReduxSearchTypeHelper(e,r,s,o,null),u=d.normalizedSearchResults;return u=d.normalizedSearchResults.filter(e=>l.isKnownLibrary(e)),(0,e2.Ow)(u)}async function tC(e,t,n,i){try{let a;let r=eX.UN().getCurrentPage()?.directlySelectedNodes,s="string"==typeof e?{role:"user",content:[{type:"text",text:`<user_message><user_input>${e}</user_input><selected_layer_ids>${r&&JSON.stringify(r.map(e=>e.guid))}</selected_layer_ids></user_message>`}]}:e;n(e=>({...e,status:tr.Loading,messages:[...e.messages,s]}));let o=[];for(let e of t){let t=function(e){if("tool"!==e.role)return e;let t=e.content,n="string"==typeof t?JSON.parse(t):t,i=tx.parse(n).assistantFacing,a=i.type;switch(a){case"selection":case"assets":case"fragments":let{images:r,...s}=i;return{...e,content:JSON.stringify(s)};case"plugin":case"request-feature":return e;default:(0,O.xb)(a)}}(e);o.push(t)}let l=(await eQ(s,o,i)).getReader();for(;;){let{done:e,value:t}=await l.read();if(e){n(e=>({...e,status:tr.Idle}));break}let{sendFollowup:i,newMessages:r}=function(e){if("tool"!==e.role)return{sendFollowup:!1,newMessages:[]};let t=e.content,n="string"==typeof t?JSON.parse(t):t,i=tx.parse(n),a=i.assistantFacing.type;switch(a){case"selection":case"assets":case"fragments":return{sendFollowup:!0,newMessages:[{role:"user",content:[{type:"text",text:"\x3c!-- The tool call showed me the following images: --\x3e"},...i.assistantFacing.images.map(e=>({type:"image_url",image_url:{url:e.startsWith("http")?e:`data:image/jpeg;base64,${e}`,detail:"high"}}))]}]};case"plugin":case"request-feature":return{sendFollowup:!1,newMessages:[]};default:(0,O.xb)(a)}}(t);r.length>0&&i&&(a=r[r.length-1]),n(e=>"string"==typeof t.content&&0===t.content.length||t.role!==e.messages[e.messages.length-1]?.role?{status:tr.Loading,messages:[...e.messages,t,...r]}:{status:tr.Loading,messages:[...e.messages.slice(0,-1),t,...r]})}a&&tC(a,c.zl.get(ts).messages,n,i)}catch(e){(0,eY.Lo)("Send chat message failed: ",e.message),n(e=>({...e,status:tr.Error}))}}var tE=n(904017),tj=n(790628),tw=n(38119),tT=n(223265),tk=n(466084),tI=n(827695),tS=n(478e3);let tN=(0,r.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.5 5a6.5 6.5 0 0 1 4.935 10.728l3.419 3.419a.5.5 0 1 1-.707.707l-3.42-3.42A6.5 6.5 0 1 1 11.5 5m0 1a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11m-.485 2.44c.126-.505.844-.505.97 0l.515 2.06 2.06.515c.505.126.505.844 0 .97l-2.06.515-.515 2.06c-.126.505-.844.505-.97 0L10.5 12.5l-2.06-.515c-.505-.126-.505-.844 0-.97l2.06-.515z"})})});var tA=n(808061),tL=n(670141),tO=n(73772),tR=n(894862),tP=n(211764),tM=n(517796),tD=n(198537),tF=n(561839),tB=n(858959),tU=n(366535),tH=n(592726),tV=n(763286),tG=n(85955),tz=n(651548),tK=n(611873),tW=n(412184),tZ=n(782430),tq=n(293422),tX=n(361170),tY=n(959834),tJ=n(643330);function tQ({url:e}){return(0,a.jsx)("img",{src:e,className:B.s.maxW100.$,alt:"debug"})}function t$(e){let{obj:t,depth:n=0}=e;if(null===t)return(0,a.jsx)("span",{className:B.s.colorTextTertiary.$,children:(0,U.t)("assistant.debug.null")});if("object"!=typeof t){if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);return(0,a.jsx)(t$,{obj:e,depth:n})}catch(e){}return t.startsWith("data:image")?(0,a.jsx)(tQ,{url:t}):t.length>300&&t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/)?(0,a.jsx)(tQ,{url:`data:image/jpeg;base64,${t}`}):(0,a.jsxs)("span",{className:B.s.colorTextSuccess.$,children:['"',t,'"']})}return"number"==typeof t?(0,a.jsx)("span",{className:B.s.colorTextSelected.$,children:t}):"boolean"==typeof t?(0,a.jsx)("span",{className:B.s.colorTextComponent.$,children:t.toString()}):(0,a.jsx)("span",{children:t})}let i=Array.isArray(t),r=i?["[","]"]:["{","}"],s=Object.entries(t);return(0,a.jsxs)("div",{style:{marginLeft:`${8*n}px`},children:[r[0],s.length>0&&(0,a.jsx)("div",{children:s.map(([e,t],r)=>(0,a.jsxs)("div",{children:[!i&&(0,a.jsx)("span",{className:B.s.colorTextDanger.$,children:`"${e}:" `}),(0,a.jsx)(t$,{obj:t,depth:n+1}),r<s.length-1&&","]},e))}),r[1]]})}function t0(e){let{data:t}=e;return(0,a.jsx)("pre",{contentEditable:!0,className:"font-mono text-sm select-all text-wrap",children:(0,a.jsx)(t$,{obj:t})})}function t1({messages:e}){return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:B.s.px2.py2.$,children:(0,a.jsx)(t0,{data:e})})})}let t2=(0,tY.Ju)(function({messages:e}){let t=(0,s.wA)();return(0,a.jsx)(tJ.Ao,{onClose:()=>{t(tU.AS())},initialPosition:new tX.Mi(0,0),initialWidth:400,allowResizeWidth:!0,autoflowHeight:!0,title:(0,U.t)("assistant.debug.title"),dragHeaderOnly:!0,children:(0,a.jsxs)("div",{className:B.s.px2.py2.$,style:{height:600,overflowX:"scroll",overflowY:"scroll"},children:[(0,a.jsx)(tq.$n,{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,void 0,2))},children:(0,U.t)("assistant.debug.copy_all")}),(0,a.jsx)(t1,{messages:e})]})})},"AssistantDebugModal",tY.ZU.YES);function t3(){let[e,t]=r.useState(""),[n,i]=(0,c.fp)(ts),o=(0,s.wA)(),l=(0,s.d4)(e=>e.modalShown);(0,q.b)();let d=r.useCallback(()=>{if(l&&l.type===t2.type){o(tU.AS());return}o(tU.to({type:t2,data:{messages:n.messages}}))},[n.messages,o,l]);r.useEffect(()=>{l?.type!==t2.type||o(tU.hm({type:t2.type,data:{messages:n.messages}}))},[n.messages,o,l]);let u=r.useCallback(()=>{"/debug"===e?d():tC(e,n.messages,i,ty),t("")},[e,n.messages,i,d]);return(0,a.jsxs)(ei.n,{height:Y.wC,hideActionPanel:!0,children:[(0,a.jsx)(ei.n.Body,{children:0===n.messages.length?(0,a.jsx)(t5,{}):(0,a.jsx)(tK.q,{stretchContent:!1,useBottomPinning:!0,enableScrollShadow:!0,children:(0,a.jsxs)("div",{className:B.s.py8.flex.flexColumn.gap4.$,children:[n.messages.map((e,t)=>(0,a.jsx)(t8,{message:e},`msg-${t}`)),(0,a.jsx)("div",{style:{marginLeft:"44px",marginRight:"12px"},children:(0,a.jsx)(t7,{status:n.status})})]})})}),(0,a.jsx)(ei.n.Footer,{children:(0,a.jsx)(ea.vj,{placeholder:(0,U.t)("fullscreen_actions.assistant-chat"),searchQuery:e,onSearchChange:t,endEnhancer:(0,a.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER}],onAction:u,disabled:0===e.length||n.status===tr.Loading,children:(0,U.t)("assistant.chat.send_message")})})})]})}function t5(){return(0,a.jsxs)("div",{className:B.s.flex.flexColumn.itemsCenter.justifyEnd.hFull.gap8.$,children:[(0,a.jsx)(tS.m,{}),(0,a.jsxs)("div",{className:B.s.flex.flexRow.gap16.$,children:[(0,a.jsxs)("div",{className:B.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$,children:[(0,a.jsxs)(t4,{inputToSend:"Find similar designs to my selection",children:[(0,a.jsx)(tN,{}),"Find designs"]}),(0,a.jsxs)(t4,{inputToSend:"I want to request a feature.",children:[(0,a.jsx)(tA.V,{}),(0,U.t)("assistant.chat.suggestion.request_feature")]})]}),(0,a.jsxs)("div",{className:B.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$,children:[(0,a.jsxs)(t4,{inputToSend:"Make a plugin that creates rectangles in a grid",children:[(0,a.jsx)(tL.x,{}),(0,U.t)("assistant.chat.suggestion.make_tool")]}),(0,a.jsxs)(t4,{inputToSend:"",disabled:!0,children:[(0,a.jsx)(tO.C,{}),(0,U.t)("assistant.chat.suggestion.coming_soon")]})]})]})]})}function t4({children:e,inputToSend:t,disabled:n}){let[i,s]=(0,c.fp)(ts),o=r.useCallback(()=>{tC(t,i.messages,s,ty)},[t,i.messages,s]);return(0,a.jsx)("button",{className:B.s.flex.flexColumn.justifyEnd.wFull.b1.colorBorder.gap8.textBodyLargeStrong.p12.if(n,B.s.colorTextSecondary).$,style:{borderRadius:13,minWidth:150,...n&&{"--color-icon":"var(--color-text-secondary)"}},onClick:o,disabled:n,children:e})}function t6({children:e}){return(0,a.jsx)("div",{className:B.s.flex.flexRow.itemsCenter.wFull.b1.colorBorder.gap8.h40.textBodyLargeStrong.px4.mr12.$,style:{borderRadius:13},children:e})}function t7({status:e}){let t;switch(e){case tr.Idle:t=null;break;case tr.Loading:t=(0,a.jsxs)(t6,{children:[(0,a.jsx)("div",{className:B.s.pl4.flex.itemsCenter.justifyCenter.$,children:(0,a.jsx)(tI.k,{})}),(0,a.jsx)("div",{className:B.s.colorTextSecondary.$,children:(0,U.t)("assistant.chat.status.loading")})]});break;case tr.Error:t=(0,a.jsxs)(t6,{children:[(0,a.jsx)(tR.Z,{}),(0,U.t)("assistant.chat.status.error")]});break;default:(0,O.xb)(e)}return(0,a.jsx)(tF.N,{mode:"popLayout",initial:!1,children:(0,a.jsx)(tB.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t},e)})}function t9(e){let t=r.useRef(null),n=(0,s.d4)(z.tB);try{let i=e.content,r="string"==typeof i?JSON.parse(i):i,{userFacing:s}=tx.parse(r);if("fragments"===s.type){let e=s.fragments.map(e=>({...e,type:"fig-file-fragment"}));return(0,a.jsx)(tZ.U,{fragments:e,focusHandle:t,numberOfGridColumns:3,maxResults:3,entryPoint:H.G4.ACTIONS_LIST,disableActionShortcuts:!0})}if("assets"===s.type)return(0,a.jsx)(tz.x,{primary:!0,columns:3,padding:8,gap:12,children:s.assets.map((e,t)=>(0,a.jsx)(tW.a,{asset:e,assetTypeDropdownSelection:Z.I.ALL,disableActionShortcuts:!0,libraryNameByLibraryKeyFromLG:{},openFileKey:n?.key??"",queryId:"",searchQuery:s.queries[0],searchSessionId:c.zl.get(j.dd)??"",sectionPosition:t},t))});if("selection"===s.type)return(0,a.jsxs)(t6,{children:[(0,a.jsx)(tP.W,{}),(0,U.t)("assistant.chat.tool_result.selection.success")]});if("request-feature"===s.type)return(0,a.jsxs)(t6,{children:[(0,a.jsx)(tP.W,{}),(0,U.t)("assistant.chat.tool_result.feature_request")]});return(0,a.jsxs)(t6,{children:[(0,a.jsx)(tM.g,{}),(0,U.t)("assistant.chat.tool_result.success")]})}catch(e){return(0,a.jsxs)(t6,{children:[(0,a.jsx)(tR.Z,{}),(0,U.t)("assistant.chat.tool_result.error")]})}}function t8({message:e}){let t=(0,tH.iZ)();return"user"===e.role&&"string"!=typeof e.content&&e.content?.length&&e.content[0]?.type==="text"&&e.content[0].text.startsWith("\x3c!--")||"assistant"===e.role&&!e.content||"tool"===e.role&&!e.content?null:(0,a.jsx)("div",{className:B.s.px12.py4.flex.wFull.$,children:(0,a.jsxs)("div",{className:B.s.gap8.flex.wFull.$,children:[(0,a.jsx)("div",{className:B.s.w24.h24.flexShrink0.flex.itemsCenter.justifyCenter.$,children:"assistant"===e.role||"tool"===e.role?(0,a.jsx)(tS.m,{}):t?.img_url?(0,a.jsx)(tV.J,{src:t.img_url,className:B.s.w16.h16.radiusFull.$}):(0,a.jsx)(tD._,{})}),(0,a.jsxs)("div",{className:B.s.flex.flexColumn.wFull.pt2.$,children:[(0,a.jsx)("span",{className:B.s.textBodyLargeStrong.$,children:"assistant"===e.role||"tool"===e.role?"Figma":"You"}),"tool"===e.role?(0,a.jsx)("div",{className:B.s.wFull.pt4.$,children:(0,a.jsx)(t9,{...e})}):"string"==typeof e.content?(0,a.jsx)(ne,{text:e.content}):(0,a.jsx)("div",{children:null===e.content?null:e.content.map((e,t)=>"text"===e.type?(0,a.jsx)(ne,{text:e.text},`sub-t-${t}`):null)})]})]})})}function ne({text:e}){let t=e;try{let n=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("user_input");n.length>0&&(t=n[0].textContent||"")}catch{}return(0,a.jsx)("div",{children:t.split("\n").map((e,t)=>(0,a.jsxs)("span",{children:[e,(0,a.jsx)("br",{})]},`l-${t}`))})}var nt=n(243416),nn=n(328341),ni=n(598626),na=n(76365),nr=n(403950),ns=n(415567),no=n(873442);let nl=(0,r.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5V14H7v3.5A1.5 1.5 0 0 0 8.5 19h7a1.5 1.5 0 0 0 1.5-1.5V9.414a1 1 0 0 0-.293-.707l-3.414-3.414A1 1 0 0 0 12.586 5H8.5A1.5 1.5 0 0 0 7 6.5V11h1V6.5a.5.5 0 0 1 .5-.5H12v2.5a1.5 1.5 0 0 0 1.5 1.5H16zM13 6.414V8.5a.5.5 0 0 0 .5.5h2.086zm-2.146 3.732a.5.5 0 0 0-.708.708L11.293 12H5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708z",clipRule:"evenodd"})})});var nd=n(783728),nc=n.n(nd),nu=n(654e3),np=n.n(nu);function nm(){let e=(0,s.d4)(e=>e.mirror?.appModel);return(t,n,i=!1)=>{let a=t[n];if(a&&(i||!a.disabled&&(!a.action||(0,eO.Yh)(e,n))))return a}}function nh(e){switch(e){case no.b.RECENTS:return 0;case no.b.ORGANIZE:return 1;case no.b.TEMPLATES_AND_DIAGRAMS:return 2;case no.b.IMAGE_EDITING:return 3;case no.b.DESIGN_TOOLS:return 4;case no.b.RIFFING_AND_WRITING:return 5;case no.b.COLLABORATION_TOOLS:return 6;case no.b.HANDOFF_TOOLS:return 7;case no.b.VIEWER_TOOLS:return 8;case no.b.SUGGESTIONS:return 9;case no.b.COMMON_SETTINGS:return 10;case null:return 100;default:return(0,O.xb)(e)}}var nf=n(281599),ng=n(913834),n_=n(315361),nx=n(84463),ny=n(259358),nv=n(304434),nb=n(634717);let nC=new Set([Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE]),nE=new Set([...nC,Y.JT.EDIT_IMAGE]);var nj=(e=>(e[e.NONE=0]="NONE",e[e.MULTI_IMAGE=1]="MULTI_IMAGE",e[e.SINGLE_IMAGE=2]="SINGLE_IMAGE",e[e.IMAGE_PLACEHOLDER=3]="IMAGE_PLACEHOLDER",e))(nj||{});let nw=new Map([[Y.JT.REMOVE_BACKGROUND,no.b.IMAGE_EDITING],[Y.JT.UPSCALE_IMAGE,no.b.IMAGE_EDITING],[Y.JT.GENERATE_IMAGE,no.b.IMAGE_EDITING],[Y.JT.EDIT_IMAGE,no.b.IMAGE_EDITING],[Y.JT.AUTO_RENAME_LAYERS,no.b.DESIGN_TOOLS],[Y.JT.CONTENT_FILL,no.b.DESIGN_TOOLS],[Y.JT.FIND_INSPIRATION,no.b.DESIGN_TOOLS],[Y.JT.FIRST_DRAFT,no.b.DESIGN_TOOLS],[Y.JT.FIRST_DRAFT_FINE_TUNE,no.b.DESIGN_TOOLS],[Y.JT.MAGIC_LINK,no.b.DESIGN_TOOLS],[Y.JT.MAKE_EDITS,no.b.DESIGN_TOOLS],[Y.JT.REWRITE_TEXT,no.b.RIFFING_AND_WRITING],[Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,no.b.RIFFING_AND_WRITING],[Y.JT.SLIDES_REWRITE_TEXT,no.b.RIFFING_AND_WRITING],[Y.JT.SHORTEN_TEXT,no.b.RIFFING_AND_WRITING],[Y.JT.TRANSLATE_TEXT,no.b.RIFFING_AND_WRITING],[Y.JT.WHITEBOARD_GENERATE_CONTENT,no.b.TEMPLATES_AND_DIAGRAMS],[Y.JT.SUMMARIZE_STICKIES,no.b.ORGANIZE],[Y.JT.SORT_STICKIES_BY_TOPIC,no.b.ORGANIZE],[Y.JT.MIND_MAP_GENERATE_IDEAS,no.b.TEMPLATES_AND_DIAGRAMS],[Y.OZ,no.b.DESIGN_TOOLS]]),nT=[["set-tool-comments",no.b.COLLABORATION_TOOLS],["present-as-prototype",no.b.COLLABORATION_TOOLS],["set-tool-measure",no.b.HANDOFF_TOOLS],["set-tool-annotate",no.b.HANDOFF_TOOLS],["zoom-to-fit",no.b.VIEWER_TOOLS],["export-selected-exportables",no.b.VIEWER_TOOLS],["copy-as-png",no.b.VIEWER_TOOLS]],nk=[["theme-light-mode",no.b.COMMON_SETTINGS],["theme-dark-mode",no.b.COMMON_SETTINGS],["theme-system",no.b.COMMON_SETTINGS]],nI=[["request-to-edit",no.b.COLLABORATION_TOOLS],["set-tool-comments",no.b.COLLABORATION_TOOLS],["present-as-prototype",no.b.COLLABORATION_TOOLS],["zoom-to-fit",no.b.VIEWER_TOOLS],["page-next",no.b.VIEWER_TOOLS],["export-selected-exportables",no.b.VIEWER_TOOLS],["toggle-rulers",no.b.VIEWER_TOOLS]];var nS=(e=>(e.DESIGN_EDITOR_AI="DESIGN_EDITOR_AI",e.DESIGN_EDITOR_NO_AI="DESIGN_EDITOR_NO_AI",e.DESIGN_VIEWER="DESIGN_VIEWER",e.DEV_MODE="DEV",e.VARIABLES_TABLE="VARIABLES_TABLE",e.NONE="NONE",e))(nS||{});function nN(){let e=d.Ez5?.singleSlideView().isFocusedNodeViewFocused(),t=(0,ns.Vr)(),n=(0,s.d4)(na.Sh);return(!t||!t.isSlide||!e)&&n.length>0}function nA(e,t){let n=(0,s.d4)(e=>e.selectedView);return r.useMemo(()=>new nr.xm(e,n,t,{includeDisabled:!0,acceptsUnicode:!0}),[e,n,t])}var nL=n(882141);n(120440);var nO=n(21791),nR=n(371843),nP=n(54092),nM=n(835307),nD=n(299640),nF=n(193460),nB=n(962856),nU=n(453619),nH=n(30508);function nV({children:e}){return(0,a.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[e,(0,a.jsx)(nB.E,{variant:"brandOutline",children:(0,U.tx)("fullscreen_actions.new")})]})}var nG=n(569565),nz=n(468812),nK=n(291566),nW=n(479902),nZ=n(637220),nq=n(447899);let nX=(0,r.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v6a.5.5 0 0 1-1 0V10h-6v7h2.5a.5.5 0 0 1 0 1h-6A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zM10 17v-7H7v6.5a.5.5 0 0 0 .5.5zM7 9h10V7.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5zm9.7 7.7.315-1.26c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 18.3l-1.26-.315c-.505-.126-.505-.844 0-.97z",clipRule:"evenodd"})})});var nY=n(534989),nJ=n(662549),nQ=n(523758),n$=n(577771),n0=n(352241),n1=n(600826),n2=n(638168),n3=n(933135);let n5=(0,r.memo)(function(e){return(0,n3.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M18 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 7a.5.5 0 0 1 .5.5v1h1a.5.5 0 1 1 0 1h-1v1a.5.5 0 1 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 .5-.5M8.564 7.62l-.589 2.355-2.355.589c-1.495.374-1.495 2.498 0 2.872l2.355.588.59 2.356c.373 1.494 2.497 1.494 2.87 0l.59-2.356 2.355-.588c1.495-.374 1.495-2.498 0-2.872l-2.355-.589-.59-2.355c-.373-1.495-2.497-1.495-2.87 0m.97.242L8.8 10.8l-2.937.734c-.485.121-.485.81 0 .931L8.8 13.2l.734 2.937c.122.485.81.485.932 0L11.2 13.2l2.937-.735c.485-.12.485-.81 0-.93L11.2 10.8l-.734-2.938c-.121-.484-.81-.484-.932 0",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m9.064 7.12-.589 2.356-2.355.589c-1.495.373-1.495 2.498 0 2.871l2.355.589.59 2.355c.373 1.495 2.497 1.495 2.87 0l.59-2.355 2.355-.589c1.495-.373 1.495-2.498 0-2.871l-2.355-.59-.59-2.354c-.373-1.495-2.497-1.495-2.87 0m.97.243L9.3 10.3l-2.937.735c-.485.12-.485.81 0 .931L9.3 12.7l.734 2.938c.122.484.81.484.932 0L11.7 12.7l2.937-.734c.485-.121.485-.81 0-.931L11.7 10.3l-.734-2.937c-.121-.485-.81-.485-.932 0M15.5 7a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1m1.5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M15.5 14a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 1 1 0 1H16v.5a.5.5 0 0 1-1 0V16h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 .5-.5",clipRule:"evenodd"})})});var n4=n(936068),n6=n(889366),n7=n(28391),n9=n(17140),n8=n(945858),ie=n(205088),it=n(640168),ii=n(704726),ia=n(153477),ir=n(517336),is=n(831104),io=n(572253),il=n(125715),id=n(5822),ic=n(913105),iu=n(290407),ip=n(488782),im=n(508158),ih=n(911277),ig=n(609762),i_=n(242498),ix=n(325164);function iy({action:e,actionType:t,actionIcon:n,actionLabel:i,instructionLabel:r}){let[s]=(0,c.fp)(id.hQ),o=(0,i_.s)(e),{close:l}=(0,k.cq)(),d=(0,ee._M)({action:e,clientLifecycleId:void 0});return s?(l(),null):e&&o.state!==i_.w.SELECTION_OK?(0,a.jsx)(ix.A,{action:e,actionIcon:n,actionLabel:i,onPerform:()=>{o.confirmInitialSelection(),(0,id.J7)(t),l()},aiTrackingContext:d,instructionAction:{type:"learn_more",url:Y.UW},children:r}):null}var iv=n(523625),ib=n(854708),iC=n(198038),iE=n(363016),ij=n(645259),iw=n(673611);let iT=async({params:{mermaidText:e}})=>{if(!(0,eu.kc)().figjam_mermaid_to_diagram)return;let t=await eJ.Ay.internal.mermaidToDiagram({visualType:"diagram",mermaidText:e});(0,iw.Rz)("diagram",t)};var ik=n(157294),iI=n(645443),iS=n(998432),iN=n(88314),iA=n(132760),iL=n(58599),iO=n(170627),iR=n(824570),iP=n(511570),iM=n.n(iP),iD=n(357524),iF=n(910445),iB=n(883765),iU=n(498520),iH=n(770366),iV=n(641518),iG=n(978354);function iz(e,t){return(0,iG.YJ)({nodeIds:Object.keys(e),options:{skipNodeIds:!1,detachInstances:!0,includeType:!0,skipNodeIdsWithoutType:t,classPropName:"class",autoLayoutTagName:"div",frameTagName:"div"}})}var iK=n(880875),iW=n(359166);let iZ="first_draft_prompt_history_";var iq=n(920498),iX=n(297293);async function iY(e,t,n){let i=(0,eX.UN)();for(let a of n.flatMap(e=>e.nodeWeightInfos)){let n=i.get(a.nodeId);if(!n)continue;let r=function(e,t,n,i){if(!iX.z[t])return;let a=iX.z[e];if(a)return a[n][i]}(t,n.fontName.family,e,a.weight),s={family:t,style:r?.style??n.fontName.style};try{await (0,iq.uW)(s),iO.l7.user("first-draft-theme-modal-adjust-font-family",()=>{n.fontName=s})}catch(i){let e={family:t,style:"Regular"};try{await (0,iq.uW)(e),iO.l7.user("first-draft-theme-modal-adjust-font-family",()=>{n.fontName=e})}catch(t){let e=void 0===t?"undefined":t instanceof Error?t.message:JSON.stringify(t);iB.az.trackDefinedEvent("ai_generation.first_draft_font_error",{error:e,family:s.family,style:s.style,location:"adjust-font"})}}iO.l7.user("first-draft-theme-modal-adjust-font-family",()=>{r?.letterSpacing!==void 0&&(n.letterSpacing=r.letterSpacing)})}}var iJ=n(583516),iQ=n(950836),i$=n(393470),i0=n(775428),i1=n(260776),i2=n(306184),i3=n(376314),i5=n(128982),i4=n(480135),i6=n(538152);let i7=new i4.q(40);async function i9({changes:e,makeChangesSessionId:t,clientLifecycleId:n,containingNodeId:i,instrumentationRef:a}){let r=(0,eX.UN)().get(e.affectedId);if(!r)return!1;let s=`${t}:${e.affectedId}`;if(i7.has(s))return(0,em.$D)(o.e.AI_GENERATION,Error("first-draft: Attempted to apply content changes twice"),{extra:{clientLifecycleId:n}}),!1;if(i7.set(s,!0),!r.getSharedPluginData("jsx","isImage"))return iO.l7.ai("first-draft-iterate-text-content",()=>(function({node:e,textContent:t}){return"TEXT"!==e.type?((0,eY.xi)("first-draft","Update text called on a non-text node",{nodeId:e.guid,nodeType:e.type}),!1):(e.characters=t,!0)})({node:r,textContent:e.content})),!0;{let t=r.getSharedPluginData("jsx","background");return await a.current.logImageLoad(()=>(0,i6.Og)({node:r,description:e.content,background:t,clientLifecycleId:n,containingNodeId:i,endpoint:eJ.Ay.design.firstDraftCreateImage})),!0}}async function i8(e,t){try{let{parseJSX:i}=await Promise.all([n.e(357),n.e(5568),n.e(9890)]).then(n.bind(n,249890));return i(e,t)}catch{return null}}var ae=n(289798),at=n(127123);async function an({action:e,insertJSX:t,options:{dsKitKey:n,currentTheme:i,imageArgs:a,rootNodeId:r}}){try{let{affectedId:s,jsxToInsert:o}=e,l=(0,eX.UN)().get(s);if(!l)throw Error("Could not find affected node in the scene");let d=(0,eX.UN)().get(r);if(!d)throw Error("Could not find root node in the scene");let c=(0,i2.BY)(d),u=l.parentNode;if(!u)throw Error("Could not find affected node in the scene");let p=u.childrenGuids.indexOf(s);if(-1===p)throw Error("Could not find affected node in the scene");let m="below";"insert"===e.type&&(m=e.insertBehavior);let h=await i8(o);if(!h||0===h.length)throw Error("Failed to parse JSX");let f=(0,ae.fv)(h);if(0===f.size)throw Error("Only building blocks can be inserted or replaced");await t({jsxStr:"```jsx\n"+o+"\n```",options:{...(0,at.Dp)(),insertBehavior:"inline",dsKitKey:n,themeProperties:i,deviceType:c,parentNodeId:u.guid,insertAtIndex:"above"===m?p:p+1,imageArgs:a}}),"replace"===e.type&&iO.l7.ai("first-draft-make-changes-remove",()=>{l.removeSelfAndChildren()})}catch(t){throw(0,em.$D)(o.e.AI_GENERATION,t,{extra:{action:e,dsKitKey:n}}),t}}var ai=n(731930),aa=n(638871);function ar(){let e=(0,ej.eY)(),t=Object.entries((0,ej.KH)()).filter(([e,t])=>t).map(([e])=>e),n=null;for(let i of t)if(n=function(t){let n="",i=t;for(;!n&&i;){let t=e.get(i);if(!t)break;t.getSharedPluginData(aa.SV,"userPrompt")&&(n=i),i=t.parentGuid||""}return n||null}(i))break;return n}var as=n(431222),ao=n(354114),al=n(888760),ad=n(40114);function ac(){return(0,a.jsx)("div",{className:"animation_overlay--Sweep--yk3ZW"})}var au=n(98861),ap=n(598369),am=n(994224),ah=n(13123),af=n.n(ah),ag=(e=>(e.mobile="MOBILE",e.web="WEB",e))(ag||{});function a_(e=1){let t=[{label:(0,U.t)("first_draft.make_changes.prompt_labels.change_font"),prompt:(0,U.t)("first_draft.make_changes.prompts.futuristic_font")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,U.t)("first_draft.make_changes.prompts.calming_colors")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.round_corners"),prompt:(0,U.t)("first_draft.make_changes.prompts.round_corners")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,U.t)("first_draft.make_changes.prompts.watermelon_theme")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.rewrite"),prompt:(0,U.t)("first_draft.make_changes.prompts.punchier_text")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.imagery"),prompt:(0,U.t)("first_draft.make_changes.prompts.vibrant_images")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.add"),prompt:(0,U.t)("first_draft.make_changes.prompts.add_another_section")},{label:(0,U.t)("first_draft.make_changes.prompt_labels.replace"),prompt:(0,U.t)("first_draft.make_changes.prompts.replace_hero_image")}];return eW()(af()(t.filter(e=>""!==ax(e.label))),e=>e.label).slice(0,e)}function ax(e){return e.trim().toLowerCase()}var ay=n(224781),av=n(902892),ab=n(623411),aC=n(177833),aE=n(420680),aj=n(259464),aw=n(688689),aT=n(149073),ak=n(373547),aI=n(366815),aS=n(32331),aN=n(62814),aA=n(502733),aL=n(468779),aO=n(943098);function aR({children:e}){let t=(0,r.useRef)(null),{tracker:n,index:i}=(0,aA.L0)(t),s=r.useMemo(()=>({trackerRef:n,layoutIndex:i}),[i,n]);return(0,a.jsx)(aA.MQ.Provider,{value:s,children:e})}let aP=r.createContext({isFocused:!1});function aM({children:e,defaultActiveIndex:t=0,itemsPerRow:n}){let i=(0,r.useRef)(null),[s,o]=r.useState(!1);r.useEffect(()=>{let e=()=>i.current?.blur();return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.useEffect(()=>{let e=i.current;if(!e)return;let t=()=>o(!0),n=()=>o(!1);return e.addEventListener("focus",t),e.addEventListener("blur",n),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",n)}},[]);let l=(0,r.useMemo)(()=>({isFocused:s,itemsPerRow:n}),[s,n]);return(0,a.jsx)(aN._,{fillWidth:!0,children:(0,a.jsx)("div",{className:"keyboard_navigation_on_focus--parent--XamDV",tabIndex:0,ref:i,children:(0,a.jsx)(aR,{children:(0,a.jsx)(aO.A.Provider,{value:t,children:(0,a.jsx)(aP.Provider,{value:l,children:e})})})})})}function aD({children:e,primaryAction:t,className:n,htmlAttributes:i,...s}){let o=(0,r.useRef)(null),{isFocused:l,itemsPerRow:d}=r.useContext(aP),{active:c,target:u}=(0,aS.H)({ref:o,itemsPerRow:d}),p=r.useCallback(()=>{l&&t()},[l,t]),m=(0,r.useMemo)(()=>({shortcuts:[{key:M.Uz.ENTER}],onAction:p,allowDefault:!0}),[p]);return(0,aL.k)({primaryAction:m,active:c,actionLabel:!1,target:u}),(0,a.jsx)(aI.D8,{forwardedRef:o,className:iM()(n,{"keyboard_navigation_on_focus--active--vGhwX":c}),...i,...s,children:e})}var aF=n(223850),aB=n(778920),aU=n(392260);let aH=[aU.jR,aU.N0,aU.k0,aU.RO,aU.Sb].map(e=>({string:e,color:aF.F.parse(e)}));function aV({theme:e,onChangeColor:t,activeColorIdx:n,activeColorOutline:i,idx:s,colorSwatch:o}){let l=r.useCallback(()=>{t(o.color),ao.Y5.triggerAction("commit")},[o.color,t]);return(0,a.jsx)(aD,{primaryAction:l,children:(0,a.jsx)(aB.pt,{size:"medium",value:o.color,background:"dark"===e?"dark":"light",onClick:l,paletteType:"base",swatchStyle:{...n===s&&{outline:i,outlineOffset:"2px"},boxSizing:"border-box",boxShadow:"none"}},o.string)})}function aG(e){return(0,a.jsx)(aD,{primaryAction:e.onClick,children:(0,a.jsx)("div",{className:B.s.radiusFull.$,children:-1===e.activeColorIdx?(0,a.jsx)(aB.pt,{size:"medium",value:e.value,paletteType:"base",selectionState:"selected_custom",background:"dark"===e.theme?"dark":"light",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}}):(0,a.jsx)(aB.ck,{size:"medium",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})})})}function az({theme:e,onChangeColor:t,setShowCustomColorPicker:n,value:i}){let s=r.useCallback(()=>{n(!0)},[n]),o=(0,iR.zN)(i,iU.DA),{activeColorIdx:l,activeColorOutline:d}=r.useMemo(()=>({activeColorIdx:aH.findIndex(e=>(0,iU.DA)(e.color,o)),activeColorOutline:`2px solid ${aF.F.format(o)}`,value:o}),[o]),c=Math.max(l,0);return(0,a.jsx)(aM,{defaultActiveIndex:c,children:(0,a.jsx)("div",{className:B.s.flex.flexGrow1.justifyBetween.$,style:{boxSizing:"content-box"},children:(0,a.jsxs)(a.Fragment,{children:[aH.map((n,i)=>(0,a.jsx)(aV,{theme:e,onChangeColor:t,activeColorIdx:l,activeColorOutline:d,idx:i,colorSwatch:n},n.string)),(0,a.jsx)(aG,{activeColorIdx:l,value:o,theme:e,onClick:s})]})})})}var aK=n(556230),aW=(e=>(e.COLOR="color",e.RADIUS="radius",e.SPACING="spacing",e.FONT="font",e))(aW||{}),aZ=(e=>(e.TITLE="title",e.BODY="body",e.LABLE="label",e))(aZ||{});let aq="theme_editor--svgText--yyKtR",aX=r.createContext({activeTab:aW.COLOR,onTabChange:()=>{},recordingKey:void 0});function aY({label:e,children:t,tab:n}){let{onTabChange:i,activeTab:s,recordingKey:o}=r.useContext(aX),l=r.useCallback(()=>{i(n)},[i,n]);return(0,a.jsx)(aD,{"aria-label":e,primaryAction:l,className:iM()("theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",s===n&&"theme_editor--iconActive--8Nsgk"),onClick:l,recordingKey:iV.Pt(o,n),htmlAttributes:r.useMemo(()=>({"data-tooltip":e,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip-show-above":!0,"data-clickable":!0}),[e]),children:t})}var aJ=n(265149),aQ=n(506192),a$=n(596628),a0=n(355256),a1=n(661716),a2=n(50435);function a3(e,t){return t===d.NVY.HSL?(0,iL.oB)(e):(0,iL.qN)(e)}function a5({brandColor:e,absoluteContainerId:t,onChangeColor:n,onHide:i}){let o=(0,s.wA)(),l=(0,aQ.Um)(),c=r.useRef(document.getElementById(t||"fullscreen-root"));(0,A.kz)(M.Uz.ESCAPE,i),(0,A.kz)(M.Uz.BACKSPACE,i,document.activeElement?.tagName.toLowerCase()!=="input");let[u,p]=r.useState(d.NVY.HEX),[m,h]=r.useState(a3(e,u)),[f,g]=r.useState({left:0,top:0}),_=r.useRef(),x=()=>{let e=_.current?.getBoundingClientRect();e&&g({left:e.left,top:e.bottom-120})},y=r.useCallback(e=>{e&&(_.current=e,x())},[]);(0,aJ.wY)(_,()=>x()),(0,aJ.wY)(c,()=>x());let v=(0,iF.A)(async(e,t)=>{await n(e),t&&ao.Y5.triggerAction("commit")},100),b=r.useCallback((e,t)=>{h(e),v((0,iL.w_)(e),t)},[v]),C=r.useCallback(e=>{e.a=1,v(e,!0),h((0,a$.QS)(m,a3(e,u),e))},[m,u,v]),E={color:e,value:m,changeCallback:b,hideOpacity:!0,colorFormat:u,dispatch:o,currentTool:d.NLJ.CODE_BLOCK,dropdownShown:l,onColorChange:C,canAcceptStyles:!1,canAcceptVariables:!1};return(0,a.jsxs)("div",{className:B.s.flex.pr16.pl16.pt8.pb4.flexRow.justifyCenter.itemsEnd.flexGrow1.gap16.$,children:[(0,a.jsxs)("div",{className:B.s.flex.flexRow.justifyCenter.itemsCenter.flexGrow1.gap8.$,children:[(0,a.jsx)(aE.K,{"aria-label":(0,U.t)("first_draft.theme_tool.close_panel"),onClick:()=>i(),recordingKey:"closeSectionEditor",children:(0,a.jsx)(aT.C,{})}),(0,a.jsxs)("div",{className:B.s.flex.flexColumn.justifyBetween.wFull.itemsEnd.gap4.$,children:[(0,a.jsx)("div",{className:B.s.flex.justifyBetween.itemsCenter.wFull.$,children:(0,a.jsx)(a1.e,{width:168,color:m,changeCallback:b})}),(0,a.jsxs)("div",{className:B.s.flex.justifyBetween.itemsCenter.wFull.gap8.$,style:{maxWidth:210},children:[(0,a.jsx)(a0.p,{selectClassName:iM()(B.s.flexShrink1.flexGrow0.flex.$,"theme_editor--colorSelect--wIbMH","theme_editor--precedence--lvYGC"),colorFormat:u,onColorFormatChange:e=>{p(e),"l"in m&&e!==d.NVY.HSL?h((0,iL.qN)((0,iL.w_)(m))):e!==d.NVY.HSL||"l"in m||h((0,iL.oB)((0,iL.w_)(m)))},dispatch:o,dropdownShown:l}),u===d.NVY.HEX&&(0,a.jsx)(a$.dt,{...E}),u===d.NVY.RGB&&(0,a.jsx)(a$.VA,{...E}),u===d.NVY.CSS&&(0,a.jsx)(a$.he,{...E}),(u===d.NVY.HSL||u===d.NVY.HSB)&&(0,a.jsx)(a$.fC,{...E})]})]})]}),(0,a.jsx)("div",{className:B.s.flex.justifyCenter.itemsCenter.relative.mr8.$,ref:y,children:(0,a.jsx)("div",{style:{width:115},children:(0,a.jsxs)("div",{style:{position:"fixed",width:115,height:115,...f},children:[(0,a.jsx)("div",{className:iM()("theme_editor--pickerUnderlay--gfCHS",B.s.colorBg.elevation200.absolute.p2.$),style:{width:115,height:115,borderRadius:14}}),(0,a.jsx)("div",{className:iM()("theme_editor--pickerOverlay--Ykwy9",B.s.flex.colorBg.absolute.p2.overflowHidden.justifyCenter.alignCenter.$),style:{width:115,height:115,borderRadius:14},children:(0,a.jsx)(a2.T,{containerClass:"theme_editor--pickerWrapper--fs-6V",size:115,color:m,changeCallback:b,canvasWrapperStyles:{outlineWidth:0,borderRadius:"13px"},ghostStyles:{boxShadow:"none"}})})]})})})]})}var a4=n(499035);function a6(e){let t=(0,ak.DP)(),n=e.brandColor,i=aK.ER.get(Math.round(2*e.cornerRadiusStop)/2),s=aK.NT.get(Math.round(2*e.spacingStop)/2),o=r.useMemo(()=>({activeTab:e.activeTab,onTabChange:e.onTabChange,recordingKey:e.recordingKey}),[e.activeTab,e.onTabChange,e.recordingKey]);return(0,a.jsx)(aX.Provider,{value:o,children:(0,a.jsx)(aM,{defaultActiveIndex:function(e){switch(e){case aW.COLOR:return 0;case aW.RADIUS:return 1;case aW.SPACING:return 2;case aW.FONT:return 3}}(e.activeTab),children:(0,a.jsxs)(en.B,{fullWidth:!0,justify:"space-between",children:[(0,a.jsx)(aY,{tab:aW.COLOR,label:(0,U.t)("first_draft.theme_panel.color"),children:(0,a.jsx)(aB.pt,{size:"medium",value:n,paletteType:"base",background:"dark"===t?"dark":"light",swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})}),(0,a.jsx)(aY,{tab:aW.RADIUS,label:(0,U.t)("first_draft.theme_panel.radius"),children:(0,a.jsx)(eg.B,{svg:i,className:"theme_editor--svgIcon--ongu6"})}),(0,a.jsx)(aY,{tab:aW.SPACING,label:(0,U.t)("first_draft.theme_panel.spacing"),children:(0,a.jsx)(eg.B,{svg:s,className:aq})}),(0,a.jsx)(aY,{tab:aW.FONT,label:(0,U.t)("first_draft.theme_panel.font"),children:(0,a.jsx)(eg.B,{svg:a4.A,className:aq})})]})})})}let a7={[aW.COLOR]:function(e){let t=(0,ak.DP)(),[n,i]=r.useState(!1),{focusParent:s}=e,o=r.useCallback(()=>{i(!1),s?.()},[s]);return n?(0,a.jsx)(a5,{onHide:o,...e}):(0,a.jsxs)("div",{className:B.s.flex.flexRow.flexGrow1.p16.pt12.pb12.gap16.itemsCenter.$,children:[(0,a.jsx)(ri,{recordingKey:e.recordingKey}),(0,a.jsx)("div",{className:B.s.flex0.flexShrink0.$,children:(0,a.jsxs)(ay.bL,{onChange:e.onChangeColorMode,value:e.colorMode,recordingKey:iV.Pt(e,"colorModePicker"),legend:(0,a.jsx)(av.q,{children:(0,U.tx)("first_draft.theme_tool.color.mode_picker")}),children:[(0,a.jsx)(ay.c$,{value:"light","aria-label":(0,U.t)("first_draft.theme_tool.color.light_mode"),icon:(0,a.jsx)("div",{className:B.s.flex.w44.itemsCenter.justifyCenter.$,children:(0,a.jsx)(aj.Z,{})})}),(0,a.jsx)(ay.c$,{value:"dark","aria-label":(0,U.t)("first_draft.theme_tool.color.dark_mode"),icon:(0,a.jsx)("div",{className:B.s.flex.w44.itemsCenter.justifyCenter.$,children:(0,a.jsx)(aw.a,{})})})]})}),(0,a.jsx)(az,{value:e.brandColor,onChangeColor:e.onChangeColor,theme:t,setShowCustomColorPicker:i})]})},[aW.RADIUS]:function(e){let[t,n]=r.useState(e.cornerRadiusStop);return(0,a.jsxs)("div",{className:B.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$,children:[(0,a.jsx)(ri,{recordingKey:e.recordingKey}),(0,a.jsx)(ab.J,{className:B.s.opacity0_5.$,children:(0,U.tx)("first_draft.theme_panel.radius")}),(0,a.jsx)(aC.A,{"aria-label":(0,U.t)("first_draft.theme_panel.radius"),bigStep:.2,defaultValue:t,max:aK.Ne,min:aK.Xy,onChange:e.onChangeCornerRadiusStop,rangeAnchor:aK.Xy,recordingKey:iV.Pt(e,"cornerRadiusSlider"),step:.1,value:e.cornerRadiusStop})]})},[aW.SPACING]:function(e){let[t,n]=r.useState(e.spacingStop);return(0,a.jsxs)("div",{className:B.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$,children:[(0,a.jsx)(ri,{recordingKey:e.recordingKey}),(0,a.jsx)(ab.J,{className:B.s.opacity0_5.$,children:(0,U.tx)("first_draft.theme_panel.spacing")}),(0,a.jsx)(aC.A,{"aria-label":(0,U.t)("first_draft.theme_panel.spacing"),bigStep:.2,defaultValue:t,max:aK.Ne,min:aK.Xy,onChange:e.onChangeSpacingStop,rangeAnchor:aK.Xy,recordingKey:iV.Pt(e,"spacingSizeSlider"),step:aK.jF,value:e.spacingStop})]})},[aW.FONT]:function(e){let[t,n,i]=iA.t.useTabs({[aZ.TITLE]:null!==e.titleFont,[aZ.BODY]:null!==e.bodyFont,[aZ.LABLE]:null!==e.labelFont},{recordingKey:iV.Pt(e,"fontEditor")});return(0,a.jsxs)("div",{className:B.s.flex.flex1.flexColumn.$,children:[(0,a.jsxs)("div",{className:B.s.flex.flex1.flexRow.gap8.p8.$,children:[(0,a.jsx)(ri,{recordingKey:e.recordingKey}),(0,a.jsxs)(iA.t.TabStrip,{manager:i,children:[(0,a.jsx)(iA.t.Tab,{...t.title,children:(0,U.tx)("first_draft.theme_panel.label.fontTitle")}),(0,a.jsx)(iA.t.Tab,{...t.body,children:(0,U.tx)("first_draft.theme_panel.label.fontBody")}),(0,a.jsx)(iA.t.Tab,{...t.label,children:(0,U.tx)("first_draft.theme_panel.label.fontLabel")})]})]}),(0,a.jsx)("div",{className:B.s.wFull.colorBgTertiary.h1.$}),(0,a.jsxs)("div",{className:B.s.flex.flex1.flexColumn.gap8.p8.$,children:[(0,a.jsx)(iA.t.TabPanel,{...n.title,children:(0,a.jsx)(re,{...e})}),(0,a.jsx)(iA.t.TabPanel,{...n.body,children:(0,a.jsx)(rt,{...e})}),(0,a.jsx)(iA.t.TabPanel,{...n.label,children:(0,a.jsx)(rn,{...e})})]})]})}};function a9(e){let t=r.useRef(null),n=r.useCallback(()=>{t.current?.focus()},[]);if(r.useLayoutEffect(n,[n]),!e.section)return null;let i=a7[e.section];return(0,a.jsx)("div",{ref:t,tabIndex:-1,className:iM()("theme_editor--boxInherit--BjYCO",B.s.flex.relative.wFull.$),children:(0,a.jsx)(i,{focusParent:n,...e})})}function a8({selectedKey:e,items:t,recordingKey:n}){let i=t.findIndex(({key:t})=>t===e);return(0,a.jsx)(aM,{defaultActiveIndex:i>-1?i:0,itemsPerRow:5,children:(0,a.jsx)("div",{className:B.s.flex.flex1.flexWrap.itemsCenter.rowGap8.justifyBetween.$,children:t.map(({key:t,name:i,svg:r,onClick:s})=>(0,a.jsx)(aD,{"aria-label":i,recordingKey:iV.Pt(n,t),className:iM()("theme_editor--fontIconButton--Vc-KE theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",aq,e===t&&"theme_editor--selected--2BGbx"),primaryAction:s,onClick:s,htmlAttributes:{"data-tooltip":i,"data-tooltip-show-above":!0,"data-tooltip-type":eA.Ib.TEXT},children:(0,a.jsx)(eg.B,{svg:r})},t))})})}function re(e){let t=`FontTitle_${e.titleFont}`,n=Array.from(aK.X4).map(([t,n])=>({key:`FontTitle_${t}`,name:t,svg:n,onClick:()=>e.onChangeTitleFont(t)}));return null===e.titleFont?null:(0,a.jsx)(a8,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function rt(e){let t=`FontBody_${e.bodyFont}`,n=Array.from(aK.K4).map(([t,n])=>({key:`FontBody_${t}`,name:t,svg:n,onClick:()=>e.onChangeBodyFont(t)}));return null===e.bodyFont?null:(0,a.jsx)(a8,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function rn(e){let t=`FontLabel_${e.labelFont}`,n=Array.from(aK.pz).map(([t,n])=>({key:`FontLabel_${t}`,name:t,svg:n,onClick:()=>e.onChangeLabelFont(t)}));return null===e.labelFont?null:(0,a.jsx)(a8,{selectedKey:t,items:n,recordingKey:e.recordingKey})}function ri({recordingKey:e}){let{pop:t}=(0,k.cq)();return(0,A.kz)(M.Uz.ESCAPE,t),(0,A.kz)(M.Uz.BACKSPACE,t),(0,a.jsx)("div",{className:B.s.h24.$,children:(0,a.jsx)(aE.K,{recordingKey:iV.Pt(e,"backButton"),onClick:t,"aria-label":(0,U.t)("qa.go_back"),children:(0,a.jsx)(aT.C,{})})})}var ra=n(390178);function rr(e){let{close:t}=(0,k.cq)();(0,ej.f4)(n=>{if(e)for(let e of Object.keys(n.mirror.sceneGraphSelection)){let n=(0,eX.UN)().get(e);if(n&&!n.isOrInFirstDraft){t();return}}})}var rs=(e=>(e[e.READY_FOR_PROMPT=0]="READY_FOR_PROMPT",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e[e.ERROR=3]="ERROR",e[e.ICANTDOTHIS=4]="ICANTDOTHIS",e))(rs||{}),ro=(e=>(e.PROMPT="prompt",e.THEME="theme",e))(ro||{});function rl(e,t){switch(t.type){case"NEW_ROOT_NODE":case"EDIT_INFO_UPDATED":return t.payload;case"SET_BRAND_COLOR":return{...e,brandColor:t.payload};case"SET_RADIUS":return{...e,radius:t.payload};case"SET_SPACING":return{...e,spacing:t.payload};case"SET_COLOR_MODE":return{...e,colorMode:t.payload};case"SET_TITLE_FONTS":return{...e,titleFonts:t.payload};case"SET_BODY_FONTS":return{...e,bodyFonts:t.payload};case"SET_LABEL_FONTS":return{...e,labelFonts:t.payload}}}let rd={brandColor:iU.UE,colorMode:i0.lH.LIGHT,spacing:1,radius:1,titleFonts:[],bodyFonts:[],labelFonts:[]};function rc(e,{pinnedRanges:t}={}){let n=(0,eX.UN)().get(e);if(!n)return rd;let i=(0,i2.BY)(n),a=(0,i2.uP)(n,{pinnedRanges:t}),r=(0,i2.Mz)(n,i),s=(0,i1.X6)(n)??iU.UE;return{brandColor:(0,iU.tK)((0,iQ.tb)(s,a.colors))??iU.UE,colorMode:(0,i$.P)(n)??i0.lH.LIGHT,spacing:(0,iJ.YB)(a.spacingRangesForGuids),radius:(0,iJ.nd)(a.radiusValues),titleFonts:r.title,bodyFonts:r.body,labelFonts:r.label}}function ru({initialRootGuid:e}){let t=(0,ee._M)({action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,clientLifecycleId:void 0}),n=t.clientLifecycleId,i=(0,z.tS)(),s=r.useCallback(()=>{(0,iB.sx)("First Draft: Error",{file_key:i,clientLifecycleId:n,view:"firstDraftMakeChanges"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[i,n]);return(0,a.jsx)(u.tH,{boundaryKey:"FirstDraftMakeChanges",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:n,area:o.e.AI_GENERATION},onError:s,children:(0,a.jsx)(rp,{recordingKey:"firstDraftMakeChangesView",initialRootGuid:e,aiTrackingContext:t})})}function rp(e){let t=e.aiTrackingContext,n=t.clientLifecycleId,[i,l]=r.useState(""),c=(0,z.tS)(),u=(0,ej.eY)(),{allUsableKitEntries:p}=(0,am.sI)(),m=ar()||e.initialRootGuid,h=(0,ej.KH)(),f=(0,r.useMemo)(()=>m?u.get(m):null,[u,m]),{applyMakeChanges:g,resetMakeChanges:_,instrumentationRef:x}=function({clientLifecycleId:e}){let[t]=(0,r.useState)({current:(0,D.g)()}),{insertJSX:n,resetAsync:i,instrumentationRef:a}=(0,ai.Vh)({clientLifecycleId:e,insertType:"makeChanges"});return{applyMakeChanges:(0,r.useCallback)(async(r,s)=>{let l=[];for(let e of("affectedId"in r&&l.push(r.affectedId),"destinationId"in r&&l.push(r.destinationId),l)){if(!function e(t,n,i){let a=t.get(n);return!!a&&(a.guid===i||!!a.parentGuid&&e(t,a.parentGuid,i))}((0,eX.UN)(),e,s.rootNodeId)){(0,em.$D)(o.e.AI_GENERATION,Error("first-draft: Node does not have root node as ancestor"),{extra:{nodeId:e,action:r,...s}});return}if(e===s.rootNodeId){(0,em.$D)(o.e.AI_GENERATION,Error("first-draft: Tried to mutate root node"),{extra:{nodeId:e,action:r,...s}});return}}switch(await i(),r.type){case"theme":{let{content:e}=r;e&&function(e,t,n){let i=(0,eX.UN)().get(e);if(!i)return;let a=(0,i2.BY)(i);if(["borderRadii","spacing","colors","fontFamilies"].some(e=>e in n)){let e=(0,i2.k5)(t,n);(0,i2.jR)(i,e,a)}let r=t.darkMode?i0.lH.DARK:i0.lH.LIGHT,s=t.brandColor??function(e){let t=(0,i2.uP)(e,{ignoreOpacity:!0}),n=(0,i1.X6)(e)??iU.UE;return(0,iQ.tb)(n,t.colors)}(i),o="darkMode"in n?n.darkMode?i0.lH.DARK:i0.lH.LIGHT:void 0;if(o&&r!==o&&iO.l7.ai("first-draft-make-changes-theme-switch-mode",()=>{(0,i$.t)(i,o,s)}),"brandColor"in n&&n.brandColor){let e=(0,iU.tK)(n.brandColor);if(e){let t=(0,i1.qO)(e,o??r);iO.l7.ai("first-draft-make-changes-theme-brand-color",()=>{(0,iQ.l9)(i,t,o??r??i0.lH.LIGHT,{},s)})}}}(s.rootNodeId,s.currentTheme,e);break}case"text_or_image":await i9({changes:r,makeChangesSessionId:t.current,clientLifecycleId:e,containingNodeId:s.rootNodeId,instrumentationRef:a});break;case"insert":case"replace":await an({action:r,options:s,insertJSX:n}),await i();break;case"remove":iO.l7.ai("first-draft-make-changes-remove",()=>{let e=(0,eX.UN)().get(r.affectedId);e&&e.removeSelfAndChildren()});break;case"move":{let{affectedId:e,destinationId:t,insertBehavior:n}=r;iO.l7.ai("first-draft-make-changes-move",()=>{let i=(0,eX.UN)(),a=i.get(e),r=i.get(t),s=r?.parentNode,o=s?.childrenGuids.indexOf(t)??-1;a&&s&&("above"===n?s.insertChild(a,o):"below"===n&&(o<s.childCount-1?s.insertChild(a,o+1):s.appendChild(a)))});break}case"replaceClasses":{let{affectedId:e,classes:t}=r,n=(0,eX.UN)().get(e),i=n?.isIconLike&&(0,i0.Dk)(n)===i0.lg.CONTENT?"Icon":void 0;iO.l7.ai("first-draft-make-changes-replace-classes",()=>{for(let n of t)(0,i5.w)(e,n,i)})}}},[e,t,n,a,i]),resetMakeChanges:(0,r.useCallback)(()=>{t.current=(0,D.g)()},[t]),instrumentationRef:a}}({clientLifecycleId:n}),[y,v]=r.useState(0),[b,C]=r.useState(Error((0,U.t)("first_draft.something_went_wrong"))),[E,j]=r.useState(null),[w,T,k]=iA.t.useTabs({prompt:!0,theme:!0},{defaultActive:"theme",recordingKey:iV.Pt(e,"tabs")}),[I,S]=r.useState(!1);rr(2===y||3===y||4===y);let N=r.useRef(1),A=r.useRef(null);(0,r.useEffect)(()=>{A.current=i},[i]);let[L,R]=r.useState(Date.now()),P=(0,s.wA)(),M=r.useRef(I);(0,r.useEffect)(()=>{I!==M.current&&f&&(I?(0,ap.Vm)(f.guid,(0,a.jsx)(ac,{})):(0,ap.ks)(f.guid),M.current=I)},[I,f]);let F=r.useCallback(()=>{N.current+=1,x.current.trackFinished("stopped"),rf(t,"stopped"),v(0),S(!1)},[v,t,N,x]),B=r.useCallback(async()=>{_();let e=N.current,i={file_key:c,clientLifecycleId:n,generation_id:f?.firstDraftData?.generationId};try{if(x.current.start(),v(1),j(null),R(Date.now()),!f)throw Error("Root node not found");let a=f&&f.getSharedPluginData(aa.SV,"userPrompt")||"",r=rh(f),s="LOCAL"===r.type,o=s?d.XJn.getKitKey(r.pageId):r.key,l=p.find(e=>"key"in e.dsKitKey&&e.dsKitKey.key===o);Object.assign(i,{dsKitType:r.type,isLocal:s,kitKey:o,kitIdentifier:l?.metadata?.identifier??null}),(0,iB.sx)("First Draft: Make Changes Started",{...i,hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),(0,ee.Dl)(t);let{jsxStr:c}=iz({[f.guid]:!0},!1),{jsxStr:u}=iz({[f.guid]:!0},!0);if(!c||!u){(0,iB.sx)("First Draft: Make Changes Ended",{...i,timeElapsedMs:Date.now()-L,status:"failed",reason:"infer-jsx-failed",hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),rf(t,"error"),v(2);return}let m=A.current||"",_=function(e){if(!(0,eu.kc)().first_draft_prompt_history||!(0,eu.kc)().first_draft_make_changes_history)return[];let t=(0,iW.Q_)();if(!t)return[];let n=`${iZ}${e}`,i=t.getItem(n);if(!i)return[];try{return e$.z.array(iK.Db).parse(JSON.parse(i))}catch{}return[]}(f.guid),y=function(e){let t=(0,i2.uP)(e,{ignoreOpacity:!0}),n=(0,i1.X6)(e)??iU.UE,i=(0,iQ.tb)(n,t.colors),a=(0,i$.P)(e)??i0.lH.LIGHT;return{...(0,i2.rO)(e,t),version:2,brandColor:i,darkMode:"dark"===a}}(f),b=await eJ.Ay.design.firstDraftMakeChanges({userPrompt:m,promptHistory:_,storedInitialPrompt:a,kitKey:o??"",isLocal:s,currentTheme:y,jsx:c,jsxInsertReplace:u},(0,as.sF)({clientLifecycleId:n}));_.push({prompt:m}),function(e,t){let n=(0,iW.Q_)();if(!n)return;let i=`${iZ}${e}`;n.setItem(i,JSON.stringify(t))}(f.guid,_);let C=b.getReader(),E=[];for(;;){let{done:n,value:s}=await C.read();if(e!==N.current){C.cancel();break}if(x.current.trackFirstByteReceived(),n&&x.current.trackLastStreamByteReceived(),(0,eY.Lo)("makeChanges","Response message",{message:s}),s?.trace&&j(s.trace),s?.action){if("replaceClasses"===s.action.type&&!(0,eu.kc)().first_draft_surgical_edits){(0,eY.xi)("makeChanges","Unsupported action",{action:s.action.type}),(0,iH.Rh)("first_draft.client.make_changes.unsupported_action",{action:s.action.type}),E.push(Promise.reject(new iS.G1("make_changes_unsupported",{})));continue}if((0,iB.sx)("First Draft: Make Changes Prompt Action",{...i,action:s.action.type},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),"iCantDoThis"===s.action.type){let e=s.action.rationaleCategory;E.push(Promise.reject(new iS.G1("make_changes_unsupported",{rationaleCategory:e})))}else E.push(g(s.action,{dsKitKey:r,rootNodeId:f.guid,currentTheme:y,imageArgs:{initialUserPrompt:a}}))}if(n){let e=await Promise.allSettled(E);if(!E.length)throw(0,eY.xi)("makeChanges","No actions were applied from the prompt response"),(0,iH.Rh)("first_draft.client.make_changes.no_actions_applied"),new iS.G1("make_changes_unsupported",{});if(e.every(e=>"rejected"===e.status)){for(let t of e)if("rejected"===t.status)throw t.reason}(0,iB.sx)("First Draft: Make Changes Ended",{...i,status:"completed",timeElapsedMs:Date.now()-L,hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),rf(t,"success"),x.current.trackFinished("success"),v(2),ao.Y5.triggerAction("commit");break}}}catch(r){(0,eY.xi)("makeChanges","Error",{error:r});let e=r instanceof iS.G1,n={...i,timeElapsedMs:Date.now()-L,error:r.toString(),status:"failed",reason:"error"},a=e?"handled_internally":(0,em.$D)(o.e.AI_GENERATION,r,{extra:n});(0,iB.sx)("First Draft: Make Changes Ended",{...n,sentryEventId:a},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),rf(t,"error"),x.current.trackFinished("failure"),e&&("make_changes_unsupported"===r.type||"make_changes_moderated"===r.type)?((0,iB.sx)("First Draft: Make Changes Prompt Action",{...i,action:"make_changes_unsupported"===r.type?"iCantDoThis":"blocked"},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),v(4)):v(3),C(r instanceof Error?r:Error("Unknown error"))}finally{e===N.current&&(N.current+=1)}},[c,n,N,x,f,h,t,L,g,_,p]),H=()=>{v(0),(0,au.k)()},V=E&&(0,eu.kc)().cortex_execution_tracing;switch(y){case 1:return(0,a.jsx)(ij.F,{onStop:F,aiTrackingContext:t,recordingKey:iV.Pt(e,"running"),children:(0,U.tx)("first_draft.making_changes")});case 3:return V&&(0,ra.A)(P,E),(0,a.jsx)(ib.E,{error:b,customMessage:(0,U.t)("first_draft.something_went_wrong"),recordingKey:iV.Pt(e,"error"),buttons:[{type:ib.f.GO_BACK,callback:H}],aiTrackingContext:t});case 4:return V&&(0,ra.A)(P,E),(0,a.jsx)(ib.E,{error:b,customMessage:(e=>{let t=(0,U.t)("first_draft.make_changes.i_cant_do_this");if(e instanceof iS.G1){if("make_changes_moderated"===e.type)return(0,U.t)("ai.error.unsafe_or_harmful");if(!(0,eu.kc)().first_draft_make_changes_errors)return t;if("make_changes_unsupported"===e.type&&e.data?.rationaleCategory){let t=e.data.rationaleCategory;switch(t){case"component":return(0,U.t)("first_draft.make_changes.i_cant_do_this_component");case"font":return(0,U.t)("first_draft.make_changes.i_cant_do_this_font");case"layout":return(0,U.t)("first_draft.make_changes.i_cant_do_this_layout");case"other":break;default:return(0,O.xb)(t)}}}return t})(b),recordingKey:iV.Pt(e,"unsupported"),buttons:[{type:ib.f.GO_BACK,callback:H}],aiTrackingContext:t});case 2:let G=[];return(0,al.KK)()&&!(0,eu.kc)().first_draft_use_gemini&&(G.push({type:iC.is.UNDO_MAKE_CHANGES,callback:()=>{v(0),ao.Y5.triggerAction("undo"),(0,iB.sx)("First Draft: Make Changes Undo",{file_key:c,clientLifecycleId:n},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0}),(0,au.k)()}}),G.push({type:iC.is.MAKE_CHANGES,callback:H})),V&&(0,ra.A)(P,E),(0,a.jsx)(iC.Oq,{recordingKey:iV.Pt(e,"iterate"),iterateOptions:G,aiTrackingContext:{...t,iteration_view_type:iv.$J.SUCCESS_WITH_ITERATION},stayOpen:!0});case 0:return(0,a.jsx)(rm,{promptValue:i,setPromptValue:l,rootNode:f,tabManager:k,tabPropsMap:w,tabPanelPropsMap:T,handleSubmit:B,recordingKey:e.recordingKey,aiTrackingContext:t});default:(0,O.xb)(y)}}function rm({promptValue:e,setPromptValue:t,rootNode:n,tabManager:i,tabPropsMap:s,tabPanelPropsMap:o,handleSubmit:l,recordingKey:d,aiTrackingContext:c}){let u=c.clientLifecycleId,[p,m]=r.useState(a_(1)[0].prompt),[h,f]=r.useState(a_(3)),[g,_]=r.useReducer(rl,rd),x=r.useCallback(e=>{v.current=Date.now(),_(e)},[_]),y=(0,iR.zN)(n,(e,t)=>e?.guid===t?.guid);(0,r.useEffect)(()=>{x({type:"NEW_ROOT_NODE",payload:rc(y?.guid??"")})},[y?.guid,x]);let v=r.useRef(-1/0),b=r.useRef((0,iJ.$L)(y)),C=r.useRef((0,i2.nF)((0,iJ.uq)(y))),E=r.useRef(g.radius),j=r.useRef(g.spacing);(0,r.useEffect)(()=>{b.current=(0,iJ.$L)(y),C.current=(0,i2.nF)((0,iJ.uq)(y));let e=rc(y?.guid??"");E.current=e.radius,j.current=e.spacing},[y]);let{close:w}=(0,k.cq)(),T=(0,z.tS)(),I=r.useMemo(()=>{let e,t;let n={file_key:T,clientLifecycleId:u,generation_id:y?.firstDraftData?.generationId};return y&&(t="LOCAL"===(e=rh(y)).type?e.pageId:e.key),Object.assign(n,{dsKitType:null!=e?e.type:null,kitKey:t}),n},[y,T,u]),S=g.colorMode,N=g.brandColor,A=g.radius,L=g.spacing,O=g.titleFonts,R=g.bodyFonts,P=g.labelFonts,D=(0,iD.ei)(y?.guid),F=(0,iR.k9)(()=>D,[D]);r.useEffect(()=>{let e=rc(y?.guid??"",{pinnedRanges:C.current});(0,iN.xN)((0,iL.oB)(N).h,(0,iL.oB)(e.brandColor).h,.01)&&(e.brandColor=N);let t=F?.lastEditedAt??-1/0;(t>v.current||v.current-t>1e3)&&x({type:"EDIT_INFO_UPDATED",payload:e})},[N,x,F,y?.guid,g.radius,g.spacing]);let H=(0,iF.A)(e=>{(0,iB.sx)("First Draft: Make Changes Color Change",{...I,color:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},5e3),V=r.useCallback(e=>{e!==S&&(iO.l7.user("first-draft-switch-color-mode",()=>{(0,i$.t)(y,e,(0,iU.F_)(g.brandColor))}),H(S),ao.Y5.triggerAction("commit"),x({type:"SET_COLOR_MODE",payload:e}))},[S,H,x,y,g.brandColor]),G=r.useMemo(()=>(0,iQ.N_)(y),[y]),K=r.useRef(null),W=r.useRef(null),Z=r.useCallback((e,t)=>{if(W.current)K.current=[e,W.current];else{W.current=e;let n=(0,iU.F_)(t);iO.l7.user("first-draft-apply-brand-color",()=>{(0,iQ.l9)(y,e,S,G,n)}),setTimeout(()=>{if(W.current=null,K.current){let[e,t]=K.current;K.current=null,Z(e,t)}},30)}},[S,G,y]),q=r.useCallback(e=>{H((0,iU.F_)(e));let t={...(0,i1.qO)(e,S),a:1};Z(t,N),x({type:"SET_BRAND_COLOR",payload:t})},[x,H,S,Z,N]),X=(0,iF.A)(e=>{(0,iB.sx)("First Draft: Make Changes Radius Change",{...I,radius:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),J=(0,iF.A)(e=>{X(e),(0,iJ.oP)(b.current,e,E.current)},100),Q=r.useCallback((e,t)=>{t.commit&&ao.Y5.triggerAction("commit"),e!==A&&(J(e),x({type:"SET_RADIUS",payload:e}))},[A,x,J]),$=(0,iF.A)(e=>{(0,iB.sx)("First Draft: Make Changes Spacing Change",{...I,spacing:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),et=(0,iF.A)(e=>{$(e),(0,iJ.HS)(C.current,e,j.current)},100),ei=r.useCallback((e,t)=>{t.commit&&ao.Y5.triggerAction("commit"),e!==L&&(et(e),x({type:"SET_SPACING",payload:e}))},[x,et,L]),ea=(0,iF.A)((e,t)=>{(0,iB.sx)("First Draft: Make Changes Font Change",{...I,font_location:e,font_type:t},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),er=r.useCallback(e=>0===e.length?null:e[0].family,[]),es=r.useCallback(async e=>{await iY(i3.lu.TITLE,e,O),ea("title",e),ao.Y5.triggerAction("commit"),y&&x({type:"SET_TITLE_FONTS",payload:(0,i2.Mz)(y,(0,i2.BY)(y)).title})},[O,ea,y,x]),eo=r.useCallback(async e=>{await iY(i3.lu.BODY,e,g.bodyFonts),ea("body",e),ao.Y5.triggerAction("commit"),y&&x({type:"SET_BODY_FONTS",payload:(0,i2.Mz)(y,(0,i2.BY)(y)).body})},[g.bodyFonts,ea,y,x]),el=r.useCallback(async e=>{await iY(i3.lu.LABEL,e,g.labelFonts),ea("label",e),ao.Y5.triggerAction("commit"),y&&x({type:"SET_LABEL_FONTS",payload:(0,i2.Mz)(y,(0,i2.BY)(y)).label})},[g.labelFonts,ea,y,x]),ed=(0,r.useCallback)(e=>{(0,ee.SX)({...c,...(0,ee.Q0)(e),interaction:iv.NI.GENERATE}),l()},[c,l]),[ec,ep]=r.useState(aW.COLOR),em=(0,a.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:ed,disabled:!y||0===e.length,recordingKey:iV.Pt(d,"submit"),children:(0,U.tx)("first_draft.make_changes")}),eh=(0,a.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:w,recordingKey:iV.Pt(d,"doneTheming"),children:(0,U.tx)("first_draft.done_theming")});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.B,{fullWidth:!0,align:"center",justify:"space-between",gap:0,children:"theme"===i.activeTab&&(0,a.jsx)(a9,{bodyFont:er(R),brandColor:N,colorMode:S,cornerRadiusStop:A,labelFont:er(P),onChangeBodyFont:eo,onChangeColor:q,onChangeColorMode:V,onChangeCornerRadiusStop:Q,onChangeLabelFont:el,onChangeSpacingStop:ei,onChangeTitleFont:es,recordingKey:iV.Pt(d,"themeEditorDrawer"),section:ec,spacingStop:L,titleFont:er(O)})}),(0,a.jsxs)("div",{className:iM()(B.s.p8.relative.$,"theme"===i.activeTab&&"first_draft_make_changes_view--contentBoxed--L-H0e",ec&&B.s.elevation500.radiusLarge.$),"data-testid":"readyForPromptView",children:[(0,a.jsx)(iA.t.TabPanel,{...o.prompt,children:(0,a.jsx)(ad.XG,{action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,value:e,onChange:t,recordingKey:iV.Pt(d,"prompt"),suggestion:p,suggestionPills:(0,eu.kc)().first_draft_new_prompt_pills?h:void 0})}),(0,a.jsx)(iA.t.TabPanel,{...o.theme,children:(0,a.jsx)(a6,{activeTab:ec,onTabChange:ep,brandColor:N,cornerRadiusStop:A,spacingStop:L,titleFont:er(O),bodyFont:er(R),labelFont:er(P),recordingKey:iV.Pt(d,"themeEditor")})}),(0,a.jsxs)(en.B,{fullWidth:!0,justify:"space-between",children:[(0,a.jsxs)(iA.t.TabStrip,{manager:i,children:[(0,a.jsx)(iA.t.Tab,{...s.theme,children:(0,U.tx)("first_draft.style")}),(0,a.jsx)(iA.t.Tab,{...s.prompt,children:(0,a.jsx)("span",{"data-testid":"promptTabLabel",children:(0,U.tx)("first_draft.prompt")})})]}),"prompt"===i.activeTab?em:eh]})]})]})}function rh(e){let t=e.firstDraftData;if(t){if(t.kit.type===d.AZ4.LOCAL)return{type:"LOCAL",pageId:d.XJn.getPageIdFromKitKey(t.kit.key)??""};if(t.kit.type===d.AZ4.LIBRARY)return{type:"1P_LIBRARY",key:t.kit.key}}return JSON.parse(e.getSharedPluginData(aa.SV,"dsKitKey"))}function rf(e,t){switch(t){case"success":(0,ee.as)({...e,status:iv.dM.COMPLETED,reason:iv.F9.SUCCESS});break;case"error":(0,ee.as)({...e,status:iv.dM.FAILED,reason:iv.F9.ERROR});break;case"stopped":(0,ee.as)({...e,status:iv.dM.FAILED,reason:iv.F9.STOPPED})}}var rg=n(769183),r_=n.n(rg),rx=n(931114),ry=n(911990),rv=n(716736),rb=n(36958),rC=n(233990),rE=n(967987);function rj({node:e,tree:t,parentComponent:n,descendantComponentGuids:i},a){if(!t[e.guid]){if(t[e.guid]={isBuildingBlock:a.isBuildingBlock,name:a.name,parentGuid:n?.guid??null,isListItem:a.isListItem,inferReason:a.inferReason,children:[]},n){let i=t[n.guid];i&&i.children.push(e.guid)}for(let a of i){let i=t[a];i&&(!i.parentGuid||i.parentGuid===n?.guid)&&(i.parentGuid=e.guid)}}}function rw({node:e,tree:t,parentComponent:n,descendantComponentGuids:i}){t[e.guid]&&delete t[e.guid];let a=n?t[n.guid]:null;for(let r of(a&&(a.children=a.children.filter(t=>t!==e.guid)),i)){let i=t[r];i&&i.parentGuid===e.guid&&(i.parentGuid=n?.guid??null,a&&a.children.push(r))}}function rT(e){let t=function(e,t){let n={};for(let i of e.childrenNodes)!function e(t,n,i,a,r=null){var s;let o=i.components[t.guid],l=(s=i.isMobileDesign,("FRAME"===t.type||"INSTANCE"===t.type)&&(!s||function(e,t,n=.1){return Math.abs(e-t)<n}(t.size.x,n.size.x-n.stackLeftPadding-n.stackLeftPadding))),c=[];if(o&&(a[t.guid]={isBuildingBlock:l,name:o,parentGuid:r?.guid??null,isListItem:!1,children:[]},r&&a[r.guid])){let e=a[r.guid];e&&e.children.push(t.guid)}for(let s of t.childrenNodes)c=c.concat(e(s,n,i,a,o?t:r));let u={node:t,designNode:n,tree:a,nodeCanBeBuildingBlock:l,descendantComponentGuids:c,parentComponent:r};(function(e){let{node:t,tree:n,nodeCanBeBuildingBlock:i,parentComponent:a}=e,r={};for(let e of t.childrenNodes){let t=n[e.guid];t&&(r[t.name]||(r[t.name]=[]),r[t.name].push(e.guid))}let s=Object.entries(r).filter(([e,t])=>t.length>1);if(1!==s.length)return;let o=s[0][1],l=o[0];for(let r of(n[t.guid]||a||!l||rj(e,{name:`${n[l].name}List`,isBuildingBlock:i,isListItem:!1,inferReason:"list-view"}),o)){let e=n[r];e&&(e.isListItem=!0,e.isBuildingBlock=!1)}})(u),function(e){let{node:t,tree:n,nodeCanBeBuildingBlock:i,parentComponent:a,descendantComponentGuids:r}=e;!n[t.guid]&&!a&&i&&r.filter(e=>!n[e]?.isBuildingBlock&&!n[e]?.parentGuid).length>0&&rj(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-orphaned-atoms"})}(u),function(e){let{node:t,tree:n,designNode:i,descendantComponentGuids:a,nodeCanBeBuildingBlock:r}=e;!n[t.guid]&&0===a.length&&t.parentGuid===i.guid&&r&&rj(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-uncomponentized-element"})}(u),function(e){let{node:t,designNode:n,tree:i}=e,a=i[t.guid];if(a&&a.isBuildingBlock&&t.size.y>.66*n.size.y&&a.children.length>1&&a.children.every(e=>i[e]?.isBuildingBlock)){for(let e of a.children){let t=i[e];t&&(t.parentGuid=null)}rw(e)}}(u),function({node:e,tree:t,parentComponent:n,nodeCanBeBuildingBlock:i,descendantComponentGuids:a,designNode:r}){let s=e.childrenNodes[0];if(i&&1===e.childCount&&s&&t[s.guid]?.isBuildingBlock){let i=t[s.guid];i&&!t[e.guid]&&(t[e.guid]={isBuildingBlock:!0,name:i.name,parentGuid:n?.guid??null,isListItem:!1,inferReason:"hoisted-singleton-building-block",children:i.children}),rw({node:s,designNode:r,tree:t,parentComponent:e,descendantComponentGuids:a,nodeCanBeBuildingBlock:!0})}}(u);let p=function({node:e,designNode:t,tree:n,parentComponent:i,descendantComponentGuids:a}){if(e.size.x<100||e.size.y<20||a.length>0||"NONE"===e.stackMode||e.childCount<=1)return[];let r=e.childrenNodes[0],s=e.childrenNodes[e.childCount-1],o=[];for(let l of[r,s]){if(l?.type!=="FRAME"||l.size.x<100||l.size.y<20)continue;let r=d.XJn.findSimilarNodes(l.guid,e.guid,!1,!1,!0),s=[l,...r.map(e=>(0,eX.UN)().get(e)).filter(e=>!!e)],c=Array.from((0,rx._i)(new Set(e.childrenGuids),new Set([l.guid,...r])));if(s.length>=2&&s.length>=e.childCount-1&&c.length<=1){let r=c[0];if(r){let t=e.childrenGuids.indexOf(r);if(t>0&&t<e.childCount-1)return[]}for(let r of s)n[r.guid]||(rj({node:r,designNode:t,tree:n,parentComponent:n[e.guid]?e:i,descendantComponentGuids:a,nodeCanBeBuildingBlock:!1},{isBuildingBlock:!1,name:`Component:${r.guid}`,isListItem:!0,inferReason:"similar-sublayers"}),o.push(r.guid))}}return o}(u);return a[t.guid]?[t.guid,...c,...p]:[...c,...p]}(i,e,t,n);return n}(e.frame,e);if(!t)return[];let{suggestedComponentTree:n,node:i}=function(e,t){let n=d.XJn.detachDesignForComponentize(e.guid,Object.keys(t)),i={};for(let[e,a]of Object.entries(t)){let t=n.get(e),r={...a,parentGuid:a.parentGuid?n.get(a.parentGuid)??a.parentGuid:null,children:a.children.map(e=>n.get(e)??e)};t?i[t]=r:i[e]=r}let a=n.get(e.guid);if(!a)throw Error("Failed to detach design");let r=(0,eX.UN)().get(a);if(!r)throw Error("Failed to detach design");return e.parentNode&&e.parentNode.appendChild(r),r.x=e.x,r.y=e.y,e.removeSelfAndChildren(),{suggestedComponentTree:i,node:r}}(e.frame,t);return Array.from(Object.entries(n)).filter(([e])=>e!==i.guid).map(([e,t])=>({guid:e,name:t.name,isBuildingBlock:t.isBuildingBlock}))}function rk(){let[e,t]=r.useState({loaded:0,total:0}),n=r.useContext(rC.x),i=n?.getSuggestedComponents;return{submit:r.useCallback(async(e,n,a,r)=>{let s=e.filter(e=>("FRAME"===e.type||"INSTANCE"===e.type)&&!e.isStateGroup),o=(0,rb.Y6)(),{nodes:l,nodeMappings:c}=iO.l7.user("clone-nodes",()=>(function(e,t){let n=[],i={x:(0,rb.NY)(t.copiedDesigns).right()+rb.CN,y:rb.CN},a=new Map;for(let r of e){let e=d.XJn.cloneNodeForComponentize(r.guid),s=e.get(r.guid);if(!s)continue;let o=(0,eX.UN)().get(s);o&&(t.copiedDesigns.appendChild(o),n.push(o),o.relativeTransform={...o.relativeTransform,m02:i.x,m12:i.y},i.x+=o.size.x+rb.FL,a=new Map([...a,...e]))}return(0,rb.Vl)(t),{nodes:n,nodeMappings:a}})(s,o));for(let e of(t({loaded:1,total:l.length}),r_()(l,10))){let s=await (0,rv.Z)(i?i(e):rI(e,n),a);if(a.aborted)return{};for(let e of s)if(e){if(r?.remapNodeIdsForTest)for(let[t,n]of c.entries()){let i=e.components[t];i&&(e.components[n]=i,delete e.components[t])}iO.l7.user("componentize",()=>{!function(e,t){let n=(0,eX.UN)();if(!n.getCurrentPage())return;let i=(0,rb.NY)(t.buildingBlocks),a=(0,rb.NY)(t.atoms),r={x:i.right()+rb.CN,y:rb.CN},s={x:a.right()+rb.CN,y:rb.CN},o={};for(let{guid:i,name:a,isBuildingBlock:l}of e){let e=n.get(function(e,t){for(;t[e];)e=t[e];return e}(i,o));if(!e||"FRAME"!==e.type&&"INSTANCE"!==e.type||("FRAME"===e.type&&(0,rb.MR)(e,t.icons),!e.isAlive))continue;let c=d.XJn.findSimilarNodes(e.guid,t.buildingBlocks.guid,!1,!0,!0).concat(d.XJn.findSimilarNodes(e.guid,t.atoms.guid,!1,!0,!0)),u=c[0]?n.get(c[0]):null;if(!u){if("FRAME"===e.type)(u=n.createComponentFromNode(e.clone())).name=a;else{if(!(u=n.get(e.clone())))throw Error("Failed to clone instance");(0,rE.T)(u)}l?(t.buildingBlocks.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:r.x,m12:r.y},r.y+=u.size.y+rb.FL):(t.atoms.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:s.x,m12:s.y},s.y+=u.size.y+rb.FL)}let p=(0,rb.w8)(e,u);if(p)for(let[e,t]of p?.entries()){let i=n.get(t),a=i?.overrideKey;a&&(o[e]=a)}}(0,rb.Vl)(t)}(rT(e),o)})}t(t=>({loaded:Math.min(t.loaded+e.length,t.total),total:t.total}))}return ao.Y5.commit(),{}},[i]),progress:e}}async function rI(e,t){let n=await Promise.all(e.map(async e=>{let t=await (0,aa.gC)(e);return{imageB64:t.base64,jsx:t.jsx}}));return(await eJ.Ay.design.firstDraftComponentize({requests:n},(0,as.sF)({clientLifecycleId:t}))).responses.map((t,n)=>{let i=e[n];return t&&i?{frame:i,isMobileDesign:t.isMobileDesign,components:t.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}:null})}var rS=n(701038),rN=n(493184),rA=(e=>(e[e.COMPONENTIZE=0]="COMPONENTIZE",e[e.ADD_PROPS=1]="ADD_PROPS",e[e.LINT=2]="LINT",e[e.ALL=3]="ALL",e))(rA||{}),rL=(e=>(e.INITIAL="initial",e.COMPONENTIZE="componentize",e.ADD_PROPS="add_props",e.LINT="lint",e.ALL="all",e))(rL||{});function rO(e){return e.filter(e=>"FRAME"===e.type).length}function rR(e){let[t,n]=r.useState("initial"),i=[{step:3,title:(0,U.t)("first_draft.make_kit.all_steps.title"),description:(0,U.t)("first_draft.make_kit.all_steps.description")},{step:0,title:(0,U.t)("first_draft.make_kit.componentize_step.title"),description:(0,U.t)("first_draft.make_kit.componentize_step.description")},{step:1,title:(0,U.t)("first_draft.make_kit.add_props_step.title"),description:(0,U.t)("first_draft.make_kit.add_props_step.description")},{step:2,title:(0,U.t)("first_draft.make_kit.lint_step.title"),description:(0,U.t)("first_draft.make_kit.lint_step.description")}],s=(0,r.useCallback)(e=>{switch(e){case 0:n("componentize");break;case 1:n("add_props");break;case 2:n("lint");break;case 3:n("all")}},[]),o=e=>(0,a.jsx)(rN.B.Item,{primaryAction:{onAction:()=>{s(e.step)}},children:(0,a.jsxs)("div",{className:B.s.flex.flexColumn.p4.wFull.$,children:[(0,a.jsx)("div",{className:B.s.font13.wFitContent.$,children:e.title}),(0,a.jsx)("div",{className:B.s.font11.colorTextSecondary.lh16.wFitContent.$,children:e.description})]})},e.step);switch(t){case"initial":return(0,a.jsxs)(ei.n,{hideActionPanel:!0,children:[(0,a.jsx)(ei.n.Header,{children:(0,a.jsxs)("div",{className:B.s.wFull.flex.flexColumn.p8.$,children:[(0,a.jsxs)("div",{className:B.s.wFull.flex.gap4.$,children:[(0,a.jsx)("div",{className:B.s.h24.$,children:(0,a.jsx)(aE.K,{recordingKey:iV.Pt(e.recordingKey,"backButton"),onClick:e.onBack,"aria-label":(0,U.t)("qa.go_back"),children:(0,a.jsx)(aT.C,{})})}),(0,a.jsx)("div",{className:B.s.colorText.textBodyLarge.$,children:(0,U.tx)("fullscreen_actions.quick_actions.first-draft-make-kit")})]}),(0,a.jsx)("div",{className:B.s.wFull.flex.font11.$,children:(0,U.tx)("first_draft.make_kit.description")})]})}),(0,a.jsx)(ei.n.Body,{children:(0,a.jsxs)(rN.B,{resultCount:i.length,maxVisibleResults:i.length,children:[o(i[0]),(0,a.jsx)(rN.B.Section,{header:"Individual steps",children:i.slice(1).map(o)})]})})]});case"componentize":return(0,a.jsx)(rM,{});case"add_props":return(0,a.jsx)(rF,{});case"lint":return(0,a.jsx)(iI.zY,{});case"all":return(0,a.jsx)(rB,{})}}let rP=async({params:{submit:e,selectedNodes:t},abortController:n,clientLifecycleId:i})=>{await e(t,i,n.signal)};function rM(e){let{close:t}=(0,k.cq)(),n=(0,iu.RL)(Y.JT.FIRST_DRAFT_COMPONENTIZE,rP),{start:i,stop:s,state:o,aiTrackingContext:l}=n,{submit:c,progress:u}=rk(),p=(0,r.useCallback)(async()=>{let e=(0,eX.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await i({selectedNodes:t,submit:c})},[i,c]),m=r.useCallback(()=>{s(),t()},[t,s]),h=r.useCallback(()=>{d.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??o,g=e.overrides?.progress??u;switch(f){case iu.qy.INITIAL:return(0,a.jsx)(ix.A,{action:Y.JT.FIRST_DRAFT_COMPONENTIZE,actionLabel:(0,U.tx)("first_draft.make_kit.componentize_step.title"),actionIcon:(0,a.jsx)(eG.K,{}),onPerform:e.overrides?.perform??p,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:l,getCustomSelectedNodesAmount:rO,children:(0,U.tx)("first_draft.make_kit.componentize_step.instructions")});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{recordingKey:iV.Pt(e.recordingKey,"componentizeRunning"),aiTrackingContext:l,onStop:m,secondaryMessage:g.total?(0,U.t)("first_draft.make_kit.x_of_y_frames",{loaded:g.loaded,total:g.total}):void 0,children:(0,U.tx)("first_draft.make_kit.componentize_step.running")});case iu.qy.DONE:return(0,a.jsx)(iC.Oq,{iterateOptions:[{type:iC.is.UNDO,callback:h}],aiTrackingContext:{...l,iteration_view_type:iv.$J.DEFAULT_SUCCESS}});case iu.qy.CANCELLED:return null;case iu.qy.ERROR:return(0,a.jsx)(ib.E,{error:"error"in n?n.error:Error(),recordingKey:iV.Pt(e.recordingKey,"error"),buttons:[{type:ib.f.OK,callback:t}],aiTrackingContext:l});default:(0,O.xb)(f)}}let rD=async({params:{submit:e,selectedNodes:t},abortController:n,clientLifecycleId:i})=>{await e(i,n.signal,t)};function rF(e){let{close:t}=(0,k.cq)(),{submit:n,progress:i}=(0,rS.iK)(),s=(0,iu.RL)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS,rD),{start:o,stop:l,state:c,aiTrackingContext:u}=s,p=(0,r.useCallback)(async()=>{let e=(0,eX.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await o({selectedNodes:t,submit:n})},[o,n]),m=r.useCallback(()=>{l(),t()},[t,l]),h=r.useCallback(()=>{d.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??c,g=e.overrides?.progress??i;switch(f){case iu.qy.INITIAL:return(0,a.jsx)(ix.A,{action:Y.JT.FIRST_DRAFT_SUGGEST_PROPS,actionLabel:(0,U.tx)("first_draft.make_kit.add_props_step.add_props_button"),actionIcon:(0,a.jsx)(eG.K,{}),onPerform:p,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:u,children:(0,U.tx)("first_draft.make_kit.add_props_step.instructions")});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{recordingKey:iV.Pt(e.recordingKey,"suggestPropsRunning"),aiTrackingContext:u,onStop:m,secondaryMessage:g.total?(0,U.t)("first_draft.make_kit.x_of_y_components",{loaded:g.loaded,total:g.total}):void 0,children:(0,U.tx)("first_draft.make_kit.add_props_step.running")});case iu.qy.DONE:return(0,a.jsx)(iC.Oq,{iterateOptions:[{type:iC.is.UNDO,callback:h}],aiTrackingContext:{...u,iteration_view_type:iv.$J.DEFAULT_SUCCESS}});case iu.qy.CANCELLED:return null;case iu.qy.ERROR:return(0,a.jsx)(ib.E,{error:"error"in s?s.error:Error(),recordingKey:iV.Pt(e.recordingKey,"error"),buttons:[{type:ib.f.OK,callback:t}],aiTrackingContext:u});default:(0,O.xb)(f)}}function rB(e){let{submit:t,progress:n}=rk(),{start:i,state:s}=(0,iu.RL)(Y.JT.FIRST_DRAFT_COMPONENTIZE,rP),{submit:o,progress:l}=(0,rS.iK)(),{start:d,state:c}=(0,iu.RL)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS,rD),u=(0,r.useCallback)(async()=>{let e=(0,eX.UN)().getCurrentPage();if(!e)return;let n=e.directlySelectedNodes;0!==n.length&&(await i({selectedNodes:n,submit:t}),await d({submit:o}))},[i,t,d,o]);switch(s){case iu.qy.INITIAL:case iu.qy.RUNNING:case iu.qy.CANCELLED:case iu.qy.ERROR:return(0,a.jsx)(rM,{overrides:{state:s,progress:n,perform:u}});case iu.qy.DONE:switch(c){case iu.qy.INITIAL:case iu.qy.RUNNING:case iu.qy.CANCELLED:case iu.qy.ERROR:return(0,a.jsx)(rF,{overrides:{state:c,progress:l}});case iu.qy.DONE:return(0,a.jsx)(iI.zY,{});default:(0,O.xb)(c)}default:(0,O.xb)(s)}}async function rU(e,t){return(await Promise.all(t.map(async t=>{let n=await (0,aa.gC)(t),i=e.replace("{{jsx}}",n.jsx),a=await eJ.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:i},{role:"user",content:[{type:"image_url",image_url:{url:n.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),r=a.choices[0]?.message.content;return r?{...function(e){if(!e)throw Error("No content detected in GPT response");let t=JSON.parse(e.replace(/```json\n|```/g,"")),n=iK.AR.parse(t);return{isMobileDesign:n.isMobileDesign,components:n.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}}(r),frame:t}:null}))).filter(e=>null!==e)}async function rH(e,t){return(await Promise.all(t.map(async t=>{let n=await (0,aa.gC)(t),i=e.replace("{{jsx}}",n.jsx),a=await eJ.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:i},{role:"user",content:[{type:"image_url",image_url:{url:n.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),r=a.choices[0]?.message.content;return r?{component:t,...JSON.parse(r)}:null}))).filter(e=>null!==e)}let rV=e=>{let t=new Set;return!function e(n){if(n.name.startsWith("[COMPONENT]")&&t.add(n.guid),"childrenNodes"in n)for(let t of n.childrenNodes)e(t)}(e),t},rG=(e,t)=>{let n=0,i=e;for(;i.guid!==t.guid&&n<8;){if(n+=1,!i.parentNode)throw Error("Node is not a child of root, distance: "+n);i=i.parentNode}return n},rz=async({componentizePromptOverride:e,dispatch:t})=>{let n=(0,eX.UN)().getCurrentPage();if(!n)return;let i=n.directlySelectedNodes;if(0===i.length){t(p.F.enqueue({type:"eval-componentize",message:"No selected nodes"}));return}for(let e of i){if("FRAME"!==e.type){t(p.F.enqueue({type:"eval-componentize",message:"Selected node is not a frame"}));return}if(e.name.startsWith("[TEST]")){t(p.F.enqueue({type:"eval-componentize",message:`Selected node ${e.name} is already a test node`}));return}}for(let n of i){let i;if(n.name=`[TEST] ${n.name}`,!(i=e?(await rU(e,[n]))[0]:(await rI([n],""))[0])){t(p.F.enqueue({type:"eval-componentize",message:`Failed to get suggested components for ${n.name}`}));return}for(let e of rT(i))(0,eX.UN)().get(e.guid).name=`[COMPONENT] ${e.name}`}},rK=async({componentizePromptOverride:e,dispatch:t,close:n})=>{let i=(0,eX.UN)().getCurrentPage();if(!i)return;let a=i.childrenNodes.filter(e=>"FRAME"===e.type);if(0===a.length){t(p.F.enqueue({type:"eval-componentize",message:"No frames found"}));return}n(),t(p.F.enqueue({type:"eval-componentize",message:"Starting eval"}));let r=[],s=0,o=a.filter(e=>e.name.startsWith("[TEST]"));for(let n of r_()(o,5))await Promise.all(n.map(async n=>{let i;i=e?(await rU(e,[n]))[0]:(await rI([n],""))[0],r.push({node:n,components:new Set(rT(i).map(e=>e.guid)),expectedComponents:rV(n)}),s+=1,t(p.F.enqueue({type:"eval-componentize",message:`Completed ${s} / ${o.length}`}))})),await new Promise(e=>setTimeout(e,100));let l=[];for(let e of r){let t=(0,rx._i)(e.expectedComponents,e.components).size,n=(0,rx._i)(e.components,e.expectedComponents).size,i=(0,rx.iR)(e.expectedComponents,e.components).size;l.push({falseNegativeCount:t,falsePositiveCount:n,correctCount:i,result:e})}iO.l7.ai("eval-componentize",()=>{let e=(0,eX.UN)().createNode("CANVAS");e.name=`Eval Run ${i.name} ${new Date().toISOString()}`;let t=(0,eX.UN)().createNode("FRAME");t.name="Results Frame",t.x=-1e3,t.y=-1e3,t.size={x:220,y:220},t.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}];let n=(0,eX.UN)().createNode("TEXT");for(let i of(n.name="Results",d.biQ.setTextContentOnTextNode(n.guid,`False Negative Count: ${l.reduce((e,t)=>e+t.falseNegativeCount,0)}
False Positive Count: ${l.reduce((e,t)=>e+t.falsePositiveCount,0)}
Correct Count: ${l.reduce((e,t)=>e+t.correctCount,0)}`),n.x=10,n.y=10,n.size={x:200,y:200},n.fills=n.fills.concat([{type:"SOLID",color:{r:0,g:0,b:0,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}]),t.appendChild(n),e.appendChild(t),l)){let t=i.result;if(!(0,rx.yZ)(t.expectedComponents,t.components)){let n=d.XJn.cloneNodeForComponentize(t.node.guid),a=(0,eX.UN)().get(n.get(t.node.guid));if(!a)throw Error("Failed to clone node");a.name=t.node.name+` (FNC: ${i.falseNegativeCount} FPC: ${i.falsePositiveCount} CC: ${i.correctCount})`;let r=(e,t)=>{e.strokePaints={data:e.strokePaints.data.concat([{type:"SOLID",color:t,visible:!0,opacity:1,blendMode:"NORMAL"}]),blobs:e.strokePaints.blobs},e.strokeWeight=(8-rG(e,a))*2,e.strokeAlign="OUTSIDE",e.borderStrokeWeightsIndependent=!1,e.borderBottomWeight=2,e.borderTopWeight=2,e.borderLeftWeight=2,e.borderRightWeight=2},s=new Map;for(let[e,t]of n.entries())s.set(t,e);for(let e of(0,rx._i)(t.expectedComponents,t.components)){let t=n.get(e);r((0,eX.UN)().get(t),{r:1,g:0,b:0,a:1})}for(let e of(0,rx._i)(t.components,t.expectedComponents)){let t=n.get(e);r((0,eX.UN)().get(t),{r:0,g:0,b:1,a:1})}for(let e of(0,rx.iR)(t.expectedComponents,t.components)){let t=n.get(e);r((0,eX.UN)().get(t),{r:0,g:1,b:0,a:1})}e.appendChild(a)}}(0,eX.UN)().setCurrentPageAsync(e.guid)}),t(p.F.enqueue({type:"eval-componentize",message:"Finished eval"}))},rW=["componentizePrompt","suggestProps","componentizeResultMapping"];class rZ{constructor(e=1){this.queue=[],this.queue=[],this.concurrencyLimit=e,this.activeCount=0}postTask(e,t){return new Promise((n,i)=>{let a=async()=>{try{n(await e())}catch(e){i(e)}};this.queue.push([a,t]),this.doNextTask()})}async doNextTask(){if(0===this.queue.length||this.activeCount>=this.concurrencyLimit)return;let e=this.queue.shift();if(!e)return;let[t,n]=e;this.activeCount++;try{await scheduler.postTask(t,n)}catch(e){throw e}finally{this.activeCount--,this.doNextTask()}}}var rq=n(638641),rX=n(954231),rY=n(947153),rJ=n(327217),rQ=n(384851),r$=n(878604),r0=n(268389),r1=n(4921),r2=n(995639),r3=n(426642),r5=n(757381),r4=n(789837),r6=n(240787),r7=n(475477),r9=n(390036),r8=n(278491),se=n(7786),st=n(44535),sn=n(578420);let si={ORG:"org",ALL:"all"},sa=(0,c.E3)("firstDraftKitPickerTab",si.ORG);function sr({aiTrackingContext:e,ParentComponent:t}){let{allUsableKitEntries:n,hasLastSelectedKit:i,setSelectedKit:s,kitsAreLoaded:o}=(0,am.sI)(),[l,d]=r.useState(""),u=r.useRef(null);(0,st.y)(l,u),(0,se.z)();let{pop:p,push:m}=(0,k.cq)(),h=(0,r.useCallback)(n=>{s(n),(0,ee.SX)({...e,interaction:iv.NI.SELECT_KIT,interaction_type:iv.bp.BUTTON_CLICK}),i?p():m({name:et.Sn.FIRST_DRAFT,module:(0,a.jsx)(t,{})})},[t,e,s,i,p,m]),[f,g]=r.useState(null);r.useEffect(()=>{u.current?.focus()},[u]);let[_,x]=(0,c.fp)(sa),y=(0,tE.T5)("FirstDraftKitSelection").unwrapOr(null),v=y?.name||(0,U.t)("first_draft.kits.org_libraries.fallback"),b=v&&v.length>20,C=(0,eu.kc)().first_draft_direct_gen&&n.some(e=>e.metadata.direct_generation),E=f||n;if((0,eu.kc)().first_draft_direct_gen){if(C){let e=_===si.ORG;E=E.filter(t=>e===t.metadata.direct_generation)}}else E=E.filter(e=>!e.metadata.direct_generation);return(0,a.jsx)(A.s3,{name:"firstDraftKitPicker",recordingKey:"firstDraftKitPicker",children:(0,a.jsx)(F.dP,{children:(0,a.jsxs)("div",{className:B.s.flex.flexColumn.gap8.pt8.$,"data-testid":"kitSelectionListContainer",children:[(0,a.jsxs)("div",{className:iM()("kit_picker_view--navContainer--JHIEY",r8.Dm),children:[(0,a.jsx)("div",{className:B.s.h24.$,children:(0,a.jsx)(aE.K,{recordingKey:iV.Pt("firstDraftKitSelection","backButton"),onClick:p,"aria-label":(0,U.t)("qa.go_back"),children:(0,a.jsx)(aT.C,{})})}),(0,a.jsx)("input",{ref:u,"aria-autocomplete":"list",className:iM()("kit_picker_view--searchInput--Yj6zW",r8.Dm),dir:"auto",maxLength:100,onChange:e=>{!function(e){if(d(e),0===e.length)g(null);else{let t=e.toLowerCase();g(n.filter(e=>so(e).toLowerCase().includes(t)))}}(e.target.value)},placeholder:(0,U.t)("first_draft.kits.search_placeholder"),spellCheck:!1,type:"search",value:l}),(0,a.jsx)(sn.y,{helpUrlVariant:Y.JT.FIRST_DRAFT_MAKE_KIT})]}),o&&(0,eu.kc)().first_draft_direct_gen?(0,a.jsx)("div",{className:B.s.wFull.pl8.pr8.$,children:C?(0,a.jsxs)(er.fu,{value:_,onChange:R.lQ,numItems:2,children:[(0,a.jsx)(er.oz,{tabId:si.ORG,onAction:()=>x(si.ORG),recordingKey:iV.Pt("firstDraftKitSelection","orgTab"),htmlAttributes:{...b&&{"data-tooltip":v,"data-tooltip-type":eA.Ib.TEXT}},children:(0,U.tx)("first_draft.kits.org_libraries",{orgName:(0,r9.EJ)(v,20)})}),(0,a.jsx)(er.oz,{tabId:si.ALL,onAction:()=>x(si.ALL),recordingKey:iV.Pt("firstDraftKitSelection","allTab"),children:(0,U.tx)("first_draft.kits.all_libraries")})]}):(0,a.jsx)(sl,{})}):null,(0,a.jsx)("div",{style:{height:312},className:B.s.relative.$,"data-testid":"kitSelectionListView",children:o?(0,a.jsx)(ss,{kitsToShow:E,searchQuery:l,onKitOptionSelected:h}):null})]})})})}function ss({kitsToShow:e,searchQuery:t,onKitOptionSelected:n}){if(t&&0===e.length){let e=t.length>20?`${t.slice(0,20)}\u2026`:t;return(0,a.jsx)("div",{className:B.s.p8.selfCenter.justifyCenter.flex.flexGrow0.$,children:(0,U.tx)("first_draft.kits.no_results",{searchQuery:e})})}return(0,a.jsx)(ik.T.Provider,{value:{recordingKey:"firstDraftView"},children:(0,a.jsx)(rN.B,{primary:!0,resultCount:e.length,children:e.map((e,t)=>(0,a.jsx)(rN.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:M.Uz.ENTER}],onAction:()=>n(e)},actionLabel:!1,recordingKey:iV.Pt("firstDraftKitSelection",t,"list-item"),children:(0,a.jsxs)("div",{className:B.s.p4.gap8.flexRow.flex.itemsCenter.$,"data-testid":"fd-kit-item",children:[(0,a.jsx)("div",{className:"kit_picker_view--fileThumbnail--aGgkC",style:{backgroundImage:`url(${e.thumbnailUrl})`}}),(0,a.jsxs)("div",{className:"kit_picker_view--kitDisplayInformation--Ypl2p",children:[(0,a.jsx)("div",{children:so(e)}),e.numComponents>0&&(0,a.jsx)("div",{className:"kit_picker_view--componentCountText--bBnSq",children:(0,U.tx)("first_draft.kits.components_count",{count:e.numComponents})})]})]})},t))})})}function so(e){switch(e.dsKitKey.type){case"LOCAL":case"USER_LIBRARY":return e.name;case"1P_LIBRARY":if(e.metadata.identifier)return(0,U.t)(`first_draft.kits.${e.metadata.identifier}`)||e.name;return e.name;default:return(0,O.xb)(e.dsKitKey)}}function sl(){return(0,a.jsxs)("div",{className:"kit_picker_view--tempGettingStartedNotice--ADe-Q",children:[(0,a.jsx)("div",{className:B.s.fontBold.$,children:(0,U.tx)("first_draft.direct_gen.getting_started.heading")}),(0,a.jsxs)("div",{className:B.s.inline.colorTextSecondary.flexWrap.$,children:[(0,U.tx)("first_draft.direct_gen.getting_started.notice")," ",(0,a.jsx)(r7.N,{newTab:!0,trusted:!0,href:"https://www.figma.com/blog/figma-ai-first-draft-byods/",onClick:e=>e.stopPropagation(),htmlAttributes:{"data-tooltip":(0,U.t)("qa.learn_more"),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,U.tx)("qa.learn_more")})]})]})}function sd({onClose:e,defaultPosition:t,description:n,setDescription:i}){return(0,a.jsx)(r$.bL,{width:"sm",onClose:e,defaultPosition:{bottom:window.innerHeight-t.y-16,right:window.innerWidth-t.x+16},children:(0,a.jsxs)(r0.vo,{children:[(0,a.jsx)(r0.Y9,{children:(0,a.jsx)(r0.hE,{children:(0,U.tx)("first_draft.reference_settings")})}),(0,a.jsx)(r0.nB,{padding:8,children:(0,a.jsx)(r5.v,{placeholder:(0,U.t)("first_draft.reference_settings.placeholder"),value:n,onChange:e=>{i(e.currentTarget.value)},rows:3,minHeight:64,maxHeight:64,focusOnMount:!0})})]})})}function sc({selectedNodeThumbnailsCache:e,onDelete:t,promptValue:n,setPromptValue:i}){let s=Array.from((0,rQ.eb)().values()),[o,l]=r.useState(null),c=(0,r.useRef)({x:0,y:0});return(0,a.jsxs)("div",{className:B.s.p4.flex.flexRow.flexWrap.minW0.flexShrink0.$,children:[s?.map(n=>a.jsxs("div",{className:B.s.relative.$,style:{display:"flex"},children:[a.jsx(r4.v,{thumbnailUrl:e?.get(n.guid)?.imageURL??rQ.zs,altText:n.name,onClick:()=>{d.glU?.panToNode(n.guid,!1)},isUploading:e?.get(n.guid)?.promise!==null,onDelete:()=>{t(n.guid)}}),a.jsx("div",{className:B.s.absolute.colorBgSecondary.p4.$,style:{bottom:"-4px",left:"-4px",borderRadius:"0 9px 0 0"},children:a.jsx(r1.f,{onIcon:a.jsx(r2.A,{}),offIcon:a.jsx(r2.A,{}),onChange:(e,{event:t})=>{c.current={x:t.target.getBoundingClientRect().x,y:t.target.getBoundingClientRect().bottom},l(e?n.guid:null)},checked:o===n.guid,variant:"highlighted","aria-label":U.t("first_draft.reference_settings.adjust_settings")||""})})]},n.guid)),o&&(0,a.jsx)(sd,{onClose:()=>l(null),defaultPosition:c.current,description:n.attachmentMetadata?.[o]?.description??"",setDescription:e=>i({...n,attachmentMetadata:{...n.attachmentMetadata,[o]:{description:e}}})})]})}function su({promptValue:e,setPromptValue:t,onShowKitPicker:n,selectedKit:i,handleSubmit:s,promptHistory:l,recordingKey:c,aiTrackingContext:u,selectedNodeThumbnailsCache:p,allowNodeAttachments:m}){let h;let[f]=r.useState(function(e=3,t){let n=(0,eu.kc)().first_draft_new_prompt_pills,i=[{label:(0,U.t)("first_draft.prompts.pricing_page.label"),prompt:(0,U.t)("first_draft.prompts.pricing_page.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,U.t)("first_draft.prompts.sign_in_screen.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.blog_post.label"),prompt:(0,U.t)("first_draft.prompts.blog_post.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.portfolio.label"),prompt:(0,U.t)("first_draft.prompts.portfolio.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.news_site.label"),prompt:(0,U.t)("first_draft.prompts.news_site.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.onboarding.label"),prompt:(0,U.t)("first_draft.prompts.onboarding.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,U.t)("first_draft.prompts.sign_in_screen.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.blog_post.label"),prompt:(0,U.t)("first_draft.prompts.blog_post.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.map_app_mobile.label"),prompt:(0,U.t)("first_draft.prompts.map_app_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.messaging_mobile.label"),prompt:(0,U.t)("first_draft.prompts.messaging_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.profile.label"),prompt:(0,U.t)("first_draft.prompts.profile_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.travel_app_mobile.label"),prompt:(0,U.t)("first_draft.prompts.travel_app_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.social_feed_mobile.label"),prompt:(0,U.t)("first_draft.prompts.social_feed_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.ticketing_app.label"),prompt:(0,U.t)("first_draft.prompts.ticketing_app.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.ride_sharing_mobile.label"),prompt:(0,U.t)("first_draft.prompts.ride_sharing_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.to_dos_mobile.label"),prompt:(0,U.t)("first_draft.prompts.to_dos_mobile.prompt"),type:"MOBILE"}];n&&i.push({label:(0,U.t)("first_draft.prompts.homepage.label"),prompt:(0,U.t)("first_draft.prompts.homepage.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.homepage.label"),prompt:(0,U.t)("first_draft.prompts.homepage_2.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.video_player_streaming.label"),prompt:(0,U.t)("first_draft.prompts.video_player_streaming.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.video_page_with_comments.label"),prompt:(0,U.t)("first_draft.prompts.video_page_with_comments.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.search_results_travel.label"),prompt:(0,U.t)("first_draft.prompts.search_results_travel.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.social_feed_text_heavy.label"),prompt:(0,U.t)("first_draft.prompts.social_feed_text_heavy.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.profile.label"),prompt:(0,U.t)("first_draft.prompts.profile_social_media.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.news_article.label"),prompt:(0,U.t)("first_draft.prompts.news_article.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.landing_page.label"),prompt:(0,U.t)("first_draft.prompts.landing_page_beauty.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.landing_page.label"),prompt:(0,U.t)("first_draft.prompts.landing_page_tech.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.marketing_page_football.label"),prompt:(0,U.t)("first_draft.prompts.marketing_page_football.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.shopping.label"),prompt:(0,U.t)("first_draft.prompts.shopping_hifi.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.shopping.label"),prompt:(0,U.t)("first_draft.prompts.product_details_shoes.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.admin_dashboard_saas.label"),prompt:(0,U.t)("first_draft.prompts.admin_dashboard_saas.prompt"),type:"WEB"},{label:(0,U.t)("first_draft.prompts.settings_mobile.label"),prompt:(0,U.t)("first_draft.prompts.settings_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.video_player_comments_mobile.label"),prompt:(0,U.t)("first_draft.prompts.video_player_comments_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.checkout_mobile.label"),prompt:(0,U.t)("first_draft.prompts.checkout_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.reviews_mobile.label"),prompt:(0,U.t)("first_draft.prompts.reviews_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.audio_player_mobile.label"),prompt:(0,U.t)("first_draft.prompts.audio_player_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.investing_mobile.label"),prompt:(0,U.t)("first_draft.prompts.investing_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.app_browsing_mobile.label"),prompt:(0,U.t)("first_draft.prompts.app_browsing_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.reservations_mobile.label"),prompt:(0,U.t)("first_draft.prompts.reservations_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.fitness_mobile.label"),prompt:(0,U.t)("first_draft.prompts.fitness_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.subscriptions_mobile.label"),prompt:(0,U.t)("first_draft.prompts.subscriptions_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.recipes_mobile.label"),prompt:(0,U.t)("first_draft.prompts.recipes_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.sports_mobile.label"),prompt:(0,U.t)("first_draft.prompts.sports_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.delivery_app_mobile.label"),prompt:(0,U.t)("first_draft.prompts.delivery_app_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.calendar_mobile.label"),prompt:(0,U.t)("first_draft.prompts.calendar_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.email_mobile.label"),prompt:(0,U.t)("first_draft.prompts.email_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.file_browser_mobile.label"),prompt:(0,U.t)("first_draft.prompts.file_browser_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.education_mobile.label"),prompt:(0,U.t)("first_draft.prompts.education_mobile.prompt"),type:"MOBILE"},{label:(0,U.t)("first_draft.prompts.shopping_mobile.label"),prompt:(0,U.t)("first_draft.prompts.shopping_mobile.prompt"),type:"MOBILE"});let a=i;if(t){let e=t.toLowerCase();e.includes("mobile")?a=a.filter(e=>"MOBILE"===e.type):e.includes("web")&&(a=a.filter(e=>"WEB"===e.type))}let r=af()(a),s={};for(let t of r){if(Object.keys(s).length>=e)break;let n=ax(t.label);s[n]||(s[n]=t)}let l=Object.values(s).slice(0,e);return l.length<e?((0,em.$D)(o.e.AI_GENERATION,Error(`Unable to generate ${e} unique presets`),{extra:{count:e,generatedCount:l.length,selectedPresetsObj:s,shuffledPresets:r}}),[]):l}(4,i?.name)),g=(0,r.useCallback)(e=>{(0,ee.SX)({...u,...(0,ee.Q0)(e),interaction:iv.NI.GENERATE}),s()},[u,s]),_=Array.from((0,rQ.eb)().values()),x=(0,r.useCallback)(e=>{d.Egt?.removeFromSelection([e])},[]),y=(0,r.useCallback)(()=>0!==e.prompt.length,[e]),v=(0,eu.kc)().first_draft_direct_gen,b=(0,r.useRef)(null),C=()=>i&&(0,a.jsx)(tq.$n,{"aria-label":so(i),iconPrefix:(0,a.jsx)(r3.i,{style:{marginLeft:2,marginRight:4}}),onClick:n,recordingKey:iV.Pt(c,"changeKit"),variant:"secondary",children:so(i)}),E=(0,r6.o)();return h=v?{growVertically:!0,width:E-16}:{growVertically:!1},(0,a.jsxs)("div",{className:B.s.borderBox.$,style:{padding:8},"data-testid":"readyForPromptView",children:[(0,a.jsx)(ad.XG,{action:Y.JT.FIRST_DRAFT,bottomContent:m&&v&&_&&p&&_.length>0&&(0,a.jsx)(sc,{promptValue:e,setPromptValue:t,selectedNodeThumbnailsCache:p,onDelete:x}),featureNameForInstrumentation:"first_draft",onChange:n=>t({...e,prompt:n}),promptHistory:v?[]:l,recordingKey:iV.Pt(c,"generate"),refocusToInput:!1,suggestion:f[0].prompt,suggestionPills:f.slice(1),textAreaRef:b,topNavContent:v?(0,a.jsx)("div",{}):(0,a.jsx)("div",{className:"first_draft_prompt_view_v2--libraryButtonContainer--P-Bye",children:C()}),value:e.prompt,...h}),(0,a.jsxs)(en.B,{fullWidth:!0,justify:"space-between",children:[v&&C()||(0,a.jsx)("div",{}),(0,a.jsxs)(en.B,{gap:8,children:[v&&(0,a.jsx)(ad.nj,{promptHistory:l,onChange:n=>t({...e,prompt:n}),textAreaRef:b}),(0,a.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:g,recordingKey:iV.Pt(c,"generate"),disabled:!y(),children:(0,U.tx)("first_draft.generate")})]})]})]})}var sp=n(579553);function sm({options:e,onSelect:t}){let[n,i]=r.useState(),s=r.useCallback((e,a)=>{t(e,{ev:a,prevOption:n}),i(e)},[t,n]);return(0,a.jsxs)(aN._,{children:[(0,a.jsx)(sp.t,{}),(0,a.jsx)(tz.x,{columns:6,gap:13.9,padding:0,children:e.map((e,t)=>(0,a.jsx)(sh,{column:t,presetOption:e,onSelect:s},t))})]})}function sh({column:e,presetOption:t,onSelect:n}){let i={onAction:e=>n(t,e)};return(0,a.jsx)(tz.x.Item,{recordingKey:`previewTileItem-${e}`,focusAction:i,primaryAction:i,enableFauxFocus:!1,children:(0,a.jsx)(tz.x.GridItemHighlight,{children:(0,a.jsx)("div",{className:B.s.colorBgSecondary.b1.colorBorder.wFull.flex.alignCenter.justifyCenter.$,style:{aspectRatio:"1/1",height:"56px",overflow:"hidden",borderRadius:"8px",alignItems:"flex-start"},children:(0,a.jsx)("img",{alt:(0,U.t)("first_draft.theme_preview",{index:e+1}),src:t.dataURI,className:B.s.maxWFull.$,draggable:!1})})})})}let sf=(0,c.E3)("draft_prompt_history",[]),sg="first-draft-done-feedback",s_=(0,c.Iz)(()=>(0,c.eU)({prompt:""})),sx=async({params:{selectedKit:e,promptValue:t,submitPrompt:n,shouldContinueStreamRef:i,selectedNodeIds:a,selectedNodeThumbnailsCache:r},abortController:s})=>{if(s.signal.addEventListener("abort",()=>{i.current=!1}),!e)throw Error((0,U.t)("first_draft.no_design_generated"));let o=await n(t,{designSystem:e,selectedNodeIds:a??void 0,selectedNodeThumbnailsCache:r},{shouldGenerateImages:!0,addWireframeBorder:e?.metadata.needs_border,skipSelection:(0,at.WX)(e)});if(o.error)throw d.XJn.clearFDScene(),o.error;if(o?.success&&!o?.nodeId)throw Error((0,U.t)("first_draft.no_design_generated"));return{result:o}};function sy(){let e=(0,z.tS)(),{aiTrackingContext:t}=(0,iu.wj)(Y.JT.FIRST_DRAFT),n=t.clientLifecycleId,i=r.useCallback(()=>{(0,iB.sx)("First Draft: Error",{file_key:e,clientLifecycleId:n,view:"firstDraftGenerate"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[n,e]);return(0,a.jsx)(u.tH,{boundaryKey:"FirstDraft",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:n,area:o.e.AI_GENERATION},onError:i,children:(0,a.jsx)(ik.T.Provider,{value:{recordingKey:"firstDraftView"},children:(0,a.jsx)(sv,{recordingKey:"firstDraftView"})})})}function sv({recordingKey:e}){let t=(0,iu.RL)(Y.JT.FIRST_DRAFT,sx),{start:n,stop:i,state:o,aiTrackingContext:l}=t,u=l.clientLifecycleId,m=(0,ej.eY)(),h=(0,z.tS)(),f=(0,r.useRef)(null),g=s_(u),[_,x]=(0,c.fp)(g);if(f.current){let e=f.current;f.current=null,x(e)}let[y,v]=r.useState([]),b=r.useRef(!0),C=r.useRef(null),E=r.useRef(null),j=r.useRef(new rZ(1)),[w,T]=r.useState(new Set),I=r.useRef({}),{kitsAreLoaded:S,hasLastSelectedKit:N,selectedKit:A}=(0,am.sI)(),{close:L,push:R,replace:P}=(0,k.cq)(),[M,D]=r.useState(!1===N);(0,r.useEffect)(()=>{if(M||!N)return(N?R:P)({name:et.Sn.FIRST_DRAFT_KIT_PICKER,module:(0,a.jsx)(sr,{aiTrackingContext:l,ParentComponent:sy})})},[l,M,N,e,R,P]);let{promptHistory:F,addPromptToHistory:B}=(0,rJ.a)(sf,e=>e),H=(0,at.WX)(A),[V,G]=(0,r.useState)(!1),K=(0,s.wA)(),W=(0,at.WX)(A),Z=(0,rQ.qi)({enabled:W}),q=(0,rQ.eb)();rr(!H&&(o===iu.qy.DONE||o===iu.qy.ERROR)),r.useEffect(()=>()=>{d.XJn.clearFDScene()},[]);let X=r.useCallback(()=>b.current,[b]),Q=r.useCallback(async(e,t,n,i)=>{if(!e||!n)return;(0,rX.xF)(e);let a=!0;A&&!1===A.metadata.has_theme&&(a=!1),0===i.length&&0===Object.keys(t).length&&(a=!1),a&&v(await (0,rY.xk)(n,e,i,t))},[A]),{submitPrompt:$,executionTrace:en,imageProgress:ei}=(0,at.TM)({shouldContinueStream:X,onInsertJSXDone:Q,clientLifecycleId:u}),ea=r.useCallback(async()=>{if(o===iu.qy.RUNNING){(0,eY.xi)("first-draft","handleSubmit called while already running");return}if(!A){(0,eY.xi)("first-draft","handleSubmit called without a selected kit");return}J.D.dispatch(p.F.dequeue({matchType:sg})),B(_.prompt);let e=await n({selectedKit:A,promptValue:_,submitPrompt:$,shouldContinueStreamRef:b,selectedNodeIds:W?Array.from(q.keys()):void 0,selectedNodeThumbnailsCache:Z});e?.result?.nodeId&&(C.current=e.result.nodeId)},[o,A,B,_,n,$,W,q,Z]),er=r.useCallback(()=>{i(),L()},[L,i]),es=(0,r.useCallback)(async(e,t)=>{void 0!==t.prevOption&&e!==t.prevOption&&(0,ee.hm)({...l,...(0,ee.zQ)(t.ev),iteration_view_type:iv.$J.SUCCESS_WITH_ITERATION,interaction:iv.sd.GALLERY_SELECT,status:iv.o2.COMPLETED,value:e.modeId||"null"}),t.ev.target?.item&&(I.current[t.ev.target.index]=t.ev.target.item),await j.current.postTask(()=>{if(C.current&&(E.current?.modeId??null)!==e.modeId){let t=(0,rY.DP)(e,C.current,w),n=m.get(t),i=n?.firstDraftData,a=i?.kit?.type??null;(0,iB.sx)("First Draft: Multiple Options Selected",{preset_name:e.modeId,clientLifecycleId:u,isLocal:a===d.AZ4.LOCAL||null,dsKitType:null!==a?a===d.AZ4.LOCAL?"LOCAL":"1P_LIBRARY":null,kitKey:i?.kit?.key??null,file_key:h},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),T(new Set([C.current,...w])),C.current=t,E.current=e}},{})},[l,w,u,m,h]),eo=(0,nM.Fk)((e,t)=>{for(let n of t)if(n){let t=e.get(n);if(t)return Object.values(t.explicitVariableModes())[0]??null}},[C.current,...w]);r.useEffect(()=>{if(E.current&&void 0!==eo&&E.current.modeId!==eo){let e=y.findIndex(e=>e.modeId===eo);I.current[e]&&(E.current=y[e],I.current[e].fauxFocus())}},[eo,y]);let el=()=>0===y.length?null:(0,a.jsx)(sm,{options:y,onSelect:es}),ed=en&&(0,eu.kc)().cortex_execution_tracing;switch((0,r.useLayoutEffect)(()=>{o===iu.qy.DONE&&H&&(f.current={..._,attachmentMetadata:{..._.attachmentMetadata,...C.current?{[C.current]:{description:"",wasOutputOfPreviousGeneration:!0}}:{}}},J.D.dispatch(p.F.enqueue({type:sg,messageComponentKey:rq.Rw.FIRST_DRAFT_FEEDBACK,icon:rq.zX.GREEN_CHECK,onDismiss:()=>{J.D.dispatch(p.F.dequeue({matchType:sg}))},timeoutOverride:6e4,aiTrackingContext:l})),d.XJn?.clearFDScene(),(0,iu.B3)(Y.JT.FIRST_DRAFT),C.current&&d.Egt?.addToSelection([C.current]))},[o,H,_,l]),o){case iu.qy.INITIAL:return(0,a.jsx)(su,{aiTrackingContext:l,allowNodeAttachments:W,handleSubmit:ea,kitsAreLoaded:S,onShowKitPicker:()=>{D(!0)},promptHistory:F,promptValue:_,recordingKey:e,selectedKit:A,selectedNodeThumbnailsCache:Z,setPromptValue:x});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{recordingKey:iV.Pt(e,"running"),onStop:er,aiTrackingContext:l,secondaryMessage:ei.total&&ei.loaded?(0,U.t)("first_draft.x_of_y_images",{loaded:ei.loaded,total:ei.total}):void 0,children:(0,U.tx)("first_draft.running")});case iu.qy.DONE:{let n=t.result;if(V)return(0,a.jsx)(ru,{initialRootGuid:n.result?.nodeId});let i=[];if((0,al.KK)()&&!(0,eu.kc)().first_draft_use_gemini&&i.push({type:iC.is.MAKE_CHANGES,callback:()=>{d.XJn.clearFDScene(),G(!0)}}),ed&&(0,ra.A)(K,en),H)return null;return(0,a.jsx)(iC.Oq,{content:A?.dsKitKey.type==="USER_LIBRARY"?null:(()=>{let e=[],t=el();return(t&&e.push(t),0===e.length)?null:(0,a.jsx)(ry.Y,{direction:"vertical",spacing:8,children:e})})(),iterateOptions:i,recordingKey:iV.Pt(e,"iterate"),aiTrackingContext:{...l,iteration_view_type:iv.$J.SUCCESS_WITH_ITERATION},stayOpen:!0})}case iu.qy.ERROR:{let{error:n}=t;return ed&&(0,ra.A)(K,en),(0,a.jsx)(ib.E,{error:n,recordingKey:iV.Pt(e,"error"),buttons:[{type:ib.f.OK,callback:L}],aiTrackingContext:l})}case iu.qy.CANCELLED:return null;default:(0,O.xb)(o)}}var sb=n(712242),sC=n(997629);let sE="7f12ea1300756f144a0fb5daaf68dbfc01103a46",sj=(e,t)=>{let n=e=>{let t=e=>"number"==typeof e&&!isNaN(e);return t(e.x)&&t(e.y)&&t(e.width)&&t(e.height)};if(!n(e)||!n(t))throw Error("Invalid bounding box - all position and size properties must be valid numbers");let i=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y)),a=e.width*e.height+t.width*t.height-i;return[i,a]},sw={intersectionOverUnion:{distanceFunction:(e,t,n)=>{let i=!0,a=n.iouDefaultCost;try{let[r,s]=sj(e.boundingBox,t.boundingBox);void 0!==n.iouThreshold&&(i=i&&(0===s?0:r/s)>n.iouThreshold),a=s-r}catch(e){return{match:!1,distance:a}}return{match:i,distance:a}},options:{iouDefaultCost:1,iouThreshold:.2,typeMismatchCost:1}}};var sT=n(584781);function sk(e){return e.fills.some(e=>"IMAGE"===e.type)}let sI=new Set(["VECTOR","LINE"]),sS=new Set(["VECTOR","ROUNDED_RECTANGLE","ELLIPSE","STAR","LINE","REGULAR_POLYGON"]);function sN(e){return!!(sI.has(e.type)||sS.has(e.type))||"GROUP"===e.type&&e.childrenNodes.every(e=>sN(e))}var sA=n(260495),sL=n(156774),sO=n(567164);function sR(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function sP(e){if(!e||!e.startsWith("data:")||-1===e.indexOf(";base64,"))throw Error("Invalid data URL format");let t=e.split(";base64,").pop();if(!t)throw Error("Could not extract base64 data from URL");let n=e.substring(5,e.indexOf(";"));if(!n)throw Error("Could not extract mime type from data URL");return{base64:t,mimeType:n}}function sM(e){let t=e.size,n=(0,sL._G)(new tX.Mi(t.x,t.y),e.guid,!0,void 0,!1,!0);if(!n||!n.pixels||!n.pixelSize||!n.displaySize)return null;let{base64:i,mimeType:a}=sP((0,sL.Pv)(n.pixels,n.pixelSize));return{base64:i,mimeType:a,pixelData:n.pixels,width:n.pixelSize.x,height:n.pixelSize.y}}async function sD(e,t,n,i,a,r,s,o="Image"){let l;let d=sR(r),c=await (0,sA.UD)(d,s,"image");if(iO.l7.user("create image node",()=>{(l=e.createNode("RECTANGLE")).size={x:i,y:a},l.insertImageInFillPaint(c),l.x=n.x,l.y=n.y,t.appendChild(l),l.name=o}),!l)throw Error("Failed to create node");return l}async function sF(e,t,n,i,r,s,o){let l=await sD(e,t,n,i,r,s,o,"Placeholder");return(0,ap.Vm)(l.guid,(0,a.jsx)(sO.A,{})),l}async function sB(e,t,n,i,a,r,s,o){let{node:l,issues:c}=await (0,sC.LZ)(n,{originalSize:{x:a,y:r},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0,imagePlaceholderRef:sE}),u=()=>{l&&iO.l7.user("remove aborted node",()=>{l?.removeSelfAndChildren()})};if(o.signal.aborted)throw u(),new iu.lc;if(!l)throw Error(`Failed to deserialize node${c.length?`: ${c.map(e=>e.message).join(", ")}`:""}`);let p=await Promise.all(s.objects.filter(e=>"image"===e.cls||"vector"===e.cls).map(async e=>{let t=function(e,t,n,i){let a=new Uint8Array(i.width*i.height*4);for(let n=0;n<i.height;n++)for(let r=0;r<i.width;r++){let s=i.x+r,o=((i.y+n)*t+s)*4,l=(n*i.width+r)*4;a[l]=e[o]??0,a[l+1]=e[o+1]??0,a[l+2]=e[o+2]??0,a[l+3]=e[o+3]??0}return{data:a,width:i.width,height:i.height}}(function(e,t,n,i){let a=new Uint8Array(e.length);for(let r=0;r<i;r++)for(let i=0;i<n;i++){let s=(r*n+i)*4,o=t[r*n+i];a[s]=e[s]??0,a[s+1]=e[s+1]??0,a[s+2]=e[s+2]??0,a[s+3]=(e[s+3]??0)*(o??0)/255}return a}(i,function(e,t,n,i,a){let r=new Uint8Array(i*a);for(let s=0;s<a;s++)for(let o=0;o<i;o++){let l=Math.floor(o*t/i),d=Math.floor(s*n/a);r[s*i+o]=e[d*t+l]??0}return r}(e.mask,s.width,s.height,a,r),a,r),a,0,{x:e.x,y:e.y,width:e.width,height:e.height}),n=sR((function(e,t,n){let i=t*n*4;if(e.length!==i)throw Error(`Data length (${e.length}) does not match expected dimensions (${i})`);let{canvas:a,ctx:r}=function(e,t){let n=document.createElement("canvas");n.width=e,n.height=t;let i=n.getContext("2d");return{canvas:n,ctx:i}}(t,n);return function(e,t,n,i){let a=e.createImageData(t,n);a.data.set(i),e.putImageData(a,0,0)}(r,t,n,e),a.toDataURL("image/png")})(t.data,t.width,t.height).split(",")[1]),o=await (0,sA.UD)(n,"image/png","image");return{type:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,imageSetForInsertion:o}}));if(o.signal.aborted)throw u(),new iu.lc;let m=function({node:e,graphics:t}){var n;let[i,a]=function(e,t){let n=[];!function e(t){if(n.push(t),t.childrenNodes)for(let n of t.childrenNodes)e(n)}(e);let i=e.absoluteRenderBounds;if(!i)return[[],[]];let a=[],r=[];return n.forEach(e=>{if(t(e)){let{relativeBounds:t,isVisible:n}=function(e,t){let n=e.absoluteBoundingBox;if(!n)return{relativeBounds:void 0,isVisible:!1};let i={x:n.x-t.x,y:n.y-t.y,width:n.w,height:n.h},a=i.x<t.width&&i.x+i.width>0&&i.y<t.height&&i.y+i.height>0;return{relativeBounds:i,isVisible:a}}(e,{x:i.x,y:i.y,width:i.w,height:i.h});n&&t&&(a.push({boundingBox:t}),r.push(e))}}),[a,r]}(e,e=>sk(e)||sN(e)),[r,s]=function(e,t){let n=e.filter(t);return[n.map(e=>({boundingBox:{x:e.x,y:e.y,width:e.width,height:e.height}})),n]}(t,e=>"image"===e.type||"vector"===e.type),[o,l]=function(e,t,n=sw.intersectionOverUnion){let{columnsForRow:i,rowForColumn:a}=function(e,t=!1){if(0===e.length||0===e[0].length)return{columnsForRow:[],rowForColumn:[],gain:0};let n=e.length,i=e[0].length,a=!1;if(i>n){e=e[0].map((t,n)=>e.map(e=>e[n]));let t=n;n=i,i=t,a=!0}let r=t?Math.max(...e.flat()):Math.min(...e.flat());t&&r<0&&(r=0),!t&&r>0&&(r=0),e=e.map(e=>e.map(e=>t?-e+r:e-r));let s=Array(n).fill(-1),o=Array(i).fill(-1),l=Array(i).fill(0),d=Array(n).fill(0);for(let t=0;t<i;t++){let{sink:n,predecessors:i,updatedU:a,updatedV:r}=function(e,t,n,i,a,r){let s=i.length,o=i[0].length,l=Array(s).fill(0),d=Array(o).fill(!1),c=Array(s).fill(!1),u=Array.from({length:s},(e,t)=>t),p=s,m=null,h=0,f=e,g=Array(s).fill(1/0);for(;null===m;){d[f]=!0;let e=1/0,r=-1;for(let a=0;a<p;a++){let s=u[a],o=h+i[s][f]-t[f]-n[s];o<g[s]&&(l[s]=f,g[s]=o),g[s]<e&&(e=g[s],r=a)}if(!isFinite(e))return{sink:null,predecessors:l,updatedU:t,updatedV:n};let s=u[r];c[s]=!0,p--,u.splice(r,1),h=g[s],-1===a[s]?m=s:f=a[s]}t[e]+=h;for(let n=0;n<d.length;n++)d[n]&&n!==e&&(t[n]+=h-g[r[n]]);for(let e=0;e<c.length;e++)c[e]&&(n[e]-=h-g[e]);return{sink:m,predecessors:l,updatedU:t,updatedV:n}}(t,l,d,e,s,o);if(null===n)return{columnsForRow:[],rowForColumn:[],gain:-1};l=a,d=r;let c=n;for(;;){let e=i[c];s[c]=e;let n=o[e];if(o[e]=c,c=n,e===t)break}}let c=0;for(let t=0;t<i;t++)c+=e[o[t]][t];if(t?(c=-c+r*i,l=l.map(e=>-e),d=d.map(e=>-e)):c+=r*i,a){let e=s;s=o,o=e,e=l,l=d,d=e}return{columnsForRow:s,rowForColumn:o,gain:c}}(function(e,t,n){let{distanceFunction:i,options:a}=n;if(!i)throw Error("`distanceFunction` must be set in config.");if(!a)throw Error("`options` must be set in config.");let r=Array.from({length:e.length},()=>Array(t.length).fill(0));for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)r[n][s]=i(e[n],t[s],a).distance;return r}(e,t,n)),{distanceFunction:r,options:s}=n;for(let n=0;n<i.length;n++){let o=i[n];-1===o||r(e[n],t[o],s).match||(a[o]=-1,i[n]=-1)}return[i,a]}(i,r),d=(0,eX.UN)();return iO.l7.ai("reconcile all graphics",()=>{for(let e=0;e<i.length;e++){let t=o[e];if(void 0!==t&&-1!==t){let n=s[t],i=a[e];if(i&&n?.imageSetForInsertion){if(sk(i))i.insertImageInFillPaint(n.imageSetForInsertion);else if(sN(i)){let e=d.createNode("RECTANGLE");e.name=i.name||i.type,e.size={x:n.width,y:n.height},e.x=i.x,e.y=i.y,e.setImageInFillPaint(n.imageSetForInsertion),i.parentNode?.appendChild(e),i.removeSelfAndChildren()}}}}}),n=a.filter(sk),iO.l7.ai("Removing placeholder image fills",()=>{n.forEach(e=>{let t=e.fills;e.fills=t.filter(e=>!("IMAGE"===e.type&&e.image&&e.image.hash&&(0,sT.nj)(e.image.hash)===sE))})}),e}({node:l,graphics:p});return iO.l7.user("place node",()=>{t.parentNode?.appendChild(m),m.x=t.x,m.y=t.y,e.setSelectionToSingleNode(m.guid),d.glU.showSelectionOverlayImmediately()}),m}let sU=e$.z.object({cls:e$.z.string(),x:e$.z.number(),y:e$.z.number(),width:e$.z.number(),height:e$.z.number(),mask:e$.z.instanceof(Uint8Array)}).passthrough(),sH=e$.z.object({width:e$.z.number(),height:e$.z.number(),objects:e$.z.array(sU)}).passthrough();async function sV(e,t=1){let n=(await eJ.Ay.design.imageToShareJsx({input:{image:e},numDesigns:t})).jsx;if(!n?.length)throw Error("No valid JSX received from server");return n.flat()}async function sG(e,t,n){let i=(await Promise.all(t.map(async e=>{try{let{node:t}=await (0,sC.LZ)(e,{originalSize:{x:n.size.x,y:n.size.y},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0});if(!t)return null;iO.l7.user("place node",()=>{t.x=n.x,t.y=n.y});let i=sM(t);if(!i)return null;let a=i.base64;return iO.l7.user("hide and remove node",()=>{t.visible=!1,t.removeSelfAndChildren()}),{jsx:e,base64:a}}catch(e){return null}}))).filter(e=>null!==e);if(0===i.length)return console.warn("No valid JSX candidate thumbnails generated, defaulting to first candidate"),t[0];let a=(await eJ.Ay.design.guiclip({image:e,candidates:i.map(e=>e.base64)})).bestCandidateIndex;return null==a?(console.warn("Cannot get best candidate index from server, defaulting to first valid candidate"),i[0].jsx):i[a].jsx}async function sz(e){let t=await eJ.Ay.design.uiParser({png_b64:e}),n={width:t.width,height:t.height,objects:t.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:new Uint8Array(atob(e.mask).split("").map(e=>e.charCodeAt(0)))}))},i=sH.safeParse(n);if(!i.success)throw Error("Unable to parse response from UI Parser");return i.data}let sK=async({abortController:e})=>{let t;let n=eX.UN().getCurrentPage()?.directlySelectedNodes;if(!n||1!==n.length||void 0===n[0])throw Error("No image selected");let i=n[0],a=i.size.x,r=i.size.y;try{let{base64:n,mimeType:s,pixelData:o,width:l,height:d}=function(e){let t=sM(e);if(!t)throw Error("Cannot process image");return t}(i),{node:c,location:u}=function(e,t,n){return{node:e.parentNode,location:new tX.Mi(e.x+t+(t+n)/2*.15,e.y)}}(i,l,d),p=(0,eX.UN)(),m=p.getCurrentPage();if(!m)throw Error("Cannot get current page from scene");t=await sF(p,c??m,u,a,r,n,s);let h=(0,iu.zM)((e,t)=>sV(e,t),e),f=(0,iu.zM)((e,t,n)=>sG(e,t,n),e),g=(0,iu.zM)(e=>sz(e),e),_=await h(n,4),x=await f(n,_,t),y=await g(n),v=(0,iu.zM)(sB,e,e=>{e&&iO.l7.user("clean up reconciled node",()=>{e.removeSelfAndChildren()})});await v(m,t,x,o,l,d,y,e)}catch(e){if(e instanceof iu.lc)return;throw e}finally{iO.l7.user("remove placeholder node",()=>{t&&t.removeSelfAndChildren()})}},sW=async({abortController:e,params:t})=>{let n;let i=(t.width+t.height)/2,a=new tX.Mi(t.node.x+t.width+.15*i,t.node.y),r=(0,eX.UN)(),s=r.getCurrentPage();if(!s)throw Error("Cannot get current page from scene");let o=sM(t.node);if(!o)throw Error("Failed to get image data from node");let{base64:l,mimeType:c,pixelData:u,width:p,height:m}=o;try{n=await sF(r,t.node.parentNode??s,a,p,m,l,c);let i=await (0,sC.oy)(t.node,{normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0}),o=await d.bbV?.generateNodeSegmentationFromWeb(t.node.guid);if(!o)throw Error("UiParserHelpers is undefined, failed to create segmentation for node");let h={width:o.width,height:o.height,objects:o.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:e.mask}))};await sB(s,n,i.jsxStr,u,p,m,h,e)}catch(e){throw e}finally{iO.l7.user("remove placeholder node",()=>{n&&n.removeSelfAndChildren()})}};var sZ=n(186437),sq=n(298056);function sX({fileInputRef:e,onFileInputChange:t}){return(0,a.jsx)("input",{type:"file",ref:e,accept:sq.xp.join(","),onChange:t,multiple:!1,className:B.s.hidden.$})}function sY({action:e,instruction:t,onPerform:n,disableImageUpload:i=!1}){let{close:s}=(0,k.cq)(),o=(0,iu.RL)(e,sK),{state:l,stop:c,aiTrackingContext:u}=o,p=r.useRef(null),m=()=>{(0,iu.B3)(e)};switch(l){case iu.qy.INITIAL:return(0,a.jsxs)(a.Fragment,{children:[!i&&(0,a.jsx)(sX,{fileInputRef:p,onFileInputChange:e=>{let t=e.target?.files;if(t&&t[0]){let e=t[0],n=new FileReader;n.onloadend=()=>{if(n.result){let t=n.result.toString(),i=new Image;i.onload=async()=>{let n=i.width,a=i.height,r=(0,eX.UN)(),s=r.getCurrentPage();if(!s)return;let o=ao.Y5.getViewportInfo(),l=new tX.Mi(o.offsetX-n/2,o.offsetY-a/2),{base64:c,mimeType:u}=sP(t),p=await sD(r,s,l,n,a,c,u,e.name);s.setSelectionToSingleNode(p.guid),d.glU.showSelectionOverlayImmediately()},i.src=t}},n.readAsDataURL(e)}}}),(0,a.jsx)(ix.A,{action:e,actionLabel:(0,U.tx)("image_to_design.action"),actionIcon:(0,a.jsx)(n2.f,{}),instructionAction:i?void 0:{type:"custom",label:(0,U.tx)("fragment_search.visual_search_image_upload_button"),iconPrefix:(0,a.jsx)(sZ.A,{}),onPerform:()=>p.current?.click()},aiTrackingContext:void 0,onPerform:n,children:t})]});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{onStop:()=>{c(),m(),s()},aiTrackingContext:u,children:(0,U.tx)("ai.working")});case iu.qy.DONE:return(0,a.jsx)(iC.Oq,{iterateOptions:[],aiTrackingContext:{...u,iteration_view_type:iv.$J.SUCCESS_WITH_ITERATION},showFeedbackInline:!0});case iu.qy.ERROR:return(0,a.jsx)(ib.E,{error:o.error,buttons:[{type:ib.f.OK,callback:m}],aiTrackingContext:u});case iu.qy.CANCELLED:return null}}var sJ=n(952182),sQ=n(94706),s$=n(86421),s0=n(592948),s1=n(196486),s2=n(607804),s3=n(406959),s5=n(266230),s4=n(915242),s6=n(167037);async function s7(){let e=(0,eX.UN)(),t=e.getCurrentPage()?.directlySelectedNodes||[];if(1!==t.length)return null;let n=t[0];if(!n)throw Error("Selected node is undefined");return await s9(n.guid)}async function s9(e){if(!d.ruz)throw Error("ImageToolsBindings is not available");let t=(0,eX.UN)().get(e);if(!t)throw Error("Node not found");let n=d.ruz.getTopmostVideoIndex(t.id);if(null===n)throw Error("No video paint found in node");let i=t.fills[n];if(!i||!i.video?.hash)throw Error("Video paint or hash not found");let a=await (0,s6.f)(i.video);if(!a)throw Error("Could not get signed URL for video");return new Promise((e,t)=>{let n=document.createElement("video");n.crossOrigin="anonymous",n.muted=!0,n.playsInline=!0;let i=document.createElement("canvas"),r=i.getContext("2d");if(!r){t(Error("Could not get canvas context"));return}n.onloadedmetadata=()=>{i.width=n.videoWidth,i.height=n.videoHeight,n.currentTime=n.duration},n.onseeked=()=>{try{r.drawImage(n,0,0,i.width,i.height);let t=i.toDataURL("image/png");e(t.split(",")[1]??"")}catch(e){t(e)}},n.onerror=e=>{t(Error(`Video loading error: ${e}`))},n.src=a,n.load()})}var s8=n(249422);let oe=(0,c.E3)("make_video_prompt_history",[]),ot=r.lazy(()=>n.e(7717).then(n.bind(n,827717)));function on({action:e,aiActionType:t,actionLabel:n,instructionLabel:i,icon:r,searchSynonyms:s}){return{action:e,featureFlags:["figjam_quick_actions_v2"],tags:[nR.$.AI],flags:["edit","whiteboard"],iconType:r,searchSynonyms:s,quickAction:{beforeModuleOpen:()=>{(0,eO.Yh)(J.D.getState().mirror.appModel,e)&&(0,id.J7)(t)},alwaysEnabled:!0,module:{name:et.Sn.FIGJAM_AI_CONTEXTUAL_FEATURES,module:(0,a.jsx)(iy,{action:e,actionType:t,actionIcon:r,actionLabel:n,instructionLabel:i})}}}}let oi=[{callback:R.lQ,action:Y.JT.TRANSLATE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],tags:[nR.$.AI],quickAction:{beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.TRANSLATE_TEXT)},alwaysEnabled:!0,module:{name:et.Sn.TRANSLATE,module:(0,a.jsx)(ig.K,{})}},iconType:(0,a.jsx)(nz.R,{}),searchSynonyms:["change language"]},{callback:R.lQ,action:Y.JT.REWRITE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.REWRITE_TEXT)},module:{name:et.Sn.REWRITE,module:(0,a.jsx)(im.w,{})},alwaysEnabled:!0},iconType:(0,a.jsx)(nK.T,{}),tags:[nR.$.AI],searchSynonyms:["revise this","modify this","adjust tone"]},{callback:()=>{(0,iu.B3)(Y.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,iu.Ag)(Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,io.O,{source:il.f.QUICK_ACTIONS})},action:Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,flags:["slides"],iconType:(0,a.jsx)(nW.B,{}),tags:[nR.$.AI],searchSynonyms:["presenter notes","speaker notes","notes","draft presenter notes","draft speaker notes","draft notes"]},{callback:()=>(0,is.mD)(J.D.dispatch,{source:"quick_actions",toggle:!0}),action:Y.JT.SLIDES_REWRITE_TEXT,flags:["slides"],iconType:(0,a.jsx)(nZ.s,{}),tags:[nR.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:()=>(0,is.mD)(J.D.dispatch,{source:"quick_actions",toggle:!0}),action:Y.JT.SLIDES_REWRITE_TEXT,flags:["edit","design"],featureFlags:["aip_tone_dial_fd"],iconType:(0,a.jsx)(nZ.s,{}),tags:[nR.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:R.lQ,action:Y.JT.SHORTEN_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{module:{name:et.Sn.SHORTEN,module:(0,a.jsx)(ih.J,{})},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.SHORTEN_TEXT),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.SHORTEN_TEXT)&&(0,iu.Ag)(Y.JT.SHORTEN_TEXT,ih.$,{featureType:Y.JT.SHORTEN_TEXT,source:"quick-actions"})}},iconType:(0,a.jsx)(nq.g,{}),tags:[nR.$.AI],searchSynonyms:["make concise","condense","reduce","abbreviate","shorter"]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT,flags:["edit","design"],featureFlags:[],quickAction:{module:{module:(0,a.jsx)(sy,{}),name:et.Sn.FIRST_DRAFT},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.FIRST_DRAFT)}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["first draft","make designs","generate design","create design","let's design"]},{callback:R.lQ,action:Y.JT.MAKE_EDITS,flags:["edit","design"],featureFlags:["make_edits"],quickAction:{module:{module:(0,a.jsx)(ir.bt,{}),name:et.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:R.lQ,action:Y.JT.MAKE_EDITS_DEBUG,flags:["edit","design","whiteboard","slides"],featureFlags:["make_edits","make_edits_debug"],quickAction:{module:{module:(0,a.jsx)(s0.Aw,{}),name:et.Sn.MAKE_EDITS_DEBUG},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,a.jsx)(nX,{}),searchSynonyms:["debug make edits"],tags:[nR.$.AI]},{callback:R.lQ,action:Y.JT.MAKE_EDITS_DEBUG_REVIEW,flags:["edit","design","whiteboard","slides"],featureFlags:["make_edits","make_edits_debug"],quickAction:{module:{module:(0,a.jsx)(r.Suspense,{fallback:null,children:(0,a.jsx)(ot,{})}),name:et.Sn.MAKE_EDITS_DEBUG_REVIEW},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,a.jsx)(nX,{}),searchSynonyms:["debug make edits review"],tags:[nR.$.AI]},{callback:R.lQ,action:Y.JT.MAKE_EDITS,flags:["whiteboard"],featureFlags:["make_edits_figjam"],quickAction:{module:{module:(0,a.jsx)(ir.bt,{}),name:et.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:R.lQ,action:Y.JT.MAKE_EDITS,flags:["slides"],featureFlags:["make_edits_slides"],quickAction:{module:{module:(0,a.jsx)(ir.bt,{}),name:et.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_FINE_TUNE,flags:["edit","design"],featureFlags:["first_draft_fine_tune"],quickAction:{module:{module:(0,a.jsx)(function(){let e=(0,r.lazy)(()=>Promise.all([n.e(357),n.e(5568),n.e(9890),n.e(6264)]).then(n.bind(n,886264))),{aiTrackingContext:t}=(0,iu.wj)(Y.JT.FIRST_DRAFT_FINE_TUNE),i=t.clientLifecycleId;return(0,a.jsx)(u.tH,{boundaryKey:"FirstDraftFineTune",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:i,area:o.e.AI_GENERATION},children:(0,a.jsx)(ik.T.Provider,{value:{recordingKey:"firstDraftFineTuneView"},children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:(0,U.t)("first_draft.make_edits.loading")}),children:(0,a.jsx)(e,{})})})})},{}),name:et.Sn.FIRST_DRAFT_FINE_TUNE},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.FIRST_DRAFT_FINE_TUNE)},alwaysEnabled:!0},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["fine tune","first draft fine tune"]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_changes","first_draft_make_changes_reopen"],notFeatureFlags:["first_draft_use_gemini"],quickAction:{module:{module:(0,a.jsx)(function(){let e=ar(),[t]=r.useState(e);return(0,a.jsx)(ru,{initialRootGuid:t||null})},{}),name:et.Sn.FIRST_DRAFT_MAKE_CHANGES}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["make changes","adjust design","modify design","edit design"]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_MAKE_KIT,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit"],quickAction:{module:{module:(0,a.jsx)(function(){let{pop:e}=(0,k.cq)();return(0,a.jsx)(u.tH,{boundaryKey:"FirstDraftMakeKitView",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.AI_GENERATION},children:(0,a.jsx)(rR,{recordingKey:"firstDraftMakeKitView",onBack:e})})},{}),name:et.Sn.FIRST_DRAFT_MAKE_KIT},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.FIRST_DRAFT_MAKE_KIT),(0,iu.B3)(Y.JT.FIRST_DRAFT_COMPONENTIZE),(0,iu.B3)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:(0,a.jsx)(nX,{}),tags:[nR.$.AI],searchSynonyms:["make kit","create kit","generate kit","design kit"]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_MAKE_KIT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit","first_draft_debug"],quickAction:{module:{module:(0,a.jsx)(function(){let e=(0,s.wA)(),{close:t}=(0,k.cq)(),{inputs:n,renderInput:i}=function(e,t,n){let i=r.useMemo(()=>(function(e){let t=e.reduce((e,t)=>(e[t]=e$.z.object({override:e$.z.string(),enabled:e$.z.boolean()}),e),{});return e$.z.object(t)})(e),[e]),{inputs:s,setInputs:o,handleInputChange:l,handleCheckboxChange:d}=function(e,t,n,i){let[a,s]=r.useState(()=>{let a=localStorage.getItem(t);if(a)try{let e=JSON.parse(a);if(n)return n.parse(e);return e}catch(e){console.error(`Failed to parse saved state for ${t}:`,e)}return e.reduce((e,t)=>(e[t]={override:"",enabled:i?.enabled??!1},e),{})});r.useEffect(()=>{localStorage.setItem(t,JSON.stringify(a))},[a,t]);let o=r.useCallback(e=>t=>{s(n=>({...n,[e]:{...n[e],override:t.target.value}}))},[]),l=r.useCallback(e=>t=>{s(n=>({...n,[e]:{...n[e],enabled:t.target.checked}}))},[]);return{inputs:a,setInputs:s,handleInputChange:o,handleCheckboxChange:l}}(e,t,i,void 0),c=r.useCallback(({field:e,label:t,rows:n=3,placeholder:i="Enter override"})=>(function(e,t,n,i,r,s=3,o="Enter override"){let l=e[t]||{override:"",enabled:!1};return(0,a.jsxs)(en.B,{fullWidth:!0,justify:"space-between",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.enabled,onChange:i(t)}),(0,a.jsx)("div",{style:{opacity:l.enabled?1:.5,width:"100%"},children:(0,a.jsxs)(ry.Y,{direction:"vertical",spacing:8,children:[(0,a.jsx)(eZ.E,{children:n}),(0,a.jsx)("textarea",{className:B.s.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:s,value:l.override,placeholder:o,onChange:r(t),disabled:!l.enabled})]})})]})})(s,e,t,d,l,n,i),[s,l,d]);return{inputs:s,setInputs:o,handleInputChange:l,handleCheckboxChange:d,renderInput:c}}(rW,"firstDraftMakeKitDebugState"),o=r.useMemo(()=>n.componentizeResultMapping.enabled?async()=>await function(e){if(!e||""===e.trim())return{};try{return JSON.parse(e)}catch(e){return console.warn("Failed to parse JSON:",e),{}}}(n.componentizeResultMapping.override):n.componentizePrompt.enabled?async e=>await rU(n.componentizePrompt.override,e):void 0,[n.componentizePrompt.override,n.componentizeResultMapping.override,n.componentizeResultMapping.enabled,n.componentizePrompt.enabled]),l=r.useMemo(()=>{if(n.suggestProps.enabled)return async e=>{try{return await rH(n.suggestProps.override,e)}catch(e){return console.error("Failed to get suggested props:",e),[]}}},[n.suggestProps.override,n.suggestProps.enabled]),[d,c]=r.useState(!1);return d?(0,a.jsx)(rC.x.Provider,{value:{getSuggestedComponents:o,getSuggestedProps:l},children:(0,a.jsx)(rB,{})}):(0,a.jsx)("div",{children:(0,a.jsxs)(ry.Y,{direction:"vertical",spacing:"auto",padding:8,children:[(0,a.jsx)(eZ.E,{fontSize:14,fontWeight:"medium",children:"Make First Draft Kit (Debug)"}),(0,a.jsxs)(ry.Y,{direction:"vertical",padding:8,width:"fill-parent",spacing:16,children:[i({field:"componentizePrompt",label:"Componentize Prompt Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"}),i({field:"suggestProps",label:"Suggest Props Prompt Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"}),i({field:"componentizeResultMapping",label:"Componentize Result Mapping Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"})]}),(0,a.jsxs)(en.B,{gap:8,children:[(0,a.jsx)(tq.$n,{variant:"secondary",onClick:async()=>{await rK({componentizePromptOverride:n.componentizePrompt.enabled?n.componentizePrompt.override:void 0,dispatch:e,close:t})},children:"Eval componentize on page"}),(0,a.jsx)(tq.$n,{variant:"secondary",onClick:()=>c(!0),children:"Run on current selection"}),(0,a.jsx)(tq.$n,{variant:"secondary",onClick:()=>rz({componentizePromptOverride:n.componentizePrompt.enabled?n.componentizePrompt.override:void 0,dispatch:e}),children:"Generate test case from selected"})]})]})})},{}),name:et.Sn.FIRST_DRAFT_MAKE_KIT_DEBUG},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.FIRST_DRAFT_MAKE_KIT),(0,iu.B3)(Y.JT.FIRST_DRAFT_COMPONENTIZE),(0,iu.B3)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:(0,a.jsx)(nX,{}),searchSynonyms:["debug kit","debug make kit"],tags:[nR.$.AI]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_LINTING,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_publish_ux"],quickAction:{module:{module:(0,a.jsx)(iI.S6,{}),name:et.Sn.FIRST_DRAFT_LINT}},tags:[nR.$.AI]},{callback:R.lQ,action:Y.JT.FIRST_DRAFT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_debug"],quickAction:{module:{module:(0,a.jsx)(function(){let e=(0,r.lazy)(()=>n.e(4215).then(n.bind(n,754215)));return(0,a.jsx)(u.tH,{boundaryKey:"MakeEdits",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.AI_GENERATION},children:(0,a.jsx)(ik.T.Provider,{value:{recordingKey:"firstDraftDebugView"},children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(e,{})})})})},{}),name:et.Sn.FIRST_DRAFT_DEBUG}},tags:[nR.$.AI]},{name:Y.JT.FIND_INSPIRATION,action:Y.JT.FIND_INSPIRATION,displayNode:(0,U.tx)("fullscreen_actions.quick_actions.find-inspiration-verbose"),displayForQuickCommand:"find-inspiration-quick-command",args:{},tags:[nR.$.AI],flags:["design","slides","cooper"],featureFlags:(0,eu.kc)().hub_file_fragments?[]:["asset_suggestions"],callback:R.lQ,quickAction:{module:{module:(0,eu.kc)().hub_file_fragments?(0,a.jsx)(tw.z6,{isVisualSearch:!0}):(0,a.jsx)(sb.WS,{}),name:et.Sn.VISUAL_SEARCH},beforeModuleOpen:()=>(0,sb.jp)(H.G4.ACTIONS_LIST)},iconType:(0,a.jsx)(eV.T,{}),searchSynonyms:["visual search","image search","selection search","visual lookup","find matching","search for similar","find similar designs","find more like"]},{action:Y.JT.REMOVE_BACKGROUND,featureFlags:[],tags:[nR.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,a.jsx)(nY.$,{}),quickAction:{module:{module:(0,a.jsx)(sQ.w,{source:"quick-actions"}),name:et.Sn.BACKGROUND_REMOVE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{if((0,iu.B3)(Y.JT.REMOVE_BACKGROUND),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.REMOVE_BACKGROUND)){let e=d.ruz?.getNodeImagePairsForEdit()??[];(0,iu.Ag)(Y.JT.REMOVE_BACKGROUND,ii.J,{source:"quick-actions",targets:e},{isBatch:e.length>1})}}},callback:R.lQ,searchSynonyms:["clean up image","clean up picture","make transparent","delete background","erase background","eliminate background","isolate subject"]},{action:Y.JT.UPSCALE_IMAGE,featureFlags:[],tags:[nR.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,a.jsx)(nJ.X,{}),quickAction:{module:{module:(0,a.jsx)(sQ.q,{source:"quick-actions"}),name:et.Sn.UPSCALE_IMAGE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{if((0,iu.B3)(Y.JT.UPSCALE_IMAGE),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.UPSCALE_IMAGE)){let e=d.ruz?.getNodeImagePairsForEdit()??[];(0,iu.Ag)(Y.JT.UPSCALE_IMAGE,it.r6,{source:"quick-actions",targets:e},{isBatch:e.length>1})}}},callback:R.lQ,searchSynonyms:["boost resolution","sharpen image","sharpen picture","upscale image","scale up","enlarge image","refine image","improve image","unblur","reduce blur","increase size","increase quality","enhance clarity","crisp"]},{callback:R.lQ,action:Y.JT.AUTO_RENAME_LAYERS,featureFlags:["eai_auto_rename_layers"],tags:[nR.$.AI],flags:["edit","design"],iconType:(0,a.jsx)(nQ._,{}),quickAction:{module:{module:(0,a.jsx)(s1.A,{source:d.uQ6.QUICK_ACTIONS}),name:et.Sn.RENAME_LAYERS_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.AUTO_RENAME_LAYERS),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.AUTO_RENAME_LAYERS)&&(0,iu.Ag)(Y.JT.AUTO_RENAME_LAYERS,n8.Ay,{source:d.uQ6.QUICK_ACTIONS,overwriteNames:!1})}},searchSynonyms:["rename all layers","name layers"]},{callback:R.lQ,action:Y.JT.GENERATE_IMAGE,featureFlags:[],tags:[nR.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,a.jsx)(n$.T,{}),quickAction:{module:{module:(0,a.jsx)(sJ.Ay,{}),name:et.Sn.GENERATE_IMAGE},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.GENERATE_IMAGE)}},searchSynonyms:["generate image","make a picture","generate graphic","generate picture","generate illustration","create image"]},{callback:R.lQ,action:Y.JT.EDIT_IMAGE,featureFlags:[],tags:[nR.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,a.jsx)(nK.T,{}),quickAction:{module:{module:(0,a.jsx)(sJ.Tu,{}),name:et.Sn.EDIT_IMAGE},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.EDIT_IMAGE)},alwaysEnabled:!0},searchSynonyms:["edit image","edit picture","edit graphic","edit illustration","modify image","change image","style image"]},{callback:R.lQ,action:Y.JT.MAKE_VIDEO,featureFlags:["aip_mw_video"],tags:[nR.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,a.jsx)(n$.T,{}),quickAction:{module:{module:(0,a.jsx)(function(){let e=(0,s2.to)(),{close:t}=(0,k.cq)(),[n,i]=r.useState(""),{promptHistory:s,addPromptToHistory:o}=(0,rJ.a)(oe,e=>e),l=(0,iu.RL)(Y.JT.MAKE_VIDEO,s8.wx),{start:d,stop:c,state:u,aiTrackingContext:p}=l,{referenceImages:m,handleFileUpload:h,createImageAttachments:f,fileInputRef:g}=(0,s3.Iu)();(0,r.useEffect)(()=>{s7().then(e=>{e&&(0,s4.w)(e,e=>{e.imageHash&&e.image&&h({status:"success",type:"IMAGE",nodeGuid:e.nodeGuid,image:e.image,imageHash:e.imageHash,uniqueId:(0,s5.lA)()})})}).catch(e=>{console.error("Failed to get last frame:",e)})},[h]);let _=(0,r.useCallback)(async()=>{o(n),await d({prompt:n,images:(0,sJ.L0)(m)})},[o,n,m,d]);switch((0,r.useEffect)(()=>()=>{c(),(0,iu.B3)(Y.JT.MAKE_VIDEO)},[c]),u){case iu.qy.INITIAL:return(0,a.jsx)(iE.A,{action:Y.JT.MAKE_VIDEO,aiTrackingContext:p,ariaLabel:(0,U.t)("fullscreen_actions.make_video"),extraFooter:(0,a.jsx)(sJ.Ti,{fileInputRef:g,disabled:m.length>=1,tooltip:m.length>=1?(0,U.t)("video_ai.make_video.initial_frame_already_set"):(0,U.t)("video_ai.make_video.set_initial_frame"),multiple:!1,onFileUpload:f}),featureNameForInstrumentation:"make_video",maxLength:1024,minLength:3,onBack:e?t:void 0,onChangePrompt:i,onRun:_,prompt:n,promptHistory:s,submitLabel:(0,U.tx)("ai.make_it"),useClose:e});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{onCancel:t,aiTrackingContext:p,children:(0,U.tx)("video_ai.make_video.processing")});case iu.qy.DONE:let x={...p,iteration_view_type:iv.$J.SUCCESS_WITH_ITERATION};return(0,a.jsx)(iC.Oq,{iterateOptions:[],aiTrackingContext:x,completionString:(0,U.t)("video_ai.make_video.initial_completion"),showFeedback:!1,targets:[]});case iu.qy.ERROR:return(0,a.jsx)(ib.E,{error:l.error,buttons:[{type:ib.f.GO_BACK,callback:()=>(0,iu.B3)(Y.JT.MAKE_VIDEO)}],aiTrackingContext:p});case iu.qy.CANCELLED:return null}},{}),name:et.Sn.MAKE_VIDEO},beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MAKE_VIDEO)}},searchSynonyms:["make video","generate video","create video","make animation","make film","make clip"]},{action:Y.JT.MAGIC_LINK,flags:["edit","design"],featureFlags:["prototype_ai_magic_link"],tags:[nR.$.AI],quickAction:{module:{module:(0,a.jsx)(s$.p,{}),name:et.Sn.MAGIC_LINK},alwaysEnabled:!0,beforeModuleOpen:()=>{J.D.dispatch((0,ie.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"quick_actions"}})),(0,iu.B3)(Y.JT.MAGIC_LINK),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.MAGIC_LINK)&&(0,iu.Ag)(Y.JT.MAGIC_LINK,ia.e,{})}},iconType:(0,a.jsx)(n0.B,{}),searchSynonyms:["magic link","add prototype links","add prototype connections","connect prototype","add interactions","make prototype"]},{action:Y.JT.CONTENT_FILL,featureFlags:[],tags:[nR.$.AI],flags:["edit","design","sites"],iconType:(0,a.jsx)(n1.c,{}),quickAction:{module:{module:(0,a.jsx)(ip.F,{}),name:et.Sn.REGENERATE_TEXT_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.CONTENT_FILL)}},searchSynonyms:["fill content","content fill","lorem ipsum","rewrite placeholder text","replace duplicates","rewrite duplicates"]},{action:Y.JT.ASSISTANT_CHAT,featureFlags:["prt_legacy_v3"],flags:["design","slides","cooper"],tags:[nR.$.AI],iconType:(0,a.jsx)(eH.V,{}),quickAction:{module:{module:(0,a.jsx)(t3,{}),name:et.Sn.ASSISTANT_CHAT},beforeModuleOpen:()=>{c.zl.set(ts,{status:tr.Idle,messages:[]})}},searchSynonyms:["chat"]},{action:Y.JT.IMAGE_TO_DESIGN,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[nR.$.AI],iconType:(0,a.jsx)(n2.f,{}),quickAction:{module:{module:(0,a.jsx)(function(){let{start:e}=(0,iu.RL)(Y.JT.IMAGE_TO_DESIGN,sK);return(0,a.jsx)(sY,{action:Y.JT.IMAGE_TO_DESIGN,instruction:(0,U.tx)("image_to_design.instruction"),onPerform:()=>{e({})}})},{}),name:et.Sn.IMAGE_TO_DESIGN},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.IMAGE_TO_DESIGN),(0,eO.Yh)(J.D.getState().mirror.appModel,Y.JT.IMAGE_TO_DESIGN)&&(0,iu.Ag)(Y.JT.IMAGE_TO_DESIGN,sK,{})}},searchSynonyms:["convert image to layers","make image editable","convert image to design","generate design from image","screenshot to design","picture to design"]},{action:Y.JT.IMAGE_TO_DESIGN_ORACLE,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[nR.$.AI],iconType:(0,a.jsx)(eH.V,{}),quickAction:{module:{module:(0,a.jsx)(function(){let{start:e}=(0,iu.RL)(Y.JT.IMAGE_TO_DESIGN_ORACLE,sW);return(0,a.jsx)(sY,{action:Y.JT.IMAGE_TO_DESIGN_ORACLE,instruction:(0,U.tx)("image_to_design.oracle_instruction"),disableImageUpload:!0,onPerform:()=>{let t=eX.UN().getCurrentPage()?.directlySelectedNodes;if(!t||1!==t.length||void 0===t[0])return;let n=t[0];e({node:n,width:n.size.x,height:n.size.y})}})},{}),name:et.Sn.IMAGE_TO_DESIGN_ORACLE},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.IMAGE_TO_DESIGN_ORACLE)}}},{callback:()=>{c.zl.set(ic.bJ)},action:Y.JT.WHITEBOARD_GENERATE_CONTENT,featureFlags:["figjam_quick_actions_v2"],tags:[nR.$.AI],flags:["edit","whiteboard"],iconType:(0,a.jsx)(n5,{}),searchSynonyms:["create content","add content","generate content","create diagram","add diagram","generate diagram","create templates and diagrams","add templates and diagrams","generate templates and diagrams"]},{action:Y.JT.MERMAID_TO_DIAGRAM,featureFlags:["figjam_mermaid_to_diagram"],tags:[nR.$.AI],flags:["edit","whiteboard"],iconType:(0,a.jsx)(n4.r,{}),quickAction:{module:{module:(0,a.jsx)(function(){let e=(0,iu.RL)(Y.JT.MERMAID_TO_DIAGRAM,iT),{start:t,state:n,aiTrackingContext:i}=e,[s,o]=r.useState("");switch(n){case iu.qy.INITIAL:return(0,a.jsx)(iE.A,{action:Y.JT.MERMAID_TO_DIAGRAM,aiTrackingContext:i,minLength:3,prompt:s,onChangePrompt:o,onRun:()=>{t({mermaidText:s})},submitLabel:(0,U.t)("figjam_ai.ai_actions.make_diagram_button")});case iu.qy.RUNNING:return(0,a.jsx)(ij.F,{aiTrackingContext:i,children:(0,U.t)("figjam_ai.ai_actions.make_diagram_progress")});case iu.qy.DONE:return(0,a.jsx)(iC.Oq,{aiTrackingContext:{...i,iteration_view_type:iv.$J.DEFAULT_SUCCESS},iterateOptions:[]});case iu.qy.ERROR:return(0,a.jsx)(ib.E,{error:e.error,aiTrackingContext:i});case iu.qy.CANCELLED:return null}},{}),name:et.Sn.MERMAID_TO_DIAGRAM},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,iu.B3)(Y.JT.MERMAID_TO_DIAGRAM)}}},on({action:Y.JT.SUMMARIZE_STICKIES,aiActionType:id.hG.SUMMARIZE_STICKIES,actionLabel:(0,U.tx)("fullscreen_actions.summarize-stickies"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n6.O,{})}),on({action:Y.JT.SORT_STICKIES_BY_TOPIC,aiActionType:id.hG.SORT_STICKIES_BY_TOPIC,actionLabel:(0,U.tx)("fullscreen_actions.sort-stickies-by-topic"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n7.$,{})}),on({action:Y.JT.SORT_STICKIES_BY_COLOR,aiActionType:id.hG.SORT_STICKIES_BY_COLOR,actionLabel:(0,U.tx)("fullscreen_actions.sort-stickies-by-color"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n7.$,{})}),on({action:Y.JT.SORT_STICKIES_BY_AUTHOR,aiActionType:id.hG.SORT_STICKIES_BY_AUTHOR,actionLabel:(0,U.tx)("fullscreen_actions.sort-stickies-by-author"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n7.$,{})}),on({action:Y.JT.SORT_STICKIES_BY_STAMP_COUNT,aiActionType:id.hG.SORT_STICKIES_BY_STAMP_COUNT,actionLabel:(0,U.tx)("fullscreen_actions.sort-stickies-by-stamp-count"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n7.$,{})}),on({action:Y.JT.SORT_STICKIES_BY_STAMP_TYPE,aiActionType:id.hG.SORT_STICKIES_BY_STAMP_TYPE,actionLabel:(0,U.tx)("fullscreen_actions.sort-stickies-by-stamp-type"),instructionLabel:(0,U.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,a.jsx)(n7.$,{})}),on({action:Y.JT.MIND_MAP_GENERATE_IDEAS,aiActionType:id.hG.MIND_MAP_GENERATE_IDEAS,actionLabel:(0,U.tx)("fullscreen_actions.mind-map-generate-ideas"),instructionLabel:(0,U.tx)("figjam_ai.make_mindmap_ideas.make_selection_instruction"),icon:(0,a.jsx)(n4.r,{}),searchSynonyms:["generate new mind map ideas","generate mind map ideas","generate ideas"]})];function oa(){let e=(0,m.PE)(),t=!(0,n9.q8)(),n=(0,eq.ow)(),i=e||(0,eu.kc)().figjam_ai_menu_items_all_access&&n&&t,s=(0,m.GM)(),o=(0,nt.V)(),l=(0,ns.Vr)(),d=(0,X.eH)(),c=(0,ew.sZ)();return(0,r.useMemo)(()=>oi.reduce((e,t)=>{for(let n of t.featureFlags||[])if(!(0,eu.kc)()[n])return e;if(t.action===Y.JT.FIND_INSPIRATION){if(!d&&!o)return e;let n={...t};return l?.name&&!l?.isSlide&&(n.displayNode=(0,U.tx)("fullscreen_actions.quick_actions.find-inspiration-with-selection",{frameName:(0,a.jsx)(eZ.E,{color:"secondary",children:l?.name})})),e.push(n),e}return t.action===Y.JT.EDIT_IMAGE&&(0,n9.dZ)(c)||(t.action===Y.JT.GENERATE_IMAGE||t.action===Y.JT.EDIT_IMAGE||t.action===Y.JT.UPSCALE_IMAGE||t.action===Y.JT.REMOVE_BACKGROUND)&&!s||i&&e.push(t),e},[]),[i,s,o,l,d,c])}var or=n(198277),os=n(574587),oo=n(870638),ol=n(230993),od=n(238198);function oc(e){let{submenuItem:t,path:n}=e,{push:i,close:r}=(0,k.cq)();if(!t||!t.itemPath||t.submenu&&0===t.submenu.length)return null;let s=(0,ev.TW)(t);return(0,a.jsx)(rN.B.Item,{primaryAction:{onAction:()=>{if(t.submenu){i({name:et.Sn.PLUGIN_SUBMENU_ENTRY,module:(0,a.jsx)(ou,{item:t,path:n.concat(s)})},{shouldResetSearchQuery:!0});return}let e=!t.itemParameterArgs;t.callback&&(t.callback(),e&&r())},shortcuts:[{key:M.Uz.ENTER},{key:M.Uz.TAB}]},actionLabel:!1,children:(0,a.jsxs)("div",{className:B.s.flex.justifyBetween.wFull.$,children:[(0,a.jsx)("div",{className:B.s.ml28.$,children:s}),t.submenu&&(0,a.jsx)(od.a,{})]})},s)}function ou(e){let[t,n]=r.useState(""),[i,s]=r.useState([]),o=(0,v.Bd)(),{item:l,path:d}=e;if(r.useEffect(()=>{l.submenu&&(s(l.submenu),n(""))},[l]),!l.submenu)return null;let c=(0,a.jsx)(rN.B,{resultCount:i.length,children:i.map(e=>(0,a.jsx)(oc,{submenuItem:e,path:d},e.extensionSearchString||""))}),u=e=>{n(e),l.submenu&&s(l.submenu.filter(t=>(0,ev.TW)(t).toLowerCase().includes(e.toLowerCase())))},p=d.join(" > ");return(0,a.jsxs)(ei.n,{height:Y.wC,canShrinkIfNeeded:o,children:[(0,a.jsx)(ea.vj,{searchQuery:t,onSearchChange:u,onClear:()=>{u("")},placeholder:p}),(0,a.jsx)(ei.n.Body,{children:c})]})}var op=n(390452),om=n(955016),oh=n(443192),of=n(514359),og=n(174730),o_=n(91834),ox=n(944350),oy=n(943067),ov=(e=>(e.PERSONAL_DRAFT="PERSONAL_DRAFT",e.WORKSPACE_OR_PLAN_DISABLED="WORKSPACE_OR_PLAN_DISABLED",e.ORG_GUEST="ORG_GUEST",e.NON_PAID_SEAT="NON_PAID_SEAT",e.NO_ORG_OR_TEAM_USER="NO_ORG_OR_TEAM_USER",e.ROLLING_OUT="ROLLING_OUT",e))(ov||{});let ob=[],oC=new Set([e9.nT.Design,e9.nT.Sites,e9.nT.Whiteboard,e9.nT.Cooper,e9.nT.Slides]);var oE=n(423128);function oj({title:e,subTitle:t,icon:n,onClose:i,dataTestId:r}){return(0,a.jsx)("div",{"data-testid":r,className:B.s.colorBgBrandTertiary.p8.bRadius8.$,children:(0,a.jsxs)("div",{className:B.s.flex.gap8.$,children:[n,(0,a.jsxs)("div",{className:B.s.flex.flexColumn.flexGrow1.$,children:[(0,a.jsx)("span",{className:"banner--title--gNQoq",children:e}),(0,a.jsx)("span",{className:"banner--subtitle--8K4pM",children:t})]}),i?(0,a.jsx)(aE.K,{onClick:i,"aria-label":(0,U.t)("qa.dismiss"),htmlAttributes:{"data-testid":"banner-close-icon"},children:(0,a.jsx)(oE.A,{style:{"--color-icon":"var(--color-icon-secondary)"}})}):null]})})}function ow(){let e;let{reason:t,dismissKey:n}=function(){let e=(function(){let e=(0,tE.D6)("useAIDisabledReasons").unwrapOr(null),t=(0,tE.X$)("useAIDisabledReasons").unwrapOr(null),n=(0,tE.T5)("useAIDisabledReasons").unwrapOr(null),i=(0,m.PE)(),a=(0,z.q5)(),r=e?.key.type===ox.h4.ORG_USER&&e?.permission===ox.Xn.GUEST,s=!!(0,eu.kc)().ff_wsai_toggle,o=(0,o_.oA)(a?.sharedContainerSetting),l=s?o?.aiSetting==="disabled":!n?.aiFeaturesEnabled,d=!!(t&&t.tier!==ox.Ag.STARTER),c=!e?.seatTypeLicenseTypes?.includes(ox.G_.DESIGN),u=!!t,p=u&&!!e,h=(0,eq.E3)();if(i||!oC.has(h))return ob;if(!(0,oy.$7)("useDisabledReasons"))return["ROLLING_OUT"];let f=[];return!a||a.parentOrgId||a.teamId||f.push("PERSONAL_DRAFT"),l&&f.push("WORKSPACE_OR_PLAN_DISABLED"),r&&f.push("ORG_GUEST"),d&&c&&f.push("NON_PAID_SEAT"),u&&!p&&f.push("NO_ORG_OR_TEAM_USER"),f})().sort((e,t)=>oT(e)-oT(t)),t={seen_no_ai_org_disabled:(0,og.f)("seen_no_ai_org_disabled"),seen_no_ai_team_or_org_user:(0,og.f)("seen_no_ai_team_or_org_user"),seen_no_ai_rolling_out:(0,og.f)("seen_no_ai_rolling_out")};return(0,r.useMemo)(()=>{for(let n of e){let e=function(e){switch(e){case ov.ROLLING_OUT:return"seen_no_ai_rolling_out";case ov.WORKSPACE_OR_PLAN_DISABLED:return"seen_no_ai_org_disabled";case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:return"seen_no_ai_team_or_org_user";case ov.PERSONAL_DRAFT:case null:return null;default:(0,O.xb)(e)}}(n);if(!e)return{reason:n};if(!t[e])return{reason:n,dismissKey:e}}return{reason:null}},[e,t])}(),i=(0,s.wA)(),o=(0,of.yy)(),l=(0,c.md)(z.Hu),d=(0,U.t)("qa.no_ai.title");switch(t){case ov.ROLLING_OUT:case null:return null;case ov.PERSONAL_DRAFT:d=(0,U.t)("qa.no_ai.title.personal_draft"),e=(0,U.t)("qa.no_ai.subtitle.personal_draft");break;case ov.WORKSPACE_OR_PLAN_DISABLED:d=(0,U.t)("qa.no_ai.title.org_disabled"),e=(0,U.t)("qa.no_ai.subtitle.org_disabled");break;case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:d=(0,U.t)("qa.no_ai.title.not_available_here"),e=(0,U.t)("qa.no_ai.subtitle.team_or_org_user_no_access",{orgOrTeamName:o?.name||l?.name||""});break;default:(0,O.xb)(t)}return(0,a.jsx)("div",{className:B.s.mx8.mb8.$,children:(0,a.jsx)(oj,{title:d,subTitle:e,icon:(0,a.jsx)(tO.C,{}),dataTestId:"no-ai-banner",onClose:n?()=>i(oh.b({[n]:!0})):void 0})})}function oT(e){switch(e){case ov.ROLLING_OUT:return 0;case ov.PERSONAL_DRAFT:return 1;case ov.NON_PAID_SEAT:case ov.NO_ORG_OR_TEAM_USER:case ov.ORG_GUEST:return 2;case ov.WORKSPACE_OR_PLAN_DISABLED:return 3;case null:return 1e3;default:(0,O.xb)(e)}}var ok=n(350817),oI=n(397376),oS=n(772963),oN=n(15329),oA=n(878801),oL=n(36362);function oO(e){let{extension:t,publishedExtension:n,canRequest:i,canRun:a}=e,r=(0,ew.sZ)(),s=(0,oL.RW)(),o=(0,oA.a)(r?.id,t.plugin_id,s.loaded?s.data?.workspaceId:void 0);if((0,eN.bH)(t)&&r&&r.name)return{text:r.name};if((0,eN.ZQ)(t)&&n&&(0,oN.AC)(n))return{text:(0,U.t)("qa.extensions.in_review"),variant:op.x.BRAND};if((0,eN.ZQ)(t))return{text:(0,U.t)("qa.extensions.development")};if(a);else if(o)return{text:(0,U.t)("qa.extensions.approval_pending")};else if(i)return{text:(0,U.t)("qa.extensions.needs_approval")};return null}function oR({text:e,variant:t}){return(0,a.jsx)(op.E,{variant:t,children:(0,a.jsx)(oS.G,{text:e})})}function oP(e){let{searchQuery:t,fullscreenMenuAction:n}=e,i="";if(n.searchSynonyms&&(i+=`Synonyms: ${n.searchSynonyms.join(", ")}`),!(0,al.h8)())return null;let{details:r,score:s}=(0,nb.ou)((0,eR.x0)()).debugData(t,(0,nr._g)(n).searchItem),o=`Score:${s.toFixed(2)}`;return(0,a.jsx)("div",{className:B.s.ml8.colorTextSecondary.noWrap.$,"data-tooltip":[r,i].filter(Boolean).join("\n"),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip-max-width":300,"data-testid":"search-debug-info",children:o})}var oM=n(718668),oD=n(617101),oF=n(586486);let oB=e=>(0,ey.Zj)(e)&&!e.hideCheckForQuickCommand,oU=()=>{};function oH({item:e,searchQuery:t,createCommonMetrics:n}){let{push:i}=(0,k.cq)(),{addFrecencyUsage:l}=(0,eR.fJ)(),d=(0,ey.Dz)(e),c=(0,s.d4)(e=>e.mirror.appModel),u=(0,s.wA)(),{close:p}=(0,k.cq)(),m=(0,eT.J2)((0,eE.UK)().showQuickCommandRankDebug),h=(0,C.V2)(),f=(0,ej.p8)("keyboardShortcuts"),_=(0,r.useCallback)(()=>{p()},[p]),x=(0,ep.A)(_,300);(0,r.useEffect)(()=>()=>{x.cancel()},[x]);let y=(0,oI.r7)(),b=r.useRef(!1),j=(0,r.useCallback)(i=>{let a=i?(0,ok.OZ)(i):"",r={...n(),shortcutText:a};(0,eD.kp)(r),y(e),l(e,t)},[l,y,n,e,t]),w=(0,r.useCallback)((e,n)=>{if(b.current)return;b.current=!0;let r=n?.key===M.Uz.TAB?"tab":"enter";if(x.isPending()&&x.cancel(),e.disabled)return;if("plugins-menu-item"===e.name&&!h){_(),eI.R.instance.handleUpgrade(ex.Q7.RUN_PLUGIN);return}let s=!!e.itemParameterArgs,l=(0,eb.YT)(e);if(!(s||l||"enter"===r))return;let d=null;if(e.quickAction){let t={};if(e.quickAction.retainSearchQuery&&(t.shouldResetSearchQuery=!1),e.quickAction.beforeModuleOpen){let t=(0,g._V)();e.quickAction.beforeModuleOpen(t)}i(e.quickAction.module,t),j(n);return}if(s)switch(r){case"enter":if(e.runPluginArgs&&!t){let t={...e.runPluginArgs,...e.itemParameterArgs?.command&&{command:e.itemParameterArgs.command}};d=async()=>{await eI.R.instance.enqueue({mode:"run-forever",runPluginArgs:t})}}else if(e.parametersRequired){let t=e.itemParameterArgs;i({name:et.Sn.PLUGIN_PARAMETER_ENTRY,module:(0,a.jsx)(ol.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:R.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,eM.EG)(e),triggeredFrom:"quick-actions"})}),j(n);return}break;case"tab":if(e.itemParameterArgs){let t=e.itemParameterArgs;i({name:et.Sn.PLUGIN_PARAMETER_ENTRY,module:(0,a.jsx)(ol.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:R.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,eM.EG)(e),triggeredFrom:"quick-actions"})}),j(n);return}break;default:(0,O.xb)(r)}if(l){i({name:et.Sn.PLUGIN_SUBMENU_ENTRY,module:(0,a.jsx)(ou,{item:e,path:[(0,ev.TW)(e)]})}),j(n);return}e.callback&&!d?d=async()=>{e.callback&&await e.callback((0,ey.Dz)(e),e.args,u)}:e.action&&(d=async()=>{if(!e.action)return;let t=oU();if(t)return await t();eC.VU.get(e.action,"quick-actions",e.args)()}),j(n),oB(e)&&!(0,eh.PN)()?x():e.keepMenuOpen||_(),d?d().catch(t=>{(0,em.$D)(o.e.AI_FOR_PRODUCTION,t,{extra:{item:e}})}):(0,em.$D)(o.e.AI_FOR_PRODUCTION,Error("No valid action triggered from quick actions"),{extra:{item:e}})},[b,_,x,u,i,t,j,h]),T=e.shortcutText||(0,eO.c1)(f,d),I="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,S=(0,eb.YT)(e),N=(0,C.cW)(),A=(0,C.ZT)(),L=(()=>{if(e.itemParameterArgs&&e.runPluginArgs&&!t)return(0,a.jsx)(eP._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return(0,a.jsx)(eP.h,{itemPath:t})}return e.displayNode?(0,a.jsx)(a.Fragment,{children:e.displayNode}):(0,a.jsx)(a.Fragment,{children:(0,eM.EG)(e)})})(),P=oB(e),D=P?(0,ey.WJ)(c,e):void 0,F=(0,E.h)("plugin"),H=(0,E.h)("widget"),V=(0,ew.sZ)(),G="go-to-page"===e.name?`go-to-page-${e.args?.pageName}`:e.name||e.action;(0,r.useEffect)(()=>{e.onRender&&e.onRender(!!t)},[e,t]);let z=(0,v.Bd)(),K=(0,v.uJ)();return(0,a.jsx)(rN.B.Item,{primaryAction:{text:"Perform",shortcuts:K?[{key:M.Uz.ENTER}]:[{key:M.Uz.ENTER},{key:M.Uz.TAB}],onAction:({shortcut:t})=>w(e,t)},actionLabel:!1,disabled:z?e.disabled:void 0,recordingKey:G,scrollMargin:"32px 0 16px 0",type:z&&P?"checkbox":"button",isChecked:!!D,shouldDisableFocusOnHover:K,children:(0,a.jsx)(om._,{badge:"run-local-plugin"===e.menuActionType||"insert-local-widget"===e.menuActionType?(0,a.jsx)("div",{style:e_.sx.add({maxWidth:"110px"}).$,children:(0,a.jsx)(oR,{text:(0,U.t)("fullscreen_actions.development")})}):V&&(F.some(t=>t.plugin_id===e.pluginId)||H.some(t=>t.plugin_id===e.pluginId))?(0,a.jsx)("div",{style:e_.sx.add({maxWidth:"110px"}).$,children:(0,a.jsx)(oR,{text:V.name})}):m?(0,a.jsx)(oP,{searchQuery:t,fullscreenMenuAction:e}):e.isRepairCommand&&(0,eu.kc)().internal_only_debug_tools?(0,a.jsx)(op.E,{children:"REPAIR"}):e.action===Y.JT.FIRST_DRAFT&&e.disabled?(0,a.jsx)("div",{"data-tooltip":(0,U.t)("qa.unavailable"),"data-tooltip-type":eA.Ib.TEXT,style:{"--color-icon":"var(--color-icon-disabled)"},children:(0,a.jsx)(ec.b,{})}):void 0,checked:D,dataTestId:G,disabled:e.disabled,displayNode:L,hoverBadges:(()=>{if((0,eD.BB)(e)){let t=(0,sn.O)(e);return[(0,a.jsx)(sn.y,{helpUrlVariant:t},"ai")]}if((0,eD.Z7)(e))return[(0,a.jsx)(op.E,{children:(0,U.tx)("general.beta")},"beta")]})(),icon:function(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,ek.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...N,...A}})),t&&!(0,eN.ZQ)(t))?(0,a.jsx)(eL.V,{className:B.s.colorIcon.w20.h20.m2.bRadius4.$,plugin:t,role:"presentation"}):(0,a.jsx)(eg.B,{className:B.s.colorIcon.w20.h20.bRadius4.$,svg:oF.A,ariaLabel:`${e.name} icon`,autosize:!0})}if(e.iconType&&"string"==typeof e.iconType){var t;return"external_link"===(t=e.iconType)?(0,a.jsx)(eg.B,{svg:oD.A,className:B.s.colorIcon.$}):"import"===t?(0,a.jsx)(eo.R,{}):"plus"===t?(0,a.jsx)(el.e,{}):"widget"===t?(0,a.jsx)(ed.v,{}):void 0}if(e.iconType&&"string"!=typeof e.iconType)return e.iconType}(e),keyboardShortcut:T?(0,a.jsx)(ef.S,{shortcut:T}):I||S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:B.s.colorBgTertiary.bRadius5.font11.h16.fontMedium.flex.itemsCenter.px4.mr8.$,"aria-hidden":!0,id:"tab-hint",children:(0,U.tx)("whiteboard.ai_modal.hint_tab")}),(0,a.jsx)(eg.B,{svg:oM.A,className:B.s.colorIcon.$,"aria-describedby":"tab-hint"})]}):void 0,label:(0,eM.EG)(e),shouldMakeContentInert:K})})}function oV({setActiveTab:e}){let t=(0,N.Ev)(),n=(0,c.md)(j.Lk),i=(0,c.md)(j.dd),o=(0,s.d4)(eS.l),l=(0,c.md)(j.Rt),u=(0,r.useRef)(l),p=(0,c.md)(j.Q8),h=(0,r.useDeferredValue)(p);(0,r.useEffect)(()=>{u.current=l},[l]);let f=function(){let e=(0,nF.F)(),t=oa(),n=function(){let e=(0,s.d4)(e=>e.mirror.appModel.isReadOnly),t=(0,os.c4)(),n=function(){let e=(0,tj.wo)(),t=(0,C.cW)(),n=(0,C.ZT)(),i=(0,eq.E3)(),a=[],r=[];return e.forEach(e=>{if(!e.extensionInfo)return;let{extensionType:i,extensionId:s}=e.extensionInfo,o=(0,ek.DM)({idToSearch:s,localExtensionsByFileId:{},publishedExtensions:{...t,...n}});o&&("plugin"===i?a.push(o):r.push(o))}),{plugins:(0,ek.AG)(i,a),widgets:(0,ek.AG)(i,r)}}();return(0,r.useMemo)(()=>(0,or.M)({isReadOnly:e,extensionMenuProps:{...t,recentlyUsedPlugins:[...t.recentlyUsedPlugins??[],...n.plugins??[]],recentlyUsedWidgets:[...t.recentlyUsedWidgets??[],...n.widgets??[]],unboundedRecents:!0},includeDisabled:!0,filters:{showUnpurchased:!1}}),[e,t,n])}(),i=function(){let e=(0,ej.p8)("pagesList"),t=(0,nG.bG)({pagesList:e,isComparingChanges:!1});return(0,r.useMemo)(()=>(0,eu.kc)().qa_go_to_page?e.map(e=>({name:"go-to-page",args:{pageName:e.name},callback:()=>{t(e.nodeId)},iconType:(0,a.jsx)(nl,{}),displayNode:(0,a.jsx)(a.Fragment,{children:(0,U.tx)("fullscreen_actions.quick_actions.go-to-page",{pageName:(0,a.jsx)(eZ.E,{color:"secondary",children:e.name})})})})):[],[e,t])}(),o=function(){let e=(0,nx.J)(),t=(0,nP.Zr)("send-to-make-from-design"),n=function(){let e=(0,eX.UN)().getDirectlySelectedNodes();return(0,nH.j)(e.map(e=>e.name))??null}(),i=r.useMemo(()=>n?(0,a.jsx)(eZ.E,{color:"secondary",children:n}):null,[n]);return r.useMemo(()=>t&&n&&e?[{...nU.Bc,displayNode:(0,a.jsx)(nV,{children:(0,U.tx)("fullscreen_actions.quick_actions.send-frame-to-figma-make",{frameName:i})})}]:[],[t,n,e,i])}(),l=function(){let e=(0,nP.Zr)("send-to-buzz-from-design"),t=(0,s.d4)(z.tB),n=(0,s.d4)(e7.vx),i=(0,nM.Fk)(e=>e.getDirectlySelectedNodes().length>0),o=r.useMemo(()=>({tags:[nR.$.BETA],iconType:(0,a.jsx)(nL.W,{}),searchSynonyms:["send to buzz","export to buzz","copy to buzz","create buzz file","figma buzz","buzz"],flags:["edit","design"],callback:(e,i,a)=>{(0,nO.rN)(a,(0,nO.VY)({openFile:t,fileVersion:n}),nD.f6.SEND_TO_BUZZ_FROM_DESIGN_QA_V2_MENU)}}),[n,t]);return r.useMemo(()=>{if(!d.Mpt||!e||!t||!n)return[];let r=i?d.Mpt.getSelectedNodesToSend():d.Mpt.getTopLevelFramesToSend();if(0===r.length)return[];if(1===r.length){let e=(0,eX.UN)().get(r[0]);if(e?.isTopLevelFrame())return[{action:"send-to-buzz-from-design",...o,displayNode:(0,U.tx)("buzz.send_from_design.send_node_to_figma_buzz",{nodeName:(0,a.jsx)("span",{className:"x1n0bwc9",children:e.name})})}]}return i?[{action:"send-selection-to-buzz-from-design",...o,displayNode:(0,U.tx)("buzz.send_from_design.send_selection_to_figma_buzz",{numSelectedNodes:r.length})}]:[{action:"send-to-buzz-from-design",...o,displayNode:(0,U.tx)("buzz.send_from_design.send_frames_to_figma_buzz",{numFrames:r.length})}]},[n,e,t,i,o])}();return(0,r.useMemo)(()=>[...e,...o,...l,...n,{name:"wand-menu",callback:R.lQ,children:t},...i],[e,t,n,i,o,l])}(),g=eB(),_=nA(g,f),x=function(e,t,n,i){let o=(0,tj.wo)(),l=(0,eU.WI)(o.map(n=>{let i=t.getItem(e,n.displayName);return i&&n.runPluginArgs&&(i.runPluginArgs=n.runPluginArgs),i})).slice(0,3),{items:u}=function(e,t,n){let i=(0,m.PE)(),a=(0,nn.ZC)(i),o=function(e,t,n){let i=nm(),a=t.map(e),o=function(){let e=(0,eq.m0)(),t=(0,ni.e)(),n=z.q5()?.canEdit,i=(0,m.PE)();return t?"VARIABLES_TABLE":e?"DEV":!1===n?"DESIGN_VIEWER":n&&i?"DESIGN_EDITOR_AI":n&&!i?"DESIGN_EDITOR_NO_AI":"NONE"}(),l=function(e,t){let n=function(){let e=(0,s.d4)(e=>e.mirror?.appModel),t=nm(),{frecencyByAction:n,frecencyByQuery:i}=(0,eR.fJ)(),a=(0,n_.Tv)(),o=(0,nf.C)(),l=(0,nx.J)();return(0,r.useCallback)((r,s)=>{if(s)return[];let d=r.map(e),c=[],u=(0,nb.ou)({actions:n}),p=a.filter(e=>{let t=(0,eX.UN)().get(e);return t?.isSlide}).length>0,m=(0,eO.Yh)(e,"send-to-make-from-design");if(0===a.length||p)return c=[Y.JT.GENERATE_IMAGE,Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE,Y.JT.EDIT_IMAGE,Y.JT.AUTO_RENAME_LAYERS,Y.JT.CONTENT_FILL,Y.JT.FIND_INSPIRATION,Y.JT.FIRST_DRAFT,Y.JT.FIRST_DRAFT_FINE_TUNE,Y.JT.MAGIC_LINK,Y.JT.MAKE_EDITS,Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,Y.JT.SLIDES_REWRITE_TEXT,Y.JT.REWRITE_TEXT,Y.JT.SHORTEN_TEXT,Y.JT.TRANSLATE_TEXT,Y.JT.WHITEBOARD_GENERATE_CONTENT,Y.JT.SUMMARIZE_STICKIES,Y.JT.SORT_STICKIES_BY_TOPIC,Y.JT.MIND_MAP_GENERATE_IDEAS],o&&c.push(Y.OZ),[...c].map(e=>t(d,e,!0)).filter(e=>!!e).sort((e,t)=>u.sort("",(0,nr._g)(e).searchItem,(0,nr._g)(t).searchItem));{let a,r,s=0;if(ng.ruz){let e=ng.ruz.getNodeImagePairsForEdit();e.length>1&&(0,eu.kc)().aip_batch_image_modify?s=1:1===e.length?s=2:ng.ruz.getGenerateImageTarget()&&(s=3)}m&&l&&c.push(Y.i0),c.push(Y.JT.CONTENT_FILL,Y.JT.TRANSLATE_TEXT,Y.JT.REWRITE_TEXT,Y.JT.SHORTEN_TEXT,Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,Y.JT.SLIDES_REWRITE_TEXT,Y.JT.GENERATE_IMAGE,Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE,Y.JT.EDIT_IMAGE,Y.JT.FIRST_DRAFT_MAKE_CHANGES,Y.JT.AUTO_RENAME_LAYERS,Y.JT.MAGIC_LINK,Y.JT.FIND_INSPIRATION,Y.JT.FIRST_DRAFT,Y.JT.MAKE_EDITS,Y.JT.FIRST_DRAFT_FINE_TUNE,Y.JT.SUMMARIZE_STICKIES,Y.JT.SORT_STICKIES_BY_TOPIC,Y.JT.MIND_MAP_GENERATE_IDEAS),o&&c.push(Y.OZ);let p=[...c].map(e=>t(d,e)).filter(e=>!!e),h=p.sort((e,t)=>(function(e,t,n){if(1===e){if(nC.has(t.action??"")&&!nC.has(n.action??""))return -1;if(!nC.has(t.action??"")&&nC.has(n.action??""))return 1}else if(2===e){if(nE.has(t.action??"")&&!nE.has(n.action??""))return -1;if(!nE.has(t.action??"")&&nE.has(n.action??""))return 1}if(3===e||2===e){if(t.action===Y.JT.GENERATE_IMAGE)return -1;if(n.action===Y.JT.GENERATE_IMAGE)return 1}})(s,e,t)??u.sort("",(0,nr._g)(e).searchItem,(0,nr._g)(t).searchItem)),f=Object.values(d).filter(t=>(0,eO.Yh)(e,t.name||t.action||"")&&!p.includes(t)&&!t.searchOnly&&!(t.featureFlags&&t.featureFlags.includes("internal_only_debug_tools"))&&(0,nv.y)("",(0,ny.n)(t),{actions:n,queries:i})>0).sort((e,t)=>u.sort("",(0,nr._g)(e).searchItem,(0,nr._g)(t).searchItem));return f.length<4?(a=8-f.length,r=f.length):h.length<4?(a=h.length,r=8-h.length):(a=4,r=4),[...h.slice(0,a),...f.slice(0,r)]}},[e,t,n,i,a,o,l])}(),[i]=(0,r.useState)(()=>n(e,""));return i}(t,0),c=function(e,t){let n=!nN();return(0,r.useCallback)(()=>{if(n){let e=[];for(let n of t){if(!n.action||n.disabled)continue;let t=nw.get(n.action);t&&e.push([n.action,t])}return e}let i=[];for(let n of((0,eO.Yh)(e,Y.JT.FIRST_DRAFT_MAKE_CHANGES)&&i.push([Y.JT.FIRST_DRAFT_MAKE_CHANGES,no.b.SUGGESTIONS]),t))n.action&&!n.disabled&&i.push([n.action,no.b.SUGGESTIONS]);return i},[e,t,n])}(e,l),u=function(){let e=(0,ns.I9)(),t=(0,ej.p8)("activeCanvasEditModeType"),n=(0,nf.C)();return(0,r.useCallback)(()=>{if(!e?.length){let e=[["canvas-search-replace",no.b.SUGGESTIONS],["select-all",no.b.SUGGESTIONS],["undo",no.b.SUGGESTIONS],["toggle-rulers",no.b.COMMON_SETTINGS],["toggle-snapping-to-pixels",no.b.COMMON_SETTINGS],["toggle-sidebar",no.b.COMMON_SETTINGS],["toggle-ui",no.b.COMMON_SETTINGS],["toggle-multiplayer-cursors",no.b.COMMON_SETTINGS],["show-nudge-amount-picker",no.b.COMMON_SETTINGS],["open-shortcuts",no.b.COMMON_SETTINGS],["open-account-settings",no.b.COMMON_SETTINGS]];return n&&e.push(["copy-to-figma-slides",no.b.SUGGESTIONS]),e}if(1===e.length){let i=e[0],a=[["add-selection-ready-status",no.b.SUGGESTIONS],["republish-selected-components",no.b.SUGGESTIONS],["publish-changes-to-library",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]],r=[["select-matching",no.b.SUGGESTIONS],["outline-stroke",no.b.SUGGESTIONS],["mask-selection",no.b.SUGGESTIONS],["flatten-selection",no.b.SUGGESTIONS],["unlock-all",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]];if(t===d.m1T.VECTOR)return[["flip-horizontal",no.b.SUGGESTIONS],["flip-vertical",no.b.SUGGESTIONS],["align-horizontal-center",no.b.SUGGESTIONS],["align-vertical-center",no.b.SUGGESTIONS]];switch(i.type){case"SYMBOL":return a;case"FRAME":if(i.isStateGroup)return a;if(i.isGroup)return r;let s=[["add-selection-ready-status",no.b.SUGGESTIONS],["select-matching",no.b.SUGGESTIONS],["stack-selection",no.b.SUGGESTIONS],["run-multi-stack-auto-layout",no.b.SUGGESTIONS],["copy-properties",no.b.SUGGESTIONS],["unlock-all",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS],["replace-selected-frame-with-section",no.b.SUGGESTIONS]];return n&&s.push(["copy-to-figma-slides",no.b.SUGGESTIONS]),s;case"INSTANCE":return[["select-matching",no.b.SUGGESTIONS],["detach-instance",no.b.SUGGESTIONS],["reset-symbol",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]];case"SLICE":return[["export-selected-exportables",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]];case"WIDGET":return[["select-all-widgets",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]];case"SECTION":return[["add-selection-ready-status",no.b.SUGGESTIONS],["select-matching",no.b.SUGGESTIONS],["unlock-all",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS],["replace-selected-section-with-frame",no.b.SUGGESTIONS]];case"GROUP":return r;case"ELLIPSE":case"BOOLEAN_OPERATION":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return[["select-matching",no.b.SUGGESTIONS],["flip-horizontal",no.b.SUGGESTIONS],["mask-selection",no.b.SUGGESTIONS],["flatten-selection",no.b.SUGGESTIONS],["copy-properties",no.b.SUGGESTIONS],["convert-to-raster",no.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",no.b.SUGGESTIONS]];case"TEXT":return[["text-edit-hyperlink",no.b.SUGGESTIONS],["text-toggle-strikethrough",no.b.SUGGESTIONS],["copy-properties",no.b.SUGGESTIONS],["paste-properties",no.b.SUGGESTIONS],["text-font-size-increase",no.b.SUGGESTIONS],["text-font-size-decrease",no.b.SUGGESTIONS],["text-bold-increase",no.b.SUGGESTIONS],["text-bold-decrease",no.b.SUGGESTIONS]]}}let i=[["select-matching",no.b.SUGGESTIONS],["frame-selection",no.b.SUGGESTIONS],["create-symbol",no.b.SUGGESTIONS],["create-multiple-symbols",no.b.SUGGESTIONS],["toggle-locked-for-selected-nodes",no.b.SUGGESTIONS],["export-selected-exportables",no.b.SUGGESTIONS],["align-horizontal-center",no.b.SUGGESTIONS],["align-vertical-center",no.b.SUGGESTIONS]];return n&&i.push(["copy-to-figma-slides",no.b.SUGGESTIONS]),i},[e,n,t])}(),p=(0,r.useCallback)((e,t)=>{let n=i(a,e,!0);if(n)return{...n,category:t}},[i,a]),h=n.map(e=>({...e,category:no.b.RECENTS})).filter(t=>!(0,nr.oG)(e,t)),f=(0,r.useCallback)(e=>{let t=e.map(([e,t])=>p(e,t));return eW()((0,eU.WI)([...h,...t]),eM.EG)},[h,p]),g=nN(),_=(0,r.useMemo)(()=>{if(g&&!["DESIGN_EDITOR_NO_AI","DESIGN_EDITOR_AI","DEV","VARIABLES_TABLE"].includes(o)){var e;let t=(e=no.b.SUGGESTIONS,l.map(t=>({...t,category:e})));return eW()((0,eU.WI)([...h,...t]),eM.EG)}switch(o){case"DESIGN_EDITOR_AI":return f(c());case"DEV":return f(nT);case"VARIABLES_TABLE":return f(nk);case"DESIGN_VIEWER":return f(nI);case"DESIGN_EDITOR_NO_AI":return f(u());case"NONE":return[];default:(0,O.xb)(o)}},[g,o,l,h,f,c,u]);return{suggestionMode:o,items:_}}(e,t,n),[l,c]=(0,r.useState)(o);return(0,r.useEffect)(()=>{(i!==a||0===l.items.length&&o.items.length>0||o.suggestionMode!==l.suggestionMode)&&c(o)},[i,a,l.items.length,l.suggestionMode,o]),l}(e,t,l),p=""!==n,h=(0,r.useMemo)(()=>""===n?[]:t.search(e,n).slice(0,25),[e,t,n]),f=function(e,t){let n=(0,eq.my)()===e9.nT.Design,i=(0,z.q5)(),o=(0,nt.V)(),l=(0,tk.s)(),d=!!(0,eu.kc)().prt_legacy_v3,[u,p]=(0,c.fp)(ts),m=(0,s.d4)(K.Eh),h=(0,X.eH)(),f=(0,tE.T5)("useSearchFallbacks").unwrapOr(null),g=f?.name||i?.name;return(0,r.useMemo)(()=>""!==e?[{name:"assistant-chat-query",args:{searchQuery:e},callback:()=>{},displayNode:(0,U.tx)("fullscreen_actions.assistant-chat-query",{query:(0,a.jsx)(eZ.E,{color:"secondary",children:e})}),iconType:(0,a.jsx)(eH.V,{}),quickAction:{module:{module:(0,a.jsx)(t3,{}),name:et.Sn.ASSISTANT_CHAT},beforeModuleOpen:e=>{c.zl.set(ts,{status:tr.Idle,messages:[]}),tC(e.searchQuery,u.messages,p,ty)}},disabled:!d},{name:"find-assets-and-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:h?(0,U.tx)("fullscreen_actions.quick_actions.search-at-plan-file-and-community",{searchQuery:(0,a.jsx)(eZ.E,{color:"secondary",children:(0,U.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e})}),planFileName:g}):o?(0,U.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:(0,a.jsx)(eZ.E,{color:"secondary",children:e})}):(0,U.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:(0,a.jsx)(eZ.E,{color:"secondary",children:e})}),iconType:h||o?(0,a.jsx)(eV.T,{}):(0,a.jsx)(eG.K,{}),quickAction:{module:{module:h?(0,a.jsx)(tw.z6,{}):(0,a.jsx)(tT.B,{}),name:et.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:t=>{(0,$.ES)({type:"input-text",query:t.searchQuery,assetTypeOption:{type:Z.I.ALL},isKnownLibrary:l}),i?.key&&h&&o&&(0,H.Hl)({type:"input-text",value:e,file_key:i.key},H.G4.ACTIONS_LIST,void 0,void 0,void 0,!1)},retainSearchQuery:!0},disabled:!n||!i?.canEdit},{name:"find-extensions-matching",args:{searchQuery:e},displayNode:h?(0,U.tx)("fullscreen_actions.quick_actions.search-plugins-widgets",{searchQuery:(0,a.jsx)(eZ.E,{color:"secondary",children:(0,U.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e})})}):(0,U.tx)("fullscreen_actions.quick_actions.find-extensions-matching",{searchQuery:(0,a.jsx)(eZ.E,{color:"secondary",children:e})}),iconType:(0,a.jsx)(ez.u,{}),callback:()=>{t.setActiveTab(et.Jc.EXTENSIONS)},keepMenuOpen:!0,disabled:!n||!m}].filter(e=>!e.disabled):[],[e,o,n,i?.canEdit,i?.key,l,t,d,u,p,m,h,g])}(n,i);return p?eW()([...h.slice(0,4),...f,...h.slice(4)],eM.EG):u}(g,_,h,{setActiveTab:e}),y=(0,oo.X)(x),v=x.length,b=function(e){let t=np()(nc()(e,e=>e.category),(e,t)=>({category:Object.values(no.b).find(e=>t===e)||null,items:e})).sort((e,t)=>nh(e.category)-nh(t.category)),n=[],i=0;for(let{category:e,items:a}of t)n.push({category:e,items:a,globalIdxOfFirstItem:i}),i+=a.length;return n}(x);(0,es.iC)({activeTab:et.Jc.ALL,query:p,resultsCount:v}),(0,r.useEffect)(()=>{n===et.Jc.ALL&&i&&t({quickActionsSessionId:i,quickActionsQueryId:u.current,searchQuery:h,numSearchResults:v,currentSelection:o,module:n,moduleFilters:null,qaVersion:I.$L,searchQueryResults:y})},[t,n,i,h,v,o,y]);let{createMetrics:E}=(0,eD.Sk)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(rN.B,{primary:!0,resultCount:v,children:[(0,a.jsx)(ow,{}),b.map(({category:e,items:t,globalIdxOfFirstItem:n})=>null!==e&&t.length>0&&b.length>1?(0,a.jsx)(rN.B.Section,{header:function(e){switch(e){case no.b.RECENTS:return(0,U.t)("qa.category.recents");case no.b.DESIGN_TOOLS:return(0,U.t)("qa.category.design_tools");case no.b.RIFFING_AND_WRITING:return(0,U.t)("qa.category.riffing_and_writing");case no.b.IMAGE_EDITING:return(0,U.t)("qa.category.image_editing");case no.b.COLLABORATION_TOOLS:return(0,U.t)("qa.category.collaboration_tools");case no.b.HANDOFF_TOOLS:return(0,U.t)("qa.category.handoff_tools");case no.b.VIEWER_TOOLS:return(0,U.t)("qa.category.viewer_tools");case no.b.SUGGESTIONS:return(0,U.t)("qa.category.suggestions");case no.b.COMMON_SETTINGS:return(0,U.t)("qa.category.common_settings");case no.b.ORGANIZE:return(0,U.t)("qa.category.organize");case no.b.TEMPLATES_AND_DIAGRAMS:return(0,U.t)("qa.category.templates_and_diagrams");default:return(0,O.xb)(e)}}(e),children:t.map((e,t)=>(0,a.jsx)(oH,{item:e,searchQuery:h,createCommonMetrics:()=>({numSearchResults:v,qaVersion:I.$L,searchQuery:h,searchPosition:n+t,item:e,moduleFilters:null,...E()})},(0,eM.EG)(e)))},e):t.map((e,t)=>(0,a.jsx)(oH,{item:e,searchQuery:h,createCommonMetrics:()=>({numSearchResults:v,qaVersion:I.$L,searchQuery:h,searchPosition:n+t,item:e,moduleFilters:null,...E()})},(0,eM.EG)(e))))]})})}var oG=n(801038),oz=n(783286),oK=n(633065);function oW({extensionFilter:e,setExtensionFilter:t,canViewWidgets:n}){let i=(0,ew.sZ)(),s=(0,of.Cb)(),o=(0,r.useMemo)(()=>({[et.BY.ALL]:(0,U.t)("qa.filter.all"),[et.BY.PLUGINS]:(0,U.t)("qa.filter.plugins"),[et.BY.WIDGETS]:(0,U.t)("qa.filter.widgets"),[et.BY.FROM_ORG]:(0,U.t)("qa.filter.from_org_name",{org_name:i?.name||""}),[et.BY.DEVELOPMENT]:(0,U.t)("qa.filter.development")}),[i?.name]),l=(0,r.useMemo)(()=>{let e=!!i&&!s,t=oK.y3(),a=[];return n&&a.push({type:"checkableOption",value:et.BY.ALL,text:o[et.BY.ALL]}),a.push({type:"checkableOption",value:et.BY.PLUGINS,text:o[et.BY.PLUGINS]}),n&&a.push({type:"checkableOption",value:et.BY.WIDGETS,text:o[et.BY.WIDGETS]}),(e||t)&&a.push({type:"separator"}),e&&a.push({type:"checkableOption",value:et.BY.FROM_ORG,text:o[et.BY.FROM_ORG]}),t&&a.push({type:"checkableOption",value:et.BY.DEVELOPMENT,text:o[et.BY.DEVELOPMENT]}),a},[i,s,n,o]);return(0,a.jsx)(er.c0,{ariaLabel:(0,U.t)("qa.filter.aria_label"),buttonId:oq,displayAboveTarget:!1,id:oX,items:l,labelForSelectedItem:e=>o[e],menuId:oZ,onSelectedChange:t,placeholder:"Filter",recordingKey:oX,selected:e})}let oZ="extensions-filter-dropdown-menu",oq="extensions-filter-dropdown-button",oX="extensions-filter-dropdown";var oY=n(332942),oJ=n(317582),oQ=n(382629),o$=n(937119),o0=n(469645),o1=n(147046),o2=n(107224),o3=n(792028),o5=n(134245),o4=n(4232),o6=n(156134),o7=n(408978),o9=n(51906);let o8=e=>{(0,o6.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:"",triggeredFrom:"quick-actions"})};var le=n(5019);function lt({augmentedExtension:e,isAccessibleIcon:t}){let{extension:n,publishedExtension:i}=e;if(!(0,eN.ZQ)(n))return(0,a.jsx)(eL.V,{"aria-hidden":t,plugin:n,className:B.s.colorIcon.w20.h20.m2.bRadius4.$});let r=i&&(0,ek.Ar)(i);return r&&r.redirect_icon_url?(0,a.jsx)(eL.V,{"aria-hidden":t,plugin:r,className:B.s.colorIcon.w20.h20.m2.bRadius4.$}):(0,a.jsx)(eg.B,{ariaHidden:t,svg:oF.A,className:B.s.colorIcon.w20.h20.m2.bRadius4.$,dataTestId:"qa2-dev-plugin-icon",autosize:!0})}var ln=n(744983),li=n(136150),la=n(781767),lr=n(365120),ls=n(489175),lo=n(241625),ll=n(572857),ld=n(389348),lc=n(92572),lu=n(991104),lp=n(146299),lm=n(885043);let lh="EXTENSION_OPTIONS_DROPDOWN";function lf(e){let t=(0,aQ.Um)();return(0,eN.ZQ)(e)?t?.type===lh&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===e.localFileId:t?.type===lh&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===null}function lg(e){let t=(0,s.wA)(),n=lf(e);return r.useCallback(i=>{if(n)t(o1.oB());else{let n=i.getBoundingClientRect();t(o1.j7({type:lh,data:{extensionId:e.plugin_id,localFileId:(0,eN.ZQ)(e)?e.localFileId:null,targetRect:n}}))}},[t,n,e])}function l_(){let[e,t]=r.useState(!1),n=r.useRef(null),i=r.useRef(null),a=r.useRef(null);return[e,r.useCallback(e=>{if(e===n.current)return;if(null===e){n.current=null,i.current=null,a.current=null;return}n.current&&(i.current&&n.current.removeEventListener("focus",i.current),a.current&&n.current.removeEventListener("blur",a.current));let r=()=>{t(!0)},s=()=>{t(!1)};e.addEventListener("focus",r),e.addEventListener("blur",s),n.current=e,i.current=r,a.current=s},[])]}function lx(e){let[t,n]=r.useState(!1);return r.useEffect(()=>{n(!1)},[e]),(0,A.kz)(M.Uz.LEFT_ARROW,e=>{(0,ea.Jj)()&&t&&(e.preventDefault(),n(!1))}),(0,A.kz)(M.Uz.RIGHT_ARROW,()=>{(0,ea.Jj)()&&!t&&e&&n(!0)}),t}function ly(e){let t=lg(e);return{text:"",shortcuts:[w.Hz],onAction:e=>{let n=e.target?.element;n&&t(n)}}}function lv({extension:e,active:t,isAccessibleButton:n,buttonRefSetter:i}){let s=lg(e),o=r.useCallback(e=>{e.stopPropagation(),s(e.currentTarget)},[s]),l=(0,a.jsx)(lc.c,{active:t,borderWidth:1,children:(0,a.jsx)(la.J,{})});return(0,a.jsx)("div",{className:B.s.flex.pl8.$,children:n?(0,a.jsx)("button",{ref:i,"aria-label":(0,U.t)("qa.plugins_widget.more_options",{widget:e.name}),onClick:o,onPointerUp:ls.dG,className:iM()(B.s.bgTransparent.h24.$),"data-testid":"extension-options-button",children:l}):(0,a.jsx)(lr.S.div,{role:"button",tabIndex:0,onClick:o,onPointerUp:ls.dG,className:iM()(B.s.bgTransparent.h24.$),"data-testid":"extension-options-button",children:l})})}function lb(e){let{augmentedExtension:t}=e,{extension:n,publishedExtension:i,localPublishedExtension:r}=t,s=(0,aQ.Um)(),l=(0,eN.ZQ)(n)?n:r,d=(0,o2.NV)(l,i,ld.k2.EDITOR),c=(0,o2.OX)(i),u=(0,o2.x2)(n,i),p=(0,o2.qu)(l),m=(0,lm.rH)(t),h=(0,o2.xZ)(t),f=(0,tH.TA)(),g=!!i&&!!f&&((0,lo.Ro)(i,f)||(0,ll.Dd)(i,f)),_=lf(n),x=(0,lp.O)({extension:t,preloadImage:_});if(!_)return null;let y=[],v=[],b=!!i;!(0,eN.ZQ)(n)&&(b?(d&&g&&y.push(d),y.push({displayText:(0,U.t)("qa.extensions.view_details"),callback:x}),u&&g&&y.push(u),p&&g&&y.push(p),h&&g&&y.push(h),m&&v.push(m),c&&g&&v.push(c)):(0,em.$D)(o.e.AI_FOR_PRODUCTION,Error("[Quick Actions] Published extension is missing publishedExtension from Redux state"),{extra:{extensionId:n.plugin_id,isWidget:(0,eN.k0)(n),types:Array.from(t.types).toString()}})),(0,eN.ZQ)(n)&&(d&&y.unshift(d),b&&u&&y.push(u),!n.error&&p&&y.push(p),m&&v.push(m),c&&v.push(c));let C=y.some(Boolean)&&v.some(Boolean)?{displayText:"",separator:!0}:null;return(0,a.jsx)(lu.ms,{parentRect:s?.data.targetRect,lean:"left",minWidth:64,items:[...y,C,...v].filter(e=>!!e),dataTestId:"extensionOptionsDropdown",recordingKey:"extensionOptionsDropdown"})}function lC({augmentedExtension:e,hasFauxFocus:t,isOptionsActive:n,isDropdownOpen:i=!1,submenuRef:s,...o}){let{extension:l}=e,d=(0,eN.k0)(l)?(0,a.jsx)(eZ.E,{color:"tertiary",fontSize:11,children:(0,U.tx)("qa.extensions.widget")}):(0,a.jsx)(eZ.E,{color:"tertiary",fontSize:11,children:(0,U.tx)("qa.extensions.plugin")}),c=oO(e),u=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(lt,{isAccessibleIcon:o.isAccessibleExtensionRow,augmentedExtension:e}),(0,a.jsx)("div",{className:B.s.px8.$,style:e_.sx.add({maxWidth:c?"205px":"300px"}).$,children:(0,a.jsx)(oS.G,{text:l.name})}),(0,a.jsx)(o7.lM,{augmentedExtension:e,submenuRef:s}),c&&(0,a.jsx)("div",{style:e_.sx.add({maxWidth:"110px"}).$,children:(0,a.jsx)(oR,{text:c.text,variant:c.variant})})]}),[p,m]=r.useState(!1),h=r.useCallback(()=>{m(!0)},[]),f=r.useCallback(()=>{m(!1)},[]),g=r.useMemo(()=>!!t||!!o.isAccessibleExtensionRow&&(n||p||i),[t,i,n,p,o.isAccessibleExtensionRow]);return(0,a.jsxs)("div",{className:B.s.flex.itemsCenter.justifyBetween.wFull.$,onPointerEnter:h,onPointerLeave:f,children:[o.isAccessibleExtensionRow?(0,a.jsx)("button",{ref:o.primaryButtonRef,className:B.s.flex.itemsCenter.$,onClick:o.onClick,onFocus:o.onFocus,style:e_.sx.add({background:"transparent",flexGrow:1}).$,children:u}):(0,a.jsx)("div",{className:B.s.flex.itemsCenter.$,children:u}),(0,a.jsx)("div",{children:g?(0,a.jsx)(lv,{...o.isAccessibleExtensionRow&&{isAccessibleButton:!0,buttonRefSetter:o.optionsRefSetter},extension:l,active:n}):(0,a.jsx)("span",{"aria-hidden":!0,children:d})})]})}function lE({manifestError:e}){return(0,a.jsx)("div",{className:B.s.alignLeft.font11.lh16.pl32.$,children:(0,a.jsx)(eZ.E,{color:"danger",children:e.displayText})})}function lj({extension:e}){return(0,a.jsx)(o$.R,{className:B.s.font11.alignLeft.colorTextSecondary.lh16.pl32.$,text:e.localFilePath.replace("/manifest.json","")})}function lw({augmentedExtension:e,submenuRef:t}){let{extension:n}=e,i=(0,s.wA)(),[o,l]=r.useState(!1),d=lf(n),c=(0,o2.Pt)(n.error?.type,n),{onAction:u,actionText:p}=function({manifestError:e,augmentedExtension:t,submenuRef:n}){let{close:i}=(0,k.cq)(),{extension:a}=t,s=(0,o7.q8)(a),o=(0,o7.U4)(a),l=(0,o7.S3)({submenuIsShown:o,extension:a}),d=(0,o9.t)(a,s),c=o4.dR(a.plugin_id,"quick-actions"),u=(0,oI.Kp)(t),p=r.useCallback(()=>{(0,eN.k0)(a)?iO.l7.user("insert-widget",()=>o8(a)):s&&n?l(n.current):c(),s||u(),d()&&i()},[a,s,n,l,c,u,d,i]);return e?{onAction:()=>e.action(),actionText:e.displayText}:{onAction:p,actionText:(0,U.t)("qa.extensions.run")}}({manifestError:c,augmentedExtension:e,submenuRef:t}),m=r.useCallback(()=>{if(d){i(o1.oB());return}u()},[d,u,i]),h=w.H5.LOCAL,f=(0,ln.D)({source:h,text:p,onAction:m,augmentedExtension:e}),g=lx(o),[_,x]=l_(),y=ly(n),b=(0,v.Bd)(),C=(0,a.jsxs)(a.Fragment,{children:[!c&&(0,a.jsx)(lj,{extension:n}),c&&(0,a.jsx)(lE,{manifestError:c})]}),E=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o7.Xq,{augmentedExtension:e}),(0,a.jsx)(lb,{augmentedExtension:e})]});return b?(0,a.jsx)(ln.p,{hasNestedButton:!0,primaryAction:g||_?y:f,setActive:l,children:(n,i,r)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:B.s.flex.flexColumn.wFull.$,children:[(0,a.jsx)(lC,{augmentedExtension:e,hasFauxFocus:o,isAccessibleExtensionRow:!0,isDropdownOpen:d,isOptionsActive:g||_,onClick:i,onFocus:n,optionsRefSetter:x,primaryButtonRef:r,submenuRef:t}),C]}),E]})}):(0,a.jsxs)(ln.p,{primaryAction:g?y:f,setActive:l,children:[(0,a.jsxs)("div",{className:B.s.flex.flexColumn.wFull.$,children:[(0,a.jsx)(lC,{augmentedExtension:e,hasFauxFocus:o,isOptionsActive:g,submenuRef:t}),C]}),E]})}function lT({augmentedExtension:e,submenuRef:t}){let{extension:n,canRun:i,canRequest:o}=e,l=(0,s.wA)(),[d,c]=r.useState(!1),u=lf(n),{onAction:p,actionText:m}=(0,le.m)({augmentedExtension:e,submenuRef:t}),h=w.H5.PUBLISHED,f=(0,ln.D)({source:h,text:m,onAction:()=>{if(u){l(o1.oB());return}p()},augmentedExtension:e}),g=lx(d),[_,x]=l_(),y=ly(n),b=(0,v.Bd)();if(!i&&!o)return null;let C=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o7.Xq,{augmentedExtension:e}),(0,a.jsx)(lb,{augmentedExtension:e})]});return b?(0,a.jsx)(ln.p,{hasNestedButton:!0,primaryAction:g||_?y:f,setActive:c,children:(n,i,r)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:B.s.flex.flexColumn.wFull.$,children:(0,a.jsx)(lC,{augmentedExtension:e,hasFauxFocus:d,isAccessibleExtensionRow:!0,isDropdownOpen:u,isOptionsActive:g||_,onClick:i,onFocus:n,optionsRefSetter:x,primaryButtonRef:r,submenuRef:t})}),C]})}):(0,a.jsxs)(ln.p,{primaryAction:g?y:f,setActive:c,children:[(0,a.jsx)(lC,{augmentedExtension:e,hasFauxFocus:d,isOptionsActive:g,submenuRef:t}),C]})}function lk(e){let t=(0,s.wA)(),n=(0,C.QZ)();return oK.y3()&&[et.BY.DEVELOPMENT,et.BY.ALL].includes(e)?[{itemKey:"newPlugin",text:(0,U.t)("whiteboard.inserts.plugin_development_options_new_plugin"),svg:el.e,onAction:()=>{t(tU.Lo()),ao.Y5.dispatch((0,tU.to)({type:o5.h,data:{resourceType:o3.bD.PLUGIN}}))}},n?{itemKey:"newWidget",text:(0,U.t)("whiteboard.inserts.widget_development_options_new_widget"),svg:el.e,onAction:()=>{t(tU.Lo()),ao.Y5.dispatch((0,tU.to)({type:o5.h,data:{resourceType:o3.bD.WIDGET}}))}}:null,{itemKey:"importFromManifest",text:(0,U.t)("whiteboard.inserts.development_options_import"),svg:eo.R,onAction:()=>t((0,o0.JZ)({resourceType:"unknown"}))}].filter(oQ.Vq):[]}function lI({itemKey:e,text:t,svg:n,onAction:i}){let r=(0,li.OX)(),s=w.H5.ACTION,o=(0,ln.D)({source:s,onAction:t=>{let{target:n}=t;(0,eD.PV)({action:e,isAi:!1,module:et.Jc.EXTENSIONS,qaVersion:I.$L,rankingAlgorithm:(0,N.eg)(et.Jc.EXTENSIONS),searchPosition:n?.index??0,isPlugin:!1,numSearchResults:r.numResults,searchQuery:r.searchQuery,moduleFilters:r.moduleFilters}),i()},augmentedExtension:null});return(0,a.jsx)(ln.p,{primaryAction:o,children:(0,a.jsx)("div",{className:B.s.flex.itemsCenter.alignLeft.wFull.justifyBetween.$,children:(0,a.jsxs)("div",{className:B.s.flex.$,children:[(0,a.jsx)(n,{}),(0,a.jsx)("div",{className:B.s.ml8.$,children:t})]})})})}var lS=n(142914),lN=n(684742);let lA="button_with_faux_focus--button--4UzJZ",lL="button_with_faux_focus--icon--3ofHG",lO="button_with_faux_focus--buttonText--eXi6z",lR="button_with_faux_focus--buttonContent--QYGhy",lP="button_with_faux_focus--shortcut--XSTpu",lM="button_with_faux_focus--regularSize--PRZRN",lD="button_with_faux_focus--largeSize--KbVb-",lF="button_with_faux_focus--wideSize--vAeP3",lB="button_with_faux_focus--largeWideSize--7umaZ",lU="button_with_faux_focus--outlineStyle--HbkS5",lH="button_with_faux_focus--fauxFocus--ydUPp",lV="button_with_faux_focus--solidStyle--JXrgr",lG="button_with_faux_focus--primary--z-mFg button_with_faux_focus--solidStyle--JXrgr",lz="button_with_faux_focus--secondary--nFRZl button_with_faux_focus--outlineStyle--HbkS5",lK="button_with_faux_focus--destructive--mKBEK button_with_faux_focus--solidStyle--JXrgr",lW="button_with_faux_focus--destructiveSecondary--Wtsn1 button_with_faux_focus--outlineStyle--HbkS5",lZ="button_with_faux_focus--signup--CPfrM button_with_faux_focus--solidStyle--JXrgr",lq="button_with_faux_focus--link--qW4X-",lX="button_with_faux_focus--destructiveLink--xx-J5 button_with_faux_focus--link--qW4X-",lY=r.forwardRef(({active:e,children:t,size:n="regularSize",variant:r,...s},o)=>(0,a.jsx)(lN.E,{className:iM()({[lA]:!0,[i[r??"primary"]]:!0,[i[n]]:!0,[lH]:e}),...s,ref:o,children:(0,a.jsx)("span",{className:lO,children:(0,a.jsx)("span",{className:lR,children:t})})}));var lJ=n(820579);function lQ({action:e,children:t,dataTestId:n,variant:i}){let s=(0,r.useRef)(null),{active:o,target:l}=(0,aS.H)({ref:s,itemsPerRow:2}),d=(0,r.useMemo)(()=>({shortcuts:[{key:M.Uz.ENTER}],onAction:e}),[e]),{onClickCallback:c}=(0,aL.k)({primaryAction:d,active:o,actionLabel:!1,target:l});return(0,a.jsx)(lY,{ref:s,onClick:e=>{e.stopPropagation(),c()},htmlAttributes:{"data-testid":n},variant:i,active:o,children:t})}function l$({extension:e}){let t=(0,lJ.R_)(e),n=(0,lJ.JB)(e);return(0,a.jsxs)("div",{className:B.s.mx8.mb8.p8.bRadius8.flex.justifyBetween.gap4.colorBgInfo.$,"data-testid":"extension-invite-row",children:[(0,a.jsxs)("div",{className:B.s.flex.gap8.itemsCenter.font11.lh16.$,children:[(0,a.jsx)(lS.H8,{user:e.creator,size:lS.Pf.MEDIUM}),(0,a.jsx)(lJ.e2,{resource:e})]}),(0,a.jsxs)("div",{className:B.s.flex.gap4.$,children:[(0,a.jsx)(lQ,{action:n,dataTestId:"decline-invite-button",variant:"secondary",children:(0,a.jsx)(eZ.E,{fontSize:11,children:(0,U.tx)("community.detail_view.decline")})}),(0,a.jsx)(lQ,{action:t,dataTestId:"accept-invite-button",children:(0,a.jsx)(eZ.E,{fontSize:11,children:(0,U.tx)("community.detail_view.accept")})})]})]})}function l0({invitedPlugins:e,invitedWidgets:t,selectedFilter:n}){let i=function({invitedPlugins:e,invitedWidgets:t,selectedFilter:n}){switch(n){case et.BY.PLUGINS:return e;case et.BY.WIDGETS:return t;case et.BY.ALL:case et.BY.DEVELOPMENT:return[...e,...t];case et.BY.FROM_ORG:return[];default:(0,O.xb)(n)}}({invitedPlugins:e,invitedWidgets:t,selectedFilter:n});return 0===i.length?null:(0,a.jsx)("div",{"data-testid":"extension-invite-section",className:B.s.flex.flexColumn.$,children:(0,a.jsx)(rN.B.Section,{header:(0,U.t)("community.detail_view.invitations"),children:i.map(e=>(0,a.jsx)(l$,{extension:e},e.id))})})}var l1=n(225686),l2=n(894087),l3=n(286138),l5=n(871973),l4=n(6507),l6=n(693499);function l7({augmentedExtension:e}){let{extension:t,publishedExtension:n}=e,i=(0,eN.k0)(t)?(0,U.tx)("qa.extensions.widget"):(0,U.tx)("qa.extensions.plugin"),r=n?.unique_run_count??0,s=n?.like_count??0,o=n?(0,a.jsx)(l5.o,{publishedExtension:n,showTooltip:!1}):null,l=(0,l5.g)(n);return(0,a.jsx)("div",{className:B.s.flex.flexColumn.colorTextSecondary.textBodyMedium.$,children:(0,a.jsxs)("div",{className:B.s.flex.flexRow.$,children:[i,(0,a.jsx)(l9,{}),(0,a.jsx)(eg.B,{svg:l4.A,className:B.s.mx2.colorIconSecondary.$}),(0,a.jsx)("div",{className:B.s.ml2.$,children:(0,U.t)("qa.extensions.num_users",{numUsers:r,numUsersStr:(0,r9.$M)(r)})}),(0,a.jsx)(l9,{}),(0,a.jsx)(eg.B,{svg:l6.A,className:B.s.colorIconSecondary.$,style:e_.sx.add({margin:"3px"}).$,"aria-hidden":"true"}),(0,a.jsx)(l3.E,{children:(0,U.t)("qa.extensions.num_likes_accessibility_label",{numLikes:s,numLikesStr:(0,r9.$M)(s)})}),(0,a.jsx)("div",{"aria-hidden":!0,className:B.s.ml2.$,children:(0,r9.$M)(s)}),l&&(0,a.jsx)(l9,{}),o]})})}function l9(){return(0,a.jsx)("div",{className:B.s.w1.hFull.mx6.$,style:e_.sx.add({backgroundColor:"var(--color-border-fs)"}).$,"data-testid":"divider"})}function l8({augmentedExtension:e}){let{extension:t,canRun:n,canRequest:i}=e,[s,o]=r.useState(!1),l=(0,lp.O)({extension:e,preloadImage:s}),d=w.H5.PUBLISHED_WITH_DETAILS,c=(0,ln.D)({source:d,text:(0,U.t)("qa.extensions.view_details"),onAction:l,augmentedExtension:e});if(!n&&!i)return null;let u=(0,oN.G8)(t,l1.$J);return(0,a.jsx)(ln.p,{primaryAction:c,setActive:o,children:(0,a.jsxs)("div",{className:B.s.flex.flexColumn.alignLeft.wFull.$,children:[(0,a.jsxs)("div",{className:B.s.flex.itemsCenter.overflowHidden.$,children:[(0,a.jsx)(lt,{augmentedExtension:e}),(0,a.jsx)(de,{augmentedExtension:e})]}),(0,a.jsxs)("div",{className:B.s.flex.flexColumn.overflowHidden.ml32.$,children:[(0,a.jsx)(oS.G,{text:u,className:B.s.mb4.colorTextSecondary.textBodyMedium.$,showTooltip:l2.i.NEVER}),(0,a.jsx)(l7,{augmentedExtension:e})]})]})})}function de({augmentedExtension:e}){let{extension:t}=e,n=oO(e);return(0,a.jsxs)("div",{className:B.s.flex.itemsCenter.ml8.$,children:[(0,a.jsx)("div",{className:B.s.pr8.colorText.textBodyLarge.$,style:e_.sx.add({maxWidth:n?"205px":"300px"}).$,children:(0,a.jsx)(oS.G,{text:t.name})}),n&&(0,a.jsx)("div",{style:e_.sx.add({maxWidth:"110px"}).$,children:(0,a.jsx)(oR,{text:n.text,variant:n.variant})})]})}function dt({augmentedExtensions:e,header:t,showExtensionDetails:n=!1,dataTestId:i}){let s=e.map(e=>{let t=r.createRef(),{key:i}=e;return(0,T.JT)(e)?(0,a.jsx)(lw,{augmentedExtension:e,submenuRef:t},i):n?(0,a.jsx)(l8,{augmentedExtension:e},i):(0,a.jsx)(lT,{augmentedExtension:e,submenuRef:t},i)});return(0,a.jsxs)("div",{"data-testid":i,className:B.s.flex.flexColumn.$,children:[t&&(0,a.jsx)(rN.B.Section,{header:t,children:s}),!t&&s]})}function dn({actions:e}){return 0===e.length?null:(0,a.jsx)("div",{"data-testid":"extension-actions-section",className:B.s.flex.flexColumn.$,children:e.map(({itemKey:e,...t})=>(0,a.jsx)(lI,{itemKey:e,...t},e))})}function di({extensions:e}){let t=(0,r.useMemo)(()=>[...e].sort(T.bL),[e]);return 0===t.length?null:(0,a.jsx)(dt,{augmentedExtensions:t,dataTestId:"my-extensions-section"})}function da(){let e=(0,C.QZ)();return(0,a.jsx)("div",{className:B.s.flex.wFull.mt16.justifyCenter.alignCenter.colorTextSecondary.$,"data-testid":"no-extensions-found",children:e?(0,U.tx)("qa.no_plugins_widgets_found"):(0,U.tx)("qa.no_plugins")})}function dr({availableExtensions:e,selectedFilter:t}){let n=(0,N.Ev)(),i=(0,c.md)(j.Lk),o=(0,c.md)(j.dd),l=(0,c.md)(j.Rt),d=(0,c.md)(j.Q8),u=(0,s.d4)(eS.l),p=(0,C.f6)(),m=(0,C.wW)(),{loaded:h,extensions:f}=function(e){let t=(0,T.Oy)(),{loaded:n,extensions:i}=(0,oJ.s)(),a=i.map(e=>t(e,w.Ag.COMMUNITY));return{loaded:n,extensions:(0,T.ZM)([...e,...a])}}(e),{myExtensions:g,suggestedExtensions:_,otherExtensionsFromOrg:x}=function(e,t){let n=(0,T.vA)(t),i=[],a=[],r=[];e.filter(e=>e.canRun||e.canRequest).filter(e=>n(e)).forEach(e=>{(0,T.wj)(e)?i.push(e):t===et.BY.FROM_ORG&&(0,T.jb)(e)||t!==et.BY.FROM_ORG&&(0,T.Nf)(e)?a.push(e):t===et.BY.FROM_ORG&&r.push(e)});let s=0,o=e=>{let t=[];for(let n of e){if(s>=25)break;t.push(n),s+=1}return t};return{myExtensions:o(i),suggestedExtensions:o(a),otherExtensionsFromOrg:o(r)}}(f,t),y=lk(t),v=g.length+_.length+x.length+y.length,b=t===et.BY.DEVELOPMENT,E=t===et.BY.FROM_ORG,k=h||E||b,S=function({myExtensions:e,suggestedExtensions:t,otherExtensionsFromOrg:n,extensionActions:i}){let a=(0,N.HD)("My Extensions",e),r=(0,N.HD)("Suggested",t),s=(0,N.HD)("Other Extensions from Org",n),o=(0,N.NH)(i);return(0,N.i6)([a,r,s,o])}({myExtensions:g,suggestedExtensions:_,otherExtensionsFromOrg:x,extensionActions:y});return((0,r.useEffect)(()=>{i===et.Jc.EXTENSIONS&&o&&k&&n({quickActionsSessionId:o,quickActionsQueryId:l,searchQuery:"",numSearchResults:v,currentSelection:u,module:i,moduleFilters:t,qaVersion:I.$L,searchQueryResults:S})},[n,i,o,k,l,v,u,t,S]),(0,es.iC)({activeTab:et.Jc.EXTENSIONS,query:d,resultsCount:v}),0===v)?(0,a.jsx)(da,{}):(0,a.jsx)(li.M6,{numResults:v,moduleFilters:t,children:(0,a.jsxs)(rN.B,{primary:!0,resultCount:v,dataTestId:"browseExtensions",children:[(0,a.jsx)(l0,{invitedPlugins:p,invitedWidgets:m,selectedFilter:t}),(0,a.jsx)(di,{extensions:g}),(0,a.jsx)(dn,{actions:y}),(0,a.jsx)(ds,{extensions:_,hasLoaded:k}),E&&(0,a.jsx)(dl,{extensions:x})]})})}function ds({extensions:e,hasLoaded:t}){return t?0===e.length?null:(0,a.jsx)(dt,{augmentedExtensions:e,header:(0,U.t)("qa.suggested"),showExtensionDetails:!0}):(0,a.jsx)("div",{className:B.s.p8.$,children:(0,a.jsx)(oY.R,{})})}function dl({extensions:e}){let t=(0,ew.sZ)();return t&&0!==e.length?(0,a.jsx)(dt,{augmentedExtensions:e,header:(0,U.t)("qa.other_extensions_from_org",{org_name:t.name}),showExtensionDetails:!0}):null}var dd=n(738180),dc=n.n(dd),du=n(666875),dp=n(977745),dm=n(833805),dh=n(655363),df=n(596224),dg=n(887555),d_=n(685031),dx=n(292168),dy=n(755893),dv=n(222195),db=n(710211),dC=n(150156),dE=n(621971);let dj=db.M4.Query({fetch:async e=>(await dE.$W.getExtensions(e)).data.meta,enabled:()=>!(0,eu.kc)().ext_extended_plugin_editor_types,output:({data:e})=>({public:e.results.public.map(e=>e.model),private:e.results.private.map(e=>e.model)})}),dw=db.M4.Query({fetch:async e=>{let t={...e,limit_associations:!0,sort_by:dg.e.Search.RELEVANCY,resource_type:[dx.vt.PLUGIN,dx.vt.WIDGET],include_content:!0,consolidate_org_search:!0};return(await dE.$W.getResources(t)).data.meta},enabled:()=>!!(0,eu.kc)().ext_extended_plugin_editor_types,output:({data:e})=>{let{pass:t,fail:n}=(0,dh.j)(e.results,e=>(0,df.Gk)(e.model));return{public:n.map(({model:e})=>e.content?.plugin||e.content?.widget).filter(e=>!!e),private:t.map(({model:e})=>e.content?.plugin||e.content?.widget).filter(e=>!!e)}}});function dT(){return(0,a.jsx)("div",{className:"x78zum5 xh8yej3 xw7yly9 xl56j7k x2b8uid x1n0bwc9",children:(0,U.t)("search.error.max_query_length_exceeded")})}function dk({availableExtensions:e,selectedFilter:t}){let n=(0,N.Ev)(),i=(0,c.md)(j.Lk),l=(0,c.md)(j.dd),d=(0,c.md)(j.Q8),[u]=(0,du.A)(d,300),p=u.trim(),m=(0,c.md)(j.Rt),h=(0,s.d4)(eS.l),f=(0,s.wA)(),{loading:g,publicExtensions:_,privateExtensions:x,localExtensions:y}=function(e){let{status:t,results:n,errors:i}=function(e){let t=function(e){switch(e){case e9.nT.Design:case e9.nT.Illustration:return d_.k.Editors.FIGMA;case e9.nT.Whiteboard:return d_.k.Editors.FIGJAM;case e9.nT.DevHandoff:return d_.k.Editors.DEV_MODE;case e9.nT.Slides:return d_.k.Editors.SLIDES;case e9.nT.Sites:return(0,eu.kc)().ext_extended_plugin_editor_types?d_.k.Editors.SITES:d_.k.Editors.ALL;case e9.nT.Cooper:return(0,eu.kc)().ext_extended_plugin_editor_types?d_.k.Editors.COOPER:d_.k.Editors.ALL;case null:case e9.nT.Figmake:return d_.k.Editors.ALL;default:(0,O.xb)(e)}}((0,eq.my)());(0,eu.kc)().ext_design_plugins_in_sites&&t===d_.k.Editors.SITES&&(t=d_.k.Editors.FIGMA);let n=(0,of.U5)(),i=(0,ew.dq)()??void 0,[{status:a,data:r,errors:s}]=(0,dm.IT)((0,eu.kc)().ext_extended_plugin_editor_types?dw({query:e.trim(),resourceEditorType:(0,dy.So)(t),orgId:n?i:void 0,maxNumResults:20}):dj({query:e.trim(),editorType:t,orgSearch:n,currentOrgId:i,maxNumResults:20}),{enabled:e.trim().length>0&&!(0,T.GX)(e.trim()),key:"searchPublishedExtensionsQuery"});return{status:a,results:r||{public:[],private:[]},errors:s}}(e),a=function(e){let t=(0,C.$1)(),n=(0,r.useMemo)(()=>Object.values(t),[t]),i=(0,r.useMemo)(()=>new dC.Ef(n,dv.Ih),[n]);return(0,r.useMemo)(()=>i.search(e),[i,e])}(e);return(0,r.useMemo)(()=>{switch(t){case"loading":return{loading:!0,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"loaded":return{loading:!1,publicExtensions:n.public,privateExtensions:n.private,localExtensions:a};case"disabled":return{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"errors":return(0,em.$D)(o.e.EXTENSIBILITY,Error("[useSearchExtensions] Unable to fetch search results"),{tags:{status:t},extra:{errors:i}}),{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};default:(0,O.xb)(t)}},[n?.private,n?.public,a,t,i])}(p),v=function(e,t){let n=lk(t),i=(0,r.useMemo)(()=>new dC.Ef(n,dv.zd),[n]);return(0,r.useMemo)(()=>i.search(e),[i,e])}(p,t);(0,r.useEffect)(()=>{let e=[..._,...x];0!==e.length&&f(dp.Qi({publishedPlugins:e,src:"Quick actions"}))},[f,x,_]);let{myExtensions:b,fromOrgExtensions:E,communityExtensions:k}=dN(function({publicExtensions:e,privateExtensions:t,localExtensions:n}){let i=(0,T.Oy)();return(0,r.useMemo)(()=>{let a=(e,t)=>e.map(e=>(0,ek.Ar)(e)).filter(e=>!!e).map(e=>i(e,t)),r=a(e,w.Ag.COMMUNITY),s=a(t,w.Ag.ORG_PRIVATE);return[...n.map(e=>i(e,w.Ag.LOCAL)),...s,...r]},[i,n,t,e])}({publicExtensions:_,privateExtensions:x,localExtensions:y}),e,t),S=b.length+E.length+k.length+v.length,A=function({myExtensions:e,actionItems:t,fromOrgExtensions:n,communityExtensions:i}){let a=(0,N.HD)("My Extensions",e),r=(0,N.NH)(t),s=(0,N.HD)("From Org",n),o=(0,N.HD)("From Community",i);return(0,N.i6)([a,r,s,o])}({myExtensions:b,actionItems:v,fromOrgExtensions:E,communityExtensions:k});return((0,r.useEffect)(()=>{i===et.Jc.EXTENSIONS&&l&&!g&&n({quickActionsSessionId:l,quickActionsQueryId:m,searchQuery:p,numSearchResults:S,currentSelection:h,module:i,moduleFilters:t,qaVersion:I.$L,searchQueryResults:A})},[h,n,i,S,l,m,t,g,A,p]),(0,es.iC)({activeTab:et.Jc.EXTENSIONS,isLoading:g,passthroughErrorMessage:(0,T.GX)(p)?(0,U.t)("search.error.max_query_length_exceeded"):null,query:d,resultsCount:S}),g)?(0,a.jsx)(oY.R,{}):(0,T.GX)(p)?(0,a.jsx)(dT,{}):0===S?(0,a.jsx)(da,{}):(0,a.jsx)(li.M6,{numResults:S,moduleFilters:t,children:(0,a.jsxs)(rN.B,{primary:!0,resultCount:S,children:[(0,a.jsx)(di,{extensions:b}),(0,a.jsx)(dn,{actions:v}),(0,a.jsx)(dI,{extensions:E}),(0,a.jsx)(dS,{extensions:k})]})})}function dI({extensions:e}){let t=(0,ew.sZ)();if(!t||0===e.length)return null;let[n,i]=dc()(e,e=>e.types.has(w.Ag.ORG_SAVED)),r=[...n,...i];return(0,a.jsx)(dt,{augmentedExtensions:r,header:(0,U.t)("qa.from_org_name",{org_name:t.name}),showExtensionDetails:!0,dataTestId:"from-org-extensions-section"})}function dS({extensions:e}){return 0===e.length?null:(0,a.jsx)(dt,{augmentedExtensions:e,header:(0,U.t)("qa.from_community"),showExtensionDetails:!0,dataTestId:"community-extensions-section"})}let dN=(e,t,n)=>{let i=(0,T.vA)(n),a=(0,r.useMemo)(()=>new Set(e.map(e=>e.key)),[e]),s=(0,r.useMemo)(()=>{let n=[...e,...t];return(0,T.ZM)(n)},[t,e]),o=[],l=[],d=[];return s.filter(e=>e.canRun||e.canRequest).filter(e=>i(e)).filter(e=>a.has(e.key)).forEach(e=>{(0,T.wj)(e)?o.push(e):(0,T.C5)(e)?l.push(e):(0,T.Nf)(e)&&d.push(e)}),{myExtensions:o,fromOrgExtensions:l,communityExtensions:d}};function dA({hasLoadedExtensions:e,extensions:t,selectedFilter:n}){let i=(0,c.md)(j.Q8),r=(0,j.JB)(),s=(0,c.AY)(oz.t);return((0,x.h)(()=>()=>{r(),s()}),e)?i.trim()?(0,a.jsx)(dk,{availableExtensions:t,selectedFilter:n}):(0,a.jsx)(dr,{availableExtensions:t,selectedFilter:n}):(0,a.jsx)(oY.R,{})}var dL=n(742782);function dO(){!function(){let e=(0,c.md)(j.IH),t=(0,c.md)(Q.f),{autoClose:n}=(0,k.cq)(),i=(0,r.useCallback)(()=>{let e=J.D.getState();e.modalShown||e.dropdownShown||e.pickerShown||n()},[n]);!function({ref:e,handler:t,eventType:n="mousedown",eventOptions:i,recordingKey:a,enabled:s}){let o=(0,r.useCallback)(n=>{if(!(n.target instanceof Node))return;let i=n.target;i&&i.isConnected&&e&&(Array.isArray(e)?e.filter(e=>!!(e&&e.current)).every(e=>e.current&&!e.current.contains(i)):e.current&&!e.current.contains(i))&&t(n)},[e,t]),l=(0,P.rf)(a,n,o);(0,r.useEffect)(()=>{if(e&&s)return window.addEventListener(n,l,i),()=>{window.removeEventListener(n,l,i)}},[e,n,o,l,i,s])}({ref:(0,r.useMemo)(()=>[e,t],[e,t]),handler:()=>setTimeout(i,0),eventType:"mousedown",eventOptions:!0,recordingKey:"click-to-dismiss",enabled:!0})}();let{defaultViewTabsAvailable:e,defaultViewAssetsTabVisible:t}=(0,f.gB)(),[n,i]=(0,c.fp)(j.Q8),o=(0,c.Xr)(j.Rt),[d,u]=(0,c.fp)(oz.t),[p,m]=(0,c.fp)(j.Lk),{loaded:h,extensions:g}=(0,c.md)(j.P_),_=(0,s.wA)();r.useEffect(()=>_(V.aq()),[_]);let x=(0,z.q5)(),y=!!(e&&x?.canEdit),b=(0,tk.s)(),E=(0,nt.V)(),w=(0,X.eH)();(0,q.b)({disabled:!y});let T=p===et.Jc.ASSETS,{debouncedAssetSearch:I,clearAssetSearchAndCancelDebounce:S}=(0,$.TC)({debounceWait:300}),{debouncedFragmentTextSearch:L,clearFragmentSearchAndCancelDebounce:F}=(0,dL.S)({debounceWait:300,entryPoint:H.G4.ACTIONS_ASSETS_TAB}),{debouncedFragmentTextSearch:ea,clearFragmentSearchAndCancelDebounce:eo}=(0,dL.S)({debounceWait:300,entryPoint:H.G4.ACTIONS_ASSETS_TAB,isCommunity:!0}),el=r.useCallback(e=>{i(e),o((0,D.g)()),(0,N.lw)(),y&&(T||0===e.length)&&(I(e,{type:Z.I.ALL}),E&&L(e),w&&ea(e))},[i,o,I,L,y,T,E,w,ea]),ed=r.useCallback(()=>{i(""),y&&(S(),E&&F(),w&&eo())},[i,y,S,F,E,w,eo]),ec=r.useCallback(e=>{m(e),(0,N.lw)()},[m]),eu=r.useCallback(()=>{(0,tw.mX)(n,()=>ec(et.Jc.ASSETS),E,w,b,H.G4.ACTIONS_ASSETS_TAB)},[n,ec,E,w,b]),ep=r.useRef(null),em=(0,oG.U)(E),eh=(0,s.d4)(K.Eh),ef=(0,C.QZ)();r.useEffect(()=>{ef||d!==et.BY.ALL&&d!==et.BY.WIDGETS||u(et.BY.PLUGINS)},[ef,d,u]);let eg=(0,G.e)(),e_=(0,v.Bd)(),ex=(0,v.n0)(e_&&eg);(0,A.If)(ex);let ey=r.useId(),ev=r.useId(),eb=r.useId(),eC=(0,a.jsxs)(er.fu,{value:p,onChange:R.lQ,numItems:eh?3:2,children:[(0,a.jsx)(er.oz,{tabId:et.Jc.ALL,tabPanelId:e_?ey:void 0,onAction:()=>ec(et.Jc.ALL),navigatingShortcut:{key:M.Uz.KEY_1,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:e_,children:(0,U.tx)("qa.all")}),t&&(0,a.jsx)(er.oz,{tabId:et.Jc.ASSETS,tabPanelId:e_?ev:void 0,onAction:eu,navigatingShortcut:{key:M.Uz.KEY_2,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:e_,children:(0,U.tx)("qa.assets")}),eh&&(0,a.jsx)(er.oz,{tabId:et.Jc.EXTENSIONS,tabPanelId:e_?eb:void 0,onAction:()=>ec(et.Jc.EXTENSIONS),navigatingShortcut:{key:M.Uz.KEY_3,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:e_,children:ef?(0,U.tx)("qa.plugins_widgets"):(0,U.tx)("qa.plugins")})]}),eE=r.useCallback(e=>{(w||E)&&(0,tw.jk)(e)},[E,w]),ej=(0,ee._M)({action:Y.JT.FIND_INSPIRATION,clientLifecycleId:void 0}),ew=w||E?(0,a.jsx)("div",{className:B.s.flex.$,children:(0,a.jsx)(tw.hc,{entryPoint:H.G4.ACTIONS_ASSETS_TAB,aiTrackingContext:ej,recordingKey:(0,P.Pt)("defaultView","visualSearchIconButton")})}):void 0,eT=p===et.Jc.EXTENSIONS,ek=(0,c.Xr)(W.FX),eI=r.useId(),eS=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(dR,{ref:ep,descriptorId:eI,endEnhancer:ew,hasAccessibleImprovements:e_,isAssetsTabActive:T,isUsingRealFocus:ex,onClear:ed,onPaste:eE,onSearchChange:el,placeholder:em,searchQuery:n}),e_&&(0,a.jsx)(es.mr,{id:eI}),(y||eT)&&(0,a.jsx)("div",{className:B.s.px8.pb8.$,children:(0,a.jsxs)(en.b,{primary:!1,gap:8,fullWidth:!0,justify:"space-between",children:[y&&eC,eT&&(0,a.jsx)(oW,{extensionFilter:d,setExtensionFilter:u,canViewWidgets:ef})]})}),function(){switch(p){case et.Jc.ALL:return ek(!0),(0,a.jsx)(ei.n.Body,{id:e_?ey:void 0,isTabPanel:!0,children:(0,a.jsx)(oV,{setActiveTab:ec})});case et.Jc.ASSETS:return(0,a.jsx)(ei.n.Body,{id:e_?ev:void 0,isTabPanel:!0,children:(0,a.jsx)(tT.t,{searchHandle:ep})});case et.Jc.EXTENSIONS:return(0,a.jsx)(ei.n.Body,{id:e_?eb:void 0,isTabPanel:!0,children:(0,a.jsx)(dA,{extensions:g,hasLoadedExtensions:h,selectedFilter:d})});default:return(0,O.xb)(p)}}()]});return(0,a.jsx)(ei.n,{canShrinkIfNeeded:e_,height:Y.wC,recordingKey:"defaultView",children:(0,a.jsx)(es.Do,{children:ex?(0,a.jsx)(l.i,{children:eS}):eS})})}let dR=r.forwardRef(({descriptorId:e,endEnhancer:t,hasAccessibleImprovements:n,isAssetsTabActive:i,isUsingRealFocus:s,onClear:o,onPaste:l,onSearchChange:d,placeholder:c,searchQuery:u},p)=>{let m=(0,F.bh)({isDefaultFocusItem:!0}),h=r.useCallback(()=>{m?.()},[m]);return(0,a.jsx)(ea.vj,{ref:p,searchQuery:u,onSearchChange:d,onClear:o,onEnter:s?h:void 0,onPaste:l,endEnhancer:t,placeholder:n&&u||!i?void 0:c,descriptorId:n?e:void 0})});function dP(){let{current:e}=(0,k.cq)(),t=(0,j.jh)();return((0,x.h)(()=>()=>{t()}),e)?(0,a.jsx)(a.Fragment,{children:e.module}):(0,a.jsx)(dO,{})}let dM=(e,t)=>{let n=(0,S.x)();(0,N.F$)(n)&&(0,N.Mq)({...t,qaVersion:I.$L,quickActionsSessionId:e,timeToShowModal:_.sn.tryStop(I.mP)||0,module:n})};function dD(){!function(){let e=(0,c.Xr)(j.P_),t=(0,C.FG)(),n=(0,C.AR)(),{loaded:i,userPlugins:a,userWidgets:s,orgPlugins:o,orgWidgets:l}=(0,C.q3)(),d=(0,C.ll)(),u=(0,C.U6)(),p=(0,E.h)("plugin"),m=(0,E.h)("widget"),h=(0,C.$1)(),f=(0,T.Oy)(),g=(0,r.useMemo)(()=>[{extensions:t,extensionType:w.Ag.RECENT},{extensions:n,extensionType:w.Ag.RECENT},{extensions:Object.values(a),extensionType:w.Ag.USER_SAVED},{extensions:Object.values(s),extensionType:w.Ag.USER_SAVED},{extensions:Object.values(o),extensionType:w.Ag.ORG_SAVED},{extensions:Object.values(l),extensionType:w.Ag.ORG_SAVED},{extensions:Object.values(d),extensionType:w.Ag.ALLOWLIST},{extensions:Object.values(u),extensionType:w.Ag.ALLOWLIST},{extensions:p,extensionType:w.Ag.ORG_PRIVATE},{extensions:m,extensionType:w.Ag.ORG_PRIVATE},{extensions:Object.values(h),extensionType:w.Ag.LOCAL}],[t,n,a,s,o,l,d,u,p,m,h]),_=(0,r.useMemo)(()=>{let e=i?g.map(({extensions:e,extensionType:t})=>e.map(e=>f(e,t))).flat():[];return(0,T.ZM)(e)},[g,f,i]);(0,r.useEffect)(()=>{i&&_&&e({loaded:i,extensions:_})},[i,_,e])}();let e=(0,c.Xr)(j.Bu),t=(0,c.md)(j.rE),n=(0,c.md)(j.dd);(0,x.h)(()=>(e(!0),n&&dM(n,t||void 0),()=>{e(!1)}));let i=(0,c.md)(y.Kh),[s,o]=r.useState(!1),{close:l}=(0,k.cq)();return(0,r.useEffect)(()=>{dF(i)&&o(!0),s&&!dF(i)&&l()},[l,i,s]),(0,a.jsx)(b.s,{children:(0,a.jsx)(v.xQ,{children:(0,a.jsx)(A.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,a.jsx)(L.p,{children:(0,a.jsx)(dP,{})})})})})}function dF(e){return e===d.NLJ.SELECT}var dB=n(249586),dU=n(236311),dH=n(827956);function dV(e){let t=(0,ep.A)(g.KY,e.timeoutMs),n=(0,g.el)(),[i,s]=r.useState(!1),o=r.useRef(null);return r.useEffect(()=>(i?t.cancel():t(),()=>{t.cancel()}),[t,i]),(0,r.useEffect)(()=>{n&&(t.cancel(),t())},[n,t]),(0,a.jsx)("div",{ref:o,onPointerEnter:()=>{s(!0)},onPointerLeave:()=>{s(!1)},children:e.children})}function dG(){let e=J.D.getState(),t=(0,eS.l)(e),n=e.openFile?.key??"",i=(0,dB.v5)(e.selectedView,null),s=(0,nF.F)(),o=[...oa(),...s],l=eB(),u=nA(l,o),p=(0,g.el)(),h=p?u.list(l).find(e=>e.action===p.action):null,f=h?.action,_=h?(0,eM.ah)(h):null,x=(0,eM.J8)(h?.action,p?.payload),y=(0,eM.Hr)(h?.action),v=(0,r.useCallback)(()=>{f&&(ao.Y5.triggerAction(f,p?.payload),(0,g.KY)())},[f,p?.payload]),b=(0,c.md)(j.dd),C=(0,N.vI)(),E=(0,m.PE)();(0,dH.K)();let w=(0,r.useMemo)(()=>({action:f,source:"toast",toastType:p?.payload?.source,quickActionsSessionId:b,currentSelection:t,qaVersion:I.$L,fileKey:n,productType:i,role:C,hasAiFeatureAccess:E}),[f,b,t,n,i,C,E,p?.payload?.source]),T=(0,r.useRef)(w),k=(0,g.w_)(p);(0,r.useEffect)(()=>{T.current=w},[w]),(0,r.useEffect)(()=>{f&&k&&(0,iB.sx)(I.Sq,T.current,{forwardToDatadog:!0})},[f,k]),(0,ej.f4)(e=>{p?.guid&&!e.mirror.sceneGraphSelection[p.guid]&&(0,g.KY)()});let S=(0,r.useCallback)(()=>{if(!h)return;let e=h?.action,t=[Y.JT.MAGIC_LINK,Y.JT.FIND_INSPIRATION].includes(e);f===Y.JT.CONTENT_FILL&&d.CT8?.dismissContentFillNudge(),(0,g.KY)({dismissedAction:t?e:void 0})},[h,f]);if(!k)return null;if(!h)return console.warn("No menu item found for suggested action."),null;let O=(0,sn.O)(h);return(0,a.jsx)(A.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,a.jsx)(L.p,{children:(0,a.jsx)(ei.n,{children:(0,a.jsx)(dV,{timeoutMs:1e4,children:(0,a.jsx)(dU.y,{onDismiss:S,recordingKey:"SuggestionToast",children:(0,a.jsxs)(en.B,{justify:"space-between",align:"center",fullWidth:!0,children:[(0,a.jsxs)(en.B,{gap:4,align:"center",children:[(0,a.jsx)("span",{style:{"--color-icon":"var(--color-icon-brand)"},children:y}),(0,a.jsxs)(en.B,{align:"center",children:[(0,a.jsx)("span",{className:B.s.textBodyMediumStrong.$,children:(0,a.jsx)(eZ.E,{color:"brand",children:x})}),(0,eD.BB)(h)&&(0,a.jsx)(sn.y,{helpUrlVariant:O})]})]}),(0,a.jsx)(tG.r,{variant:"secondary",shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:()=>{v(),f&&(0,N.mi)({...T.current,isAi:!0})},recordingKey:"SuggestionToast",children:_})]})})})})})})}var dz=n(121113);function dK(){let e=(0,s8.XV)(),t=(0,s8.hk)(),n=(0,s8.sF)();return e?(0,a.jsx)(A.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,a.jsx)(L.p,{children:(0,a.jsx)(ei.n,{children:(0,a.jsx)(dU.y,{onDismiss:t,recordingKey:"VideoToast",children:(()=>{switch(e.status){case"success":return(0,a.jsxs)(en.B,{justify:"space-between",align:"center",fullWidth:!0,children:[(0,a.jsxs)(en.B,{gap:4,align:"center",children:[(0,a.jsx)("span",{className:"x2lah0s",children:(0,a.jsx)(eH.V,{})}),(0,a.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:(0,U.tx)("video_ai.make_video.success",{prompt:e.prompt})})]}),(0,a.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:n,recordingKey:"VideoToast",children:(0,U.tx)("video_ai.make_video.insert")})]});case"error":return(0,a.jsxs)(en.B,{gap:4,align:"center",children:[(0,a.jsx)("span",{className:"x2lah0s",children:(0,a.jsx)(dz.C,{style:{"--color-icon":"var(--color-icon-danger)"}})}),(0,a.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:(0,U.tx)("video_ai.make_video.error",{prompt:e.prompt})})]});default:return null}})()})})})}):null}function dW(e){let t=(0,s.wA)(),n=(0,h.I)(),i=(0,m.PE)();return((0,r.useEffect)(()=>{d.glU?.handleHasDesignAIPermissionChange()},[i]),n)?(0,a.jsx)(u.tH,{boundaryKey:"QuickActionsV2",onError:()=>{t(p.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},team:o.e.AI_FOR_PRODUCTION,fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,a.jsx)(l.i,{children:(0,a.jsx)(f.QT,{value:(0,f.Ct)(e),children:(0,a.jsx)(dZ,{})})})}):null}function dZ(){let e=(0,c.md)(j.Bu),t=(0,g.el)(),n=(0,s8.XV)();return e?(0,a.jsx)(dD,{}):t?(0,a.jsx)(dG,{}):n?(0,a.jsx)(dK,{}):null}},120640:(e,t,n)=>{n.d(t,{Ct:()=>a,QT:()=>s,gB:()=>o});var i=n(716976);function a(e={}){return{defaultViewTabsAvailable:e.defaultViewTabsAvailable??!1,defaultViewAssetsTabVisible:e.defaultViewAssetsTabVisible??!1,centeredInPanels:e.centeredInPanels??!1}}let r=(0,i.createContext)(a()),s=r.Provider;function o(){return(0,i.useContext)(r)}},780712:(e,t,n)=>{n.d(t,{p:()=>k});var i=n(104076),a=n(716976),r=n(812714),s=n(795033),o=n(511570),l=n.n(o),d=n(983500),c=n(265149),u=n(581133),p=n(278491),m=n(965883),h=n(345477),f=n(141330),g=n(120640),_=n(831214),x=n(775659),y=n(889422),v=n(233420),b=n(240787),C=n(164760),E=n(404343),j=n(769209);let w=(0,d.jz)(E.j4N);function T(e){let t=a.useRef(null),n=(0,s.Xr)(v.fq),o=(0,c.wY)(t),{centeredInPanels:d}=(0,g.gB)();(0,a.useEffect)(()=>(o?.height&&n(o.height),()=>{n(0)}),[o,n]);let b=function(){let[e]=(0,s.fp)(u.f),t=e?.current?.getBoundingClientRect(),n=!!(t&&t.height>0),i=(0,h.xn)(),o=(0,h.Yk)(),l=(0,_.L)(),d=(0,x.G)(),c=(0,y.ze)();return(0,a.useMemo)(()=>{if((0,r.kc)().figjam_quick_actions_v2&&!l&&(!n||c))return{bottom:o+(c&&d?0:12)};if(!n)return null;let e=(0,r.kc)().figjam_quick_actions_v2?12:8;return{bottom:w+i+(t?.height||0)+e}},[i,n,t?.height,o,l,d,c])}(),[E,j]=(0,m.d)(),T=(0,a.useMemo)(()=>d?{left:E-j}:null,[d,E,j]),k={bottom:f.VQ};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:t,style:{...k,...b,left:0,...T},className:l()(C.tT,p.Dm),"data-testid":"quick-actions-v2",children:(0,i.jsx)(I,{children:e.children})})})}function k(e){return(0,i.jsx)(T,{children:e.children})}function I(e){let t=a.useRef(null),n=(0,s.Xr)(v.IH);(0,a.useEffect)(()=>(t.current&&n(t),()=>{n(null)}),[n]);let r=(0,b.o)();return(0,i.jsx)("div",{ref:t,style:{maxWidth:j.X,minWidth:r},className:l()(C.N8,p.Dm),"data-cancel-insertable-resource-drag-and-drop":"true",children:e.children})}},911277:(e,t,n)=>{n.d(t,{$:()=>T,J:()=>k});var i=n(104076),a=n(716976),r=n(951002),s=n(447899),o=n(980852),l=n(795033),d=n(192075),c=n(138421),u=n(178623),p=n(260027),m=n(20267),h=n(296081),f=n(141330),g=n(290407),_=n(170956),x=n(523625),y=n(233420),v=n(854708),b=n(325164),C=n(198038),E=n(645259),j=n(661331);let w=({texts:e,authInfo:t,surroundingContext:n})=>u.Ay.shared.adjustText({texts:e,action:{type:"SHORTEN"},jsonMode:e.length>1,surroundingContext:n},t),T=async({params:e,abortController:t,onTasksUpdate:n,clientLifecycleId:i})=>{let{featureType:a}=e,r=(0,h.i2)(),s={targets:(0,c.on)(r,{allowEmpty:!1,excludeDigitsAndSpecialChar:!1,excludeLockedNodes:!0}),parameters:null,selection:o.UN().getCurrentPage()?.directlySelectedNodes??[],activeNodes:r};l.zl.set(y.DZ,null),l.zl.set(y.F3,s),l.zl.set(y.Q8,""),await (0,j.GD)({params:{clientLifecycleId:i,state:s,makeCortexRequest:w,featureType:a,excludeDigitsAndSpecialChar:!1,editScopeLabel:"adjust-text"},abortController:t,onTasksUpdate:n})};function k(){let{close:e}=(0,_.cq)(),{longRunningAction:t,lastParameters:n,onRun:o,cancel:l,resetText:c,lastRun:u}=(0,j.Hd)({makeCortexRequest:w,featureType:f.JT.SHORTEN_TEXT}),{state:h,aiTrackingContext:y,tasks:T}=t,k=(0,a.useCallback)(()=>{c(),(0,g.B3)(f.JT.SHORTEN_TEXT),e()},[c,e]),I=T.length,S=T.filter(e=>e.state===g.z8.FAILED).length;switch(h){case g.qy.INITIAL:return(0,i.jsx)(b.A,{action:f.JT.SHORTEN_TEXT,actionIcon:(0,i.jsx)(s.g,{}),actionLabel:(0,d.tx)("fullscreen_actions.quick_actions.shorten-text"),onPerform:()=>{o(null)},aiTrackingContext:y,getCustomDisabledTextFromSelectedNodes:e=>(0,j.bu)(e,{onlyAllowSingular:!0,instruction:(0,d.tx)("ai_text_tools.select_text_singular")}),instructionAction:{type:"learn_more",url:f.pY},children:(0,d.tx)("ai_text_tools.select_text_singular")});case g.qy.RUNNING:return(0,i.jsx)(E.F,{onCancel:()=>{l(),e()},aiTrackingContext:y,children:(0,d.tx)("ai_text_tools.shorten.running")});case g.qy.ERROR:let N;let{error:A}=t,L=[{type:v.f.TRY_AGAIN,callback:()=>o(n)}],O=null;return(A instanceof j.Vz||(0,m.sZ)(A)===p.B.CONTENT_LENGTH_LIMIT)&&(N=(0,d.tx)("ai.error.content_length_limit"),L=[]),A instanceof j.Jd&&(N=(0,d.tx)("ai_text_tools.missing_fonts"),L=[]),(0,m.sZ)(A)===p.B.UNSAFE_OR_HARMFUL_CONTENT&&(L=[]),I>0&&S>0&&S<I&&(O=(0,d.tx)("ai_text_tools.shorten.couldnt_count",{failed:S,total:I})),(0,i.jsx)(v.E,{buttons:L,error:t.error,aiTrackingContext:y,customMessage:N,secondaryMessage:O});case g.qy.DONE:return(0,i.jsx)(C.Oq,{recordingKey:"shortenText",iterateOptions:[{type:C.is.UNDO,callback:k},{type:C.is.TRY_AGAIN,callback:()=>{o(n)}}],aiTrackingContext:{...y,iteration_view_type:x.$J.SUCCESS_WITH_ITERATION},targets:u?u.targets.map(e=>e.node.guid):void 0});case g.qy.CANCELLED:return null;default:(0,r.xb)(h)}}},609762:(e,t,n)=>{n.d(t,{K:()=>L});var i=n(104076),a=n(716976),r=n(951002),s=n(468812),o=n(192075),l=n(607804),d=n(819851),c=n(178623),u=n(260027),p=n(20267),m=n(141330),h=n(242498),f=n(290407),g=n(170956),_=n(523625),x=n(854708),y=n(325164),v=n(198038),b=n(645259),C=n(221586),E=n(236631),j=n(836734),w=n(798811),T=n(493184),k=n(256314),I=n(83068);function S({items:e,onSelectItem:t,placeholder:n,showIcon:r=!0}){(0,w.If)(!1);let[s,o]=a.useState(""),[l,d]=a.useState([]);a.useEffect(()=>{d(e),o("")},[e]);let c=(0,i.jsx)(T.B,{resultCount:l.length,children:l.map(e=>(0,i.jsx)(T.B.Item,{primaryAction:{onAction:()=>t(e),shortcuts:[{key:C.Uz.ENTER}]},actionLabel:!1,recordingKey:e.label,children:(0,i.jsx)("div",{className:E.s.flex.justifyBetween.wFull.$,children:(0,i.jsx)("div",{className:E.s.ml28.$,children:e.label})})},e.label))}),u=t=>{o(t),d(e.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())))},p=(0,j.Bd)();return(0,i.jsxs)(k.n,{height:m.wC,canShrinkIfNeeded:p,recordingKey:"parameterLikeList",children:[(0,i.jsx)(I.DM,{searchQuery:s,onSearchChange:u,onClear:()=>{u("")},placeholder:n,showIcon:r}),(0,i.jsx)(k.n.Body,{children:c})]})}var N=n(661331);let A=["Arabic","Urdu"];function L(){let e=(0,d.ow)(),t=[{name:"Arabic",label:(0,o.t)("ai_text_tools.translate.language.arabic")},{name:"Chinese (Simplified)",label:(0,o.t)("ai_text_tools.translate.language.chinese_simplified")},{name:"Chinese (Traditional)",label:(0,o.t)("ai_text_tools.translate.language.chinese_traditional")},{name:"Dutch",label:(0,o.t)("ai_text_tools.translate.language.dutch")},{name:"English (United Kingdom)",label:(0,o.t)("ai_text_tools.translate.language.english_uk")},{name:"English (United States)",label:(0,o.t)("ai_text_tools.translate.language.english_us")},{name:"Tagalog",label:(0,o.t)("ai_text_tools.translate.language.tagalog")},{name:"French",label:(0,o.t)("ai_text_tools.translate.language.french")},{name:"German",label:(0,o.t)("ai_text_tools.translate.language.german")},{name:"Hindi",label:(0,o.t)("ai_text_tools.translate.language.hindi")},{name:"Indonesian",label:(0,o.t)("ai_text_tools.translate.language.indonesian")},{name:"Italian",label:(0,o.t)("ai_text_tools.translate.language.italian")},{name:"Japanese",label:(0,o.t)("ai_text_tools.translate.language.japanese")},{name:"Korean",label:(0,o.t)("ai_text_tools.translate.language.korean")},{name:"Malay",label:(0,o.t)("ai_text_tools.translate.language.malay")},{name:"Polish",label:(0,o.t)("ai_text_tools.translate.language.polish")},{name:"Portuguese (Brazil)",label:(0,o.t)("ai_text_tools.translate.language.portuguese_brazil")},{name:"Portuguese (Portugal)",label:(0,o.t)("ai_text_tools.translate.language.portuguese_portugal")},{name:"Russian",label:(0,o.t)("ai_text_tools.translate.language.russian")},{name:"Spanish (Latin America)",label:(0,o.t)("ai_text_tools.translate.language.spanish_latin_america")},{name:"Spanish (Spain)",label:(0,o.t)("ai_text_tools.translate.language.spanish_spain")},{name:"Swedish",label:(0,o.t)("ai_text_tools.translate.language.swedish")},{name:"Tamil",label:(0,o.t)("ai_text_tools.translate.language.tamil")},{name:"Thai",label:(0,o.t)("ai_text_tools.translate.language.thai")},{name:"Turkish",label:(0,o.t)("ai_text_tools.translate.language.turkish")},{name:"Ukrainian",label:(0,o.t)("ai_text_tools.translate.language.ukrainian")},{name:"Urdu",label:(0,o.t)("ai_text_tools.translate.language.urdu")},{name:"Vietnamese",label:(0,o.t)("ai_text_tools.translate.language.vietnamese")}];e&&(t=t.filter(e=>!A.includes(e.name)));let n=(0,o.t)("ai_text_tools.translate.running"),C=a.useRef(null),{onRun:E,resetText:j,cancel:w,longRunningAction:T,lastRun:k}=(0,N.Hd)({makeCortexRequest:({texts:e,parameters:t,authInfo:n,surroundingContext:i})=>c.Ay.shared.adjustText({texts:e,action:{type:"TRANSLATE",language:t.language},jsonMode:e.length>1,surroundingContext:i},n),featureType:m.JT.TRANSLATE_TEXT}),{state:I,aiTrackingContext:L,tasks:O}=T,{close:R}=(0,g.cq)(),P=(0,h.s)(m.JT.TRANSLATE_TEXT),M=O.length,D=O.filter(e=>e.state===f.z8.FAILED).length,F=(0,l.to)();switch(I){case f.qy.RUNNING:return(0,i.jsx)(b.F,{onCancel:()=>{w(),R()},aiTrackingContext:L,children:n});case f.qy.INITIAL:switch(P.state){case h.w.NEEDS_INITIAL_SELECTION:case h.w.SELECTION_LOST:return(0,i.jsx)(y.A,{action:m.JT.TRANSLATE_TEXT,actionLabel:(0,o.tx)("fullscreen_actions.quick_actions.translate-text"),actionIcon:(0,i.jsx)(s.R,{}),onPerform:()=>P.confirmInitialSelection(),getCustomDisabledTextFromSelectedNodes:e=>(0,N.bu)(e,{}),aiTrackingContext:L,instructionAction:{type:"learn_more",url:m.pY},children:(0,o.tx)("ai_text_tools.selection_instruction")});case h.w.SELECTION_OK:return(0,i.jsx)(S,{items:t,onSelectItem:e=>{let t={language:e.name};E(t),C.current=t},placeholder:(0,o.t)("ai_text_tools.translate.language"),showIcon:!F})}case f.qy.ERROR:let B;let{error:U}=T,H=null,V=[{type:x.f.TRY_AGAIN,callback:()=>{if(C.current)E(C.current);else throw new N.ay("Last parameters is null")}}];return(U instanceof N.Vz||(0,p.sZ)(U)===u.B.CONTENT_LENGTH_LIMIT)&&(B=(0,o.tx)("ai.error.content_length_limit"),V=[]),U instanceof N.Jd&&(B=(0,o.tx)("ai_text_tools.missing_fonts"),V=[]),(0,p.sZ)(U)===u.B.UNSAFE_OR_HARMFUL_CONTENT&&(V=[]),M>0&&D>0&&D<M&&(H=(0,o.tx)("ai_text_tools.translate.couldnt_count",{failed:D,total:M})),(0,i.jsx)(x.E,{buttons:V,error:T.error,aiTrackingContext:L,customMessage:B,secondaryMessage:H});case f.qy.DONE:return(0,i.jsx)(v.Oq,{iterateOptions:[{type:v.is.UNDO,callback:()=>{j(),R()}}],recordingKey:"translateText",aiTrackingContext:{...L,iteration_view_type:_.$J.DEFAULT_SUCCESS},targets:k?k.targets.map(e=>e.node.guid):[]});case f.qy.CANCELLED:return null;default:(0,r.xb)(I)}}},384851:(e,t,n)=>{n.d(t,{ce:()=>x,eb:()=>C,qi:()=>E,yh:()=>y,zs:()=>v});var i=n(716976),a=n(430301),r=n(382629),s=n(344424),o=n(812714),l=n(441513),d=n(316520),c=n.n(d),u=n(931114),p=n(246144),m=n(752062),h=n(835307),f=n(415567);let g=l.z.object({description:l.z.string(),wasOutputOfPreviousGeneration:l.z.boolean().optional()});l.z.object({prompt:l.z.string(),attachmentMetadata:l.z.record(l.z.string(),g).optional()});let _=`User has also attached the following frames (represented as JSX) and their corresponding images, components used here can be referenced in the output:
`;function x(e){let t={};for(let n of(0,s.B)(e,{followInstances:!0})){let e=(0,a.getComponentInfoById)(n.guid,{enableTsArrays:!!(0,o.kc)().first_draft_ts_arrays});if(!e){(0,p.xi)("first-draft","Component info not found for user-selected node",{componentGuid:n.guid},{reportAsSentryError:!0});continue}t[e.jsxName.toLowerCase()]=e}return t}async function y(e,t,n){let i=(await Promise.all(e.map(async e=>{var n;let i=await (0,m.nX)(e);if(!i)return(0,p.xi)("first-draft","Unable to get JSX for user-selected node",{nodeGuid:e.guid}),null;let a=t.get(e.guid);if(!a)return(0,p.xi)("first-draft","No image data found for user-selected node",{nodeGuid:e.guid}),null;let r=null;r=a.promise?await a.promise:a.blob;let s=await (n=r,new Promise((e,t)=>{let i=new FileReader;i.onloadend=()=>{let n=i.result;"string"==typeof n?e(n):t(Error("Failed to convert blob to Data URL"))},i.onerror=()=>{t(Error("Failed to read blob"))},i.readAsDataURL(n)}));return{guid:e.guid,jsxStr:i,imageUrl:s}}))).filter(r.Vq);return[{role:"system",content:_},{role:"user",content:c()(i.map(({guid:e,jsxStr:t,imageUrl:i},a)=>{let r=[{type:"text",text:`
ATTACHMENT #${a+1}:
`}];return n&&n[e]&&r.push({type:"text",text:`Description: ${[...n[e].wasOutputOfPreviousGeneration?["This was the output of a previous generation"]:[],n[e].description].join(" ")}
`}),t&&r.push({type:"text",text:`\`\`\`jsx
${t}
\`\`\`
`}),r.push({type:"image",image:i}),r}))}]}let v=URL.createObjectURL(new Blob(["data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="],{type:"image/gif"}));function b(e){return e.visible}function C(){let e=(0,i.useRef)(new Map),t=(0,f.Tv)();return(0,h.Fk)((t,n)=>{if(!n)return e.current=new Map,null;let i=n.map(e=>t.get(e)).filter(r.Vq).filter(b);return e.current=new Map(i.map(e=>[e.guid,e])),i.map(e=>e?.guid)},t),e.current}function E({enabled:e}){let[t,n]=i.useState(new Map),a=i.useRef(t);a.current=t;let r=i.useRef(!1),s=C();return i.useEffect(()=>{if(!e)return;let i=new Set(s.keys()),a=new Set(t.keys()),o=(0,u._i)(a,i);(0,u._i)(i,a).forEach(async e=>{let t=s.get(e);if(!t)return;let i=t.loadImagesAndExport([{imageType:"PNG"}]),a=(async()=>new Blob([await i],{type:"image/png"}))();n(t=>{let n=new Map(t);return n.set(e,{imageURL:null,blob:null,promise:a}),n});let o=await a;if(r.current)return;let l=URL.createObjectURL(o);n(t=>{let n=new Map(t);return n.set(e,{imageURL:l,blob:o,promise:null}),n})}),o.size>0&&n(e=>{let t=new Map(e);return o.forEach(e=>{if(!t.has(e))return;let n=t.get(e);n?.imageURL&&URL.revokeObjectURL(n.imageURL),t.delete(e)}),t})},[s,t,e]),i.useEffect(()=>()=>{r.current=!0,a.current.forEach(e=>{e.imageURL&&URL.revokeObjectURL(e.imageURL)})},[]),t}},994224:(e,t,n)=>{n.d(t,{YG:()=>v,sI:()=>y});var i=n(104076),a=n(716976),r=n(426642),s=n(812714),o=n(795033),l=n(511570),d=n.n(l),c=n(641518),u=n(236631),p=n(192075),m=n(597280),h=n(703477);let f=(0,o.E3)("first_draft_last_used_kit",""),g=(0,o.E3)("first_draft_reset_kit_for_byod",!0);function _(e){return"LOCAL"===e.dsKitKey.type?e.dsKitKey.pageId??"local":e.dsKitKey.key}function x({text:e}){return(0,i.jsxs)("div",{className:d()(u.s.flex.flexRow.$),children:[(0,i.jsx)(r.i,{style:{marginLeft:-2}})," ",(0,i.jsx)("span",{className:d()(u.s.pl4.$),children:e})]})}function y(e=!1){let{libraryKitsQueryStatus:t,localKits:n,libraryKits:i}=(0,m.Ml)(),[r,l]=(0,o.fp)(f),[d,c]=(0,o.fp)(g);d&&(0,s.kc)().first_draft_direct_gen&&(l(""),c(!1));let[u,p]=(0,a.useState)(null),h="loaded"===t;(0,a.useEffect)(()=>{if(h&&null===u){if(e){let e=n[0]??i[0]??null;e&&p({type:"KIT",kit:e})}else{let e=i[0]??n[0]??null;e&&p({type:"KIT",kit:e})}}},[n,i,h,u,p,e]);let x=(0,a.useMemo)(()=>[...i,...n],[i,n]),v=(0,a.useMemo)(()=>{let e=x.find(e=>_(e)===r);return h&&!e&&l(""),e??null},[r,x,l,h]);return{kitsAreLoaded:h,hasLastSelectedKit:h?!!v:!!r,selectedKit:v,setSelectedKit:a.useCallback(e=>{l(_(e))},[l]),selectedKitOption:u,setSelectedKitOption:p,allUsableKitEntries:x}}function v({items:e,kitsAreLoaded:t,selectedKitOption:n,setSelectedKitOption:a,recordingKey:r}){return(0,i.jsx)(h.m,{selected:n,onSelectedChange:a,placeholder:(0,i.jsx)(x,{text:t?(0,p.t)("first_draft.library_placeholder"):(0,p.t)("first_draft.kits_loading")}),labelForSelectedItem:e=>(0,i.jsx)(x,{text:e.kit.name}),displayAboveTarget:!0,lean:"right",items:e,recordingKey:c.Pt(r,"kitPicker"),disabled:!t})}},390178:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(276800),a=n(539854),r=n(192075),s=n(58212);function o(e,t,n=(0,r.t)("first_draft.share_trace_nudge_in_modal",{weirdOutput:(0,r.t)("first_draft.share_trace_nudge_weird_output")})){e(s.F.enqueue({type:"FIRST_DRAFT_SHOW_TRACE",message:n,button:{text:(0,r.t)("first_draft.share_trace"),action:()=>{(0,a.j)(JSON.stringify(t,null,2),"trace.json")}},onDismiss:i.lQ,timeoutOverride:2e4,timeoutType:"exact"}))}},827956:(e,t,n)=>{n.d(t,{K:()=>p});var i=n(716976),a=n(903927),r=n(266808),s=n(328341),o=n(74620),l=n(76365),d=n(854284),c=n(141330),u=n(288971);function p(){let e=(0,a.d4)(l.vD),t=(0,s.ZC)(e),n=(0,o.p8)("activeUserAction"),p=(0,d.LC)();i.useEffect(()=>{(e!==t&&t||![r.QOV.DEFAULT,r.QOV.CLICKING_TO_CHANGE_SELECTION].includes(n))&&(0,u.KY)({actionToClear:c.JT.FIND_INSPIRATION})},[e,n,t,p])}},592948:(e,t,n)=>{n.d(t,{Aw:()=>r,Ik:()=>l,Nv:()=>a,Y4:()=>s,cS:()=>c,jE:()=>d,nR:()=>i,r1:()=>o});let i=()=>Promise.resolve({}),a=()=>null,r=()=>null,s=()=>null,o=void 0,l=null,d=()=>null,c=()=>null},167037:(e,t,n)=>{n.d(t,{M:()=>f,f:()=>h});var i=n(584781),a=n(998653),r=n(392528),s=n(672328),o=n(346075),l=n(496023),d=n(224804),c=n(57106),u=n(328420),p=n(484009),m=n(609817);async function h(e){if(!e.hash)return null;let t=(0,m.tG)(),n=(0,i.nj)(e.hash);return await t.getAllVideoUrls(),t.getSignedUrls([n]).get(n)??null}async function f(e){let t=e.map(e=>new a.p({formats:[r.uS],source:new s.Ts(e)})),n=(await Promise.all(t.map(e=>Promise.all([e.getPrimaryVideoTrack(),e.getPrimaryAudioTrack()])))).filter(e=>!!e[0]&&!!e[1]),i=new o.Fl({codec:"avc",bitrate:l.m0}),m=new o.Ii({codec:"aac",bitrate:l.m0}),h=new d.k({format:new c.si,target:new u.Sn});h.addVideoTrack(i),h.addAudioTrack(m),await h.start();let f=0;for(let[e,t]of n){let n=new p.lc(e),a=new p.qw(t);for await(let e of n.samples())e.setTimestamp(e.timestamp+f),i.add(e);for await(let e of a.samples())e.setTimestamp(e.timestamp+f),m.add(e);f+=await e.computeDuration()}return(await h.finalize(),h.target.buffer)?new Uint8Array(h.target.buffer):null}},508504:(e,t,n)=>{n.d(t,{J:()=>R});var i=n(104076),a=n(716976),r=n(903927),s=n(827695),o=n(266808),l=n(812714),d=n(511570),c=n.n(d),u=n(166887),p=n(1188),m=n(192075),h=n(223837),f=n(692042);function g(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let i=t.get(Object.keys(n)[0]);return i&&"MEDIA"===i.type?i:null}var _=n(221086),x=n(315125),y=n(354114),v=n(260495);let b=(0,x.m)(C);async function C(e){let t=await (0,_.OF)(()=>E(e),{times:10,interval:1e3});return await new Promise((n,i)=>{let a=new Image;a.crossOrigin="anonymous",a.addEventListener("load",n),a.addEventListener("error",t=>{i(t.type+" loading the image with hash "+e)}),a.src=t}),t}async function E(e){let t=(await (0,v.Mj)([e],await y.Y5.openFilePromise())).s3_urls[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var j=n(795033),w=n(681398),T=n(165681),k=n(278491),I=n(749484),S=n(185117);let N="rich_media_overlay--loadingFallback---qUKd",A="rich_media_overlay--croppedClipPath--BeUH-";function L(e,t){e&&(t?(e.play(),w.Ay.safari&&(e.currentTime=.1)):(0,T.sQ)(e)?e.pause():(w.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let O=(0,a.memo)(({nodeId:e,mediaHash:t,isMaximized:n,setIsMaximized:r})=>{(0,I.RJ)(t);let s=(0,u.am)(),[o,l]=(0,a.useState)(null),[d,p,m,h]=function(){let[e,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(n){let e=()=>t(!0),i=()=>t(!1);return n.addEventListener("mousemove",e),n.addEventListener("mouseleave",i),()=>{n.removeEventListener("mousemove",e),n.removeEventListener("mouseleave",i)}}},[n]),[n,i,e,t]}(),f=(0,a.useRef)(null),g=(0,a.useRef)(!1),_=(0,j.md)(S.vE),[x,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!0),C=(0,a.useRef)(!1);(0,a.useEffect)(()=>{_&&s("figjam_video_started_playing",{mediaHash:t})},[s,t,_]),(0,a.useEffect)(()=>{!g.current&&d&&(g.current=!0,(0,I.mc)(f.current,d,t).then(e=>{f.current=e}))},[g,t,d]),(0,a.useEffect)(()=>{if(d)return e(),d.addEventListener("loadeddata",e),d.addEventListener("canplay",e),()=>{d.removeEventListener("loadeddata",e),d.removeEventListener("canplay",e)};function e(){d&&(2>(d.readyState||0)&&!C.current?b(!0):(C.current=!0,b(!1)))}},[d]),(0,a.useEffect)(()=>{s("figjam_video_selected",{mediaHash:t})},[s,t]);let E=(0,I.DD)(e),N=(0,I.ZU)(e),[O,R]=(0,j.fp)(S.H),{isVideoNodeHovered:P,pointerDownOnVideo:M}=O,D=(0,a.useCallback)((e,t)=>{R({isVideoNodeHovered:e,pointerDownOnVideo:t})},[R]);return(0,i.jsxs)("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:l,children:[(0,i.jsx)("div",{className:c()("rich_media_overlay--clippedVideo--JljnC",n?"rich_media_overlay--noClipPath--ZooJK":A),children:(0,i.jsx)("video",{ref:p,crossOrigin:"anonymous",autoPlay:_&&!w.Ay.safari,className:c()("rich_media_overlay--video--O6uP2",n&&k.s4,n&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:w.Ay.isIpad&&n,onClick:function(){n&&L(d,x)}})}),(0,i.jsx)(T._L,{didAutoplayOnSelection:_,hasEnded:x,isLoading:v,isMaximized:n,isVideoHovered:m,isVideoNodeHovered:P,mediaHash:t,pointerDownOnVideo:M,setHasEnded:y,setIsMaximized:r,setIsVideoHovered:h,setVideoControls:D,shouldHideControlBar:N,shouldHidePlaybackButton:E,toggleVideoPlayback:L,videoContainerElement:o,videoElement:d})]})}),R=a.memo(function(){let e=(0,r.d4)(g);return e&&e.richMediaInfo&&(!(0,l.kc)().video_in_canvas_figjam||"VIDEO"!==e.richMediaInfo.richMediaType)?(0,i.jsx)(P,{nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType},e.richMediaInfo.mediaHash):null}),P=a.memo(function(e){let{nodeGuid:t,mediaHash:n,mediaType:r}=e,s=a.useRef(null),o=a.useRef(null),l=(0,f._X)({subscribeToUpdates_expensive:!0}),[d,u]=a.useState(!1);return a.useEffect(()=>{let e=(0,h.EE)("rich-media",[t],e=>{o.current=e.position,B(s,l,o,d)});return o.current=e.currentNodePosition[t]?.position||null,B(s,l,o,d),()=>{(0,h.lB)("rich-media")}},[t,l,d]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:s,className:c()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":d}),children:(0,i.jsx)(p.tH,{fallback:(0,i.jsx)(D,{mediaType:r,mediaHash:n}),boundaryKey:"Video",children:(0,i.jsxs)(a.Suspense,{fallback:(0,i.jsx)(M,{}),children:["ANIMATED_IMAGE"===r&&(0,i.jsx)(F,{mediaHash:n}),"VIDEO"===r&&(0,i.jsx)(O,{nodeId:t,mediaHash:n,setIsMaximized:u,isMaximized:d})]})})})})});function M(){return(0,i.jsx)("div",{className:c()(N,A),children:(0,i.jsx)(s.k,{size:"lg"})})}function D({mediaHash:e,mediaType:t}){let n=(0,m.tx)("whiteboard.gif.failed_to_load");return"VIDEO"===t&&(n=(0,m.tx)("whiteboard.video.failed_to_load"),o.tHB?.isVideoBeingUploaded(e)&&(n=(0,m.tx)("whiteboard.video.still_uploading"))),(0,i.jsx)("div",{className:c()(N,A),children:(0,i.jsx)("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L",children:n})})}function F({mediaHash:e}){let t=b.useValue(e),n=(0,u.am)();return a.useEffect(()=>{n("figjam_gif_started_playing")},[n]),(0,i.jsx)("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:A})}function B(e,t,n,i){if(!e.current||!t||!n.current)return;let a=e.current;if(i)a.style.position="fixed",a.style.height="auto",a.style.width="auto",a.style.transform="none",a.style.pointerEvents="all";else{let e=n.current,i=(0,f.Yb)(t,e);a.style.height=`${i.height}px`,a.style.width=`${i.width}px`,a.style.transform=`translate(${i.x+t.x}px, ${i.y+t.y}px) rotate(${e.angle}deg)`,a.style.transformOrigin="top left"}}},749484:(e,t,n)=>{n.d(t,{DD:()=>E,RJ:()=>_,ZU:()=>C,mc:()=>w});var i,a=n(716976),r=n(221086),s=n(980852),o=n(812714),l=n(146283),d=n(315125),c=n(795161),u=n(922214),p=n(354114),m=n(692042),h=n(835307),f=n(669436);let g=(0,d.m)(x,(i=(0,d.y)(6e4),(e,t)=>!t.deferred.result&&i(e,t)));function _(e){return g.useValue(e)}async function x(e){return await (0,r.OF)(()=>y(e),{times:20,interval:1e3})}async function y(e){let t=await v(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function v(e){let t=await p.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let n=await f.S.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==n.status||n.data.error)throw Error("api error while resolving video");return n.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let b=1/15;function C(e){let[t,n]=(0,a.useState)(!0),i=j(e),r=(0,m.qc)((0,m._X)({subscribeToUpdates_expensive:!1}));return(0,a.useEffect)(()=>{let e=0;i&&(e=i.x*i.y),n(e/(r.height*r.width)<b)},[i,r.height,r.width]),t}function E(e,{mediaPlayBadgeRadius:t=24}={}){let[n,i]=(0,a.useState)(!0),r=j(e),s=(0,m._X)({subscribeToUpdates_expensive:!1});return(0,a.useEffect)(()=>{r&&i(r.x*s.zoomScale<4*t||r.y*s.zoomScale<4*t)},[t,r,s.zoomScale]),n}function j(e){return(0,h.wA)((e,t)=>{let n=e.get(t);return n?n.size:null},e)}async function w(e,t,n,i){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let a=null;if(i&&(a=s.UN().get(i)?.videoPlayback),e)return e;t.style.height="100%",t.style.width="100%",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center";let r=void 0!==t.volume?t.volume:1,d=(0,o.kc)().buzz_video_trimming,m=d?a?.startTimeMs??0:0,h=d?a?.endTimeMs??0:0,f=m/1e3,g=h>0?h/1e3:null,_=await (0,u.Fe)();return new Promise(e=>{let i=_.videoJs(t,{muted:t.muted??!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{if((0,c.PN)()){i.src({type:"video/mp4",src:`https://static.figma.com/uploads/${n}`}),e(i);return}try{i.on("ready",()=>{i.volume(r),i.currentTime(f)}),i.on("timeupdate",()=>{let e=i.currentTime();null!==g&&void 0!==e&&e>=g&&(i.currentTime(f),i.play())});let t=await p.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");let a=`/api/files/${t.fileKey}/videos/${n}/manifest`;await (0,u.uz)(a,!0,i),e(i)}catch{try{let t=await y(n);l.k.warn("Reverting to fallback video source"),await (0,u.uz)(t,!1,i),e(i)}catch{e(null)}}})})}},954919:(e,t,n)=>{n.d(t,{QY:()=>o,Zk:()=>a,xw:()=>l});var i=n(795033);let a=(0,i.eU)({seen_fj_upsell_draft_modal_1:{fileKey:void 0,sessionId:0},seen_fj_upsell_draft_modal_2:{fileKey:void 0,sessionId:0},seen_fj_upsell_draft_modal_3:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_1:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_2:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_3:{fileKey:void 0,sessionId:0}}),r=(0,i.eU)({showing:!1,userFlag:null}),s=(0,i.eU)(e=>e(r),(e,t,n)=>{t(r,n)}),o=(0,i.eU)(e=>e(s)),l=(0,i.eU)(null,(e,t,{showing:n,userFlag:i=null})=>{t(s,{showing:n,userFlag:i})})},55538:(e,t,n)=>{n.d(t,{s:()=>eI});var i=n(104076),a=n(716976),r=n(903927),s=n(795033),o=n(997477),l=n(856909),d=n(192075),c=n(428147),u=n(366535),p=n(443192),m=n(249586),h=n(381059),f=n(719097),g=n(211862),_=n(295253),x=n(954919),y=n(511570),v=n.n(y),b=n(111297),C=n(461375);function E({name:e,onBadgeClick:t,text:n,trackingProperties:a,isLocked:r,children:s}){let o=r?"paid_status_badge_base--locked--z8YBo":e===l._Y.DEV_MODE_TRIAL?"paid_status_badge_base--devmode--u3XTd":"paid_status_badge_base--brand--7khqG";return(0,i.jsx)(b.fu,{name:e,properties:{...a,text:e},children:(0,i.jsxs)("div",{className:"paid_status_badge_base--container--e3rGO",children:[(0,i.jsx)(b.$z,{type:"button",className:"paid_status_badge_base--button--KgNx9","data-onboarding-key":C.l,onClick:t,children:(0,i.jsx)("span",{className:v()("paid_status_badge_base--badge---04yF text--fontPos11--2LvXf text--_fontBase--QdLsd",o),children:n})}),s]})})}function j({openFile:e}){let t=(0,C.I)(e.editorType),n=function(e){let t=(0,s.md)(f.UQ),n=(0,s.md)(h.zN),{getConfig:i}=(0,o.I7)("exp_free_badge_in_drafts_plan_comparison");return a.useMemo(()=>"design"===e&&t&&"loaded"===n.status&&!1===n.data&&!!i().getValue("free_badge_visible",!1),[e,t,n.status,n.data,i])}(e.editorType),r={fileKey:e.key,productType:(0,m.pi)(e)};return t?(0,i.jsx)(w,{trackingProperties:r}):n?(0,i.jsx)(T,{trackingProperties:r}):null}function w({trackingProperties:e}){let t=(0,r.wA)(),n=(0,s.md)(x.QY),a=(0,s.Xr)(x.xw),o=(0,s.md)(x.Zk),m=(0,r.d4)(e=>e.multiplayer.sessionID),h=(0,g.tS)();return(0,i.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{n.showing&&n.userFlag&&(a({showing:!1}),t(u.Lo()),t(p.b({[n.userFlag]:!0})),o[n.userFlag]={fileKey:h||void 0,sessionId:m}),t(u.to({type:c.V,data:{upsellSource:_.b.DRAFT_FILE_BADGE,openCheckoutInNewTab:!0}}))},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}function T({trackingProperties:e}){let t=(0,r.wA)();return(0,i.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{t(u.to({type:c.V,data:{upsellSource:_.b.DESIGN_DRAFT_FILE_BADGE,openCheckoutInNewTab:!0}}))},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}var k=n(812714),I=n(851824),S=n(217862),N=n(936817),A=n(788127),L=n(259936),O=n(392243),R=n(937505),P=n(105228),M=n(944350),D=n(853039),F=n(562311),B=n(268305),U=n(386216),H=n(449572),V=n(513369),G=n(555013),z=n(236631),K=n(911990),W=n(459494),Z=n(244205),q=n(332795),X=n(59849),Y=n(643330),J=n(132078);let Q="file_tracker_upsell_modal--walkThroughModal--NYXku pointer_modal--walkThroughModalAnimateFast--Xm453 pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",$="file_tracker_upsell_modal--modalContent--Jn4Rd",ee="file_tracker_upsell_modal--progressBar--IPGgx",et="file_tracker_upsell_modal--progressDefault--rdBIR",en="file_tracker_upsell_modal--progressDefaultV2--UK4N-",ei="file_tracker_upsell_modal--progressActiveV2--aJYjz file_tracker_upsell_modal--progressDefaultV2--UK4N-",ea="file_tracker_upsell_modal--progressWarningV2--eSiCe file_tracker_upsell_modal--progressDefaultV2--UK4N-",er="file_tracker_upsell_modal--progressActive--OS7iA file_tracker_upsell_modal--progressDefault--rdBIR",es="file_tracker_upsell_modal--progressWarning--pJlRr file_tracker_upsell_modal--progressDefault--rdBIR";function eo(e){let t;let{teamId:n,dismissModal:a,topPadding:r,pointerPaddingOffset:s}=e,o=(0,H.Rs)(X.bel,{teamId:n}),l=(0,g.q5)(),c=(0,S.y)(n,_.b.FILE_TRACKER_MODAL),u=(0,W.E9)(),p=q.h.useTrackingContext({trigger:_.b.FILE_TRACKER_MODAL});if(!l||"loaded"!==o.status)return null;if(u)t=(0,V.oA)(o.data.team?.teamFileCounts?.totalFileCount)??0;else switch(l.editorType){case"design":t=o.data.team?.teamFileCounts?.designFileCount??0;break;case"whiteboard":t=o.data.team?.teamFileCounts?.whiteboardFileCount??0;break;case"slides":t=parseInt(o.data.team?.teamFileCounts?.slideFileCount??"0")}if(void 0===t||0===t)return null;let h=t<D.WW?(0,d.tx)("fullscreen.file_tracker_modal.num_files_of_max_free_files_created",{numFiles:t,maxFreeFiles:D.WW}):(0,d.tx)("fullscreen.file_tracker_modal.this_is_your_last_free_file"),f=t<D.WW?(0,d.tx)("fullscreen.file_tracker_modal.starter_plans_are_free_but_they_limit_you_to_just_max_free_files",{maxFreeFiles:D.WW}):(0,d.tx)("fullscreen.file_tracker_modal.max_free_files_already_you_are_becoming_a_pro",{maxFreeFiles:D.WW}),x=[(0,d.t)("fullscreen.file_tracker_modal.unlimited_files_pages"),(0,d.t)("fullscreen.file_tracker_modal.audio_conversations_in_files"),(0,d.t)("fullscreen.file_tracker_modal.unlimited_version_history_and_more")],y={fileTeamId:n,numFiles:t,productType:(0,m.pi)(l),...p};return(0,i.jsx)(b.fu,{name:"File Tracker Modal",properties:y,children:(0,i.jsx)(J.CR,{animateQuickly:!0,className:Q,disableClickOutsideToHide:!0,dismissModal:a,pointerPaddingOffset:s,shouldCenterArrow:Y.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,targetKey:C.l,topPadding:r,width:330-2*J.uv,children:(0,i.jsxs)("div",{className:$,"data-testid":"fileTrackerUpsellModalContent",children:[(0,i.jsxs)("div",{className:ee,children:[(0,i.jsx)("div",{className:v()(er,{[es]:t>=D.WW})}),(0,i.jsx)("div",{className:v()(et,{[er]:t>1,[es]:t>=D.WW})}),(0,i.jsx)("div",{className:v()(et,{[es]:t>=D.WW})})]}),(0,i.jsx)("h1",{className:"file_tracker_upsell_modal--modalTitle--UVfa7",children:h}),(0,i.jsx)("p",{className:"file_tracker_upsell_modal--modalBody--x728y",children:f}),(0,i.jsx)("div",{className:z.s.font11.colorText.lh16.fontMedium.mb24.pr24.$,children:(0,i.jsx)(K.Y,{direction:"vertical",spacing:16,children:x.map((e,t)=>(0,i.jsxs)(K.Y,{direction:"horizontal",verticalAlignItems:"start",spacing:8,children:[(0,i.jsx)("span",{children:"\u2713"}),(0,i.jsx)("span",{children:e})]},t))})}),(0,i.jsx)(G.vd,{className:"file_tracker_upsell_modal--comparePlansButton--2oBV9",onClick:()=>{a(),c()},dataTestId:"fileTrackerUpsellModalCta",trackingProperties:{trackingDescriptor:Z.c.COMPARE_PLANS},children:(0,d.tx)("fullscreen.file_tracker_modal.compare_plans")})]})})})}var el=n(293422),ed=n(790009);n(120440);var ec=n(958251),eu=n(501001),ep=n(176203);function em(e){let t;let{teamId:n,dismissModal:a,topPadding:r,pointerPaddingOffset:s}=e,o=(0,H.Rs)(X.bel,{teamId:n}),l=(0,g.q5)(),c=(0,S.y)(n,_.b.FILE_TRACKER_MODAL),u=q.h.useTrackingContext({trigger:_.b.FILE_TRACKER_MODAL});if(!l||"loaded"!==o.status)return null;let p=l.editorType===M._Y.SITES||l.editorType===M._Y.DESIGN;switch(l.editorType){case"design":case"sites":t=(o.data.team?.teamFileCounts?.designFileCount??0)+parseInt(o.data.team?.teamFileCounts?.sitesFileCount??"0");break;case"whiteboard":t=o.data.team?.teamFileCounts?.whiteboardFileCount??0;break;case"slides":t=parseInt(o.data.team?.teamFileCounts?.slideFileCount??"0")}if(void 0===t||0===t)return null;let h=(0,d.tx)("fullscreen.file_tracker_modal.num_files_of_max_free_files_product_type_created",{numFiles:t,maxFreeFiles:D.WW,productStr:"sites"===l.editorType||"design"===l.editorType?(0,d.t)("fullscreen.file_tracker_modal.figma_design_and_figma_sites"):(0,eu.VG)((0,ec.wR)(l.editorType))}),f=(0,d.tx)("fullscreen.file_tracker_modal.upgrade_your_plan_for"),x=[(0,d.t)("fullscreen.file_tracker_modal.unlimited_files_folders"),(0,d.t)("fullscreen.file_tracker_modal.advanced_prototyping"),(0,d.t)("fullscreen.file_tracker_modal.team_wide_design_library")],y={fileTeamId:n,numFiles:t,productType:(0,m.pi)(l),...u};return(0,i.jsx)(b.fu,{name:"File Tracker Modal V2",properties:y,children:(0,i.jsx)(ed.J,{brand:(0,ep.aj)(l.editorType??M._Y.DESIGN),children:(0,i.jsx)(J.CR,{animateQuickly:!0,className:Q,disableClickOutsideToHide:!0,dismissModal:a,pointerPaddingOffset:s,shouldCenterArrow:Y.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,targetKey:C.l,topPadding:r,width:260-2*J.uv,children:(0,i.jsxs)("div",{className:$,"data-testid":"fileTrackerUpsellModalContent",children:[(0,i.jsxs)("div",{className:ee,children:[(0,i.jsx)("div",{className:v()(ei,{[ea]:t>=D.WW})}),(0,i.jsx)("div",{className:v()(en,{[ei]:t>1,[ea]:t>=D.WW})}),(0,i.jsx)("div",{className:v()(en,{[ea]:t>=D.WW})})]}),(0,i.jsxs)("h1",{className:"x1j61x8r x1akne3o x1e56ztr xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:[h," ",p&&(0,i.jsx)(G.CY,{href:"https://help.figma.com/hc/articles/33543548184215",target:"_blank",trusted:!0,children:(0,d.t)("fullscreen.file_tracker_modal.learn_more")})]}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x12sbs06",children:(0,i.jsxs)(K.Y,{direction:"vertical",spacing:8,children:[(0,i.jsx)("p",{children:f}),x.map((e,t)=>(0,i.jsxs)(K.Y,{direction:"horizontal",verticalAlignItems:"start",spacing:8,children:[(0,i.jsx)("span",{children:"\u2713"}),(0,i.jsx)("span",{children:e})]},t))]})}),(0,i.jsx)(el.IK,{onClick:()=>{a(),c()},children:(0,d.tx)("fullscreen.file_tracker_modal.view_plans")})]})})})})}var eh=n(171660);function ef({dismissModal:e,teamId:t}){let n=(0,r.wA)(),a=(0,P.TN)(t);return(0,i.jsx)(b.fu,{name:"Pro trial upsell modal",properties:B.ng.getTrackingProperties(),children:(0,i.jsx)(J.CR,{width:300,targetKey:C.l,dismissModal:e,shouldCenterArrow:Y.EL.FALLBACK,hideCloseButton:!0,children:(0,i.jsxs)("div",{className:"pro_trial_upsell_modal--container--vCFd5",children:[(0,i.jsx)("div",{children:(0,i.jsx)(eh.E,{fontSize:13,fontWeight:"semi-bold",children:(0,d.tx)("fullscreen.pro_trial_upsell_modal.title",{numOfDaysLeft:a?.daysLeft})})}),(0,i.jsx)("p",{className:"pro_trial_upsell_modal--textContainer--kGoDm",children:(0,i.jsx)(eh.E,{fontSize:11,children:(0,d.tx)("fullscreen.pro_trial_upsell_modal.description")})}),(0,i.jsx)("div",{className:"pro_trial_upsell_modal--btnContainer--wZVCK",children:(0,i.jsx)(G.vd,{trackingProperties:{trackingDescriptor:Z.c.UPGRADE_FROM_FILENAME_PRO_BADGE,...B.ng.getTrackingProperties("Upgrade now")},onClick:()=>{e(),n((0,u.to)({type:c.V,data:{teamId:t,upsellSource:_.b.PRO_TRIAL_UPSELL_MODAL,openCheckoutInNewTab:!0}}))},children:(0,d.t)("fullscreen.pro_trial_upsell_modal.cta_text")})})]})})})}var eg=n(778612),e_=n(649266);let ex=(0,k.kc)().sites_design_starter_combined_file_limit;function ey({openFile:e,team:t}){let n=(0,R.FC)(),s=(0,P.TN)(t.id),o=t.restrictionsList?.includes(M.P4.LOCKED),l=(0,r.d4)(e=>e.isOpenFileLoadedFromLiveGraph),d=(0,g.MY)().errors,c=!(0,D.XX)(t)&&(0,F.canEditTeam)(t.id,n),u=t.canEdit&&e.plan?.tier===M.Ag.STARTER,[p,h]=a.useState(!1);a.useEffect(()=>{if(l&&!p){let e=setTimeout(()=>{h(!0)},100);return()=>clearTimeout(e)}},[l,p]);let f=(0,L.u8)({oldValue:c,newValue:u,newValueReady:l&&p,label:A.A.TeamPaidStatusBadge.canEditStarterTeam,enableFullRead:(0,N.DQ)(N.Pw.GROUP_8),contextArgs:{canEdit:t.canEdit,planTier:e.plan?.tier,isOpenFileLoadedFromLiveGraph:l,numOpenFileErrors:Array.isArray(d)?d.length:-1}}),_=(0,eg.iG)(t),x={fileKey:e.key,fileTeamId:t.id,productType:(0,m.pi)(e)};return B.ng.canSeeProTrialUxInFile(s,e)?(0,i.jsx)(eb,{trackingProperties:x,teamId:t.id}):o?(0,i.jsx)(eC,{trackingProperties:x,teamId:t.id,proTrial:s,canEditTeam:f,isProOrOnceEdu:_}):f?(0,i.jsx)(eE,{openFile:e,permissionsState:n,trackingProperties:x,teamId:t.id}):null}function ev(){let[e,t]=a.useState(!1);return[e,(0,I.A)(e=>{t(e)},200,{leading:!0,trailing:!1})]}function eb({teamId:e,trackingProperties:t}){let[n,a]=ev();return(0,i.jsx)(E,{name:l._Y.PRO_TRIAL,onBadgeClick:()=>a(!0),text:(0,d.t)("fullscreen.filename_view.pro_trial"),trackingProperties:{...t,...B.ng.getTrackingProperties()},children:n&&(0,i.jsx)(ef,{teamId:e,dismissModal:()=>a(!1)})})}function eC({teamId:e,proTrial:t,trackingProperties:n,canEditTeam:a,isProOrOnceEdu:s}){let o=(0,r.wA)(),p=(0,U.jn)(),m=B.ng.canSeeProTrialExpiryUx(t),h=m?l._Y.PRO_TRIAL_EXPIRED:l._Y.LOCKED,f=m?_.b.PRO_TRIAL_UPSELL_MODAL:_.b.LOCKED_TEAM_FILE_BADGE;return(0,i.jsx)(E,{name:h,onBadgeClick:()=>{if(p)return null;e&&!s?o(u.to({type:e_.t,data:{teamId:e,canEditTeam:a}})):a&&o(u.to({type:c.V,data:{teamId:e,upsellSource:f}}))},text:m?(0,d.t)("fullscreen.filename_view.trial_expired"):(0,d.t)("fullscreen.filename_view.locked"),trackingProperties:{...n,...m?B.ng.getTrackingProperties():{}},isLocked:!0})}function eE({openFile:e,permissionsState:t,trackingProperties:n,teamId:a}){let r=(0,C.I)(e.editorType),s=(0,O.jd)(t.openFile?.project);return r&&!ex?(0,i.jsx)(ek,{trackingProperties:n,teamId:a}):s?(0,i.jsx)(ej,{trackingProperties:n,teamId:a}):(0,i.jsx)(eT,{openFile:e,trackingProperties:n,teamId:a})}function ej({trackingProperties:e,teamId:t}){let n=(0,S.y)(t,_.b.STARTER_TEAM_FILE_BADGE);return(0,i.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>n(),text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}let ew=[M._Y.DESIGN,M._Y.WHITEBOARD,M._Y.SLIDES,...ex?[M._Y.SITES]:[]];function eT({openFile:e,trackingProperties:t,teamId:n}){let[a,r]=ev(),s=(0,S.y)(n,_.b.STARTER_TEAM_FILE_BADGE);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{e.editorType&&ew.includes(e.editorType)?r(!0):s()},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:t}),a&&(ex?(0,i.jsx)(em,{teamId:n,dismissModal:()=>r(!1),topPadding:4,pointerPaddingOffset:-32}):(0,i.jsx)(eo,{teamId:n,dismissModal:()=>r(!1),topPadding:4,pointerPaddingOffset:-32}))]})}function ek({trackingProperties:e,teamId:t}){let n=(0,S.y)(t,_.b.STARTER_TEAM_FILE_BADGE),a=(0,r.wA)(),o=(0,s.md)(x.QY),c=(0,s.Xr)(x.xw);return(0,i.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{o.showing&&o.userFlag&&(c({showing:!1}),a(u.Lo()),a(p.b({[o.userFlag]:!0}))),n()},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}function eI({openFile:e}){return e.team?(0,i.jsx)(ey,{openFile:e,team:e.team}):(0,i.jsx)(j,{openFile:e})}},461375:(e,t,n)=>{n.d(t,{I:()=>l,l:()=>o});var i=n(716976),a=n(795033),r=n(381059),s=n(719097);let o="file_paid_status_badge_onboarding_key";function l(e){let t=(0,a.md)(s.UQ),n=(0,a.md)(r.zN);return i.useMemo(()=>"whiteboard"===e&&t&&"loaded"===n.status&&!1===n.data,[e,t,n.status,n.data])}},255578:(e,t,n)=>{n.d(t,{A:()=>E});var i=n(104076),a=n(389169),r=n(553224),s=n(812714),o=n(192075),l=n(854972),d=n(615782),c=n(248043),u=n(944350),p=n(894210),m=n(700411),h=n(219199),f=n(221586),g=n(560201);let _="hub_file_tooltips--hubFileInfo--mO1Xa text--fontPos11--2LvXf text--_fontBase--QdLsd",x="hub_file_tooltips--handle--n3W-M",y="hub_file_tooltips--link--fRVPc blue_link--blueLink--9rlnd",v=(0,g.ex)("hub_file_in_review",function(e){let{url:t}=e,n=(0,f.Gc)(e=>{e.preventDefault(),h.Ay.redirect(t,"_blank")});return(0,i.jsxs)(m._,{newTab:!0,trusted:!0,href:t,className:_,htmlAttributes:{onMouseDown:n},children:[(0,i.jsx)("span",{className:x,children:(0,o.tx)("community.tooltip.is_currently_in_review")}),(0,i.jsx)("div",{className:y,children:(0,o.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})},e=>({url:e.getAttribute("data-tooltip-hub-file-url")||""})),b=(0,g.ex)("hub_file_info",function(e){let{lastPublishedAt:t,url:n}=e,a=(0,f.Gc)(e=>{e.preventDefault(),h.Ay.redirect(n,"_blank")});return(0,i.jsxs)(m._,{newTab:!0,trusted:!0,href:n,className:_,htmlAttributes:{onMouseDown:a},children:[(0,i.jsx)("span",{className:x,children:(0,o.tx)("community.tooltip.published_to_community_on_date",{date:t})}),(0,i.jsx)("div",{className:y,children:(0,o.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})},e=>{let t=e.getAttribute("data-tooltip-hub-file-url")||"";return{lastPublishedAt:e.getAttribute("data-tooltip-hub-file-last-published-at")||"",url:t}}),C=(0,g.ex)("hub_file_info_unverified",function(e){let{verificationStatus:t}=e;return(0,i.jsx)("div",{className:_,children:(0,i.jsx)("span",{className:x,children:t})})},e=>({verificationStatus:e.getAttribute("data-tooltip-hub-file-verification-status")}));function E(){let e=(0,l.JT)();return e?(0,i.jsx)(j,{hubFile:e}):null}function j({hubFile:e}){let t;let n=(0,d.Vz)(e.id);if(e.unpublishedAt)return null;let{currentHubFileVersion:l}=e,m=(0,o.t)("fullscreen.filename_view.hub_file_published_at",{publish_date:new Date(l.createdAt)}),h=e.verificationStatus===u.iS.BLOCKED?(0,o.t)("community.tooltip.this_community_file_is_currently_blocked"):e.verificationStatus===u.iS.UNVERIFIED?(0,o.t)("community.tooltip.this_community_file_is_currently_unverified"):"",f=e.verificationStatus===u.iS.BLOCKED||e.verificationStatus===u.iS.UNVERIFIED,g=e.publishingStatus===u.KB.PENDING_PUBLIC||e.publishingStatus===u.KB.PENDING_USER_VISUAL_COMPLIANCE;return f?t=C:g?t=v:(0,s.kc)().hub_file_info_tooltip&&(t=b),(0,i.jsx)("div",{className:f?"hub_file_backlink--publicIconDisabled--ESBVX hub_file_backlink--publicIconBase--uhtkz":"hub_file_backlink--publicIcon--gl5n8 hub_file_backlink--publicIconBase--uhtkz","data-testid":"filename-view-public-icon","data-tooltip":t,"data-tooltip-hub-file-last-published-at":m,"data-tooltip-hub-file-url":(0,c.X$)(e.id),"data-tooltip-hub-file-verification-status":h,"data-tooltip-interactive":!0,"data-tooltip-max-width":300,"data-tooltip-offset-y":0,"data-tooltip-type":p.Ib.SPECIAL,onClick:f?void 0:n,children:f?(0,i.jsx)(a.N,{}):(0,i.jsx)(r.m,{})})}},859802:(e,t,n)=>{n.d(t,{v7:()=>eT,Lx:()=>ev});var i=n(104076),a=n(716976),r=n(903927),s=n(17933),o=n(498349),l=n(80969),d=n(602755),c=n(790009),u=n(266808),p=n(795033),m=n(120440),h=n(511570),f=n.n(h),g=n(851824),_=n(983500),x=n(633065),y=n(219199),v=n(166887),b=n(221586),C=n(2713),E=n(690824),j=n(264830),w=n(11395),T=n(903853),k=n(555013),I=n(72138),S=n(236631),N=n(192075),A=n(489175),L=n(147046),O=n(850701),R=n(443192);n(244399);var P=n(551037),M=n(406954),D=n(835258),F=n(54092),B=n(565854),U=n(211862),H=n(915013),V=n(67154),G=n(205088),z=n(549794);n(286132);var K=n(40452),W=n(894210),Z=n(530091),q=n(228439);n(882726),n(215853),n(819222);var X=n(404343);(0,_.hG)(X.rJv);var Y=(e=>(e.VOICE="voice",e))(Y||{}),J=n(681398),Q=n(366535);n(377692);var $=n(249586),ee=n(571430);n(592726);var et=n(944350),en=n(459496),ei=n(498726),ea=n(176203),er=n(278151),es=n(103345);n(316427);var eo=n(297753),el=n(49875),ed=n(623355),ec=(e=>(e[e.NO_CALL_STATE=0]="NO_CALL_STATE",e[e.JOIN_CALL_STATE=1]="JOIN_CALL_STATE",e[e.IN_CALL_WIDGET_OPEN=2]="IN_CALL_WIDGET_OPEN",e[e.IN_CALL_WIDGET_CLOSED=3]="IN_CALL_WIDGET_CLOSED",e))(ec||{});function eu(e){let t=(0,r.Pj)(),n=(0,U.q5)(),a=(0,r.d4)(e=>e.orgById),s=(0,r.d4)(e=>e.teams),o=(0,r.d4)(e=>e.selectedView?.editorType),l=(0,r.d4)(e=>"prototype"===e.selectedView.view),d=o===ea.nT.Design||o===ea.nT.Whiteboard||o===ea.nT.DevHandoff||o===ea.nT.Slides||o===ea.nT.Illustration,c=(0,r.wA)();if(J.XN||!n||l||!d)return null;let u=(0,K.YL)({openFile:n,teams:s,orgById:a});if(u===K.gW.FEATURE_DISABLED)return null;if(u===K.gW.ELIGIBLE_WITH_UPGRADE)return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{className:ed.WF,"data-onboarding-key":en._2,onClick:()=>{let e=n.teamId&&s[n.teamId];if(!e)return;(0,$.ds)("CTA Clicked",n.key,t.getState(),{name:"Disabled Voice Call Button"});let i=o===ea.nT.Whiteboard?et._Y.WHITEBOARD:et._Y.DESIGN;c(Q.to({type:es.DV,data:{team:e,resource:ei.Bi.AUDIO,action:er.pE.USE_AUDIO,editorType:i,currentPlan:ee.F.Plan.STARTER,upsellPlan:ee.F.Plan.PRO}}))},children:(0,i.jsx)(eo.A.HeadphonesIcon,{className:ed.tL,size:32})})});if(u!==K.gW.ELIGIBLE){let e=u===K.gW.DISABLED_BY_ORG?(0,N.t)("collaboration.voice.audio_has_been_disabled_by_your_organization"):(0,N.t)("collaboration.voice.to_use_audio_in_this_file_move_it_to_a_team_on_one_of_our_paid_plans");return(0,i.jsx)("span",{className:ed.WF,"data-tooltip-type":W.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":e,children:(0,i.jsx)(eo.A.HeadphonesIcon,{className:ed.sl,size:32})})}return(0,i.jsx)("div",{className:ed.Te,children:(0,i.jsx)(el.K,{fileKey:n.key,className:ed.iw,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,N.t)("collaboration.voice.start_conversation"),hidePopover:e.hidePopover,children:(0,i.jsx)("span",{className:ed.iG,children:(0,i.jsx)("span",{"data-onboarding-key":"audio-nux-key",className:ed.zc,children:(0,i.jsx)(eo.A.HeadphonesIcon,{className:ed.tL,size:32})})})})})}var ep=n(813141),em=n(127082),eh=n(167151),ef=n(782803);n(152469);var eg=n(814664);n(286911);var e_=n(699745);let ex="multiplayer-nickname-dropdown",ey=((0,D.ck)(),(0,_.jz)(X.rJv));function ev(e,t,n,i,a,r,s){if(!a)return;let o=e.sessionID,l=o===t,d=r&&r.sessionID===t;if(l&&d)s();else if(i){let t=a.observingSessionID===o||a.sessionID===o?-1:e.sessionID,i=-1!==a.observingSessionID,r=a.observingSessionID!==o&&a.sessionID!==o;i&&n((0,G._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:a.observingSessionID,multiplayerSessionID:a.sessionID}})),r&&(n((0,G._P)({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:o,multiplayerSessionID:a.sessionID}})),n(R.b({aware_of_observation_mode:!0}))),n(O.J4({...a,observingSessionID:t}))}else u.h3O&&(u.h3O.observeUser(o),a.observingSessionID!==o&&a.sessionID!==o&&n(R.b({aware_of_observation_mode:!0})))}function eb(e){let{query:t,usersToSearch:n}=e,[i,r]=a.useState(n),s=a.useRef(!1),o=(0,v.am)(),l=a.useRef(!1),d=l.current,c=a.useCallback(async e=>{if(""===e)r(n);else{s.current=!1;let t=await (0,eg.n)(e,n);s.current||(r(t.map(e=>e.item)),d||(o("Multiplayer Tools User Search",{otherUserSessionsCount:n.length}),l.current=!0))}},[d,o,n]),u=(0,g.A)(c,200);return a.useEffect(()=>(u(t),()=>{u.cancel(),s.current=!0}),[u,t,n]),{searchResults:i}}let eC=(0,a.forwardRef)(function(e,t){let{query:n,setQuery:r}=e,s=a.useRef(null);return(0,i.jsx)("div",{ref:t,className:e_.MT,children:(0,i.jsx)(l.D,{ref:s,"aria-label":(0,N.t)("search.search_file_users"),autoFocus:!0,onChange:r,onClick:A.dG,placeholder:(0,N.t)("collaboration.spotlight.menu.search.placeholder"),spellCheck:!1,value:n})})});function eE({currentUser:e,peopleList:t,previousViewerList:n,onUserClick:l,shouldDisableSpotlight:d,spotlightDisabledReason:u,containerProps:h,multiplayer:f,orgPathPart:g,isSites:_,nominatePresenter:v,cancelPresenterNomination:w,hidePopover:A}){let O=(0,a.useRef)(null),R=(0,a.useRef)(null),[P,M]=(0,p.fp)(E.ah),[D,F]=(0,p.fp)(E.Dv),[U,G]=a.useState(310),z=(0,a.useRef)(null),[K,Z]=a.useState(0),X=(0,r.wA)(),Y=(0,j.Av)(),J=Math.min(window.innerHeight-Y-22,465);a.useLayoutEffect(()=>{O.current&&R.current&&G(Math.min(J-O.current.offsetHeight-R.current.offsetHeight-16*K,310))},[J,K]);let Q=(0,a.useCallback)(()=>{d||M(!0)},[M,d]),{start:$,cancel:ee}=(0,V.Z)(Q),et=(0,a.useCallback)(()=>{ee(),M(!1)},[ee,M]),en=(0,C.Vi)(),ei=(0,a.useCallback)(()=>{d||(en(),et(),F(!0),X(L.oB()),A())},[et,X,F,en,d,A]),ea=(0,C.B4)(),er=(0,a.useCallback)(()=>{ea(),X(L.oB()),A()},[X,ea,A]),es=(0,H.dR)(),eo=es&&e.sessionID===es.sessionID?(0,i.jsx)(T.pz,{onClick:er,className:e_.BK,children:(0,N.tx)("collaboration.spotlight.button.stop")}):(0,i.jsx)(k.$$,{onClick:ei,className:e_.BK,onMouseOver:()=>{$(300)},onMouseLeave:et,disabled:d,"data-dropdown-tooltip":d&&u?u:void 0,"data-tooltip-type":W.Ib.TEXT,"data-tooltip-show-below":!0,children:(0,N.tx)("collaboration.spotlight.tooltip.spotlight_me")}),el=t.length+(n?.length??0)>8,[ed,ec]=a.useState(""),{searchResults:em}=eb({query:ed,usersToSearch:t}),{searchResults:eh}=eb({query:ed,usersToSearch:n??[]}),ef=em.length>0&&eh.length>0,eg=em.length>0||eh.length>0,ex=0===em.length&&0===eh.length,ev=(0,i.jsx)("div",{className:e_.zW,children:(0,i.jsx)("div",{className:e_.me})});(0,a.useEffect)(()=>{Z((el?1:0)+(""!==ed&&ex?1:0)+(eg?1:0))},[el,ed,ex,eg]);let eE=(e,t)=>{let n=(0,b.Gc)(()=>{let t=`/files${g}/user/${e.userID}`;y.Ay.redirect(t,x.eD?void 0:"_blank")}),a=[],r=f.sessionNominatedByCurrentUser===e.sessionID,s=f.presenterSessionID===e.sessionID,o=_&&!!e.sitesViewState&&(0,ep.a)(e.sitesViewState);return!t||s||d||(r?a.push({text:(0,N.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,B.AD)(e)&&w(e.sessionID,f)},key:"cancel-ask-to-spotlight"}):a.push({text:(0,N.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,B.AD)(e)&&v(e.sessionID,f)},disabled:o,key:"ask-to-spotlight"})),a.push({text:(0,N.tx)("avatar.tooltip.view_profile"),onClick:e=>{n(e)},key:"view-profile"}),(0,i.jsx)(q.Q,{user:e,isOverflow:!0,onUserClick:t?l:void 0,secondaryActions:a,hidePopover:A},e.sessionID)},ej=(0,i.jsxs)(c.J,{mode:"dark",children:[(0,i.jsxs)("div",{ref:O,className:e_.Km,children:[(0,i.jsx)(q.Q,{user:e,isOverflow:!0,isCurrentUserHeaderRow:!0}),(0,i.jsxs)("div",{className:e_.Vr,children:[eo,(0,i.jsx)(eu,{hidePopover:A})]})]}),el&&(0,i.jsxs)(i.Fragment,{children:[ev,(0,i.jsx)("div",{className:e_.zK,ref:R,children:(0,i.jsx)(eC,{query:ed,setQuery:ec})})]}),""!==ed&&ex&&(0,i.jsxs)(i.Fragment,{children:[ev,(0,i.jsx)("div",{className:`${e_.hg} ${S.s.mb8.$}`,children:(0,N.tx)("fullscreen.toolbar.multiplayer.no_user_found")})]}),eg&&(0,i.jsxs)(i.Fragment,{children:[ev,(0,i.jsxs)(I.P,{width:ey-16,maxHeight:U,scrollBarAlways:!0,disableScrollbarBorder:!0,ref:z,children:[ef&&(0,i.jsx)("h2",{className:e_.hg,children:(0,N.tx)("fullscreen.toolbar.multiplayer.currently_viewing")}),em.length>0&&em.map(e=>(0,i.jsx)(a.Fragment,{children:eE(e,!d)},`currentViewer-${e.userID}`)),eh.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:e_.hg,children:(0,N.tx)("fullscreen.toolbar.multiplayer.previously_viewed")}),eh.map(e=>(0,i.jsx)(a.Fragment,{children:eE(e,!1)},`previousViewer-${e.userID}`))]})]})]})]});return(0,i.jsx)(s.mc,{...h(m.Ay.props(ew.popoverContainer(J,ey))),children:(0,i.jsx)(o.i,{children:ej})})}let ej={kWkggS:"xon4yw5",keoZOQ:"x7hzu26",kaIpWk:"x1mxnbhz",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",kmVPX3:"xf7z5ut",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",kB7OPa:"x9f619",kskxy:"x1jols5v",kzqmXN:"x5lhr3w",$$css:!0},ew={popoverContainer:(e,t)=>[ej,{"--x-maxHeight":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`)}]},eT=a.memo(function(e){let t;let{multiplayer:n,currentUser:o,onUserClick:l,thresholdUsesContainerWidth:c}=e,m=(0,a.useRef)(null),h=(0,a.useRef)(null),g=(0,a.useRef)(null),_=(0,a.useRef)(null),x=(0,B.wF)(),y=(0,P.k)(),b=(0,w.WN)(),[j,T]=a.useState(!1),[k,I]=a.useState(!1),S=(0,em.Oc)(),{getTriggerProps:L,getContainerProps:O}=s.fP({isOpen:j,onOpenChange:T,type:"dialog",softDismiss:!0}),R=S?{ref:void 0}:L(),D=!S&&j,U=(0,a.useMemo)(()=>n.allUsers.filter(e=>e.sessionID!==o?.sessionID),[n.allUsers,o]),V=(0,r.d4)(e=>"prototype"===e.selectedView.view||"presentation"===e.selectedView.view),G=(0,F.Zr)("spotlight-me"),K=(0,ep.G)(),X=!V&&(e.disableFollowing||!G);X&&K&&(t=(0,N.t)("left_rail.only_available_on_canvas"));let[Y,J]=(0,p.fp)(E.ah);Y&&!D&&J(!1);let Q=m.current&&h.current?m.current.clientWidth-h.current.clientWidth:void 0,$=(0,B.Wq)(Q,c),{users:ee,overflowUsers:et}=(0,B.uC)(U,null,!1,$),en=(0,a.useMemo)(()=>[...ee,...et].filter(e=>e&&e.userID!==o.userID),[et,ee,o]),ei=(0,a.useMemo)(()=>x?.filter(e=>!en.some(t=>e.userID===t.userID)&&e.userID!==o.userID),[en,x,o]),ea=(0,v.am)(),er=(0,a.useCallback)(e=>{(0,A.dG)(e),h.current&&(j||S||ea("Multiplayer Tools Opened",{currentUserSessionID:o.sessionID,otherUserSessionsCount:en.length}))},[h,j,ea,o.sessionID,en.length,S]),es=(0,H.dR)(),eo=es&&es.sessionID!==o.sessionID?es:null,el=(0,z.q)(),ed=(0,C.tu)(),ec=(0,C.oJ)(),eu=(0,eh.cJ)(),eg=en.length+1,ex=(0,i.jsx)(ef.s,{featured:eo,quickAccess:ee,maxVisibleUsers:B.A8-1,onUserClick:l,totalUserCount:eg}),ey=(0,i.jsx)(Z.x,{children:(0,i.jsxs)("button",{"aria-expanded":S?void 0:j,"aria-label":(0,N.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),className:f()({[e_.XE]:!0,[e_.yx]:et.length>0,[e_.Ge]:0===et.length,[e_.wH]:D,[e_.yo]:!D&&k&&!S}),"data-tooltip":(0,N.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"data-tooltip-offset-x":h.current&&_.current?h.current.offsetWidth/2-_.current.offsetWidth/2-1.5:0,"data-tooltip-offset-y":h.current&&m.current?m.current.clientHeight/2-h.current.clientHeight/2:0,"data-tooltip-type":W.Ib.TEXT,id:"multiplayer-toolbar-container",onClick:A.dG,onKeyDownCapture:e=>{(0,M.hx)({e,onClickHandler:e=>{y?b(u.rcl.FOLLOW_PRESENTER):er(e)},onEscapeHandler:()=>{h?.current?.blur()}})},onMouseDownCapture:e=>{y?b(u.rcl.FOLLOW_PRESENTER):er(e)},onMouseLeave:()=>{I(!1)},onMouseOverCapture:e=>{I(!0),(0,A.dG)(e)},...R,ref:e=>{h.current=e;let t=R.ref;t&&t(e)},children:[(0,i.jsx)("span",{ref:g,className:e_.r9,children:(0,i.jsx)(q.Q,{user:o,isOverflow:!1},o.sessionID)},o.sessionID),(0,i.jsxs)("span",{"data-onboarding-key":"multiplayer-spotlight-nux-key",className:e_.rR,children:[et.length>0&&(0,i.jsx)("span",{className:f()({[e_.zk]:!0,[e_.r9]:!0,[e_.wH]:D,[e_.yo]:!D&&k&&!S}),style:{minWidth:eg<10?8:eg<100?15:22},children:`${eg}`}),!S&&(0,i.jsx)("span",{ref:_,children:(0,i.jsx)(d.O,{className:f()({[e_.ai]:!0,[e_.wH]:D})})})]})]})});return(0,i.jsxs)("span",{className:e_.EI,ref:m,"data-onboarding-key":"multiplayer-users-container",children:[(0,i.jsxs)(i.Fragment,{children:[ey,ex]}),(0,i.jsx)(eE,{cancelPresenterNomination:ec,containerProps:O,currentUser:o,hidePopover:()=>{T(!1)},isSites:eu,multiplayer:n,nominatePresenter:ed,onUserClick:l,orgPathPart:el,peopleList:en,previousViewerList:ei,shouldDisableSpotlight:X,spotlightDisabledReason:t})]})}),ek="multiplayer-users-dropdown"},286911:(e,t,n)=>{n.d(t,{sK:()=>I,vQ:()=>k});var i=n(104076),a=n(716976),r=n(511570),s=n.n(r),o=n(518016),l=n.n(o),d=n(983500),c=n(328341),u=n(755444),p=n(264830),m=n(915013),h=n(826160),f=n(514189),g=n(404343),_=n(699745);let x=e=>e?13:14,y=(0,d.jz)(g.Ocz),v=(0,d.jz)(g.bnr),b=e=>e?v:y,C=(0,d.jz)(g.Ko3);var E=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.NONE="none",e))(E||{}),j=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.DESELECTED="deselected",e.NONE="",e))(j||{});let w=e=>{let t=e.user.sessionID===e.observingSessionID,n=e.user.sessionID===e.presenterSessionID;return t?"selected":n?"presenting":"none"},T=l()([{current:"none",selected:"selected",presenting:"presenting",none:""},{current:"selected",selected:"selected",presenting:"presenting",none:"deselected"},{current:"presenting",selected:"selected",presenting:"presenting",none:""}],e=>e.current);function k(e){let t;let{user:n,tooltipOffsetY:r}=e;(0,p.Av)();let o=function({user:e,observingSessionID:t,presenterSessionID:n,nominatedSessionID:i,disableSpotlightAnimation:r}){let[s,o]=a.useState(""),l=(0,c.ZC)({user:e,observingSessionID:t,presenterSessionID:n,nominatedSessionID:i}),d=a.useMemo(()=>({user:e,observingSessionID:t,presenterSessionID:n,nominatedSessionID:i}),[t,n,e,i]);return a.useEffect(()=>{let e="";if(!r){let t=w(d);e=T[l&&w(l)||"none"][t]}o(e)},[d,l,r]),s}({user:n,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID,disableSpotlightAnimation:e.disableSpotlightAnimation}),l=_.qb,d=(0,m.Ww)(),u=w(a.useMemo(()=>({user:e.user,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID}),[e.observingSessionID,e.presenterSessionID,e.user,e.nominatedSessionID])),g=n.sessionID===d?.sessionID?"var(--color-bg-brand)":n.color,y=b(!0),v=x(!0);return e.hasBorder&&(t="none"===u?"outward":"inward"),(0,i.jsx)("div",{className:s()({[_.C7]:!e.horizontal,[_._L]:e.horizontal}),children:(0,i.jsxs)(f.W,{id:e.tooltipProxyId,user:{id:n.userID,handle:n.name,sessionId:n.sessionID},tooltipOffsetY:r,children:[(0,i.jsx)("svg",{className:`multiplayer-animation-svg ${e.horizontal?"horizontal":""}`,viewBox:`0 0 ${y} ${C}`,"aria-hidden":"true",children:(0,i.jsx)("circle",{className:`multiplayer-animation-circle ${e.horizontal?"horizontal":""} ${o}`,cx:y/2,cy:C/2,r:v,fill:"none",stroke:g,strokeWidth:"2"})},"multiplayer-animation-svg"),e.showColorIndicators&&(0,i.jsx)("div",{className:`multiplayer-animation-droplet${e.horizontal?"-horizontal":""} ${o}`,"data-avatar-color-bar":!0,style:{backgroundColor:g}},"multiplayer-animation-droplet"),(0,i.jsx)("div",{className:l,children:(0,i.jsx)(h.Ro,{entity:{...n,id:n.userID},className:_.ws,borderStyle:t})})]})})}let I=a.memo(function(e){let t=b(e.isUI3),n=x(e.isUI3),a=`
  @layer css-modules {
    .multiplayer-animation-svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: ${t}px;
    }

    .multiplayer-animation-droplet {
      left: ${t/2-n/2}px;
      top: 0px;
      height: 2px;
      width: ${n}px;
      border-radius: 0px;
      position: absolute;
    }

    .multiplayer-animation-droplet-horizontal {
      left: 0px;
      top: 50%;
      transform: translateY(-50%);
      height: ${n}px;
      width: 2px;
      border-radius: 0px;
      position: absolute;
    }

    .multiplayer-animation-droplet.selected {
      animation: droplet 0.3s ease-in forwards;
    }

    .multiplayer-animation-droplet-horizontal.selected {
      animation: droplet-horizontal 0.3s ease-in forwards;
    }

    .multiplayer-animation-droplet.deselected {
      animation: droplet-reverse 0.2s ease-out 0.4s forwards;
      left: ${t/2-n/4}px;
      top: 0px;
      height: 0px;
      width: 0px;
      border-radius: 0px;
    }

    .multiplayer-animation-droplet-horizontal.deselected {
      animation: droplet-horizontal-reverse 0.2s ease-out 0.4s forwards;
      left: ${t/2-n/4}px;
      height: 0px;
      width: 0px;
      border-radius: 0px;
    }

    .multiplayer-animation-circle {
      stroke-dasharray: 400;
      stroke-dashoffset: 400;
      transform-origin: center;
      transform: rotateZ(-90deg);
    }

    .multiplayer-animation-circle.horizontal {
      transform: rotateZ(-180deg);
    }

    .multiplayer-animation-circle.selected {
      animation: draw-circle 0.15s ease-in 0.3s forwards;
    }

    .multiplayer-animation-circle-horizontal.selected {
      animation: draw-circle-horizontal 0.15s ease-in 0.3s forwards;
    }

    .multiplayer-animation-circle.deselected {
      animation: draw-circle-reverse 0.4s ease-in forwards;
    }

    .multiplayer-animation-circle.presenting {
      stroke-dasharray: 3.4;
      animation: rotating 30s linear infinite
    }

    @keyframes rotating {
      from {
        transform: rotateZ(0deg);
      }
      to {
        transform: rotateZ(360deg);
      }
    }

    @keyframes droplet {
      0% {
        top: 0px;
        height: 2px;
        width: ${n}px;
        border-radius: 0px;
      }
      20% {
        top: -3.5px;
        height: ${n/2}px;
        width:  ${n/2}px;
        border-radius: 100%;
      }
      66% {
        top: -2px;
        height: 7px;
      }
      98% {
        top: 5px;
        height: 3px;
        width: 3px;
        border-radius: 100%;
      }
      99% {
        top: 5px;
        height: 1px;
        width: 1px;
        border-radius: 100%;
      }
      100% {
        top: 5px;
        height: 0px;
        width: 0px;
        border-radius: 100%;
      }
    }

    @keyframes droplet-horizontal {
      0% {
        left: 0;
        height: ${n}px;
        width: 2px;
        border-radius: 0px;
      }
      20% {
        left: -3.5px;
        height: ${n/2}px;
        width: ${n/2}px;
        border-radius: 100%;
      }
      66% {
        left: -2px;
        width: ${n/2}px;
      }
      99% {
        left: 5px;
        height: 3px;
        width: 3px;
        border-radius: 100%;
      }
      100% {
        left: 5px;
        height: 0px;
        width: 0px;
        border-radius: 100%;
      }
    }

    @keyframes draw-circle {
      0% {
        stroke-dashoffset: 400;
      }
      100% {
        stroke-dashoffset: 300;
      }
    }

    @keyframes droplet-reverse {
      0% {
        top: 0px;
        height: 2px;
        width: 2px;
        border-radius: 0px;
      }
      100% {
        top: 0px;
        height: 2px;
        width: ${n};
        border-radius: 0px;
      }
    }

    @keyframes droplet-horizontal-reverse {
      0% {
        left: 0px;
        height: 2px;
        width: 2px;
        border-radius: 0px;
      }
      100% {
        left: 0px;
        width: 2px;
        height: ${n}px;
        border-radius: 0px;
      }
    }
  }
  `;return(0,i.jsx)("style",{nonce:(0,u.Ay)().csp_nonce,children:a})})},819222:(e,t,n)=>{n.d(t,{w:()=>et});var i=n(104076),a=n(716976),r=n(903927),s=n(340063),o=n(511570),l=n.n(o),d=n(983500),c=n(755444),u=n(449572),p=n(513369),m=n(681398),h=n(967782),f=n(352630),g=n(192075),_=n(253021),x=n(715858),y=n(549571),v=n(742549),b=n(50536),C=n(366535),E=n(111297),j=n(637286),w=n(819851),T=n(958251),k=n(225417),I=n(74620),S=n(521255),N=n(211862),A=n(944350),L=n(59849),O=n(853039),R=n(904017),P=n(382137),M=n(176203),D=n(894210),F=n(946996),B=n(386216),U=n(660948),H=n(323440),V=n(428758),G=n(778612),z=n(813166),K=n(147799),W=n(337726),Z=n(437984),q=n(127082),X=n(347142),Y=n(819574),J=n(263222),Q=n(404343),$=n(106181),ee=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DISABLED="disabled",e.LOADING="loading",e.OPEN_SESSION="openSession",e.PERSONAL_DRAFT_DISABLED="personalDraftDisabled",e.HAS_CURRENT_UPGRADE_REQUEST="hasCurrentUpgradeRequest",e))(ee||{});function et({editingFile:e,user:t,isFileInWorkshop:n,appendedClassname:s}){let o=(0,v.l7)(),l=(0,w.my)(),f=(0,T.wR)(e.editorType),{hasPendingRequest:E,getUpgradePathway:U,getHasProvisionalAccess:W}=(0,P.wH)({folderId:e.folderId}),J=e.editorType===A._Y.WHITEBOARD&&!!e.org?.figjamDisabledAt,ee=l===M.nT.Slides&&(0,p.oA)(e.org?.isSlidesDisabled),et=l===M.nT.Sites&&!!e.org?.isSitesDisabled,ei=l===M.nT.Cooper&&!!e.org?.isCooperDisabled,ea=(0,X.e4)(),es=!!e.org||(0,O.XX)(e.team),eo=e.isTryFile,el=(0,I.aV)(),ed=(0,r.wA)(),ec=N.Cq({useSinatraType:!0})?.url,[eu,ep]=(0,a.useState)(null),em=!e.teamId&&!e.parentOrgId&&e.folderId===t?.personal_drafts_folder_id&&!eo,eh=W(f),{userLacksLicenseAccess:ef}=(0,P.KI)({fileKey:e.key,userId:t?.id??null,enabled:!!e&&!!t}),eg=ef(e.editorType??A._Y.DESIGN),e_=e.folderId===t?.drafts_folder_id&&eg&&E(f)&&!eh&&U(f)!==F.J.AUTO_PATHWAY,ex=t?.id===e.creatorId,ey=(0,G.vt)(e.team?.id),ev=(0,B.jn)(),eb=(0,u.Rs)(L.kQI,{id:e.team?.id||""},{enabled:!!e.team}),eC="loaded"===eb.status&&!!eb.data.team?.hasPermission,eE=!!e.team&&ey||!!e.team&&ev,ej=e.editorType===A._Y.FIGMAKE&&!ea,ew=(0,R.X$)("ShareButton").unwrapOr(null),eT=ew?.tier===A.Ag.PRO,ek=(0,y.xo)();(0,j.xf)(e);let eI=(0,q.Oc)(),eS=(e.canView&&e.canEdit,(0,a.useCallback)(()=>{if(!el&&!J&&!ee&&!et&&!ei&&!ej&&!em&&e){if(eo){let t;void 0!==ec&&(ed(b.S({url:ec})),t=!0),ed((0,C.to)({type:K.p,data:{fileKey:e.key,alreadyCopied:t}}))}else(0,h.YQ)({id:"multiplayer_toolbar_share_button"}),ed((0,C.to)({type:z.g_,data:{fileKey:e.key,source:k.nk.fullscreenToolbar,isLockedTeam:eE}}))}},[el,J,ee,et,ei,em,eo,ej,eE,ec,e,ed])),eN=(0,S.m0)();if((0,a.useEffect)(()=>{eN&&(eN._share_file=()=>{eS()})},[eN,eS]),m.Ay.isMeetDevice||(!eo||!n)&&!t)return null;let eA=n&&!eo&&es,eL=!!(0,c.tl)().org_id&&(0,c.tl)().org_id===e.parentOrgId;if(eE&&"loading"===eb.status)return null;let eO=ej?"disabled":eo?"secondary":J||ee||et||ei?"disabled":el?"loading":eA?"openSession":em?"personalDraftDisabled":e_?"hasCurrentUpgradeRequest":eE&&eC&&!e.canEdit||ek?"secondary":"primary",eR=ej?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_figmake_files_disabled"):J?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_fig_jam_files_disabled_by_your_organization"):ee?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_slides_files_disabled_by_your_organization"):et?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_sites_files_disabled_by_your_organization"):ei?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_buzz_files_disabled_by_your_organization"):eA?(0,g.t)("fullscreen.toolbar.multiplayer.open_session_in_progress"):em?Z.r:e_?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_has_current_upgrade_request"):null,eP={"data-tooltip-is-current-user-file-owner":JSON.stringify(ex),"data-tooltip-type":em?D.Ib.SPECIAL:D.Ib.TEXT,"data-tooltip-interactive":!!em,"data-tooltip":eR,"data-tooltip-show-immediately":!0,"data-tooltip-offset-y":em?0:6},eM=l===M.nT.Whiteboard,eD=eM||o||eI,eF=eD?$.lT:$.m,eB=e.hasEditRole&&(0,p.oA)(e.hasEditRole),eU=!el&&!eR&&eu&&ex&&(eL||eT),eH=eM?(0,d.jz)(Q.M$q):void 0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eF,ref:ep,"data-onboarding-key":_.D9,children:[(0,i.jsx)(eD?er:en,{variant:eO,onClick:eS,tooltipProps:eP,appendedClassname:s}),eB&&(0,i.jsx)(Y.$,{fileKey:e.key,isLegacyPosition:!eD})]}),eB&&!eR&&eu&&(0,i.jsx)(H.F,{target:eu,windowPadding:eH,trackingProperties:{planId:ew?.key.parentId,planType:ew?.key.type}}),eU&&(0,i.jsx)(V.q,{file:e,target:eu}),(0,i.jsx)(x.DG,{})]})}function en({variant:e,onClick:t,tooltipProps:n,appendedClassname:a}){let r=(0,U.v)(),s="openSession"===e,o=l()(r?$.cR:$.OI,{[$.Mg]:"disabled"===e,[$.A9]:"loading"===e,[$.LF]:s,[$.z_]:"personalDraftDisabled"===e,[$.MI]:"secondary"===e},$.uX,a);return(0,i.jsxs)(E.$z,{type:"button",className:o,onClick:t,"data-onboarding-key":W.v4,...n,dataTestId:"multiplayer-toolbar-share-button",trackingProperties:{buttonVariant:e},disabled:ea(e),children:[s&&(0,i.jsx)(J.r,{}),(0,g.tx)("fullscreen.toolbar.multiplayer.share")]})}let ei=["disabled","personalDraftDisabled","loading","hasCurrentUpgradeRequest"];function ea(e){return ei.includes(e)}function er({variant:e,onClick:t,tooltipProps:n}){let a={primary:"primary",secondary:"secondary",disabled:"disabled",loading:"disabled",openSession:"primary",personalDraftDisabled:"disabled",hasCurrentUpgradeRequest:"disabled"}[e],r=null;return"openSession"===e&&(r=(0,i.jsx)(s.I,{})),(0,i.jsx)(f.c,{disabled:ea(e),variant:"disabled"!==a?a:void 0,iconPrefix:r,onClick:t,trackingProperties:{buttonVariant:e},htmlAttributes:{...n,"data-testid":"multiplayer-toolbar-share-button","data-onboarding-key":W.v4},children:(0,g.tx)("fullscreen.toolbar.multiplayer.share")})}},98622:(e,t,n)=>{n.d(t,{n:()=>h});var i=n(104076),a=n(716976),r=n(903927),s=n(420680),o=n(803126),l=n(192075),d=n(147046),c=n(506192),u=n(792028),p=n(894210),m=n(702388);function h(e){let t=(0,r.wA)(),n=(0,c.Um)(),h=n?.type===m.kt,f=e.resourceType===u.bD.WIDGET?(0,l.t)("community.plugins.create_new_widget"):(0,l.t)("community.plugins.create_new_plugin"),g=a.useCallback(e=>{h?t(d.oB()):t(d.j7({type:m.kt,data:{targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,h]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.K,{"aria-label":f,htmlAttributes:{"data-tooltip-type":p.Ib.TEXT,"data-tooltip":f},onClick:g,children:(0,i.jsx)(o.e,{})}),h&&(0,i.jsx)(m.Pq,{resourceType:e.resourceType})]})}},203426:(e,t,n)=>{n.d(t,{W:()=>x});var i=n(104076),a=n(716976),r=n(903927),s=n(293422),o=n(803126),l=n(658704);n(120440);var d=n(555013),c=n(236631),u=n(192075),p=n(147046),m=n(912697);function h(){return(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5594 4.51951C27.2967 3.55473 29.3688 3 31.5833 3C33.7979 3 35.87 3.55473 37.6073 4.51951L36.6363 6.26799C35.2024 5.47169 33.4655 5 31.5833 5C29.7012 5 27.9643 5.47169 26.5304 6.26799L25.5594 4.51951ZM40.1279 6.44958C41.6462 8.03598 42.5833 10.0811 42.5833 12.3333C42.5833 13.1443 42.4615 13.9318 42.2328 14.6823L40.3197 14.0993C40.492 13.5337 40.5833 12.9425 40.5833 12.3333C40.5833 10.6589 39.8909 9.09446 38.683 7.83249L40.1279 6.44958ZM20.5833 12.3333C20.5833 10.0811 21.5204 8.03598 23.0388 6.44958L24.4837 7.83249C23.2758 9.09446 22.5833 10.6589 22.5833 12.3333C22.5833 12.9425 22.6746 13.5337 22.847 14.0993L20.9339 14.6823C20.7052 13.9318 20.5833 13.1443 20.5833 12.3333ZM40.5429 17.7548C41.0494 17.1527 41.4763 16.4937 41.8068 15.7886L39.9959 14.9398C39.7426 15.4802 39.4111 15.9939 39.0096 16.4706C38.5701 16.9926 38.4772 17.6483 38.5592 18.1861C39.3313 18.0684 40.5364 17.8847 40.5364 17.8847C40.5289 17.8355 40.5321 17.7961 40.5377 17.7719C40.5397 17.7629 40.5417 17.7575 40.5429 17.7548ZM22.6273 17.7589C22.1192 17.1557 21.6911 16.4953 21.3598 15.7886L23.1708 14.9398C23.4241 15.4802 23.7556 15.9939 24.1571 16.4706C24.5966 16.9926 24.6894 17.6483 24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C22.6378 17.8355 22.6346 17.7961 22.629 17.7719C22.6238 17.7492 22.619 17.7491 22.6273 17.7589ZM12.7855 18.8279C13.5007 18.3073 14.3826 18 15.3333 18H18.2724V20H15.3333C14.8195 20 14.3471 20.1649 13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279ZM19.7419 18H22.6229H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C24.047 19.4991 23.4839 20 22.681 20H19.7419V18ZM40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438H43.7581V20H40.4856C39.6827 20 39.1196 19.4991 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095ZM45.3943 18H48.6667C51.0599 18 53 19.9401 53 22.3333V26.7778H51V22.3333C51 21.0447 49.9553 20 48.6667 20H45.3943V18ZM11 22.3333C11 21.3826 11.3073 20.5007 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.1649 21.3471 13 21.8195 13 22.3333V25.4391H11V22.3333ZM11 30.0977V26.9919H13V30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218C12.9842 30.0218 12.3942 31.0763 12.0162 31.752C11.5009 31.4637 11 30.9006 11 30.0977ZM18.6667 30C18.0575 30 17.4663 30.0913 16.9007 30.2637L16.3177 28.3505C17.0682 28.1218 17.8557 28 18.6667 28C20.9189 28 22.964 28.9371 24.5504 30.4555L23.1675 31.9003C21.9055 30.6924 20.3411 30 18.6667 30ZM16.0602 30.5874C15.5198 30.8407 15.0061 31.1722 14.5294 31.5737C14.0074 32.0133 13.3517 32.1061 12.8139 32.0241C12.9316 31.252 12.9976 30.8191 13.1153 30.047C13.1645 30.0545 13.2039 30.0512 13.2281 30.0457C13.2371 30.0436 13.2425 30.0416 13.2452 30.0404C13.8473 29.5339 14.5063 29.107 15.2114 28.7765L16.0602 30.5874ZM53 29V37.8889H51V29H53ZM26 39C26 37.1179 25.5283 35.381 24.732 33.9471L26.4805 32.9761C27.4453 34.7134 28 36.7854 28 39C28 41.2146 27.4453 43.2866 26.4805 45.0239L24.732 44.0529C25.5283 42.619 26 40.8821 26 39ZM53 40.1111V49H51V40.1111H53ZM12.8139 45.9759C13.3517 45.8939 14.0074 45.9867 14.5293 46.4263C15.0061 46.8278 15.5198 47.1593 16.0602 47.4126L15.2114 49.2235C14.5063 48.893 13.8473 48.466 13.2452 47.9596C13.2425 47.9584 13.2371 47.9564 13.2281 47.9543C13.2039 47.9487 13.1645 47.9455 13.1153 47.953C13.1153 47.953 12.9316 46.748 12.8139 45.9759ZM18.6667 48C20.3411 48 21.9055 47.3076 23.1675 46.0997L24.5504 47.5445C22.964 49.0629 20.9189 50 18.6667 50C17.8557 50 17.0682 49.8782 16.3177 49.6495L16.9007 47.7363C17.4663 47.9087 18.0575 48 18.6667 48ZM11 47.9023C11 47.0994 11.5009 46.5363 12.0162 46.248C12.3942 46.9237 12.9842 47.9782 12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605V51.0081H11V47.9023ZM53 51.2222V55.6667C53 58.0599 51.0599 60 48.6667 60H44.2222V58H48.6667C49.9553 58 51 56.9553 51 55.6667V51.2222H53ZM11 55.6667V52.5609H13V55.6667C13 56.1805 13.1649 56.6529 13.4449 57.0376L11.8279 58.2145C11.3073 57.4993 11 56.6174 11 55.6667ZM15.3333 60C14.3826 60 13.5007 59.6927 12.7855 59.1721L13.9624 57.5551C14.3471 57.8351 14.8195 58 15.3333 58H19.7778V60H15.3333ZM30.8889 60H22V58H30.8889V60ZM42 60H33.1111V58H42V60Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279C12.3424 19.1503 12.1474 19.3465 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.6139 20.7303 13.7189 20.6222 13.9624 20.4449Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M13 30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218L12.0162 31.752C12.2838 31.9017 12.5 31.9763 12.8139 32.0241C12.8139 32.0241 12.9976 30.8191 13.1153 30.047C13.0703 30.0441 13 30.0395 13 30.0395Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M13.1153 47.953L12.8139 45.9759C12.6557 46 12.195 46.1479 12.0162 46.248L12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605L13.1153 47.953Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C23.2962 18.3139 23.6695 18.5546 24.3353 18.9838C24.451 18.7772 24.5564 18.5211 24.6075 18.1861Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M22.6229 18H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C23.6695 18.5546 23.2962 18.3139 22.6303 17.8847C22.6274 17.9297 22.6229 18 22.6229 18Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{d:"M40.5364 17.8847C40.5364 17.8847 39.3313 18.0684 38.5592 18.1861C38.5768 18.3016 38.6904 18.7319 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438L40.5364 17.8847Z",fill:"var(--color-icon-tertiary)"})]})}function f(){return(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.4987 5.63364L31.9998 2.13477L28.501 5.63364L29.9152 7.04785L31.9998 4.96319L34.0845 7.04785L35.4987 5.63364ZM5.63785 28.4967L7.05206 29.911L4.96319 31.9998L7.05206 34.0887L5.63785 35.5029L2.13477 31.9998L5.63785 28.4967ZM28.5009 58.3659L29.9151 56.9517L31.9998 59.0365L34.0846 56.9517L35.4988 58.3659L31.9998 61.8649L28.5009 58.3659ZM58.3702 35.4946L61.8649 31.9998L58.3702 28.5051L56.9559 29.9193L59.0365 31.9998L56.9559 34.0804L58.3702 35.4946ZM37.2481 7.38307L35.8339 8.79729L39.9186 12.8819H45.6994V10.8819H40.747L37.2481 7.38307ZM48.1756 10.8819V12.8819H51.1281V15.8344H53.1281V10.8819H48.1756ZM53.1281 18.3106H51.1281V24.0914L55.2086 28.1719L56.6228 26.7577L53.1281 23.263V18.3106ZM56.6228 37.2419L55.2086 35.8277L51.1281 39.9082V45.689H53.1281V40.7367L56.6228 37.2419ZM53.1281 48.1652H51.1281V51.1175H48.1757V53.1175H53.1281V48.1652ZM45.6995 53.1175V51.1175H39.9188L35.834 55.2023L37.2483 56.6165L40.7472 53.1175H45.6995ZM26.7514 56.6165L28.1656 55.2023L24.0809 51.1175H18.3085V53.1175H23.2525L26.7514 56.6165ZM15.8365 53.1175V51.1175H12.8925V48.1735H10.8925V53.1175H15.8365ZM10.8925 45.7015H12.8925V39.9291L8.80361 35.8402L7.38939 37.2545L10.8925 40.7575V45.7015ZM7.38939 26.7452L8.80361 28.1594L12.8925 24.0705V18.298H10.8925V23.2421L7.38939 26.7452ZM10.8925 15.826H12.8925V12.8819H15.8365V10.8819H10.8925V15.826ZM18.3086 10.8819V12.8819H24.0811L28.1657 8.79729L26.7515 7.38307L23.2527 10.8819H18.3086Z",fill:"var(--color-icon-tertiary)"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3956 19.5055L26.4844 29.1128H41.4723L28.9966 45.6671L27.3994 44.4634L37.4607 31.1128H22.582L31.7721 18.3375L33.3956 19.5055Z",fill:"var(--color-icon-tertiary)"})]})}var g=n(506192),_=n(702388);function x({isWidget:e}){let t=(0,r.wA)(),n=(0,g.Um)(),x=n?.type===_.kt,y=a.useRef(null),v=a.useCallback(e=>{x?t(p.oB()):t(p.j7({type:_.kt,data:{type:"pointing",targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,x]),{href:b,onClick:C}=(0,m.y)("https://www.figma.com/widget-docs/intro/"),{href:E,onClick:j}=(0,m.y)("https://www.figma.com/plugin-docs");return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 xdt5ytf xl56j7k x5yr21d",children:[(0,i.jsx)("span",{className:c.s.m16.$,children:e?(0,i.jsx)(f,{}):(0,i.jsx)(h,{})}),(0,i.jsx)("span",{className:c.s.font11.fontNormal.colorTextSecondary.mb4.$,children:e?(0,u.tx)("community.plugins.no_widgets_created_yet"):(0,u.tx)("community.plugins.no_plugins_created_yet")}),e?(0,i.jsx)(d.N_,{href:b,onClick:C,className:"x1j6dyjg xopfts3 x1hl2dhg xt0psk2",trusted:!0,children:(0,u.tx)("community.plugins.learn_more_about_widget_development")}):(0,i.jsx)(d.N_,{href:E,onClick:j,trusted:!0,className:"x1j6dyjg xopfts3 x1hl2dhg xt0psk2",children:(0,u.tx)("community.plugins.learn_more_about_plugin_development")}),(0,i.jsx)(s.$n,{onClick:v,variant:"secondary",children:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4",children:[(0,i.jsx)(o.e,{}),(0,i.jsx)("div",{className:"xet2fuk x1akne3o",children:(0,u.tx)("community.plugins.new")}),(0,i.jsx)("div",{ref:y,children:(0,i.jsx)(l.r,{})})]})})]})}},993469:(e,t,n)=>{n.d(t,{H:()=>o});var i=n(104076),a=n(192075);function r(){return(0,i.jsxs)("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.747 8.88206L29.9998 0.134888L21.2527 8.88206H8.89248V21.2422L0.134766 30L8.89248 38.7577V51.1176H21.2525L29.9998 59.865L38.7472 51.1176H51.1281V38.7368L59.8649 30L51.1281 21.2631V8.88206H38.747ZM49.1281 10.8821H37.9186L29.9998 2.96331L22.0811 10.8821H10.8925V22.0707L2.96319 30L10.8925 37.9292V49.1176H22.0809L29.9998 57.0366L37.9188 49.1176H49.1281V37.9084L57.0365 30L49.1281 22.0915V10.8821Z",fill:"var(--color-bg-disabled-secondary)"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3956 17.5056L24.4844 27.1129H39.4723L26.9966 43.6672L25.3994 42.4635L35.4607 29.1129H20.582L29.7721 16.3377L31.3956 17.5056Z",fill:"var(--color-bg-disabled-secondary)"}),(0,i.jsx)("path",{d:"M40 41.5C40 40.6716 40.6716 40 41.5 40H58.5C59.3284 40 60 40.6716 60 41.5V68.4395C60 69.0684 59.2726 69.418 58.7815 69.0252L50 62L41.2185 69.0252C40.7274 69.418 40 69.0684 40 68.4395V41.5Z",fill:"var(--color-bg-disabled-secondary)"})]})}function s(){return(0,i.jsxs)("svg",{width:"51",height:"69",viewBox:"0 0 51 69",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58333 9.33333C9.58333 4.0157 14.6867 0 20.5833 0C26.48 0 31.5833 4.0157 31.5833 9.33333C31.5833 11.371 30.8158 13.2415 29.5429 14.7548C29.5409 14.7593 29.5365 14.7716 29.5338 14.7946C29.5285 14.8406 29.5344 14.9014 29.5552 14.9594C29.5611 14.9758 29.5672 14.9892 29.5728 15H37.6667C40.0599 15 42 16.9401 42 19.3333V52.6667C42 55.0599 40.0599 57 37.6667 57H4.33333C1.9401 57 0 55.0599 0 52.6667V44.9023C0 43.9176 0.731631 43.317 1.36447 43.0896C1.99657 42.8626 2.86764 42.869 3.52935 43.4263C4.72239 44.431 6.148 45 7.66667 45C11.5538 45 15 41.149 15 36C15 30.851 11.5538 27 7.66667 27C6.148 27 4.72239 27.569 3.52935 28.5737C2.86764 29.131 1.99657 29.1374 1.36447 28.9104C0.731631 28.683 0 28.0824 0 27.0977V19.3333C0 16.9401 1.9401 15 4.33333 15H11.5939C11.5995 14.9892 11.6056 14.9758 11.6115 14.9594C11.6323 14.9014 11.6382 14.8406 11.6328 14.7946C11.6302 14.7716 11.6257 14.7593 11.6237 14.7547C10.3509 13.2415 9.58333 11.371 9.58333 9.33333ZM29.544 14.7526C29.5443 14.7522 29.544 14.7526 29.544 14.7526ZM20.5833 2C15.4343 2 11.5833 5.44622 11.5833 9.33333C11.5833 10.852 12.1524 12.2776 13.1571 13.4706C13.7143 14.1324 13.7208 15.0034 13.4937 15.6355C13.2664 16.2684 12.6657 17 11.681 17H4.33333C3.04467 17 2 18.0447 2 19.3333V27.0106C2.01079 27.0162 2.02423 27.0222 2.04063 27.0281C2.09865 27.049 2.15938 27.0548 2.20535 27.0495C2.22841 27.0468 2.24068 27.0424 2.24526 27.0404C3.75846 25.7676 5.62904 25 7.66667 25C12.9843 25 17 30.1033 17 36C17 41.8967 12.9843 47 7.66667 47C5.62904 47 3.75845 46.2324 2.24526 44.9596C2.24068 44.9576 2.22842 44.9532 2.20535 44.9505C2.15938 44.9452 2.09865 44.951 2.04063 44.9719C2.02423 44.9778 2.01079 44.9838 2 44.9894V52.6667C2 53.9553 3.04467 55 4.33333 55H37.6667C38.9553 55 40 53.9553 40 52.6667V19.3333C40 18.0447 38.9553 17 37.6667 17H29.4856C28.5009 17 27.9003 16.2684 27.673 15.6355C27.4459 15.0034 27.4523 14.1324 28.0096 13.4706C29.0143 12.2776 29.5833 10.852 29.5833 9.33333C29.5833 5.44622 25.7324 2 20.5833 2ZM2.24739 27.0393C2.24784 27.0391 2.24739 27.0394 2.24739 27.0393Z",fill:"var(--color-bg-disabled-secondary)"}),(0,i.jsx)("path",{d:"M31 40.5C31 39.6716 31.6716 39 32.5 39H49.5C50.3284 39 51 39.6716 51 40.5V67.4395C51 68.0684 50.2726 68.418 49.7815 68.0252L41 61L32.2185 68.0252C31.7274 68.418 31 68.0684 31 67.4395V40.5Z",fill:"var(--color-bg-disabled-secondary)"})]})}function o(e){return(0,i.jsxs)("div",{className:"saved_view_empty_state--emptyStateContainer--KrviB",children:[e.isWidget?(0,i.jsx)(r,{}):(0,i.jsx)(s,{}),(0,i.jsxs)("div",{className:"saved_view_empty_state--emptyStateTextContainer--xRmL3",children:[(0,i.jsx)("div",{className:"saved_view_empty_state--emptyStateHeader--t4hjK text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,a.tx)("universal_insert.saved_empty_state")}),(0,i.jsx)("div",{className:"saved_view_empty_state--emptyStateSubheader--FndRk text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.isWidget?(0,a.tx)("universal_insert.saved_for_quick_access_widgets"):(0,a.tx)("universal_insert.saved_for_quick_access_plugins")})]})]})}},299479:(e,t,n)=>{n.d(t,{Bo:()=>u,G$:()=>m,NI:()=>p,Qp:()=>r,V6:()=>o,YA:()=>h,bE:()=>d,fM:()=>s,mO:()=>l,mn:()=>a,v8:()=>c});var i=n(104076);function a(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 11.8333C11 11.3731 11.3731 11 11.8333 11H21H30.1667C30.6269 11 31 11.3731 31 11.8333V16C31 16.4602 30.6269 16.8333 30.1667 16.8333C29.7064 16.8333 29.3333 16.4602 29.3333 16V12.6667H21.8333V29.3333H25.1667C25.6269 29.3333 26 29.7064 26 30.1667C26 30.6269 25.6269 31 25.1667 31H21H16.8333C16.3731 31 16 30.6269 16 30.1667C16 29.7064 16.3731 29.3333 16.8333 29.3333H20.1667V12.6667H12.6667V16C12.6667 16.4602 12.2936 16.8333 11.8333 16.8333C11.3731 16.8333 11 16.4602 11 16V11.8333Z",fill:"black",fillOpacity:"0.9"})]})}function r(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6666 19.0849L23.3798 18.5874C24.4633 17.8316 25.1667 16.5811 25.1667 15.1666C25.1667 12.8654 23.3012 10.9999 21 10.9999C18.6988 10.9999 16.8333 12.8654 16.8333 15.1666C16.8333 16.5811 17.5366 17.8315 18.6201 18.5873L19.3332 19.0848V19.9543V22.6666H22.6666V19.9544V19.0849ZM24.3332 22.6666V19.9544C25.8445 18.9003 26.8333 17.1489 26.8333 15.1666C26.8333 11.9449 24.2217 9.33325 21 9.33325C17.7783 9.33325 15.1667 11.9449 15.1667 15.1666C15.1667 17.1488 16.1554 18.9002 17.6666 19.9543V22.6666C17.5892 22.6666 17.5122 22.6774 17.4377 22.6986L11.6044 24.3653C11.2466 24.4675 11 24.7945 11 25.1666V28.4999C11 28.9602 11.3731 29.3333 11.8333 29.3333H30.1667C30.6269 29.3333 31 28.9602 31 28.4999V25.1666C31 24.7945 30.7533 24.4675 30.3956 24.3653L24.5623 22.6986C24.4878 22.6774 24.4108 22.6666 24.3333 22.6666H24.3332ZM17.7831 24.3333H19.3332H22.6666H24.2169L29.3333 25.7952V27.6666H12.6667V25.7952L17.7831 24.3333ZM14.3333 31.8333C14.3333 31.373 14.7064 30.9999 15.1667 30.9999H26.8333C27.2936 30.9999 27.6667 31.373 27.6667 31.8333C27.6667 32.2935 27.2936 32.6666 26.8333 32.6666H15.1667C14.7064 32.6666 14.3333 32.2935 14.3333 31.8333Z",fill:"black",fillOpacity:"0.9"})]})}function s(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 22.6667V19.2639V17.6667H16V22.6667H11ZM11 24.3333V27.6667C11 28.5871 11.7462 29.3333 12.6667 29.3333H16V24.3333H11ZM17.6667 29.3333H29.3333C30.2538 29.3333 31 28.5871 31 27.6667V12.6667C31 11.7462 30.2538 11 29.3333 11H21.925H17.6667V16H31V17.6667H17.6667V22.6667H31V24.3333H17.6667V29.3333ZM16 11H12.6667C11.7462 11 11 11.7462 11 12.6667V16H16V11ZM9.33334 27.6667V19.2639V12.6667C9.33334 10.8257 10.8257 9.33333 12.6667 9.33333H21.925H29.3333C31.1743 9.33333 32.6667 10.8257 32.6667 12.6667V27.6667C32.6667 29.5076 31.1743 31 29.3333 31H12.6667C10.8257 31 9.33334 29.5076 9.33334 27.6667Z",fill:"black",fillOpacity:"0.9"})]})}function o(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.4999 10.9999H25.1666C24.7063 10.9999 24.3333 11.373 24.3333 11.8333V15.1666C24.3333 15.6268 24.7063 15.9999 25.1666 15.9999H28.4999C28.9602 15.9999 29.3333 15.6268 29.3333 15.1666V11.8333C29.3333 11.373 28.9602 10.9999 28.4999 10.9999ZM25.1666 9.33325C23.7859 9.33325 22.6666 10.4525 22.6666 11.8333V12.6666H21.8333C20.4525 12.6666 19.3333 13.7859 19.3333 15.1666V19.3333C19.3333 19.7935 18.9602 20.1666 18.4999 20.1666H17.6666V19.3333C17.6666 17.9525 16.5473 16.8333 15.1666 16.8333H11.8333C10.4525 16.8333 9.33325 17.9525 9.33325 19.3333V22.6666C9.33325 24.0473 10.4525 25.1666 11.8333 25.1666H15.1666C16.5473 25.1666 17.6666 24.0473 17.6666 22.6666V21.8333H18.4999C18.9602 21.8333 19.3333 22.2063 19.3333 22.6666V26.8333C19.3333 28.214 20.4525 29.3333 21.8333 29.3333H22.6666V30.1666C22.6666 31.5473 23.7859 32.6666 25.1666 32.6666H28.4999C29.8806 32.6666 30.9999 31.5473 30.9999 30.1666V26.8333C30.9999 25.4525 29.8806 24.3333 28.4999 24.3333H25.1666C23.7859 24.3333 22.6666 25.4525 22.6666 26.8333V27.6666H21.8333C21.373 27.6666 20.9999 27.2935 20.9999 26.8333V22.6666C20.9999 22.0263 20.7592 21.4422 20.3633 20.9999C20.7592 20.5576 20.9999 19.9735 20.9999 19.3333V15.1666C20.9999 14.7063 21.373 14.3333 21.8333 14.3333H22.6666V15.1666C22.6666 16.5473 23.7859 17.6666 25.1666 17.6666H28.4999C29.8806 17.6666 30.9999 16.5473 30.9999 15.1666V11.8333C30.9999 10.4525 29.8806 9.33325 28.4999 9.33325H25.1666ZM15.1666 18.4999H11.8333C11.373 18.4999 10.9999 18.873 10.9999 19.3333V22.6666C10.9999 23.1268 11.373 23.4999 11.8333 23.4999H15.1666C15.6268 23.4999 15.9999 23.1268 15.9999 22.6666V19.3333C15.9999 18.873 15.6268 18.4999 15.1666 18.4999ZM25.1666 25.9999H28.4999C28.9602 25.9999 29.3333 26.373 29.3333 26.8333V30.1666C29.3333 30.6268 28.9602 30.9999 28.4999 30.9999H25.1666C24.7063 30.9999 24.3333 30.6268 24.3333 30.1666V26.8333C24.3333 26.373 24.7063 25.9999 25.1666 25.9999Z",fill:"black",fillOpacity:"0.9"})]})}function l(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.67H27C28.2868 12.67 29.33 13.7132 29.33 15V27C29.33 28.2868 28.2868 29.33 27 29.33H15C13.7132 29.33 12.67 28.2868 12.67 27V18H21.5C22.3284 18 23 17.3284 23 16.5V12.67ZM21.33 12.67H15C13.7132 12.67 12.67 13.7132 12.67 15V16.33H21.33V12.67ZM21.5 11H27C29.2091 11 31 12.7909 31 15V27C31 29.2091 29.2091 31 27 31H15C12.7909 31 11 29.2091 11 27V16.5V15C11 12.7909 12.7909 11 15 11H21.5Z",fill:"black",fillOpacity:"0.9"})]})}function d(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 21C31 26.5228 26.5229 31 21 31C15.4772 31 11 26.5228 11 21C11 15.4771 15.4772 11 21 11C26.5229 11 31 15.4771 31 21ZM32.6667 21C32.6667 27.4433 27.4433 32.6667 21 32.6667C14.5567 32.6667 9.33334 27.4433 9.33334 21C9.33334 14.5567 14.5567 9.33333 21 9.33333C27.4433 9.33333 32.6667 14.5567 32.6667 21ZM15.728 22.6667C15.4422 22.6667 15.1763 22.8132 15.0236 23.0548C14.8709 23.2964 14.8527 23.5994 14.9753 23.8576C16.0444 26.108 18.3393 27.6667 21 27.6667C23.6607 27.6667 25.9557 26.108 27.0247 23.8576C27.1473 23.5994 27.1291 23.2964 26.9764 23.0548C26.8237 22.8132 26.5578 22.6667 26.272 22.6667H15.728ZM21 26C19.5199 26 18.1891 25.3569 17.273 24.3333H24.727C23.811 25.3569 22.4801 26 21 26ZM19.3333 17.6667C19.3333 18.5871 18.5871 19.3333 17.6667 19.3333C16.7462 19.3333 16 18.5871 16 17.6667C16 16.7462 16.7462 16 17.6667 16C18.5871 16 19.3333 16.7462 19.3333 17.6667ZM24.3333 19.3333C25.2538 19.3333 26 18.5871 26 17.6667C26 16.7462 25.2538 16 24.3333 16C23.4129 16 22.6667 16.7462 22.6667 17.6667C22.6667 18.5871 23.4129 19.3333 24.3333 19.3333Z",fill:"black",fillOpacity:"0.9"})]})}function c(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6667 12.6667H14.3333C13.4129 12.6667 12.6667 13.4129 12.6667 14.3333V23.7798L16.8691 19.5774C17.1945 19.252 17.7222 19.252 18.0476 19.5774L27.7984 29.3282C28.6573 29.2611 29.3333 28.5428 29.3333 27.6667V14.3333C29.3333 13.4129 28.5871 12.6667 27.6667 12.6667ZM11 27.6667V25.7929V25.7904V14.3333C11 12.4924 12.4924 11 14.3333 11H27.6667C29.5076 11 31 12.4924 31 14.3333V27.6667C31 29.5076 29.5076 31 27.6667 31H14.3333C12.4924 31 11 29.5076 11 27.6667ZM17.4583 21.3452L12.6667 26.1368V27.6667C12.6667 28.5871 13.4129 29.3333 14.3333 29.3333H25.4465L17.4583 21.3452ZM26 17.6667C26 18.5871 25.2538 19.3333 24.3333 19.3333C23.4129 19.3333 22.6667 18.5871 22.6667 17.6667C22.6667 16.7462 23.4129 16 24.3333 16C25.2538 16 26 16.7462 26 17.6667ZM27.6667 17.6667C27.6667 19.5076 26.1743 21 24.3333 21C22.4924 21 21 19.5076 21 17.6667C21 15.8257 22.4924 14.3333 24.3333 14.3333C26.1743 14.3333 27.6667 15.8257 27.6667 17.6667Z",fill:"black",fillOpacity:"0.9"})]})}function u(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 12.6667H16V14.3333H26V12.6667ZM27.6667 12.6667V14.3333H29.3333L29.3333 12.6667L27.6667 12.6667ZM12.6667 12.6667L14.3333 12.6667V14.3333H12.6667L12.6667 12.6667ZM29.3333 16H12.6667L12.6667 29.3333H29.3333L29.3333 16ZM12.6667 11C11.7462 11 11 11.7462 11 12.6667V29.3333C11 30.2538 11.7462 31 12.6667 31H29.3333C30.2538 31 31 30.2538 31 29.3333V12.6667C31 11.7462 30.2538 11 29.3333 11H12.6667ZM21.8934 23.6306L22.2346 23.4259L22.9045 23.024C23.1742 22.8621 23.1742 22.4712 22.9045 22.3094L22.2346 21.9074L21.8934 21.7027L21.8803 21.6948L21 21.1667L20.9758 21.1522L20.5599 20.9026L19.9644 20.5453C19.6867 20.3787 19.3333 20.5787 19.3333 20.9026V21.597V22.0821V22.1103V23.223V23.2512V23.7363V24.4308C19.3333 24.7546 19.6867 24.9547 19.9644 24.788L20.5599 24.4308L20.9758 24.1812L21 24.1667L21.8803 23.6385L21.8934 23.6306ZM23.762 20.8802L20.8219 19.1161C19.4333 18.283 17.6667 19.2832 17.6667 20.9026V24.4308C17.6667 26.0501 19.4333 27.0504 20.8219 26.2172L23.762 24.4531C25.1106 23.6439 25.1106 21.6894 23.762 20.8802Z",fill:"black",fillOpacity:"0.9"})]})}function p(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0786 14.7062C25.2844 14.2945 25.1176 13.794 24.7059 13.5882C24.2943 13.3823 23.7937 13.5492 23.5879 13.9608L16.9212 27.2942C16.7154 27.7058 16.8823 28.2064 17.2939 28.4122C17.7056 28.618 18.2061 28.4512 18.4119 28.0395L25.0786 14.7062ZM14.0487 13.7068C13.7023 13.4037 13.1758 13.4388 12.8728 13.7852L7.03944 20.4518C6.76452 20.766 6.76452 21.2352 7.03944 21.5493L12.8728 28.216C13.1758 28.5624 13.7023 28.5975 14.0487 28.2944C14.395 27.9913 14.4301 27.4649 14.1271 27.1185L8.77389 21.0006L14.1271 14.8827C14.4301 14.5363 14.395 14.0098 14.0487 13.7068ZM27.9512 28.2944C28.2975 28.5975 28.824 28.5624 29.1271 28.216L34.9604 21.5493C35.2353 21.2352 35.2353 20.766 34.9604 20.4518L29.1271 13.7852C28.824 13.4388 28.2975 13.4037 27.9512 13.7068C27.6048 14.0098 27.5697 14.5363 27.8728 14.8827L33.2259 21.0006L27.8728 27.1185C27.5697 27.4649 27.6048 27.9913 27.9512 28.2944Z",fill:"black",fillOpacity:"0.9"})]})}function m(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1579 29.3333H21C25.6024 29.3333 29.3333 25.6024 29.3333 21C29.3333 16.3976 25.6024 12.6667 21 12.6667C16.3976 12.6667 12.6667 16.3976 12.6667 21V27.8421C12.6667 28.1597 12.6669 28.3541 12.6722 28.5017C12.6767 28.6248 12.6835 28.6661 12.6844 28.671C12.7523 28.9948 13.0052 29.2477 13.329 29.3156C13.3237 29.3145 13.3575 29.3227 13.4983 29.3278C13.6459 29.3331 13.8403 29.3333 14.1579 29.3333ZM21 11C15.4772 11 11 15.4772 11 21V27.8421C11 28.4536 11 28.7593 11.0532 29.013C11.2569 29.9843 12.0157 30.7431 12.987 30.9468C13.2407 31 13.5464 31 14.1579 31H21C26.5228 31 31 26.5228 31 21C31 15.4772 26.5228 11 21 11Z",fill:"black",fillOpacity:"0.9"})]})}function h(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6667 9.33325C17.2064 9.33325 16.8333 9.70635 16.8333 10.1666C16.8333 10.6268 17.2064 10.9999 17.6667 10.9999H20.1667V12.7008C15.0337 13.1243 11 17.4244 11 22.6666C11 28.1894 15.4772 32.6666 21 32.6666C26.5228 32.6666 31 28.1894 31 22.6666C31 21.069 30.6254 19.5589 29.9591 18.2193L30.4107 17.7677C31.3871 16.7914 31.3871 15.2085 30.4107 14.2322L29.4344 13.2558C28.4581 12.2795 26.8752 12.2795 25.8989 13.2558L25.4473 13.7075C24.343 13.1583 23.1229 12.8072 21.8333 12.7008V10.9999H24.3333C24.7936 10.9999 25.1667 10.6268 25.1667 10.1666C25.1667 9.70635 24.7936 9.33325 24.3333 9.33325H21H17.6667ZM26.9116 14.6002C27.7348 15.2045 28.4621 15.9318 29.0664 16.755L29.2322 16.5892C29.5577 16.2637 29.5577 15.7361 29.2322 15.4107L28.2559 14.4344C27.9305 14.1089 27.4028 14.1089 27.0774 14.4344L26.9116 14.6002ZM21.8333 16.8333C21.8333 16.373 21.4602 15.9999 21 15.9999C20.5398 15.9999 20.1667 16.373 20.1667 16.8333V21.2229C19.6685 21.5111 19.3333 22.0497 19.3333 22.6666C19.3333 23.5871 20.0795 24.3333 21 24.3333C21.9205 24.3333 22.6667 23.5871 22.6667 22.6666C22.6667 22.0497 22.3315 21.5111 21.8333 21.2229V16.8333ZM21 30.9999C25.6024 30.9999 29.3333 27.269 29.3333 22.6666C29.3333 18.0642 25.6024 14.3333 21 14.3333C16.3976 14.3333 12.6667 18.0642 12.6667 22.6666C12.6667 27.269 16.3976 30.9999 21 30.9999Z",fill:"black",fillOpacity:"0.9"})]})}},705292:(e,t,n)=>{n.d(t,{I:()=>k,Q:()=>I});var i=n(104076),a=n(716976),r=n(754245),s=n(903927),o=n(684742),l=n(266808),d=n(511570),c=n.n(d),u=n(361170),p=n(816565),m=n(999473),h=n(192075),f=n(475034),g=n(354114),_=n(568563),x=n(592726),y=n(96213),v=n(894210),b=n(25080),C=n(410187),E=n(550538),j=n(222525),w=n(556668);function T({children:e,mini:t,user:n}){return t?(0,i.jsx)("div",{className:c()(w.HG,w.ET),children:e}):(0,i.jsx)("div",{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":n.name||n.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:w.HG,children:e})}function k({user:e,hideName:t,mini:n,searchQuery:r,triggeredFrom:o}){let d=e.hi_res_img_url||e.img_url,c=`${d}?c=1`,p=(0,b.$L)(e.id,b.us),h=(0,C.LL)(c,e.name||e.handle||"",p),v=(0,x.TA)(),j=(0,E.b)(),k=(0,s.wA)(),L=a.useCallback(()=>{k(f.F9({currentUserId:v??void 0,storeInRecentsKey:y.$A.FigJam,item:{id:e.id,user:e,type:y.vt.FaceStamp}}))},[v,k,e]),{dragState:O,onInsertableResourcePointerDown:R}=(0,_.Z)({iconSrc:h,insertAction:t=>{let{dropPosition:n}=t,i=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,a=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,r=new u.Mi(50,50),s=n.subtract(new u.Mi(i*r.x,a*r.y)).subtract(new u.Mi(5,5));(0,C.xG)(h,s.x,s.y,e.id,"drag",l.zkO.USER),L(),j()},clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:j,resource:{id:e.id,name:e.name||"",img:h},triggeredFrom:o,searchQuery:r,mini:n});return n&&!h?null:(0,i.jsx)(T,{mini:n,user:e,children:h?(0,i.jsxs)(m.n.recordableDiv,{className:w.RX,onPointerDown:R,children:[(0,i.jsx)(N,{stampImageUrl:h,username:e.handle||"",onClick:()=>{let t=g.Y5.getViewportInfo();(0,C.xG)(h,t.offsetX,t.offsetY,e.id,"click",l.zkO.USER),L(),j()},dragging:null!==O,mini:n}),(0,i.jsx)(A,{dragState:O,imageUrl:h}),!t&&(0,i.jsx)(S,{username:e.name||e.handle||""})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{mini:n}),!t&&(0,i.jsx)(S,{username:""})]})})}function I({mini:e}={}){return(0,i.jsxs)("div",{className:c()(w.HG,{[w.ET]:e,[w.M4]:!e}),children:[(0,i.jsx)("div",{className:c()(w.eP,w.iE)}),!e&&(0,i.jsx)("div",{className:c()(w.t$,w.OP)})]})}function S({username:e}){return(0,i.jsx)("div",{title:e,className:w.OP,children:e})}function N(e){return(0,i.jsx)(o.E,{className:w.RT,recordingKey:"facestamp",onClick:e.onClick,htmlAttributes:{"data-testid":`facestamp-${e.username}${e.mini?"-mini":""}`},children:(0,i.jsx)(p.oW,{draggable:!1,src:e.stampImageUrl,className:c()(w.iE,{[w.Jy]:e.dragging,[w.dG]:e.mini}),alt:(0,h.t)("whiteboard.face_stamps.aria_label",{userName:e.username})})})}function A(e){if(!e.dragState?.dragPosition||!e.dragState.grabbedPointerPercentageOffset)return null;let t=function(){let{zoomScale:e}=g.Y5.getViewportInfo();return new u.Mi(50,50).scale(e)}(),n=e.dragState.dragPosition.subtract(new u.Mi(e.dragState.grabbedPointerPercentageOffset.x*t.x,e.dragState.grabbedPointerPercentageOffset.y*t.y));return(0,r.createPortal)((0,i.jsx)(p.oW,{alt:"",className:c()(j.$J,{[j.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:n.x,top:n.y,width:t.x,height:t.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},314788:(e,t,n)=>{n.d(t,{U5:()=>c,d0:()=>d,d2:()=>p,qK:()=>m});var i=n(716976),a=n(903927),r=n(481173),s=n(211862),o=n(469229),l=n(96213);function d(){let e=!!s.q5()?.org,t=(0,a.d4)(e=>(0,o.zg)(e.selectedView)&&!e.user);return!!(e&&!t)}function c(e,t=20){let n=p(e),r=(0,a.d4)(e=>e.faceStamps);return i.useMemo(()=>{let e=new Map;return n.forEach(t=>{e.set(t.id,t)}),r.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,n,r])}let u=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function p(e){let t=(0,a.d4)(e=>e.recentlyUsed.faceStamps[l.$A.FigJam]);return i.useMemo(()=>t.map(e=>e.user).filter(t=>!e||u(t,e)),[t,e])}function m(){let e=(0,a.d4)(e=>e.recentlyUsed.faceStamps),t=d(),n=(0,r.o)();return i.useMemo(()=>n&&t?e.figjam.map(e=>e.user):[],[n,e,t])}},240660:(e,t,n)=>{n.d(t,{t:()=>s});var i=n(104076),a=n(684742),r=n(238198);function s({text:e,description:t,onClick:n,iconComponent:s,recordingKey:o,rightCaret:l}){return(0,i.jsxs)(a.E,{onClick:n,recordingKey:o,className:"native_figjam_action_block--optionContainer--PAZPH",htmlAttributes:{"data-testid":o},children:[(0,i.jsx)("div",{className:"native_figjam_action_block--actionBlockLeftSide--lGAtd native_figjam_action_block--actionBlockRightSide--lUQRE",children:s}),(0,i.jsxs)("div",{className:"native_figjam_action_block--actionBlockRightSide--lUQRE",children:[(0,i.jsx)("div",{className:"native_figjam_action_block--textRow--yGuij",children:(0,i.jsx)("div",{className:"native_figjam_action_block--text--S9XDd text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e})}),(0,i.jsx)("div",{className:"native_figjam_action_block--description--FdkF2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:t})]}),l&&(0,i.jsx)(r.a,{className:"native_figjam_action_block--rightCaret--mk9xP","aria-hidden":!0})]})}},942147:(e,t,n)=>{n.d(t,{j6:()=>z,v7:()=>H,G0:()=>Z,fQ:()=>q,l7:()=>K,Lf:()=>G,Sn:()=>V,Ox:()=>U,vh:()=>F,ue:()=>B,m_:()=>W,Yx:()=>M});var i=n(104076),a=n(903927),r=n(266808),s=n(170627),o=n(641518),l=n(999473),d=n(192075),c=n(562086),u=n(366535),p=n(475034),m=n(521255),h=n(841e3),f=n(285226),g=n(380388),_=n(436648),x=n(96213),y=n(299479),v=n(249915),b=n(240660),C=n(550538),E=n(716976),j=n(878604),w=n(268389),T=n(822764),k=n(959834),I=n(215239);let S="InsertMediaModal",N=(0,k.Ju)(function(){let e=(0,a.wA)(),t=E.useCallback(()=>{r.glU?.triggerAction("set-tool-default",null),e(u.ES({type:S}))},[e]),{initialModalPosition:n}=(0,T.ts)({kind:"mountCenter"},192,320);return n?(0,i.jsx)(j.bL,{onClose:t,draggable:"header",defaultPosition:n,width:320,htmlAttributes:{"data-testid":"insert-media-modal"},children:(0,i.jsxs)(w.vo,{children:[(0,i.jsx)(w.Y9,{children:(0,i.jsx)(w.hE,{children:(0,d.t)("whiteboard.embeds.insert_embed_modal.title")})}),(0,i.jsx)(w.nB,{children:(0,i.jsx)(I.q,{onSuccess:t})})]})}):null},S);var A=n(403607),L=n(880820),O=n(517178),R=n(576551);let P="figjam_universal_inserts";function M(e){let t=function(e){switch(e){case"Table":return r.NLJ.TABLE;case"CodeBlock":return r.NLJ.CODE_BLOCK;case"MindMap":return r.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return r.NLJ.TYPE;case"Section":return r.NLJ.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e),n=()=>{s.l7.user("click-insert-tool",()=>r.glU.createNodeAtViewportCenterFromTool(t))};return{insertToolWithDragAction:e=>{let{dropPosition:i,isClick:a}=e;a?n():s.l7.user("drag-insert-tool",()=>r.glU.createNodeFromTool(t,i.x,i.y))},insertToolOnClickAction:n}}function D(e){let t;let n=(0,C.b)(),r=(0,a.wA)(),d=(0,a.d4)(e=>e.user?.id),{tabManager:c,searchQuery:u}=(0,v.cX)();(0,f.kg)(e.resourceType)&&(t=e.resourceType);let m=!!(0,g.AE)(e.resourceType),y=t&&(0,x.ds)(t)&&m,E=()=>{y&&t&&r(p.ay({currentUserId:d,storeInRecentsKey:x.$A.FigJam,item:{id:t,type:x.vt.WhiteboardTool}})),n()},j=n=>{if(t){let{insertToolWithDragAction:e,insertToolOnClickAction:i}=M(t);n?e(n):i()}e.onInsert?.(),E()},w=e=>{j(e)},T=()=>{j()};e.editScopeLabel&&(w=s.nc.user(e.editScopeLabel,w),T=s.nc.user(e.editScopeLabel,T));let{dragState:k,onInsertableResourcePointerDown:I}=(0,g.Ik)({resource:e.resourceType,insertAction:w,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:E,triggeredFrom:(0,_.Vq)(c.activeTab),searchQuery:u,icon:m?void 0:e.icon});return(0,i.jsxs)(l.n.div,{onPointerDown:e.disableDragAndDrop?void 0:I,"data-testid":"draggable-insert-action",children:[(0,i.jsx)(b.t,{text:e.text,description:e.description,onClick:T,iconComponent:e.icon,recordingKey:o.Pt("inserts","more",e.recordingKey)}),(0,i.jsx)(h.M,{dragState:k,icon:m?void 0:e.icon})]})}function F(){return(0,i.jsx)(D,{resourceType:"Table",text:(0,d.t)("whiteboard.inserts.table_title"),description:(0,d.t)("whiteboard.inserts.table_description"),recordingKey:"table",icon:y.fM()})}function B(){return(0,i.jsx)(D,{resourceType:"Text",text:(0,d.t)("whiteboard.inserts.text_title"),description:(0,d.t)("whiteboard.inserts.text_description"),recordingKey:"text",icon:y.mn()})}function U(){let e=(0,C.b)();return(0,i.jsx)(b.t,{text:(0,d.t)("whiteboard.inserts.stamp_title"),description:(0,d.t)("whiteboard.inserts.stamp_description"),onClick:()=>{(0,R.X)({source:P}),e()},iconComponent:y.Qp(),recordingKey:o.Pt("inserts","more","stamp")})}function H(){let e=(0,C.b)();return(0,i.jsx)(b.t,{text:(0,d.t)("whiteboard.inserts.comments_title"),description:(0,d.t)("whiteboard.inserts.comments_description"),onClick:()=>{e(),r.glU.triggerActionInUserEditScope("set-tool-comments",{source:P})},iconComponent:y.G$(),recordingKey:o.Pt("inserts","more","comments")})}function V(){return(0,i.jsx)(D,{resourceType:"Section",text:(0,d.t)("whiteboard.inserts.section_title"),description:(0,d.t)("whiteboard.inserts.section_description"),recordingKey:"section",icon:y.mO()})}function G(){let e=(0,O.V)();return(0,i.jsx)(b.t,{text:(0,d.t)("whiteboard.inserts.quick_actions_v2"),description:(0,d.t)("whiteboard.inserts.quick_actions_v2_description"),onClick:e,iconComponent:(0,i.jsx)(A.j,{}),recordingKey:o.Pt("inserts","more","quick-actions-v2")})}function z(){return(0,i.jsx)(D,{resourceType:"CodeBlock",text:(0,d.t)("whiteboard.inserts.code_block_title"),description:(0,d.t)("whiteboard.inserts.code_block_description"),recordingKey:"codeBlock",icon:y.NI()})}function K(){return(0,i.jsx)(D,{resourceType:"MindMap",text:(0,d.t)("whiteboard.inserts.mind_map_title"),description:(0,d.t)("whiteboard.inserts.mind_map_description"),recordingKey:"mindMap",icon:y.V6(),editScopeLabel:"insert-mindmap"})}function W(){let e=(0,L.MR)();return(0,i.jsx)(D,{resourceType:"Timer",text:(0,d.t)("whiteboard.inserts.timer_title"),description:(0,d.t)("whiteboard.inserts.timer_description"),recordingKey:"timer",icon:y.YA(),onInsert:()=>{e({source:L.OO.INSERTS_MENU})}})}function Z(){let e=(0,a.wA)(),t=m.BI()?.shouldOptimizeForIpadApp;return(0,i.jsx)(D,{resourceType:"Image",text:(0,d.t)("whiteboard.inserts.media_title"),description:(0,d.t)("whiteboard.inserts.media_description"),recordingKey:"images",icon:y.v8(),onInsert:()=>{r.glU.triggerAction("set-tool-default",null),r.glU.triggerAction("place",{source:"MEDIA_MODAL"}),e(c.qC({open:!0}))},disableDragAndDrop:t})}function q(){let e=(0,a.wA)();return(0,i.jsx)(D,{resourceType:"Link",text:(0,d.t)("whiteboard.inserts.links_title"),description:(0,d.t)("whiteboard.inserts.links_description"),recordingKey:"links",icon:y.Bo(),onInsert:()=>{r.glU.triggerAction("set-tool-default",null),e(u.$O({type:N.type,data:{shouldMountCenter:!0}}))}})}},425788:(e,t,n)=>{let i;n.d(t,{z:()=>nv});var a=n(104076),r=n(716976),s=n(903927),o=n(454851),l=n(326109),d=n(909204),c=n(795033);n(120440);var u=n(511570),p=n.n(u),m=n(851824),h=n(221586),f=n(665261),g=n(848561),_=n(72138),x=n(915459),y=n(236631),v=n(192075),b=n(171916),C=n(607804),E=n(701856),j=n(518710),w=n(147046),T=n(111297),k=n(819851),I=n(4033),S=n(802529),N=n(822764),A=n(506192),L=n(288747),O=n(798094),R=n(792028),P=n(894210),M=n(215853),D=n(954741),F=n(98622),B=n(827695),U=n(317582),H=n(382629),V=n(833805),G=n(977745),z=n(710211),K=n(912610),W=n(450067);let Z=z.M4.Query({fetch:async e=>{if(!e.pluginIds.length)return[];let t=await W.V.postPluginsBatch(e.pluginIds,e.orgId);return t.data?.meta??[]},stalenessPolicy:"never"});var q=n(16480),X=n(213233),Y=n(945810),J=n(324063),Q=n(508356),$=n(966990);let ee="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",et="fd_browse_resource_modal--searchBarContainer--Q2kZ7",en="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",ei="fd_browse_resource_modal--buzzSearchBarContainer--H7cP1",ea="fd_browse_resource_modal--filterButtonActive--8krHg",er="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",es="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",eo="fd_browse_resource_modal--horizontalDivider--H67hA",el="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",ed="fd_browse_resource_modal--mainViewHeader--AZpur",ec="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",eu="fd_browse_resource_modal--mainViewHeaderHeightBuzz--8P5yP",ep="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",em="fd_browse_resource_modal--close--G1pa0",eh="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",ef="fd_browse_resource_modal--loadingSpinner--0IwJ9",eg="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd";function e_(e){let t=(0,I.Be)(),n=t.widgets,i=Object.values(t.plugins).sort(I.YW).filter(e=>"user"===e.installed_by),a=(0,J.xx)(()=>i),s=(0,Q.Ol)(a()),o=(s=(0,Q.bT)(s)).map(e=>e.plugin_id),l=Object.values(n).sort(I.YW).filter(e=>"user"===e.installed_by),d=(0,J.xx)(()=>l),c=(0,Q.Ol)(d()).map(e=>e.plugin_id);return r.useMemo(()=>e?c:o,[o,c,e])}function ex(e){let t=e_(e.isWidget),[n,i]=r.useState(!1),s=r.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:(0,a.jsxs)(T.fu,{name:"saved",children:[(0,a.jsx)("div",{className:er,children:(0,v.tx)("universal_insert.saved")}),s.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e,type:$.R7.SAVED,keyboardNavigationPath:[X.B6+1,t]},e)),t.length>40&&!n&&(0,a.jsx)("button",{className:eg,onClick:()=>i(!0),children:e.isWidget?(0,v.tx)("universal_insert.show_all_saved_widgets"):(0,v.tx)("universal_insert.show_all_saved_plugins")})]})}function ey(){let{activeTab:e}=(0,X.IT)(),t=(0,I.op)(),n=(0,I.qr)(),i=(0,I.Be)(),a=e===Y.s.WIDGET,r=e_(a),s=a?n:t;return(s=(0,X.P7)(s,q.Ag.RECENT,a),i.loaded)?{loaded:!0,extensions:{recentExtensions:s,savedExtensionIds:r}}:{loaded:!1,extensions:{recentExtensions:[],savedExtensionIds:[]}}}function ev({recentExtensions:e,savedExtensionIds:t,showWidget:n}){let[i,s]=r.useState(!1),o=(0,r.useMemo)(()=>[...e.map(e=>({id:e.plugin_id,type:$.R7.RECENT})),...t.map(e=>({id:e,type:$.R7.SAVED}))].filter(({id:e},t,n)=>n.findIndex(t=>t.id===e)===t),[e,t]),l=i?o:o.slice(0,25);return 0===o.length?null:(0,a.jsxs)(T.fu,{name:"recents_and_saved",children:[l.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.id,type:e.type,keyboardNavigationPath:[X.B6+1,t]},e.id)),o.length>25&&!i&&(0,a.jsx)("button",{className:eg,onClick:()=>s(!0),children:n?(0,v.t)("universal_insert.show_all_recent_and_saved_widgets"):(0,v.t)("universal_insert.show_all_recent_and_saved_plugins")})]})}function eb({suggestedExtensions:e}){let t=e.slice(0,25);return 0===t.length?null:(0,a.jsxs)(T.fu,{name:"Suggested",children:[(0,a.jsx)("div",{className:er,children:(0,v.t)("universal_insert.suggested")}),t.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.plugin_id,type:$.R7.COMMUNITY,keyboardNavigationPath:[X.B6,t]},e.plugin_id))]})}function eC(){let{activeTab:e,defaultExtensions:t}=(0,X.IT)(),n=e===Y.s.WIDGET,{loaded:i,extensions:{recentExtensions:o,savedExtensionIds:l}}=ey(),{extensions:d,loaded:c}=function(e,t){let n=(0,U.s)(),i=function(e){let t=(0,s.wA)(),n=(0,L.sZ)(),[{data:i,status:a}]=(0,V.IT)(Z({pluginIds:e,orgId:n?.id??null}),{enabled:e.length>0}),o="loaded"===a||0===e.length;return(0,r.useEffect)(()=>{o&&i&&i.length>0&&t(G.Qi({publishedPlugins:i,src:"Hardcoded extensions"}))},[i,t,o]),{loaded:o,extensionVersions:i?.map(e=>K.Ar(e)).filter(H.Vq)??[]}}("hardcoded"===e.type?e.pluginIds:[]),a=(0,X.P7)(n.extensions,q.Ag.COMMUNITY,t);switch(e.type){case"hardcoded":return{extensions:i.extensionVersions,loaded:i.loaded};case"suggested":return{extensions:a,loaded:n.loaded}}}(t,n);return i&&c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev,{recentExtensions:o,savedExtensionIds:l,showWidget:n}),(0,a.jsx)(eb,{suggestedExtensions:d})]}):(0,a.jsx)("div",{className:"x7hzu26 xh8yej3 x1o2pa38",children:(0,a.jsx)(B.k,{})})}var eE=n(656919),ej=n(555013),ew=n(912697),eT=n(521255);let ek="detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",eI="detail_view--ratingSelectorContainer--zbvCM";function eS(){let{activeTab:e}=(0,X.IT)(),t=(0,eT.BI)(),n=(0,k.m0)(),{href:i,onClick:r}=(0,ew.y)(`/community/${e===Y.s.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:(0,a.jsxs)(ej.Ph,{className:ek,href:i,onClick:r,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0,children:[(0,a.jsx)(eE.U,{className:"x1aue78i"}),(0,v.tx)("universal_insert.browse_more_in_community")]})}var eN=n(46379),eA=n(880233),eL=n(716597),eO=n(624155),eR=n(40224),eP=n(264797),eM=n(781801),eD=n(686466);function eF(e){let t=(0,s.wA)(),n=(0,s.Pj)(),i=(0,s.d4)(eD.m),o=(0,s.d4)(e=>(0,eR.CX)(e)),l=r.useRef(null),d=(0,X.NF)(X.gC+X.Kr+X.Ix);r.useEffect(()=>{(async()=>{if(t((0,eA.zK)()),o){await eO.NW;let{fileVersion:e}=n.getState();e&&!(0,eO.El)("INVALID-FILE-KEY-SHOULD-BE-REMOVED",o)&&n.dispatch((0,eL.n)({libraryKey:o}))}})()},[t,o,n]);let[c,u]=r.useState(!1);return(0,a.jsxs)("div",{children:[e.header,(0,a.jsxs)("div",{"data-not-draggable":!0,children:[(0,a.jsx)(eM.LL,{drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},entrypointForLogging:null,isSearching:c,pickerType:eN.Zl.RESOURCE_INSERT_MODAL,query:e.query,recordingKey:"componentInsert",scrollContainerHeight:d,searchBarRef:l,selectedItems:i?[i]:[],setIsSearching:u,setQuery:e.setQuery,toggleGridViewButton:(0,a.jsx)(eM.Cc,{isSwapPicker:!1})}),(0,a.jsx)(eP.Q,{})]})]})}var eB=n(420680),eU=n(781767),eH=n(816424),eV=n(812714),eG=n(300535),ez=n(679359),eK=n(45468),eW=n(615504),eZ=n(652539),eq=n(950382),eX=n(548883),eY=n(592726),eJ=n(569377),eQ=n(267849);function e$({resource:e}){let t=(0,s.d4)(e=>e.authedActiveCommunityProfile),n=(0,eY.iZ)(),i=(0,eX.ej)(e);return(0,a.jsxs)("div",{className:eJ.I4,"data-not-draggable":!0,children:[(0,a.jsx)("div",{className:eJ.QW,children:(0,a.jsx)(eZ.B,{svg:eQ.A})}),(0,a.jsx)("div",{className:eJ.hI,children:(0,v.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")}),(0,a.jsx)("div",{className:eJ.JL,children:(0,a.jsx)("button",{onClick:()=>{(0,eq.mG)(e,R.aL.INSERTS,n.id,t?.id),i()},children:(0,v.tx)("community.buyer.update_payment")})})]})}var e0=n(427125);n(822900),n(89312),n(487803);var e1=n(222195);n(643330),n(354174),n(132078);let e2="rating_stats_data--averageStar--YdqTY";function e3({isHovered:e}){return(0,a.jsx)("span",{className:e2,"aria-label":(0,v.t)("community.detail_view.full_star"),children:(0,a.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",children:(0,a.jsx)("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})})})}function e5(){return(0,a.jsx)("span",{className:e2,"aria-label":(0,v.t)("community.detail_view.empty_star"),children:(0,a.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})})})}let e4="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var e6=n(833198),e7=n(733948);function e9({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:i=!0,isOptional:s=!1,disabled:o=!1,disabledTooltip:l}){let[d,c]=(0,r.useState)(0),[u,p]=(0,r.useState)(0),[m,h]=(0,r.useState)(!1),f=[(0,v.t)("community.star_ratings.i_really_dont_like_it"),(0,v.t)("community.star_ratings.i_dont_like_it"),(0,v.t)("community.star_ratings.its_okay"),(0,v.t)("community.star_ratings.i_like_it"),(0,v.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||d||(c(t),p(t))},[t,d]);let g=i?(0,a.jsx)(eZ.B,{svg:e6.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,v.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):(0,a.jsx)(e5,{}),_=i?(0,a.jsx)(eZ.B,{svg:e7.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,v.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):(0,a.jsx)(e3,{isHovered:m}),x=e=>{o||(c(e+1),h(!0))},b=t=>{o||(t+1===u&&s?(p(0),e(0)):(p(t+1),e(t+1)))};return(0,a.jsxs)("div",{className:i?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA",children:[(0,a.jsx)("div",{className:o?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{o||u===d||c(u)},"data-tooltip-type":o?P.Ib.TEXT:void 0,"data-tooltip":o?l:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip",children:(()=>{let e=[];for(let t=0;t<5;t++)e.push((0,a.jsx)("span",{className:y.s.flex.$,onMouseEnter:()=>x(t),onMouseLeave:()=>h(!1),onClick:()=>b(t),role:"button",tabIndex:0,children:t<d?_:g},`rating-star-${t}}`));return e})()}),(0,a.jsx)("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2",children:(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)("div",{className:i?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":e4,children:f[d-1]}),s&&0===d&&(0,a.jsx)("div",{className:e4,children:o?(0,v.tx)("community.rating_review.ratings_not_available"):(0,v.tx)("community.rating_review.optional")})]})})]})}function e8({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:i,openRatingModal:r}){return(0,a.jsxs)("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS",children:[(0,a.jsx)("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e?(0,a.jsx)("div",{onClick:()=>r(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0,children:(0,v.tx)("community.detail_view.edit_rating")}):(0,v.tx)("community.detail_view.leave_a_rating")}),(0,a.jsx)(e9,{onSelect:r,existingRating:e?.ratingValue,disabled:n,disabledTooltip:i})]})}var te=n(860120),tt=n(15329),tn=n(50536),ti=n(36362),ta=n(962212),tr=n(81910),ts=n(966854),to=n(826160),tl=n(996397),td=n(547322),tc=n(631722),tu=n(593979),tp=n(550538),tm=n(564422);function th({onBack:e,text:t}){let n=(0,k.m0)(),i=(0,C.to)();return(0,a.jsxs)("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,a.jsxs)("div",{className:"browse_resource_modal_tab_header--left--UnLHb",children:[(0,a.jsx)(eZ.B,{"data-not-draggable":!0,svg:tm.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t]}),!n&&!i&&(0,a.jsx)(X.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"})]})}var tf=n(991104),tg=n(822706);function t_(e){let t=(0,s.wA)(),{activeTab:n}=(0,X.IT)(),i=n===Y.s.PLUGIN,o=(0,I.cW)(),l=(0,I.ZT)(),d=(i?o:l)[e.resourceId];return(r.useEffect(()=>{d&&d.community_publishers||t(G.af({id:e.resourceId,resourceType:i?R.bD.PLUGIN:R.bD.WIDGET}))},[t,d,e.resourceId,i]),d)?(0,a.jsx)("div",{className:"x5yr21d",children:(0,a.jsx)(tx,{resourceId:e.resourceId,resource:d})}):(0,a.jsx)("div",{className:y.s.flex.wFull.borderBox.justifyCenter.pt32.$,children:(0,a.jsx)(ez.kt,{size:"medium"})})}function tx(e){let{resource:t}=e,{activeTab:n}=(0,X.IT)(),i=n===Y.s.PLUGIN,o=(0,s.wA)(),l=(0,k.m0)(),d=(0,C.to)(),c=(0,I.x)(),u=(0,A.Um)(),m=(0,X.NF)((0,ta.T)()?X.gC+64:X.gC+40),h=(0,s.d4)(e=>e.authedUsers),f=(0,eX.EO)(t),g=(0,eX.lt)(t),x=(0,eX.gn)(t),b=(0,te.QQ)(g),E=(0,s.d4)(e=>e.authedActiveCommunityProfile),j=(0,tp.b)(),S=(0,L.sZ)(),N=(0,I.ll)(),O=(0,I.U6)(),M=Object.values((0,I.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:D,onInsertableResourcePointerDown:F}=(0,ts.P)({resource:(0,K.uF)(t),clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:j,triggeredFrom:"universal-insert"}),{canRate:B=!1}={},U=r.useCallback(()=>{o(tn.S({url:i?(0,tl.ab)(e.resourceId):(0,tl.ox)(e.resourceId),linkType:i?"plugin":"widget"}))},[o,e.resourceId,i]),H=i&&u?.type===tf.yW&&u.data.pluginId===e.resourceId&&u.data.targetRect,V=r.useCallback(t=>{t.stopPropagation(),i&&(H?o(w.oB()):o(w.j7({type:tf.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[i,H,o,e.resourceId]),G=r.useCallback(()=>{o(w.oB())},[o]);if(!t)return null;t.community_resource_payment=g;let z=(0,K.uF)(t),W=(0,eX.Zk)(E,h,t),Z=(0,K.og)({canAssociatedUserPurchaseThisResource:W,resource:t}),q=!M&&(0,ti.XV)({org:S,extension:t,allowlistedExtensions:i?N:O}),J=i?(0,a.jsx)($.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):(0,a.jsx)($.GJ,{widgetId:e.resourceId});return(0,a.jsxs)(T.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:i?R.bD.PLUGIN:R.bD.WIDGET,isMonetized:(0,R.m3)(t),editorType:"figma"},children:[!d&&(0,a.jsx)("div",{className:"x1c4vz4f",children:(0,a.jsx)(ty,{})}),(0,a.jsx)(_.P,{height:m,containerStyle:{flexGrow:1},onScroll:G,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:(0,a.jsx)("div",{className:"detail_view--contentContainer--nSBG8",children:(0,a.jsxs)("div",{className:(0,ta.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0,children:[(0,a.jsxs)("div",{className:(0,ta.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG",children:[(0,a.jsx)("img",{className:p()((0,ta.T)()?"detail_view--coverImageVsCode--ZtGDB":i?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",y.s.if((0,ta.T)(),y.s.bRadius5).$),src:z.redirect_cover_image_url||"",alt:`${z.name}`,onPointerDown:e=>!i&&F(e)}),(0,a.jsx)(tr.E,{dragState:D})]}),x&&(0,a.jsx)(tc.cu,{}),Z&&!x&&!b&&(0,a.jsx)(e$,{resource:t}),(0,a.jsxs)("div",{className:(0,ta.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,a.jsxs)("div",{className:"detail_view--metadataContainer--GSTfB",children:[(0,a.jsxs)("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:[(0,a.jsx)("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa",children:z.name}),(0,eK.$3)({resource:t,validBadges:[eK.op.PURCHASED],authedActiveCommunityProfile:E})||(0,a.jsx)(eW.I,{badges:t.badges,height:"16",hideTooltip:!0})]}),(0,a.jsx)("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:(t.community_publishers?.accepted||[]).length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(to.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,X.kB)(t)]})})]}),(!l||c)&&(0,a.jsxs)("div",{className:"detail_view--actionsRow--sAwdf",children:[(0,a.jsx)("div",{className:"detail_view--ctaContainer--Z5uKT",children:f&&!(0,eV.kc)().community_hub_admin_reviewer?(0,a.jsx)(e0.I,{resource:t,context:R.aL.INSERTS,payment:g}):q?(0,a.jsx)(tg.s,{version:z,isPlugin:i}):J}),(0,a.jsx)("div",{className:"x78zum5 x6s0dn4 x1057jvv",children:(0,a.jsx)(tu._,{resourceId:e.resourceId,resourceType:i?R.vt.PLUGIN:R.vt.WIDGET,parentView:tu.n.DETAIL})}),l&&(0,K.Th)(z,S,N)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"detail_view--dotsContainer--JdwCt",children:(0,a.jsx)(eB.K,{"aria-label":(0,v.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.more_options")},onClick:V,children:(0,a.jsx)(eU.J,{})})}),H&&(0,a.jsx)(tf.Gq,{resourceId:e.resourceId,plugin:z,resourceType:i?R.vt.PLUGIN:R.vt.WIDGET})]}):(0,a.jsx)(eB.K,{"aria-label":(0,v.t)("universal_insert.copy_link"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.copy_link")},onClick:U,children:(0,a.jsx)(eH.r,{})})]}),(0,a.jsx)("div",{className:"detail_view--horizontalDivider--nZbBH"}),(0,a.jsx)("div",{className:"detail_view--resourceUsageDetails--dKwea",children:(0,a.jsx)(td.f,{resource:t})}),(0,a.jsx)("div",{className:eI,children:B&&(0,tt.Ul)(t)&&(0,a.jsx)("div",{className:eI,children:(0,a.jsx)(e8,{openRatingModal:e=>{},isInsertsModal:!0})})}),(0,a.jsx)(eG.R,{fallback:null,errorFallback:null,value:z.description})]})]})})}),(0,a.jsx)("div",{className:"x2lah0s",children:(0,a.jsx)(tv,{resourceId:e.resourceId})})]})}function ty(){let{closeResource:e,activeTab:t}=(0,X.IT)();return(0,a.jsx)(th,{onBack:e,text:t===Y.s.PLUGIN?(0,v.tx)("universal_insert.plugin"):(0,v.tx)("universal_insert.widget")})}function tv(e){let{activeTab:t}=(0,X.IT)(),n=t===Y.s.PLUGIN?"plugin":"widget",{href:i,onClick:r}=(0,ew.y)(`/community/${n}/${e.resourceId}`);return(0,a.jsxs)(ej.Ph,{className:ek,href:i,onClick:r,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0,children:[(0,a.jsx)(eE.U,{className:"x1aue78i"}),(0,v.tx)("universal_insert.see_more_details_in_community")]})}var tb=n(911990),tC=n(475477),tE=n(293422),tj=n(803126),tw=n(658704),tT=n(513674),tk=n(171660),tI=n(702388),tS=n(4102);function tN({isDesktop:e}){return(0,a.jsxs)(tT.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center",children:[(0,a.jsx)(eZ.B,{svg:tS.A,className:y.s.colorIconSecondary.pb24.$,autosize:!0,height:(0,ta.T)()?"64px":void 0}),(0,a.jsx)(tA,{isDesktop:e})]})}function tA({isDesktop:e}){let t={learnMoreLink:(0,a.jsx)(tC.N,{href:"https://www.figma.com/plugin-docs",newTab:!0,children:(0,v.tx)("dev_handoff.inspect_panel.learn_more_plugin_development")})};return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:y.s.alignCenter.$,children:[(0,a.jsx)(tk.E,{color:"secondary",children:(0,v.tx)("dev_handoff.inspect_panel.create_first_here")}),(0,a.jsx)("br",{}),(0,a.jsx)(tk.E,{children:(0,v.tx)("dev_handoff.inspect_panel.learn_more_link",t)})]}),(0,a.jsx)(tL,{})]}):(0,a.jsxs)("div",{className:y.s.alignCenter.$,children:[(0,a.jsx)(tk.E,{color:"secondary",children:(0,v.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")}),(0,a.jsx)("br",{}),(0,a.jsx)(tk.E,{color:"secondary",children:(0,v.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")}),(0,a.jsx)("br",{}),(0,a.jsx)(tk.E,{children:(0,v.tx)("dev_handoff.inspect_panel.learn_more_link",t)})]})})}function tL(){let e=(0,s.wA)(),t=(0,A.Um)(),n=t?.type===tI.kt,i=r.useCallback(t=>{n?e(w.oB()):e(w.j7({type:tI.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,n]);return(0,a.jsxs)("div",{className:y.s.pt16.$,children:[(0,a.jsx)(tE.$n,{onClick:i,variant:"secondary",children:(0,a.jsxs)(tT.Y1,{direction:"horizontal",verticalAlignItems:"center",padding:0,children:[(0,a.jsx)(tj.e,{className:y.s.pr8.$}),(0,a.jsx)(tk.E,{children:(0,v.tx)("dev_handoff.inspect_panel.new_plugin")}),(0,a.jsx)(tw.r,{})]})}),n&&(0,a.jsx)("div",{children:(0,a.jsx)(tI.Pq,{resourceType:R.bD.PLUGIN})})]})}var tO=n(532096),tR=n(203426);function tP(){let{activeTab:e}=(0,X.IT)(),t=(0,tO.$A)((0,s.d4)(e=>e.selectedView)),n=(0,I.nl)({allowNonVsCodePluginsInVsCode:!0}),i=(0,I.yQ)(),r=e===Y.s.WIDGET,o=r?i:n,l=(0,O.M)(),d=(0,I.sp)(r);return l&&(Object.keys(o).length>0||d.length>0)?(0,a.jsxs)(T.fu,{name:"Development",children:[Object.keys(o).map((e,t)=>(0,a.jsx)($.ff,{resourceId:e,type:$.R7.DEVELOPMENT,keyboardNavigationPath:[X.B6,t]},e)),d.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.id,type:$.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[X.B6,Object.keys(o).length+t]},e.id))]}):t?(0,a.jsx)(tb.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,ta.T)()?"start":"center",children:(0,a.jsx)(tN,{isDesktop:!!l})}):(0,a.jsx)(tR.W,{isWidget:r})}var tM=n(164131);function tD({viewType:e,onBackPress:t}){let n=(0,X.NF)(X.gC);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tF,{viewType:e,onBackPress:t}),(0,a.jsxs)(_.P,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:[(0,a.jsx)(tB,{viewType:e}),(0,a.jsx)(eS,{})]})]})}function tF({viewType:e,onBackPress:t}){let n;let{activeTab:i}=(0,X.IT)(),r=i===Y.s.PLUGIN;return n=e===Y.Y.ORG_PRIVATE_EXPANDED_LIST?r?(0,v.tx)("universal_insert.all_internal_plugins"):(0,v.tx)("universal_insert.all_internal_widgets"):r?(0,v.tx)("universal_insert.all_approved_plugins"):(0,v.tx)("universal_insert.all_approved_widgets"),(0,a.jsxs)("div",{className:"fd_browse_resource_modal--expandedViewHeader--uLZl5",children:[(0,a.jsxs)("div",{className:"fd_browse_resource_modal--left--si6Cj",children:[(0,a.jsx)(eZ.B,{svg:tm.A,className:"fd_browse_resource_modal--backButton--S7dMz",onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),(0,a.jsx)("div",{className:"fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:n})]}),(0,a.jsx)(X.Ex,{containerClassName:em})]})}function tB({viewType:e}){let t;let{activeTab:n}=(0,X.IT)(),i=(0,tM.h)("plugin"),r=(0,tM.h)("widget"),s=n===Y.s.WIDGET,o=(0,I.ll)(),l=(0,Q.bT)(Object.values(o)),d=(0,I.U6)(),c=s?Object.keys(d):l.map(e=>e.plugin_id);return t=e===Y.Y.ORG_PRIVATE_EXPANDED_LIST?(0,a.jsx)(a.Fragment,{children:(s?r:i).map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.plugin_id,type:$.R7.ORG_PRIVATE,keyboardNavigationPath:[X.B6,t]},e.plugin_id))}):(0,a.jsx)(a.Fragment,{children:c.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e,type:$.R7.COMMUNITY,keyboardNavigationPath:[X.B6,t]},e))}),(0,a.jsx)("div",{className:"fd_browse_resource_modal--expandedViewContainer--EvsBd",children:t})}var tU=n(437540),tH=n(483243),tV=n(211862),tG=n(944350),tz=n(530299),tK=n(904017),tW=n(437761),tZ=n(987294);function tq(e){let t=(0,tK.X$)("OrgView").unwrapOr(null),n=(0,tK.H3)(t);return n?(0,a.jsx)(tX,{currentOrgId:n,viewExpandedList:e.viewExpandedList}):(0,a.jsx)(ez.kt,{className:ef})}function tX(e){let{currentOrgId:t,viewExpandedList:n}=e,i=(0,tK.T5)("_OrgView").unwrapOr(null),o=i?.pluginsWhitelistEnforced??!1,l=i?.widgetsWhitelistEnforced??!1,{activeTab:d}=(0,X.IT)(),c=d===Y.s.WIDGET,u=(0,tM.h)("plugin"),p=(0,Q.bT)(u),m=(0,tM.h)("widget"),h=c?m:p,f=h.length>0,g=c?l:o,_=c?tW.n_:tW.Gb,x=(0,tV.tS)(),y=(0,tz.mC)(_(t,x)),b=(0,I.ll)(),C=(0,Q.bT)(Object.values(b)).map(e=>e.plugin_id),E=(0,I.U6)(),j=r.useMemo(()=>Object.keys(E),[E]),w=(0,I.Be)(),k=(0,I.pR)(w),S=k.orgWidgets,N=k.orgPlugins,A=(0,s.d4)(e=>e.orgUsersByOrgId[t][e.user.id]?.permission===tG._D.GUEST),L=(0,tU.R)(e=>A?{}:(0,K.Qt)((0,K.i8)(Object.values(e.publishedPlugins)),t)),O=r.useMemo(()=>{let e=Object.values(N).filter(e=>!L[e.plugin_id]);return o&&(e=e.filter(e=>b[e.plugin_id])),e.sort(I.YW)},[b,o,L,N]),R=(0,Q.Ol)(O);R=(0,Q.bT)(R);let M=r.useMemo(()=>R.map(e=>e.plugin_id),[R]),D=r.useMemo(()=>C.filter(e=>!N[e]),[C,N]),F=r.useMemo(()=>{let e=Object.values(S).filter(e=>!(0,tH.s7)(e,t));return l&&(e=e.filter(e=>E[e.plugin_id])),e.sort(I.YW)},[S,l,t,E]),B=(0,Q.Ol)(F),U=r.useMemo(()=>B.map(e=>e.plugin_id),[B]),H=r.useMemo(()=>j.filter(e=>!S[e]),[j,S]),V=c?H:D,G=c?U:M,z=f?(0,a.jsxs)(a.Fragment,{children:[(g?h.slice(0,X.Xo):h).map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.plugin_id,type:$.R7.ORG_PRIVATE,keyboardNavigationPath:[X.B6,t]},e.plugin_id)),g&&h.length>X.Xo&&(0,a.jsx)(tY,{viewExpandedList:()=>{n(Y.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:c?(0,v.t)("universal_insert.all_internal_widgets"):(0,v.t)("universal_insert.all_internal_plugins")})]}):(0,a.jsx)("div",{className:eh,children:c?(0,v.tx)("universal_insert.no_internal_widgets"):(0,v.tx)("universal_insert.no_internal_plugins")}),{href:W,onClick:Z}=(0,ew.y)(`/community/${c?"widgets":"plugins"}`),q=g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:el}),(0,a.jsxs)("div",{className:es,children:[(0,v.tx)("universal_insert.approved_from_figma_community"),(0,a.jsx)("a",{href:W,target:"_blank",children:(0,a.jsx)(eB.K,{onClick:Z,"aria-label":(0,v.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")},children:(0,a.jsx)(eE.U,{})})})]}),y&&0===V.length?(0,a.jsx)("div",{className:eh,children:c?(0,v.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,v.tx)("universal_insert.organization_has_no_approved_community_plugins")}):(0,a.jsxs)(a.Fragment,{children:[(f?V.slice(0,5):V).map((e,t)=>(0,a.jsx)($.ff,{resourceId:e,type:$.R7.COMMUNITY,keyboardNavigationPath:[X.B6+1,t]},e)),f&&V.length>5&&(0,a.jsx)(tY,{viewExpandedList:()=>{n(Y.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:c?(0,v.t)("universal_insert.all_approved_widgets"):(0,v.t)("universal_insert.all_approved_plugins")})]})]}),J=G.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eo}),(0,a.jsxs)("div",{className:es,children:[(0,v.tx)("universal_insert.saved_from_community"),(0,a.jsx)("a",{href:W,target:"_blank",children:(0,a.jsx)(eB.K,{"aria-label":(0,v.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")},onClick:Z,children:(0,a.jsx)(eE.U,{})})})]}),G.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e,type:$.R7.SAVED,keyboardNavigationPath:[X.B6+2,t]},e))]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eo}),(0,a.jsxs)("div",{className:es,children:[(0,v.tx)("universal_insert.saved_from_community"),(0,a.jsx)("a",{href:W,target:"_blank",children:(0,a.jsx)(eB.K,{onClick:Z,"aria-label":(0,v.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")},children:(0,a.jsx)(eE.U,{})})})]}),(0,a.jsx)("div",{className:eh,children:c?(0,v.tx)("universal_insert.no_saved_widgets"):(0,v.tx)("universal_insert.no_saved_plugins")})]});return(0,a.jsxs)(T.fu,{name:"Org",children:[z,J,q]})}function tY(e){return(0,a.jsxs)("button",{onClick:e.viewExpandedList,className:"fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",children:[(0,a.jsx)("span",{children:e.ctaText}),(0,a.jsx)(eZ.B,{svg:tZ.A})]})}var tJ=n(993469),tQ=n(65545),t$=n(999083),t0=n(638004),t1=n(883765),t2=n(550209),t3=n(280350),t5=n(352630),t4=n(513879),t6=n(596224),t7=n(887555),t9=n(17134),t8=n(755893),ne=n(3234);let nt=async(e,t)=>{let n={caller:ne.z.EDITOR_COMMUNITY_VIEW,resourceType:[tQ.vtl.PLUGIN],editorType:e?t8.qq.DEV_HANDOFF:t8.qq.DESIGN,sortBy:t7.e.Browse.POPULAR,includeContent:!0};e&&t&&(n.capabilityType=t9.h.CODEGEN);let[i,a]=await Promise.all([z.M4.fetch(ne.a.ResourcesPaginatedQuery({...n,price:t4.C.FREE,pageSize:18})),z.M4.fetch(ne.a.ResourcesPaginatedQuery({...n,price:t4.C.PAID,pageSize:12}))]);return[...i,...a].map(e=>(0,t6.cD)(e)).filter(e=>!!e)},nn=async()=>{let e={caller:ne.z.EDITOR_COMMUNITY_VIEW,resourceType:[tQ.vtl.WIDGET],editorType:t8.qq.DESIGN,sortBy:t7.e.Browse.POPULAR,includeContent:!0},[t,n]=await Promise.all([z.M4.fetch(ne.a.ResourcesPaginatedQuery({...e,price:t4.C.FREE,pageSize:18})),z.M4.fetch(ne.a.ResourcesPaginatedQuery({...e,price:t4.C.PAID,pageSize:12}))]);return[...t,...n].map(e=>(0,t6.rg)(e)).filter(e=>!!e)};function ni({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:i}=(0,X.IT)(),o=i===Y.s.WIDGET,l=(0,k.m0)(),d=(0,c.md)(j.RB)&&l,[u,p]=r.useState(!1),{allowListIsLoading:m,allowList:h,hasAllowList:f,hasPluginAllowList:g,hasWidgetAllowList:_,publicExtensionsDisallowed:x}=(0,I.jA)(o),y=(0,Q.bT)(Object.values(h)).map(e=>e.plugin_id),[b,C]=r.useState(null),[E,w]=r.useState(null),[S,N]=r.useState(!1),[A,L]=r.useState(!1),O=(0,s.wA)();r.useEffect(()=>{let e=u!==d;g||x||!e&&null!==b||S||(N(!0),nt(l,d).then(e=>{O(G.Qi({publishedPlugins:e,src:"Figma inserts modal recents view"})),C((0,t$.k4)(e)),N(!1),p(d)}).catch(e=>{(0,t2.$D)(t0.e.COMMUNITY,e),N(!1),C([]),p(d)}))},[O,b,S,l,f,g,x,d,u]),r.useEffect(()=>{_||null!==E||A||(L(!0),nn().then(e=>{O(G.Qi({publishedPlugins:e,src:"Figma inserts modal recents view"})),w((0,t$.k4)(e)),L(!1)}).catch(e=>{(0,t2.$D)(t0.e.COMMUNITY,e),L(!1),w([])}))},[O,E,A,f,_]);let R=o?E:b,M=o?A:S,{href:D,onClick:F}=(0,ew.y)(`/community/${i===Y.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(f?m:M)return(0,a.jsx)("div",{className:"xqui205 xh8yej3 x1o2pa38",children:(0,a.jsx)(B.k,{})});if(!(null!==R)&&!f)return null;let r=f?y:R.map(e=>e.id);return x||0===r.length?null:(0,a.jsxs)(T.fu,{name:f?"Approved plugins":"From Community",children:[(0,a.jsx)("div",{className:n?eo:el}),(0,a.jsxs)("div",{className:es,"data-onboarding-key":"community_feed_header",children:[f?(0,v.tx)("universal_insert.approved_from_figma_community"):(0,v.tx)("universal_insert.from_community"),(0,a.jsx)("a",{href:D,target:"_blank",children:(0,a.jsx)(t5.Me,{onClick:F,"aria-label":(0,v.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("universal_insert.go_to_community")},trackingEventName:"Inserts - Browse More From Community Icon Button",children:(0,a.jsx)(eE.U,{})})})]}),r.slice(0,f?5:10).map((e,n)=>(0,a.jsx)($.ff,{type:$.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]},e)),f&&r.length>5?(0,a.jsx)(tY,{viewExpandedList:()=>{e(Y.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:o?(0,v.t)("universal_insert.all_approved_widgets"):(0,v.t)("universal_insert.all_approved_plugins")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS,{}),(0,a.jsx)(t3.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,t1.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:i})},style:l?{paddingBottom:30}:void 0})]})]})},[f,m,M,R,y,x,D,F,o,e,t,n,i,l])}function na(e){let{activeTab:t}=(0,X.IT)(),{loaded:n,extensions:{recentExtensions:i,savedExtensionIds:s}}=ey(),o=r.useMemo(()=>i.length>0?(0,a.jsxs)(T.fu,{name:"recents",children:[(0,a.jsx)("div",{className:er,"data-onboarding-key":"recents_plugin_header",children:(0,v.tx)("universal_insert.recents")}),i.slice(0,X.Zm).map((e,t)=>(0,a.jsx)($.ff,{type:$.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[X.B6,t]},e.plugin_id))]}):(0,a.jsx)(a.Fragment,{}),[i]);if(!0===n&&i.length+s.length===0)return(0,a.jsxs)(T.fu,{name:"Recents and saved",children:[(0,a.jsx)(tJ.H,{isWidget:t===Y.s.WIDGET}),(0,a.jsx)(ni,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:X.B6+2})]});let l=(0,a.jsx)(ex,{isWidget:t===Y.s.WIDGET}),d=i.length>0,c=s.length>0;return(0,a.jsxs)(T.fu,{name:"Recents and saved",children:[o,c&&d&&(0,a.jsx)("div",{className:eo}),l,(0,a.jsx)(ni,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:X.B6+2})]})}var nr=n(950794),ns=n(824570),no=n(685031);function nl(){let e=r.useRef({}),t=r.useCallback((t,n)=>{e.current[t]=n},[]),n=r.useCallback(t=>e.current[t]||[],[]),i=r.useCallback(t=>t in e.current,[]),a=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:i,resetCache:a}),[t,n,i,a])}var nd=n(150156);let nc=new nd.Ef([],{...e1.Pk,keys:e1.Kj}),nu=new nd.Ef([],{...e1.Pk,keys:[{name:"name",weight:1}]}),np=new nd.Ef([],{...e1.Pk,keys:e1.Kj});function nm(e){let t;let{activeTab:n}=(0,X.IT)(),i=n===Y.s.WIDGET,s=(0,k.m0)(),o=(0,C.to)(),l=e.query.trim(),d=(0,k.lg)(),c=no.k.getApiEditorType(d),{pluginServerSideSearch:u,pluginSearchIsLoading:p,pluginSearchHasResolved:m}=(0,I.I5)(c,{useResourceSearch:o}),{widgetServerSideSearch:h,widgetSearchIsLoading:f,widgetSearchHasResolved:g}=(0,I.SG)(c),{getResultsForQuery:x,setResultsForQuery:y,resetCache:b}=nl(),E=x(l),{getResultsForQuery:j,setResultsForQuery:w,resetCache:N}=nl(),A=j(l),{getResultsForQuery:O,setResultsForQuery:R,hasQueryResultsCached:P,resetCache:M}=nl(),D=nh(O(l),[E]),{getResultsForQuery:F,setResultsForQuery:B,hasQueryResultsCached:U,resetCache:H}=nl(),V=nh(F(l),[E,D]),{getResultsForQuery:G,setResultsForQuery:z,resetCache:W}=nl(),Z=nh(G(l),[E,D,V]),{getResultsForQuery:q,setResultsForQuery:J,hasQueryResultsCached:Q,resetCache:ee}=nl(),ea=nh(q(l),[E,D,V,Z]);r.useEffect(()=>{b(),N(),M(),H(),ee(),W()},[i,W,ee,M,N,H,b]);let er=(0,I.Tg)(),es=(0,I.qr)(),eo=(0,I.$1)(),el=(0,I.yQ)(),ed=(0,I.ll)(),ec=(0,I.U6)(),eu=(0,I.cW)(),ep=(0,I.ZT)(),em=(0,ns.k9)(()=>Object.keys(i?ec:ed).map(e=>(0,K.uF)((i?ep:eu)[e])),[ed,ep,eu,ec,i]);r.useEffect(()=>{nc.set(Object.values(i?es:er))},[er,es,i]),r.useEffect(()=>{nu.set(Object.values(i?el:eo))},[eo,el,i]),r.useEffect(()=>{np.set(em)},[em]);let eg=(0,L.sZ)(),{serverSideSearch:e_,isLoading:ex,hasResolved:ey}=n===Y.s.PLUGIN?{serverSideSearch:u,isLoading:p,hasResolved:m}:{serverSideSearch:h,isLoading:f,hasResolved:g};r.useEffect(()=>{""!==l&&(Q(l)&&U(l)&&P(l)||e_(l,e=>J(l,e),e=>B(l,e),e=>R(l,e)),y(l,nc.search(l).map(e=>e.plugin_id)),w(l,nu.search(l).map(e=>e.localFileId.toString())),z(l,np.search(l).map(e=>e.plugin_id)))},[l,Q,P,U,e_,z,J,R,w,B,y]);let ev=S.z4.getIsExtension()?X.gC+X.Ix:s?X.gC+X.Ix+X.ff+8:X.gC+X.Ix,eb=(0,X.NF)(ev),eC=s?en:o?ei:et,eE=s?"fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg":o?ei:"fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",ej=r.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=eE:n.className=eC)},[e.searchContainerRef,eE,eC]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=eC)},[]);let ew=eg&&(i?eg.widgets_whitelist_enforced:eg.plugins_whitelist_enforced),eT=(!ew||(0,ti.Cs)({org:eg,isWidget:i}))&&ea&&ea.length>0&&ey,ek=ew&&Z.length>0,eI=eg&&V&&V.length>0&&ey,eS=D.length>0&&ey,eN=E.length>0,eA=A.length>0,eL=ey&&(eT||eI||eN||eS||ek);if(ey&&!(eN||eA||eL))t=(0,a.jsxs)("div",{className:eh,children:[(0,a.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 xh8yej3 x12sbs06",children:(0,a.jsx)(nr.W,{className:"xtc4nxu"})}),(0,a.jsx)("div",{children:i?ew&&eg?(0,v.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:eg.name,query:l}):(0,v.tx)("universal_insert.no_widgets_matching_query",{query:l}):ew&&eg?(0,v.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:eg.name,query:l}):(0,v.tx)("universal_insert.no_plugins_matching_query",{query:l})})]});else{t=[];let e=X.B6;eN&&(t.push((0,a.jsx)(ng,{sectionHeader:(0,v.tx)("universal_insert.recents"),ids:E,type:$.R7.RECENT,sectionIdx:e},$.R7.RECENT)),e+=1),eA&&(t.push((0,a.jsx)(ng,{sectionHeader:(0,v.tx)("universal_insert.development"),ids:A,type:$.R7.DEVELOPMENT,sectionIdx:e},$.R7.DEVELOPMENT)),e+=1),ex&&!eL?t.push((0,a.jsx)(ez.kt,{className:ef},"Loading spinner")):(eS&&(t.push((0,a.jsx)(ng,{sectionHeader:(0,v.tx)("universal_insert.saved"),ids:D,type:$.R7.SAVED,sectionIdx:e},$.R7.SAVED)),e+=1),eI&&(t.push((0,a.jsx)(ng,{sectionHeader:eg.name,ids:V,type:$.R7.ORG_PRIVATE,sectionIdx:e},$.R7.ORG_PRIVATE)),e+=1),ek&&(t.push((0,a.jsx)(ng,{sectionHeader:(0,v.tx)("universal_insert.approved_from_figma_community"),ids:Z,type:$.R7.COMMUNITY,sectionIdx:e},`ALLOW_LIST_${$.R7.COMMUNITY}`)),e+=1),eT&&t.push((0,a.jsx)(ng,{sectionHeader:(0,v.tx)("universal_insert.from_community"),ids:ea,type:$.R7.COMMUNITY,sectionIdx:e},$.R7.COMMUNITY)))}return(0,a.jsx)(_.P,{innerClassName:o?"fd_browse_resource_modal--buzzScrollContainer--XtGn8":"",height:eb,onScroll:ej,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:(0,a.jsx)(T.fu,{name:"search",properties:{searchQuery:l,resourceType:n},children:t})})}let nh=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function nf(e){return(0,a.jsx)("div",{onClick:()=>(0,t1.sx)("search result clicked"),"data-testid":`browse-resource-tile-${e.resourceId}`,children:(0,a.jsx)($.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0})})}function ng(e){return(0,a.jsxs)(a.Fragment,{children:[e.sectionIdx>X.B6&&(0,a.jsx)("div",{className:eo}),(0,a.jsx)("div",{className:"x1g2dr8m xiqqdae xkezfkh x14kxzw3 x1giz659 xe9iah2 x1swbamy xkdneqi x1n0bwc9",children:e.sectionHeader}),e.ids.map((t,n)=>(0,a.jsx)(nf,{resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]},t))]})}let n_=()=>({[Y.s.COMPONENT]:{label:(0,v.t)("universal_insert.components"),tab:Y.s.COMPONENT,resourceTypeLabel:(0,v.t)("universal_insert.components_resource_type")},[Y.s.PLUGIN]:{label:(0,v.t)("community.view_bar.plugins"),tab:Y.s.PLUGIN,resourceTypeLabel:(0,v.t)("community.plugins.plugin")},[Y.s.WIDGET]:{label:(0,v.t)("community.view_bar.widgets"),tab:Y.s.WIDGET,resourceTypeLabel:(0,v.t)("community.plugins.widget")}});function nx(e){return(0,a.jsxs)("div",{className:"fd_browse_resource_modal--tabHeader--edoDO",children:[(0,a.jsx)("div",{className:"fd_browse_resource_modal--tabsContainer--v6cIk",children:Object.entries(n_()).map(([t,n])=>(0,a.jsx)("div",{className:"fd_browse_resource_modal--tabClickTarget--QDM1e",role:"tab",onClick:()=>e.onClick(n.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0,children:(0,a.jsx)("div",{"data-label":n.label,className:n.tab===e.selectedTab?"fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd":"fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",children:n.label},t)},t))}),(0,a.jsx)(X.Ex,{containerClassName:em})]})}let ny="BROWSE_CODEGEN_FILTER_DROPDOWN";function nv(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,s.d4)(e=>e.universalInsertModal),o=t?.id,{activeTab:l,currentView:d,setCurrentViewOrTab:c}=(0,X.IT)(),u=(0,k.m0)(),p=(0,C.to)(),m=u||p?"fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf":"fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",[f,_]=r.useState(n?"":i||""),[x,y]=r.useState(Y.Y.MAIN),b=r.useCallback(e=>{if(e.keyCode===h.Uz.ENTER){let t=e.target,n=t?.querySelector("button");n?.click()}},[]);r.useEffect(()=>{i=f},[f]);let E=r.useMemo(()=>(0,a.jsx)(nx,{onClick:t=>{t!==Y.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:l}),[l,c]),j=r.useMemo(()=>{let t=et;return(u?t=en:p&&(t=ei),l===Y.s.COMPONENT)?(0,a.jsx)(T.fu,{name:l,children:(0,a.jsx)(eF,{header:E,query:f,setQuery:_})}):(0,a.jsxs)(T.fu,{name:l,children:[!u&&!p&&E,(0,a.jsx)("div",{className:"x5yr21d",onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:(0,a.jsxs)(g.dP,{containerStyle:{display:"flex",flexDirection:"column",height:"100%"},onKeyDown:b,children:[(0,a.jsx)("div",{className:t,ref:e,children:(0,a.jsx)(nb,{searchQuery:f,placeholder:l===Y.s.PLUGIN?(0,v.t)("universal_insert.search_all_plugins"):l===Y.s.WIDGET?(0,v.t)("universal_insert.search_all_widgets"):(0,v.t)("universal_insert.search_all_extensions"),setSearchQuery:_})}),0===f.length&&(0,a.jsx)("div",{className:"x1iyjqo2",children:(0,a.jsx)(nC,{viewExpandedList:y,currentView:d,setCurrentView:e=>c({newView:e})})}),f.length>0&&(0,a.jsx)(nm,{query:f,searchContainerRef:e})]})})]})},[l,b,f,u,p,E,d,c]),w=null;return o?w=(0,a.jsx)(t_,{resourceId:o}):(x===Y.Y.ORG_PRIVATE_EXPANDED_LIST||x===Y.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(w=(0,a.jsx)(g.dP,{onKeyDown:b,children:(0,a.jsx)(tD,{viewType:x,onBackPress:()=>y(Y.Y.MAIN)})})),(0,a.jsxs)("div",{className:m,children:[(0,a.jsx)("div",{className:w?"fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU":ee,children:j}),w&&(0,a.jsx)("div",{className:ee,children:w})]})}function nb({searchQuery:e,setSearchQuery:t,placeholder:n}){let i=(0,s.wA)(),{setKeyboardNavigationElement:u}=(0,g.M3)({id:"search",path:[X.np,0]}),h=(0,A.Um)(),_=h?.type===ny,y=r.useRef(null),[T,I]=(0,c.fp)(j.RB),S=T&&!_,L=(0,N.LR)(),O=r.useCallback(n=>"Escape"===n.key&&(e?t(""):L(),!0),[L,e,t]),R=(0,m.A)(e=>{e.length>0?i(b.Dy({entryPoint:"figma:inserts"})):i(b.ky()),t(e)},300),D=()=>{i(b.ky()),t("")};r.useEffect(()=>()=>{i(b.ky())},[i]);let F=r.useCallback(()=>{_?i(w.oB()):i(w.j7({type:ny}))},[i,_]),B=[];B.push((0,a.jsx)(f.MM,{checked:T,onClick:()=>{I(!T),F()},role:"menuitemcheckbox",children:(0,v.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")}));let U=(0,k.m0)(),H=(0,C.to)(),V=H?(0,a.jsx)(E.N,{searchQuery:e,placeholder:n,onChange:R,clearSearch:D}):(0,a.jsx)(x.IW,{ref:e=>u(e?.searchInput??null),className:p()(U?"fd_browse_resource_modal--searchBarDevHandoff--uuPW-":"fd_browse_resource_modal--searchBar---bmO8",{"fd_browse_resource_modal--searchBarEmpty--8dNhE":""===e}),clearSearch:D,focusOnMount:!U,hideXIcon:!e,isKeyDownHandled:O,onChange:R,placeholder:n,query:e,selectTextOnMount:!U});if(!U||H||e)return V;let G="dev-mode-codegen-filter-menu";return(0,a.jsxs)("div",{className:"fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",children:[V,(0,a.jsx)("div",{className:"fd_browse_resource_modal--searchBarFilterButton--hQeym",children:(0,a.jsx)("div",{ref:y,children:(0,a.jsx)(o.d,{"aria-expanded":_,onClick:F,htmlAttributes:{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,v.t)("dev_handoff.inspect_panel.search_bar_filter")},"aria-label":(0,v.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-controls":G,children:S?(0,a.jsx)(l.S,{className:p()({[ea]:S})}):(0,a.jsx)(d.S,{className:p()({[ea]:S})})})})}),_&&y.current&&(0,a.jsx)(M.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,hideDropdown:F,id:G,options:B,propagateCloseClick:!0,showPoint:!0,targetRect:y.current.getBoundingClientRect()})]})}function nC(e){let t=r.useRef(null),n=(0,k.m0)(),i=(0,C.to)(),o=S.z4.getIsExtension()?X.Ix+X.gC+48:n?X.gC+X.Kr+X.Ix+X.ff:X.gC+X.Kr+X.Ix,{activeTab:l,currentView:d}=(0,X.IT)(),c=(0,X.NF)(o),u=r.useRef(null),m=(0,s.wA)(),h=r.useCallback(e=>{t.current&&(e>0?t.current.className=p()("fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",i?eu:ec):t.current.className=p()(ed,i?eu:ec),m(w.oB()))},[t,m,i]);r.useEffect(()=>{u.current?.scrollToTop()},[l,d]);let f=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nw,{currentView:e.currentView}),"all"===e.currentView&&(0,a.jsx)(eC,{}),"recents_and_saved"===e.currentView&&(0,a.jsx)(na,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&(0,a.jsx)(tP,{}),"org"===e.currentView&&(0,a.jsx)(tq,{viewExpandedList:e.viewExpandedList})]});return(0,a.jsxs)("div",{className:"x1n2onr6 x78zum5 xdt5ytf x5yr21d",children:[(0,a.jsxs)("div",{className:p()(ed,i?eu:ec),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header",children:[(0,a.jsx)(nT,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&(0,a.jsx)("div",{className:"fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",children:(0,a.jsx)(F.n,{resourceType:l===Y.s.WIDGET?R.bD.WIDGET:R.bD.PLUGIN})})]}),(0,a.jsx)(_.P,{height:c,onScroll:h,innerClassName:n||i?y.s.hFull.$:"",ref:u,containerStyle:{flexGrow:1},children:f}),(0,a.jsx)(nj,{currentView:e.currentView})]})}let nE=["recents_and_saved","all"];function nj({currentView:e}){return nE.includes(e)?(0,a.jsx)("div",{className:"x7wzq59 x1ey2m1c",children:(0,a.jsx)(eS,{})}):null}function nw({currentView:e}){let{activeTab:t}=(0,X.IT)(),n=L.sZ()?.id,i=(0,I.f6)(),r=(0,I.wW)(),s=t===Y.s.WIDGET?r:i,o="org"===e?s.filter(e=>e.org_id&&e.org_id===n):s;return 0===o.length?null:(0,a.jsxs)("div",{children:[o.map((e,t)=>(0,a.jsx)($.ff,{resourceId:e.id,type:$.R7.INVITED,keyboardNavigationPath:[X.dQ,t]},e.id)),(0,a.jsx)("div",{className:eo})]})}function nT(e){let t=(0,s.wA)(),n=(0,A.Um)(),i=(0,L.sZ)(),o=(0,O.M)(),{includeAll:l}=(0,X.IT)(),d=r.useCallback(e=>(function(e,t){switch(e){case"all":return(0,v.t)("qa.filter.all");case"recents_and_saved":return(0,v.t)("universal_insert.recents_and_saved");case"development":return(0,v.t)("universal_insert.development");case"org":return t?.name||(0,v.t)("universal_insert.from_your_org")}})(e,i),[i]),c=[];return(l&&c.push("all"),c.push("recents_and_saved"),o&&c.push("development"),1!==c.length||i)?(0,a.jsxs)(D.l6,{ariaLabel:(0,v.t)("universal_insert.resource.select.aria_label"),chevronClassName:"fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",className:"fd_browse_resource_modal--mainViewSelector--chQy5",dispatch:t,dropdownShown:n,dropdownWidth:173,formatter:{format:d},id:"fd-browse-modal-main-view-select",inputClassName:ep,onChange:e.onChange,property:e.currentView,children:[c.map(e=>(0,a.jsx)(D.c$,{value:e,children:d(e)},e)),i&&(0,a.jsx)(D.sK,{}),i&&(0,a.jsx)(D.c$,{value:"org",children:d("org")})]}):(0,a.jsx)("div",{className:"fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",children:(0,a.jsx)("div",{className:ep,children:d(c[0])})})}},822706:(e,t,n)=>{n.d(t,{s:()=>g,w:()=>f});var i=n(104076),a=n(903927),r=n(555013),s=n(236631),o=n(192075),l=n(366535),d=n(878801),c=n(36362),u=n(211862),p=n(288747),m=n(176203),h=n(569507),f=(e=>(e.FigJamPluginTile="figjam_plugin_tile",e))(f||{});function g(e){let t=(0,a.wA)(),{version:n,isPlugin:f,variant:g}=e,_=(0,u.q5)(),x=(0,p.sZ)(),y=(0,c.RW)(),v=(0,d.a)(x?.id,n.plugin_id,y.loaded?y.data?.workspaceId:void 0);if(!_||!_.parentOrgId)return null;if(v){let e="figjam_plugin_tile"===g?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.approval_pending");return(0,i.jsx)(r.nR,{disabled:!0,className:s.s.wFull.$,dataTestId:"request-button-approval-pending",children:e})}let b={extension:{pluginId:n.plugin_id,iconUrl:n.redirect_icon_url,name:n.name},isWidget:!f,orgId:_.parentOrgId,workspaceDetails:y.loaded?y.data:void 0,openedFrom:"editor",fullscreenEditorType:(0,m.wN)(_.editorType)},C="figjam_plugin_tile"===g?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.request_approval");return(0,i.jsx)(r.nR,{onClick:()=>{t((0,l.to)({type:h.S,data:b}))},className:s.s.wFull.$,dataTestId:"request-button",children:C})}},295114:(e,t,n)=>{n.d(t,{G:()=>g,y:()=>_});var i=n(104076),a=n(716976),r=n(903927),s=n(751536),o=n(266808),l=n(192075),d=n(366535),c=n(244205),u=n(877373),p=n(615782),m=n(894210),h=n(502756),f=n(178266);let g="templates_toolbar";function _(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.modalShown?.type===h.PH.type),n=(0,a.useCallback)(()=>{t?e(d.Ce()):(u.oW.trigger("action",o.KWd.CLEAR),e(d.$O({type:h.PH.type,data:{triggeredFrom:"toolbar",templateInsertionLocation:p.RD.CURRENT_FILE}})))},[e,t]),_=(0,l.t)("whiteboard.inserts.templates");return(0,i.jsx)(f.Z,{tooltip:{type:m.Ib.TEXT,text:_},isActive:t,onClick:n,trackingProperties:{trackingDescriptor:c.c.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:g,children:(0,i.jsx)(s.Q,{})})}},643945:(e,t,n)=>{n.d(t,{_:()=>g,H:()=>f});var i=n(104076),a=n(951002),r=n(266808),s=n(980852),o=n(511570),l=n.n(o);let d=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM","APPLE_WATCH_SERIES_10_42MM","APPLE_WATCH_SERIES_10_46MM","APPLE_IPHONE_16"],c=e=>d.some(t=>e.startsWith(t));var u=n(337059),p=n(873016),m=n(987836),h=n(770158);function f({children:e,initialViewerSize:t,isDeviceFrameShown:n,shouldHide:a}){let r;return n&&(r=s.UN().getCurrentPage()?.prototypeDevice),(0,i.jsx)(g,{initialViewerSize:t,isDeviceFrameShown:n,prototypeDevice:r,isInlinePreview:!0,shouldHide:a,children:e})}function g({children:e,initialViewerSize:t,isDeviceFrameShown:n,prototypeDevice:s,isInlinePreview:o,onDeviceFrameLoaded:d,shouldHide:f}){let g="data:,",_="",x={},y=!1,v=1,b=!1;if(n){(0,a.B1)(s,"prototypeDevice should be set when device frame is shown");let{presetIdentifier:e,rotation:n}=s,i=u.hY[e];if(o){let e=i?.inlinePreviewInfo;(0,a.B1)(e,"inlinePreviewDeviceData should exist since device is supported for inline preview")}g=i.url,y=c(e),b=n===r.xOL.CCW_90;let l=i.getI18nDeviceName(),d=i.getI18nStyleName();_=`${l} (${d})`;let{idealDeviceSize:m,framePresetSize:h,offset:f}=(0,p.is)(e,n),C=(0,p.Ho)(t,h,m);v=C.x/C.y;let E=(0,p.Ho)(t,h,f),j={x:t.x/C.x*100,y:t.y/C.y*100},w={x:E.x/C.x*100,y:E.y/C.y*100};x={position:"absolute",width:`${j.x}%`,height:`${j.y}%`,left:`${w.x}%`,top:`${w.y}%`}}let C=n?h.qW:m.Wc,E=l()({[m.Wc]:!0,[h.Cb]:n,[h.Q$]:y});return(0,i.jsxs)("div",{className:l()(C,{[m.R]:f}),children:[n&&(b?(()=>{let e=1/v;return(0,i.jsx)("div",{style:{aspectRatio:v},children:(0,i.jsx)("img",{src:g,className:l()(h.Q0,h.mT,h.M4),style:{width:`${100*e}%`},alt:_,"data-testid":"inline-preview-device-image",onLoad:d})})})():(0,i.jsx)("img",{src:g,className:h.M4,alt:_,"data-testid":"inline-preview-device-image",onLoad:d})),(0,i.jsx)("div",{style:x,className:E,children:e})]})}},628188:(e,t,n)=>{n.d(t,{Ig:()=>r,Pp:()=>d,XL:()=>c,nH:()=>a,pu:()=>i,td:()=>o,ug:()=>s,zH:()=>l});var i=(e=>(e.NAME_SELF="Name Step",e.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",e.WHAT_DO_YOU_DO="What Do You Do Step",e.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",e.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",e.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",e.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",e.INVITE_COLLABORATORS="Invite Collaborators Step",e.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",e.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",e.CHOOSE_PLAN="Choose Plan Step",e.CHOOSE_PRODUCT="Choose Product Step",e.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",e))(i||{});let a=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],r=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"],s=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"],o=a.filter(e=>"Choose Product Step"!==e),l=a.filter(e=>"Choose Plan Step"!==e),d=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],c=["What Do You Do Step"]},61835:(e,t,n)=>{n.d(t,{G:()=>d});var i=n(104076),a=n(716976),r=n(192075),s=n(670410);let o="sticky_note--stickyNoteAnimateIn--AiFPv",l=e=>{switch(e){case"developer":return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.developer");case"designer":return(0,r.t)("new_user_experience.what_do_you_do.cursor_chat.designer");case"product_manager":return(0,r.t)("new_user_experience.what_do_you_do.cursor_chat.product_manager");case"research":return(0,r.t)("new_user_experience.what_do_you_do.cursor_chat.user_researcher");case"marketer":return(0,r.t)("new_user_experience.what_do_you_do.cursor_chat.marketer");case"student":return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.student");case"educator":return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.educator");case"ux_writing":return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.ux_writing");case"data_analytics":return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.data_analytics");default:return(0,r.t)("new_user_experience.what_do_you_do.sticky_note.other")}};function d({jobTitle:e}){let t=(0,s.K2)(),[n,r]=(0,a.useState)(0),d=(0,a.useRef)(n),c=(0,a.useRef)(e),u=l(c.current),[p,m]=(0,a.useState)(u),[h,f]=(0,a.useState)(o),g=e=>{let t;do t=Math.floor(15*Math.random())+-7;while(!(Math.abs(e-t)>=3))return t};return((0,a.useEffect)(()=>{let t=g(d.current);r(t);let n=l(e);if(c.current&&c.current!==e){f("sticky_note--stickyNoteAnimateOut--g015-"),c.current=e;let i=setTimeout(()=>{m(n),f(o),d.current=t},300);return()=>clearTimeout(i)}c.current=e,d.current=t,m(n),f(o)},[e]),e)?(0,i.jsx)("div",{className:h,style:{"--prevEndRotationAngle":`${d.current}deg`,"--endRotationAngle":`${n}deg`},children:(0,i.jsxs)("div",{className:"sticky_note--stickyNote--3k6bP",children:[(0,i.jsx)("div",{className:"sticky_note--stickyNoteText--okxL-",children:p}),(0,i.jsx)("div",{className:"sticky_note--stickyNoteName--vgQzM",children:t})]})}):null}},493909:(e,t,n)=>{n.d(t,{B:()=>a});var i=n(104076);function a(){return(0,i.jsxs)("svg",{width:"800",height:"520",viewBox:"0 0 800 520",fill:"none",children:[(0,i.jsxs)("g",{filter:"url(#filter0_ddd_28_2608)",children:[(0,i.jsx)("rect",{x:"503",y:"226",width:"150",height:"150",rx:"2",fill:"white",stroke:"#E6E6E6",strokeWidth:"4"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M568.344 276.438H572.344V272.438V270.406C572.344 267.006 575.1 264.25 578.5 264.25C581.9 264.25 584.656 267.006 584.656 270.406V272.438V276.438H588.656H607V337.5H550V276.438H568.344ZM588.656 272.438H592.656H607H611V276.438V337.5V341.5H607H550H546V337.5V276.438V272.438H550H564.344H568.344V270.406C568.344 264.797 572.891 260.25 578.5 260.25C584.109 260.25 588.656 264.797 588.656 270.406V272.438ZM578.5 290.688C573.995 290.688 570.344 294.339 570.344 298.844C570.344 303.348 573.995 307 578.5 307C583.005 307 586.656 303.348 586.656 298.844C586.656 294.339 583.005 290.688 578.5 290.688ZM566.344 298.844C566.344 292.13 571.786 286.688 578.5 286.688C585.214 286.688 590.656 292.13 590.656 298.844C590.656 303.78 587.714 308.029 583.488 309.933C588.863 311.952 592.688 317.139 592.688 323.219V325.25H588.688V323.219C588.688 317.592 584.126 313.031 578.5 313.031C572.874 313.031 568.312 317.592 568.312 323.219V325.25H564.312V323.219C564.312 317.139 568.137 311.952 573.512 309.933C569.286 308.029 566.344 303.78 566.344 298.844Z",fill:"#E3E3E3"}),(0,i.jsxs)("g",{clipPath:"url(#clip0_28_2608)",children:[(0,i.jsx)("rect",{x:"558",y:"93",width:"150",height:"74",rx:"37",fill:"#F5F5F5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M591.913 133.843C591.913 133.38 591.459 133.053 591.019 133.2L585.662 134.985C585.385 135.078 585.198 135.337 585.198 135.629V140.842V142.842V146.054C585.198 146.346 585.385 146.605 585.662 146.697L591.019 148.483C591.459 148.63 591.913 148.302 591.913 147.839V133.843ZM581.198 142.842V146.054C581.198 148.067 582.487 149.855 584.397 150.492L589.754 152.278C592.784 153.288 595.913 151.033 595.913 147.839V133.843C595.913 130.65 592.784 128.395 589.754 129.405L585.198 130.924V130.127C585.198 118.411 594.696 108.913 606.413 108.913C618.129 108.913 627.627 118.411 627.627 130.127V130.924L623.071 129.405C620.041 128.395 616.913 130.65 616.913 133.843V147.839C616.913 151.033 620.041 153.288 623.071 152.278L628.428 150.492C630.338 149.855 631.627 148.067 631.627 146.054V142.842V140.842V135.629V130.127C631.627 116.202 620.338 104.913 606.413 104.913C592.487 104.913 581.198 116.202 581.198 130.127V135.629V140.842V142.842ZM627.627 142.842V146.054C627.627 146.346 627.44 146.605 627.163 146.697L621.806 148.483C621.366 148.63 620.913 148.302 620.913 147.839V133.843C620.913 133.38 621.366 133.053 621.806 133.2L627.163 134.985C627.44 135.078 627.627 135.337 627.627 135.629V140.842V142.842Z",fill:"#CDCDCD"}),(0,i.jsx)("path",{d:"M665.04 147.451C662.827 147.451 660.851 147.07 659.111 146.307C657.381 145.544 656.011 144.486 655.002 143.133C654.003 141.769 653.466 140.189 653.39 138.396H658.45C658.514 139.373 658.842 140.222 659.433 140.941C660.034 141.65 660.819 142.198 661.785 142.585C662.752 142.972 663.826 143.165 665.008 143.165C666.308 143.165 667.457 142.939 668.456 142.488C669.466 142.037 670.256 141.409 670.825 140.603C671.394 139.787 671.679 138.847 671.679 137.783C671.679 136.677 671.394 135.705 670.825 134.867C670.266 134.018 669.445 133.352 668.36 132.869C667.285 132.385 665.986 132.144 664.46 132.144H661.673V128.083H664.46C665.685 128.083 666.759 127.863 667.683 127.422C668.617 126.982 669.348 126.37 669.874 125.585C670.401 124.791 670.664 123.861 670.664 122.798C670.664 121.777 670.433 120.891 669.971 120.139C669.52 119.376 668.875 118.78 668.037 118.351C667.21 117.921 666.233 117.706 665.105 117.706C664.031 117.706 663.026 117.905 662.092 118.302C661.168 118.689 660.416 119.248 659.836 119.978C659.256 120.698 658.944 121.562 658.901 122.572H654.083C654.137 120.789 654.663 119.221 655.662 117.867C656.672 116.514 658.004 115.456 659.658 114.693C661.313 113.93 663.15 113.549 665.169 113.549C667.285 113.549 669.112 113.962 670.648 114.79C672.195 115.606 673.387 116.696 674.225 118.061C675.073 119.425 675.492 120.918 675.482 122.54C675.492 124.388 674.977 125.956 673.935 127.245C672.904 128.534 671.529 129.399 669.81 129.839V130.097C672.001 130.43 673.698 131.3 674.902 132.708C676.115 134.115 676.717 135.86 676.706 137.944C676.717 139.76 676.212 141.387 675.192 142.827C674.182 144.266 672.802 145.399 671.051 146.227C669.3 147.043 667.296 147.451 665.04 147.451Z",fill:"#CDCDCD"})]}),(0,i.jsx)("rect",{x:"556",y:"91",width:"154",height:"78",rx:"39",stroke:"#E6E6E6",strokeWidth:"4"}),(0,i.jsx)("path",{d:"M240.072 95.7249L285.898 265.713L115.91 311.539L70.084 141.551L240.072 95.7249Z",fill:"#E6E6E6"}),(0,i.jsx)("g",{clipPath:"url(#clip1_28_2608)",children:(0,i.jsxs)("g",{clipPath:"url(#clip2_28_2608)",children:[(0,i.jsxs)("mask",{id:"path-11-outside-1_28_2608",maskUnits:"userSpaceOnUse",x:"102.394",y:"136.291",width:"61.684",height:"66.0603",fill:"black",children:[(0,i.jsx)("rect",{fill:"white",x:"102.394",y:"136.291",width:"61.684",height:"66.0603"}),(0,i.jsx)("path",{d:"M146.846 179.984L146.844 180.001L148.046 180.143C148.579 180.209 149.091 180.388 149.547 180.667C150.004 180.947 150.393 181.32 150.689 181.762L150.74 181.846C151.128 182.426 151.34 183.102 151.351 183.795C151.362 184.488 151.172 185.169 150.802 185.758C150.433 186.347 149.899 186.818 149.265 187.118C148.631 187.417 147.923 187.531 147.224 187.447L145.855 187.285L145.852 187.304C146.385 187.37 146.898 187.549 147.354 187.829C147.811 188.109 148.2 188.483 148.495 188.926L148.547 189.004C148.934 189.584 149.145 190.26 149.156 190.953C149.167 191.645 148.976 192.326 148.607 192.914C148.237 193.502 147.704 193.973 147.071 194.272C146.437 194.572 145.729 194.686 145.031 194.602L115.38 191.086C114.555 190.988 113.756 190.731 113.03 190.33C112.304 189.929 111.664 189.392 111.149 188.748C110.633 188.104 110.25 187.368 110.023 186.58C109.796 185.792 109.729 184.968 109.825 184.156L111.859 167.007L114.344 167.301C116.312 167.535 117.411 167.288 118.944 164.684C123.729 155.978 130.52 153.325 131.095 148.473L131.278 146.934C131.345 146.406 131.621 145.927 132.047 145.601C132.472 145.274 133.011 145.126 133.548 145.19L134.159 145.263C135.136 145.378 136.047 145.813 136.744 146.5C137.441 147.186 137.884 148.083 138.001 149.045C138.126 150.111 138.126 151.186 138 152.251C137.784 154.066 137.21 155.82 136.312 157.416L134.097 161.357C133.962 161.594 133.889 161.86 133.884 162.132C133.878 162.404 133.942 162.674 134.068 162.916C134.194 163.159 134.378 163.367 134.606 163.523C134.833 163.678 135.095 163.777 135.37 163.809L149.824 165.523C150.357 165.589 150.869 165.767 151.325 166.047C151.781 166.326 152.171 166.7 152.467 167.142L152.518 167.228C152.904 167.808 153.115 168.484 153.125 169.176C153.135 169.868 152.944 170.548 152.575 171.135C152.206 171.723 151.673 172.194 151.04 172.493C150.407 172.792 149.7 172.907 149.002 172.824L147.849 172.687L150.299 172.978C150.832 173.043 151.344 173.222 151.801 173.502C152.257 173.782 152.646 174.156 152.941 174.599L152.996 174.681C153.383 175.26 153.594 175.936 153.605 176.628C153.616 177.321 153.425 178.001 153.056 178.589C152.687 179.177 152.155 179.648 151.522 179.948C150.889 180.247 150.181 180.362 149.482 180.279L146.846 179.984Z"})]}),(0,i.jsx)("path",{d:"M146.846 179.984L146.844 180.001L148.046 180.143C148.579 180.209 149.091 180.388 149.547 180.667C150.004 180.947 150.393 181.32 150.689 181.762L150.74 181.846C151.128 182.426 151.34 183.102 151.351 183.795C151.362 184.488 151.172 185.169 150.802 185.758C150.433 186.347 149.899 186.818 149.265 187.118C148.631 187.417 147.923 187.531 147.224 187.447L145.855 187.285L145.852 187.304C146.385 187.37 146.898 187.549 147.354 187.829C147.811 188.109 148.2 188.483 148.495 188.926L148.547 189.004C148.934 189.584 149.145 190.26 149.156 190.953C149.167 191.645 148.976 192.326 148.607 192.914C148.237 193.502 147.704 193.973 147.071 194.272C146.437 194.572 145.729 194.686 145.031 194.602L115.38 191.086C114.555 190.988 113.756 190.731 113.03 190.33C112.304 189.929 111.664 189.392 111.149 188.748C110.633 188.104 110.25 187.368 110.023 186.58C109.796 185.792 109.729 184.968 109.825 184.156L111.859 167.007L114.344 167.301C116.312 167.535 117.411 167.288 118.944 164.684C123.729 155.978 130.52 153.325 131.095 148.473L131.278 146.934C131.345 146.406 131.621 145.927 132.047 145.601C132.472 145.274 133.011 145.126 133.548 145.19L134.159 145.263C135.136 145.378 136.047 145.813 136.744 146.5C137.441 147.186 137.884 148.083 138.001 149.045C138.126 150.111 138.126 151.186 138 152.251C137.784 154.066 137.21 155.82 136.312 157.416L134.097 161.357C133.962 161.594 133.889 161.86 133.884 162.132C133.878 162.404 133.942 162.674 134.068 162.916C134.194 163.159 134.378 163.367 134.606 163.523C134.833 163.678 135.095 163.777 135.37 163.809L149.824 165.523C150.357 165.589 150.869 165.767 151.325 166.047C151.781 166.326 152.171 166.7 152.467 167.142L152.518 167.228C152.904 167.808 153.115 168.484 153.125 169.176C153.135 169.868 152.944 170.548 152.575 171.135C152.206 171.723 151.673 172.194 151.04 172.493C150.407 172.792 149.7 172.907 149.002 172.824L147.849 172.687L150.299 172.978C150.832 173.043 151.344 173.222 151.801 173.502C152.257 173.782 152.646 174.156 152.941 174.599L152.996 174.681C153.383 175.26 153.594 175.936 153.605 176.628C153.616 177.321 153.425 178.001 153.056 178.589C152.687 179.177 152.155 179.648 151.522 179.948C150.889 180.247 150.181 180.362 149.482 180.279L146.846 179.984Z",fill:"#E6E6E6"}),(0,i.jsx)("path",{d:"M146.846 179.984L146.844 180.001L148.046 180.143C148.579 180.209 149.091 180.388 149.547 180.667C150.004 180.947 150.393 181.32 150.689 181.762L150.74 181.846C151.128 182.426 151.34 183.102 151.351 183.795C151.362 184.488 151.172 185.169 150.802 185.758C150.433 186.347 149.899 186.818 149.265 187.118C148.631 187.417 147.923 187.531 147.224 187.447L145.855 187.285L145.852 187.304C146.385 187.37 146.898 187.549 147.354 187.829C147.811 188.109 148.2 188.483 148.495 188.926L148.547 189.004C148.934 189.584 149.145 190.26 149.156 190.953C149.167 191.645 148.976 192.326 148.607 192.914C148.237 193.502 147.704 193.973 147.071 194.272C146.437 194.572 145.729 194.686 145.031 194.602L115.38 191.086C114.555 190.988 113.756 190.731 113.03 190.33C112.304 189.929 111.664 189.392 111.149 188.748C110.633 188.104 110.25 187.368 110.023 186.58C109.796 185.792 109.729 184.968 109.825 184.156L111.859 167.007L114.344 167.301C116.312 167.535 117.411 167.288 118.944 164.684C123.729 155.978 130.52 153.325 131.095 148.473L131.278 146.934C131.345 146.406 131.621 145.927 132.047 145.601C132.472 145.274 133.011 145.126 133.548 145.19L134.159 145.263C135.136 145.378 136.047 145.813 136.744 146.5C137.441 147.186 137.884 148.083 138.001 149.045C138.126 150.111 138.126 151.186 138 152.251C137.784 154.066 137.21 155.82 136.312 157.416L134.097 161.357C133.962 161.594 133.889 161.86 133.884 162.132C133.878 162.404 133.942 162.674 134.068 162.916C134.194 163.159 134.378 163.367 134.606 163.523C134.833 163.678 135.095 163.777 135.37 163.809L149.824 165.523C150.357 165.589 150.869 165.767 151.325 166.047C151.781 166.326 152.171 166.7 152.467 167.142L152.518 167.228C152.904 167.808 153.115 168.484 153.125 169.176C153.135 169.868 152.944 170.548 152.575 171.135C152.206 171.723 151.673 172.194 151.04 172.493C150.407 172.792 149.7 172.907 149.002 172.824L147.849 172.687L150.299 172.978C150.832 173.043 151.344 173.222 151.801 173.502C152.257 173.782 152.646 174.156 152.941 174.599L152.996 174.681C153.383 175.26 153.594 175.936 153.605 176.628C153.616 177.321 153.425 178.001 153.056 178.589C152.687 179.177 152.155 179.648 151.522 179.948C150.889 180.247 150.181 180.362 149.482 180.279L146.846 179.984Z",stroke:"white",strokeWidth:"11.1183",mask:"url(#path-11-outside-1_28_2608)"}),(0,i.jsx)("path",{d:"M161.104 178.267L159.645 170.883C158.966 167.445 154.282 166.889 152.818 170.073L149.672 176.911L142.912 178.87C139.845 179.759 139.354 183.898 142.128 185.48L148.242 188.965L149.701 196.35C150.38 199.787 155.064 200.343 156.529 197.159L159.675 190.321L166.434 188.362C169.501 187.474 169.992 183.334 167.218 181.753L161.104 178.267Z",fill:"url(#paint0_linear_28_2608)"}),(0,i.jsx)("path",{d:"M161.104 178.267L159.645 170.883C158.966 167.445 154.282 166.889 152.818 170.073L149.672 176.911L142.912 178.87C139.845 179.759 139.354 183.898 142.128 185.48L148.242 188.965L149.701 196.35C150.38 199.787 155.064 200.343 156.529 197.159L159.675 190.321L166.434 188.362C169.501 187.474 169.992 183.334 167.218 181.753L161.104 178.267Z",fill:"url(#paint1_linear_28_2608)"}),(0,i.jsx)("path",{d:"M161.104 178.267L159.645 170.883C158.966 167.445 154.282 166.889 152.818 170.073L149.672 176.911L142.912 178.87C139.845 179.759 139.354 183.898 142.128 185.48L148.242 188.965L149.701 196.35C150.38 199.787 155.064 200.343 156.529 197.159L159.675 190.321L166.434 188.362C169.501 187.474 169.992 183.334 167.218 181.753L161.104 178.267Z",stroke:"white",strokeWidth:"5.55914"})]})}),(0,i.jsx)("path",{d:"M401.053 215.44L338.613 380.052L174.001 317.612L236.44 153L401.053 215.44Z",fill:"#EEEEEE"}),(0,i.jsx)("g",{clipPath:"url(#clip3_28_2608)",children:(0,i.jsxs)("g",{clipPath:"url(#clip4_28_2608)",children:[(0,i.jsxs)("mask",{id:"path-14-outside-2_28_2608",maskUnits:"userSpaceOnUse",x:"278.143",y:"256.229",width:"77.7141",height:"67.6104",fill:"black",children:[(0,i.jsx)("rect",{fill:"white",x:"278.143",y:"256.229",width:"77.7141",height:"67.6104"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M306.46 309.456L318.238 311.887L326.859 270.116L316.353 267.948C312.283 274.145 306.177 275.672 300.339 274.885L297.828 287.049C303.384 287.847 308.774 285.058 312.405 280.651L306.46 309.456ZM299.57 290.973L294.125 289.85L293.002 295.294L287.557 294.17L286.433 299.614L291.878 300.738L290.754 306.183L296.198 307.307L297.322 301.862L302.766 302.986L303.89 297.541L298.446 296.417L299.57 290.973ZM336.197 291.632C336.113 290.823 335.038 290.601 334.64 291.311L331.256 297.351C331.138 297.561 330.934 297.711 330.698 297.76L324.306 299.082C323.59 299.23 323.398 300.162 323.996 300.581L329.342 304.326C329.54 304.465 329.668 304.683 329.693 304.923L330.409 311.809C330.493 312.619 331.568 312.841 331.966 312.131L335.35 306.091C335.468 305.88 335.672 305.731 335.908 305.682L342.3 304.359C343.016 304.211 343.208 303.279 342.61 302.86L337.264 299.115C337.066 298.976 336.938 298.759 336.913 298.518L336.197 291.632Z"})]}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M306.46 309.456L318.238 311.887L326.859 270.116L316.353 267.948C312.283 274.145 306.177 275.672 300.339 274.885L297.828 287.049C303.384 287.847 308.774 285.058 312.405 280.651L306.46 309.456ZM299.57 290.973L294.125 289.85L293.002 295.294L287.557 294.17L286.433 299.614L291.878 300.738L290.754 306.183L296.198 307.307L297.322 301.862L302.766 302.986L303.89 297.541L298.446 296.417L299.57 290.973ZM336.197 291.632C336.113 290.823 335.038 290.601 334.64 291.311L331.256 297.351C331.138 297.561 330.934 297.711 330.698 297.76L324.306 299.082C323.59 299.23 323.398 300.162 323.996 300.581L329.342 304.326C329.54 304.465 329.668 304.683 329.693 304.923L330.409 311.809C330.493 312.619 331.568 312.841 331.966 312.131L335.35 306.091C335.468 305.88 335.672 305.731 335.908 305.682L342.3 304.359C343.016 304.211 343.208 303.279 342.61 302.86L337.264 299.115C337.066 298.976 336.938 298.759 336.913 298.518L336.197 291.632Z",fill:"#E6E6E6"}),(0,i.jsx)("path",{d:"M318.238 311.887L317.114 317.331L322.558 318.455L323.682 313.011L318.238 311.887ZM306.46 309.456L301.015 308.332L299.892 313.777L305.336 314.9L306.46 309.456ZM326.859 270.116L332.304 271.24L333.428 265.796L327.983 264.672L326.859 270.116ZM316.353 267.948L317.477 262.503L313.779 261.74L311.706 264.896L316.353 267.948ZM300.339 274.885L301.081 269.376L295.942 268.683L294.894 273.761L300.339 274.885ZM297.828 287.049L292.384 285.925L291.189 291.711L297.037 292.551L297.828 287.049ZM312.405 280.651L317.85 281.775L308.115 277.116L312.405 280.651ZM294.125 289.85L295.249 284.405L289.805 283.282L288.681 288.726L294.125 289.85ZM299.57 290.973L305.014 292.097L306.138 286.653L300.693 285.529L299.57 290.973ZM293.002 295.294L291.878 300.738L297.322 301.862L298.446 296.417L293.002 295.294ZM287.557 294.17L288.68 288.726L283.236 287.602L282.112 293.046L287.557 294.17ZM286.433 299.614L280.989 298.491L279.865 303.935L285.309 305.059L286.433 299.614ZM291.878 300.738L297.322 301.862L298.446 296.417L293.002 295.294L291.878 300.738ZM290.754 306.183L285.31 305.059L284.186 310.503L289.63 311.627L290.754 306.183ZM296.198 307.307L295.075 312.751L300.519 313.875L301.643 308.43L296.198 307.307ZM297.322 301.862L298.446 296.417L293.002 295.294L291.878 300.738L297.322 301.862ZM302.766 302.986L301.642 308.43L307.087 309.554L308.21 304.109L302.766 302.986ZM303.89 297.541L309.334 298.665L310.458 293.22L305.014 292.097L303.89 297.541ZM298.446 296.417L293.002 295.294L291.878 300.738L297.322 301.862L298.446 296.417ZM334.64 291.311L339.49 294.028L339.49 294.028L334.64 291.311ZM336.197 291.632L330.668 292.207L330.668 292.207L336.197 291.632ZM331.256 297.351L326.406 294.633L326.406 294.633L331.256 297.351ZM330.698 297.76L329.572 292.316L329.572 292.316L330.698 297.76ZM324.306 299.082L323.18 293.638L323.18 293.638L324.306 299.082ZM323.996 300.581L320.807 305.135L320.807 305.135L323.996 300.581ZM329.342 304.326L326.153 308.88L326.153 308.88L329.342 304.326ZM329.693 304.923L324.164 305.498L324.164 305.498L329.693 304.923ZM330.409 311.809L324.88 312.384L324.88 312.384L330.409 311.809ZM331.966 312.131L336.816 314.848L336.816 314.848L331.966 312.131ZM335.35 306.091L340.2 308.808L340.2 308.808L335.35 306.091ZM335.908 305.682L337.035 311.126L337.035 311.126L335.908 305.682ZM342.3 304.359L341.174 298.916L341.174 298.916L342.3 304.359ZM342.61 302.86L339.42 307.413L339.42 307.413L342.61 302.86ZM337.264 299.115L340.453 294.562L340.453 294.562L337.264 299.115ZM336.913 298.518L342.442 297.943L342.442 297.943L336.913 298.518ZM319.362 306.443L307.583 304.012L305.336 314.9L317.114 317.331L319.362 306.443ZM321.415 268.992L312.793 310.763L323.682 313.011L332.304 271.24L321.415 268.992ZM315.229 273.392L325.736 275.561L327.983 264.672L317.477 262.503L315.229 273.392ZM299.596 280.394C306.985 281.391 315.47 279.418 321 270.999L311.706 264.896C309.095 268.872 305.368 269.954 301.081 269.376L299.596 280.394ZM303.272 288.173L305.783 276.009L294.894 273.761L292.384 285.925L303.272 288.173ZM308.115 277.116C305.366 280.452 301.763 281.998 298.619 281.546L297.037 292.551C305.006 293.697 312.183 289.663 316.696 284.186L308.115 277.116ZM311.904 310.58L317.85 281.775L306.961 279.527L301.015 308.332L311.904 310.58ZM293.001 295.294L298.446 296.418L300.693 285.529L295.249 284.405L293.001 295.294ZM298.446 296.417L299.57 290.973L288.681 288.726L287.557 294.17L298.446 296.417ZM286.433 299.614L291.878 300.738L294.125 289.849L288.68 288.726L286.433 299.614ZM291.877 300.738L293.001 295.294L282.112 293.046L280.989 298.491L291.877 300.738ZM293.002 295.294L287.557 294.17L285.309 305.059L290.754 306.182L293.002 295.294ZM296.198 307.307L297.322 301.862L286.433 299.614L285.31 305.059L296.198 307.307ZM297.322 301.862L291.878 300.738L289.63 311.627L295.075 312.751L297.322 301.862ZM291.878 300.738L290.754 306.183L301.643 308.43L302.767 302.986L291.878 300.738ZM303.89 297.541L298.446 296.417L296.198 307.306L301.642 308.43L303.89 297.541ZM298.445 296.417L297.322 301.862L308.21 304.109L309.334 298.665L298.445 296.417ZM297.322 301.862L302.766 302.986L305.014 292.097L299.57 290.973L297.322 301.862ZM294.125 289.85L293.002 295.294L303.89 297.541L305.014 292.097L294.125 289.85ZM339.49 294.028C337.236 298.051 331.144 296.794 330.668 292.207L341.726 291.057C341.081 284.852 332.84 283.151 329.79 288.594L339.49 294.028ZM336.106 300.068L339.49 294.028L329.79 288.594L326.406 294.633L336.106 300.068ZM331.824 303.203C333.638 302.828 335.201 301.684 336.106 300.068L326.406 294.633C327.076 293.439 328.23 292.593 329.572 292.316L331.824 303.203ZM325.432 304.526L331.824 303.203L329.572 292.316L323.18 293.638L325.432 304.526ZM327.186 296.028C330.579 298.405 329.489 303.687 325.432 304.526L323.18 293.638C317.691 294.773 316.216 301.919 320.807 305.135L327.186 296.028ZM332.532 299.773L327.186 296.028L320.807 305.135L326.153 308.88L332.532 299.773ZM335.223 304.348C335.031 302.506 334.049 300.836 332.532 299.773L326.153 308.88C325.031 308.094 324.305 306.86 324.164 305.498L335.223 304.348ZM335.938 311.234L335.223 304.348L324.164 305.498L324.88 312.384L335.938 311.234ZM327.116 309.413C329.37 305.39 335.462 306.648 335.938 311.234L324.88 312.384C325.525 318.589 333.766 320.291 336.816 314.848L327.116 309.413ZM330.5 303.374L327.116 309.413L336.816 314.848L340.2 308.808L330.5 303.374ZM334.782 300.238C332.968 300.613 331.406 301.757 330.5 303.374L340.2 308.808C339.53 310.003 338.376 310.848 337.035 311.126L334.782 300.238ZM341.174 298.916L334.782 300.238L337.035 311.126L343.426 309.803L341.174 298.916ZM339.42 307.413C336.027 305.036 337.117 299.755 341.174 298.916L343.426 309.803C348.915 308.668 350.39 301.522 345.799 298.307L339.42 307.413ZM334.074 303.668L339.42 307.413L345.799 298.307L340.453 294.562L334.074 303.668ZM331.383 299.093C331.575 300.936 332.557 302.605 334.074 303.668L340.453 294.562C341.575 295.348 342.301 296.581 342.442 297.943L331.383 299.093ZM330.668 292.207L331.383 299.093L342.442 297.943L341.726 291.057L330.668 292.207Z",fill:"white",mask:"url(#path-14-outside-2_28_2608)"}),(0,i.jsx)("path",{d:"M334.637 291.31C335.035 290.6 336.11 290.822 336.194 291.631L336.91 298.517C336.935 298.758 337.063 298.975 337.261 299.114L342.607 302.859C343.206 303.278 343.013 304.21 342.297 304.358L335.905 305.681C335.669 305.73 335.465 305.879 335.347 306.09L331.963 312.13C331.565 312.84 330.49 312.618 330.406 311.808L329.69 304.922C329.665 304.682 329.537 304.464 329.339 304.325L323.993 300.58C323.395 300.161 323.587 299.229 324.303 299.081L330.695 297.759C330.931 297.71 331.135 297.56 331.253 297.35L334.637 291.31Z",fill:"url(#paint2_linear_28_2608)"}),(0,i.jsx)("path",{d:"M334.637 291.31C335.035 290.6 336.11 290.822 336.194 291.631L336.91 298.517C336.935 298.758 337.063 298.975 337.261 299.114L342.607 302.859C343.206 303.278 343.013 304.21 342.297 304.358L335.905 305.681C335.669 305.73 335.465 305.879 335.347 306.09L331.963 312.13C331.565 312.84 330.49 312.618 330.406 311.808L329.69 304.922C329.665 304.682 329.537 304.464 329.339 304.325L323.993 300.58C323.395 300.161 323.587 299.229 324.303 299.081L330.695 297.759C330.931 297.71 331.135 297.56 331.253 297.35L334.637 291.31Z",fill:"url(#paint3_linear_28_2608)"})]})}),(0,i.jsxs)("g",{clipPath:"url(#clip5_28_2608)",children:[(0,i.jsx)("path",{d:"M184.432 264.236C178.839 259.445 178.187 250.993 182.978 245.4C185.298 242.693 188.535 241.049 192.097 240.774C195.655 240.499 199.107 241.624 201.817 243.946L205.185 246.832L208.071 243.464C210.393 240.753 213.63 239.108 217.192 238.834C220.754 238.559 224.206 239.687 226.916 242.009C229.623 244.328 231.268 247.566 231.543 251.128C231.817 254.686 230.692 258.138 228.37 260.848L225.773 263.887L208.103 284.512L184.432 264.236Z",fill:"#F24E1E"}),(0,i.jsxs)("mask",{id:"path-18-outside-3_28_2608",maskUnits:"userSpaceOnUse",x:"172.339",y:"231.353",width:"68.3502",height:"63.7497",fill:"black",children:[(0,i.jsx)("rect",{fill:"white",x:"172.339",y:"231.353",width:"68.3502",height:"63.7497"}),(0,i.jsx)("path",{d:"M184.417 264.048C178.828 259.3 178.181 250.918 182.976 245.368C185.297 242.682 188.535 241.048 192.097 240.774C195.655 240.499 199.106 241.613 201.815 243.914L205.181 246.774L208.068 243.431C210.392 240.742 213.63 239.108 217.192 238.834C220.754 238.559 224.205 239.676 226.914 241.977C229.619 244.275 231.262 247.485 231.534 251.018C231.807 254.547 230.679 257.97 228.356 260.66L225.757 263.676L208.075 284.143L184.417 264.048Z"})]}),(0,i.jsx)("path",{d:"M184.417 264.048C178.828 259.3 178.181 250.918 182.976 245.368C185.297 242.682 188.535 241.048 192.097 240.774C195.655 240.499 199.106 241.613 201.815 243.914L205.181 246.774L208.068 243.431C210.392 240.742 213.63 239.108 217.192 238.834C220.754 238.559 224.205 239.676 226.914 241.977C229.619 244.275 231.262 247.485 231.534 251.018C231.807 254.547 230.679 257.97 228.356 260.66L225.757 263.676L208.075 284.143L184.417 264.048Z",fill:"#E6E6E6"}),(0,i.jsx)("path",{d:"M184.417 264.048C178.828 259.3 178.181 250.918 182.976 245.368C185.297 242.682 188.535 241.048 192.097 240.774C195.655 240.499 199.106 241.613 201.815 243.914L205.181 246.774L208.068 243.431C210.392 240.742 213.63 239.108 217.192 238.834C220.754 238.559 224.205 239.676 226.914 241.977C229.619 244.275 231.262 247.485 231.534 251.018C231.807 254.547 230.679 257.97 228.356 260.66L225.757 263.676L208.075 284.143L184.417 264.048Z",stroke:"white",strokeWidth:"11.1183",mask:"url(#path-18-outside-3_28_2608)"}),(0,i.jsx)("path",{d:"M232.029 266.914L229.166 259.953C227.833 256.712 223.13 257.075 222.311 260.482L220.55 267.8L214.299 271.032C211.462 272.498 211.782 276.654 214.811 277.668L221.484 279.902L224.347 286.864C225.679 290.105 230.382 289.742 231.202 286.335L232.963 279.016L239.214 275.785C242.051 274.318 241.73 270.162 238.702 269.148L232.029 266.914Z",fill:"url(#paint4_linear_28_2608)"}),(0,i.jsx)("path",{d:"M232.029 266.914L229.166 259.953C227.833 256.712 223.13 257.075 222.311 260.482L220.55 267.8L214.299 271.032C211.462 272.498 211.782 276.654 214.811 277.668L221.484 279.902L224.347 286.864C225.679 290.105 230.382 289.742 231.202 286.335L232.963 279.016L239.214 275.785C242.051 274.318 241.73 270.162 238.702 269.148L232.029 266.914Z",fill:"url(#paint5_linear_28_2608)"}),(0,i.jsx)("path",{d:"M232.029 266.914L229.166 259.953C227.833 256.712 223.13 257.075 222.311 260.482L220.55 267.8L214.299 271.032C211.462 272.498 211.782 276.654 214.811 277.668L221.484 279.902L224.347 286.864C225.679 290.105 230.382 289.742 231.202 286.335L232.963 279.016L239.214 275.785C242.051 274.318 241.73 270.162 238.702 269.148L232.029 266.914Z",stroke:"white",strokeWidth:"5.55914"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_ddd_28_2608",x:"-12",y:"-7",width:"824",height:"544",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"1"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_28_2608"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"5"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"6"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_28_2608",result:"effect2_dropShadow_28_2608"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"0.25"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"effect2_dropShadow_28_2608",result:"effect3_dropShadow_28_2608"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_28_2608",result:"shape"})]}),(0,i.jsxs)("linearGradient",{id:"paint0_linear_28_2608",x1:"143.538",y1:"167.367",x2:"165.808",y2:"199.865",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#E6E6E6"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#E6E6E6"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_28_2608",x1:"165.808",y1:"199.865",x2:"143.538",y2:"167.367",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,i.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,i.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,i.jsxs)("linearGradient",{id:"paint2_linear_28_2608",x1:"325.033",y1:"286.769",x2:"342.171",y2:"316.32",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#E6E6E6"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#E6E6E6"})]}),(0,i.jsxs)("linearGradient",{id:"paint3_linear_28_2608",x1:"341.567",y1:"316.671",x2:"324.429",y2:"287.119",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,i.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,i.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,i.jsxs)("linearGradient",{id:"paint4_linear_28_2608",x1:"212.683",y1:"259.626",x2:"240.83",y2:"287.191",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#E6E6E6"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#E6E6E6"})]}),(0,i.jsxs)("linearGradient",{id:"paint5_linear_28_2608",x1:"240.83",y1:"287.191",x2:"212.683",y2:"259.626",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,i.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,i.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,i.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,i.jsx)("clipPath",{id:"clip0_28_2608",children:(0,i.jsx)("rect",{x:"558",y:"93",width:"150",height:"74",rx:"37",fill:"white"})}),(0,i.jsx)("clipPath",{id:"clip1_28_2608",children:(0,i.jsx)("rect",{width:"74.1218",height:"74.1218",fill:"white",transform:"translate(106.064 129.334) rotate(6.76404)"})}),(0,i.jsx)("clipPath",{id:"clip2_28_2608",children:(0,i.jsx)("rect",{width:"74.1218",height:"74.1218",fill:"white",transform:"matrix(-0.99304 -0.117781 -0.117781 0.99304 179.668 138.064)"})}),(0,i.jsx)("clipPath",{id:"clip3_28_2608",children:(0,i.jsx)("rect",{width:"74.1218",height:"74.1218",fill:"white",transform:"translate(286.034 246.553) rotate(11.6624)"})}),(0,i.jsx)("clipPath",{id:"clip4_28_2608",children:(0,i.jsx)("rect",{width:"74.1218",height:"74.1218",fill:"white",transform:"translate(286.033 246.553) rotate(11.6624)"})}),(0,i.jsx)("clipPath",{id:"clip5_28_2608",children:(0,i.jsx)("rect",{width:"74.1218",height:"74.1218",fill:"white",transform:"translate(168.407 227.73) rotate(-4.41313)"})})]})]})}},899948:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(104076);function a(){return(0,i.jsxs)("svg",{viewBox:"0 0 686 324",fill:"none",children:[(0,i.jsx)("rect",{x:"434",y:"172",width:"150",height:"150",rx:"2",fill:"var(--color-bg, white)",stroke:"var(--color-border, #E6E6E6)",strokeWidth:"4"}),(0,i.jsx)("g",{opacity:"0.12",clipPath:"url(#clip0_3329_23775)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M515 237V243H503V237C503 233.686 505.686 231 509 231C512.314 231 515 233.686 515 237ZM499 243V237C499 231.477 503.477 227 509 227C514.523 227 519 231.477 519 237V243H521C522.105 243 523 243.895 523 245V265C523 266.105 522.105 267 521 267H497C495.895 267 495 266.105 495 265V245C495 243.895 495.895 243 497 243H499Z",fill:"var(--color-icon, rgba(0,0,0,0.9))"})}),(0,i.jsx)("rect",{x:"530",y:"37",width:"154",height:"78",rx:"39",fill:"var(--color-bg-secondary, #F5F5F5)"}),(0,i.jsx)("circle",{cx:"645.25",cy:"75.75",r:"28.5",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("path",{opacity:"0.12",fillRule:"evenodd",clipRule:"evenodd",d:"M632.8 86L626.704 76.5872L626 75.5001L626.704 74.4129L632.8 65H637.565L630.766 75.5001L637.566 86H632.8ZM639.992 86L646.792 65H650.996L644.196 86H639.992ZM653.422 86L660.222 75.5001L653.422 65H658.188L664.284 74.4129L664.988 75.5001L664.284 76.5872L658.188 86H653.422Z",fill:"var(--color-icon, rgba(0,0,0,0.9))"}),(0,i.jsx)("rect",{x:"530",y:"37",width:"154",height:"78",rx:"39",stroke:"var(--color-border, #E6E6E6)",strokeWidth:"4"}),(0,i.jsx)("rect",{x:"55",y:"49",width:"103",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"55",y:"107",width:"94",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"55",y:"165",width:"72",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"195",y:"49",width:"103",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"195",y:"107",width:"94",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"195",y:"165",width:"72",height:"36",rx:"18",fill:"var(--color-border, #E6E6E6)"}),(0,i.jsx)("rect",{x:"2",y:"2",width:"348",height:"246",rx:"10",stroke:"var(--color-border, #E6E6E6)",strokeWidth:"4",strokeDasharray:"12 12"}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_3329_23775",children:(0,i.jsx)("rect",{width:"64",height:"64",fill:"var(--color-bg, white)",transform:"translate(477 215)"})})})]})}},292658:(e,t,n)=>{n.d(t,{u:()=>u});var i=n(716976),a=n(387092),r=n(266808),s=n(170627),o=n(264993),l=n(384513),d=n(883765),c=n(354114);function u({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:n,trackingOptions:u,shouldUseEyedropperStyleCreationFlow:p}){let[m,h]=i.useState(null),f=i.useRef(!1),g=s.nc.user("create-style",()=>{if(f.current=!0,r.Pt4&&m){let{key:e,version:t}=m,n=r.Pt4.getSoftDeletedStyleNodeId(e,t);return c.Y5.restoreSoftDeletedNode(n),(0,d.sx)("Style Created",{styleType:u.styleType,styleKey:m.key,styleVersion:m.version}),n}});return i.useEffect(()=>{let i=s.l7.system("create-soft-deleted-style",()=>(function({initialStyleCreationPaint:e,isCreatingFromSelection:t,inheritStyleKeyField:n,shouldUseEyedropperStyleCreationFlow:i}){if(i)return r.OmW?.createSoftDeletedStyleForEyedropper()??null;if(!e)return r.glU?.createSoftDeletedStyle(n,"","",t)??null;{let t=(0,l.GP)(e);return r.Osy?.createSoftDeletedStyleFromPaintData(t,"")??null}})({initialStyleCreationPaint:t,inheritStyleKeyField:e,isCreatingFromSelection:n,shouldUseEyedropperStyleCreationFlow:p}));if(!i){h(null);return}return h(i),()=>{r.glU?.selectStyle(a.n3.INVALID,a.IA.INVALID),s.l7.system("style-creation-cleanup",()=>{if(r.Pt4&&r.glU&&i&&!f.current){let t=r.Pt4.getSoftDeletedStyleNodeId(i.key,i.version);r.glU.applyStyleToSelection(e,o.AD,!0),r.glU.hardDeleteSoftDeletedNode(t)}})}},[t,e,n,p]),{styleRef:m,createStyle:g}}},316427:(e,t,n)=>{n.d(t,{Y:()=>u});var i=n(104076),a=n(716976),r=n(420680),s=n(192075),o=n(55557),l=n(765846),d=n(894210),c=n(297753);function u({userId:e,onMuteButtonClickCallback:t,disabled:n}){let u=o.h.getInstance(),[p,m]=(0,a.useState)(null),h=(0,l.TI)(e,u),f=(0,a.useCallback)(async()=>{!n&&void 0!==h&&u&&(await t(h,u),m(h?"unmute":"mute"))},[h,t,m,u,n]);a.useEffect(()=>{m(null)},[h]);let g=()=>n?(0,s.t)("collaboration.voice.check_your_microphone_permissions_to_start_chatting"):h?(0,s.t)("collaboration.voice.click_to_unmute"):(0,s.t)("collaboration.voice.click_to_mute");return(0,i.jsx)(r.K,{onClick:f,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":g(),"data-tooltip-timeout-delay":n?50:void 0,"aria-label":g(),"data-fullscreen-intercept":!0,disabled:n,children:n||"unmute"!==p&&("mute"===p||h)?(0,i.jsx)(c.A.Muted,{}):(0,i.jsx)(c.A.Unmuted,{})})}},910372:(e,t,n)=>{n.d(t,{QU:()=>S,SI:()=>R,bf:()=>N,oA:()=>k,uj:()=>I,vy:()=>L});var i=n(716976),a=n(903927),r=n(926653),s=n(812714),o=n(795033),l=n(449572),d=n(880233),c=n(285626),u=n(74620),p=n(211862),m=n(932709),h=n(59849),f=n(710211),g=n(842013),_=n(177328),x=n(76365),y=n(685490),v=n(34927),b=n(276347),C=n(566796);function E(e,t,n,i){if(!e)return new Set;let a=new Set;for(let r of e.childrenNodes){if("SYMBOL"===r.type||r.isStateGroup||"INSTANCE"===r.type){let{backingNodeId:e,backingLibraryKey:n}=(0,C.HX)(r.guid,t,i);n&&e&&a.add(`${n},${e}`)}r.childCount>0&&E(r,t,n,i).forEach(e=>a.add(e))}return a}function j(e,t,n,i,a){if(!e)return new Set;let r=new Set;for(let s of e.childrenNodes){if("SYMBOL"===s.type||s.isStateGroup||"INSTANCE"===s.type){let{backingStateGroupKey:e,backingComponentKey:o}=(0,C.HX)(s.id,t,n),l=e||o||null;!l&&s.symbolId&&i&&a&&(l=w(s.symbolId,i,a)),l&&r.add(l)}s.childCount>0&&j(s,t,n,i,a).forEach(e=>r.add(e))}return r}function w(e,t,n){let i=t.find(t=>t.node_id===e);if(i){if(i.containing_frame?.containingStateGroup?.nodeId){let e=i.containing_frame.containingStateGroup.nodeId,t=n.find(t=>t.node_id===e);if(t?.key)return t.key}if(i.component_key)return i.component_key}let a=n.find(t=>t.node_id===e);return a?.key?a.key:null}function T(e,t){let n=(0,o.md)(p._S),r=(0,u.eY)(),l=(0,a.d4)(y.aD),d=(0,a.d4)(x.BA),c=function(e){let t=(0,a.d4)(g.MH),n=(0,a.d4)(e=>e.mirror.appModel.currentPage),r=(0,o.md)(p._S);return(0,i.useMemo)(()=>{let i=new Set;if(!e)return i;for(let[e,a]of Object.entries(t))a.containing_frame?.pageId===n&&(a.containing_frame?.containingStateGroup?.nodeId?i.add((0,C.zi)(r,a.containing_frame?.containingStateGroup.nodeId)):i.add((0,C.zi)(r,e)));return i},[n,t])}(e),m=!t&&l.length+d.size>((0,s.kc)().dt_preload_code_connect_increase_limit?100:50);return(0,i.useMemo)(()=>{if(m)return new Set;let t=new Set;for(let i of l){let a=E(r.get(i.nodeId),r,e,n),{backingNodeId:s,backingLibraryKey:o}=(0,C.HX)(i.nodeId,r,n);if(o&&s)for(let e of(t.add(`${o},${s}`),a))t.add(e)}let i=new Set;for(let a of d){let s=r.get(a),o=a;if(s?.containingStateGroupId&&(o=s.containingStateGroupId),i.has(o))continue;let l=E(s,r,e,n);if(n&&o)for(let e of(t.add(`${n},${o}`),i.add(o),l))t.add(e)}for(let e of c)t.add(e);return t},[c,d,l,m])}function k(){let e=(0,o.md)(p._S),t=(0,u.eY)(),n=(0,a.d4)(e=>e.mirror.appModel.currentPage),l=(0,a.d4)(y.aD),d=(0,a.d4)(_.Th),c=(0,a.d4)(_.WH),h=(0,a.d4)(x.BA),f=(0,i.useMemo)(()=>{let n=new Set,i=new Map;for(let a of l){let{backingLibraryKey:s}=(0,C.HX)(a.nodeId,t,e);if(s){let e=(0,r.l)(s);n.add(e),i.set(a.key,e)}}return{libraryKeys:Array.from(n),componentToLibraryKeyMap:i}},[l,t,e]),g=(0,m.bj)(f.libraryKeys),v=(0,i.useMemo)(()=>{if("loaded"!==g.status)return l;let e=new Set(g.data.filter(e=>"library_type"in e&&"community"!==e.library_type).map(e=>e.library_key));return l.filter(t=>{let n=f.componentToLibraryKeyMap.get(t.key);return n&&e.has(n)})},[l,g,f.componentToLibraryKeyMap]);return(0,i.useMemo)(()=>{if(!(0,s.kc)().dt_component_browser_in_context)return new Set;let i=new Set;for(let n of v){let a=j(t.get(n.nodeId),t,e,d,c),{backingComponentKey:r,backingStateGroupKey:s}=(0,C.HX)(n.nodeId,t,e);if(r||s){let e=s||r;e&&i.add(e),a.forEach(e=>i.add(e))}}let a=new Set;for(let n of h){let r=t.get(n),s=w(n,d,c);if(!s||a.has(s))continue;let o=j(r,t,e,d,c);if(s)for(let e of(i.add(s),a.add(s),o))i.add(e)}for(let e of c)e.key&&e.containing_frame?.pageId===n&&i.add(e.key);for(let e of d)e.component_key&&!e.containing_frame?.containingStateGroup&&e.containing_frame?.pageId===n&&i.add(e.component_key);return i},[v,c,d,n])}function I(){let e=(0,a.d4)(e=>e.mirror.appModel.currentPage),t=(0,p.tS)(),n=T(t,!1);(0,i.useEffect)(()=>{o.zl.set(b.zV,null)},[e]);let r=(0,l.Rs)(h.Opb,{nodes:Array.from(n),openFileKey:t??""},{enabled:(0,s.kc)().dt_preload_code_connect_increase_limit?n.size<100:n.size<50});(0,i.useEffect)(()=>{if("loaded"===r.status&&r.data.file?.preload_code_connect_lk){let e=r.data.file.preload_code_connect_lk;o.zl.set(b.zV,{...e,nodesWithCodeConnect:new Set(e.nodesWithCodeConnect)})}return()=>o.zl.set(b.zV,null)},[e,r.status])}function S(e,t=!0){let n=(0,p.tS)(),i=(0,l.Rs)(h.Opb,{nodes:e,openFileKey:n??""},{enabled:e.length<20&&t});if("loaded"===i.status&&i.data.file?.preload_code_connect_lk){let e=i.data.file.preload_code_connect_lk;return{status:"loaded",nodesWithCodeConnect:new Set(e.nodesWithCodeConnect),docsById:e.docsById}}return{status:i.status,nodesWithCodeConnect:new Set,docsById:{}}}function N(){return o.zl.get(b.zV)?.nodesWithCodeConnect}let A=f.M4.Query({fetch:async({nodes:e})=>0===e.length?{}:(await v.Q.getComponentNames(e)).data.meta.componentsById,stalenessPolicy:"never"});function L(){let e=(0,a.d4)(e=>e.mirror.appModel.currentPage);(0,i.useEffect)(()=>{o.zl.set(b.Af,null)},[e]);let t=T((0,p.tS)(),!0),[n]=(0,f.IT)(A({nodes:Array.from(t)}),{enabled:!!(0,s.kc)().dt_code_connect_preload_component_names_endpoint&&t.size>0});(0,i.useEffect)(()=>("loaded"===n.status&&n.data&&o.zl.set(b.Af,{componentsById:n.data}),()=>o.zl.set(b.Af,null)),[e,n.status])}let O=f.M4.Query({fetch:async({assetKeys:e})=>0===e.length?{status:{}}:(await v.Q.getInContextPublishedComponentsStatus(e)).data.meta,stalenessPolicy:"never"});function R(){let e=(0,a.d4)(e=>e.mirror.appModel.currentPage);(0,i.useEffect)(()=>{o.zl.set(b.mO,null)},[e]);let t=k(),n=(0,o.md)(c.Xh),r=(0,o.md)(d.s9),l=(0,o.md)(c.M7),[u]=(0,f.IT)(O({assetKeys:Array.from(t)}),{enabled:!!(0,s.kc)().dt_component_browser_in_context&&t.size>0});(0,i.useEffect)(()=>{let e="loading"===n||"loading"===r||"loading"===l||"loading"===u.status&&t.size>0;return e?o.zl.set(b.mO,{status:{},loadingStatus:"loading"}):0===t.size?o.zl.set(b.mO,{status:{},loadingStatus:"loaded"}):"loaded"===u.status&&u.data&&!e&&o.zl.set(b.mO,{status:u.data.status,loadingStatus:"loaded"}),()=>o.zl.set(b.mO,null)},[e,u.status,t.size,n,r,l])}},315125:(e,t,n)=>{n.d(t,{m:()=>r,y:()=>s});var i=n(991783),a=n(534148);function r(e,t){let n={};return n.useValue=function(r){if(t&&n[r]&&t(r,n[r])&&delete n[r],!n[r]){let t=(0,i.v)();e(r).then(e=>t.resolve(e)).catch(e=>t.reject(e)),n[r]={deferred:t,created:Date.now()}}let{deferred:s}=n[r];switch(s.status){case"pending":throw(0,a.WE)(s.promise),Error("unreachable");case"rejected":throw s.error;case"resolved":return s.result}},n}function s(e){return(t,n)=>Date.now()-n.created>e}},577932:(e,t,n)=>{n.d(t,{Hu:()=>g,IB:()=>m,Pd:()=>v,XJ:()=>h,eM:()=>C,oL:()=>x,oR:()=>u,oU:()=>p,qE:()=>b,rH:()=>_,rW:()=>y,uF:()=>f});var i=n(651234),a=n(998432),r=n(772197),s=n(883765),o=n(4865),l=n(20267),d=n(293172),c=n(996715);function u(e,t,n,i){return!![d.s8.AUTH,d.s8.CONNECT_TO_EXISTING_PROJECTS,d.s8.CREATE_PROJECT,c.hJ.AUTH,c.hJ.CONNECT_TO_EXISTING_PROJECTS,c.hJ.CREATE_PROJECT,c.hJ.AUTH_EXPIRED].includes(n)&&(s.az.trackDefinedEvent("ai_for_production.ai_chat_connect_to_backend_prompt_shown",{persistentEntityId:e.persistentEntityId,clientLifecycleId:e.clientLifecycleId,source:t,view:n,fileKey:i}),!0)}function p(e,t,n){s.az.trackDefinedEvent("ai_for_production.ai_chat_connect_to_backend_connect_button_clicked",{persistentEntityId:e.persistentEntityId,clientLifecycleId:e.clientLifecycleId,source:t,fileKey:n})}function m(e,t,n){s.az.trackDefinedEvent("ai_for_production.ai_chat_connect_to_backend_cancel_button_clicked",{persistentEntityId:e.persistentEntityId,clientLifecycleId:e.clientLifecycleId,toolName:t,fileKey:n})}function h(e,t){s.az.trackDefinedEvent("ai_for_production.ai_chat_supabase_secret_stored",{persistentEntityId:e.persistentEntityId,clientLifecycleId:e.clientLifecycleId,fileKey:t})}function f(e,t,n,i){s.az.trackDefinedEvent("ai_for_production.ai_chat_supabase_project_connected",{persistentEntityId:e.persistentEntityId,clientLifecycleId:e.clientLifecycleId,source:t,fileKey:n,projectType:i})}function g(e,t,n){s.az.trackDefinedEvent("ai_for_production.ai_chat_history_deleted",{fileKey:e,messageHistoryLength:t,numDeletions:n})}function _(e,t,n,a,r){s.az.trackDefinedEvent("ai_for_production.chat_message_sent",{messageHistoryLength:t,featureType:e,productType:e===i.lV.FIGMAKE?"figmake":"sites",persistentEntityId:n,clientLifecycleId:a,fileKey:r})}function x({featureType:e,streamRequestTime:t,firstCharacterTime:n,responseCompletedTime:a,firstChatVisibleCharacterTime:r,toolCalls:o,persistentEntityId:l,clientLifecycleId:d,abortReason:c}){s.az.trackDefinedEvent("ai_for_production.chat_response_received",{featureType:e,productType:e===i.lV.FIGMAKE?"figmake":"sites",timeToFirstCharacterMs:n?n-t:void 0,timeToFirstChatVisibleCharacterMs:r?r-t:void 0,totalResponseTimeMs:a-t,persistentEntityId:l,clientLifecycleId:d,toolCalls:JSON.stringify(o.map(e=>`${e.toolName}${"command"in e.partialArgs?" "+e.partialArgs.command:""}`)),toolCallsMessageLength:o.reduce((e,t)=>e+JSON.stringify(t.partialArgs).length,0),abortReason:c})}function y({error:e,featureType:t,persistentEntityId:n,clientLifecycleId:i}){let o;let d=(0,l.sZ)(e);e instanceof a.G1?e.data&&"status"in e.data&&(o=e.data.status):e instanceof r.CortexErrorV2&&(o=e.statusCode),s.az.trackDefinedEvent("ai_for_production.chat_stream_error",{featureType:t,persistentEntityId:n,clientLifecycleId:i,errorReason:d,errorMessage:e.message,errorName:e.name,statusCode:o?.toString()})}function v(e,t,n){let i=parseInt((0,o.F)(e+"-"+t+"-"+n),36).toString(16).padEnd(30,"0");return`${i.substring(0,8)}-${i.substring(8,12)}-4${i.substring(12,15)}-8${i.substring(15,18)}-${i.substring(18,30)}`}function b(e,t){return(0,o.F)(e+"-"+t)}function C({featureType:e,persistentEntityId:t,clientLifecycleId:n,fileUpdates:a}){for(let r of Object.values(a)){let a=r.match(/https:\/\/images\.unsplash\.com\/photo-[a-zA-Z0-9_-]+(?:\?[a-zA-Z0-9_=&-]*)?/g)||[];a&&a.forEach(a=>s.az.trackDefinedEvent("ai_for_production.llm_generated_image_url",{featureType:e,productType:e===i.lV.FIGMAKE?"figmake":"sites",persistentEntityId:t,clientLifecycleId:n,imageUrl:a}))}}},30508:(e,t,n)=>{n.d(t,{j:()=>i});function i(e){let t;let n=0;for(let i of e){if(++n>1)return;t=i}return t}},90499:(e,t,n)=>{n.d(t,{o:()=>i});let i=(0,n(140948).bt)(e=>e.mirror.appModel.isReadOnly)},619511:(e,t,n)=>{n.d(t,{k:()=>s});var i=n(104076),a=n(511570),r=n.n(a);function s({children:e,wrapperClassName:t,isVisible:n}){return(0,i.jsx)("div",{className:r()(t,"focusable_hidden_button_wrapper--wrapper--w-n3a",{"focusable_hidden_button_wrapper--visible--3AzQL":n}),children:e})}},36767:(e,t,n)=>{n.d(t,{e:()=>d,v:()=>c});var i=n(104076),a=n(716976);n(120440);var r=n(553065),s=n(754446),o=n(391145);let l={type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL"};function d(e){let[t]=(0,s.lJ)("dividedSwatchColors");return(0,a.useMemo)(()=>(0,r.hS)(e)&&e&&e.color?[e.color]:Array.isArray(t)&&t.length>1?t:[{r:1,g:1,b:1,a:1}],[t,e])}function c({colors:e,paint:t,showTransparentBorder:n=!1,forceNonInteractive:a=!1}){if(!(e.length>1))return(0,i.jsx)(o.J,{...{0:{className:"x6jxa94 x1v9usgg x1cum3z5"},1:{className:"x6jxa94 x1v9usgg x1cum3z5 xxh8tns"}}[!!n<<0],hideBorderShadow:n,paint:t??l,allowMouseDownPropagation:!0,forceNonInteractive:a});{let t=e[0],n=e.find(e=>e.r!==t.r||e.g!==t.g||e.b!==t.b)??t;return(0,i.jsxs)("div",{className:"x1n2onr6 x1kky2od xlup9mm",tabIndex:a?-1:void 0,children:[(0,i.jsx)("span",{className:"x10l6tqk x1kky2od xlup9mm xu96u03 x13vifvy x1f869rl",children:(0,i.jsx)(o.J,{className:"x6jxa94 x1v9usgg x1cum3z5",paint:{type:"SOLID",color:t,opacity:1,blendMode:"NORMAL"},allowMouseDownPropagation:!0,forceNonInteractive:a})}),(0,i.jsx)("span",{className:"x10l6tqk x1kky2od xlup9mm xu96u03 x13vifvy x103kmln",children:(0,i.jsx)(o.J,{className:"x6jxa94 x1v9usgg x1cum3z5",paint:{type:"SOLID",color:n,opacity:1,blendMode:"NORMAL"},allowMouseDownPropagation:!0,forceNonInteractive:a})})]})}}},635629:(e,t,n)=>{n.d(t,{y:()=>x});var i={};n.r(i),n.d(i,{baseIconButton:()=>f,highlighted:()=>h,icon:()=>_,input:()=>u,label:()=>p,primary:()=>m,srOnly:()=>c,toggleButton:()=>g});var a=n(104076),r=n(716976),s=n(554875),o=n(623411),l=n(511570),d=n.n(l);let c="toggle_button_32--srOnly--MJcgX",u="toggle_button_32--input--pQ88f",p="toggle_button_32--label--DiRj4",m="toggle_button_32--primary---O-Ty",h="toggle_button_32--highlighted--1lPJo",f="toggle_button_32--baseIconButton--eTRcM",g="toggle_button_32--toggleButton--xs7XD toggle_button_32--baseIconButton--eTRcM",_="toggle_button_32--icon--r-dy0",x=(0,r.forwardRef)(({onIcon:e,offIcon:t,"aria-label":n,variant:l="primary",htmlAttributes:m,...h},f)=>{let x=(0,r.useId)(),y=h.checked&&!h.mixed?e:t;return(0,a.jsxs)("span",{"data-disabled":!!h.disabled||void 0,className:g,children:[(0,a.jsx)(s.F,{className:d()(u,i[l]),id:x,htmlAttributes:m,...h,"data-tooltip":n,"data-tooltip-type":"text","data-tooltip-shortcut-key":h?.["data-tooltip-shortcut-key"]??m?.["data-tooltip-shortcut-key"],ref:f}),(0,a.jsxs)(o.J,{htmlFor:x,className:p,children:[(0,a.jsx)("span",{className:c,children:n}),(0,a.jsx)("span",{"aria-hidden":!0,className:_,children:y})]})]})});x.displayName="ToggleButton32"},786519:(e,t,n)=>{n.d(t,{n:()=>a});var i=n(795033);let a=(0,n(985416).Wh)(()=>(0,i.eU)(null))},297174:(e,t,n)=>{n.d(t,{N:()=>a,l:()=>i});let i=(0,n(252285).H)(null);function a(e){var t;return e?"code"===e.type?e.fullFilePath:"editedFiles"===e.type||"deletedFiles"===e.type?e.files.join(", "):("view_tool"===e.toolName||"write_tool"===e.toolName||"fast_apply_tool"===e.toolName||"edit_tool"===e.toolName||"delete_tool"===e.toolName)&&(t=e.partialArgs.path)&&t.includes(".")?e.partialArgs.path:null:null}},743558:(e,t,n)=>{n.d(t,{E:()=>I,q:()=>S});var i=n(716976),a=n(130249),r=n(651234),s=n(614641),o=n(542653),l=n(638004),d=n(266808),c=n(170627),u=n(980852),p=n(812714),m=n(795033),h=n(666875),f=n(550209),g=n(354114),_=n(211862),x=n(252285),y=n(635533),v=n(410915),b=n(923669),C=n(329232),E=n(196293),j=n(574433),w=n(963433);let T=(0,x.H)({codeSnapshotKey:null,files:{},isLoading:!1,error:!1,lastAttemptedKey:null}),k=(0,x.H)({files:{}});function I(e,t,n){let a=e?.guid||"",l=(0,_.q5)(),c=l?.key||null,[u,f]=(0,m.fp)(T(a)),[g,x]=(0,m.fp)(k(a)),{entryPointCodeInstance:y}=(0,w.oA)(),C=t===r.lV.FIGMAKE,I=C?y:e,S=(0,j.IO)(I),N=(0,p.kc)().bake_manual_edits,A=(0,v.EI)(e),L=function(e){let[t,{flush:n}]=(0,h.A)(e,500),a=Object.keys(e).length,r=Object.keys(t).length;return i.useEffect(()=>{a!==r&&n()},[a,r,n]),t}(g.files);i.useEffect(()=>{if(!N||!c){f({codeSnapshotKey:null,files:{},isLoading:!1,error:!0,lastAttemptedKey:null});return}let e=function(e){let t;for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.type===d.K$p.ASSISTANT_MESSAGE){let e=(0,r.lr)(i.textContent||"");t=e.codeSnapshot?.codeSnapshotKey;break}if(i.type===d.K$p.SYSTEM_MESSAGE){let e=(0,r.U1)(i.textContent||"");t=e?.type==="manual_edit"||e?.type==="restore"?e?.codeSnapshot?.codeSnapshotKey:void 0;break}}return t}(A);if(!e){u.codeSnapshotKey&&f({codeSnapshotKey:null,files:{},isLoading:!1,error:!0,lastAttemptedKey:null});return}(u.codeSnapshotKey!==e||u.isLoading)&&(!u.error||u.lastAttemptedKey!==e)&&(async()=>{f({codeSnapshotKey:e,files:{},isLoading:!0,error:!1,lastAttemptedKey:e});try{let t=await (0,b.l)({fileKey:c,codeSnapshotKey:e});f({codeSnapshotKey:e,files:t,isLoading:!1,error:!1,lastAttemptedKey:e})}catch(t){console.warn("Failed to fetch snapshot files:",t),f({codeSnapshotKey:null,files:{},isLoading:!1,error:!0,lastAttemptedKey:e})}})()},[A,u.codeSnapshotKey,u.isLoading,c,N,f,u.error,u.lastAttemptedKey]),i.useEffect(()=>{if(!e||!N){x({files:{}});return}let n={multi_file_code_layers:(0,p.kc)().multi_file_code_layers,bake_canvas:(0,p.kc)().bake_canvas},i=(0,s.Pq)(t,e,n),a=C?(0,o.qx)():((0,p.kc)().multi_file_code_layers||(0,p.kc)().bake_canvas)&&e.codeFilePath?(0,o.qx)(i):(0,o.qx)(),r={};a.forEach(e=>{let t=e.codeFileFullPathWithoutScheme;i&&(t=t.replace(i+"/","")),r[t]=e.sourceCode||""}),x({files:r})},[e,C,N,S,x,t]);let[O,R]=i.useState([]),[P,M]=i.useState(!1),[D,F]=i.useState(!1),[B,U]=i.useState(!1);return i.useEffect(()=>{u.isLoading?(U(!0),M(null!==u.codeSnapshotKey)):u.error||!u.codeSnapshotKey?(F(u.error),U(!1)):async function(){try{let e=await (0,E.ft)(u.files,L,n?.shouldIncludeFile);R(e),M(!0),U(!1)}catch(e){console.error("Error computing file changes:",e),F(!0),U(!1)}}()},[L,u.codeSnapshotKey,u.error,u.files,u.isLoading,n?.shouldIncludeFile]),{changedFiles:O,isLoading:B,error:D,hasBaseline:P}}function S({chatMessagesNodeGuid:e,featureType:t}){let[n]=(0,m.fp)(T(e)),d=(0,_.tS)(),h=e=>{let t=C.O.get(e.guid);t&&(t.hasSystemEdited=!0)};return{restoreFile:(0,i.useCallback)(i=>{if(e&&n.codeSnapshotKey&&n.files[i]&&d)return()=>{let d=(0,u.UN)().get(e);if(!d)return;let _=n.files[i];if(!_){console.error("No baseline content found for file:",i);return}c.l7.user("restore-individual-file",()=>{let e={multi_file_code_layers:(0,p.kc)().multi_file_code_layers,bake_canvas:(0,p.kc)().bake_canvas},n=(0,s.Pq)(t,d,e),c=t===r.lV.FIGMAKE?(0,o.$d)():((0,p.kc)().multi_file_code_layers||(0,p.kc)().bake_canvas)&&d.codeFilePath?(0,o.$d)(n):(0,o.$d)(),u=(0,a.F$)(n,i),{codeFile:x}=(0,s.Ur)(c,n,u,_,{trackSystemEditedSession:h,reportErrorToSentry:e=>{(0,f.$D)(l.e.MAKE,e)},enableDuplicateCheck:(0,p.kc)().bake_dup_code_files});x&&(x.sourceCode=_,m.zl.set((0,y.Nm)(d.guid),"user")),g.Y5.commit()})}},[n.files,n.codeSnapshotKey,e,t,d])}}},157067:(e,t,n)=>{n.d(t,{En:()=>d,Ic:()=>c,Pe:()=>u,gC:()=>l});var i=n(716976),a=n(795033),r=n(985416);let s=(0,r.Wh)(()=>(0,a.eU)([])),o=(0,r.Wh)(()=>(0,a.eU)(new Map));function l(){let e=a.zl.get(o);a.zl.set(s,Array.from(e.values()))}function d(){a.zl.set(o,new Map)}function c(){a.zl.set(s,[])}function u(){let[e,t]=(0,a.fp)(o),[n,r]=(0,a.fp)(s),l=i.useCallback(()=>{r([])},[r]);return{communityAttribution:e,addCommunityAttribution:i.useCallback((e,n)=>{t(t=>{let i=new Map(t);return i.set(e,n),i})},[t]),communityAttributionDisplay:n,clearCommunityAttributionDisplay:l}}},492130:(e,t,n)=>{n.d(t,{d:()=>r,k:()=>o});var i=n(795033),a=n(985416),r=(e=>(e.INITIAL="initial",e.BUILDING="building",e.LOADED="loaded",e.ERROR="error",e))(r||{});let s=(0,a.Wh)(()=>(0,i.eU)("initial"));function o(){let[e,t]=(0,i.fp)(s);return{componentPreviewState:e,setComponentPreviewState:t}}},234429:(e,t,n)=>{n.d(t,{IO:()=>l,Zi:()=>s,xD:()=>o});var i=n(651234),a=n(266808),r=n(91834);function s(e,t,n){let s=(0,i.ic)(a.K$p.SYSTEM_MESSAGE,e.id,()=>((0,r.vA)(void 0!==a.glU,"Fullscreen must be defined"),a.glU.generateUniqueID()));return s.textContent=(0,i.J6)({type:"restore",codeSnapshot:t,plainText:"",title:n}),s}function o(e,t,n,s){let o=(0,i.ic)(a.K$p.SYSTEM_MESSAGE,e.id,()=>((0,r.vA)(void 0!==a.glU,"Fullscreen must be defined"),a.glU.generateUniqueID()));return o.textContent=(0,i.J6)({type:"manual_edit",changedFiles:t,codeSnapshot:n,plainText:"",title:s}),o}function l(e,t){let n=(0,i.ic)(a.K$p.SYSTEM_MESSAGE,e.id,()=>((0,r.vA)(void 0!==a.glU,"Fullscreen must be defined"),a.glU.generateUniqueID()));return n.textContent=(0,i.J6)({type:"duplicated_file",fileKeyHash:t,plainText:""}),n}},923669:(e,t,n)=>{n.d(t,{O:()=>o,l:()=>l});var i=n(441513),a=n(113139);let r=i.z.record(i.z.string(),i.z.string()),s=new class{constructor(){this.CreateCodeSnapshotValidator=(0,a.vh)(),this.GetCodeSnapshotValidator=(0,a.vh)()}createCodeSnapshot(e){return this.CreateCodeSnapshotValidator.validate(async({xr:t})=>(r.parse(e.codeFiles),await t.post(`/api/rev/${e.fileKey}/code_snapshot`,{code_files:e.codeFiles})))}getCodeSnapshot(e){return this.GetCodeSnapshotValidator.validate(async({xr:t})=>await t.get(`/api/rev/${e.fileKey}/code_snapshot/${e.codeSnapshotKey}`))}};async function o({fileKey:e,codeFiles:t}){let{code_snapshot_key:n,file_version_id:i}=(await s.createCodeSnapshot({fileKey:e,codeFiles:t})).data.meta;return{codeSnapshotKey:n,fileVersionId:i}}async function l({fileKey:e,codeSnapshotKey:t}){return(await s.getCodeSnapshot({fileKey:e,codeSnapshotKey:t})).data.meta.code_files}},121363:(e,t,n)=>{n.d(t,{P:()=>a});var i=n(107027);function a(){return i.H.CLAUDE_4_SONNET}},316339:(e,t,n)=>{n.d(t,{u:()=>a});var i=n(542653);function a(e,t,n){let a={rawUserMessage:e,attachments:[]};if(t.length>0&&t.forEach(e=>{a.attachments.push({type:e.type,nodeGuid:e.guid,label:""})}),n){let e=(0,i._J)(n[0].fullFilePath);a.attachments.push({type:"inspectedElement",nodeGuid:e?.guid||"",label:"",inspectedElementSources:n})}return a}},191182:(e,t,n)=>{let i;n.d(t,{O:()=>ei});var a=n(130249),r=n(651234),s=n(614641),o=n(542653),l=n(673349);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{configure(e){this.callbacks=e.callbacks,this.deltaReducer=e.deltaReducer}async cancel(e="cancelled"){await this.callbacks?.onCancel?.(e),this.abortController.abort()}async abortIfClientCancelled(){this.callbacks?.shouldCancel?.()&&await this.cancel()}async consume(e){let t,n,i;try{n=e.getReader();let a=async e=>{try{null==t&&(t=performance.now(),this.callbacks?.onFirstDelta?.());let n=this.deltaReducer?.(e);n&&void 0!==n&&await this.callbacks?.onDeltaApplied?.(e,n)}catch(e){throw console.warn("[DeltaStreamController] Error in handleDelta:",e),e}};try{for(;;){let e=await Promise.race([n.read(),this.cancelPromise]);if(this.abortController.signal.aborted||this.callbacks?.shouldCancel?.()){i=this.callbacks?.getCancelReason?.(),await n.cancel(),await this.callbacks?.onCancel?.(i??"aborted");return}let{done:t,value:r}=e;if(r&&await a(r),t)break}}catch(e){throw console.error("[DeltaStreamController] Error in consume:",e),e}}catch(e){console.error("[DeltaStreamController] Error in consume method:",e),this.callbacks?.onError?.(e,{}),n&&await n.cancel()}finally{this.callbacks?.onDone?.()}}constructor(){d(this,"abortController",void 0),d(this,"cancelPromise",void 0),d(this,"deltaReducer",void 0),d(this,"callbacks",void 0),this.abortController=new AbortController,this.cancelPromise=new Promise(e=>{this.abortController.signal.addEventListener("abort",()=>{e()},{once:!0})})}}var u=n(998432),p=n(772197),m=n(951002),h=n(638004),f=n(266808),g=n(170627),_=n(812714),x=n(795033),y=n(91834),v=n(755444),b=n(550209),C=n(316862),E=n(192075),j=n(178623),w=n(20267),T=n(354114),k=n(1966),I=n(211862),S=n(248043),N=n(710211),A=n(577932),L=n(312071),O=n(581006),R=n(107799),P=n(786519),M=n(635533),D=n(297174),F=n(872966),B=n(266230),U=n(51656),H=n(157067),V=n(329232),G=n(574433),z=n(886597),K=n(253066),W=n(980852),Z=n(688812),q=n(985416);let X=(0,q.Wh)(()=>(0,x.eU)("")),Y=(0,q.Wh)(()=>(0,x.eU)(""));var J=n(234429),Q=n(923669);function $(e){x.zl.set(P.n,e)}function ee(e){let t;switch(e){case r.lV.FIGMAKE:t=j.Ay.shared.generateFigMake;break;case r.lV.FIGMAKE_IN_DESIGN:case r.lV.CODE_IN_SITES:case r.lV.AI_ASSISTANT:t=j.Ay.shared.generateLivingDesigns;break;default:(0,m.xb)(e)}return(e,n,i)=>t(e,n,i)}function et(){return(0,y.vA)(void 0!==f.glU,"Fullscreen must be defined"),f.glU.generateUniqueID()}function en(){return(0,v.b5)()?(0,C.g)():void 0}async function ei({userMessageContent:e,clientSideToolResult:t,user:n,chatMessagesNode:a,rawUserChatDetails:o,featureType:l,setInput:d,fileKey:m,autoFixingUserMessageId:g,onFinish:C,canUseSupabase:j,changedFiles:T,model:I,instanceNode:N}){let z=()=>{a&&((0,R.wi)(a.guid,{switchToPreview:!0}),e&&d(e.plainText),(0,B.WH)())},K={onBegin:({featureType:e,messageCount:t,persistentEntityId:n,clientLifecycleId:i,fileKey:a})=>{(0,A.rH)(e,t,n,i,a)},onSuccess:({fileUpdates:e,featureType:t,persistentEntityId:n,clientLifecycleId:a,shouldClearConsoleMessages:r})=>{(0,A.eM)({featureType:t,clientLifecycleId:a,persistentEntityId:n,fileUpdates:e}),(0,_.kc)().make_ai_play_sound_when_done&&function(){if(!window.AudioContext&&!window.webkitAudioContext)return;let e=(0,v.ck)("1fb330e7e06a4a07c4109facad0ea965722e328f");void 0===i&&(i=new Audio(e)),i.play().catch(e=>{console.error("Could not play generation complete sound:",e)})}(),r&&(0,G.px)()},onFinish:({chatMessagesNodeGuid:e})=>{(0,R.wi)(e,{switchToPreview:!0}),x.zl.set((0,M.o0)(e),!1)},generateRequestUuid:en,onTitle:$,generateUniqueId:et,getPersistentEntityId:A.qE,getClientLifecycleId:A.Pd,onUpdateCodeSnapshotState:N?e=>{k.u.updateCodeSnapshotState(e.nodeGuid,e.state,e.inProgress,e.progress,e.hasError)}:void 0,onMarkCodeNodesDirty:N?e=>{k.u.markCodeNodesDirty(e)}:void 0,onSubmitFinish:C,cancel:{getCancelReason:()=>{let e=ea();if(!a)return"node_missing";let t=x.zl.get((0,R.Z3)(a.guid));return t?.signal.aborted?"user_cancelled":e!==m?"user_left":a.isAlive?void 0:"node_missing"},onCancelCleanup:()=>{z()}},getCodeLibraryComponents:()=>(0,s.f3)({bake_ds_import_l3a:(0,_.kc)().bake_ds_import_l3a}),initSupabase:er,preview:x.zl.get(O.f3),selectFile:L.nU,streamController:new c,webCallbacks:{onBegin:()=>{(0,y.vA)(void 0!==f.glU,"Fullscreen must be defined"),(0,H.Ic)()},onSetupComplete:(e,t)=>{(0,R.YZ)({node:e,messages:t,fileUpdates:[],isTyping:!1})},onSystemEditedSession:e=>{let t=V.O.get(e.guid);t&&(t.hasSystemEdited=!0)},onNodeBuilderError:(e,t)=>{(0,b.$D)(h.e.MAKE,e,t)},onStreamError:e=>{let{error:t}=e;(0,F.Ho)(t,l,F.a5.SEND_MESSAGE),(0,A.rW)(e),a&&(t instanceof u.G1||t instanceof p.CortexErrorV2?x.zl.set((0,U.QK)(a.guid),{error:t,cortexClientGeneratedRequestUuid:K.generateRequestUuid()}):x.zl.set((0,U.QK)(a.guid),{error:t}),z())},onDelta:(e,t,n,i)=>{t.planTitle&&x.zl.set(P.n,t.planTitle),t.artifact&&function(e,t,n,i){let a=t.guid,r=(0,D.l)(a);if("code"===e.type){let t=e.file;x.zl.set(r,{type:"code",fullFilePath:t})}else if("toolCall"===e.type)"multi_edit_tool"!==e.toolName&&x.zl.set(r,e);else if("toolCallDelta"===e.type){let e=i.getCurrentToolCall();e&&x.zl.set(r,{...e})}else"message"===e.type||"summary"===e.type||"visible_message"===e.type?x.zl.set(r,null):"plan"===e.type?(x.zl.set(r,null),e.title&&!(0,_.kc)().bake_title&&x.zl.set(P.n,e.title)):"editedFiles"===e.type&&x.zl.set(r,{type:"editedFiles",files:e.files})}(e,n,0,i),(0,R.YZ)({node:n.guid,messages:t.messages,fileUpdates:Object.entries(t.fileUpdates).map(([e,t])=>({name:e,contents:t})),isTyping:!1})},onDone:A.oL},setCodeChatArtifact:a?e=>{x.zl.set((0,D.l)(a.guid),{type:"code",fullFilePath:e})}:()=>{},createManualEditSystemMessage:es,getStreamFn:ee,trackSystemEditedSession:e=>{let t=V.O.get(e.guid);t&&(t.hasSystemEdited=!0)},setCodeLastEditedBy:e=>{x.zl.set((0,M.Nm)(e),"assistant")},createCodeSnapshot:Q.O,reportErrorToSentry:e=>(0,b.$D)(h.e.AI_FOR_PRODUCTION,e),mirrorCommunityAttributionDisplay:H.gC,clearCommunityAttribution:H.En,translationFns:{getChatCommunityAttributionComment:e=>(0,E.t)("figmake.chat.community_attribution.attribution_comment",{creatorName:e.creatorName,hubFileName:e.hubFileName,hubFileLink:`${(0,v.Ay)().figma_url}${(0,S.X$)(e.hubFileId)}`,licenseName:"CC BY 4.0",licenseLink:"https://creativecommons.org/licenses/by/4.0/"})},translatedStrings:{figmakeChatUnsplashAttributionAttributionComment:(0,E.t)("figmake.chat.unsplash_attribution.attribution_comment"),figmakeChatShadcnAttributionAttributionComment:(0,E.t)("figmake.chat.shadcn_attribution.attribution_comment")},enableDuplicateCheck:(0,_.kc)().bake_dup_code_files};a&&x.zl.set((0,R.Z3)(a.guid),K.streamController.abortController);try{let i={user:n,chatMessagesNode:a,featureType:l,fileKey:m,canUseSupabase:j,changedFiles:T,model:I,instanceNode:N,featureFlags:{multi_file_code_layers:(0,_.kc)().multi_file_code_layers,bake_canvas:(0,_.kc)().bake_canvas,bake_ds_import_l3a:(0,_.kc)().bake_ds_import_l3a,bake_smooth_chat_streaming:(0,_.kc)().bake_smooth_chat_streaming,bake_title:(0,_.kc)().bake_title,bake_manual_edits:(0,_.kc)().bake_manual_edits,make_chat_sdk:(0,_.kc)().make_chat_sdk,bake_dup_code_files:(0,_.kc)().bake_dup_code_files},cortexAuth:(0,w.Ay)(),dependencies:K};return await (t?(0,r.Oz)({...i,clientSideToolResult:t}):(0,r.Oz)({...i,userMessageContent:e,rawUserChatDetails:o,autoFixingUserMessageId:g}))}finally{a&&x.zl.set((0,R.Z3)(a.guid),void 0)}}function ea(){return x.zl.get(I.ze)}async function er(){let e=ea();if(!e)return;let{connectedProject:t,isConnectedNonOwner:n}=await N.M4.fetch((0,z.TT)({fileKey:e})),i=t?.secrets?.map(e=>e.name),a={projectId:t?.id,publicAnonKey:t?.public_anon_key,makeNamespace:t?.make_namespace,isConnectedNonOwner:!!n,secrets:i};if(a?.projectId&&a?.publicAnonKey&&a?.makeNamespace){var r,s;!function(e,t,n,i){let a=(0,W.UN)();if(!a.getInternalCanvas())return;let r=(0,o._J)(`/${Z.o3}`),s=(0,o._J)(`/${Z.Or}`),l=(0,o._J)(`/${Z.ww}`);g.Hq.system("create-supabase-starter-files",()=>{if(s)i.checkProjectChanged()&&(s.sourceCode=(0,Z.OP)(e,t));else{let n=a.createNewCodeFile({path:Z.Or,sourceCode:"",entryPoint:null,isEntrypointCodeFile:!1,onError:i.reportErrorToSentry,enableDuplicateCheck:i.enableDuplicateCheck});if(!n)return;let r=a.get(n);if(!r)return;r.sourceCode=(0,Z.OP)(e,t)}if(!r){let t=a.createNewCodeFile({path:Z.o3,sourceCode:"",entryPoint:null,isEntrypointCodeFile:!1,onError:i.reportErrorToSentry,enableDuplicateCheck:i.enableDuplicateCheck});if(!t)return;let r=a.get(t);if(!r)return;r.sourceCode=(0,Z._u)(n,e)}if(!l){let e=a.createNewCodeFile({path:Z.ww,sourceCode:"",entryPoint:null,isEntrypointCodeFile:!1,onError:i.reportErrorToSentry,enableDuplicateCheck:i.enableDuplicateCheck});if(!e)return;let t=a.get(e);if(!t)return;t.sourceCode=(0,Z.mE)(n)}f.glU?.commit(),i.updateProject(e,t)})}(r=a.projectId,s=a.publicAnonKey,a.makeNamespace,{checkProjectChanged:()=>x.zl.get(X)!==r||x.zl.get(Y)!==s,updateProject:(e,t)=>{x.zl.set(X,e),x.zl.set(Y,t)},reportErrorToSentry:e=>(0,b.$D)(h.e.MAKE,e),enableDuplicateCheck:(0,_.kc)().bake_dup_code_files})}return(0,K.r)(),a}function es({user:e,changedFiles:t,chatMessagesNode:n,featureType:i,fileKey:d}){let c=n.chatMessages||[];if(0===c.length)return Promise.resolve();let u=(0,l.eB)(c)||function(){let e=x.zl.get(I.yV);return e?.name}(),p=(0,J.xD)(e,t,void 0,u);g.Hq.ai("add-manual-edit-system-message",()=>{n.chatMessages=[...c,p],T.Y5.commit()});let m=(0,_.kc)().multi_file_code_layers,h=(0,_.kc)().bake_canvas,f=(0,s.Pq)(i,n,{multi_file_code_layers:m,bake_canvas:h}),y=Object.fromEntries(Object.entries(i===r.lV.FIGMAKE?(0,o.$d)():(m||h)&&n.codeFilePath?(0,o.$d)(f):(0,o.$d)()).map(([e,t])=>[(0,a.F$)(f,e),t.sourceCode]));return(0,Q.O)({fileKey:d,codeFiles:y}).then(i=>{i&&g.Hq.ai("enrich-manual-edit-message-with-code-snapshot",()=>{let a=(n.chatMessages||[]).map(n=>{if(n.id===p.id){let a=(0,r.U1)(n.textContent);if(a?.type==="manual_edit"||a?.type==="restore")return a.codeSnapshot=i,{...n,textContent:(0,r.J6)(a)};let s=(0,J.xD)(e,t,i,u);return{...n,textContent:s.textContent}}return n});n.chatMessages=a})}).catch(e=>{console.warn("Failed to create code snapshot for manual edit message:",e)})}},723339:(e,t,n)=>{n.d(t,{ee:()=>C,Tk:()=>E,ry:()=>j});var i=n(812714),a=n(394549),r=n(211862),s=n(592726),o=n(944350),l=n(904017),d=n(716976),c=n(638004),u=n(550209),p=n(260745),m=n(382137),h=n(946996),f=n(141330),g=n(590662),_=n(842909),x=n(700126),y=n(127082),v=n(347142),b=n(167151),C=(e=>(e.DISABLE_WITHOUT_TOAST="disable_without_toast",e.UNAVAILABLE_ON_EDU_PLANS="unavailable_on_edu_plans",e.UNAVAILABLE_FOR_EDU_USER="unavailable_for_edu_user",e.MAKE_UNAVAILABLE_ON_PLAN="make_unavailable_on_plan",e.MAKE_UNAVAILABLE_ON_SEAT="make_unavailable_on_seat",e.INTERIM_VIEW_ONLY_COMING_SOON="interim_view_only_coming_soon",e.VIEW_ONLY_ASK_TO_EDIT="view_only_ask_to_edit",e.METER_LIMIT="meter_limit",e.METER_LIMIT_UPGRADE_PLAN="meter_limit_upgrade_plan",e.METER_LIMIT_UPGRADE_SEAT="meter_limit_upgrade_seat",e.PLAN_AI_DISABLED="plan_ai_disabled",e.DISABLE_CATCH_ALL="disable_catch_all",e))(C||{});function E(){let e=(0,s.iZ)(),t=(0,r.q5)(),n=(0,x.l)(),C=(0,l.No)(),E=C.unwrapOr(null)?.tier||null,j=(0,y.Oc)(),w=(0,b.cJ)(),T=(0,v.e4)(),k=j?f.JT.FIGMAKE:f.JT.LIVING_DESIGNS,{meterAllowed:I,meteringWindow:S}=(0,g.Ig)(k),N=(0,_.uQ)(),A=(0,_.Zb)(),L=(0,a.TT)(t),O=(0,i.kc)().make_ai_allowlist_for_atlassian,{getIsUpgradeHandlerLoading:R,getUpgradeEligibility:P}=function(e){let{getUpgradeEligibility:t,getIsUpgradeHandlerLoading:n}=(0,m.wH)({entryPoint:p.tc.CODE_CHAT_LIMIT,folderId:null}),i=function(e){switch(e){case f.JT.FIGMAKE:return o.G_.FIGMAKE;case f.JT.LIVING_DESIGNS:return o.G_.SITES;default:return null}}(e);return(0,d.useEffect)(()=>{i||(0,u.$D)(c.e.MONETIZATION_EXPANSION,Error(`Upgrade license type not found for AI Action '${e}'`))},[e,i]),{getIsUpgradeHandlerLoading:n,getUpgradeEligibility:(0,d.useCallback)(()=>i?t(i):h.q.CANNOT_UPGRADE,[t,i])}}(k),M=j&&!R()&&P()===h.q.CAN_UPGRADE;if(!t||!E||!e)return{restriction:"disable_without_toast"};if(E===o.Ag.STUDENT){if(j&&!(0,i.kc)().bake_edu_limit||w&&!(0,i.kc)().sts_student_enabled)return{restriction:"unavailable_on_edu_plans"};if(!A)return{restriction:"unavailable_for_edu_user"}}return E===o.Ag.STARTER&&j&&!(0,i.kc)().bake_starter_limit?(0,i.kc)().bake_starter_rollout?{restriction:"interim_view_only_coming_soon"}:{restriction:"make_unavailable_on_plan"}:L||O?E!==o.Ag.STARTER&&j&&!T?{restriction:"interim_view_only_coming_soon"}:n?{restriction:"view_only_ask_to_edit"}:N?I?null:E===o.Ag.STARTER&&w&&(0,i.kc)().sts_starter_enabled||E===o.Ag.STARTER&&j&&(0,i.kc)().bake_starter_limit?{restriction:"meter_limit_upgrade_plan",meteringWindow:S}:E!==o.Ag.STUDENT&&M&&(0,i.kc)().bake_monetization_plan?{restriction:"meter_limit_upgrade_seat",meteringWindow:S}:{restriction:"meter_limit"}:j?{restriction:"make_unavailable_on_plan"}:{restriction:"disable_catch_all"}:{restriction:"plan_ai_disabled"}}function j(){let e=E();return!!((0,x.l)()||e)}},315922:(e,t,n)=>{n.d(t,{_:()=>N});var i=n(104076),a=n(716976),r=n(420680),s=n(132760),o=n(909204),l=n(766214),d=n(299986),c=n(980852),u=n(795033);n(120440);var p=n(930508),m=n(511570),h=n.n(m),f=n(991535),g=n(72138),_=n(192075),x=n(739710),y=n(460418),v=n(390392),b=n(963433),C=n(588961),E=n(581006),j=n(454333),w=n(574433);let T="devtools_code_console--tabPanelScrollContainer--BVJaw";function k(){let[e]=(0,w.jT)(),[t]=(0,C.PM)(),n=(0,u.md)(E.Cb),r=(0,a.useMemo)(()=>(e??[]).concat(t.map(e=>{let t=parseInt(e.timestamp);return{type:"error",phase:w.S4.RUNTIME,message:`[Supabase] ${e.event_message}`,timestamp:isNaN(t)?0:t}})).filter(e=>e.message.includes(n)).sort((e,t)=>e.timestamp-t.timestamp),[e,n,t]),[s,o]=(0,a.useState)(r),l=(0,a.useMemo)(()=>(0,f.n)(20,e=>{o(e)}),[]);return((0,a.useEffect)(()=>{l(r)},[l,r]),s)?(0,i.jsx)("div",{tabIndex:-1,children:s.map((e,t)=>(0,i.jsxs)("div",{children:[0!==t&&(0,i.jsx)(A,{}),(0,i.jsx)(L,{consoleMessage:e})]},t))}):null}function I({value:e,onChange:t}){let n=a.useRef(null);return(0,i.jsxs)("label",{className:"devtools_code_console--filter--Txqal",children:[(0,i.jsx)(o.S,{className:"devtools_code_console--filterIcon--X3LB-"}),(0,i.jsx)("input",{className:"devtools_code_console--filterInput--FzveZ",type:"text",value:e,onChange:e=>t(e.target.value),ref:n,placeholder:(0,_.t)("sites.code_component.console.filter")})]})}function S(){let[e,t]=(0,w.jT)(),[n,a]=(0,u.fp)(E.Cb);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{value:n,onChange:a}),(0,i.jsx)("div",{}),(0,i.jsx)(r.K,{"aria-label":(0,_.t)("sites.code_component.console.clear"),htmlAttributes:{"data-tooltip":(0,_.t)("sites.code_component.console.clear"),"data-tooltip-type":"text"},onClick:()=>{t([]),(0,C.ZO)()},children:(0,i.jsx)(l.i,{})})]})}function N({codeSelectionToRender:e,windowRef:t,showPropertiesTab:n=!0}){let[o,l]=(0,u.fp)(E.Vo),[m,h]=(0,u.fp)(E.rO),[f,C]=(0,a.useState)(void 0);a.useEffect(()=>{let e=()=>{t?.current&&C(.4*t.current.clientHeight)};e();let n=new ResizeObserver(e);return t?.current&&n.observe(t.current),()=>{n.disconnect()}},[t]);let[w,I,N]=s.t.useManagedTabs({properties:n,console:!0},o,e=>l(e)),{figmakeInFullscreen:A}=(0,b.Ve)(),L=n?(0,_.t)("sites.code_component.drawer.hide"):(0,_.t)("sites.code_component.drawer.hide_console_only"),[O,R]=(0,u.fp)(E.YD),P=e?.type==="instance",M=e?.type==="behavior",D=M?e.targetNodeGuid:void 0,F=P?e.allCodeInstanceNodeIds:D?[D]:[],B=M?c.UN().get(e.codeBehaviorNodeGuid)?.codeComponentId??"":"",U=(0,v.xN)(B,F),{assignmentValuesByDefId:H}=(0,y.an)(F,x.OE.ASSIGNMENT,!0);return(0,i.jsx)(i.Fragment,{children:O&&!A&&(0,i.jsxs)(p.G,{className:"devtools_code_console--panel--yn97N",side:"top",maxSize:f,onDragEnd:e=>{h(e)},minSize:80,defaultSize:m,children:[(0,i.jsxs)("div",{className:"devtools_code_console--headerRow--2O6aI",children:[(0,i.jsx)("div",{className:"devtools_code_console--headerRowTabs--Qo6UD",children:(0,i.jsxs)(s.t.TabStrip,{manager:N,children:[(0,i.jsx)(s.t.Tab,{...w.properties,children:(0,_.tx)("sites.code_component.properties")}),(0,i.jsx)(s.t.Tab,{...w.console,children:(0,_.tx)("sites.code_component.console")})]})}),(0,i.jsxs)("div",{className:"devtools_code_console--headerRowIcons--fc3Yi",children:["console"===N.activeTab&&(0,i.jsx)(S,{}),(0,i.jsx)(r.K,{"aria-label":L,htmlAttributes:{"data-tooltip":L,"data-tooltip-type":"text"},onClick:()=>{R(!1)},children:(0,i.jsx)(d.L,{})})]})]}),(0,i.jsxs)("div",{className:"devtools_code_console--tabPanelContainer--w2g7B",children:[0===Object.keys(U?.typedPropDefs??H).length?(0,i.jsx)(s.t.TabPanel,{...I.properties,height:"fill",children:(0,i.jsx)(j.F,{})}):(0,i.jsx)(s.t.TabPanel,{...I.properties,height:"fill",children:(0,i.jsx)(g.P,{className:T,useBottomPinning:!0,children:(0,i.jsx)(j.D,{guids:F,hideVariableBinding:e?.type==="behavior",recordingKey:"codeWindowPropertiesPanel",entrypoint:"code-editor",windowRef:t,behaviorPropAssignmentHelpers:U})})}),(0,i.jsx)(s.t.TabPanel,{...I.console,height:"fill",children:(0,i.jsx)(g.P,{className:T,useBottomPinning:!0,children:(0,i.jsx)(k,{})})})]})]})})}function A(){return(0,i.jsx)("div",{className:"xjm9jq1 x2i9t41 xrxpjvj x176lpz5"})}function L({consoleMessage:e}){let t=e.message;return"error"===e.type?t=`\u274C ${t}`:"warn"===e.type&&(t=`\u26A0\uFE0F ${t}`),(0,i.jsx)("div",{className:h()("devtools_code_console--consoleMessage--I8RCD",{"devtools_code_console--error--5Un3V":"error"===e.type,"devtools_code_console--warn--LVB3K":"warn"===e.type}),"data-testid":"console-message",children:t})}},403160:(e,t,n)=>{n.d(t,{m:()=>nW});var i=n(104076),a=n(716976),r=n(827695),s=n(980852),o=n(120440),l=n(725837),d=n(249586),c=n(127082),u=n(492130),p=n(130249),m=n(250700),h=n(951002),f=n(667693),g=n(816299),_=n(623411),x=n(293422),y=n(4921),v=n(420680),b=n(861622);let C=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.5 7h9a.5.5 0 0 1 .5.5V14H7V7.5a.5.5 0 0 1 .5-.5M6 15V7.5A1.5 1.5 0 0 1 7.5 6h9A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5zm11 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V15z",clipRule:"evenodd"})})});var E=n(567211),j=n(878879),w=n(890373),T=n(266808),k=n(812714),I=n(795033),S=n(192075),N=n(772523),A=n(737139),L=n(572427),O=n(700126),R=n(39034),P=n(269535),M=n(48104),D=n(135308),F=n(185245),B=n(581006),U=n(635533),H=n(746332),V=n(776975),G=n(533144),z=n(208265),K=n.n(z);class W{constructor(){this.buildMetadata=null,this.initTime=performance.now(),this.timingMap={code_bundle_start:null,code_bundle_stop:null,preview_website_bundle_start:null,preview_website_bundle_stop:null,asset_generation_start:null,asset_generation_stop:null,render_start:null,render_stop:null}}record(e){this.timingMap[e]=performance.now()}setBuildMetadata(e){this.buildMetadata=e}trackFigmentEvent(){let{code_bundle_start:e,code_bundle_stop:t,preview_website_bundle_start:n,preview_website_bundle_stop:i,asset_generation_start:a,asset_generation_stop:r,render_start:s,render_stop:o}=this.timingMap,c=l.D.getState(),u=this.buildMetadata?.isBuildSuccessful?o:t;(0,d.ds)("code_component_preview_perf",c.openFile?.key,K()(c,["selectedView","fileByKey"]),{total_build_and_render_ms:u&&u-this.initTime,bundle_code_ms:e&&t&&t-e,preview_website_bundle_ms:n&&i&&i-n,asset_generation_ms:a&&r&&r-a,render_ms:s&&o&&o-s,is_build_successful:this.buildMetadata?.isBuildSuccessful,error_message:this.buildMetadata?.errorMessage,bundle_js_length:this.buildMetadata?.bundleJsLength,bundle_css_length:this.buildMetadata?.bundleCssLength,total_library_code_files:this.buildMetadata?.totalCodeFiles,total_library_code_file_lines:this.buildMetadata?.totalCodeFileLines,total_library_image_imports:this.buildMetadata?.totalImageImports},{forwardToDatadog:!0})}}var Z=n(146238);async function q(e,t){if(!e||!t)return e;try{let n=JSON.parse(t),i=await new Z.SourceMapConsumer(n),a=e.split("\n").map(e=>{let t;let n=(t=e.match(/at\s+(.+?)\s+\((.+?):(\d+):(\d+)\)/))?{fnName:t[1],fileName:t[2],lineNumber:parseInt(t[3],10),columnNumber:parseInt(t[4],10)}:(t=e.match(/at\s+?(.+?):(\d+):(\d+)/))?{fnName:void 0,fileName:t[1],lineNumber:parseInt(t[2],10),columnNumber:parseInt(t[3],10)}:null;if(!n)return e;let a=i.originalPositionFor({line:n.lineNumber,column:n.columnNumber});return a.source&&null!==a.line?n.fnName?`    at ${n.fnName} (${a.source}:${a.line}:${a.column||0}${a.name?` [${a.name}]`:""})`:`    at ${a.source}:${a.line}:${a.column||0}${a.name?` [${a.name}]`:""}`:null}).filter(e=>null!==e),r=a.findIndex(e=>e.includes("figma:react-base"));if(-1!==r)return a.slice(0,r).join("\n");return a.join("\n")}catch(t){return console.warn("Error applying sourcemap:",t),e}}var X=n(754245),Y=n(444713),J=n(983685),Q=n(903927),$=n(265149),ee=n(58212),et=n(168544),en=n(835307),ei=n(322023),ea=n(396326),er=n(459033),es=n(814738),eo=n(662466),el=n(526069),ed=n(703334),ec=n(661393),eu=n(809828),ep=n(553065),em=n(894210),eh=n(950241),ef=n(492737),eg=n(965815),e_=n(862567);function ex({children:e,menuRef:t}){let n=(0,ef.U1)(t);return(0,i.jsx)("div",{"data-is-figmake":"true",className:e_.xE,children:(0,i.jsx)(eg.W1,{menuRef:n,darkModePreferred:!0,editorTheme:"seascape",children:e})})}let ey=a.createContext(null);function ev(){let e=a.useContext(ey);if(!e)throw Error("useToolbarContext must be used within a ToolbarProvider");return e}function eb({children:e,...t}){return(0,i.jsx)(ey.Provider,{value:t,children:e})}var eC=n(766441),eE=n(17933),ej=n(761500);function ew({target:e,children:t}){let{directManipulationEditor:n}=ev(),[r,s]=(0,J.XH)(n),{getContainerProps:o,getTriggerProps:l}=eE.fP({type:"menu",isOpen:r,onOpenChange:s,softDismiss:!0,placement:"bottom",middleware:[(0,eC.cY)({mainAxis:16}),(0,eC.UU)({padding:16}),(0,eC.BN)()]}),d=a.cloneElement(e,{...l()});return(0,i.jsxs)("div",{children:[(0,i.jsx)(ej.R,{children:d}),(0,i.jsx)(eE.mc,{...o(),children:t})]})}let eT={scrubbableInputIconWrapper:{kfzvcC:"x47corl",$$css:!0}},ek=["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border-start-start-radius","border-start-end-radius","border-end-start-radius","border-end-end-radius"];function eI(){let{directManipulationEditor:e}=ev(),[t]=(0,J.XH)(e);return(0,i.jsx)(ew,{target:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.corner_radius"),tooltip:(0,S.t)("figmake.toolbar.corner_radius"),tooltipType:em.Ib.TEXT,showCaret:!0,isActive:t,children:(0,i.jsx)(es.a,{})}),children:(0,i.jsx)(eS,{})})}function eS(){let e=(0,k.kc)().click_to_inspect_reset_styles,{classNameEditingController:t,directManipulationEditor:n}=ev(),r=(0,Q.wA)(),s=(0,I.md)(n.selectedElementComputedStylesWithLocalEdits),l=parseInt(s["border-top-left-radius"]??"0",10),d=parseInt(s["border-top-right-radius"]??"0",10),c=parseInt(s["border-bottom-left-radius"]??"0",10),u=parseInt(s["border-bottom-right-radius"]??"0",10),p=a.useMemo(()=>({"top-left":l,"top-right":d,"bottom-left":c,"bottom-right":u}),[l,d,c,u]),m=(0,J.zV)(n,ek),h=a.useCallback(()=>{t.resetClassNamesForPropertiesAndCommitToCode(ek)},[t]),f=p["top-left"]===p["top-right"]&&p["top-left"]===p["bottom-left"]&&p["top-left"]===p["bottom-right"],g=f?p["top-left"]:ep.oV,[_,y]=a.useState(!f),v=a.useMemo(()=>(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.corner_radius.individual_corner_radius"),tooltip:(0,S.t)("figmake.toolbar.corner_radius.individual_corner_radius"),tooltipType:em.Ib.TEXT,isActive:_,onClick:()=>y(e=>!e),children:(0,i.jsx)(eo.Q,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),[_]),b=a.useCallback((e,n)=>{let i=function(e){let t=e["top-left"]===e["top-right"],n=e["bottom-left"]===e["bottom-right"],i=e["top-left"]===e["bottom-left"],a=e["top-right"]===e["bottom-right"];if(e["top-left"]===e["top-right"]&&e["top-left"]===e["bottom-left"]&&e["top-left"]===e["bottom-right"]){let t=e["top-left"],n=`${t}px`;return[{className:`rounded-[${t}px]`,cssRules:[{property:"border-radius",propertiesExpandedFromShorthand:["border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius"],value:n,computedStylesValue:n}]}]}return t&&n?["top","bottom"].map(t=>{let n=e[`${t}-left`],i=`${n}px`,a=t[0];return{className:`rounded-${a}-[${n}px]`,cssRules:[{property:`border-${t}-left-radius`,propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i},{property:`border-${t}-right-radius`,propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i}]}}):i&&a?["left","right"].map(t=>{let n=e[`top-${t}`],i=`${n}px`,a=t[0];return{className:`rounded-${a}-[${n}px]`,cssRules:[{property:`border-top-${t}-radius`,propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i},{property:`border-bottom-${t}-radius`,propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i}]}}):Object.entries(e).map(([e,t])=>{let n=e.split("-").map(e=>e[0]).join(""),i=`${t}px`;return{className:`rounded-${n}-[${t}px]`,cssRules:[{property:`border-${e}-radius`,propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i}]}})}(e);t.addClassesToInspectedElements(i,n,"border-radius")},[t]),C=a.useCallback((e,t)=>{b({...p,...e},t)},[p,b]),E=e?(0,i.jsx)(x.$n,{variant:"secondary",disabled:!m,onClick:h,children:(0,S.t)("figmake.toolbar.reset")}):null;return(0,i.jsx)(ex,{children:(0,i.jsx)("div",{...{0:{className:"x78zum5 xdt5ytf xc7ga6q xy13l1i x167g77z xafpxmx x9f619"},1:{className:"x78zum5 xdt5ytf xc7ga6q xy13l1i x167g77z x9f619 x1dz1jew"}}[!!e<<0],children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x167g77z",children:_?(0,i.jsxs)("div",{...{0:{className:"xrvj5dj x167g77z x6s0dn4 x619ttb xh8yej3 xbyi07e"},1:{className:"xrvj5dj x167g77z x6s0dn4 x619ttb xh8yej3 xm8sf7i"}}[!!e<<0],children:[(0,i.jsx)(eh.gq,{value:p["top-left"],dispatch:r,onValueChange:(e,t)=>{C({"top-left":e},t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.corner_radius.top_left"),children:(0,i.jsx)(es.a,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:p["top-right"],dispatch:r,onValueChange:(e,t)=>{C({"top-right":e},t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.corner_radius.top_right"),children:(0,i.jsx)(el.$,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),v,E,(0,i.jsx)(eh.gq,{value:p["bottom-left"],dispatch:r,onValueChange:(e,t)=>{C({"bottom-left":e},t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.corner_radius.bottom_left"),children:(0,i.jsx)(ed.w,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:p["bottom-right"],dispatch:r,onValueChange:(e,t)=>{C({"bottom-right":e},t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.corner_radius.bottom_right"),children:(0,i.jsx)(ec.t,{...o.Ay.props(eT.scrubbableInputIconWrapper)})})]}):(0,i.jsxs)("div",{...{0:{className:"xrvj5dj x167g77z x6s0dn4 x619ttb xh8yej3 x16zb2db"},1:{className:"xrvj5dj x167g77z x6s0dn4 x619ttb xh8yej3 x1yv05lk"}}[!!e<<0],children:[(0,i.jsx)(eh.gq,{bigNudgeAmount:10,"data-tooltip":(0,S.t)("figmake.toolbar.corner_radius"),"data-tooltip-type":em.Ib.TEXT,dispatch:r,onValueChange:(e,t)=>{C({"top-left":e,"top-right":e,"bottom-left":e,"bottom-right":e},t)},smallNudgeAmount:1,value:g,children:(0,i.jsx)(eo.Q,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),v,E]})})})})}var eN=n(600032),eA=n(883765),eL=n(437540),eO=n(180989),eR=n(968169),eP=n(176836),eM=n(294570),eD=n(596628),eF=n(639497);function eB(e){let{classNameEditingController:t,directManipulationEditor:n}=ev(),r=(0,I.md)(n.selectedElementComputedStylesWithLocalEdits),[s]=(0,J.XH)(n),o=r[e.property],l=a.useMemo(()=>{let t;if(o&&!t)try{let e=(0,eN.Ay)(o).rgba();t={type:"SOLID",color:{r:e[0]/255,g:e[1]/255,b:e[2]/255,a:e[3]},opacity:e[3]}}catch(t){eA.az.trackDefinedEvent("figmake.color_control_parse_error",{color:o,property:e.property,error:t instanceof Error?t.message:String(t)})}return t},[e.property,o]),d=a.useCallback((n,i=eM.zk.YES)=>{let a="bg-";"color"===e.property?a="text-":"border-color"===e.property&&(a="border-");let r=Math.round(255*n.r),s=Math.round(255*n.g),o=Math.round(255*n.b),l=`rgba(${r},${s},${o},${n.a})`,d=`${a}[${l}]`;t.addClassesToInspectedElements([{className:d,cssRules:[{property:e.property,propertiesExpandedFromShorthand:[],value:l,computedStylesValue:l}]}],i,e.property)},[t,e.property]),c=function(e){switch(e){case"color":return(0,S.t)("figmake.toolbar.font_color");case"background-color":return(0,S.t)("figmake.toolbar.background_color");case"border-color":return(0,S.t)("figmake.toolbar.border_color");default:(0,h.xb)(e)}}(e.property);return(0,i.jsx)(ew,{target:(0,i.jsx)(eu.ar,{"aria-label":c,tooltip:c,tooltipType:em.Ib.TEXT,showCaret:!0,isActive:s,children:(0,i.jsx)(eO.A,{paint:l})}),children:(0,i.jsx)(eU,{onColorChange:d,paint:l})})}function eU({paint:e,onColorChange:t}){return(0,i.jsx)(ex,{children:(0,i.jsx)(eV,{paint:e,onChange:t})})}let eH={type:"SOLID",color:{r:0,g:0,b:0,a:1},opacity:1,blendMode:"NORMAL"};function eV({paint:e,onChange:t}){let n=e?(0,ep.gl)(e)?eH:e:eH,r=(0,eP.Ou)(n),s=(0,eR.Ku)(),{currentTool:o,dropdownShown:l}=(0,eL.R)(e=>({currentTool:e.mirror.appModel.currentTool,dropdownShown:e.dropdownShown})),d=(0,Q.wA)(),c=a.useRef(null);return r?(0,i.jsx)("div",{className:eF.n1,ref:c,children:(0,i.jsx)(eD.S7,{canAcceptStyles:!1,canAcceptVariables:!1,color:r.color,colorFormat:s,containerRef:c,currentTool:o,dispatch:d,dropdownShown:l,dropperDisabled:!0,onColorChange:t,theme:"dark"})}):null}var eG=n(254786),ez=n(800403),eK=n(602755),eW=n(170627),eZ=n(653899),eq=n(850701),eX=n(477833),eY=n(746005),eJ=n(55416),eQ=n(386958),e$=n(648520),e0=n(478125),e1=n(96554),e2=n(684742);let e3=a.forwardRef(function({children:e,iconSuffix:t,...n},a){return(0,i.jsx)(e2.E,{ref:a,...n,...{0:{className:"xxk0z11 x19y5rnk x16qho6y xv2f06h xfn42iu xng3xce x1r7ld26 x8rdmch xctkrei"},2:{className:"xxk0z11 x19y5rnk xu5wzci xfn42iu xng3xce x1r7ld26 x8rdmch xctkrei"},1:{className:"xxk0z11 x19y5rnk x16qho6y xv2f06h xfn42iu xng3xce x1r7ld26 x8rdmch"},3:{className:"xxk0z11 x19y5rnk xu5wzci xfn42iu xng3xce x1r7ld26 x8rdmch"}}[!!n["aria-expanded"]<<1|!!t<<0],children:(0,i.jsxs)("div",{className:"xz16r55 x78zum5 x6s0dn4",children:[e,t]})})});var e5=n(466465),e4=n(773494);let e6="rev-font-family-picker";function e7(){let{container:e,classNameEditingController:t,directManipulationEditor:n,componentPreview:r}=ev(),s=(0,I.md)(n.selectedElementComputedStylesWithLocalEdits),[o,l]=(0,J.XH)(n),d=a.createRef(),c=(0,Q.d4)(e=>e.fonts),u=a.useMemo(()=>(0,eJ.pn)(c),[c]),p=(0,Q.wA)(),m=(0,eY.Xo)(),h="sans-serif",f=s["font-family"],g=f?(0,e5.m$)(f,h):h,_=Object.keys(c).some(e=>e.toLocaleLowerCase()===g?.toLocaleLowerCase())?g:"sans-serif",x=a.useCallback((t,n)=>{if(d.current){let{x:i,y:a}=(0,eQ.VZ)(d.current,n),r=e.getBoundingClientRect();i<r.left?i=r.left:i+n>r.left+e.clientWidth&&(i=r.left+e.clientWidth-n),p(eq.u1({id:t,initialX:i,initialY:a+16}))}},[e,p,d]),y=a.useCallback(()=>{p(eq.XE())},[p]),v=a.useCallback(()=>{l(!o),o?y():x(e6,300)},[y,o,x,l]);(0,eZ.h)(()=>{m&&m.id===e6&&y()}),(0,a.useEffect)(()=>{(!m||m.id!==e6)&&o&&l(!1)},[o,m,l]);let b=a.useRef(null);(0,e4.Y)(y,{closeOnEsc:!0,ignore:e=>!!(b.current&&b.current.contains(e))});let C=a.useRef(null),E=a.useCallback((e,n,i=eM.zk.YES)=>{let a=(0,e5.DY)(e,c);if(a){let n=`${e1.FF}/${a.fontId}`,s=(0,ez.tb)({family:a.fontFamily,style:a.styleName,url:n});r.sendMessage("injectFontLoadingCSS",{fontDeduplicationKey:`${a.fontFamily}:${a.styleName}`,cssToInject:s}),t.addClassesToInspectedElements([{className:`font-[${e.replace(/ /g,"_")}]`,cssRules:[{property:"font-family",propertiesExpandedFromShorthand:[],value:e,computedStylesValue:e}]}],i,"font-family"),(0,N.dZ)(i)&&eW.l7.user("direct-manipulation",()=>{(0,e5.HL)(a,C)})}},[t,r,c]),j=(0,e0.UG)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ej.R,{children:(0,i.jsx)(e3,{"aria-label":(0,S.t)("figmake.toolbar.font_family"),iconSuffix:(0,i.jsx)(eK.O,{}),onClick:v,ref:d,children:(0,i.jsx)("div",{className:"x1f4nttd xuxw1ft xb3r6kr xlyipyv x1dmp6jm",children:_})})}),(0,i.jsx)("div",{ref:b,className:"x1f4nttd x11yfylt",children:(0,i.jsx)(e$.Cn,{currentFont:_,dispatch:p,dropdown:null,fonts:c,googleFontPreviews:j,onFontChange:E,pickerId:e6,pickerShown:m,recordingKey:e6,restrictedFontSet:eX.Qr.GOOGLE_FONTS,selectedNodeIds:[],versionsForStyles:u})})]})}var e9=n(870611),e8=n(816565),te=n(52532),tt=n(298056),tn=n(915242);function ti(){let{imageSwapEnabled:e,directManipulationEditor:t}=ev(),n=(0,I.md)(t.selectedElementInfoAtom),[r]=(0,J.XH)(t),[s,o]=a.useState(),l=s??n?.thumbnailSrc??n?.imgSrc,d=e?{}:{"--color-icon":w.Tj.iconDisabled};return(0,i.jsx)(ew,{target:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.image"),tooltip:(0,S.t)("figmake.toolbar.image"),tooltipType:em.Ib.TEXT,showCaret:!0,caretStyle:d,isActive:r,disabled:!e,children:(0,i.jsx)("div",{className:"xvy4d1p x78zum5 xl56j7k x6s0dn4 xy3p2pi x9f619 xb3r6kr x18xcxx1 xmkeg23 x1y0btm7 x1co876m",children:l?(0,i.jsx)(e8.oW,{src:l,alt:(0,S.t)("figmake.toolbar.image"),...{0:{className:"xh8yej3 xl1xv1r x1y5e3q9"},1:{className:"xh8yej3 xl1xv1r x1y5e3q9 xifi7vn x1ks1olk"}}[!e<<0]}):(0,i.jsx)(e9.s,{style:void 0})})}),children:(0,i.jsx)(ta,{currentImage:l,setCurrentImage:o})})}function ta({currentImage:e,setCurrentImage:t}){let{imageEditingController:n,directManipulationEditor:r}=ev(),s=a.useRef(null),o=(0,a.useCallback)(async e=>{if(e.image){let i=await n.updateImage(e,r.bundledSourceCode,r.codeFileNodeIdsWithRecentlyAddedImageAssetImports,"upload");if(i.success)for(let n of(t(e.image),i.modifiedCodeFileNodeIds))r.codeFileNodeIdsWithRecentlyAddedImageAssetImports.add(n)}},[n,t,r]),l=a.useCallback(async e=>{let t=e.target.files?.[0];t&&(await (0,tn.z)(t,o),s.current&&(s.current.value=""))},[o]);return(0,i.jsxs)(ex,{children:[(0,i.jsxs)("div",{style:{backgroundImage:`url('${(0,te.A)()}')`},className:"x1n2onr6 x1oysuqx xhjk10j x78zum5 x1sxf85j xmkeg23 x1y0btm7 x7z60cl xl56j7k x6s0dn4 x1hlb6i2 x197sbye",children:[(0,i.jsx)("input",{type:"file",ref:s,accept:tt.xp.join(","),onChange:l,className:"x1s85apg"}),(0,i.jsx)(e8.oW,{src:e,alt:(0,S.t)("figmake.toolbar.upload_alt"),className:"x193iq5w xmz0i5r x19kjcj4 x1tbiz1a x1xsqp64 xiy17q3"})]}),(0,i.jsx)("div",{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c xur7f20 x1hc1fzr x78zum5 xl56j7k x1o2pa38 x6s0dn4",children:(0,i.jsx)(x.$n,{variant:"primary",onClick:()=>{s.current?.click()},type:"submit",children:(0,S.t)("figmake.toolbar.upload")})})]})}var tr=n(276800),ts=n(224781),to=n(902892),tl=n(788110),td=n(291566);let tc={disabledIcon:{"--color-icon":"xz8z4lq",$$css:!0},selectedIcon:{"--color-icon":"x1aue78i",kWkggS:"xcr9a89",kaIpWk:"x4pvk5x",kGVxlE:"xx9uh04",$$css:!0}};function tu({value:e,setValue:t,disabled:n}){let a=(0,i.jsx)("div",{...o.Ay.props(n?tc.disabledIcon:"style"===e?tc.selectedIcon:tc.disabledIcon),children:(0,i.jsx)(tl.G,{})}),r=(0,i.jsx)("div",{...o.Ay.props(n?tc.disabledIcon:"prompt"===e?tc.selectedIcon:tc.disabledIcon),children:(0,i.jsx)(td.T,{})});return(0,i.jsx)(ej.R,{children:(0,i.jsxs)(ts.bL,{value:e,onChange:n?tr.lQ:t,legend:(0,i.jsx)(to.q,{children:(0,S.t)("figmake.toolbar.toggle_style")}),children:[(0,i.jsx)(ts.c$,{value:"style",icon:a,"aria-label":n?(0,S.t)("figmake.toolbar.classnameEditingDisabled"):(0,S.t)("figmake.toolbar.toggle_style")}),(0,i.jsx)(ts.c$,{value:"prompt",icon:r,"aria-label":n?(0,S.t)("figmake.toolbar.classnameEditingDisabled"):(0,S.t)("figmake.toolbar.toggle_prompt")})]})})}var tp=n(652877);function tm(){let{directManipulationEditor:e}=ev(),t=(0,I.md)(e.editingSnippetAtom,{deferToFrame:!0}).snippet,n=(0,a.useCallback)(()=>{e.goToSource()},[e]);return(0,i.jsx)(ej.R,{children:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.goToSource"),tooltip:(0,S.t)("figmake.toolbar.goToSource"),tooltipType:em.Ib.TEXT,onClick:n,disabled:!t,children:(0,i.jsx)(tp.V,{})})})}var th=n(239045),tf=n(892554),tg=n(186563),t_=n(781806),tx=n(734757),ty=n(700509),tv=n(424388),tb=n(928915);function tC(){let{directManipulationEditor:e}=ev(),[t]=(0,J.XH)(e);return(0,i.jsx)(ew,{target:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.spacing"),tooltip:(0,S.t)("figmake.toolbar.spacing"),tooltipType:em.Ib.TEXT,showCaret:!0,isActive:t,children:(0,i.jsx)(th.R,{})}),children:(0,i.jsx)(tw,{})})}let tE=["padding-top","padding-right","padding-bottom","padding-left","padding-inline-start","padding-inline-end","padding-block-start","padding-block-end"],tj=["margin-top","margin-right","margin-bottom","margin-left","margin-inline-start","margin-inline-end","margin-block-start","margin-block-end"];function tw(){let e={className:"xrvj5dj xbyi07e x167g77z x6s0dn4 x619ttb xh8yej3"},t={className:"x1l7klhg xh8yej3 x1f4nttd x78zum5 x1qughib x6s0dn4"},n={className:"x78zum5 xdt5ytf x167g77z"},{classNameEditingController:r,directManipulationEditor:s}=ev(),l=(0,I.md)(s.selectedElementComputedStylesWithLocalEdits),d=parseInt(l["padding-left"]??"0",10),c=parseInt(l["padding-right"]??"0",10),u=parseInt(l["padding-top"]??"0",10),p=parseInt(l["padding-bottom"]??"0",10),m=parseInt(l["margin-left"]??"0",10),h=parseInt(l["margin-right"]??"0",10),f=parseInt(l["margin-top"]??"0",10),g=parseInt(l["margin-bottom"]??"0",10),_={left:d,right:c,top:u,bottom:p},y={left:m,right:h,top:f,bottom:g},v=_.left===_.right,b=_.top===_.bottom,C=v?_.left:ep.oV,E=b?_.top:ep.oV,j=y.left===y.right,w=y.top===y.bottom,T=j?y.left:ep.oV,N=w?y.top:ep.oV,[A,L]=a.useState(!v||!b),[O,R]=a.useState(!j||!w),P=(0,J.zV)(s,tE),M=a.useCallback(()=>{r.resetClassNamesForPropertiesAndCommitToCode(tE)},[r]),D=(0,J.zV)(s,tj),F=a.useCallback(()=>{r.resetClassNamesForPropertiesAndCommitToCode(tj)},[r]),B=a.useMemo(()=>(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.padding.individual_paddings"),tooltip:(0,S.t)("figmake.toolbar.padding.individual_paddings"),tooltipType:em.Ib.TEXT,isActive:A,onClick:()=>L(e=>!e),children:(0,i.jsx)(tf.s,{})}),[A]),U=a.useMemo(()=>(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("figmake.toolbar.margin.individual_margins"),tooltip:(0,S.t)("figmake.toolbar.margin.individual_margins"),tooltipType:em.Ib.TEXT,isActive:O,onClick:()=>R(e=>!e),children:(0,i.jsx)(tf.s,{})}),[O]),H=a.useCallback((e,t,n)=>{let i=function(e,t){let n=t.left===t.right,i=t.top===t.bottom,a=n&&i&&t.left===t.top,r="padding"===e?"p":"m";if(a){let n=t.left,i=`${n}px`;return[{className:`${r}-[${n}px]`,cssRules:[{property:e,propertiesExpandedFromShorthand:[`${e}-top`,`${e}-right`,`${e}-bottom`,`${e}-left`],value:i,computedStylesValue:i}]}]}return n&&i?["x","y"].map(n=>{let i="x"===n,a=i?t.left:t.top,s=`${a}px`;return{className:`${r}${n}-[${a}px]`,cssRules:[{property:i?`${e}-left`:`${e}-top`,propertiesExpandedFromShorthand:[],value:s,computedStylesValue:s},{property:i?`${e}-right`:`${e}-bottom`,propertiesExpandedFromShorthand:[],value:s,computedStylesValue:s}]}}):["top","right","bottom","left"].map(n=>{let i=t[n],a=`${i}px`,s=n[0];return{className:`${r}${s}-[${i}px]`,cssRules:[{property:`${e}-${n}`,propertiesExpandedFromShorthand:[],value:a,computedStylesValue:a}]}})}(e,t);r.addClassesToInspectedElements(i,n,e)},[r]),V=a.useCallback((e,t,n,i)=>{H(n,{...e,...t},i)},[H]),G=(0,Q.wA)();return(0,i.jsx)(ex,{children:(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xc7ga6q xy13l1i x167g77z xafpxmx x9f619",children:[(0,i.jsxs)("div",{...n,children:[(0,i.jsxs)("div",{...t,children:[(0,S.t)("figmake.toolbar.padding"),(0,k.kc)().click_to_inspect_reset_styles&&(0,i.jsx)(x.$n,{variant:"secondary",disabled:!P,onClick:M,children:(0,S.t)("figmake.toolbar.reset")})]}),A?(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(eh.gq,{value:_.left,dispatch:G,onValueChange:(e,t)=>{V(_,{left:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.left"),children:(0,i.jsx)(tx.R,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:_.top,dispatch:G,onValueChange:(e,t)=>{V(_,{top:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.top"),children:(0,i.jsx)(ty.z,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),B,(0,i.jsx)(eh.gq,{value:_.right,dispatch:G,onValueChange:(e,t)=>{V(_,{right:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.right"),children:(0,i.jsx)(tv.M,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:_.bottom,dispatch:G,onValueChange:(e,t)=>{V(_,{bottom:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.bottom"),children:(0,i.jsx)(tb.v,{...o.Ay.props(eT.scrubbableInputIconWrapper)})})]}):(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(eh.gq,{value:C,dispatch:G,onValueChange:(e,t)=>{V(_,{left:e,right:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.horizontal"),children:(0,i.jsx)(tg.y,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:E,dispatch:G,onValueChange:(e,t)=>{V(_,{top:e,bottom:e},"padding",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.padding.vertical"),children:(0,i.jsx)(t_.K,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),B]})]}),(0,i.jsxs)("div",{...n,children:[(0,i.jsxs)("div",{...t,children:[(0,S.t)("figmake.toolbar.margin"),(0,k.kc)().click_to_inspect_reset_styles&&(0,i.jsx)(x.$n,{variant:"secondary",disabled:!D,onClick:F,children:(0,S.t)("figmake.toolbar.reset")})]}),O?(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(eh.gq,{value:y.left,dispatch:G,onValueChange:(e,t)=>{V(y,{left:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.left"),children:(0,i.jsx)(tx.R,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:y.top,dispatch:G,onValueChange:(e,t)=>{V(y,{top:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.top"),children:(0,i.jsx)(ty.z,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),U,(0,i.jsx)(eh.gq,{value:y.right,dispatch:G,onValueChange:(e,t)=>{V(y,{right:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.right"),children:(0,i.jsx)(tv.M,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:y.bottom,dispatch:G,onValueChange:(e,t)=>{V(y,{bottom:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.bottom"),children:(0,i.jsx)(tb.v,{...o.Ay.props(eT.scrubbableInputIconWrapper)})})]}):(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(eh.gq,{value:T,dispatch:G,onValueChange:(e,t)=>{V(y,{left:e,right:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.horizontal"),children:(0,i.jsx)(tg.y,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),(0,i.jsx)(eh.gq,{value:N,dispatch:G,onValueChange:(e,t)=>{V(y,{top:e,bottom:e},"margin",t)},smallNudgeAmount:1,bigNudgeAmount:10,"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,S.t)("figmake.toolbar.margin.vertical"),children:(0,i.jsx)(t_.K,{...o.Ay.props(eT.scrubbableInputIconWrapper)})}),U]})]})]})})}var tT=n(486831),tk=n(751867),tI=n(31406),tS=n(889958),tN=n(255140);function tA(){let{classNameEditingController:e,directManipulationEditor:t}=ev(),n=(0,I.md)(t.selectedElementComputedStylesWithLocalEdits),[r]=(0,J.XH)(t),s=a.useMemo(()=>({LEFT:{label:(0,S.t)("fullscreen.type_panel.align_left"),icon:()=>(0,i.jsx)(tT.h,{})},CENTER:{label:(0,S.t)("fullscreen.type_panel.align_center"),icon:()=>(0,i.jsx)(tk.N,{})},RIGHT:{label:(0,S.t)("fullscreen.type_panel.align_right"),icon:()=>(0,i.jsx)(tI.K,{})},JUSTIFIED:{label:(0,S.t)("inspect_panel.properties.justify"),icon:()=>(0,i.jsx)(tS.h,{})}}),[]),o=n["text-align"],l="LEFT";switch(o){case"left":default:l="LEFT";break;case"center":l="CENTER";break;case"right":l="RIGHT";break;case"justified":l="JUSTIFIED"}let d=a.useCallback(t=>{let n=t.toLowerCase();e.addClassesToInspectedElements([{className:function(){switch(t){case"LEFT":return"text-left";case"CENTER":return"text-center";case"RIGHT":return"text-right";case"JUSTIFIED":return"text-justify"}}(),cssRules:[{property:"text-align",propertiesExpandedFromShorthand:[],value:n,computedStylesValue:n}]}],eM.zk.YES,"text-align")},[e]);return(0,i.jsx)(ew,{target:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("whiteboard.inline_menu.text_alignment"),tooltip:(0,S.t)("whiteboard.inline_menu.text_alignment"),tooltipType:em.Ib.TEXT,showCaret:!0,isActive:r,children:l?(0,ep.gl)(l)?(0,i.jsx)(tT.h,{}):s[l].icon():(0,i.jsx)(tT.h,{})}),children:(0,i.jsx)(tL,{horizontalAlignment:l,horizontalAlignmentOptions:s,updateHorizontalAlignment:d})})}function tL({horizontalAlignment:e,horizontalAlignmentOptions:t,updateHorizontalAlignment:n}){return(0,i.jsx)(ex,{children:(0,i.jsx)(tN.W,{maxColumns:4,children:(0,i.jsx)(tO,{alignment:e,alignmentOptions:t,onAlignmentChanged:e=>n(e,eM.zk.YES)})})})}function tO({alignment:e,alignmentOptions:t,onAlignmentChanged:n}){let r=a.useMemo(()=>Object.entries(t),[t]);return(0,i.jsx)(i.Fragment,{children:r.map(([t,{label:a,icon:r}])=>(0,i.jsx)(eu.ar,{"aria-label":a,isActive:(0,ep.hS)(e)&&e===t,onClick:()=>n(t),children:r()},t))})}var tR=n(272473),tP=n(659998),tM=n(210204);function tD(){let{classNameEditingController:e,directManipulationEditor:t}=ev(),n=(0,I.md)(t.selectedElementComputedStylesWithLocalEdits)["font-weight"],r=!!(n&&("bold"===n||parseInt(n,10)>600)),s=a.useCallback(()=>{let t=!r,n=t?"bold":"normal";e.addClassesToInspectedElements([{className:t?"font-bold":"font-normal",cssRules:[{property:"font-weight",propertiesExpandedFromShorthand:[],value:n,computedStylesValue:n}]}],eM.zk.YES,"font-weight")},[e,r]);return(0,i.jsx)(ej.R,{children:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("cooper.inline_menu.bold"),tooltip:"toggle-bold",tooltipType:em.Ib.LOOKUP,isActive:r,onClick:s,children:(0,i.jsx)(tR.j,{})})})}function tF(){let{classNameEditingController:e,directManipulationEditor:t}=ev(),n="italic"===(0,I.md)(t.selectedElementComputedStylesWithLocalEdits)["font-style"],r=a.useCallback(()=>{let t=!n,i=t?"italic":"normal";e.addClassesToInspectedElements([{className:t?"italic":"not-italic",cssRules:[{property:"font-style",propertiesExpandedFromShorthand:[],value:i,computedStylesValue:i}]}],eM.zk.YES,"font-style")},[e,n]);return(0,i.jsx)(ej.R,{children:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("cooper.inline_menu.italic"),tooltip:"text-toggle-italic",tooltipType:em.Ib.LOOKUP,isActive:n,onClick:r,children:(0,i.jsx)(tP.s,{})})})}function tB(){let{classNameEditingController:e,directManipulationEditor:t}=ev(),n=(0,I.md)(t.selectedElementComputedStylesWithLocalEdits)["text-decoration"],r=n?.indexOf("underline")!==-1,s=a.useCallback(()=>{let t=!r,n=t?"underline":"none";e.addClassesToInspectedElements([{className:t?"underline":"no-underline",cssRules:[{property:"text-decoration-line",propertiesExpandedFromShorthand:[],value:n,computedStylesValue:n}]}],eM.zk.YES,"text-decoration")},[e,r]);return(0,i.jsx)(ej.R,{children:(0,i.jsx)(eu.ar,{"aria-label":(0,S.t)("type_settings.decoration.underline"),tooltip:"text-toggle-underline",tooltipType:em.Ib.LOOKUP,isActive:r,onClick:s,children:(0,i.jsx)(tM.W,{})})})}var tU=n(649238),tH=n(516604),tV=n(697157);function tG({size:e,onSizeChanged:t}){let n=a.useRef((0,ep.gl)(e)?null:new tq(e));a.useEffect(()=>{(0,ep.gl)(e)?n.current=null:(n.current||(n.current=new tq(e)),n.current.onCurrentValueUpdated(e))},[e,n]);let r=a.useCallback(()=>{n.current&&t(n.current.prevValue())},[t,n]),s=a.useCallback(()=>{n.current&&t(n.current.nextValue())},[t,n]),o="cooperInlineMenuFontSize";return(0,i.jsxs)("div",{className:"text_size_nudge_input--nudgeInputContainer--KyT8p","data-testid":"cooper-inline-text-size-control",children:[(0,i.jsx)(e2.E,{className:"text_size_nudge_input--decrementButton--vmC4E text_size_nudge_input--nudgeButtonBase--ctjk3",onClick:r,disabled:(0,ep.gl)(e)||e<=tZ,"aria-label":(0,S.t)("cooper.inline_menu.decrease_input"),recordingKey:`${o}.decrease`,children:(0,i.jsx)(tU.f,{width:16,height:16})}),(0,i.jsx)("div",{className:"text_size_nudge_input--valueDisplayContainer--10GGe",children:(0,i.jsx)(tz,{size:e,onSizeChanged:t,recordingKey:o})}),(0,i.jsx)(e2.E,{className:"text_size_nudge_input--incrementButton--f85OX text_size_nudge_input--nudgeButtonBase--ctjk3",onClick:s,disabled:(0,ep.gl)(e),"aria-label":(0,S.t)("cooper.inline_menu.increase_input"),recordingKey:`${o}.increase`,children:(0,i.jsx)(tH.x,{width:16,height:16})})]})}function tz({size:e,onSizeChanged:t,recordingKey:n}){let r=a.createRef(),[s,o]=a.useState(tK(e));return a.useEffect(()=>{o(tK(e))},[e]),(0,i.jsx)(tV.L,{ref:r,className:"text_size_nudge_input--textSizeInput--pGLXJ",type:"text",value:s,recordingKey:n,onFocus:()=>{r.current?.select()},onChange:e=>{o(e.target.value)},onBlur:()=>{let n=parseFloat(s);if(isNaN(n)||n<tZ){o(tK(e));return}t(parseFloat(n.toFixed(2)))},onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()}})}function tK(e){return(0,ep.gl)(e)?(0,S.t)("common.mixed"):String(Math.round(e))}let tW=[7,8,9,10,11,12,13,14,15,16,20,24,32,36,40,48,64,96,128],tZ=1;class tq{constructor(e){this.currentValue=0,this.prevValueIndex=void 0,this.nextValueIndex=void 0,this.currentValue=e,this.textSizePresetsLookup={},tW.forEach((e,t)=>{this.textSizePresetsLookup[e]=t})}onCurrentValueUpdated(e){if(e<1)throw Error(`Text size cannot be less than 1, got ${e}`);this.currentValue=e;let t=this.textSizePresetsLookup[this.currentValue];if(void 0!==t){let e=t-1;this.prevValueIndex=e<0?void 0:e;let n=t+1;this.nextValueIndex=n>=tW.length?void 0:n}else{let[e,t]=this.findClosestIndices(tW,this.currentValue);this.prevValueIndex=e,this.nextValueIndex=t}}nextValue(){if(void 0!==this.prevValueIndex&&void 0!==this.nextValueIndex)return tW[this.nextValueIndex];if(void 0!==this.prevValueIndex&&void 0===this.nextValueIndex)return this.currentValue+32;if(void 0===this.prevValueIndex&&void 0!==this.nextValueIndex){let e=tW[0];if(this.currentValue===e)return tW[this.nextValueIndex];let t=this.currentValue+1;return t>=e?e:t}throw Error("Both next and prev value indices are undefined. Check that you have called onCurrentValueUpdated at least once")}prevValue(){if(void 0!==this.prevValueIndex&&void 0!==this.nextValueIndex)return tW[this.prevValueIndex];if(void 0!==this.prevValueIndex&&void 0===this.nextValueIndex){let e=tW[tW.length-1];if(this.currentValue===e)return tW[this.prevValueIndex];let t=this.currentValue-32;return t<=e?e:Math.max(t,tZ)}if(void 0===this.prevValueIndex&&void 0!==this.nextValueIndex)return Math.max(this.currentValue-1,tZ);throw Error("Both next and prev value indices are undefined. Check that you have called onCurrentValueUpdated at least once")}findClosestIndices(e,t){let n=0,i=e.length-1;if(t<e[n])return[void 0,0];if(t>e[i])return[i,void 0];for(;n<=i;){let a=Math.floor((n+i)/2);if(e[a]===t)return[a,a];e[a]<t?n=a+1:i=a-1}return[i,n]}}function tX(){let{directManipulationEditor:e,classNameEditingController:t}=ev(),n=(0,I.md)(e.selectedElementComputedStylesWithLocalEdits)["font-size"],r=n?parseInt(n,10):16,s=a.useCallback(e=>{t.addClassesToInspectedElements([{className:`text-[${e}px]`,cssRules:[{property:"font-size",propertiesExpandedFromShorthand:[],value:`${e}px`,computedStylesValue:`${e}px`}]}],eM.zk.YES,"font-size")},[t]);return(0,i.jsx)(ej.R,{children:(0,i.jsx)(tG,{size:r,onSizeChanged:s})})}var tY=n(651234),tJ=n(542653),tQ=n(211764),t$=n(457996),t0=n(390036),t1=n(211862),t2=n(915013),t3=n(592726),t5=n(580276),t4=n(107799),t6=n(51656),t7=n(743558),t9=n(121363),t8=n(316339),ne=n(191182),nt=n(723339),nn=n(351394),ni=n(574433);function na({disabled:e,codeNodeId:t}){let[n,r]=a.useState(""),{selectedElement:o,selectedElementCodeSnippet:l}=(0,J.fl)(),[d,u]=(0,ni.jT)(),{setChatError:p,clearChatError:m}=(0,t6.tk)(t),h=(0,t3.iZ)(),f=(0,t1.tS)(),g=(0,t5.Xu)(),_=a.useMemo(()=>(0,s.UN)().get(t),[t]),x=(0,c.Oc)(),y=x?tY.lV.FIGMAKE:tY.lV.CODE_IN_SITES,{changedFiles:b}=(0,t7.E)(_,y,{shouldIncludeFile:x?tJ.ru:void 0}),C=(0,t9.P)(),E=(e,t)=>{let i=e.plainText;i||(i=e.hidden?"":n);let a={...e,plainText:i};return r(""),(0,ne.O)({featureType:y,userMessageContent:a,user:h,chatMessagesNode:_,rawUserChatDetails:t,setInput:r,fileKey:f,canUseSupabase:g,changedFiles:b,model:C,autoFixingUserMessageId:null})},j=async({message:e,errors:t,hidden:n})=>{if(!w&&(e||n))try{m();let i=o&&l?(0,nn.F)(o,l):void 0,a=(0,t8.u)(e||"",[],o?.elementAndParentSources);await E({plainText:e,inspectedElement:i,errors:t,hidden:n},a),t&&u([])}catch(e){p(e instanceof Error?{error:e}:{error:Error("Unknown error")})}},w=(0,nt.ry)(),T=(0,I.md)(B.f3),k=(0,t2.KP)(),{exchange:N,user:A}=(0,t4.$W)(t),L=void 0!==N&&N.messages.length>0,O=A?.sessionID===k,R=a.useRef(null),P=!(0,t0.jN)(n)&&!L,M=(0,I.md)((0,t4.Z3)(t)),D=a.useCallback(()=>{if(R&&"current"in R&&R.current){let e=R.current;e.style.height="auto";let t=Math.min(e.scrollHeight,32);e.style.height=`${t}px`,e.style.overflowY=t>=32?"auto":"hidden"}},[]);a.useEffect(()=>{D()},[n,D]);let F=a.useCallback(e=>{let t=e.target;D(),r(t.value)},[r,D]),U=({message:e,errors:t})=>j({message:e??n,errors:t}),H=L?(0,i.jsx)("div",{...{0:{className:"x16rqkct x2lah0s xgbcquw"},1:{className:"x16rqkct x2lah0s xu5wzci"}}[!!P<<0],children:(0,i.jsx)(v.K,{"aria-label":(0,S.t)("living_designs.chat.stop_button.alt_text"),onClick:()=>{M&&M.abort()},disabled:!O,children:(0,i.jsx)(t$.d,{className:"xwa2v1s"})})}):(0,i.jsx)("div",{...{0:{className:"x16rqkct x2lah0s xgbcquw"},1:{className:"x16rqkct x2lah0s xu5wzci"}}[!!P<<0],children:(0,i.jsx)(v.K,{type:"submit","aria-label":(0,S.t)("living_designs.chat.send_button.alt_text"),onClick:()=>{U({}),T?.setDirectManipulationEnabled({enabled:!1})},disabled:!P,children:(0,i.jsx)(tQ.W,{className:"xwa2v1s"})})});return(0,i.jsx)("form",{onSubmit:e=>{e.preventDefault(),P&&j({})},children:(0,i.jsxs)("div",{className:"x1vqgdyp x1n2onr6 xrvj5dj x52fmzj xb3r6kr x6s0dn4",children:[(0,i.jsx)("div",{className:"xrvj5dj x6s0dn4",children:(0,i.jsx)("textarea",{rows:1,ref:R,className:"xtt52l0 x1hshjfz xt970qd xdqyycr xfifm61 x1dz1jew xjbqb8w x1f4nttd",disabled:w||e,maxLength:5e3,onChange:F,onKeyDown:e=>{e.stopPropagation(),"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),P&&(U({}),T?.setDirectManipulationEnabled({enabled:!1})))},placeholder:(0,S.t)("living_designs.chat.placeholder.iterate"),value:n})}),(0,i.jsx)("div",{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 xt970qd xaope02",children:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:(0,i.jsx)("div",{style:{flexShrink:0},children:H})})})]})})}var nr=n(346065),ns=n(500275),no=n(773999),nl=n(246144),nd=n(427515),nc=n(664615);let nu="image_";class np{constructor(e,t,n){this.componentPreview=e,this.displayErrorVisualBell=t,this.forceRefresh=n}async updateImage(e,t,n,i){let a=this.componentPreview.directManipulationEditor,r=I.zl.get(a.selectedElementInfoAtom);if(!r)return(0,nl.x1)("direct_manipulation","No element found to update image"),this.displayErrorVisualBell("on_save"),{success:!1,modifiedCodeFileNodeIds:[]};let o=e.image;if(!o)return(0,nl.x1)("direct_manipulation","No image found to update image"),this.displayErrorVisualBell("on_save"),{success:!1,modifiedCodeFileNodeIds:[]};let l=await a.fetchNewCodeSnippets();if(!l)return(0,nl.x1)("direct_manipulation","Unable to edit the image"),this.displayErrorVisualBell("on_save"),{success:!1,modifiedCodeFileNodeIds:[]};let d=(0,s.UN)(),{folderPath:c,fileName:u}=l,p=(0,ns.$v)(d,c,u),m={success:!1},f={success:!1};if(p){let s=l.editingInfo.srcAttribute,c=r.imgSrc;if(!d.getInternalCanvas())return{success:!1,modifiedCodeFileNodeIds:[]};let u=d.get(e.nodeGuid);if(!u)return{success:!1,modifiedCodeFileNodeIds:[]};let g=u.fills.find(e=>"IMAGE"===e.type)?.image;if(!g||!g.hash||!g.name)return{success:!1,modifiedCodeFileNodeIds:[]};let _=(0,eP.qg)({hash:g.hash}),x={hash:_,name:g.name},y=`${nu}${_}`,v=!1;return((0,nd.a)(()=>{eW.l7.user("direct-manipulation",()=>{let e=!1;switch(s.type){case"static":{let e=s.isWithinInitializerBraces?y:`{${y}}`,t="string"===s.staticValueType&&(0,nc.W)(p,l.collaborativeSourceCodeVersion,s.valueIncludingQuotesStartIndex,s.valueIncludingQuotes,e);m={success:t,codeFileNode:p,message:t?`Replaced image ${s.value} with ${y}`:`Failed to replace image ${s.value} with ${y}`},v=!0;break}case"dynamic-identifier":if(s.isConstFromImport){let t=(0,nc.W)(p,l.collaborativeSourceCodeVersion,s.valueStartIndex,s.value,y);m={success:t,codeFileNode:p,message:t?`Replaced image ${s.value} with ${y}`:`Failed to replace image ${s.value} with ${y}`},e=!1,v=!0;break}e=!0;break;case"dynamic":e=!0;break;case"not-set":case"unknown":m={success:!1,message:`Cannot handle image src type ${s.type}`};break;default:(0,h.xb)(s)}if(e&&c){let e=nm({selectedElementCodeFileNode:p,codeFileNodeIdsWithRecentlyAddedImageAssetImports:n,scenegraph:d,bundledSourceCode:t,previousElementUrl:c});if(null!==e){let{stringLiteralOccurrences:t,collaborativeSourceCodeVersion:n,codeFileNodeGuid:i,previousImage:a}=e,r=d.get(i);if(r){let e;for(let i of(t.reverse(),t)){let{startIndex:t,matchedString:a}=i;if(!(0,nc.W)(r,n,t,a,y)){e=`Failed to replace image ${a} with ${y}`;break}}m=e?{success:!1,message:e}:{success:!0,codeFileNode:r,message:`Replaced image ${a.type} with ${y}`}}}}let i=m.codeFileNode,a=i?.collaborativeSourceCode;if(m.success&&i&&a){let e=(0,tY.r9)({imageHash:_,imageVariableName:y,extension:"png"})+"\n";i.setImageImports([x]);let t=a.createInsertionOp(0,e.length,e,0);f={success:t,addedImportLine:!0,message:t?`Updated import statement to include ${y}`:`Failed to update import statement to include ${y}`}}else f={success:!0,message:`Import statement already includes ${y}`}})}),m.success&&f.success)?(c||v?this.componentPreview.sendMessage("editInspectedElementImage",{hash:_,previousElementUrl:c,dataUrl:o,sourceCodeJSXCallId:v?l.sourceCodeJSXCallId:void 0}):this.forceRefresh(),a.updateAnalyticsRecordImageSwappedFromSource(i),{success:!0,modifiedCodeFileNodeIds:[]}):((0,nl.x1)("direct_manipulation","Failed to update image",{inspectedElementInfo:r,status:m,importStatus:f}),this.displayErrorVisualBell("on_save"),{success:!1,modifiedCodeFileNodeIds:[]})}return{success:!1,modifiedCodeFileNodeIds:[]}}}function nm({selectedElementCodeFileNode:e,codeFileNodeIdsWithRecentlyAddedImageAssetImports:t,scenegraph:n,bundledSourceCode:i,previousElementUrl:a}){let r=function(e){let t=e.match(/#filename=([a-zA-Z0-9]+)(?:\.[^?#]+)?/);if(t?.[1]){let e=t[1];return{type:"asset",assetId:e,assetVariableName:`${nu}${e}`}}return{type:"url",url:e}}(a);function s({previousImage:e,...t}){switch(e.type){case"asset":return function({sourceCode:e,codeFileNodeGuid:t,collaborativeSourceCodeVersion:n,previousImage:i}){let a=(function(e,t){let n=(0,no.eY)(t),i=RegExp(`\\b${n}\\b`,"g"),a=i.exec(e);if(!a)return[];let r=[];do{let e=a.index,n=e+a[0].length;r.push({startIndex:e,endIndex:n,matchedString:t})}while(a=i.exec(e))return r})(e,i.assetVariableName).filter(t=>!function(e,t){let n=t;for(;n>0&&10!==e.charCodeAt(n-1);)n--;return/^\s*import\b/.test(e.slice(n))}(e,t.startIndex));return a.length>0?{stringLiteralOccurrences:a,codeFileNodeGuid:t,collaborativeSourceCodeVersion:n,previousImage:i}:null}({previousImage:e,...t});case"url":return function({sourceCode:e,codeFileNodeGuid:t,collaborativeSourceCodeVersion:n,previousImage:i}){let a=[nh(e,`"${i.url}"`),nh(e,`'${i.url}'`)].flatMap(e=>e);return a.length>0?{stringLiteralOccurrences:a,codeFileNodeGuid:t,collaborativeSourceCodeVersion:n,previousImage:i}:null}({previousImage:e,...t});default:(0,h.xb)(e)}}let o=e.collaborativeSourceCode;if(o){let t=s({sourceCode:o.computeCurrentText(),codeFileNodeGuid:e.guid,collaborativeSourceCodeVersion:o.getCurrentVersionAsString(),previousImage:r});if(t)return t}if("asset"===r.type)for(let i of t){if(i===e.guid)continue;let t=n.get(i),a=t?.collaborativeSourceCode;if(!t||!a)continue;let o=s({sourceCode:a.computeCurrentText(),codeFileNodeGuid:t.guid,collaborativeSourceCodeVersion:a.getCurrentVersionAsString(),previousImage:r});if(o)return o}if(i)for(let e of new nr.M(i).listFiles()){if(!e.metadata?.guid||!e.metadata?.version)continue;let t=s({sourceCode:e.contents.toString(),codeFileNodeGuid:e.metadata.guid,collaborativeSourceCodeVersion:e.metadata.version,previousImage:r});if(t)return t}return null}function nh(e,t){let n;let i=[],a=0;for(;-1!==(n=e.indexOf(t,a));){let e=n,r=e+t.length;i.push({startIndex:e,endIndex:r,matchedString:t}),a=n+1}return i}let nf={kMwMTN:"x1uw1ob",kGuDYH:"x17akokd",k63SB2:"xopfts3",kZKoxP:"xg7h5cd",kLqNvP:"",kt4wiu:"",kLWn49:"xno9bf3",kmVPX3:"x1mh6rdz",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",kfzvcC:"x67bb7w",kVAEAm:"xixxii4",kzqmXN:"xeq5yr9",kY2c9j:"x4smtjo",$$css:!0},ng={container:e=>[nf,{kbCHJM:null!=e.left?"xgq9j65":e.left,k87sOh:null!=e.top?"xjbys53":e.top,$$css:!0},{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e.left),"--x-top":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e.top)}]};function n_(e,t,n){let i=n.getBoundingClientRect(),a=i.width/n.offsetWidth,r=t.current?.getBoundingClientRect(),s=r?.width||0,o=r?.height||0,l=e.top-o,d=i.x+e.left+e.width/2-s/2;return(l=i.y+e.top+e.height+12)+o>i.height+i.y&&(l=i.y+i.height-o-36),l<i.y&&(l=i.y+12),d<i.x&&(d=i.x),d+s>i.width+i.x&&(d=i.x+i.width-s),d*=a,{top:l*=a,left:d}}function nx({elementBoundingBox:e,container:t,elementInfo:n,chatNodeId:r,codeInstanceNodeId:s,preview:l,refreshPreview:d}){let c=a.useRef(null),u=a.useRef(null),p=a.useRef(null),m=a.useRef(null),h=a.useRef(null),f=a.useRef(null),[g,_]=a.useState("style"),x=n.tagName.toLowerCase(),y=a.useMemo(()=>(function(e,t){let n=(0,eG.S)(e,t),a=function(e){let t=[];e.forEach(e=>{switch(e){case eG.m.Text:t.push(ny);break;case eG.m.Image:t.push(nE);break;case eG.m.Border:t.push(nb);break;case eG.m.Spacing:t.push(nC);break;case eG.m.Container:t.push(nv);case eG.m.Shadow:}});let n=[];for(let[e,a]of t.entries())0!==e&&n.push((0,i.jsx)(et.c,{},e)),n.push((0,i.jsx)(a,{},a.name));return n}(n);return{controlTypes:n,components:a}})(x,n.isTextContainer),[x,n.isTextContainer]),v=function(e,t){let n=(0,I.md)(e.directManipulationEnabledAtom),i=(0,I.md)(e.editingSnippetAtom,{deferToFrame:!0});return n?i.snippet?(0,ei.$5)(i.snippet)&&t.length>0?er.D.Enabled:er.D.Disabled:i.isLoading?er.D.Loading:er.D.Disabled:er.D.Disabled}(l.directManipulationEditor,y.components),b=(0,I.md)(l.directManipulationEditor.editingSnippetAtom,{deferToFrame:!0}).snippet,C=a.useRef(!1),E=(0,Q.wA)(),j=a.useCallback(e=>{if(C.current)return;C.current=!0;let t="on_selection"===e?(0,S.t)("figmake.toolbar.error.inconsistency"):(0,S.t)("figmake.toolbar.error.save");E(ee.F.enqueue({message:t,error:!0,button:{action:()=>{d()},text:(0,S.t)("figmake.refresh")}}))},[E,d]),w=(0,a.useMemo)(()=>new ea.q(l.directManipulationEditor,e=>l.sendMessage("editInspectedElementClassNames",e),j),[l,j]),T=(0,a.useMemo)(()=>new np(l,j,d),[l,j,d]),[k,N]=a.useState(n_(e,c,t)),[A,L]=a.useState(null);(0,$.wY)(c,()=>{N(n_(e,c,t)),L(c.current)}),a.useLayoutEffect(()=>{c.current&&(N(n_(e,c,t)),L(c.current))},[e,t]);let O=v===er.D.Enabled,R=(0,en.Fk)((e,t,n,i)=>t.includes(eG.m.Image)&&function(e,t,n,i,a){if(!t)return!1;let{folderPath:r,fileName:s}=t,o=(0,ns.$v)(e,r,s);if(!o)return!1;let l=t.editingInfo.srcAttribute;return"static"===l.type||"dynamic-identifier"===l.type&&!!l.isConstFromImport||(("dynamic-identifier"===l.type||"dynamic"===l.type)&&n?null!==nm({selectedElementCodeFileNode:o,codeFileNodeIdsWithRecentlyAddedImageAssetImports:a,scenegraph:e,bundledSourceCode:i,previousElementUrl:n}):("not-set"===l.type||l.type,!1))}(e,n,i,l.directManipulationEditor.bundledSourceCode,l.directManipulationEditor.codeFileNodeIdsWithRecentlyAddedImageAssetImports),y.controlTypes,b,n.imgSrc,s,l.directManipulationEditor);l.directManipulationEditor.updateAnalyticsSelectedElementCanEditImage(R,n.figmaFiberId);let P=O?g:"prompt";return v===er.D.Loading?null:(0,i.jsx)("div",{...o.Ay.props(ng.container(k)),children:(0,i.jsx)(eb,{classNameEditingController:w,classNameEditingEnabled:v,componentPreview:l,container:t,directManipulationEditor:l.directManipulationEditor,imageEditingController:T,imageSwapEnabled:R,toolbar:A,children:(0,i.jsxs)(ex,{menuRef:c,children:[(0,i.jsx)("div",{ref:u,className:"x78zum5 xc26acl xeq5yr9 x1vqgdyp x9f619 xilkfi8",children:(0,i.jsx)(tu,{disabled:!O,value:P,setValue:_})}),(0,i.jsx)(et.c,{}),(0,i.jsx)("div",{style:{width:`${("style"===P?h:f).current?.offsetWidth}px`},className:"xffdob0 x13w7htt xrvj5dj x1xe40qn",children:(0,i.jsx)("div",{ref:p,style:{marginTop:"style"===P?"0px":"-60px"},className:"x1vqgdyp x1on81qs xt4q7o6",children:(0,i.jsxs)("div",{style:{width:`${("style"===P?h:f).current?.offsetWidth}px`},className:"xffdob0 x13w7htt xg7h5cd x6ikm8r",children:[(0,i.jsx)("div",{ref:h,className:"x78zum5 xc26acl xeq5yr9 x1vqgdyp",children:y.components}),(0,i.jsx)("div",{ref:f,className:"x78zum5 xc26acl xeq5yr9 x1vqgdyp",children:(0,i.jsx)(na,{disabled:"prompt"!==P,codeNodeId:r})})]})})}),(0,i.jsx)(et.c,{}),(0,i.jsx)("div",{ref:m,className:"x78zum5 xc26acl xeq5yr9 x1vqgdyp x9f619 x1cmmqis",children:(0,i.jsx)(tm,{})})]},`toolbar-${n.figmaFiberId}`)})},`container-${n.figmaFiberId}`)}function ny(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xl56j7k xt970qd xfn1xvj",children:(0,i.jsxs)("div",{className:"xxk0z11 x78zum5 x1q0g3np x6s0dn4 xl56j7k xy6u8y9 x4pvk5x",children:[(0,i.jsx)(e7,{}),(0,i.jsx)("div",{className:"x5yr21d x1i1rx1s xq5lo5s"}),(0,i.jsx)("div",{className:"x1x862rh",children:(0,i.jsx)(eB,{property:"color"})})]})}),(0,i.jsx)(et.c,{}),(0,i.jsx)(tX,{}),(0,i.jsx)(et.c,{}),(0,i.jsx)(tD,{}),(0,i.jsx)(tF,{}),(0,i.jsx)(tB,{}),(0,i.jsx)(et.c,{}),(0,i.jsx)(tA,{})]})}function nv(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eB,{property:"background-color"})})}function nb(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eI,{})})}function nC(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(tC,{})})}function nE(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ti,{})})}let nj={boundingBox:{kVAEAm:"x10l6tqk",kfzvcC:"x47corl",kB7OPa:"x9f619",$$css:!0},boundingBoxSelected:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x1va2ikv",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0},boundingBoxHovered:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"xbes0tg",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0},boundingBoxSelectedSimilar:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"xbsl7fq",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"xbes0tg",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kSiTet:"x18km98s",kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0},boundingBoxHoveredSimilar:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"xbsl7fq",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"xbes0tg",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kSiTet:"xbyyjgo",kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0},tagNameLabel:{kVAEAm:"x10l6tqk",k87sOh:"xcrr8yc",kbCHJM:"x1ojtbga",kMwMTN:"x140t73q",k8WAf4:"xj8oexa",kg3NbH:"xfn1xvj",kGuDYH:"x4z9k3i",k63SB2:"x117nqv4",kIxVMA:"x2b5lcy",ksF3WI:"x1lzl9kk",kYm2EN:"xjppbhk",kqGeR4:"xfrllxf",kP9fke:"x1kyqaxf",$$css:!0},tagNameLabelSelected:{kWkggS:"xf2r6mj",$$css:!0},tagNameLabelHovered:{kWkggS:"x1g19c89",$$css:!0}},nw={selected:nj.boundingBoxSelected,hovered:nj.boundingBoxHovered,selectedSimilar:nj.boundingBoxSelectedSimilar,hoveredSimilar:nj.boundingBoxHoveredSimilar},nT={selected:nj.tagNameLabelSelected,hovered:nj.tagNameLabelHovered,selectedSimilar:void 0,hoveredSimilar:void 0};function nk({rect:e,selectionType:t,tagName:n}){return!e||0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height)||isNaN(e.left)||isNaN(e.top)?null:(0,i.jsx)("div",{...o.xk(nj.boundingBox,nw[t]),style:{left:e.left,top:e.top,width:e.width,height:e.height},children:!!n&&["selected","hovered"].includes(t)&&(0,i.jsx)("div",{...o.xk(nj.tagNameLabel,nT[t]),children:n})})}function nI({preview:e,isVisible:t,refreshPreview:n,chatNodeId:r,codeInstanceNodeId:s}){let o=e.iframe,l=e.directManipulationEditor,d=(0,I.md)(l.latestInspectedElementUIEvent),c=(0,I.md)(Y.sH),u=(0,I.md)(Y.gn),p=null!==d,m=p&&!!o,[h,f]=a.useState(!0);if(a.useEffect(()=>{if(o&&!p&&f(!0),!m)return;let t=()=>{f(!0)},n=()=>{f(!1)},i=t=>{"Escape"!==t.key||(0,J.pn)(e.directManipulationEditor)||(e.setDirectManipulationEnabled({enabled:!1}),f(!0))};return o.addEventListener("mouseenter",t),o.addEventListener("mouseleave",n),document.addEventListener("keydown",i),()=>{o.removeEventListener("mouseenter",t),o.removeEventListener("mouseleave",n),document.removeEventListener("keydown",i)}},[m,o,p,e,e.directManipulationEditor]),!m)return null;let g=o.getBoundingClientRect().width/o.offsetWidth;u&&(g/=c);let _=e=>e?{width:Math.floor(e.width*g),height:Math.floor(e.height*g),left:e.left*g,top:e.top*g}:null,{hoveredElement:x,selectedElement:y,selectedSimilarElements:v,hoveredSimilarElements:b}=d,C=_(y?.rect??null);return(0,i.jsxs)("div",{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x47corl xb3r6kr x1vjfegm",children:[h&&b.map((e,t)=>(0,i.jsx)(nk,{rect:_(e),selectionType:"hoveredSimilar"},`hoveredSimilar-${t}`)),v.map((e,t)=>(0,i.jsx)(nk,{rect:_(e),selectionType:"selectedSimilar"},`selectedSimilar-${t}`)),h&&x&&(0,i.jsx)(nk,{rect:_(x.rect),selectionType:"hovered",tagName:x.tagName},"hovered"),y&&C&&(0,i.jsxs)(i.Fragment,{children:[t&&(0,X.createPortal)((0,i.jsx)(nx,{elementBoundingBox:C,elementInfo:y,chatNodeId:r,codeInstanceNodeId:s,container:o,preview:e,refreshPreview:n},"toolbar"),document.body),(0,i.jsx)(nk,{rect:C,selectionType:"selected",tagName:y.tagName},"selected")]})]})}var nS=n(787996),nN=n(740979),nA=n(10045),nL=n(923594),nO=n(769351),nR=n(732277);function nP({state:e,disablePointerEvents:t,props:n,codeFileGuid:r,codeExportName:o,showToolbar:l,onAddToCanvas:d,withBaseStyles:p,showViewOptions:m=!1,codeSelectionToRender:h,chatNodeId:f,instanceSwapPropertyGuids:g,imagePropAssetHashes:_,onChangePreviewState:x,jsxDev:y=!1,isFullscreen:v=!1,isVisible:b,sandbox:C,onError:E,onBuild:j,productType:T,onRegisterIframeRefresh:N}){let A=(0,c.Oc)(),L=(0,a.useRef)(null),O=(0,a.useRef)(null),[R,P]=(0,I.fp)(G.Y_),D=(0,I.md)(M.jD),[F,H]=(0,I.fp)(M.GI),V=(0,I.md)(G.p_),z=(0,I.md)(G.l6),K=(0,I.md)(G.Xs),W=(0,I.md)(G.xJ),Z=(0,I.md)(G.UL),X=(0,I.md)(G.iK),Y="instance"===h.type?(0,s.UN)().get(h.codeInstanceNodeGuid):(0,s.UN)().get(h.codeBehaviorNodeGuid),J=(0,ni.I4)(Y),Q=(0,ni.IO)(Y),[$,ee]=(0,ni.jT)(),[et,en]=(0,I.fp)((0,U.df)(Y?.guid??"")),[ei]=(0,a.useState)(()=>new nU(T)),[ea,er]=(0,a.useState)(ei.componentPreview),[es,eo]=(0,a.useState)(ei.readyIframe),[el,ed]=(0,a.useState)(ei.isLocalPreviewDirty),[ec,eu]=(0,a.useState)(!1),[ep,em]=(0,a.useState)(0),eh=(0,a.useCallback)(e=>{eo(e)},[]),ef=(0,a.useCallback)(()=>{x(u.d.BUILDING),ea?.setDirectManipulationEnabled({enabled:!1}),j?.()},[x,j,ea]),eg=(0,a.useCallback)(e=>{"local"===e.type&&x(u.d.LOADED),en(Date.now()),O.current=e},[x,en]),e_=(0,a.useCallback)(()=>{eu(!0),x(u.d.LOADED)},[x]),ex=(0,a.useCallback)(e=>{I.zl.set(B.f3,e),er(e)},[er]),ey=(0,a.useCallback)(async(e,t)=>{let n=et;t===ni.S4.BUILD&&en(n=Date.now()),x(u.d.ERROR);let i=[...$||[],{type:"error",message:e.stack?O.current?.type==="local"&&O.current.sourceMap?await q(e.stack,O.current.sourceMap):e.stack:`${e.name}: ${e.message}`,phase:t,timestamp:Date.now()}];ee(i);let a=i.filter(e=>"error"===e.type).map(e=>e.message);E?.(e,t,a,n)},[et,x,$,ee,E,en]),ev=(0,a.useCallback)(async(e,t)=>{let n;n="error"===e?(t=O.current?.type==="local"&&O.current.sourceMap?await q(t,O.current.sourceMap):t).startsWith("Warning:")?{type:"warn",message:t,timestamp:Date.now()}:{type:"error",message:t,phase:ni.S4.RUNTIME,timestamp:Date.now()}:{type:e,message:t,timestamp:Date.now()},ee(e=>[...e||[],n])},[O,ee]),eb=(0,a.useCallback)(()=>{ee([])},[ee]),eC=h?.type==="behavior"?h.targetNodeGuid:void 0,eE=A||!(0,k.kc)().code_layers_zoom_controls,ej=(0,G.Wn)(r);(0,a.useLayoutEffect)(()=>{ei.updateOptions({designToCodeGenerating:ej,buildNumber:Q,nodeId:h.codeInstanceNodeGuid,codeBehaviorTargetNodeId:eC,codeExportName:o,props:n,instanceSwapPropertyGuids:g,imagePropAssetHashes:_,activeBreakpoint:v?W:K,clipContents:v?X:Z,withBaseStyles:p,jsxDev:y,shadcn:eE,noWrapper:eE,allowScaling:!eE||void 0!==eC,scaleLinearly:m&&R,width:eE?void 0:v?z?.x:V?.x,height:eE?void 0:v?z?.y:V?.y,sandbox:C,requestPreviewRebuild:F,setRequestPreviewRebuild:H,onComponentPreview:ex,onReadyIframe:eh,onPreviewDirty:ed,onError:ey,onConsoleLog:ev,onConsoleClear:eb,onBuildStart:ef,onBuildResult:eg,onRenderComplete:e_})},[ej,Q,h.codeInstanceNodeGuid,o,n,g,_,v,W,K,X,Z,p,y,eE,C,ex,eh,ed,ey,ev,eb,ef,eg,e_,R,m,V?.x,V?.y,z?.x,z?.y,ei,eC,F,H]);let ew=a.useCallback(e=>{L.current=e,e?ei.mountIframe(e):ei.unmount()},[ei]),eT=(0,a.useCallback)(e=>{P(e),ei.forceRefresh()},[P,ei]),ek=(0,a.useRef)(J),eI=(0,a.useRef)(x),eS=(0,a.useRef)(ei);ek.current=J,eI.current=x,eS.current=ei;let eN=(0,a.useCallback)(()=>{ek.current(),eI.current(u.d.BUILDING),eS.current.forceRefresh(),eu(!1),(0,ni.px)(),L.current&&em(e=>e+1)},[]);return(0,a.useEffect)(()=>{N&&N(eN)},[N,eN]),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5yr21d xh8yej3 x1n2onr6",style:{backgroundColor:A?w.Tj.bg:w.Tj.bgSecondary},children:[l&&(0,i.jsx)(nD,{codeSelectionToRender:h,onAddToCanvas:d,refresh:eN,componentPreviewManager:ei,componentPreview:ea,handleScaleLinearly:eT}),(0,i.jsx)("div",{className:"x5yr21d xh8yej3 x1n2onr6",children:(0,i.jsxs)("div",{className:"x10l6tqk x13vifvy x3m8u43 x1ey2m1c xu96u03 x9f619",style:{display:"flex",transition:"opacity 0.2s ease-in-out, filter 0.2s ease-in-out",filter:el?"blur(2px)":"none",pointerEvents:el?"none":"auto",opacity:es&&es===L.current?1:0},children:[(0,i.jsx)(nM,{state:e,componentPreview:ea,chatNodeId:f,codeSelectionToRender:h,isVisible:b,refreshPreview:J}),(0,i.jsx)("iframe",{title:(0,S.t)("sites.code_component.preview_title"),src:D,ref:ew,...{0:{className:"x1bpp3o7 xh8yej3 x5yr21d x1lliihq"},4:{className:"x1bpp3o7 xh8yej3 x5yr21d x1lliihq x47corl"},2:{className:"x1bpp3o7 xh8yej3 x5yr21d x1s85apg"},6:{className:"x1bpp3o7 xh8yej3 x5yr21d x47corl x1s85apg"},1:{className:"x1bpp3o7 xh8yej3 x5yr21d x1s85apg"},5:{className:"x1bpp3o7 xh8yej3 x5yr21d x47corl x1s85apg"},3:{className:"x1bpp3o7 xh8yej3 x5yr21d x1s85apg"},7:{className:"x1bpp3o7 xh8yej3 x5yr21d x47corl x1s85apg"}}[!!t<<2|!(e!==u.d.ERROR)<<1|!ec<<0]},ep)]})})]})}function nM({state:e,componentPreview:t,chatNodeId:n,codeSelectionToRender:a,isVisible:r,refreshPreview:s}){return e===u.d.ERROR?(0,i.jsx)("div",{className:"xh8yej3 x47corl",children:(0,i.jsx)(nL.r,{})}):t&&n&&"instance"===a.type?(0,i.jsx)(nI,{preview:t,isVisible:r,refreshPreview:s,chatNodeId:n,codeInstanceNodeId:a.codeInstanceNodeGuid}):null}function nD({codeSelectionToRender:e,onAddToCanvas:t,refresh:n,componentPreview:r,handleScaleLinearly:o}){let l=(0,O.l)(),[d]=(0,I.fp)(G.Y_),[c,u]=(0,I.fp)(B.TJ),p=(0,a.useCallback)(e=>{let t=(0,s.UN)().get(e),n=t?.exportedFromCodeFile;t&&n&&u(e=>({...e,[n.guid]:t.guid}))},[u]),m="instance"===e.type?nB((0,s.UN)().get(e.codeInstanceNodeGuid)):nB((0,s.UN)().get(e.codeBehaviorNodeGuid)),h=m?.guid??"",f=(0,ni.H1)(m??null),w=f[0],R=c[h]??w?.localGuid,P=(0,s.UN)(),M=(0,V.cu)(),D=M[0]?P.get(M[0]):null,U=(0,ni.wE)(D),z=(0,I.md)(G.ZY),K=!U||z,W=(0,I.md)(F.s0),[Z,q]=(0,I.fp)(G.qQ),X=z&&(U||Z),Y=(0,a.useCallback)(()=>{D&&(0,H.Py)({node:D})},[D]),J=(0,a.useCallback)(()=>{!U&&Z&&(N.tJ([Z]),q(null)),T.Ez5?.codeSelection().showMainComponent.set(!1)},[U,Z,q]),Q=(0,k.kc)().code_layers_zoom_controls,{handleHtmlToDesign:$,isProcessing:ee,isEnabled:et}=(0,nN.mP)();return(0,i.jsx)(A.Zk,{style:{paddingBottom:0,borderBottom:"none"},children:(0,i.jsxs)(L.Wv,{titleTx:f.length>1?(0,i.jsxs)(g.bL,{value:R,onChange:e=>{e&&p(e)},children:[(0,i.jsx)(g.l9,{label:(0,i.jsx)(_.h,{children:(0,S.t)("sites.code_component.preview_legend")})}),(0,i.jsx)(g.mc,{children:f.map(e=>(0,i.jsx)(g.c$,{value:e.localGuid,children:e.name},e.localGuid))})]}):(0,i.jsx)(i.Fragment,{}),children:[X&&W===T.Nfd.FILE&&(0,i.jsx)(x.$n,{variant:"secondary","aria-label":(0,S.t)("fullscreen_actions.return-to-instance"),onClick:J,children:(0,S.t)("fullscreen_actions.return-to-instance")}),!K&&W===T.Nfd.FILE&&(0,i.jsx)(x.$n,{variant:"secondary","aria-label":(0,S.t)("fullscreen_actions.edit-main-component"),onClick:Y,children:(0,S.t)("fullscreen_actions.edit-main-component")}),"instance"===e.type&&!s.UN().get(e.codeInstanceNodeGuid)?.isLayerLikeCodeNode&&t&&(0,i.jsx)(x.$n,{variant:"secondary","aria-label":(0,S.t)("sites.code_component.add_to_canvas"),onClick:t,children:(0,S.t)("sites.code_component.add_to_canvas")}),Q&&(0,i.jsx)(y.f,{variant:"highlighted",checked:!d,onIcon:(0,i.jsx)(b.O,{}),offIcon:(0,i.jsx)(b.O,{}),"aria-label":(0,S.t)("sites.code_component.view_at_100"),htmlAttributes:{"data-tooltip":(0,S.t)("sites.code_component.view_at_100"),"data-tooltip-type":"text"},onChange:()=>o(!d)}),"instance"===e.type&&K&&r&&(0,k.kc)().code_layers_click_to_inspect&&(0,i.jsx)(nR.l,{disabled:l,componentPreview:r,showTooltipAbove:!1,codeInstanceGuid:e.codeInstanceNodeGuid}),(0,i.jsx)(nO.r,{openText:(0,S.t)("sites.code_component.drawer.open"),hideText:(0,S.t)("sites.code_component.drawer.hide"),children:(0,i.jsx)(C,{})}),(0,i.jsx)(v.K,{"aria-label":(0,S.t)("sites.code_component.code_view_reload"),htmlAttributes:{"data-tooltip":(0,S.t)("sites.code_component.code_view_reload"),"data-tooltip-type":"text"},onClick:n,children:(0,i.jsx)(E.x,{})}),(0,k.kc)().bake_m2d&&"instance"===e.type&&(0,i.jsx)(v.K,{"aria-label":(0,S.t)("figmake.m2d.paste_to_canvas_as_design_layers"),htmlAttributes:{"data-tooltip":(0,S.t)("figmake.m2d.paste_to_canvas_as_design_layers"),"data-tooltip-type":"text"},disabled:ee||!et,onClick:()=>$({target:"canvas",canvasNodeGuid:D?.guid}),children:(0,i.jsx)(j.a,{})})]})})}class nF{get current(){return{url:"/_sandbox"}}addPopStateListener(){}addRefreshListener(){}push(){}forward(){}back(){}refresh(){}}function nB(e){return e?e?.isCodeInstance?e?.backingCodeComponent?.exportedFromCodeFile:e?.isCodeFile?e:e?.exportedFromCodeFile:null}class nU{constructor(e){this.componentPreview=null,this.readyIframe=null,this.isLocalPreviewDirty=!0,this.instanceSwapPropertyGuids={},this.designToCodeGenerating=!0,this.iframeElement=null,this.shouldRenderWhenIframeReady=!1,this.sitePreviewIframeManager=new M.fj,this.previewHistory=new nF,this.requiresLocalBuild=!1,this.requiresSandboxBuild=!1,this.requiresConsoleClear=!1,this.dirtyTimeout=void 0,this.codeBundle=null,this.productType=e}mountIframe(e){this.iframeElement!==e&&(this.componentPreview&&this.unmount(),this.iframeElement=e,this.componentPreview=this.sitePreviewIframeManager.createSitesPreview({history:this.previewHistory,skipSetPreviewedNode:!0,onIframeReady:()=>{this.readyIframe=e,this.onReadyIframe?.(e),((0,k.kc)().make_foundry||this.shouldRenderWhenIframeReady)&&(this.shouldRenderWhenIframeReady=!1,this.render())},onError:e=>{this.onError?.(e,ni.S4.RUNTIME)},onConsoleLog:(e,t)=>this.onConsoleLog?.(e,t),onInspectElementEvent:e=>{this.componentPreview?.directManipulationEditor.processEvent(e,this.codeBundle??null)},options:{skipPreviewUpdateListener:!0,generateFullAssets:!0,withBaseStyles:this.withBaseStyles,labs:{runtimeDebugTools:!1}},previewSurfaceForLogging:"component_preview",productType:this.productType}),this.onComponentPreview?.(this.componentPreview),this.sitePreviewIframeManager.mountIframe(e,{useReactDev:!0}))}unmount(){this.sitePreviewIframeManager.resetSitesPreview(),this.readyIframe=null,this.onReadyIframe?.(null),this.componentPreview=null,this.onComponentPreview?.(null)}async buildWebsiteBundle(e){let t=Object.values(this.instanceSwapPropertyGuids).concat(this.nodeId?[this.nodeId]:[],this.codeBehaviorTargetNodeId?[this.codeBehaviorTargetNodeId]:[]);e.record("preview_website_bundle_start");let{bundle:n,assetInstructions:i}=await (0,P.LE)(t,{skipCodeFilesystem:!this.codeBehaviorTargetNodeId,skipInstanceUpdate:!0});e.record("preview_website_bundle_stop"),e.record("asset_generation_start"),n.files=await (0,R.Ct)(i),e.record("asset_generation_stop"),this.referencedWebsiteBundle=n}async buildSandbox(e){try{switch(this.onBuildStart?.(),await this.buildWebsiteBundle(e),this.sandbox?.state){case nS.T.PROVISIONED:{let e=this.getNode(),t=(0,s.UN)();if(!e.isAlive||!t||!T.glU)break;this.codeBundle={objectPath:(0,p.og)(e.codeFileFullPath),entries:(0,m.N)().asTransferableEntries(),codeBuildId:T.glU.generateUniqueID(),type:"sandbox",url:this.sandbox.url,extraCss:await (0,nA.bB)()},this.codeBundle&&this.onBuildResult?.(this.codeBundle)}break;case nS.T.PENDING:case nS.T.FAILED:case void 0:break;default:(0,h.S9)(this.sandbox,null)}return!0}catch(n){this.onConsoleClear?.(),this.onError?.(n,ni.S4.BUILD);let t=T.z6l?.getCodeLibrarySizeMetadata();return e.setBuildMetadata({isBuildSuccessful:!1,errorMessage:n.toString?.(),...t??{}}),!1}}async buildLocal(e){try{this.onBuildStart?.(),e.record("code_bundle_start");let t=this.getNode(),n=(0,ni.gz)({node:t,tailwind:!0,jsxDev:this.jsxDev??!1,shadcn:this.shadcn??!1,noWrapper:this.noWrapper??!1}),i=await n.finally(()=>e.record("code_bundle_stop"));if(i){let e=await (0,nA.bB)();i.css=[i.css??"",e].join("\n")}this.codeBundle=i,this.codeBehaviorTargetNodeId&&await this.validateCodeBehaviorDataForCodeBundle(),await this.buildWebsiteBundle(e);let a=T.z6l?.getCodeLibrarySizeMetadata();return e.setBuildMetadata({isBuildSuccessful:!0,bundleJsLength:i?.esm?.length,bundleCssLength:i?.css?.length,...a??{}}),this.onConsoleClear?.(),i&&this.onBuildResult?.(i),!0}catch(n){this.onConsoleClear?.(),this.onError?.(n,ni.S4.BUILD),this.isLocalPreviewDirty&&(this.isLocalPreviewDirty=!1,this.onPreviewDirty?.(this.isLocalPreviewDirty));let t=T.z6l?.getCodeLibrarySizeMetadata();return e.setBuildMetadata({isBuildSuccessful:!1,errorMessage:n.toString?.(),...t??{}}),!1}}async render(){let e=this.codeBundle;if(!this.readyIframe||!this.componentPreview||!e||!this.referencedWebsiteBundle)return;let[t,n,i]=(()=>{switch(e.type){case"sandbox":return[e.url,null,e.extraCss];case"local":return[null,e.esm,e.css];default:return(0,h.S9)(e,null),[null,null,null]}})();(n||t)&&this.codeExportName&&(this.isLocalPreviewDirty&&(this.isLocalPreviewDirty=!1,this.onPreviewDirty?.(this.isLocalPreviewDirty)),await this.componentPreview?.renderComponent({nodeId:this.nodeId,sandboxUrl:t,code:n??"",codeBuildId:e.codeBuildId,codeBehaviorTargetNodeId:this.codeBehaviorTargetNodeId,codeExportName:this.codeExportName,props:this.props??{},styles:i,withBaseStyles:this.withBaseStyles,instanceSwapPropertyGuids:this.instanceSwapPropertyGuids,referencedWebsiteBundle:this.referencedWebsiteBundle,activeBreakpoint:this.activeBreakpoint,clipContents:this.clipContents,allowScaling:this.allowScaling,scaleLinearly:this.scaleLinearly,width:this.width,height:this.height}),this.onRenderComplete?.())}forceRefresh(){this.iframeElement=null,this.sandbox?this.requiresSandboxBuild=!0:this.requiresLocalBuild=!0}updateOptions(e){let t=new Set(this.imagePropAssetHashes),n=e.imagePropAssetHashes?.every(e=>t.has(e));e.sandbox?this.requiresSandboxBuild=this.requiresSandboxBuild||this.sandbox?.state!==e.sandbox?.state||this.nodeId!==e.nodeId||!(0,f.c2)(this.instanceSwapPropertyGuids,e.instanceSwapPropertyGuids):this.requiresLocalBuild=this.requiresLocalBuild||this.buildNumber!==e.buildNumber||this.nodeId!==e.nodeId||!(0,f.c2)(this.instanceSwapPropertyGuids,e.instanceSwapPropertyGuids)||!n||void 0!==this.codeBehaviorTargetNodeId&&!(0,f.c2)(this.props,e.props),this.requiresConsoleClear=this.nodeId!==e.nodeId,this.requiresLocalBuild&&!this.isLocalPreviewDirty&&(this.isLocalPreviewDirty=!0,this.onPreviewDirty?.(this.isLocalPreviewDirty)),this.componentPreview&&e.onComponentPreview&&!this.onComponentPreview&&e.onComponentPreview(this.componentPreview),this.onComponentPreview=e.onComponentPreview,this.onReadyIframe=e.onReadyIframe,this.onPreviewDirty=e.onPreviewDirty,this.onError=e.onError,this.onConsoleLog=e.onConsoleLog,this.onConsoleClear=e.onConsoleClear,this.onBuildStart=e.onBuildStart,this.onBuildResult=e.onBuildResult,this.onRenderComplete=e.onRenderComplete;let i=e=>({buildNumber:e.buildNumber,nodeId:e.nodeId,codeBehaviorTargetNodeId:e.codeBehaviorTargetNodeId,codeExportName:e.codeExportName,props:e.props,instanceSwapPropertyGuids:e.instanceSwapPropertyGuids,imagePropAssetHashes:e.imagePropAssetHashes,activeBreakpoint:e.activeBreakpoint,clipContents:e.clipContents,withBaseStyles:e.withBaseStyles,jsxDev:e.jsxDev,shadcn:e.shadcn,noWrapper:e.noWrapper,allowScaling:e.allowScaling,scaleLinearly:e.scaleLinearly,width:e.width,height:e.height,sandbox:e.sandbox,designToCodeGenerating:e.designToCodeGenerating});if(JSON.stringify(i(this))!==JSON.stringify(i(e)))this.buildNumber=e.buildNumber,this.nodeId=e.nodeId,this.codeBehaviorTargetNodeId=e.codeBehaviorTargetNodeId,this.codeExportName=e.codeExportName,this.props=e.props,this.instanceSwapPropertyGuids=e.instanceSwapPropertyGuids,this.imagePropAssetHashes=e.imagePropAssetHashes,this.activeBreakpoint=e.activeBreakpoint,this.clipContents=e.clipContents,this.withBaseStyles=e.withBaseStyles,this.jsxDev=e.jsxDev,this.shadcn=e.shadcn,this.noWrapper=e.noWrapper,this.allowScaling=e.allowScaling,this.scaleLinearly=e.scaleLinearly,this.width=e.width,this.height=e.height,this.sandbox=e.sandbox,this.designToCodeGenerating=e.designToCodeGenerating;else if(!e.requestPreviewRebuild)return;if(e.requestPreviewRebuild&&e.setRequestPreviewRebuild?.(!1),this.requiresConsoleClear&&this.onConsoleClear?.(),this.dirtyTimeout&&(clearTimeout(this.dirtyTimeout),this.dirtyTimeout=void 0),this.requiresLocalBuild&&!this.designToCodeGenerating)this.dirtyTimeout=setTimeout(()=>{this.dirtyTimeout=void 0,this.requiresLocalBuild=!1;let e=new W;this.buildLocal(e).then(async t=>!!t&&(this.readyIframe?(e.record("render_start"),await this.render(),e.record("render_stop")):this.shouldRenderWhenIframeReady=!0,!0)).then(()=>e.trackFigmentEvent())},1e3);else if(this.requiresSandboxBuild){let e=new W;this.buildSandbox(e).then(async t=>!!t&&(e.record("render_start"),await this.render(),e.record("render_stop"),!0))}else this.render()}getNode(){if(!this.nodeId)throw Error("Node ID is not set");let e=(0,s.UN)().get(this.nodeId);if(!e||!e.isAlive)throw Error("Node no longer exists in the scene");return e}async validateCodeBehaviorDataForCodeBundle(){if(this.componentPreview&&this.codeBundle?.type==="local"&&this.codeBundle?.esm){let{exportedCodeComponents:e}=await this.componentPreview.analyzeCodeFile({code:this.codeBundle.esm,codeBuildId:this.codeBundle.codeBuildId});for(let t of e)t.hasInteractionDataSymbol&&(0,D.K)(t.codeBehaviorData)}}}var nH=n(315922);let nV=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm1.646 4.146a.5.5 0 0 0 0 .708L10.293 12l-1.147 1.146a.5.5 0 0 0 .708.708l1.5-1.5a.5.5 0 0 0 0-.708l-1.5-1.5a.5.5 0 0 0-.708 0M12.5 13a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var nG=n(695777);function nz(){let[e]=(0,ni.jT)(),t=e?.filter(e=>"error"===e.type),[n,r]=(0,I.fp)(B.YD),s=(0,I.Xr)(B.Vo),[o,l]=a.useState(!1);return n||!t||0===t.length||o?null:(0,i.jsxs)("button",{className:"x10l6tqk x191j7n5 x1nrll8i xuuh30 x78zum5 xl56j7k x6s0dn4 x1jnr06f x1ihmbg5 xxvmw7z x1sxf85j xt970qd xfn1xvj x3brusf",onClick:()=>{s("console"),r(!0)},children:[(0,i.jsx)(nV,{}),(0,i.jsx)("div",{children:(0,S.t)("living_designs.chat.errors.error_count",{count:t.length})}),(0,i.jsx)("button",{className:"x1ljf5od xjbqb8w",onClick:e=>{e.stopPropagation(),l(!0)},children:(0,i.jsx)(nG.f,{})})]})}function nK(){return(0,i.jsx)("div",{className:"x10l6tqk x10a8y8t x1vjfegm x78zum5 xl56j7k x6s0dn4 x47corl","data-testid":"html-preview-loading-overlay",children:(0,i.jsx)(r.k,{})})}function nW({codeSelectionToRender:e,chatNodeId:t,jsxDev:n=!1,onPreviewStateChange:r,showViewOptions:o=!1,windowRef:p,showToolbar:m=!0,onAddToCanvas:h,isFullscreen:f,isVisible:g,sandbox:_,onError:x,onBuild:y,disablePointerEvents:v=!1,onRegisterIframeRefresh:b}){let{componentPreviewState:C,setComponentPreviewState:E}=(0,u.k)(),j=e?"instance"===e.type?(0,s.UN)().get(e.codeInstanceNodeGuid):(0,s.UN)().get(e.codeBehaviorNodeGuid):null,w=j?.isCodeComponent?j:j?.backingCodeComponent,T=j?.isCodeFile?j:w?.exportedFromCodeFile,{properties:k,instanceSwapPropertyGuids:I}=(0,ni.Aw)(e),S=(0,a.useCallback)(e=>{E(e),r?.(e)},[r,E]);(0,ni.pO)();let N=(0,c.Oc)(),A=e?.type==="instance"&&h?()=>{h(j)}:void 0,L=(0,a.useMemo)(()=>{let e=[];for(let t of Object.values(k))"object"==typeof t&&"image"in t&&void 0!==t.image&&(e.push(t.image),void 0!==t.animatedImage&&e.push(t.animatedImage));return e},[k]),O=(0,a.useRef)(null),R=l.D.getState(),P=(0,d.v5)(R.selectedView,null);(0,ni.jS)(j);let M=C===u.d.INITIAL||C===u.d.BUILDING;if(!e||!j)return null;let D=j.isCodeInstance||j.isCodeBehavior?j.backingCodeComponent?.codeExportName||"default":j.codeExportName||"default";return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5yr21d xh8yej3 x1n2onr6",ref:O,children:[(0,i.jsx)(nP,{chatNodeId:t,codeExportName:D,codeFileGuid:T?.guid,codeSelectionToRender:e,disablePointerEvents:v,imagePropAssetHashes:L,instanceSwapPropertyGuids:I,isFullscreen:f,isVisible:g,jsxDev:n,onAddToCanvas:A,onBuild:y,onChangePreviewState:S,onError:x,onRegisterIframeRefresh:b,productType:P,props:k,sandbox:_,showToolbar:m,showViewOptions:o,state:C,withBaseStyles:!N}),!N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nH._,{codeSelectionToRender:e,windowRef:p}),(0,i.jsx)(nz,{})]}),M&&(0,i.jsx)(nK,{})]})}},454333:(e,t,n)=>{n.d(t,{D:()=>g,F:()=>_});var i=n(104076),a=n(716976),r=n(607468),s=n(980852);n(120440);var o=n(641518),l=n(361170),d=n(192075),c=n(739710),u=n(460418),p=n(823515),m=n(406483),h=n(700126),f=n(390392);function g({guids:e,recordingKey:t,hideVariableBinding:n,entrypoint:d="default",windowRef:g,behaviorPropAssignmentHelpers:_}){let x=(0,h.l)(),{typedPropDefsExcludingHidden:y,assignmentValuesByDefId:v}=(0,u.an)(e,c.OE.ASSIGNMENT,!0),{propAssignments:b,typedPropDefs:C,submitBehaviorAssignment:E,clearBehaviorVariableBinding:j,behaviorAssignmentInfo:w}=_??{propAssignments:v,typedPropDefs:y,submitBehaviorAssignment:void 0,clearBehaviorVariableBinding:void 0,behaviorAssignmentInfo:void 0};_&&(0,f.hZ)(C);let T=n||!!_,[k,I]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{I(!0)},[]),k)?(0,i.jsx)("div",{className:"x87ps6o",children:(0,i.jsx)(p.c,{assignmentValues:b,behaviorAssignmentInfo:w,clearBehaviorVariableBinding:j,containerWidth:c.O2.RESIZABLE_SIDEBAR,entrypointForInstanceSwapPicker:m.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL,forBubbledProps:!1,getInstanceSwapPickerPosition:(e,t,n,i)=>{let a=g?.current?.getBoundingClientRect(),r=e.getBoundingClientRect();return new l.Mi(r.left-(a?.left??0),r.top-(a?.top??0)+r.height+8)},guids:_?[]:e,hideBindingButton:T,hideIcon:T,instanceSwapPickerIdPrefix:"code-editor"===d?"code-editor-instance-swap-prop-assignment-picker-":void 0,recordingKey:o.Pt(t,"propDefs",r.uN.TYPED),sceneGraph:(0,s.UN)(),submitBehaviorAssignment:E,typedPropDefs:C,viewOnly:x})}):null}function _(){return(0,i.jsx)("div",{className:"xh8yej3 x5yr21d xl56j7k x78zum5 x6s0dn4 x1n0bwc9 x2b8uid",children:(0,d.t)("sites.code_component.drawer.properties_empty_state")})}},396326:(e,t,n)=>{n.d(t,{q:()=>m});var i=n(500275),a=n(951002),r=n(170627),s=n(980852),o=n(812714),l=n(246144),d=n(772523),c=n(427515),u=n(322023),p=n(664615);class m{constructor(e,t,n){this.editor=e,this.sendEditToPreview=t,this.displayErrorVisualBell=n}async addClassesToInspectedElements(e,t,n){this.editor.addLocalComputedStyleEditToSelectedNodes(e);let i=(0,d.dZ)(t),a=await this.editor.getCachedOrFetchCodeSnippets(!i);if(null===a){(0,l.x1)("direct_manipulation","No snippets found for addClassToInspectedElements",{},{reportAsSentryError:!0}),this.displayErrorVisualBell(i?"on_save":"on_selection");return}for(let t of a){let a=null;for(let n of e)a=this.addClassToInspectedElementAndPreview(n,t,a);i&&null!==a&&((0,o.kc)().bake_direct_manipulation_remove_shadowed_classes&&(a=(0,u.OI)({classNames:a,classToStyles:this.editor.selectedElementsClassToStyles})),await this.commitToCode({classNames:a,snippet:t}),this.editor.updateAnalyticsRecordClassNameEdit(n))}}addClassToInspectedElementAndPreview(e,t,n){if(null===n){let e=t.editingInfo.classNameAttribute;switch(e.type){case"static":n=e.value;break;case"not-set":n="";break;case"dynamic":case"dynamic-identifier":case"unknown":return(0,l.x1)("direct_manipulation","Unsupported jsx for addClassToInspectedElement",{type:e.type},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save"),n;default:(0,a.xb)(e)}}n=(0,u.t8)({existingClassNames:n,classToStyles:this.editor.selectedElementsClassToStyles,classToAdd:e});let i={};for(let t of e.cssRules){let e=t.property,n={property:e,value:t.value};for(let a of t.propertiesExpandedFromShorthand.length>0?t.propertiesExpandedFromShorthand:[e])i[a]=n}return this.editor.addClassStyleFromLocalEdit(e.className,{className:e.className,styles:i,hasUnsupportedStyles:!1,type:"tailwind"}),this.sendClassnamesToPreview(n,t,e),n}sendClassnamesToPreview(e,t,n){let i={sourceCodeClassNames:e,sourceCodeJSXCallId:t.sourceCodeJSXCallId,classNameToInject:n?.className,cssToInject:n?(0,u.L_)(n):void 0};this.sendEditToPreview(i)}async commitToCode({classNames:e,allowedRetries:t=1,snippet:n}){let{folderPath:o,fileName:d}=n,u=(0,i.$v)((0,s.UN)(),o,d),m=!1;if(u){let t=n.editingInfo.classNameAttribute;(0,c.a)(()=>{r.l7.user("direct-manipulation",()=>{switch(t.type){case"static":(0,p.W)(u,n.collaborativeSourceCodeVersion,t.valueStartIndex,t.value,e)||(m=!0);break;case"not-set":{let i=` className="${e}"`;(0,p.W)(u,n.collaborativeSourceCodeVersion,t.insertIndex,"",i)||(m=!0);break}case"dynamic":case"dynamic-identifier":case"unknown":(0,l.x1)("direct_manipulation","Unsupported jsx for commitToCode",{type:t.type},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save");break;default:(0,a.xb)(t)}})})}if(m){if(t>0){let n=await this.editor.getCachedOrFetchCodeSnippets(!1),i=n?.find(e=>e.sourceCodeJSXCallId==e.sourceCodeJSXCallId);if(!i){(0,l.x1)("direct_manipulation","Could not refresh snippet for commitToCode retry",{},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save");return}await this.commitToCode({classNames:e,allowedRetries:t-1,snippet:i})}else(0,l.x1)("direct_manipulation","Unsuccessful code edit",{},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save")}else setTimeout(()=>{this.editor.fetchNewCodeSnippets()},0)}async resetClassNamesForPropertiesAndCommitToCode(e){let t=await this.editor.getCachedOrFetchCodeSnippets(!1);if(null===t){(0,l.x1)("direct_manipulation","No snippet found for resetClassNames",{},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save");return}for(let n of t){let t=null,i=n.editingInfo.classNameAttribute;switch(i.type){case"static":t=i.value;break;case"not-set":t="";break;case"dynamic":case"dynamic-identifier":case"unknown":(0,l.x1)("direct_manipulation","Unsupported jsx for resetClassNames",{type:i.type},{reportAsSentryError:!0}),this.displayErrorVisualBell("on_save");return;default:(0,a.xb)(i)}t=(0,u.Lh)({existingClassNames:t,classToStyles:this.editor.selectedElementsClassToStyles,propertiesToReset:e}),this.sendClassnamesToPreview(t,n),await this.commitToCode({classNames:t,snippet:n})}this.editor.clearLocalComputedStyleEditForSelectedNodes(e)}}},254786:(e,t,n)=>{n.d(t,{S:()=>l,m:()=>i});var i=(e=>(e.Text="text",e.Container="container",e.Border="border",e.Image="image",e.Spacing="spacing",e.Shadow="shadow",e))(i||{});let a=["p","h1","h2","h3","h4","h5","h6","span","label","button","a","input","textarea","select","option","ul","ol","li"],r=["body","div","header","footer","main","section","nav","article"],s=["img","video"],o={image:[...s],text:[...a],container:[...r,"button"],border:[...r,...s,"button","input","textarea"],spacing:[...a,...r,...s],shadow:[...r,...s]};function l(e,t){let n=[];return Object.entries(o).forEach(([i,a])=>{(a.includes(e.toLowerCase())||t&&"text"===i)&&n.push(i)}),n}},351394:(e,t,n)=>{n.d(t,{F:()=>i});function i(e,t){return{filePath:t.fullFilePath,snippetStartLine:t.jsxSnippet.snippetStartLine,tagLine:t.jsxSnippet.tagLine,snippet:t.jsxSnippet.code,tagName:e.tagName,fileImports:t.imports,componentHeader:t.componentHeader}}},466465:(e,t,n)=>{n.d(t,{DY:()=>c,HL:()=>d,m$:()=>u,xF:()=>l});var i=n(716976),a=n(903927),r=n(266808),s=n(980852),o=n(55416);function l(){let e=(0,a.d4)(e=>e.fonts);return(0,i.useMemo)(()=>{let t={};for(let[n,i]of Object.entries(e)){let e=Object.fromEntries(Object.entries(i).filter(([e,t])=>t.source===r.jXp.GOOGLE));Object.keys(e).length>0&&(t[n]=e)}return t},[e])}function d(e,t){if(t.current){if(t.current.fontName?.family===e.fontFamily)return;t.current.removeSelfAndChildren(),t.current=null}let n=r.t8O?.getLocalTextStyleFontInfo();if(n){for(let t of n)if(t.family===e.fontFamily&&t.style===e.styleName)return}let i=(0,s.UN)().createStyle("TEXT");i.fontName={family:e.fontFamily,style:e.styleName,postscript:e.style.postscript},i.name=e.fontFamily,t.current=i}function c(e,t){let n=t[e];if(!n)return;let i=(0,o.a)(n);if(void 0===i)return;let a=n[i];if(!a)return;let r="Regular",s=a.styles[r];if(!s&&(r=Object.keys(a.styles)[0])&&(s=a.styles[r]),s&&r&&s.id)return{fontFamily:e,fontVersion:i,styleName:r,style:s,fontId:s.id}}function u(e,t){let n=e.match(/("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[^,]+)/g);return n&&0!==n.length&&n.map(e=>e.trim().replace(/^["']|["']$/g,""))[0]||t}},787996:(e,t,n)=>{n.d(t,{T:()=>S,A:()=>A});var i=n(716976),a=n(250700),r=n(651234),s=n(542653),o=n(221086),l=n(638004),d=n(170627),c=n(980852),u=n(795033),p=n(872763),m=n.n(p),h=n(851824),f=n(328341),g=n(550209),_=n(235011),x=n(178623),y=n(20267),v=n(809565),b=n(211862),C=n(574433),E=n(161506),j=n(48104);function w({sandboxHashesByPath:e,localHashesByPath:t,localContentsByPath:n,isMakeFoundryUiEnabled:i}){let a={},r=new Set;for(let s of new Set([...Object.keys(e),...Object.keys(t)])){if(!i&&("package.json"===s||"vite.config.ts"===s))continue;let o=e[s],l=t[s],d=n[s];!l&&o?r.add(s):l&&void 0!==d&&(!o||l!==o)&&(a[s]={contents:d,hash:l})}return{upsertedFilePatchesByPath:a,deletedPaths:r}}async function T(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}async function k({relativePath:e,content:t,cache:n}){if(n?.hashesByPath[e]&&n?.contentByPath[e]===t&&n.contentByPath[e]===t)return n.hashesByPath[e];let i=await T(t);return n&&(n.hashesByPath[e]=i,n.contentByPath[e]=t),i}async function I(e,t={}){let{excludePaths:n,cache:i}=t,a={};for(let[t,r]of Object.entries(e)){if(n?.has(t))continue;let e=await k({relativePath:t,content:r,cache:i});a[t]=e}return a}var S=(e=>(e.PENDING="PENDING",e.PROVISIONED="PROVISIONED",e.FAILED="FAILED",e))(S||{});async function N({abortSignal:e}){await x.Ay.foundry.install({dryRun:!1,autoUpdatePackages:!0},(0,y.Ay)(),{abortSignal:e})}function A({fileKey:e,featureType:t,codeInstanceNode:n}){let[p,T]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),A=(0,E._)()&&t===r.lV.FIGMAKE,L=(0,_.MF)(new AbortController),[,O]=(0,C.jT)(),R=(0,C.IO)(n),P=(0,f.ZC)(R),M=(0,f.ZC)(n?.guid),D=new URL((0,u.md)(j.jD)).host,F=(0,b.q5)(),B=!!F?.createdAt&&F.createdAt>new Date(Date.now()-3e5),U=n?.isCodeInstance||n?.isCodeBehavior?n?.backingCodeComponent:null,H=U?.exportedFromCodeFile,V=U?.codeExportName??n?.codeExportName??"default",G=m()([H?.codeFilePath,H?.name]).join("/"),z=(0,i.useMemo)(()=>({[V]:G}),[V,G]),[K,W]=(0,i.useState)(A?{state:"PENDING"}:null),Z=(0,i.useRef)(!1),q=(0,i.useRef)(null),X=(0,i.useRef)({}),Y=(0,i.useRef)(-1),J=(0,i.useRef)({hashesByPath:{},contentByPath:{}}),Q=(0,i.useRef)(!1),$=(0,i.useRef)(!1),ee=(0,i.useCallback)(async({isFollowUpPatch:t}={isFollowUpPatch:!1})=>{if(A&&e){if($.current){Q.current=!0;return}$.current=!0;try{let e=await function({entrypointsByIdentifier:e,sandboxHashesByPath:t,sandboxSequenceNumber:n,hashCache:i,abortSignal:a,originHost:r,isMakeFoundryUiEnabled:l}){let d=null;return(0,o.OF)(async()=>{var o;let c=u.zl.get(v.J),p=d?.sequenceNumber??n;if(p>0&&p>c)return d;let m=Object.entries((0,s.$d)()).reduce((e,[t,n])=>({...e,[t.replace(/^\//,"")]:n.sourceCode}),{}),h=await I(m,{cache:i}),f=w({sandboxHashesByPath:d?.contentHashesByPath??t,localHashesByPath:h,localContentsByPath:m,isMakeFoundryUiEnabled:l}),g=await x.Ay.foundry.files({upsertedFilePatchesByPath:f.upsertedFilePatchesByPath,deletedPaths:Array.from(f.deletedPaths),entrypointsByIdentifier:e,sequenceNumber:c,originHost:r},(0,y.Ay)(),{abortSignal:a});if("patched"!==g.result)throw Error(`Unknown response result: ${g.result}`);if(d={contentHashesByPath:g.contentHashesByPath,sequenceNumber:g.sequenceNumber,url:g.url},!(0===Object.keys((o=w({sandboxHashesByPath:g.contentHashesByPath,localHashesByPath:h,localContentsByPath:m,isMakeFoundryUiEnabled:l})).upsertedFilePatchesByPath).length&&0===o.deletedPaths.size))throw Error("Did not reconcile file changes");return d},{interval:1e3,exponentialBackoff:!0,maxBackoff:6e4,abortSignal:a})}({entrypointsByIdentifier:z,sandboxHashesByPath:X.current,sandboxSequenceNumber:Y.current,hashCache:J.current,abortSignal:L.signal,originHost:D,isMakeFoundryUiEnabled:p});e&&(X.current=e.contentHashesByPath,Y.current=e.sequenceNumber,e.url&&e.url!==q.current&&(q.current=e.url,W({state:"PROVISIONED",url:e.url})));try{await N({abortSignal:L.signal})}catch(t){let e=t&&"object"==typeof t&&t.trace?.children?.[0]?.error?.message?t.trace.children[0].error.message:t instanceof Error?t.message:String(t);O(t=>[...t,{type:"error",message:`npm install failed: ${e}`,phase:C.S4.BUILD,timestamp:Date.now()}])}}finally{$.current=!1,Q.current&&!t&&(Q.current=!1,await ee({isFollowUpPatch:!0}))}}},[e,z,L,A,D,O,p]),et=(0,h.A)(async()=>{if(A)try{await ee()}catch(e){W({state:"FAILED",error:e instanceof Error?e.message:String(e)})}},500,{maxWait:5e3}),en=(0,i.useCallback)(async()=>{if(!A)return;Z.current=!0;let e=await function({originHost:e,abortSignal:t}){return(0,o.OF)(async()=>{let n=await x.Ay.foundry.sandbox({originHost:e},(0,y.Ay)(),{abortSignal:t});if("PROVISIONED"!==n.state)throw Error(`Sandbox not provisioned: ${n.state}`);return n},{interval:1e3,exponentialBackoff:!0,maxBackoff:3e4,abortSignal:t})}({abortSignal:L.signal,originHost:D});q.current=e.url,T(t=>t??e.foundryUiEnabled),S(e.templateFiles),await ee({isFollowUpPatch:!1}),function({abortSignal:e}){let t=setInterval(async()=>{try{"visible"===document.visibilityState&&await x.Ay.foundry.keepAlive({},(0,y.Ay)(),{abortSignal:e})}catch(e){}},6e4);e?.addEventListener("abort",()=>{clearInterval(t)})}({abortSignal:L.signal})},[L,D,ee,A]);return(0,i.useEffect)(()=>{if(!k||!p||!B)return;let e=(0,a.N)();e.hasFile("package.json")||e.hasFile("vite.config.ts")||d.l7.system("create-package-json-and-vite-config",()=>{Object.entries(k).forEach(([e,t])=>{(0,c.UN)().createNewCodeFile({path:e,sourceCode:t,entryPoint:null,isEntrypointCodeFile:!1,onError:e=>{(0,g.$D)(l.e.MAKE,e)},enableDuplicateCheck:!1})})})},[k,p,B]),(0,i.useEffect)(()=>{A&&e&&H&&!Z.current&&en().then(()=>{q.current&&W({state:"PROVISIONED",url:q.current})}).catch(e=>{W({state:"FAILED",error:`Failed to initialize sandbox: ${e}`})})},[A,e,H,en,O]),(0,i.useEffect)(()=>{A&&K?.state==="PROVISIONED"&&(R!==P||n?.guid!==M)&&et()},[K?.state,R,P,n?.guid,M,et,A]),(0,i.useEffect)(()=>()=>{et.cancel(),L.abort("Unmount")},[L,et]),A?K:null}},740979:(e,t,n)=>{n.d(t,{mP:()=>F,fY:()=>D,VW:()=>M});var i=n(716976),a=n(951002),r=n(795033),s=n(883765),o=n(316862),l=n(432099),d=n(354114),c=n(211862),u=n(581006),p=n(492130),m=n(903927),h=n(192075),f=n(58212),g=n(638641);let _="html-to-design-processing",x="copied-to-clipboard",y="error",v="html-to-design-copy-manual";var b=n(997477),C=n(918918),E=n(266808),j=n(170627),w=n(980852),T=n(812714),k=n(823736),I=n(260495),S=n(113139);let N=new class{constructor(){this.HtmlToDesignValidator=(0,S.vh)()}convertHtmlToDesign(e){let{fileKey:t,html:n,width:i,height:a}=e;return this.HtmlToDesignValidator.validate(async({xr:e})=>await e.post(`/api/${t}/html-to-design`,{html:n,width:i,height:a}))}};var A=(e=>(e[e.API=0]="API",e[e.LOCAL=1]="LOCAL",e))(A||{});async function L(e){let t;let n=e.componentPreview;if(1===e.mode){let i=await n.sendMessage("getDOMNodes",{});if(!i?.root)throw Error("No DOM data received from preview iframe");let a=await (0,C.UQ)(i,(0,w.UN)(),{decodeImage:I.UD},void 0,{rootFrameName:e.fileName,attachBuildDataToNodes:{enabled:!!(0,T.kc)().bake_m2d_roundtrip,fileKey:e.fileKey}});await new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(e))),await (0,I.Jr)().imageUploadPromise(),t=a.guid}else if(0===e.mode){let{html:i,rect:a}=await n.getHTMLForElement();t=R((await N.convertHtmlToDesign({fileKey:e.fileKey,html:i,width:Math.ceil(a.width),height:Math.ceil(a.height)})).data.meta.buffer)}else(0,a.xb)(e);let i=e.copyId;i&&function(e){let t=(0,w.UN)().get(e.sourceNodeGuid);t&&j.l7.system("set-plugin-data",()=>{let n=JSON.stringify({copyId:e.copyId,sourceFileKey:e.sourceFileKey,persistentEntityId:e.persistentEntityId});t.setPluginData("figmake","m2d_track",n)})}({sourceNodeGuid:t,copyId:i,sourceFileKey:e.fileKey,persistentEntityId:e.persistentEntityId||""});let r=null;try{r=j.l7.system("clipboard-payload",()=>E.glU?E.glU.getClipboardDataForGuids([t])??null:null)}finally{j.l7.system("delete-node",()=>{let e=(0,w.UN)();e.get(t)?.removeSelfAndChildren()})}if(!r)throw Error("Failed to generate clipboard payload");return r}async function O(e){let t;if(1===e.mode){let n=await e.componentPreview.sendMessage("getDOMNodes",{});if(!n?.root)throw Error("No DOM data received from preview iframe");t=(await (0,C.UQ)(n,(0,w.UN)(),{decodeImage:I.UD},E.HzA.TRACK,{rootFrameName:e.fileName,attachBuildDataToNodes:{enabled:!!(0,T.kc)().bake_m2d_roundtrip,fileKey:e.fileKey}})).guid}else if(0===e.mode){let{html:n,rect:i}=await e.componentPreview.getHTMLForElement();t=R((await N.convertHtmlToDesign({fileKey:e.fileKey,html:n,width:Math.ceil(i.width),height:Math.ceil(i.height)})).data.meta.buffer)}else(0,a.xb)(e);let n=e.canvasNodeGuid;return j.l7.system("move-internal-node-to-canvas",()=>{let e=(0,w.UN)(),i=e.get(t);if(!i)throw Error("Node not found");let a=i.size.x,r=i.size.y,s=(n?e.get(n)?.parentGuid:e.getCurrentPage()?.guid)??"",o=function(e,t,n){if(!E.qmM)throw Error("InteractionCpp is not defined");let i=E.qmM.findBestBoundsForNewNodeRelativeToNode(e,t,n);return{x:i.origin.x,y:i.origin.y}}(n??"",a,r);return e.get(s)?.appendChild(i),i.x=o.x,i.y=o.y,i.guid})}function R(e){let t=(0,k.Ze)(e);if(!t)throw Error("Failed to decode clipboard buffer");return j.l7.user("paste-buffer-to-internal-canvas",()=>{let e=(0,w.UN)(),n=e.createNode("FRAME");n.stackMode="VERTICAL",n.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",n.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE";let i=e.getInternalCanvas();if(i)i.appendChild(n);else throw Error("Internal canvas not found");if(!E.glU?.directlyPasteSuggestion(t,n.parentGuid??"",null,n.guid))throw n.removeSelfAndChildren(),Error("Failed to paste buffer to canvas");let a=n.childrenNodes[0]?.clone(),r=a&&e.get(a);if(!r)throw n.removeSelfAndChildren(),Error("Failed to paste buffer to canvas");return i.appendChild(r),n.removeSelfAndChildren(),r.guid})}let P=(0,r.eU)(!1);function M(){return(0,r.md)(P)}function D(){let{componentPreviewState:e}=(0,p.k)(),t=(0,r.md)(u.f3);return e===p.d.LOADED&&!!t?.getHTMLForElement}function F(){let e=function(){let{getDynamicConfig:e}=(0,b.Fj)("m2d_conversion_method");return(0,i.useMemo)(()=>e().get("method",A.LOCAL,e=>e===A.API||e===A.LOCAL),[e])}(),t=(0,c.tS)(),[n,p]=(0,r.fp)(P),{showProcessing:C,showSuccess:E,showError:j,showHtmlSizeError:w,showManualCopy:T,dismissProcessingBell:k}=function(){let e=(0,m.wA)(),t=i.useRef(null),n=i.useCallback(()=>{t.current&&(clearTimeout(t.current),t.current=null),e(f.F.dequeue({matchType:_}))},[e]),a=i.useCallback(n=>{t.current=window.setTimeout(()=>{e(f.F.enqueue({type:_,message:(0,h.t)("figmake.m2d.converting_make_to_design"),icon:g.zX.SPINNER,timeoutOverride:1/0,button:{text:(0,h.t)("general.cancel"),action:n}}))},300)},[e]),r=i.useCallback(t=>{n(),e(f.F.enqueue({type:x,message:"clipboard"===t?(0,h.t)("figmake.m2d.copied_to_clipboard"):(0,h.t)("figmake.m2d.pasted_to_canvas"),icon:g.zX.CHECK}))},[e,n]);return{showProcessing:a,showSuccess:r,showError:i.useCallback(()=>{n(),e(f.F.enqueue({type:y,message:(0,h.t)("figmake.m2d.failed_to_copy"),icon:g.zX.EXCLAMATION}))},[e,n]),showHtmlSizeError:i.useCallback(()=>{n(),e(f.F.enqueue({type:"html-too-large",message:(0,h.t)("figmake.m2d.html_too_large"),icon:g.zX.EXCLAMATION}))},[e,n]),showManualCopy:i.useCallback(t=>{n(),e(f.F.enqueue({type:v,message:(0,h.t)("figmake.m2d.click_to_copy_to_clipboard"),icon:g.zX.CLIPBOARD,timeoutOverride:1/0,button:{primary:{text:(0,h.t)("figmake.m2d.copy_button"),action:()=>{(async()=>{try{await t(),e(f.F.dequeue({matchType:v})),e(f.F.enqueue({type:x,message:(0,h.t)("figmake.m2d.copied_to_clipboard"),icon:g.zX.CHECK}))}catch{e(f.F.enqueue({type:y,message:(0,h.t)("figmake.m2d.failed_to_copy"),icon:g.zX.EXCLAMATION}))}})()}},secondary:{text:(0,h.t)("general.cancel"),action:()=>{e(f.F.dequeue({matchType:v}))}}}}))},[e,n]),dismissProcessingBell:n}}(),I=(0,r.md)(u.f3);i.useEffect(()=>()=>{k()},[k]);let S=D();return{handleHtmlToDesign:i.useCallback(async i=>{let{target:r,fileName:c,persistentEntityId:u}=i;if(n||!t||!S)return;if(!I?.getHTMLForElement)throw Error("Snapshot HTML is not available for preview");p(!0);let m=new AbortController;C(()=>{m.abort(),k(),p(!1)});try{if("canvas"===r)await O({mode:e,componentPreview:I,fileName:c,fileKey:t}),E("canvas");else if("clipboard"===r){let n;let i=(0,o.g)();try{n=await L({mode:e,componentPreview:I,fileName:c,fileKey:t,copyId:i,persistentEntityId:u}),s.az.trackDefinedEvent("figmake.m2d.node_copied_to_clipboard",{productType:"make",persistentEntityId:u,copyId:i,error:!1})}catch(e){throw s.az.trackDefinedEvent("figmake.m2d.node_copied_to_clipboard",{productType:"make",persistentEntityId:u,copyId:i,error:!0}),e}if(m.signal.aborted)return;let a=async e=>{if(!await d.Y5.writeToClipboard(e.text,e.metadata,e.buffer,e.textHtml))throw Error("Failed to write to clipboard")};try{"undefined"!=typeof document&&"visible"===document.visibilityState&&document.hasFocus()?(await a(n),E("clipboard")):T(()=>a(n))}catch(e){console.error("Failed to write to clipboard automatically:",e),T(()=>a(n))}}else(0,a.xb)(r)}catch(e){if(!m.signal.aborted){if(e instanceof l.Dr&&(413===e.status||408===e.status)){w();return}console.error("Error converting Make to design layers:",e),j()}}finally{p(!1),k(),m.abort()}},[I,t,n,p,S,C,E,j,w,T,k,e]),isProcessing:n,isEnabled:S}}},444713:(e,t,n)=>{n.d(t,{$q:()=>E,L9:()=>T,WW:()=>g,Yd:()=>I,Yh:()=>w,dD:()=>v,fw:()=>j,g_:()=>k,gn:()=>x,sH:()=>C,u3:()=>b});var i=n(104076),a=n(716976),r=n(903927),s=n(423128),o=n(790009),l=n(795033);n(120440);var d=n(192075),c=n(435049),u=n(506192),p=n(985416),m=n(813371),h=n(954741),f=(e=>(e.ANDROID_COMPACT="ANDROID_COMPACT",e.ANDROID_MEDIUM="ANDROID_MEDIUM",e.CUSTOM="CUSTOM",e.IPHONE_16="IPHONE_16",e.IPHONE_16_PRO="IPHONE_16_PRO",e.IPHONE_16_PRO_MAX="IPHONE_16_PRO_MAX",e.IPHONE_16_PLUS="IPHONE_16_PLUS",e.IPHONE_SE="IPHONE_SE",e))(f||{});let g={ANDROID_COMPACT:{width:412,height:917},ANDROID_MEDIUM:{width:700,height:840},CUSTOM:{width:void 0,height:void 0},IPHONE_16:{width:393,height:852},IPHONE_16_PRO:{width:402,height:874},IPHONE_16_PRO_MAX:{width:440,height:956},IPHONE_16_PLUS:{width:430,height:932},IPHONE_SE:{width:320,height:568}},_="IPHONE_16",x=(0,p.rt)(!1),y=(0,p.rt)(_),v=(0,p.rt)(g[_].height||852),b=(0,p.rt)(g[_].width||393),C=(0,p.rt)(1);function E(){let e=(0,l.Xr)(x),t=(0,l.Xr)(y),n=(0,l.Xr)(v),i=(0,l.Xr)(b);return a.useCallback(()=>{e(!1),t(_),n(g[_].height||852),i(g[_].width||393)},[e,t,n,i])}let j=320,w=320,T=3e3,k=3e3;function I(){let e=(0,r.wA)(),[t,n]=(0,l.fp)(x),[p,f]=(0,l.fp)(v),[C,E]=(0,l.fp)(b),[I,S]=(0,l.fp)(y),N=(0,u.Um)(),A=(0,i.jsx)(s.A,{className:"x52n8ys"}),L=a.useCallback(e=>{e&&f(Math.min(Math.max(e,j),T))},[f]),O=a.useCallback(e=>{e&&E(Math.min(Math.max(e,w),k))},[E]),R=a.useCallback(e=>{S(e);let t=g[e];O(t?.width),L(t?.height)},[L,O,S]);if(a.useEffect(()=>{C!==g[I]?.width&&R("CUSTOM")},[I,C,R]),!t)return null;let P={ANDROID_COMPACT:(0,d.t)("figmake.mobile_preview.options.android_compact"),ANDROID_MEDIUM:(0,d.t)("figmake.mobile_preview.options.android_medium"),CUSTOM:(0,d.t)("figmake.mobile_preview.options.custom"),IPHONE_16:(0,d.t)("figmake.mobile_preview.options.iphone_16"),IPHONE_16_PRO:(0,d.t)("figmake.mobile_preview.options.iphone_16_pro"),IPHONE_16_PRO_MAX:(0,d.t)("figmake.mobile_preview.options.iphone_16_pro_max"),IPHONE_16_PLUS:(0,d.t)("figmake.mobile_preview.options.iphone_16_plus"),IPHONE_SE:(0,d.t)("figmake.mobile_preview.options.iphone_se")};return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1n2onr6 x1qughib xxk0z11 x1yjdb4r xso031l x1y0btm7 x7z60cl xe8ttls",children:[(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1i9suas x1ncir08 x2lah0s",children:(0,i.jsx)(h.l6,{dispatch:e,dropdownAlignment:"left",dropdownShown:N,dropdownWidth:240,formatter:{format:e=>P[e??_]},id:"mobile-preview-option",neverConstrain:!0,onChange:e=>{R(e)},openBelowTarget:!0,property:I??_,children:Object.entries(g).map(([e])=>{let t=g[e].width,n=g[e].height;return(0,i.jsx)(h.c$,{value:e,selected:I===e,children:(0,i.jsxs)("div",{className:"x11r6d5e xh8yej3 x140o2bo",children:[(0,i.jsx)("div",{className:"x1n9xxwz xxymvpz xb3r6kr xlyipyv xuxw1ft xygnafs",children:P[e]}),t&&n?(0,i.jsx)(o.J,{mode:"dark",children:(0,i.jsx)("div",{className:"x1n9xxwz xxymvpz x1hr2gdg x1n0bwc9 xuxw1ft",children:(0,d.t)("figmake.mobile_preview.labels.aspect_ratio",{width:t,height:n})})}):null]})},e)})})}),(0,i.jsxs)("div",{className:"x10l6tqk x1nrll8i xwa60dl x11lhmoz x78zum5 x167g77z x1vjfegm",children:[(0,i.jsxs)("div",{className:"x1n2onr6 x29ncy0 x1rg5ohu",children:[(0,i.jsx)("span",{className:"x10l6tqk xncym2f x19up5dg xwa60dl x1cb1t30 x52n8ys x47corl x1j6dyjg x1vjfegm",children:(0,d.t)("figmake.mobile_preview.labels.width")}),(0,i.jsx)(m.Q7,{className:"xd3ty66 x1v8gsql xmkeg23 x1y0btm7 x9r1u3d x3sae66 xl0cjzi",property:C,formatter:new c.KD,allowEmpty:!1,autoFocus:!1,disabled:!1,onChange:e=>{O(e)}})]}),(0,i.jsxs)("div",{className:"x1n2onr6 x29ncy0 x1rg5ohu",children:[(0,i.jsx)("span",{className:"x10l6tqk xncym2f x19up5dg xwa60dl x1cb1t30 x52n8ys x47corl x1j6dyjg x1vjfegm",children:(0,d.t)("figmake.mobile_preview.labels.height")}),(0,i.jsx)(m.Q7,{className:"xd3ty66 x1v8gsql xmkeg23 x1y0btm7 x9r1u3d x3sae66 xl0cjzi",property:p,formatter:new c.KD,allowEmpty:!1,autoFocus:!1,disabled:!1,onChange:e=>{L(e)}})]})]}),(0,i.jsx)("button",{className:"x78zum5 x6s0dn4 xl56j7k x1td3qas x10w6t97 x2lah0s xjbqb8w xv2f06h x12oqio5 x1t3whoi",onClick:()=>n(!1),children:A})]})}},923594:(e,t,n)=>{n.d(t,{r:()=>s,w:()=>o});var i=n(104076),a=n(890373);n(120440);var r=n(192075);function s(){return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1jnr06f xl56j7k x5yr21d xh8yej3",children:[(0,i.jsx)(l,{}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1jnr06f x1racy4e",children:[(0,i.jsx)("div",{className:"xiqqdae xkezfkh",children:(0,r.tx)("figmake.error_overlay.header")}),(0,i.jsx)("div",{className:"x17akokd x1n0bwc9 x2b8uid",children:(0,r.tx)("figmake.error_overlay.subtitle")})]})]})}function o(){return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1jnr06f xl56j7k x5yr21d xh8yej3",children:[(0,i.jsx)(l,{}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1jnr06f x1racy4e",children:[(0,i.jsx)("div",{className:"xiqqdae xkezfkh",children:(0,r.tx)("figmake.embed.error_overlay.header")}),(0,i.jsx)("div",{className:"x17akokd x1n0bwc9 x2b8uid",children:(0,r.tx)("figmake.embed.error_overlay.subtitle")})]})]})}function l(){return(0,i.jsx)("div",{className:"x1n2onr6 x1jn9k7v x1llg2sp",children:(0,i.jsxs)("svg",{className:"x10l6tqk x41qcxd xbzw7ph",width:"417",height:"423",viewBox:"0 0 417 423",fill:"none",children:[(0,i.jsx)("path",{d:"M1 1V32H32V1H1ZM1 289V320H32V289H1ZM33 289V320H64V289H33ZM65 289V320H96V289H65ZM97 289V320H128V289H97ZM129 289V320H160V289H129ZM161 289V320H192V289H161ZM193 289V320H224V289H193ZM225 289V320H256V289H225ZM257 289V320H288V289H257ZM289 289V320H320V289H289ZM321 289V320H352V289H321ZM353 289V320H384V289H353ZM385 289V320H416V289H385ZM1 257V288H32V257H1ZM33 257V288H64V257H33ZM65 257V288H96V257H65ZM97 257V288H128V257H97ZM129 257V288H160V257H129ZM161 257V288H192V257H161ZM193 257V288H224V257H193ZM225 257V288H256V257H225ZM257 257V288H288V257H257ZM289 257V288H320V257H289ZM321 257V288H352V257H321ZM353 257V288H384V257H353ZM385 257V288H416V257H385ZM1 225V256H32V225H1ZM33 225V256H64V225H33ZM65 225V256H96V225H65ZM97 225V256H128V225H97ZM129 225V256H160V225H129ZM161 225V256H192V225H161ZM193 225V256H224V225H193ZM225 225V256H256V225H225ZM257 225V256H288V225H257ZM289 225V256H320V225H289ZM321 225V256H352V225H321ZM353 225V256H384V225H353ZM385 225V256H416V225H385ZM1 193V224H32V193H1ZM33 193V224H64V193H33ZM65 193V224H96V193H65ZM97 193V224H128V193H97ZM129 193V224H160V193H129ZM161 193V224H192V193H161ZM193 193V224H224V193H193ZM225 193V224H256V193H225ZM257 193V224H288V193H257ZM289 193V224H320V193H289ZM321 193V224H352V193H321ZM353 193V224H384V193H353ZM385 193V224H416V193H385ZM1 161V192H32V161H1ZM33 161V192H64V161H33ZM65 161V192H96V161H65ZM97 161V192H128V161H97ZM129 161V192H160V161H129ZM161 161V192H192V161H161ZM193 161V192H224V161H193ZM225 161V192H256V161H225ZM257 161V192H288V161H257ZM289 161V192H320V161H289ZM321 161V192H352V161H321ZM353 161V192H384V161H353ZM385 161V192H416V161H385ZM1 129V160H32V129H1ZM33 129V160H64V129H33ZM65 129V160H96V129H65ZM97 129V160H128V129H97ZM129 129V160H160V129H129ZM161 129V160H192V129H161ZM193 129V160H224V129H193ZM225 129V160H256V129H225ZM257 129V160H288V129H257ZM289 129V160H320V129H289ZM321 129V160H352V129H321ZM353 129V160H384V129H353ZM385 129V160H416V129H385ZM1 97V128H32V97H1ZM33 97V128H64V97H33ZM65 97V128H96V97H65ZM97 97V128H128V97H97ZM129 97V128H160V97H129ZM161 97V128H192V97H161ZM193 97V128H224V97H193ZM225 97V128H256V97H225ZM257 97V128H288V97H257ZM289 97V128H320V97H289ZM321 97V128H352V97H321ZM353 97V128H384V97H353ZM385 97V128H416V97H385ZM1 65V96H32V65H1ZM33 65V96H64V65H33ZM65 65V96H96V65H65ZM97 65V96H128V65H97ZM129 65V96H160V65H129ZM161 65V96H192V65H161ZM193 65V96H224V65H193ZM225 65V96H256V65H225ZM257 65V96H288V65H257ZM289 65V96H320V65H289ZM321 65V96H352V65H321ZM353 65V96H384V65H353ZM385 65V96H416V65H385ZM1 33V64H32V33H1ZM33 33V64H64V33H33ZM65 33V64H96V33H65ZM97 33V64H128V33H97ZM129 33V64H160V33H129ZM161 33V64H192V33H161ZM193 33V64H224V33H193ZM225 33V64H256V33H225ZM257 33V64H288V33H257ZM289 33V64H320V33H289ZM321 33V64H352V33H321ZM353 33V64H384V33H353ZM385 33V64H416V33H385ZM33 32H64V1H33V32ZM65 32H96V1H65V32ZM97 32H128V1H97V32ZM129 32H160V1H129V32ZM161 32H192V1H161V32ZM193 32H224V1H193V32ZM225 32H256V1H225V32ZM257 32H288V1H257V32ZM289 32H320V1H289V32ZM321 32H352V1H321V32ZM353 32H384V1H353V32ZM385 32H416V1H417V321H0V0H416V1H385V32Z",fill:"url(#paint0_radial_11338_118262)"}),(0,i.jsx)("rect",{x:"141.5",y:"114.5",width:"133",height:"91",rx:"13.5",fill:a.Tj.bg,stroke:a.Tj.bgDesktopFullscreenDisabled,strokeDasharray:"4 4"}),(0,i.jsx)("rect",{x:"150",y:"131",width:"116",height:"66",rx:"5",fill:a.Tj.bgSecondary}),(0,i.jsx)("rect",{x:"198.233",y:"183.723",width:"3.7211",height:"7.44221",transform:"rotate(-90 198.233 183.723)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"205.676",y:"183.723",width:"3.7211",height:"7.44221",transform:"rotate(-90 205.676 183.723)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"195.443",y:"152.094",width:"3.7211",height:"13.9541",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"214.979",y:"158.605",width:"3.7211",height:"7.44221",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"188",y:"147.443",width:"3.7211",height:"3.7211",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"191.722",y:"143.721",width:"3.7211",height:"3.7211",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"195.443",y:"140",width:"3.7211",height:"3.7211",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"221.49",y:"150.231",width:"3.7211",height:"3.7211",transform:"rotate(90 221.49 150.231)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"217.769",y:"146.51",width:"3.7211",height:"3.7211",transform:"rotate(90 217.769 146.51)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"225.211",y:"150.23",width:"3.7211",height:"3.7211",transform:"rotate(90 225.211 150.23)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"228.933",y:"146.51",width:"3.7211",height:"3.7211",transform:"rotate(90 228.933 146.51)",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("circle",{cx:"153",cy:"125",r:"2",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("circle",{cx:"160",cy:"125",r:"2",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("circle",{cx:"167",cy:"125",r:"2",fill:a.Tj.bgDisabledSecondary}),(0,i.jsx)("rect",{x:"257.5",y:"101.5",width:"33",height:"33",rx:"16.5",fill:a.Tj.bg}),(0,i.jsx)("rect",{x:"257.5",y:"101.5",width:"33",height:"33",rx:"16.5",stroke:a.Tj.bgDesktopFullscreenDisabled,strokeDasharray:"4 4"}),(0,i.jsx)("path",{d:"M272.359 111.938C273.131 110.763 274.869 110.763 275.641 111.938L275.715 112.059L280.592 120.73L280.657 120.854C281.271 122.142 280.336 123.663 278.878 123.663H269.123C267.618 123.663 266.67 122.042 267.408 120.73L272.286 112.059L272.359 111.938ZM274.844 112.55C274.474 111.892 273.527 111.892 273.157 112.55L268.28 121.221C267.94 121.826 268.328 122.564 268.988 122.654L269.123 122.663H278.878L279.013 122.654C279.629 122.57 280.008 121.921 279.78 121.343L279.721 121.221L274.844 112.55ZM274.001 119.763C274.301 119.763 274.544 120.007 274.545 120.307C274.545 120.608 274.301 120.852 274.001 120.852C273.7 120.852 273.456 120.608 273.456 120.307C273.456 120.007 273.7 119.763 274.001 119.763ZM274.001 114.421C274.277 114.421 274.5 114.645 274.501 114.921V118.307C274.501 118.583 274.277 118.807 274.001 118.807C273.724 118.807 273.501 118.583 273.501 118.307V114.921C273.501 114.645 273.725 114.421 274.001 114.421Z",fill:a.Tj.bgDesktopFullscreenDisabled}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_11338_118262",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(201.861 160.5) rotate(90.346) scale(138.026 214.208)",children:[(0,i.jsx)("stop",{stopColor:a.Tj.iconSecondary,stopOpacity:"0.4"}),(0,i.jsx)("stop",{offset:"1",stopColor:a.Tj.bg,stopOpacity:"0"})]})})]})})}},769351:(e,t,n)=>{n.d(t,{r:()=>u});var i=n(104076),a=n(4921),r=n(795033);n(120440);var s=n(635629),o=n(192075),l=n(588961),d=n(581006),c=n(574433);function u({openText:e,hideText:t,children:n,asLargeVariant:u}){let[p,m]=(0,r.fp)(d.YD),[h]=(0,c.jT)(),[f]=(0,l.PM)(),g=h?.filter(e=>"error"===e.type),_=f.filter(e=>"error"===e.level),x=g&&g.length>0||_&&_.length>0,y=p?t:e,v=x?(0,o.t)("figmake.toolbar.console_drawer_button.error_indicator_a11y_description"):"",b=(0,i.jsxs)("div",{className:"x1n2onr6",children:[x&&(0,i.jsx)("div",{className:"x10l6tqk xndqk7f x1pzoy33 x51ohtg xqu0tyb x16rqkct xxvmw7z xmkeg23 x1y0btm7 xdkfplz"}),n]}),C=u?s.y:a.f;return(0,i.jsx)(C,{"aria-description":v,"aria-label":y,checked:p,htmlAttributes:{"data-tooltip":y,"data-tooltip-type":"text"},offIcon:b,onChange:()=>m(!p),onIcon:b,recordingKey:"toggleConsoleDrawerButton",variant:"highlighted"})}},732277:(e,t,n)=>{n.d(t,{l:()=>u});var i=n(104076),a=n(716976),r=n(4921);let s=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.293 11.293a1 1 0 0 1 1.059-.23l8 3 .146.07a1 1 0 0 1-.102 1.785l-.154.052-3.418.854-.854 3.418a1 1 0 0 1-1.906.11l-3-8a1 1 0 0 1 .23-1.06m-2.11 5.968a.49.49 0 0 1 .642-.25c.248.103.385.386.282.634L9.16 19.93a.5.5 0 0 1-.923-.384zM15 20l1-4 4-1-8-3zm-8.782-6.242c.248-.103.53.032.634.28a.49.49 0 0 1-.25.643l-2.282.946a.5.5 0 0 1-.382-.924zm-2.552-5.25a.5.5 0 0 1 .654-.27l2.279.944a.49.49 0 0 1 .25.643c-.104.248-.386.383-.634.28l-2.278-.943a.5.5 0 0 1-.27-.653m15.88-.27a.5.5 0 0 1 .382.924l-2.28.944c-.248.103-.53-.033-.634-.28a.49.49 0 0 1 .25-.644zM8.508 3.668a.5.5 0 0 1 .653.27l.943 2.277c.102.248-.033.53-.28.633a.49.49 0 0 1-.643-.25L8.238 4.32a.5.5 0 0 1 .271-.653m6.193.27a.5.5 0 0 1 .924.382l-.944 2.278a.49.49 0 0 1-.643.25c-.248-.103-.383-.385-.28-.633z"})})});var o=n(795033),l=n(635629),d=n(192075),c=n(161506);function u({disabled:e,componentPreview:t,asLargeVariant:n,onboardingKey:u,showTooltipAbove:p,codeInstanceGuid:m}){let h=(0,o.md)(t.directManipulationEditor.directManipulationEnabledAtom),f=a.useCallback(()=>{t.setDirectManipulationEnabled({enabled:!h,codeInstanceGuid:m})},[t,h,m]),g=(0,c._)(),_=n?l.y:r.f,x=(0,i.jsx)(s,{});return(0,i.jsx)(_,{"aria-label":g?(0,d.t)("figmake.chat.click_to_inspect.disabled_foundry_beta"):(0,d.t)("figmake.chat.click_to_inspect.label"),checked:h,disabled:e,htmlAttributes:{"data-onboarding-key":u,"data-tooltip-show-above":p||void 0,"data-tooltip-show-below":!p||void 0},offIcon:x,onChange:f,onIcon:x,variant:"highlighted"})}},161506:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(812714),a=n(211862),r=n(944350);function s(){let e=a.q5()?.editorType;return!!e&&(e===r._Y.FIGMAKE?(0,i.kc)().make_foundry:e===r._Y.SITES?(0,i.kc)().make_foundry_sites:(console.warn(`Unexpected editor type passed to isMakeFoundryEnabled: ${e}`),!1))}},996715:(e,t,n)=>{n.d(t,{AA:()=>s,Kj:()=>o,hJ:()=>r});var i=n(795033),a=n(985416),r=(e=>(e.LOADING_VIEW="loading",e.AUTH="auth",e.CREATE_PROJECT="create_project",e.CONNECT_TO_EXISTING_PROJECTS="connect_to_existing_projects",e.CONNECTED_PROJECT="connected_project",e.PENDING_PROJECT="pending_project",e.AUTH_EXPIRED="auth_expired",e))(r||{});let s=(0,a.Wh)(()=>(0,i.eU)("loading")),o=(0,a.Wh)(()=>(0,i.eU)(null))},253066:(e,t,n)=>{n.d(t,{r:()=>l});var i=n(795033),a=n(211862),r=n(710211),s=n(293172),o=n(886597);async function l(){let e=i.zl.get(a.ze),{authenticated:t}=await r.M4.fetch((0,o.y7)({fileKey:e}),{policy:"networkOnly"});await r.M4.fetch((0,o.TT)({fileKey:e}),{policy:"networkOnly"}),t&&await r.M4.fetch((0,o.YF)({fileKey:e}),{policy:"networkOnly"}),i.zl.set(s.rK,!0)}},588961:(e,t,n)=>{n.d(t,{GA:()=>u,PM:()=>h,ZO:()=>m});var i=n(716976),a=n(795033),r=n(833805),s=n(211862),o=n(985416),l=n(580276),d=n(886597),c=n(32404);let u=(0,o.Wh)(()=>(0,a.eU)("")),p=(0,o.Wh)(()=>(0,a.eU)([]));function m(){a.zl.set(p,[])}function h(){let e=(0,s.tS)(),t=(0,l.Xu)(),[n,o]=(0,a.fp)(p),m=(0,a.md)(u),{connectedProject:h}=(0,c.GC)(),[f]=(0,r.IT)((0,d.gZ)({fileKey:e,functionName:"make-server"}),{enabled:!!h&&t});return(0,i.useEffect)(()=>{if(!f.data||0===f.data.length)return;let e=f.data.filter(e=>void 0!==e.version).map(e=>parseInt(e.version)).filter(e=>!isNaN(e)),t=e.length>0?Math.max(...e):-1,n=parseInt(m);isNaN(n)||(t=Math.max(n,t)),o(e=>[...e,...f.data].filter((e,t,n)=>t===n.findIndex(t=>t.id===e.id)).filter(e=>{let n=parseInt(e.timestamp);return(isNaN(n)||n>Date.now()-3e5)&&(!e.version||e.version===t.toString()||-1===t)}))},[f,m,o]),[n,o]}},872990:(e,t,n)=>{n.d(t,{J:()=>l,T:()=>d});var i=n(716976),a=n(812714),r=n(394549),s=n(141330),o=n(290407);function l(){let{isSlidesAiEnabled:e}=(0,r.u4)();return e&&(0,a.kc)().piper_outline_to_deck}function d(){i.useEffect(()=>()=>{(0,o.B3)(s.JT.SLIDES_GENERATE_OUTLINE),(0,o.B3)(s.JT.SLIDES_OUTLINE_TO_DECK)},[])}},451324:(e,t,n)=>{n.d(t,{Jh:()=>s,QD:()=>r,Ro:()=>i,jK:()=>a});let i=["auto","pitch","product_showcase","product_management","sales","proposal","research_report","knowledge","meeting","portfolio"],a=[5,10,15,20,25],r=["minimal","concise","detailed","extensive"],s={usecase:"auto",slideCount:5,textDensity:"concise"}},717828:(e,t,n)=>{n.d(t,{EG:()=>p,JY:()=>m,mG:()=>c,sH:()=>h,wd:()=>u});var i=n(716976),a=n(795033),r=n(985416),s=n(76635);let o={step:"NOT_STARTED",data:{deckOptions:n(451324).Jh}},l=(0,r.Wh)(()=>(0,a.um)(o,(e,t)=>{switch(t.type){case"SET_STEP":if(!function(e,t){let n="GENERATION_LOADING"===e.step||"DONE"===e.step;switch(t){case"NOT_STARTED":case"OUTLINE":return!n;case"GENERATION_LOADING":return e.data?.outline!==void 0;case"GENERATION_ON_CANVAS":return"GENERATION_LOADING"===e.step;case"DONE":return"GENERATION_LOADING"===e.step||"GENERATION_ON_CANVAS"===e.step}}(e,t.step))return e;if("NOT_STARTED"===t.step)return o;return{...e,step:t.step};case"SET_PROMPT":if(!d(e))return e;return{...e,data:{...e.data,prompt:t.prompt}};case"SET_OUTLINE":if(!d(e))return e;return{...e,data:{...e.data,outline:t.outline}};case"SET_TEMPLATE_LIBRARY_KEY":if(!d(e))return e;return{...e,data:{...e.data,templateLibraryKey:t.templateLibraryKey}};case"SET_USECASE":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,usecase:t.usecase}}};case"SET_SLIDE_COUNT":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,slideCount:t.slideCount}}};case"SET_TEXT_DENSITY":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,textDensity:t.textDensity}}}}}));function d(e){return"OUTLINE"===e.step}function c(){return(0,a.md)(l).step}function u(){switch(c()){case"NOT_STARTED":case"GENERATION_ON_CANVAS":case"DONE":return!1;case"OUTLINE":case"GENERATION_LOADING":return!0}}function p(){return(0,a.md)(l).data}function m(){let[e,t]=(0,a.fp)(l),n=i.useCallback(()=>{t({type:"SET_STEP",step:"OUTLINE"})},[t]),r=i.useCallback(()=>{t({type:"SET_STEP",step:"GENERATION_LOADING"})},[t]),s=i.useCallback(()=>{t({type:"SET_STEP",step:"GENERATION_ON_CANVAS"})},[t]),o=i.useCallback(()=>{t({type:"SET_STEP",step:"DONE"})},[t]),d=i.useCallback(()=>{t({type:"SET_STEP",step:"NOT_STARTED"})},[t]),c=i.useCallback(e=>{t({type:"SET_PROMPT",prompt:e})},[t]),u=i.useCallback(e=>{t({type:"SET_TEMPLATE_LIBRARY_KEY",templateLibraryKey:e})},[t]),p=i.useCallback(e=>{t({type:"SET_OUTLINE",outline:e})},[t]),m=i.useCallback(e=>{t({type:"SET_USECASE",usecase:e})},[t]),h=i.useCallback(e=>{t({type:"SET_SLIDE_COUNT",slideCount:e})},[t]),f=i.useCallback(e=>{t({type:"SET_TEXT_DENSITY",textDensity:e})},[t]);return{step:e.step,data:e.data,start:n,createDeck:r,showDeckGenerationOnCanvas:s,finish:o,reset:d,setPrompt:c,setOutline:p,setTemplateLibraryKey:u,setUsecase:m,setSlideCount:h,setTextDensity:f}}function h(){let{data:e,setTemplateLibraryKey:t}=m(),n=e?.templateLibraryKey,a=(0,s.WS)(),r=a.data||[],o="loaded"===a.status&&r.length>0,l=r[0],d=(0,s.S7)();return n?d=n:o&&l&&(d=l.library_key),i.useEffect(()=>{d!==n&&t(d)},[d,n,t]),d}},117739:(e,t,n)=>{n.d(t,{Gd:()=>C,g2:()=>k,M0:()=>E,Hn:()=>j,Wb:()=>T,v0:()=>w});var i=n(104076),a=n(716976),r=n(266808),s=n(264993),o=n(795033),l=n(196717),d=n(211862),c=n(141330),u=n(290407),p=n(598369),m=n(996253),h=n(388190),f=n(76635),g=n(511570),_=n.n(g),x=n(373547);function y(){let e="dark"===(0,x.DP)();return(0,i.jsx)("div",{className:_()("slides_ai_shimmer_overlay--shimmer--R2Ru3",e?"slides_ai_shimmer_overlay--shimmerDark--hd6lU":"slides_ai_shimmer_overlay--shimmerLight--PGzix")})}var v=n(257079),b=n(769887);function C(e){if(e)return e.pageGuids;let t=o.zl.get(m.V6);return(()=>{switch(t.type){case m.i6.ALL:return t.allPages;case m.i6.SINGLE:return[t.page];default:return[]}})().map(e=>e.guid)}function E(e){let t=(0,o.md)(m.bY).figjamEntryPointData,n=t?.figjamFileKey||e,i=t?.selectedGuids;return(0,a.useCallback)(()=>{if(n)return(0,b.R)({fileKey:n,selectedGuids:i})},[n,i])}function j(e){let t=(0,f.yt)(e[0]),n=(0,a.useRef)(!1);return(0,a.useCallback)(()=>{if(!o.zl.get(d.ze))return;let i=o.zl.get(l.BT);if(!n.current&&0===i.flat().length&&e.length>0){n.current=!0;let i=e[0];if(!i)return;t(i,{row:0,col:0},r.zkO.USER,"figjam-board-to-deck-default-slide",h.Ji.BOARD_TO_DECK)}},[t,e])}function w(){let e=function(){let e=(0,o.md)(m.ux),t=(0,f.WS)(),n=t.data||[],i="loaded"===t.status&&n.length>0,a=n[0],r=(0,f.S7)();return e||(i&&a?a.library_key:r)}(),t=(0,f.NG)(e),n="loaded"===t.status;return{areSlidePresetsLoaded:n,slidePresetModules:n?t.data:[]}}function T(){let e=(0,a.useRef)(null),t=(0,a.useRef)(new Set);return{showPlaceholderOverlay:(0,a.useCallback)(n=>{if(n&&n!==s.AD&&e.current!==n){for(let e of t.current)(0,p.ks)(e);e.current=n,t.current.add(n),(0,p.Vm)(n,(0,i.jsx)(y,{}))}},[]),removeAllPlaceholderOverlays:(0,a.useCallback)(()=>{for(let e of t.current)(0,p.ks)(e);t.current.clear(),e.current=null},[])}}function k(){(0,a.useEffect)(()=>()=>{let{state:e}=(0,u.pP)(c.JT.BOARD_TO_DECK);e===u.qy.RUNNING&&(0,u.cT)(c.JT.BOARD_TO_DECK),(0,v.$K)()},[])}},257079:(e,t,n)=>{n.d(t,{$K:()=>f,D0:()=>y,D1:()=>b,Sk:()=>v,Y:()=>x,tO:()=>g});var i=n(998432),a=n(772197),r=n(146283),s=n(725837),o=n(192075),l=n(58212),d=n(638641),c=n(141330),u=n(290407);let p="slides-ai-generation-started",m="slides-ai-generation-error",h="slides-ai-generation-completed";function f(){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.dequeue({matchType:m})),s.D.dispatch(l.F.dequeue({matchType:h}))}function g(){s.D.dispatch(l.F.enqueue({message:(0,o.t)("slides.present_summary.visual_bells.loading"),type:p,icon:d.zX.SPINNER,button:{text:(0,o.t)("slides.present_summary.visual_bells.stop"),action:()=>{s.D.dispatch(l.F.dequeue({matchType:p})),(0,u.cT)(c.JT.BOARD_TO_DECK)}},timeoutOverride:3e5}))}function _(e,t,n){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.enqueue({message:e,type:n,icon:t,timeoutOverride:3e3}))}function x(){_((0,o.t)("slides.present_summary.visual_bells.canceled_indirectly"),d.zX.EXCLAMATION,"slides-ai-generation-canceled")}function y(e){_(e,d.zX.EXCLAMATION,m)}function v(){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.enqueue({type:h,messageComponentKey:d.Rw.BOARD_TO_DECK_FEEDBACK,icon:d.zX.GREEN_CHECK,onDismiss:()=>{s.D.dispatch(l.F.dequeue({matchType:h}))},timeoutOverride:6e4}))}function b(e){r.k.error(e);let t={content_length_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_content_limit_exceeded"),rate_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_rate_limited"),service_issue:(0,o.t)("slides.present_summary.visual_bells.error_vendor"),offline:(0,o.t)("slides.present_summary.visual_bells.error_offline"),unsafe_or_harmful_content:(0,o.t)("slides.present_summary.visual_bells.content_moderation"),unauthorized:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),generic:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),ai_opt_out_error:(0,o.t)("slides.present_summary.visual_bells.error_opt_out"),meter_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_meter_exceeded"),create_slides_out_of_date:(0,o.t)("slides.present_summary.visual_bells.error_out_of_date"),not_implemented:(0,o.t)("ai.error.not_implemented")},n="generic";if(e instanceof a.CortexErrorV2)a.ClientContentLengthLimitExceededError.isInstance(e)||a.ProviderContentLengthLimitExceededError.isInstance(e)?n="content_length_limit_exceeded":a.ProviderRateLimitExceededError.isInstance(e)||a.ProviderOverloadedError.isInstance(e)||a.CortexRateLimitExceededError.isInstance(e)?n="rate_limit_exceeded":a.ProviderServiceIssueError.isInstance(e)||a.ProviderServiceBusyError.isInstance(e)?n="service_issue":a.OutOfDateFeatureVersionError.isInstance(e)?"create_slides"===e.featureName&&(n="create_slides_out_of_date"):a.MeterExceededError.isInstance(e)?n="meter_exceeded":a.OfflineError.isInstance(e)?n="offline":a.UnsafeOrHarmfulPromptError.isInstance(e)||a.ProviderUnsafeOrHarmfulContentError.isInstance(e)?n="unsafe_or_harmful_content":a.UnauthorizedError.isInstance(e)?n="unauthorized":a.NotImplementedError.isInstance(e)?n="not_implemented":e?.statusCode===404?n="service_issue":e?.statusCode===429||e?.statusCode===529?n="rate_limit_exceeded":e?.statusCode===403&&(n="ai_opt_out_error");else if(e instanceof i.G1)switch(e.type){case"content_length_limit_exceeded":case"rate_limit_exceeded":case"service_issue":case"create_slides_out_of_date":case"meter_exceeded":case"offline":case"unsafe_or_harmful_content":case"unauthorized":n=e.type;break;default:switch(e.data?.status){case 404:n="service_issue";break;case 429:n="rate_limit_exceeded";break;case 403:n="ai_opt_out_error"}}y(t[n]??(0,o.t)("slides.present_summary.visual_bells.error_unknown"))}},614806:(e,t,n)=>{n.d(t,{G:()=>y,V:()=>v});var i=n(104076),a=n(716976),r=n(684742),s=n(602755),o=n(803126),l=n(170627),d=n(980852),c=n(795033),u=n(674524);n(120440);var p=n(236631),m=n(192075),h=n(894210),f=n(38473),g=n(746818),_=n(996253),x=n(76635);let y="carousel-add-slide-button",v=a.forwardRef(function({recordingKey:e},t){let{toggleTemplatePicker:n,closeTemplatePicker:a}=(0,x.uu)(),v=(0,c.md)(_.Ei),b=l.nc.user("ssv-carousel",()=>{a();let e=(0,d.UN)();(0,f.oY)(e,"carousel_add_slide_button")});return(0,i.jsxs)("div",{"data-element-target":y,className:"xh8yej3 xxk0z11 x78zum5 xl56j7k",children:[(0,i.jsxs)(r.E,{ref:t,...{0:{className:"x1icplyp x1yjdb4r x78zum5 xl56j7k x6s0dn4 x1iyjqo2 x9f619 x5yr21d x71s49j xmkeg23 x1y0btm7 x7z60cl xgfja2r x11pwa6s xd3ty66 x1blczqt x1a2w583 xjppbhk x1bqy6mi"},1:{className:"x1icplyp x78zum5 xl56j7k x6s0dn4 x1iyjqo2 x9f619 x5yr21d x71s49j xmkeg23 x1y0btm7 x7z60cl xgfja2r x11pwa6s xd3ty66 x1blczqt x1a2w583 xjppbhk x1bqy6mi x30nh5c"}}[!!v<<0],onClick:n,htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,m.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":h.Ib.TEXT,"data-onboarding-key":g.MB},"aria-label":(0,m.t)("slides.carousel.add-slide-from-template"),children:[(0,i.jsx)("p",{className:p.s.noWrap.$,children:(0,m.t)("slides.carousel.new_slide")}),(0,i.jsx)(s.O,{})]}),(0,i.jsx)(r.E,{className:"x15cczae x1icplyp xmkeg23 x1y0btm7 x7z60cl x78zum5 x6s0dn4 x1ia1hqs xgs1500 x828b17 xfrllxf",onClick:b,recordingKey:(0,u.Pt)(e,"addSlideButton"),htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,m.t)("slides.carousel.add-blank-slide"),"data-tooltip-type":h.Ib.TEXT,"data-tooltip-shortcut-key":"create-slide","data-testid":"addSlideButton"},"aria-label":(0,m.t)("slides.carousel.add-blank-slide"),children:(0,i.jsx)(o.e,{})})]})})},750488:(e,t,n)=>{n.d(t,{_:()=>V,i:()=>G});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(795033),l=n(725837),d=n(653899),c=n(755444),u=n(17140),p=n(555013),m=n(192075),h=n(147046),f=n(443192),g=n(244205),_=n(422872),x=n(477536),y=n(381059),v=n(724320),b=n(354114),C=n(331497),E=n(104836),j=n(143277),w=n(563554),T=n(856520),k=n(765516),I=n(116450),S=n(61102),N=n(654200),A=n(684745),L=n(441030),O=n(382827),R=n(318145),P=n(996253),M=n(438517),D=n(944350),F=n(382137),B=n(816565);function U(){return(0,i.jsx)(B.oW,{src:(0,c.ck)("b5ff672e289f44685a5e04d3de9f17f154fb2455"),alt:"Figma Slides carousel",width:332})}var H=n(746818);function V(){let e=(0,o.Xr)(P.VZ),t=(0,O.jY)(),n=(0,A.Bk)(),{show:r,isShowing:s,complete:l}=(0,_.e)({overlay:L.Yqi,priority:j.N.HIGH_PRIORITY_MODAL}),c=(0,a.useMemo)(()=>n?[G,z,K,W,Z,q]:[G,z,K,W,q],[n]),{currentStep:u,next:p}=(0,x.A)({numSteps:c.length,onComplete:l}),m=a.useMemo(()=>{let r=()=>{p(),e(!0)},o=c.map((e,i)=>a.createElement(e,{onClickPrimaryCta:t||0!==i?p:r,onClickSecondaryCta:l,isShowing:s,totalSteps:n?5:4,isOnboarding:!0}));return t||o.splice(1,0,(0,i.jsx)(R.g,{})),o},[c,t,p,e,l,s,n]);return((0,d.h)(()=>{r()}),s&&m)?(0,i.jsx)(T.U,{currentStep:u,isShowing:s,children:m}):null}function G({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,isOnboarding:s}){let d;let _=(0,o.Xr)(P.VZ),x=(0,o.md)(y.d2),b=function(){let{getPlanAndPlanUser:e}=(0,F.wH)(),{plan:t,planUser:n}=e(D.G_.SLIDES);return t?.tier!==D.Ag.STARTER&&t?.tier!==D.Ag.STUDENT&&(n?.seatTypeLicenseTypes?.includes(D.G_.SLIDES)??!1)}(),C=(0,r.wA)(),j=x.data===w.qo.ORG,T=o.zl.get(v.Z),k=o.zl.get(E.Me),S=l.D.getState().openFile,N=!S||!S.canEdit,A=(0,c.sL)(),L=(0,u.lt)({currentOrg:T,currentTeam:k,isViewer:N,file:S}),O="/sub-processors/",R="/ssa/",M="ja"===(0,c.mm)()[0]?(0,m.tx)("slides.onboarding.welcome.title.jp"):(0,m.tx)("slides.onboarding.welcome.title");d=b?(0,m.tx)("slides.onboarding.ga.billable_seat.welcome.description"):(0,m.tx)("slides.onboarding.ga.welcome.description");let B=j?L?(0,m.tx)("slides.onboarding.welcome.org.footer.no_ai",{services_agreement:(0,i.jsx)(p.CY,{href:R,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.services_agreement")})}):(0,m.tx)("slides.onboarding.welcome.org.footer.ai",{subprocessors:(0,i.jsx)(p.CY,{href:O,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.subprocessors")}),services_agreement:(0,i.jsx)(p.CY,{href:R,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.services_agreement")})}):L?void 0:(0,m.tx)("slides.onboarding.welcome.starter.footer",{subprocessors:(0,i.jsx)(p.CY,{href:O,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.subprocessors")})});(0,a.useEffect)(()=>{s&&!A&&C?.(f.b({seen_slides_onboarding:!1}))});let H=()=>{e(),C?.(f.b({seen_slides_onboarding:!0,...!A&&{agreed_to_slides_ai_terms:!0}})),s&&_(!0)},V=()=>{if(A){H();return}C?.(h.sf({view:"recentsAndSharing"})),t()};return N?null:(0,i.jsx)(I._l,{description:(0,i.jsx)("span",{style:{whiteSpace:"pre-line"},children:d}),disclaimerFooter:A?void 0:B,isShowing:n,media:(0,i.jsx)(U,{}),onClose:V,preventUserClose:!A,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.primary_cta"),onClick:H,ctaTrackingDescriptor:g.c.NEXT},secondaryCta:A?void 0:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.secondary_cta"),onClick:V,ctaTrackingDescriptor:g.c.CLOSE},title:M,trackingContextName:"Slides Onboarding > Welcome"})}function z({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:a}){let r=(0,C.ut)(s.Ez5?.singleSlideView().isInFocusedNodeView,!0);return(0,i.jsx)(S.rq,{arrowPosition:N.F_.BOTTOM,description:(0,m.tx)("slides.onboarding.new_slide.description"),isShowing:n,media:(0,i.jsx)(k.y,{src:(0,c.ck)("2811dcf7f07f10fbc8543106336765058bc83266"),alt:"slides template picker",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),r&&s.Ez5?.singleSlideView().exitFocusedNodeViewAndLeavePanelsOpen()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:1,totalNumSteps:a},targetKey:H.MB,title:(0,m.tx)("slides.onboarding.new_slide.title"),trackingContextName:"Slides Onboarding > New Slide"})}function K({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:a}){return(0,i.jsx)(S.rq,{description:(0,m.tx)("slides.onboarding.views.description"),isShowing:n,media:(0,i.jsx)(k.y,{src:(0,c.ck)("8ad8b13cac28f9fb6eaaed9cad7c621684fadd6b"),alt:"Grid view in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{b.Y5.triggerAction("enter-focus-view"),e()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:2,totalNumSteps:a},targetKey:H.b_,title:(0,m.tx)("slides.onboarding.views.title"),trackingContextName:"Slides Onboarding > Views"})}function W({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:a}){let r=(0,A.Bk)(),o=(0,M.E)();return(0,i.jsx)(S.rq,{description:(0,m.tx)("slides.onboarding.nondesigner.tools.description"),isShowing:n,media:(0,i.jsx)(k.y,{src:(0,c.ck)("aca6af2d36ffc1a4f65a12247f598a7598a530b7"),alt:"Apps in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),r&&o(s.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:N.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:3,totalNumSteps:a},targetKey:H.hx,title:(0,m.tx)("slides.onboarding.nondesigner.tools.title"),trackingContextName:"Slides Onboarding > Tools"})}function Z({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:n,totalSteps:a}){let r=(0,M.E)();return(0,i.jsx)(S.rq,{description:(0,m.tx)("slides.onboarding.designer.tools.description"),isShowing:n,media:(0,i.jsx)(k.y,{src:(0,c.ck)("5064800f3f60febf8b2ad2ad8ba4efdd6167eeaa"),alt:"Design tool toggle",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),r(s.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:N.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:4,totalNumSteps:a},targetKey:H.uy,title:(0,m.tx)("slides.onboarding.designer.tools.title"),trackingContextName:"Slides Onboarding > Design Mode"})}function q({onClickSecondaryCta:e,isShowing:t,totalSteps:n}){return(0,i.jsx)(S.rq,{description:(0,m.tx)("slides.onboarding.share.description"),isShowing:t,media:(0,i.jsx)(k.y,{src:(0,c.ck)("a3ed241305c3e13d9ec5cab6e9a88db7572695c5"),alt:"presenter mode in Slides",aspectRatio:240/135}),onClose:e,onTargetLost:e,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.done"),onClick:e,ctaTrackingDescriptor:g.c.DONE},shouldDisableAnimation:!0,stepCounter:{stepNum:n,totalNumSteps:n},targetKey:H.J5,title:(0,m.tx)("slides.onboarding.share.title"),trackingContextName:"Slides Onboarding > Present"})}},166375:(e,t,n)=>{n.d(t,{AC:()=>h,D0:()=>_,Mp:()=>x,Z4:()=>g,sQ:()=>f,tx:()=>p,xl:()=>m});var i=n(716976),a=n(903927),r=n(266808),s=n(883765),o=n(553065),l=n(211862),d=n(76365),c=n(237400);function u(){let e=(0,l.tS)()??"",t=(0,c.Jb)()??"",n=(0,a.d4)(d.AF);return{fileKey:e,slideId:t,nodeId:n?.guid}}function p(){let e=u();return i.useCallback((t,n)=>{s.az.trackDefinedEvent("slides.modify_object_animation.type",{...e,oldValue:t,newValue:n})},[e])}function m(){let e=u();return i.useCallback((t,n)=>{s.az.trackDefinedEvent("slides.modify_object_animation.duration",{...e,oldValue:t,newValue:n})},[e])}function h(){let e=u();return i.useCallback((t,n)=>{let i=e=>void 0===e?void 0:(0,o.gl)(e)?"MIXED":e===r.luZ.TRIGGER?"TRIGGER":"AFTER_PREVIOUS";s.az.trackDefinedEvent("slides.modify_object_animation.start_condition",{...e,oldValue:i(t),newValue:i(n)})},[e])}function f(){let e=u();return i.useCallback((t,n)=>{s.az.trackDefinedEvent("slides.modify_object_animation.phase",{...e,oldValue:t,newValue:n})},[e])}function g(){let e=u();return i.useCallback(()=>{s.az.trackDefinedEvent("slides.reorder_object_animation",e)},[e])}function _(){let e=u();return i.useCallback(()=>{s.az.trackDefinedEvent("slides.delete_object_animation",e)},[e])}function x(){let e=u();return i.useCallback(t=>{s.az.trackDefinedEvent("slides.preview_object_animation",{...e,numAnimations:t})},[e])}},566122:(e,t,n)=>{n.d(t,{eB:()=>u,hT:()=>c,kP:()=>i,uc:()=>p});var i,a=n(158402),r=n(382629),s=n(638004),o=n(266808),l=n(264993),d=n(550209),c=(e=>(e.SECTION_HEADER="section header",e.ANIMATION="animation",e))(c||{});function u(e){return"section header"===e.type}function p(e){return"animation"===e.type}(e=>{let t="CUSTOM_CUBIC",n=[.17,0,.2,1];function i(e,t){let n=t??(0,l.sH)(o.glU?.generateUniqueID());if(!n)throw Error("Failed to generate unique ID for object animation interaction");return{id:n,event:{interactionType:"ON_CLICK"},actions:e}}e.fromPrototypeInteractions=function(e){let i=[],a=0;for(let s of e){if(!s.id)continue;let e=s.id,l=(s.actions||[]).map(e=>"OBJECT_ANIMATION"===e.connectionType&&e.transitionNodeID&&void 0!==e.animationType&&"NONE"!==e.animationType?{connectionType:e.connectionType,transitionNodeID:e.transitionNodeID,transitionDuration:e.transitionDuration??.3,animationType:e.animationType,animationPhase:e.animationPhase??"IN",easingType:e.easingType??t,easingFunction:e.easingFunction??n}:null).filter(r.Vq);0!==l.length&&(l.forEach((t,n)=>{0===n?(i.push({type:"section header",interactionIndex:a}),i.push({type:"animation",action:t,startCondition:o.luZ.TRIGGER,interactionId:e,interactionIndex:a})):i.push({type:"animation",action:t,startCondition:o.luZ.AFTER_PREVIOUS,interactionId:e,interactionIndex:a})}),a++)}return i.length>0&&i.push({type:"section header",interactionIndex:a}),i},e.toPrototypeInteractions=function(e){let t=[],n=null;for(let c of function(e){let t=new Set,n=new Set;return e.map(e=>{if(u(e))return null;if("OBJECT_ANIMATION"!==e.action.connectionType||!e.action.transitionNodeID)return(0,d.$D)(s.e.SLIDES,Error("Invalid object animation action"),{extra:{action:e.action}}),null;let n=(0,a.Gu)(e.action.transitionNodeID);return n?t.has(n)?((0,d.$D)(s.e.SLIDES,Error("Duplicate object animation transition node ID found:"),{extra:{action:e.action}}),null):(t.add(n),e):null}).filter(r.Vq).map((e,t)=>{if(0===t&&e.startCondition!==o.luZ.TRIGGER){let t=(0,l.sH)(o.glU?.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,startCondition:o.luZ.TRIGGER,interactionId:t,interactionIndex:0}}if(e.startCondition!==o.luZ.TRIGGER)return e;{let t=(0,a.Gu)(e.interactionId);if(!(!t||n.has(t)))return n.add(t),e;{let t=(0,l.sH)(o.glU?.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,interactionId:t}}}})}(e))if(c.startCondition===o.luZ.TRIGGER)n=i([c.action],c.interactionId),t.push(n);else{if(!n)throw Error("Expected current interaction to be non-null");n.actions?.push(c.action)}return t},e.createBaseInteraction=i,e.createTestAction=function(e){return{connectionType:"OBJECT_ANIMATION",transitionNodeID:(0,l.sH)(e),transitionDuration:.3,animationType:"FADE",animationPhase:"IN",easingType:t,easingFunction:n}}})(i||(i={}))},133662:(e,t,n)=>{n.d(t,{E:()=>_,l:()=>x});var i=n(104076),a=n(903927),r=n(158402),s=n(307829),o=n(266808),l=n(170627),d=n(437540),c=n(278491),u=n(330378),p=n(354114),m=n(516954),h=n(166375),f=n(566122),g=n(897692);function _({boundingRect:e,selectedView:t,targetObjectAnimation:n}){let r=(0,a.wA)(),{appModel:s,sceneGraph:o,sceneGraphSelection:l}=(0,d.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),{slideId:u,targetNodeId:p}=n,h=y({sceneGraph:o,slideId:u,targetNodeId:p}),f={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height,width:e.width,height:e.height};return(0,i.jsx)("div",{className:c.Dm,children:(0,i.jsx)(m.Q,{appModel:s,dispatch:r,lean:"left",menuItems:h,recordingKey:"slidesAnimationContextMenu",removeDisabledItems:!0,sceneGraph:o,sceneGraphSelection:l,selectedView:t,showPoint:!1,targetRect:f})})}function x({targetObjectAnimation:e,manager:t}){let{sceneGraph:n}=(0,d.R)(e=>({sceneGraph:e.mirror.sceneGraph})),{slideId:a,targetNodeId:r}=e,o=y({sceneGraph:n,slideId:a,targetNodeId:r});return(0,i.jsx)(s.bL,{manager:t,children:(0,i.jsx)(s.mc,{children:o.map(e=>(0,i.jsx)(s.q7,{onClick:()=>{e.callback&&e.callback()},children:(0,u.A)(e.name)},e.name))})})}function y({sceneGraph:e,slideId:t,targetNodeId:n}){let i=[],a=e.get(t),s=a?.objectAnimations??[],d=f.kP.fromPrototypeInteractions(s),c=(0,h.Z4)(),u=(0,h.D0)(),m=d.findIndex(e=>(0,f.uc)(e)&&(0,r.Gu)(e.action.transitionNodeID)===n);if(m<0)return i;let _=d[m];if(!a||!_)return i;let x=d[m-1],y=d[m+1];if(x&&(0,f.eB)(x)){let e=d[m-2];e&&(0,f.uc)(e)&&i.push({name:"slides-merge-object-animation-with-above",callback:()=>{l.l7.user("slides-merge-object-animation-with-above",()=>{let t=(0,g.Eo)(_,e,x,d);t&&(c(),a.objectAnimations=t)})}})}if(_.startCondition===o.luZ.TRIGGER&&y&&(0,f.eB)(y)){let e=d[m+2];e&&(0,f.uc)(e)&&i.push({name:"slides-merge-object-animation-with-below",callback:()=>{l.l7.user("slides-merge-object-animation-with-below",()=>{let t=(0,g.Eo)(_,y,e,d);t&&(c(),a.objectAnimations=t)})}})}return _.startCondition===o.luZ.AFTER_PREVIOUS&&(!y||(0,f.eB)(y))&&i.push({name:"slides-separate-object-animation",callback:()=>{l.l7.user("slides-separate-object-animation",()=>{let e=(0,g.zQ)(_,{type:f.hT.SECTION_HEADER,interactionIndex:_.interactionIndex+1},d);e&&(c(),a.objectAnimations=e)})}}),i.push({name:"slides-delete-object-animation",callback:()=>{l.l7.user("slides-delete-object-animation",()=>{u(),a.removeObjectAnimation(n),p.Y5.commit()})},recordingKey:"delete"}),i}},897692:(e,t,n)=>{n.d(t,{Eo:()=>c,zQ:()=>d});var i=n(667693),a=n(266808),r=n(264993),s=n(246144),o=n(566122);function l(e,t){if(!e&&!t)return!0;if(e&&t){if((0,o.uc)(e)&&(0,o.uc)(t))return(0,i.c2)(e.action.transitionNodeID,t.action.transitionNodeID);if((0,o.eB)(e)&&(0,o.eB)(t))return e.interactionIndex===t.interactionIndex}return!1}function d(e,t,n){let i=[];for(let s of n)l(s,e)||(l(s,t)?(i.push({...e,startCondition:a.luZ.TRIGGER,interactionId:r.Hr}),i.push(t)):i.push(s));let s=i.map((e,t,n)=>{let i=t-1>=0&&n[t-1]&&(0,o.eB)(n[t-1]);return(0,o.uc)(e)&&i?{...e,startCondition:a.luZ.TRIGGER}:e});return o.kP.toPrototypeInteractions(s)}function c(e,t,n,i){if(l(e,t)||l(e,n))return o.kP.toPrototypeInteractions(i);if(!function(e,t,n){let i=n.findIndex(t=>l(t,e)),a=n.findIndex(e=>l(e,t));return void 0===e&&0===a||void 0===t&&i===n.length-1||-1!==i&&-1!==a&&i+1===a}(t,n,i))return(0,s.x1)("Slides reorder object animations","prevItem and nextItem are not in the correct order",{prevItem:t,nextItem:n,oldItems:i},{reportAsSentryError:!0}),null;for(let e=0;e<i.length;e++)if(l(i[e],t)){if(!l(i[e+1],n))return null;break}let r=[];for(let s of i)l(s,e)||(t&&l(s,t)?(r.push(t),r.push({...e,startCondition:(0,o.uc)(t)?a.luZ.AFTER_PREVIOUS:a.luZ.TRIGGER})):n&&l(s,n)&&(0,o.uc)(n)?r.push({...n,startCondition:a.luZ.AFTER_PREVIOUS}):r.push(s));return o.kP.toPrototypeInteractions(r)}},907884:(e,t,n)=>{n.d(t,{$3:()=>T,Ay:()=>k,dk:()=>j,gv:()=>I,k0:()=>w});var i=n(716976),a=n(998432),r=n(772197),s=n(170627),o=n(264993),l=n(980852),d=n(795033),c=n(725837),u=n(328341),p=n(192075),m=n(58212),h=n(638641),f=n(20267),g=n(141330),_=n(290407),x=n(20226),y=n(20415);class v extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedSlideError",this.type="switched_slide"}}class b extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedToGridViewError",this.type="switched_to_grid_view"}}class C extends Error{constructor(){super(),this.reportToSentry=!1,this.name="NotEnoughContentError",this.type="not_enough_content"}}class E extends Error{constructor(){super(),this.reportToSentry=!1,this.name="UneditedSlideError",this.type="unedited_slide"}}let j=[v,C,E,a.G1,r.CortexErrorV2];function w(e,t){let n=function(e){if(e instanceof v)return(0,p.t)("slides.speaker_notes.error.switched-slides");if(e instanceof b)return(0,p.t)("slides.speaker_notes.error.switched-to-grid-view");if(e instanceof C)return(0,p.t)("slides.speaker_notes.error.add-more-content");if(e instanceof E)return(0,p.t)("slides.speaker_notes.error.unmodified_slide");if(!(e instanceof a.G1||e instanceof r.CortexErrorV2))return(0,p.t)("slides.speaker_notes.error.default");if(e instanceof r.PayloadTooLargeError)return(0,p.t)("slides.speaker_notes.error.payload_too_large");let t={offline:(0,p.t)("slides.speaker_notes.error.connection"),rate_limit_exceeded:(0,p.t)("slides.speaker_notes.error.rate_limit"),text_tool_no_text:(0,p.t)("slides.speaker_notes.error.add-more-content"),content_length_limit_exceeded:(0,p.t)("slides.speaker_notes.error.token_limit"),payload_too_large:(0,p.t)("slides.speaker_notes.error.payload_too_large"),unsafe_or_harmful_content:(0,p.t)("slides.speaker_notes.error.inappropriate_input"),service_issue:(0,p.t)("slides.speaker_notes.error.openai_down"),ai_opt_out_error:(0,p.t)("slides.speaker_notes.error.opt_out"),unauthorized:(0,p.t)("slides.speaker_notes.error.default"),generic:(0,p.t)("slides.speaker_notes.error.default"),not_implemented:(0,p.t)("ai.error.not_implemented")};if((0,f._0)(e)){let t=(0,f.PI)(e);return t?(0,p.t)("slides.speaker_notes.error.meter_limit",{resetDate:t}):(0,p.t)("slides.speaker_notes.error.rate_limit")}return t[function(e){if(e instanceof r.CortexErrorV2){if(r.ClientContentLengthLimitExceededError.isInstance(e)||r.ProviderContentLengthLimitExceededError.isInstance(e))return"content_length_limit_exceeded";if(r.MeterExceededError.isInstance(e))return"meter_exceeded";if(r.ProviderRateLimitExceededError.isInstance(e)||r.ProviderOverloadedError.isInstance(e)||r.CortexRateLimitExceededError.isInstance(e))return"rate_limit_exceeded";if(r.ClientNoTextSelectedError.isInstance(e))return"text_tool_no_text";else if(r.ProviderServiceIssueError.isInstance(e)||r.ProviderServiceBusyError.isInstance(e))return"service_issue";else if(r.OfflineError.isInstance(e))return"offline";else if(r.UnsafeOrHarmfulPromptError.isInstance(e)||r.ProviderUnsafeOrHarmfulContentError.isInstance(e))return"unsafe_or_harmful_content";else if(r.UnauthorizedError.isInstance(e))return"unauthorized";else if(r.NotImplementedError.isInstance(e))return"not_implemented";else if(e?.statusCode===404)return"service_issue";else if(e?.statusCode===429||e?.statusCode===529)return"rate_limit_exceeded";else if(e?.statusCode===403)return"ai_opt_out_error"}else if(e instanceof a.G1)switch(e.type){case"content_length_limit_exceeded":case"payload_too_large":case"meter_exceeded":case"rate_limit_exceeded":case"text_tool_no_text":case"service_issue":case"offline":case"unsafe_or_harmful_content":case"ai_opt_out_error":case"unauthorized":return e.type;case"generic":switch(e.data?.status){case 404:return"service_issue";case 429:return"rate_limit_exceeded";case 403:return"ai_opt_out_error"}}return"generic"}(e)]||(0,p.t)("slides.speaker_notes.error.default")}(e),i=function(e){switch(e.type){case"meter_exceeded":case"content_length_limit_exceeded":case"payload_too_large":case"service_issue":case"ai_opt_out_error":case"unsafe_or_harmful_content":case"switched_slide":case"switched_to_grid_view":case"not_enough_content":case"unedited_slide":return!1;default:return!0}}(e);c.D.dispatch(m.F.enqueue({icon:h.zX.CLOSE_FILLED,message:n,type:"speaker-notes-visual-bell",button:i&&t?{text:(0,p.t)("slides.speaker_notes.draft_again"),action:()=>t()}:void 0,onDismiss:()=>{}}))}function T(e){let t=(0,l.UN)().get(e);if(t&&t.editInfo&&t?.editInfo?.createdAt===t?.editInfo?.lastEditedAt)throw new E}function k(e){if(0===e.length)throw new C}function I(e,t){let n=(0,u.ZC)(e),a=n!==e&&(0,o.fn)((0,o.sH)(e))&&(0,o.fn)((0,o.sH)(n)),r=(0,u.ZC)(t)!==t&&!t;(0,i.useEffect)(()=>{(0,_.pP)(g.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===_.qy.RUNNING&&n&&(a?S(new v,n):r&&S(new b,n))},[r,a,n])}function S(e,t){(0,_.cT)(g.JT.SLIDES_GENERATE_SPEAKER_NOTES),w(e);let n=d.zl.get(x.TD);if(t&&n){let e=JSON.stringify(n.toJSON());s.l7.ai("generate-slide-speaker-notes",()=>{(0,y.lq)(t,e)})}}},572253:(e,t,n)=>{n.d(t,{O:()=>E});var i=n(638004),a=n(266808),r=n(980852),s=n(812714),o=n(795033),l=n(725837),d=n(550209),c=n(138421),u=n(178623),p=n(20267),m=n(354114),h=n(141330),f=n(290407),g=n(714136),_=n(20226),x=n(625635),y=n(907884),v=n(125715),b=n(20415);let C=e=>{let t=(0,c.mz)(),n=(0,r.UN)().get(e);if(!n)return t;let i=n.absoluteTransform.m12,a=n.absoluteBoundingBox.h,s=.1*a,o=i+s,l=i+a-s;return t.filter(e=>(0,b.O)(e,24,o,l))},E=async({params:e,abortController:t,clientLifecycleId:n})=>{let{source:r}=e,c=l.D.getState().openFile?.key,j=o.zl.get(_.ed),w=o.zl.get(_.hD);if(!w){(0,d.$D)(i.e.AI_PRODUCTIVITY,Error("Editor is null when trying to generate speaker notes"));return}let T=w.getEditorState();o.zl.set(_.TD,T);let k=(a.Ez5?.editorPreferences().speakerNotesHeight.getCopy()??0)===0;(0,v.x)({eventName:"started",fileKey:c,slideId:j,source:r});let I=!1;try{let e;(0,y.$3)(j),a.Ez5?.singleSlideView()&&k&&(0,b.ud)(a.CNR?.initialSpeakerNotesHeightInViewport()??0),w.setEditorState(w.getEditorState());let i={...(0,p.Ay)(),clientLifecycleId:n},r=C(j);(0,y.Ay)(r),(0,b.gH)();let o=r.map(e=>({text:e.characters,x:e.absoluteTransform.m02,y:e.absoluteTransform.m12}));(0,s.kc)().figjam_ai_piper_speaker_notes_image_filtering?(0,x.yU)(j)&&(e=await (0,b.Yu)(j),I=!0):(e=await (0,b.Yu)(j),I=!0);let l={texts:o,image:e},d=await u.Ay.slides.speakerNotes(l,i),h=new u.c6(d);if(t.signal.aborted){(0,v.x)({eventName:"stopped",fileKey:c,slideId:j,imageIncluded:I});return}let f="";for await(let e of h){if(t.signal.aborted){(0,v.x)({eventName:"stopped",fileKey:c,slideId:j,imageIncluded:I});return}f+=e.delta,(f=f.replace(/(.) -/g,"$1\n -")).length>0&&(0,b.hp)(f,"history-merge")}m.Y5.commit(),(0,v.x)({eventName:"finished",fileKey:c,slideId:j,imageIncluded:I});return}catch(e){w.setEditorState(T),(0,y.k0)(e,()=>{(function(){let e=v.f.TRY_AGAIN;o.zl.set(g.zF,e),(0,f.B3)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,f.Ag)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES,E,{source:e})})()}),(0,v.x)({eventName:"failed",fileKey:c,slideId:j,imageIncluded:I,errorType:e.type||e.marker}),(0,f.cT)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES),y.dk.some(t=>e instanceof t)||(0,d.$D)(i.e.AI_PRODUCTIVITY,Error(`Unexpected error encountered while generating speaker notes: ${e.message}`));return}}},125715:(e,t,n)=>{n.d(t,{f:()=>a,x:()=>r});var i=n(883765),a=(e=>(e.QUICK_ACTIONS="quick_actions",e.EDITOR_PLACEHOLDER="editor_placeholder",e.TRY_AGAIN="try_again",e))(a||{});function r(e){(0,i.sx)("slides_generate_speaker_notes_event",e)}},20415:(e,t,n)=>{n.d(t,{B_:()=>v,Hk:()=>C,O:()=>j,Yu:()=>w,ap:()=>y,gH:()=>x,hp:()=>g,k8:()=>b,lq:()=>_,ud:()=>E});var i=n(716976),a=n(638004),r=n(266808),s=n(594532),o=n(980852),l=n(725694),d=n(371868),c=n(795033),u=n(801519),p=n(246144),m=n(141330),h=n(290407),f=n(20226);function g(e,t="history-push"){let n=c.zl.get(f.hD);n&&n.update(()=>{(0,l.Wn)(e,[l.mK,l.NB])},{tag:t})}function _(e,t){let n=(0,o.UN)().get(e);if(n)try{n.slideSpeakerNotes=t}catch(e){(0,p.x1)(a.e.SLIDES,"Failed to set slide speaker notes",{error:e})}}function x(){let e=c.zl.get(f.hD);e&&e.dispatchCommand(u.SK,void 0)}function y(){let[e]=(0,d.DF)(),t=(0,c.Xr)(f.hD);return(0,i.useEffect)(()=>{t(e)},[e,t]),null}function v(){let[e]=(0,d.DF)(),t=b();return(0,i.useEffect)(()=>{t?e.setEditable(!1):e.setEditable(!0)},[e,t]),null}function b(){return(0,h.wj)(m.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===h.qy.RUNNING}function C(){r.Ez5?.editorPreferences().speakerNotesHeight.set(0)}function E(e){r.Ez5?.editorPreferences().speakerNotesHeight.set(e)}function j(e,t,n,i){let a=e.absoluteTransform.m12>n&&e.absoluteTransform.m12+e.absoluteBoundingBox.h<i,r=e.fontSize>t;return e.visible&&(r||a)}async function w(e){let t=(0,o.UN)().get(e);if(t)return await (0,s.v)(t)}},238801:(e,t,n)=>{n.d(t,{f:()=>r});var i=n(104076),a=n(268389);function r({height:e}){return(0,i.jsx)(a.nB,{children:(0,i.jsx)("div",{style:{height:e},children:"Temporary Placeholder Body"})})}},127769:(e,t,n)=>{n.d(t,{q:()=>tA});var i,a=n(104076),r=n(716976),s=n(795033),o=n(470876),l=n(996253),d=n(511570),c=n.n(d),u=n(755444),p=n(72138),m=n(236631),h=n(192075),f=n(211862),g=n(717828),_=n(284467),x=n(388190),y=n(76635),v=n(903927),b=n(276800),C=n(684742),E=n(266808),j=n(170627),w=n(926653),T=n(120440),k=n(686549),I=n(361170),S=n(816565),N=n(679359),A=n(977159),L=n(489175),O=n(249586),R=n(411017),P=n(757887),M=n(96329),D=n(592726),F=n(82483),B=n(40133),U=n(20226),H=n(616802);let V=(0,A.f)();function G({module:e,...t}){let n=(0,D.TA)(),i=(0,y.r$)(),o=(0,s.Xr)(l.VZ),d=(0,s.Xr)(l.Ei),u=(0,s.md)(U.v2),p=(0,f.tS)(),h=(0,v.wA)(),g="insert-slide-module",_=(0,H.D)(e.library_key),b=j.nc.user(g,(t,n,a)=>{(0,x.CH)({module:e,viewType:i,getGridCoord:E.Ez5?.getInsertGridCoord??(()=>({row:0,col:0})),dispatch:h,subscribeToLibrary:_})(t,n,a)}),{onInsertableResourcePointerDown:C,dragState:w}=(0,M.j)({resource:e,isList:!1,sourceForTracking:"slides-templates-panel",clickToInsert_DEPRECATED:!0,insertAsChildOfCanvas:!0,insertionCallback:b,afterSuccessfulInsert:()=>{d(!1),o(!1)},selectAfterInsert:!1}),T=j.nc.user(g,C),S=r.useMemo(()=>u?new I.Mi(E.CNR?.singleSlideThumbnailWidth()??0,E.CNR?.singleSlideThumbnailHeight()??0):void 0,[u]),N=r.useMemo(()=>{let t=e.thumbnail_url;if(t)return n?(0,k.NQ)(t,"fuid",n):t},[e.thumbnail_url,n]);return(0,a.jsxs)("div",{className:c()(m.s.flex.alignCenter.justifyCenter.gap8.$,{"slides_template_tile--moduleCoverCardPicker--IvByg slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardPickerSize--AAEPk":i===x.Ji.PICKER||i===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--moduleCoverCardModal--llMPw slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardModalSize--1-jSe":i===x.Ji.OVERLAY_MODAL,"slides_template_tile--gridViewHover--dEaa-":!u}),children:[(0,a.jsx)(P.q,{dragState:i===x.Ji.PICKER?w:null,isList:!1,overrideDragPreviewSize:S}),(0,a.jsx)(z,{thumbnailUrl:N,onPointerDown:t=>{T(t),(0,O.Cu)({moduleId:e.id,moduleFileKey:V(e),fileKey:p,name:"slide_template_tile",productType:"slides"})},"aria-label":t["aria-label"]},e.node_id)]})}function z({name:e,thumbnailUrl:t,thumbnailWidth:n,thumbnailHeight:i,onPointerDown:r,showLoadingSpinner:s=!1,disabled:o=!1,removeBorder:l=!1,...d}){return(0,a.jsxs)(C.E,{className:c()(m.s.flex.flexColumn.itemsStart.hFull.wFull.$,"slides_template_tile--tileFocusable--MRUA5"),onClick:o?void 0:r,actionOnPointerDown:!0,"aria-label":d["aria-label"],htmlAttributes:{"data-testid":"insertableSlideTile"},children:[(0,a.jsxs)("div",{...{0:{className:"x78zum5 x1n2onr6 xb3r6kr xl56j7k x6s0dn4"},1:{className:"x78zum5 x1n2onr6 xb3r6kr xl56j7k x6s0dn4 x9f619 xmkeg23 x1y0btm7 x7z60cl x1sxf85j"}}[!l<<0],style:{width:n??"100%",height:i??"100%"},children:[s&&(0,a.jsx)(N.kt,{className:"slides_template_tile--loadingSpinner--i0gem"}),(0,a.jsx)(S.oW,{onDragStart:L.wo,className:"slides_template_tile--tileImage--xQ9Rj",src:t,alt:e,loading:"lazy"})]}),e&&(0,a.jsx)("div",{className:m.s.font11.fontInter.colorTextSecondary.$,children:e})]})}function K({text:e,dataTestId:t,onPointerDown:n,imageContainerContent:i,additionalClassname:r,showSelectedState:o=!1}){let d=(0,y.r$)(),u=(0,s.md)(l.bY);return(0,a.jsx)("div",{"data-testid":t,className:c()(m.s.p8.$,r),children:(0,a.jsx)(F.sU,{image:(0,a.jsx)("div",{onPointerDown:n,children:(0,a.jsx)(F.WM,{className:c()({"slides_template_tile--templateCoverCardLarge--aUi8S slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardLargeSize--lWeyZ":d===x.Ji.PICKER||d===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverCardMedium--D1xOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardMediumSize--dZ4FH":d===x.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardExtraLarge--9llOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardExtraLargeSize---WVL9":u.type===l.Vf.TEMPLATE_PICKER,"slides_template_tile--selectedTemplateTile---grt1":o}),removeBorder:!0,backgroundColor:"none",children:i})}),bottomRow:(0,a.jsx)(F.dY.MetadataContainer,{children:(0,a.jsx)(F.dY.TextMetadataLayout,{onClick:n,primaryText:(0,a.jsx)("div",{className:m.s.font11.colorText.ellipsis.overflowHidden.$,children:e})})}),bottomRowClassName:c()({"slides_template_tile--templateCoverBottomRowLarge--jYVZ6":d===x.Ji.PICKER||d===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverBottomRowMedium--jnOVs":d===x.Ji.OVERLAY_MODAL})})})}function W({template:e}){return(0,s.md)(l.bY).type===l.Vf.TEMPLATE_PICKER?(0,a.jsx)(Z,{template:e}):(0,a.jsx)(q,{template:e})}function Z({template:e}){let{name:t,imageUrl:n,libraryKey:i}=(0,R.fG)()(e),[r,o]=(0,s.fp)(l.ux);if(!i)return null;let d=()=>o((0,w.l)(i));return(0,a.jsx)(K,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:d,imageContainerContent:(0,a.jsx)(z,{thumbnailUrl:n,onPointerDown:d,removeBorder:r===(0,w.l)(i)},t),additionalClassname:"slides_template_tile--hoverableTemplateTile--meERX",showSelectedState:r===(0,w.l)(i)})}function q({template:e}){let{name:t,imageUrl:n,libraryKey:i}=(0,R.fG)()(e),r=(0,s.Xr)(l.bY),o=(0,y.r$)(),d=(0,s.md)(l.bY),c=(0,g.JY)(),u=(0,s.Xr)(l.DM);if(!i)return null;let p=e=>{e.stopPropagation(),i&&((0,O.Cu)({fileKey:i,name:"template_cover_tile",productType:"slides"}),o===x.Ji.OUTLINE_TO_DECK?(c.setTemplateLibraryKey((0,w.l)(i)),u(!1)):r({type:l.Vf.TEMPLATE,libraryKey:i,parentView:d}))},m=o===x.Ji.OUTLINE_TO_DECK?"Select template":(0,h.tx)("slides.templates.view_template");return(0,a.jsx)(K,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:p,imageContainerContent:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Wh.Cover,{children:(0,a.jsx)("div",{className:"slides_template_tile--hoverOverlay--m7upM"})}),(0,a.jsx)(F.Wh.Center,{children:(0,a.jsx)(B.i,{insertTemplate:b.lQ,isInsertingTemplate:!1,shouldUseOpaqueBackground:!0,children:m})}),(0,a.jsx)(z,{thumbnailUrl:n,onPointerDown:p},t)]})})}function X({modules:e}){let{onShowSeparatorScroll:t}=(0,y.gH)();if(!e.length)return null;let n=e[0].library_key;return(0,a.jsx)(p.P,{className:m.s.px16.hFull.$,onScroll:t,children:(0,a.jsx)(Q,{children:e.map((t,n)=>(0,a.jsx)(G,{module:t,"aria-label":(0,h.t)("slides.templates.template_picker.slide_button.aria_label",{index:n+1,total:e.length})},t.id))},n)})}function Y({children:e}){return(0,a.jsx)("div",{className:m.s.flex.flexWrap.pb8.gap0.$,children:e})}function J({title:e,children:t,rightHeaderCta:n}){let i=e||!!n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:c()({[m.s.flex.justifyBetween.alignLeft.itemsCenter.pt16.pb8.px8.$]:i}),children:[e&&(0,a.jsx)("div",{className:m.s.font13.colorText.fontSemiBold.fontInter.noWrap.overflowHidden.ellipsis.pr4.$,children:e}),n]}),(0,a.jsx)(Y,{children:t})]})}function Q({children:e}){return(0,a.jsx)("div",{className:m.s.flex.flexWrap.pb16.gap8.$,children:e})}var $=n(692769);let ee="loading_state--container--ouiBF";function et(){let e=(0,y.r$)(),t=(0,s.md)(l.bY),n=c()({"slides_template_tile--templateCoverCardMediumSize--dZ4FH":e===x.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardLargeSize--lWeyZ":e===x.Ji.PICKER||e===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverCardExtraLargeSize---WVL9":t.type===l.Vf.TEMPLATE_PICKER},m.s.m8.$);return(0,a.jsx)(_.Qp,{className:n,animationType:_.JR.LIGHT_SHIMMER})}function en(){let e=(0,y.r$)(),t=c()({"slides_template_tile--moduleCoverCardPickerSize--AAEPk":e===x.Ji.PICKER||e===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--moduleCoverCardModalSize--1-jSe":e===x.Ji.OVERLAY_MODAL});return(0,a.jsx)(_.Qp,{className:t,animationType:_.JR.LIGHT_SHIMMER})}function ei(){return(0,a.jsx)(_.Qp,{className:c()("loading_state--title--YIpQO",m.s.m8.$),animationType:_.JR.LIGHT_SHIMMER})}function ea({removePadding:e=!1,numSections:t=3,numTemplates:n}){let i=(0,s.md)(l.bY).type===l.Vf.TEMPLATE_PICKER?3:4;return(0,a.jsx)("div",{className:c()("loading_state--loadingStateContainer--dcv3D",{[m.s.px8.$]:!e}),children:Array.from({length:t}).map(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei,{}),(0,a.jsx)(Y,{children:Array.from({length:n??i}).map((e,t)=>(0,a.jsxs)("div",{className:m.s.flex.flexColumn.$,children:[(0,a.jsx)(et,{}),(0,a.jsx)(_.Wi,{className:m.s.h16.mx8.w100.$,animationType:_.JR.LIGHT_SHIMMER})]},t))})]}))})}function er(){return(0,a.jsx)("div",{className:ee,children:(0,a.jsx)(Y,{children:Array.from({length:14}).map((e,t)=>(0,a.jsx)(et,{},t))})})}function es(){return(0,a.jsx)("div",{className:ee,children:(0,a.jsx)(Q,{children:Array.from({length:16}).map((e,t)=>(0,a.jsx)(en,{},t))})})}function eo(){return(0,a.jsxs)("div",{className:c()($.Vg,m.s.px16.pb16.pt8.gap16.overflowHidden.hFull.$),children:[(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{}),(0,a.jsx)(el,{})]})}function el(){return(0,a.jsxs)("div",{className:m.s.flex.flexColumn.gap4.$,children:[(0,a.jsx)(_.Qp,{className:"loading_state--file--g4dxg",animationType:_.JR.LIGHT_SHIMMER}),(0,a.jsx)(_.Wi,{className:"loading_state--fileTitle--ATrhd",animationType:_.JR.LIGHT_SHIMMER}),(0,a.jsx)(_.Wi,{className:"loading_state--fileSubtitle--9Lkb7",animationType:_.JR.LIGHT_SHIMMER})]})}function ed({children:e,dataTestId:t}){return(0,a.jsx)("div",{className:m.s.flex.flexColumn.hFull.$,"data-testid":t,children:e})}var ec=n(336206);function eu({closePicker:e}){let t=t=>{j.l7.user("create-new-slide-with-default-theme",()=>{E.Ez5?.slideThemeLibBindings().insertDefaultLocalTheme(t,null)}),e()};return(0,a.jsxs)(J,{title:(0,h.t)("slides.templates.dev_environment_only"),children:[(0,a.jsx)(z,{thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,h.t)("slides.templates.light"),thumbnailUrl:(0,u.ck)("4a01804a5d4ad3a2d38ea604c0d8d63520e9b97b"),onPointerDown:()=>t(E.zMY.LIGHT)},"light"),(0,a.jsx)(z,{thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,h.t)("slides.templates.dark"),thumbnailUrl:(0,u.ck)("01a1fc814ce18d9da3ba738aef79acc82c752ab7"),onPointerDown:()=>t(E.zMY.DARK)},"dark")]})}var ep=n(65545),em=n(803126),eh=n(199871),ef=n(751536),eg=n(111297);function e_({buttons:e,editorType:t,wrapperStyle:n}){let i=2===e.length?ey.twoColumnGrid:ey.threeColumnGrid;return(0,a.jsx)("div",{...T.xk(ey.startFromRowWrapper,i,n),children:e.map(e=>(0,a.jsx)(eg.fu,{name:`${t}_template_start_from_button.${e.id}`,children:(0,a.jsx)(ex,{onClick:e.onClick,title:e.title,subtitle:e.subtitle,icon:e.icon,buttonStyle:e.buttonStyle,iconStyle:e.iconStyle,dataTestId:e.dataTestId,editorType:t,id:e.id})},e.id))})}function ex({onClick:e,title:t,subtitle:n,icon:i,buttonStyle:r,iconStyle:s,dataTestId:o,editorType:l,id:d}){let c=(e=>{if("dashedBorder"===e)return ey.dashedBorder})(r),u=(e=>{switch(e){case"startFromOutlineIcon":return ey.startFromOutlineIcon;case"startFromScratchIcon":return ey.startFromScratchIcon;case"makeATemplate":return ey.makeATemplate;default:return}})(s);return(0,a.jsxs)("button",{...T.xk(ey.startFromRowButton,c&&c),onClick:()=>{(0,O.Cu)({name:`${l}.templates.${d}`,triggeredFrom:`${l}_template_modal`}),e()},"data-testid":o,children:[(0,a.jsx)("span",{...T.xk(u&&u),children:i}),(0,a.jsxs)("div",{className:"x78zum5 xdt5ytf x1cy8zhl",children:[(0,a.jsx)("p",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh xdpxx8g x1akne3o x1ghz6dp",children:t}),(0,a.jsx)("p",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 xdpxx8g x1ghz6dp",children:n})]})]})}let ey={startFromRowWrapper:{k1xSpc:"xrvj5dj",kOIVth:"x1i71x30",khm7nJ:null,k1C7PZ:null,kprqdN:"x1mt1orb",$$css:!0},threeColumnGrid:{kumcoG:"x1wlfl8j",$$css:!0},twoColumnGrid:{kumcoG:"x1p9eum2",$$css:!0},startFromRowButton:{k1xSpc:"x78zum5",kXwgrk:"x1q0g3np",kGNEyG:"x6s0dn4",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kB7OPa:"x9f619",kmVPX3:"x1hslx8c",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kOIVth:"x1pulhmw",khm7nJ:null,k1C7PZ:null,kAzted:"xbktkl8",kZKoxP:"xg7h5cd",kWkggS:"xjbqb8w x14m9vh9",kVAM5u:"x7z60cl xmmimuq",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kkrTdU:"x1ypdohk",$$css:!0},dashedBorder:{ksu8eU:"xbsl7fq",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},startFromOutlineIcon:{"--color-icon":"xtlvio2 xqr37gf",$$css:!0},startFromScratchIcon:{kaIpWk:"x1d36bvo",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x1v8gsql xvbkg0c","--color-icon":"xtlvio2 x1uwj2x4",$$css:!0},makeATemplate:{"--color-icon":"xtlvio2 xqr37gf",$$css:!0}};var ev=n(872990),eb=n(516813);function eC({onStartFromFigJamSelected:e,onStartFromTextOutlineSelected:t}){let{isCreateSlidesOutlineEnabled:n}=(0,eb.mp)(),i=(0,ev.J)(),{canDismiss:s,maybeUseLightTemplateOnDismiss:l}=(0,y.vN)(),{setUserDraftTemplateKeyForCurrentFile:d}=(0,y.Iv)(),c=(0,o.J3)(),u=(0,o.JU)(c),p=(0,r.useMemo)(()=>{let r=[];return(s&&r.push({id:"start_from_scratch",onClick:l,icon:(0,a.jsx)(em.e,{}),title:(0,h.t)("slides.templates.start_from.scratch.title"),subtitle:(0,h.t)("slides.templates.start_from.scratch.subtitle"),buttonStyle:"dashedBorder",iconStyle:"startFromScratchIcon",dataTestId:"start-from-scratch"}),i?r.push({id:"outline_to_deck",onClick:t,icon:(0,a.jsx)(eh.m,{}),title:(0,h.t)("slides.templates.start_from.outline.title"),subtitle:(0,h.t)("slides.templates.start_from.outline_to_deck.subtitle"),iconStyle:"startFromOutlineIcon",dataTestId:"outline-to-deck"}):n&&r.push({id:"start_from_outline",onClick:e,icon:(0,a.jsx)(eh.m,{}),title:(0,h.t)("slides.templates.start_from.outline.title"),subtitle:(0,h.t)("slides.templates.start_from.outline.subtitle"),iconStyle:"startFromOutlineIcon",dataTestId:"start-from-outline"}),u&&r.push({id:"make_a_template",onClick:()=>{l(),d()},icon:(0,a.jsx)(ef.Q,{}),title:(0,h.t)("slides.templates.make_a_template.title"),subtitle:(0,h.t)("slides.templates.make_a_template.subtitle"),iconStyle:"makeATemplate",dataTestId:"make-a-template"}),1===r.length&&r[0]?.id==="start_from_scratch")?[]:r},[s,i,n,l,e,t,u,d]);return(0,a.jsx)(e_,{buttons:p,editorType:ep._YF.SLIDES,wrapperStyle:eE.wrapper})}let eE={wrapper:{kLKAdn:"x1vi7shn",kE3dHu:"x8rdmch",kpe85a:"xctkrei",kZCmMZ:null,kwRFfy:null,$$css:!0}};var ej=n(293422),ew=n(574855),eT=n(833805),ek=n(141773),eI=n(944350),eS=n(530299),eN=n(331497),eA=n(806054),eL=n(395556),eO=n(96213),eR=n(598430),eP=n(171396);function eM({onSeeAllClick:e}){return(0,a.jsx)("button",{className:c()("see_all_button--seeAllButton--TAlLw",m.s.font11.fontMedium.fontInter.flexShrink0.$),onClick:e,children:(0,h.tx)("slides.templates.view_type.see_all")})}var eD=n(251843);function eF({currentTeam:e}){let t=(0,y.fK)(),n=(0,ew.Xr)(l.bY),{teamTemplates:i,numTemplatesForTeam:r}=(0,o.wv)(eI._Y.SLIDES,t);if(!i||0===i.length)return null;let s=(r??0)>t;return(0,a.jsx)(eV,{title:(0,h.tx)("slides.templates.template_picker.header_with_name",{orgOrTeamName:e.name}),previewData:i,onSeeAllClick:s?()=>n({type:l.Vf.TEAM,teamId:e.id,displayName:e.name}):void 0})}function eB({currentOrg:e}){let t=(0,y.fK)(),{teamTemplates:n,isLoading:i}=(0,o.wv)(eI._Y.SLIDES,t),r=(0,ew.Xr)(l.bY),s=n&&n.length>=t;if(i||!n||!n.length||!t)return null;let d=s?()=>r({type:l.Vf.ORG}):void 0;return(0,a.jsx)(eV,{title:(0,h.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:n,onSeeAllClick:d})}function eU(){let[{data:e,status:t}]=(0,eT.IT)((0,eD._)()),n=(0,ew.Xr)(l.bY),i=(0,y.fK)();return"loading"===t?(0,a.jsx)(ea,{removePadding:!0,numSections:2}):e&&0!==e.length?(0,a.jsx)(a.Fragment,{children:e.map(e=>{let t=e.shelf_content.map(t=>({type:eL.n.HubFile,template:t,category:e.id})),r=t.slice(0,i);return 0===r.length?null:(0,a.jsx)(eV,{title:(0,h.Yd)(e.i18n_meta.title,e.title),previewData:r,onSeeAllClick:t.length>i?()=>n({type:l.Vf.HUB_FILE,shelfId:e.id}):void 0},e.id)})}):null}function eH(){let e=(0,ek.eE)(eO.$A.Slides),t=(0,eA.TI)(eO.$A.Slides),n=(0,y.fK)(),i=(0,v.wA)(),r=(0,f.q5)(),s=(0,o.J3)(),l=(0,o.JU)(s),d=s===o.kN.FILE_IN_DRAFTS,c=0===(0,eN.ut)(E.Ez5?.canvasGrid()?.canvasGridArray,[]).length,u=(0,eS.oh)(eR.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:eO.$A.Slides}));return 0===t?null:u||!r?(0,a.jsx)(ea,{numSections:1,numTemplates:t,removePadding:!0}):(0,a.jsx)(eV,{title:(0,h.t)("slides.templates.recents"),previewData:e.slice(0,n),onPublishTemplateClick:l&&!c?()=>{(0,eP.ZW)({dispatch:i,file:{key:r.key,name:r.name,folder_id:r.folderId,team_id:r.teamId,editor_type:r.editorType,parent_org_id:r.parentOrgId},source:"template-picker",fileNeedsMovingBeforePublish:d}),(0,O.Cu)({name:"publish-template-template-modal",fileKey:r.key})}:void 0})}function eV({title:e,previewData:t,onSeeAllClick:n,onPublishTemplateClick:i}){let r=n?(0,a.jsx)(eM,{onSeeAllClick:n}):i?(0,a.jsx)(ej.$n,{onClick:i,recordingKey:"template-picker-publish-template",variant:"secondary",children:(0,h.tx)("slides.templates.button.publish_template")}):void 0;return(0,a.jsx)(J,{title:e,rightHeaderCta:r,children:t.map(e=>(0,a.jsx)(W,{template:e},e.template.id))})}var eG=n(280350),ez=n(652539),eK=n(625002);function eW({isSearchQueryLoading:e,trimmedSearchQuery:t,searchQueryResult:n,requestLoadMore:i}){let{onShowSeparatorScroll:r}=(0,y.gH)();return e&&0===n.length?(0,a.jsx)("div",{className:m.s.p8.$,children:(0,a.jsx)(er,{})}):0===n.length?(0,a.jsxs)("div",{className:m.s.p10.flex.flex1.flexColumn.itemsCenter.alignCenter.textBodyMedium.colorTextDisabled.$,children:[(0,a.jsx)(ez.B,{className:m.s.h200.$,svg:eK.A,useOriginalSrcFills_DEPRECATED:!0}),(0,a.jsx)("div",{children:(0,h.tx)("slides.templates.search.empty",{searchTerm:(0,a.jsx)("span",{className:m.s.fontBold.$,children:t})})}),(0,a.jsx)("div",{children:(0,h.tx)("slides.templates.search.empty.tip")})]}):(0,a.jsx)(p.P,{className:m.s.px8.hFull.$,onScroll:r,children:(0,a.jsxs)("div",{className:m.s.pt8.$,children:[(0,a.jsx)(Y,{children:n.map(e=>(0,a.jsx)(W,{template:e},(0,R.NH)(e)))}),(0,a.jsx)(eG.a,{onIntersectionChange:({isIntersecting:e})=>{e&&i()}})]})})}function eZ({closePicker:e}){let{loading:t}=(0,eb.mp)(),n=(0,y.r$)(),{scrollPosition:i,scrollRef:d,onScroll:c,resetScrollTop:h}=(0,y.d$)(l.Vf.ALL),{onShowSeparatorScroll:_}=(0,y.gH)(),v=(0,s.md)(l.q7),b=(0,f.tS)(),C=(0,o.Gi)(),{start:E}=(0,g.JY)(),j=(0,s.Xr)(l.bY);return((0,r.useEffect)(()=>()=>h([l.Vf.ALL]),[h]),t||v&&!b)?(0,a.jsx)(ea,{}):(0,a.jsxs)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:d,initialScrollTop:i,onScroll:(e,t)=>{c(e,t),_(e,t)},children:[n===x.Ji.OVERLAY_MODAL&&(0,a.jsx)(eC,{onStartFromFigJamSelected:function(){j({type:l.Vf.FILE_PICKER,parentType:l.Vf.ALL})},onStartFromTextOutlineSelected:function(){E()}}),(0,a.jsx)(eH,{}),C?.type==="org"&&(0,a.jsx)(eB,{currentOrg:C.entity}),C?.type==="team"&&(0,a.jsx)(eF,{currentTeam:C.entity}),(0,a.jsx)(eU,{}),(0,u.IX)()&&(0,a.jsx)(eu,{closePicker:e})]})}function eq({closePicker:e,showCloseButton:t}){let{trimmedSearchQuery:n,searchQuery:i,setSearchQuery:r,isSearchQueryLoading:s,searchQueryResult:o,requestLoadMore:l}=(0,y.$N)(),{showSeparator:d}=(0,y.gH)();return(0,a.jsxs)(ed,{children:[(0,a.jsx)("div",{className:c()({[$.me]:d}),children:(0,a.jsx)(ec.tJ,{searchQuery:i,setSearchQuery:r,showCloseButton:!!t,placeholder:(0,h.t)("slides.templates.search_templates")})}),n?(0,a.jsx)(eW,{isSearchQueryLoading:s,trimmedSearchQuery:n,searchQueryResult:o,requestLoadMore:l}):(0,a.jsx)(eZ,{closePicker:e})]})}var eX=n(710211),eY=n(420680),eJ=n(149073);function eQ({title:e,onClick:t,children:n,isLoading:r,publisherName:s,showSeparator:o=!0}){return(0,a.jsxs)("div",{className:c()(m.s.borderBox.flex.flexRow.itemsCenter.p8.minH48.$,{[$.me]:o}),children:[(0,a.jsx)(eY.K,{"aria-label":(0,h.t)("slides.templates.back"),onClick:t,children:(0,a.jsx)(eJ.C,{"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})}),(0,a.jsxs)("div",{className:$.Tn,children:[r?(0,a.jsx)(ei,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.TemplateTitle,{title:e}),s&&(0,a.jsx)(i.MetadataPublisher,{publisherName:s})]}),n]})]})}function e$({shelfId:e}){let[{data:t,status:n}]=(0,eX.IT)((0,eD.Q)(e)),i=(0,ew.Xr)(l.bY),{scrollPosition:r,scrollRef:s,onScroll:o}=(0,y.d$)(l.Vf.HUB_FILE),d=()=>i({type:l.Vf.ALL});return"loading"===n?(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{isLoading:!0,title:"",onClick:d}),(0,a.jsx)(ea,{})]}):t?(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{title:(0,h.Yd)(t.i18n_meta.title,t.title),onClick:d}),(0,a.jsx)(p.P,{className:m.s.px8.pt16.hFull.$,scrollContainerRef:s,initialScrollTop:r,onScroll:o,children:(0,a.jsx)(Y,{children:t.shelf_content.map(t=>(0,a.jsx)(W,{template:{type:eL.n.HubFile,category:e,template:t}},t.id))})})]}):null}(e=>{e.TemplateTitle=function({title:e}){return(0,a.jsxs)("div",{className:$.GM,children:[(0,h.tx)("slides.templates.templates_modal.templates_title"),(0,a.jsx)("span",{className:$.HE,children:" / "}),e]})},e.MetadataPublisher=function({publisherName:e}){return(0,a.jsx)("div",{className:$.m_,children:(0,h.tx)("slides.templates.templates_modal.published_by",{publisherName:e})})}})(i||(i={}));var e0=n(638004),e1=n(264993),e2=n(812714),e3=n(246144),e5=n(58212),e4=n(638641),e6=n(921540),e7=n(619070),e9=n(285626),e8=n(354114),te=n(722555),tt=n(346765),tn=n(625635);function ti({libraryKey:e}){let t=(0,y.NG)(e),[n,i]=(0,s.fp)(l.bY),o=null===(0,f.tS)(),d=(0,y.r$)(),c=(0,y.S7)(),u=(0,s.Xr)(l.ux),p=(0,s.Xr)(l.oQ);return((0,r.useEffect)(()=>{o||["loading","loaded"].includes(t.status)||(0,e3.Lo)(e0.e.SLIDES,`Query result status has unexpected value: ${t.status}`)},[o,t.status]),"loading"===t.status||o)?(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{title:"",isLoading:!0,onClick:()=>{i(n.type===l.Vf.TEMPLATE?n.parentView:{type:l.Vf.ALL}),u(null),p(null)},showSeparator:!1}),(0,a.jsx)("div",{className:m.s.px16.overflowHidden.$,children:(0,a.jsx)(es,{})}),d===x.Ji.OVERLAY_MODAL&&!c&&(0,a.jsx)(tt.PW,{createOutline:b.lQ,addAllSlides:b.lQ,disabled:!0})]}):(0,a.jsx)(ta,{libraryKey:e,modules:t.data||[]})}function ta({libraryKey:e,modules:t}){let n=(0,f.q5)(),i=(0,y.r$)(),[o,d]=(0,s.fp)(l.bY),c=(0,s.Xr)(l.ux),u=(0,s.Xr)(l.oQ),{showSeparator:p}=(0,y.gH)(),m=(0,v.wA)(),g=(0,y.m4)(),_=t&&t.length>0,b=(0,tn.e)(),C=o.type===l.Vf.TEMPLATE&&o.shouldRemoveSourceLibraryKeyOnFail,w=(0,y.BX)(b);(0,r.useEffect)(()=>{if(!_&&o.type===l.Vf.TEMPLATE){if(C){w(),d({type:l.Vf.ALL});return}e?((0,e3.x1)(e0.e.SLIDES,"Expected to find at least one module in slides template",{libraryKey:e},{reportAsSentryError:!0}),m(e5.F.enqueue({type:"slides-template",message:(0,h.t)("slides.templates.toast.no_longer_available"),error:!0,icon:e4.zX.EXCLAMATION}))):(0,e3.x1)(e0.e.SLIDES,"No library key found for slides template",{},{reportAsSentryError:!0}),d({type:l.Vf.ALL})}},[m,_,e,t,w,d,C,o.type]);let T=(0,H.D)(e);if(!_)return null;let k=t[0],S=()=>{let e=(E.Ez5?.canvasGrid().canvasGridArray.getCopy()??[]).length>0,a={row:0,col:0},r=E.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0})??a;if(b&&b!==e1.AD){let e=E.Ez5?.canvasGrid().coordForChild(b)??a;r={row:e.row,col:e.col+1}}else r=e?{row:(E.Ez5?.canvasGrid().getLastChildCoord()??a).row+1,col:0}:a;g(),m((0,e9.yy)({modules:t,canvasPosition:new I.Mi,percentageOffset:new I.Mi,insertAsChildOfCanvas:!0,afterSlideModulesInsertion:(e,t)=>{j.l7.user("add-all-slides",()=>{e.forEach((e,n)=>{(0,x.h0)({module:e,insertedItems:t[n],viewType:i,getGridCoord:()=>({row:r.row,col:r.col+n}),subscribeToLibrary:T})}),(0,te.fL)(t[0][0]),e8.Y5.commit()})}})),j.l7.user("add-all-slides",()=>{E.Ez5?.slideThemeLibBindings().setDocumentTemplateLibraryKey(t[0].library_key)}),!(0,e2.kc)().piper_auto_rename&&n?.key&&k.file_name&&!e&&n.name===(0,h.t)("fullscreen.fullscreen_view_selector.untitled")&&m(e7.Nw({file:{key:n.key},name:k.file_name})),k?.isHubFile&&k?.hub_file_id&&m((0,e6.k8)({hubFileId:k.hub_file_id})),(0,x.qm)(m,k)},N=k.file_name||"",A=k.publisher_name;return(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{title:N,publisherName:A,onClick:()=>{d(o.type===l.Vf.TEMPLATE?o.parentView:{type:l.Vf.ALL}),c(null),u(null)},showSeparator:p,children:(0,a.jsx)(tr,{addAllSlides:S})}),(0,a.jsx)(X,{modules:t}),i===x.Ji.OVERLAY_MODAL&&(0,a.jsx)(tt.PW,{createOutline:()=>{c(k.library_key),d({type:l.Vf.FILE_PICKER,parentType:l.Vf.TEMPLATE})},addAllSlides:S})]})}function tr({addAllSlides:e}){return(0,y.r$)()===x.Ji.PICKER?(0,a.jsx)(ts,{children:(0,a.jsx)(ej.$n,{variant:"secondary",onClick:e,children:(0,h.tx)("slides.templates.add_all_slides")})}):null}function ts({children:e}){return(0,a.jsx)("div",{className:m.s.mr8.mlAuto.$,children:e})}var to=n(151240),tl=n(754039);function td({title:e,templates:t,onRequestMore:n,onSeeAllClick:i}){return(0,a.jsxs)(J,{title:e,rightHeaderCta:i?(0,a.jsx)(eM,{onSeeAllClick:i}):void 0,children:[t.map(e=>(0,a.jsx)(W,{template:e},(0,R.gp)(e))),(0,a.jsx)(eG.a,{onIntersectionChange:n})]})}function tc({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:n,requestLoadMore:i,requestLoadMoreForTeam:s}=(0,o.GR)(e,eI._Y.SLIDES),d=(0,tl.G7)(e),c=(0,y.fK)(),{teamTemplates:u,isLoading:h,requestLoadMoreForOrg:f}=(0,o.e2)({orgId:e.id,areWorkspacesEnabled:d,numTemplatesPerTeam:c,editorType:eI._Y.SLIDES,filterByIds:null}),g=(0,e2.kc)().pro_templates_lg,_=g?u:n,x=(0,ew.Xr)(l.bY),{scrollPosition:v,scrollRef:b,onScroll:C}=(0,y.d$)(l.Vf.ORG),E=_?.[_.length-1]?.teamId??null,j=(0,r.useRef)(null);(0,to.X)({containerRef:b,targetRef:j,targetKey:E,onIntersectionChange:g?f:i});let w=()=>x({type:l.Vf.ALL});return(g?h:t)?(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{isLoading:!0,title:"",onClick:w}),(0,a.jsx)(ea,{})]}):(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{title:e.name,onClick:w}),(0,a.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:b,initialScrollTop:v,onScroll:C,children:_.map(t=>(0,a.jsx)("div",{ref:E===t.teamId?j:null,children:(0,a.jsx)(td,{title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{g||s(t.teamId)},onSeeAllClick:g&&t.totalTemplatesByTeam>c?()=>x({type:l.Vf.TEAM,teamId:t.teamId,displayName:t.teamName??e.name}):void 0},t.teamId)},t.teamId))})]})}var tu=n(288747);function tp({templates:e,scrollContainerRef:t,onRequestMore:n}){let i=e?.[e.length-1]?.id,s=(0,r.useRef)(null);return(0,to.X)({containerRef:t,targetRef:s,targetKey:i,onIntersectionChange:n}),(0,a.jsx)(J,{children:e.map(e=>(0,a.jsx)("div",{ref:e.id===i?s:void 0,children:(0,a.jsx)(W,{template:{type:eL.n.TeamTemplateLg,template:e}},e.id)},e.id))})}function tm({teamId:e,displayName:t}){let{requestLoadMoreForTeam:n,templatesByTeam:i}=(0,o.li)({teamId:e,editorType:eI._Y.SLIDES}),r=(0,ew.Xr)(l.bY),{scrollPosition:s,scrollRef:d,onScroll:c}=(0,y.d$)(l.Vf.TEAM),u=(0,tu.dq)();return(0,a.jsxs)(ed,{children:[(0,a.jsx)(eQ,{title:t,onClick:()=>{u?r({type:l.Vf.ORG}):r({type:l.Vf.ALL})}}),i?(0,a.jsx)(p.P,{className:m.s.p8.hFull.$,scrollContainerRef:d,initialScrollTop:s,onScroll:c,children:(0,a.jsx)(tp,{scrollContainerRef:d,templates:i.templates,onRequestMore:n})}):(0,a.jsx)("div",{className:m.s.p8.$,children:(0,a.jsx)(er,{})})]})}var th=n(449572),tf=n(811790),tg=n(59849),t_=n(245653);function tx({showCloseButton:e}){let[t,n]=(0,s.fp)(l.bY),{files:i,searchQuery:r,debouncedSearchQuery:o,setSearchQuery:d,status:u}=(0,y._8)(eI._Y.WHITEBOARD),[p,f]=(0,s.fp)(l.ux),g=(0,s.Xr)(l.oQ),{showSeparator:_}=(0,y.gH)();return t.type!==l.Vf.FILE_PICKER?null:(0,a.jsxs)(ed,{dataTestId:"file-picker-view",children:[(0,a.jsx)(ec.ui,{searchQuery:r,setSearchQuery:d,onBack:function(){t.type===l.Vf.FILE_PICKER&&(p&&t.parentType===l.Vf.TEMPLATE?n({type:l.Vf.TEMPLATE,libraryKey:p,parentView:{type:l.Vf.ALL}}):(n({type:l.Vf.ALL}),f(null),g(null)))},showCloseButton:!!e,placeholder:(0,h.t)("slides.templates.file_picker.search_files")}),(0,a.jsx)("div",{className:c()(m.s.pt16.pb24.px16.flex.flexColumn.gap2.$,{[$.me]:_}),children:(0,a.jsx)(ec._8,{icon:(0,a.jsx)(tf.w4,{size:16,type:tf.y1.WHITEBOARD}),title:(0,h.t)("slides.templates.file_picker.title"),subtitle:(0,h.t)("slides.templates.file_picker.subtitle")})}),(0,a.jsx)(ty,{status:u,debouncedSearchQuery:o,files:i}),t.parentType===l.Vf.TEMPLATE?(0,a.jsx)(tt.X_,{}):(0,a.jsx)(tt.jc,{})]})}function ty({status:e,debouncedSearchQuery:t,files:n}){let{scrollPosition:i,scrollRef:r,onScroll:s}=(0,y.d$)(l.Vf.FILE_PICKER),{onShowSeparatorScroll:o}=(0,y.gH)(),d=(0,v.d4)(e=>e.mirror.appModel.multiplayerSessionState===E.kul.JOINED),u=null===(0,f.tS)();return e===y.J_.LOADING||!d||u?(0,a.jsx)(eo,{}):e!==y.J_.SUCCESS?(0,a.jsx)("div",{className:m.s.flex.itemsCenter.justifyCenter.hFull.wFull.colorText.textBodyLarge.pre.$,children:(0,a.jsx)(tb,{debouncedSearchQuery:t,status:e})}):(0,a.jsx)(p.P,{className:c()(m.s.px8.hFull.$),onScroll:(e,t)=>{s(e,t),o(e,t)},scrollContainerRef:r,initialScrollTop:i,children:(0,a.jsx)("div",{className:c()($.Vg,m.s.pb12.$),children:n.map(e=>(0,a.jsx)(tv,{file:e},e.key))})})}function tv({file:e}){let t=(0,D.iZ)(),[n,i]=(0,s.fp)(l.oQ),{disabled:r,tooltipText:o}=function(e){let t=(0,th.Rs)(tg.bgg,{fileKey:e});if("loaded"!==t.status)return{disabled:!0,tooltipText:void 0};if(t.data.file?.viewerExportRestricted&&t.data.file?.canEdit===!1)return{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.viewer_export_restricted_disabled")};let n=t.data.file?.org;if(n?.k12GoogleOrg||n?.aiFeaturesDisabledAt)return{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.ai_disabled.org")};let i=t.data.file?.team;return i?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.ai_disabled.team")}:{disabled:!1,tooltipText:void 0}}(e.key);return(0,a.jsx)("div",{className:c()(m.s.pt8.px8.$,$.Fj),children:(0,a.jsx)(t_.GQ,{activeFileUsers:[],currentUser:t,disableIconOverlays:!0,disabled:r,file:e,isSelected:!r&&n===e.key,onClick:t=>{t.stopPropagation(),r||i(e.key)},overrideOnClick:!0,subtitle:(0,a.jsx)(t_.lJ,{file:e}),titleFontSize:11,tooltipText:o})})}function tb({debouncedSearchQuery:e,status:t}){return t===y.J_.NO_QUERY_RESULTS?(0,h.tx)("slides.templates.file_picker.no_files_match",{searchQuery:(0,a.jsx)("p",{className:m.s.colorText.textBodyLargeStrong.$,children:e})}):t===y.J_.NO_RECENT_FILES?(0,a.jsx)("h1",{className:m.s.colorText.textBodyLarge.$,children:(0,h.tx)("slides.templates.file_picker.no_recent_files")}):null}var tC=n(795161);function tE({showCloseButton:e}){let{searchQuery:t,setSearchQuery:n}=(0,y.$N)(),[i,r]=(0,s.fp)(l.bY),o=!!(i.type===l.Vf.TEMPLATE_PICKER&&i.figjamEntryPointData),d=(0,v.d4)(e=>e.mirror.appModel.multiplayerSessionState===E.kul.JOINED)||(0,tC.nl)();return(0,a.jsxs)(ed,{dataTestId:"template-picker-view",children:[o?(0,a.jsx)(ec.tJ,{searchQuery:t,setSearchQuery:n,showCloseButton:!0,placeholder:(0,h.t)("slides.templates.search_templates")}):(0,a.jsx)(ec.ui,{searchQuery:t,setSearchQuery:n,onBack:function(){r({type:l.Vf.FILE_PICKER,parentType:l.Vf.TEMPLATE_PICKER})},showCloseButton:!!e,placeholder:(0,h.t)("slides.templates.template_picker.search_templates")}),d?(0,a.jsx)(tj,{footer:e=>(0,a.jsx)(tt.wJ,{templateSelected:e})}):(0,a.jsx)(ea,{removePadding:!0})]})}function tj({footer:e}){let{trimmedSearchQuery:t,isSearchQueryLoading:n,searchQueryResult:i,requestLoadMore:r}=(0,y.$N)(),o=(0,s.md)(l.ux),{showSeparator:d}=(0,y.gH)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(m.s.p16.flex.flexColumn.gap2.$,{[$.me]:t&&d}),children:(0,a.jsx)(ec._8,{icon:(0,a.jsx)("div",{style:{"--color-icon":"var(--color-icon-menu-onselected)"},className:m.s.colorBgBrand.h14.w14.bRadius2.flex.alignCenter.itemsCenter.$,children:(0,a.jsx)(ef.Q,{})}),title:(0,h.t)("slides.templates.template_picker.title"),subtitle:(0,h.t)("slides.templates.template_picker.subtitle")})}),t?(0,a.jsx)(eW,{isSearchQueryLoading:n,trimmedSearchQuery:t,searchQueryResult:i,requestLoadMore:r}):(0,a.jsx)(tT,{}),e(!!o)]})}var tw=(e=>(e[e.RECENTS=1]="RECENTS",e[e.HUB_FILE=2]="HUB_FILE",e[e.ORG=3]="ORG",e))(tw||{});function tT(){let e=(0,tu.sZ)(),[t,n]=r.useState([]),[i,s]=r.useState(null),[{data:o}]=(0,eT.IT)((0,eD._)()),d=(0,ek.eE)(eO.$A.Slides),{scrollPosition:u,scrollRef:p,onScroll:f}=(0,y.d$)(l.Vf.TEMPLATE_PICKER),{showSeparator:g,onShowSeparatorScroll:_}=(0,y.gH)(),x=r.useCallback((e,t)=>{f(e,t),_(e,t)},[f,_]);(0,r.useEffect)(()=>{let t=[];if(d.length>0&&t.push({type:1,id:"recents",label:(0,h.t)("slides.templates.recents")}),o)for(let e of o)t.push({type:2,shelf:e,id:`hub-${e.id}`,label:e.title});e&&t.push({type:3,id:"org",label:(0,h.t)("slides.templates.org_templates")}),n(t),t.length>0&&s(t[0].id)},[d,e,o]);let v=e=>()=>{s(e)},b={scrollContainerRef:p,initialScrollTop:u,onScroll:x},C=t.find(e=>e.id===i);return C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(m.s.flex.flexRow.gap6.alignCenter.itemsCenter.px16.pb16.$,{[$.me]:g}),children:t.map(e=>(0,a.jsx)("button",{className:c()(m.s.textBodyMedium.colorText.spacingWide.alignCenter.px8.h24.$,{[$.eg]:i===e.id,[m.s.textBodyMediumStrong.$]:i===e.id,[m.s.colorTextSecondary.$]:i!==e.id}),onClick:v(e.id),children:2===e.type?(0,h.Yd)(e.shelf.i18n_meta.title,e.shelf.title):e.label},e.id))}),(t=>{switch(t.type){case 2:return(0,a.jsx)(tN,{shelf:t.shelf,...b});case 1:return(0,a.jsx)(tk,{...b});case 3:if(!e)throw Error("Something went wrong in tab calculation");return(0,a.jsx)(tS,{currentOrg:e,...b})}})(C)]}):null}function tk({scrollContainerRef:e,initialScrollTop:t,onScroll:n}){let i=(0,ek.eE)(eO.$A.Slides);return 0===i.length?null:(0,a.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:e,initialScrollTop:t,onScroll:n,children:(0,a.jsx)(Y,{children:i.map(e=>(0,a.jsx)(W,{template:e},(0,R.NH)(e)))})})}function tI({teamId:e,displayName:t,onBackClick:n}){let{requestLoadMoreForTeam:i,templatesByTeam:s}=(0,o.li)({teamId:e,editorType:eI._Y.SLIDES}),l=(0,r.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eQ,{title:t,onClick:n,showSeparator:!1}),s?(0,a.jsx)(p.P,{scrollContainerRef:l,className:m.s.px8.hFull.$,children:(0,a.jsx)(tp,{scrollContainerRef:l,templates:s.templates,onRequestMore:i})}):(0,a.jsx)(er,{})]})}function tS({currentOrg:e,scrollContainerRef:t,initialScrollTop:n,onScroll:i}){let{isLoadingTeamTemplates:s,templatesByTeam:l,requestLoadMore:d,requestLoadMoreForTeam:c}=(0,o.GR)(e,eI._Y.SLIDES),u=(0,tl.G7)(e),{teamTemplates:h,isLoading:f,requestLoadMoreForOrg:g}=(0,o.e2)({orgId:e.id,areWorkspacesEnabled:u,numTemplatesPerTeam:6,editorType:eI._Y.SLIDES,filterByIds:null}),_=(0,e2.kc)().pro_templates_lg,x=_?h:l,y=x?.[x.length-1]?.teamId??null,v=(0,r.useRef)(null);(0,to.X)({containerRef:t,targetRef:v,targetKey:y,onIntersectionChange:_?g:d});let[b,C]=r.useState(null);return b?(0,a.jsx)(tI,{teamId:b,displayName:e.name,onBackClick:()=>C(null)}):(_?f:s)?(0,a.jsx)(ea,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:n,onScroll:i,children:x.map(t=>(0,a.jsx)("div",{ref:y===t.teamId?v:null,children:(0,a.jsx)(td,{title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{_||c(t.teamId)},onSeeAllClick:_&&t.totalTemplatesByTeam>6?()=>{C(t.teamId)}:void 0},t.teamId)},t.teamId))})})}function tN({shelf:e,scrollContainerRef:t,initialScrollTop:n,onScroll:i}){let[{status:r}]=(0,eT.IT)((0,eD._)());if("loading"===r)return(0,a.jsx)(ea,{});let s=e.id;return(0,a.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:n,onScroll:i,children:(0,a.jsx)(Y,{children:e.shelf_content.map(e=>{let t={type:eL.n.HubFile,category:s,template:e};return(0,a.jsx)(W,{template:t},e.id)})})})}function tA({showCloseButton:e}){let t=(0,s.md)(l.bY),n=(0,s.Xr)(l.VZ),i=(0,s.Xr)(l.Ei),d=(0,s.Xr)(l.OR),c=(0,s.Xr)(l.xw),u=(0,o.Gi)();switch((0,r.useEffect)(()=>()=>{d(""),c()},[c,d]),t.type){case l.Vf.ALL:return(0,a.jsx)(eq,{showCloseButton:e,closePicker:()=>{i(!1),n(!1)}});case l.Vf.ORG:if(u?.type!=="org")throw Error("User is not allowed to browse org templates");return(0,a.jsx)(tc,{currentOrg:u.entity});case l.Vf.TEAM:if(!u)throw Error("User is not allowed to browse team templates");return(0,a.jsx)(tm,{teamId:t.teamId,displayName:t.displayName});case l.Vf.TEMPLATE:return(0,a.jsx)(ti,{libraryKey:t.libraryKey});case l.Vf.HUB_FILE:return(0,a.jsx)(e$,{shelfId:t.shelfId});case l.Vf.FILE_PICKER:return(0,a.jsx)(tx,{showCloseButton:e});case l.Vf.TEMPLATE_PICKER:return(0,a.jsx)(tE,{showCloseButton:e});default:return null}}},346765:(e,t,n)=>{n.d(t,{X_:()=>el,jc:()=>ed,s2:()=>ea,wJ:()=>er,PW:()=>es});var i=n(104076),a=n(268389),r=n(293422),s=n(185377),o=n(658598),l=n(795033),d=n(511570),c=n.n(d),u=n(236631),p=n(192075),m=n(141330),h=n(578420),f=n(716976),g=n(903927),_=n(266808),x=n(146283),y=n(619070),v=n(211862),b=n(290407),C=n(714136),E=n(616802),j=n(996253),w=n(117739),T=n(832885),k=n(170627),I=n(980852),S=n(376475),N=n(178623),A=n(987224),L=n(809565),O=n(719097),R=n(291507),P=n(769887),M=n(388190),D=n(338052),F=n(257079);async function B({slidePresetModules:e,abortController:t,batchSize:n=2,dispatch:i}){let a=[],r=[];_.Zdr?.createHiddenFrameForPresets();for(let s=0;s<e.length;s+=n){if(t.signal.aborted)return r;for(let t of e.slice(s,s+n))try{let e=new Promise(e=>{(0,M.Zx)({module:t,editScopeType:_.zkO.USER,editScopeLabel:"use-slides-ai-preset-selection",callback:t=>{r.push(t),e()},dispatch:i})});a.push(e)}catch(e){x.k.error("Failed to insert preset",e)}Promise.allSettled(a).then(()=>{t.signal.aborted&&W(r)}),await K(Promise.allSettled(a),t.signal)}return t.signal.aborted||_.Zdr?.selectPresetsFromTemplate(),r}async function U({figjamFileKey:e,selectedGuids:t=[],pageGuids:n=[],abortController:i}){if(!_.Zdr)return[];let a=await K((0,P.R)({fileKey:e,selectedGuids:t.slice(0,T.S)}),i.signal);return i.signal.aborted?[]:JSON.parse(_.Zdr.getCanvasDataJsonFromBuffer(a,n))}class H{constructor(e,t,n){this.currentItem=void 0,this.hasRenamedFile=!1,this.lastSlideGuid="",this.abortController=e,this.showPlaceholderOverlay=t,this.getNextItem=n,this.intervalId=this.start()}start(){return setInterval(()=>this.update(),100)}isActive(){return 0!==this.intervalId}update(){if(!_.Zdr)return;if(this.abortController.signal.aborted||!l.zl.get(v.ze)){this.cancel();return}if(this.currentItem||(this.currentItem=this.getNextItem(),!this.currentItem))return;let e=_.Zdr.generateSlides(this.currentItem.slideItem);if(!this.abortController.signal.aborted){if(this.showPlaceholderOverlay(_.Zdr.getPlaceholderNodeId()),e.length>0){e.unshift(this.lastSlideGuid);for(let t=0;t<e.length-1;++t){let n=e[t];n&&z(G(n))}let t=e[e.length-1];t&&(this.lastSlideGuid=t)}this.currentItem.resolve(),this.currentItem=void 0}}cancel(){this.isActive()&&(this.cleanUp(),(0,F.Y)())}completeSuccessfully(){this.cleanUp(),(0,F.Sk)()}processError(e){this.cleanUp(),(0,F.D1)(e)}cleanUp(){this.isActive()&&(clearInterval(this.intervalId),this.intervalId=0)}}async function V({canvasData:e,processTitle:t,showPlaceholderOverlay:n,abortController:i}){let a=[],r=new H(i,n,()=>a.shift());try{let n=await N.Ay.slides.createSlides({version:"1.1",data:e},{orgId:l.zl.get(A._s),teamId:l.zl.get(v.As)||null,fileKey:l.zl.get(v.ze)||null,fileSeq:l.zl.get(L.J)?.toString()||null,userId:l.zl.get(O.kS)||null,trackingSessionId:(0,S.fF)()});if(i.signal.aborted||!l.zl.get(v.ze)){n.cancel();return}let s=[],o=!1;for await(let e of new N.c6(n)){if(!r.isActive())return;let n=e;o||"TITLE"!==n.slideType||(o=!0,t(n.content.find(e=>"h1"===e.type)?.content||"")),s.push(new Promise(e=>{a.push({slideItem:n,resolve:e})}))}if(await K(Promise.allSettled(s),i.signal),i.signal.aborted)return;r.completeSuccessfully()}catch(e){r.processError(e)}}let G=(0,D.n)(e=>{if(!e)return[];let t=(0,I.UN)().get(e);if(!t)return[];let n=[];return t.childrenNodes.forEach(e=>{(function e(t,n){t&&("TEXT"===t.type?n.push(t):t.childrenNodes.forEach(t=>e(t,n)))})(e,n)}),n}),z=(0,D.n)(e=>{k.l7.user("figjam-to-slide-deck-text-opacity",()=>{e.forEach(e=>{e.opacity>0||e.setOpacityWithAnimation(1,R._E.forLinear(.5),"slides-ai-animate-slide-text")})}),e.length=0});async function K(e,t){if(!t)return e;if(t.aborted)throw Error("Aborted");let n=new Promise((e,n)=>{let i=()=>{n(Error("Aborted"))};t.addEventListener("abort",i),t.addEventListener("abort",()=>{t.removeEventListener("abort",i)})});return await Promise.race([e,n])}function W(e){e&&k.l7.user("remove-hidden-preset-nodes",()=>{for(let t of e){let e=(0,I.UN)().get(t);if(e)try{e.removeSelfAndChildren()}catch(e){console.warn("Failed to remove preset",e)}}})}function Z(){let e=(0,l.md)(j.oQ)??void 0,t=(0,l.md)(j.bY),n=t?.figjamEntryPointData,i=n?.figjamFileKey??e,{areSlidePresetsLoaded:a,slidePresetModules:r}=(0,w.v0)(),s=(0,w.Hn)(r),{showPlaceholderOverlay:o,removeAllPlaceholderOverlays:d}=(0,w.Wb)(),c=(0,g.wA)(),u=(0,l.md)(v.ze),p=t?.source??T.E.SLIDES_TEMPLATE;(0,l.Xr)(C.zF)(p);let h=(0,E.D)(r[0]?.library_key),_=(0,f.useMemo)(()=>({figjamFileKey:i,figjamEntryPointData:n,areSlidePresetsLoaded:a,slidePresetModules:r,addFirstPresetToEmptyDeck:s,showPlaceholderOverlay:o,removeAllPlaceholderOverlays:d,dispatch:c,openFileKey:u,subscribeToLibrary:h}),[i,n,a,r,s,o,d,c,u,h]),x=(0,b.RL)(m.JT.BOARD_TO_DECK,q,{figjamFileKey:i});return{startAction:(0,f.useCallback)(()=>{(0,b.B3)(m.JT.BOARD_TO_DECK),x.start(_)},[_,x]),figjamFileKey:i}}let q=async({abortController:e,params:t})=>{let{figjamFileKey:n,figjamEntryPointData:i,areSlidePresetsLoaded:a,slidePresetModules:r,addFirstPresetToEmptyDeck:s,showPlaceholderOverlay:o,removeAllPlaceholderOverlays:d,dispatch:c,openFileKey:u,subscribeToLibrary:m}=t,h=(0,w.Gd)(i),f=i?.selectedGuids,g=!n;if(e.signal.aborted||g||!a||!u)return;r?.length||x.k.warn("No slide preset modules found...");let b=[];try{if(_.Ez5&&_.Ez5.uiState().leftPanelCollapsedUI3.set(!0),(0,F.tO)(),!_.Zdr)return;_.Zdr.showLoadingState();let t=_.Zdr.getPlaceholderNodeId();o(t);let[i,a]=await K(Promise.allSettled([U({figjamFileKey:n,selectedGuids:f,pageGuids:h,abortController:e}),B({slidePresetModules:r,abortController:e,dispatch:c})]),e.signal);if("rejected"===a.status){x.k.error("Failed to ingest templates",a.reason),(0,F.D0)((0,p.t)("slides.present_summary.visual_bells.error_unknown"));return}if(b=a.value,"rejected"===i.status){x.k.error("Failed to fetch canvas data from file",i.reason),(0,F.D0)((0,p.t)("slides.present_summary.visual_bells.error_unknown"));return}m&&m(),await V({canvasData:i.value,processTitle:e=>{e&&c(y.Nw({file:{key:u},name:`${e} ${(0,p.t)("slides.templates.presentation")}`}))},showPlaceholderOverlay:o,abortController:e})}catch(t){if(e.signal.aborted){(0,F.Y)();return}(0,F.D0)((0,p.t)("slides.present_summary.visual_bells.error_unknown")),x.k.error("Failed to generate slides",t)}finally{d(),u!==l.zl.get(v.ze)||s(),_.Zdr?.finishDeckGeneration(),W(b)}};var X=n(76635),Y=n(516813),J=n(795161),Q=n(679359),$=n(506192),ee=n(954741);function et(){let e=(0,g.wA)(),t=(0,$.Um)(),n=(0,l.md)(j.oQ),[a,r]=f.useState([]),[s,o]=(0,l.fp)(j.V6),d=(0,w.M0)(n);return(f.useEffect(()=>{!(0,J.nl)()&&n&&(o({type:j.i6.NONE}),(async()=>{let e=await d();if(!e)return;let t=_.Zdr?.getPagesFromBuffer(e)??[],n=t[0];n&&(r(t.map(e=>({guid:e.guid,name:e.name}))),o({type:j.i6.SINGLE,page:{guid:n.guid,name:n.name}}))})())},[n,o,d]),n)?s.type===j.i6.NONE?(0,i.jsx)(en,{}):(0,i.jsx)("div",{"data-testid":"page-selector",children:(0,i.jsxs)(ee.l6,{ariaLabel:(0,p.t)("slides.templates.file_picker.page_selector.label"),className:"slides_template_page_selector--pageSelector--PuTJR",dispatch:e,dropdownShown:t,dropdownWidth:208,formatter:{format:e=>{switch(e.type){case j.i6.SINGLE:return e.page.name;case j.i6.ALL:return(0,p.t)("slides.templates.file_picker.page_selector.all_pages");default:return""}},isEqual:(e,t)=>e.type===t.type&&(e.type!==j.i6.SINGLE||t.type!==j.i6.SINGLE||e.page.guid===t.page.guid&&e.page.name===t.page.name)},id:"slides-ai-file-picker-page-select",inputClassName:u.s.fontMedium.colorText.ellipsis.alignTop.maxW150.$,onChange:e=>{o(e)},property:s,children:[(0,i.jsx)(ee.c$,{value:{type:j.i6.NONE},disabled:!0,ignoreCheck:!0,children:(0,p.t)("slides.templates.file_picker.page_selector.label")}),a.map(e=>(0,i.jsx)(ee.c$,{value:{type:j.i6.SINGLE,page:e},children:e.name},e.guid)),(0,i.jsx)(ee.sK,{}),(0,i.jsx)(ee.c$,{value:{type:j.i6.ALL,allPages:a},children:(0,p.t)("slides.templates.file_picker.page_selector.all_pages")},-1)]})}):null}function en(){return(0,i.jsxs)("div",{className:"slides_template_page_selector--pageSelectorLoadingState--oaDQH",children:[(0,i.jsx)("div",{className:u.s.fontMedium.overflowHidden.colorTextSecondary.$,children:(0,p.t)("slides.templates.file_picker.page_selector.loading")}),(0,i.jsx)(Q.kt,{})]})}var ei=n(692769);function ea(){let e=(0,X.r$)();return(0,l.md)(j.bY).type===j.Vf.TEMPLATE?e!==M.Ji.OVERLAY_MODAL?null:(0,i.jsx)(a.wi,{children:"Temporary Placeholder Footer"}):null}function er({templateSelected:e}){let{startAction:t,figjamFileKey:n}=Z();return(0,i.jsx)(ec,{children:(0,i.jsx)(r.$n,{iconPrefix:(0,i.jsx)(s.x,{}),variant:"primary",onClick:t,disabled:!n,children:(0,p.tx)(e?"slides.templates.template_picker.submit.button.with_template":"slides.templates.template_picker.submit.button.without_template")})})}function es({createOutline:e,addAllSlides:t,disabled:n}){let{isCreateSlidesOutlineEnabled:a}=(0,Y.mp)();return(0,i.jsxs)("div",{className:c()(u.s.flex.itemsCenter.justifyEnd.py8.pr16.gap8.$,ei.qr),children:[a&&(0,i.jsx)(r.$n,{iconPrefix:(0,i.jsx)(o.V,{}),variant:"secondary",onClick:e,disabled:n,children:(0,p.tx)("slides.templates.outline_with_template.button")}),(0,i.jsx)(r.$n,{variant:"secondary",onClick:t,disabled:n,children:(0,p.tx)("slides.templates.add_all_slides")})]})}function eo({children:e}){return(0,i.jsx)(ec,{children:(0,i.jsxs)("div",{className:u.s.flex.gap8.itemsCenter.$,children:[(0,i.jsx)(et,{}),e]})})}function el(){let e=(0,l.md)(j.V6),{startAction:t,figjamFileKey:n}=Z();return(0,i.jsx)(eo,{children:(0,i.jsx)(r.$n,{iconPrefix:(0,i.jsx)(s.x,{}),variant:"primary",onClick:t,disabled:!n||e.type===j.i6.NONE,children:(0,p.tx)("slides.templates.file_picker.submit_button.generate")})})}function ed(){let e=(0,l.md)(j.V6),t=(0,l.Xr)(j.bY),n=(0,l.md)(j.oQ);return(0,i.jsx)(eo,{children:(0,i.jsx)(r.$n,{variant:"primary",onClick:()=>{t({type:j.Vf.TEMPLATE_PICKER})},disabled:!n||e.type===j.i6.NONE,children:(0,p.tx)("slides.templates.file_picker.submit_button.pick_template")})})}function ec({children:e}){return(0,i.jsxs)("div",{className:c()(u.s.flex.itemsCenter.justifyBetween.pl12.pr8.py8.$,ei.qr),children:[(0,i.jsx)("div",{className:u.s.flex.itemsCenter.justifyStart.gap8.$,children:(0,i.jsx)(h.y,{helpUrlVariant:m.JT.BOARD_TO_DECK})}),e]})}},336206:(e,t,n)=>{n.d(t,{_8:()=>x,tJ:()=>g,ui:()=>_,iq:()=>f});var i=n(104076),a=n(268389),r=n(511570),s=n.n(r),o=n(915459),l=n(236631),d=n(76635),c=n(420680),u=n(299986),p=n(192075);function m({onClick:e}){return(0,i.jsx)(c.K,{"aria-label":(0,p.t)("common.close"),onClick:e,children:(0,i.jsx)(u.L,{})})}var h=n(692769);function f(){return(0,i.jsx)(a.Y9,{children:"Temporary Placeholder"})}function g({searchQuery:e,setSearchQuery:t,showCloseButton:n,placeholder:a}){let{canDismiss:r,maybeUseLightTemplateOnDismiss:c}=(0,d.vN)();return(0,i.jsxs)("div",{className:l.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$,children:[(0,i.jsx)(o.IW,{className:s()(h.ON,l.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,placeholder:a,focusOnMount:!0,withSmallXIcon:!0}),n&&r&&(0,i.jsx)(m,{onClick:c})]})}function _({searchQuery:e,setSearchQuery:t,onBack:n,showCloseButton:a,placeholder:r}){let{canDismiss:c,maybeUseLightTemplateOnDismiss:u}=(0,d.vN)();return(0,i.jsxs)("div",{className:s()(l.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$),children:[(0,i.jsx)(o.RE,{className:s()(h.ON,l.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,onBack:n,placeholder:r,focusOnMount:!0,withSmallXIcon:!0}),a&&c&&(0,i.jsx)(m,{onClick:u})]})}function x({icon:e,title:t,subtitle:n}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:l.s.flex.flexRow.gap6.lh24.itemsCenter.$,children:[e,(0,i.jsx)("h1",{className:l.s.colorText.fontInter.font14.fontNormal.fontSemiBold.spacingCompact.$,children:t})]}),(0,i.jsx)("h2",{className:l.s.colorTextSecondary.textBodyMedium.$,children:n})]})}},318145:(e,t,n)=>{n.d(t,{g:()=>Y,h:()=>X});var i=n(104076),a=n(716976),r=n(903927),s=n(266808),o=n(795033),l=n(511570),d=n.n(l),c=n(587710),u=n(278491),p=n(111297),m=n(172996),h=n(344354),f=n(235711),g=n(520960),_=n(74620),x=n(211862),y=n(288747),v=n(331497),b=n(792028),C=n(96213),E=n(598430),j=n(141330),w=n(290407),T=n(717828),k=n(382827),I=n(614806),S=n(746818),N=n(146169),A=n(773494),L=n(127769),O=n(929302),R=n(91478),P=n(268389),M=n(983500),D=n(236631),F=n(354174),B=n(238801),U=n(346765),H=n(336206),V=n(76635),G=n(404343);function z({children:e}){let{canDismiss:t,maybeUseLightTemplateOnDismiss:n}=(0,V.vN)();return(0,i.jsx)(F.d_,{className:d()("slides_template_modal--templateModal--GmDGm",u.Qx),size:(0,M.hG)(G.uRR),onHide:n,tintedModalBackground:!0,disableClickOutsideToHide:!t,enableEscapeToClose:t,"data-testid":"slides-template-modal",children:(0,i.jsx)("div",{className:D.s.overflowHidden.$,style:{height:"600px"},children:e})})}function K(){let e=O.wQ({defaultOpen:!0});return(0,i.jsx)(R.bL,{width:(0,M.hG)(G.uRR),height:"fixed",manager:e,children:(0,i.jsxs)(P.vo,{children:[(0,i.jsx)(H.iq,{}),(0,i.jsx)(B.f,{height:600}),(0,i.jsx)(U.s2,{})]})})}var W=n(996253),Z=n(388190),q=n(692769);function X(){let[e,t]=(0,o.fp)(W.Ei),{top:n,left:s,height:l,width:m}=(0,Z.do)(),h=(0,r.wA)(),f=(0,y.sZ)(),_=a.useRef(null);return((0,A.Y)(()=>t(!1),{closeOnEsc:!0,ignore:[_,(0,g.Tc)("slides-template-button"),(0,g.Tc)(I.G),(0,g.Tc)(N.l)]}),(0,a.useEffect)(()=>{h(E.cd.fetchTemplatesMetadata({key:C.$A.Slides,orgId:f?.id})),h(c.sz({shelfType:b.cS.SLIDES_TEMPLATE_MODAL}))},[f?.id,h]),!e||(0,Z.xP)())?null:(0,i.jsx)(p.fu,{name:"Slides Template Picker",children:(0,i.jsx)("div",{className:d()(q.ij,u.Dm),style:{top:n,left:s,width:m,height:l},ref:_,"data-testid":"slides-template-picker",children:(0,i.jsx)(V.Jn.Provider,{value:Z.Ji.PICKER,children:(0,i.jsx)(L.q,{})})})})}function Y(){let e=(0,_.p8)("isReadOnly"),t=(0,k.jY)(),n=!!(0,V.S7)(),a=(0,v.ut)(s.Ez5?.canvasGrid().canvasGridArray,[]).flat().length>0,r=(0,o.md)(W.q7),l=(0,k.EI)(),d=(0,o.md)(h.D),c=(0,o.md)((0,f.r1)(S.Kt)).data,u=(0,o.md)(W.VZ),g=(0,o.md)(m.u2),{state:y}=(0,w.wj)(j.JT.BOARD_TO_DECK),b=(0,x.tS)(),C=(0,T.wd)();return r||g&&g.fileKey&&!r||e||!c||C||!l||t||n||a||d&&!u||y===w.qy.RUNNING?null:(0,i.jsx)(p.fu,{name:"Slides Template Overlay Modal",properties:{productType:"slides",fileKey:b},children:(0,i.jsx)(V.Jn.Provider,{value:Z.Ji.OVERLAY_MODAL,children:(0,Z.xP)()?(0,i.jsx)(K,{}):(0,i.jsx)(z,{children:(0,i.jsx)(L.q,{showCloseButton:!0})})})})}},146169:(e,t,n)=>{n.d(t,{R:()=>h,l:()=>m});var i=n(104076),a=n(716976),r=n(293422),s=n(803126),o=n(795033),l=n(90499),d=n(192075),c=n(894210),u=n(746818),p=n(76635);let m="toolbar-add-slide-button",h=a.forwardRef(function(e,t){let n=(0,o.md)(l.o),{toggleTemplatePicker:a}=(0,p.uu)();return n?null:(0,i.jsx)(r.$n,{ref:t,onClick:a,iconPrefix:(0,i.jsx)(s.e,{}),variant:"secondary",recordingKey:"toolbar.addSlideButton",htmlAttributes:{"data-testid":"addSlideButton","data-element-target":m,"data-onboarding-key":u.MB,"data-tooltip":(0,d.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":c.Ib.TEXT,"data-fullscreen-intercept":!0},children:(0,d.tx)("slides.carousel.new_slide")})})},924150:(e,t,n)=>{n.d(t,{qM:()=>M,RS:()=>L,cR:()=>R,FT:()=>A});var i=n(104076),a=n(716976),r=n(420680),s=n(684742),o=n(293422),l=n(149073),d=n(423128),c=n(266808),u=n(795033),p=n(511570),m=n.n(p),h=n(191452),f=n(166887),g=n(641518),_=n(555013),x=n(581133),y=n(236631),v=n(192075),b=n(278491),C=n(249586),E=n(520960),j=n(354114),w=n(144386),T=n(894210),k=n(769887),I=n(773494);let S="slides_insert_embed_modal--sectionContainer--r1D85",N="slides_insert_embed_modal--recentPrototypeThumbnail--2N-ss",A=(0,u.eU)(-1),L="slide-insert-embed-modal-button";async function O({fileKey:e,nodeId:t}){let n=await (0,k.R)({fileKey:e});return n&&c.DCy?.getPrototypeFileStructureData(e,n,t)||{}}function R(){let e=(0,f.U)(),[t,n]=(0,u.fp)(A),r=(0,a.useRef)(null),s=(0,a.useCallback)((e=!1)=>{e&&j.Y5.triggerAction("set-tool-default",null),n(-1)},[n]);(0,I.Y)(()=>s(!0),{closeOnEsc:!0,ignore:[r,(0,E.Tc)(L)]});let[o,l]=(0,a.useState)(0),d=(0,a.useCallback)(async t=>{let n=(0,w.pb)(t),i=(0,w.zU)(t);if(!n)return;let a=await O({fileKey:n,nodeId:i});e("embedded_prototype_file_structure_data",{fileKey:n,nodeId:i,...a})},[e]),c=(0,a.useCallback)(e=>{j.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"EMBED",url:e}),s(),d(e)},[s,d]),p=(0,h.O8)(),m=0===o?(0,v.t)("slides.flapp.embed.widget_modal_title"):(0,v.t)("slides.flapp.embed.prototype_modal_title");return(0,i.jsx)(M,{closeWidow:s,ref:r,center:t,children:(0,i.jsx)(D,{title:m,showBackButton:0!==o,onBackClicked:()=>l(0),onCloseClicked:s,children:0===o?(0,i.jsx)(F,{closeModal:s,navigateToPrototypeStep:()=>l(1)}):(0,i.jsx)(U,{recentPrototypes:p,onAddPrototypeRequested:c})})})}var P=(e=>(e[e.LANDING=0]="LANDING",e[e.PROTOTYPE=1]="PROTOTYPE",e))(P||{});let M=(0,a.forwardRef)(function(e,t){let[n]=(0,u.fp)(x.f),r=n?.current?.getBoundingClientRect(),s=(r?.height??0)>0,o=(0,a.useMemo)(()=>s?{bottom:window.innerHeight-(r?.y??0)+8}:{bottom:72},[s,r?.y]);return(0,i.jsx)("div",{ref:t,style:{position:"fixed",width:"fit-content",margin:"auto",left:e.center,transform:"translateX(-50%)",...o},className:m()("slides_insert_embed_modal--dockedToolbeltWindow--lJ7x1 text--fontPos13--xW8hS text--_fontBase--QdLsd",b.Dm),children:(0,i.jsx)("div",{style:{minWidth:e.minWidth??r?.width??396},children:e.children})})});function D({children:e,title:t,showBackButton:n,onBackClicked:a,onCloseClicked:s}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:m()("slides_insert_embed_modal--headerContainer--5xFbR",n?y.s.pl8.$:y.s.pl16.$),children:[(0,i.jsxs)("div",{className:y.s.textBodyMediumStrong.flex.itemsCenter.$,children:[n?(0,i.jsx)(r.K,{onClick:a,"aria-label":(0,v.t)("general.back"),children:(0,i.jsx)(l.C,{})}):null,(0,i.jsx)("p",{children:t})]}),(0,i.jsx)(r.K,{"aria-label":(0,v.t)("common.close"),onClick:s,children:(0,i.jsx)(d.A,{})})]}),(0,i.jsx)(V,{}),(0,i.jsx)("div",{className:"slides_insert_embed_modal--contentContainer--5pDam",children:e})]})}function F({closeModal:e,navigateToPrototypeStep:t}){let a=t=>{t(),e()},r="liveInteractionModal";return(0,i.jsxs)("div",{className:"slides_insert_embed_modal--widgetContainer--LvggL",children:[(0,i.jsx)("div",{className:y.s.textBodyMedium.colorTextSecondary.pb16.$,children:(0,v.tx)("slides.flapp.embed.widget_modal_description")}),(0,i.jsxs)("div",{className:"slides_insert_embed_modal--widgetGrid---WhKd",children:[(0,i.jsx)(B,{thumbnail:n(947615),title:(0,v.t)("slides.flapp.embed.widget_poll"),onSelected:()=>a(()=>j.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"POLL"})),recordingKey:g.Pt(r,"poll")}),(0,i.jsx)(B,{thumbnail:n(795595),title:(0,v.t)("slides.flapp.embed.widget_stamps"),onSelected:()=>a(()=>j.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"FACEPILE"})),recordingKey:g.Pt(r,"facepile")}),(0,i.jsx)(B,{thumbnail:n(317240),title:(0,v.t)("slides.flapp.embed.widget_alignment"),onSelected:()=>a(()=>j.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"ALIGNMENT"})),recordingKey:g.Pt(r,"alignment")}),(0,i.jsx)(B,{thumbnail:n(377832),title:(0,v.t)("slides.flapp.embed.widget_prototype"),onSelected:t,recordingKey:g.Pt(r,"prototype")})]})]})}function B({thumbnail:e,title:t,onSelected:n,recordingKey:a}){return(0,i.jsxs)(s.E,{className:y.s.flex.flexColumn.gap8.$,onClick:n,recordingKey:a,children:[(0,i.jsx)("img",{className:"slides_insert_embed_modal--widgetThumbnail--u966s",src:e,alt:t,draggable:!1}),(0,i.jsx)("p",{className:y.s.wFull.textBodyMediumStrong.alignLeft.$,children:t})]})}function U({recentPrototypes:e,onAddPrototypeRequested:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{}),(0,i.jsx)(K,{prototypes:e,maxCount:3,onPrototypeClick:t}),(0,i.jsx)(z,{onAddPrototypeUrlClicked:t})]})}function H({prototypeUrl:e,onClick:t}){let n=(0,w.Ik)(e),a=n||!e?void 0:(0,v.t)("slides.flapp.embed.add_button_invalid_link_tooltip");return(0,i.jsx)("div",{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":a,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,children:(0,i.jsx)(o.$n,{variant:"primary",disabled:!n,onClick:()=>{e&&t(e.trim())},children:(0,v.tx)("slides.flapp.embed.add_button_label")})})}function V(){return(0,i.jsx)("div",{className:y.s.wFull.colorBgTertiary.h1.$})}function G(){return(0,i.jsx)("div",{className:m()(y.s.colorTextSecondary.textBodyMedium.$,S),children:(0,v.tx)("slides.flapp.embed.modal_description")})}function z({onAddPrototypeUrlClicked:e}){let[t,n]=(0,a.useState)(),r=(0,v.t)("slides.flapp.embed.add_prototype_link_hint",{prototype_link_prefix:(0,w.qS)()});return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:y.s.textBodyMediumStrong.$,children:(0,v.tx)("slides.flapp.embed.add_prototype_link_header")}),(0,i.jsxs)("div",{className:"slides_insert_embed_modal--prototypePasteContainer--PozcZ",children:[(0,i.jsx)(_.ks,{className:"slides_insert_embed_modal--prototypeLinkInput--9Jynj",type:"url",onChange:e=>{n(e.target.value)},value:t,placeholder:r}),(0,i.jsx)(H,{prototypeUrl:t,onClick:()=>{t&&((0,C.Cu)({name:"slides.flapps.embed.add_prototype_link_button_clicked",fileKey:(0,w.pb)(t),productType:"slides"}),e(t))}})]})]})}function K({prototypes:e,maxCount:t,onPrototypeClick:n}){let r=(0,a.useMemo)(()=>e.data?.slice(-t)?.reverse(),[e,t]);return!r||r.length<1?null:(0,i.jsx)("div",{className:S,children:(0,i.jsxs)("div",{className:y.s.textBodyMediumStrong.$,children:[(0,v.tx)("slides.flapp.embed.recent_prototypes_header"),r.map(e=>(0,i.jsx)(W,{thumbnailUrl:e.thumbnail_url,title:e.name,subtitle:e.fig_file.name,onClick:()=>{(0,C.Cu)({name:"slides.flapps.embed.recent_prototype_tile_clicked",fileKey:e.file_key,productType:"slides"}),n(e.url)}},`${e.name}_${e.file_key}`))]})})}function W({thumbnailUrl:e,title:t,subtitle:n,onClick:a}){return(0,i.jsxs)(s.E,{className:"slides_insert_embed_modal--recentPrototypeTileContainer--ig9io",onClick:a,children:[e?(0,i.jsx)("img",{className:N,alt:"Prototype thumbnail",src:e,loading:"lazy",draggable:!1}):(0,i.jsx)("div",{className:N}),(0,i.jsxs)("div",{className:y.s.alignLeft.$,children:[(0,i.jsx)("p",{className:y.s.textBodyMediumStrong.$,children:t}),(0,i.jsx)("p",{className:y.s.textBodySmall.colorTextSecondary.$,children:n})]})]})}},792045:(e,t,n)=>{n.d(t,{Ix:()=>h,bs:()=>p,zF:()=>m});var i=n(104076),a=n(716976),r=n(795033),s=n(615257),o=n(236631),l=n(520960),d=n(354114),c=n(773494),u=n(924150);let p=(0,r.eU)(-1),m="slide-insert-shape-modal-button";function h({activateTool:e,activeToolId:t,areAnyShapesActive:n,shapes:h}){let[f,g]=(0,r.fp)(p),_=(0,a.useCallback)((e=!1)=>{e&&d.Y5.triggerAction("set-tool-default",null),g(-1)},[g]),x=(0,a.useRef)(null);return(0,c.Y)(()=>_(!n),{closeOnEsc:!0,ignore:[x,(0,l.Tc)(m)]}),(0,i.jsx)(u.qM,{closeWidow:_,ref:x,minWidth:152,center:f,children:(0,i.jsx)("div",{className:o.s.flex.flexWrap.p8.itemsCenter.contentCenter.gap8.$,style:{width:152},children:h.map(n=>(0,i.jsx)(s.$,{tooltipText:n.text,tooltipShortcut:n.shortcutText,isActive:t===n.toolId,onMouseDown:()=>e(n.toolId),recordingKey:`slides-shape-${n.toolId}`,children:n.icon},n.toolId))})})}},438517:(e,t,n)=>{n.d(t,{E:()=>g});var i=n(903927),a=n(266808),r=n(795033),s=n(225125),o=n(965685),l=n(147046),d=n(850701),c=n(249586),u=n(772523),p=n(211862),m=n(684745),h=n(924150),f=n(792045);function g({logToggle:e}={}){let t=function(){let e=(0,i.wA)(),t=(0,r.Xr)(h.FT),n=(0,r.Xr)(f.bs);return()=>{e(l.oB()),e(d.XE()),e(d.Uv()),t(-1),n(-1)}}(),n=(0,m.Bk)(),_=(0,p.tS)(),{Sprig:x}=(0,s.A)();return i=>{(n||i!==a.nQ7.DESIGN)&&(t(),function(e){let t=r.zl.get(o.Kh);e===a.nQ7.DESIGN&&((0,u.NT)(a.FAf.DESIGN),t===a.NLJ.COMMENTS&&a.glU?.triggerAction("set-tool-default",null))}(i),i===a.nQ7.DESIGN?a.glU?.triggerAction("enter-slides-design-mode",null):a.glU?.triggerAction("enter-slides-mode",null),e&&i===a.nQ7.DESIGN?((0,c.Cu)({trackingContext:"slides_toggle_back_to_slides",productType:"slides",fileKey:_}),x("track","slides_toggle_back_to_slides")):e&&i===a.nQ7.SELF&&(0,c.Cu)({trackingContext:"slides_toggle_design",productType:"slides",fileKey:_}))}}},897024:(e,t,n)=>{function i(){return null}n.d(t,{V_:()=>l,Te:()=>s,Ab:()=>a,Ug:()=>o,oI:()=>r}),n(9109),n(903964),new(n(722458)).b({name:"string_management",dependencies:[],exports:{"./components":"./components.ts","./ast":"./ast.ts","./ast/schema":"./ast/schema.ts","./public_helpers":"./public_helpers.ts","./public_hooks":"./public_hooks.ts","./public_types":"./public_types.ts"},sideEffects:!1,friendFiles:[]});let a=i,r=i,s=i,o=i,l=i},832832:(e,t,n)=>{n.d(t,{gk:()=>r,go:()=>a,iA:()=>s});var i=n(266808);function a(e){if("TEXT"!==e.type)return!1;let t=e.getVariableConsumptionMap().TEXT_DATA;return null!=t&&null==t.isMixed&&t.type===i.Z_n.MANAGED_STRING_ALIAS}function r(e){return a(e)&&e.getVariableConsumptionMap().TEXT_DATA||null}n(156774);let s=Object.freeze({})},5822:(e,t,n)=>{n.d(t,{J7:()=>f,bY:()=>g,hG:()=>p,hQ:()=>m});var i=n(104076),a=n(716976),r=n(951002),s=n(266808),o=n(795033),l=n(246144),d=n(709449),c=n(851715),u=n(4521),p=(e=>(e[e.NONE=0]="NONE",e[e.SUMMARIZE_STICKIES=1]="SUMMARIZE_STICKIES",e[e.SORT_STICKIES_BY_TOPIC=2]="SORT_STICKIES_BY_TOPIC",e[e.SORT_STICKIES_BY_COLOR=3]="SORT_STICKIES_BY_COLOR",e[e.SORT_STICKIES_BY_AUTHOR=4]="SORT_STICKIES_BY_AUTHOR",e[e.SORT_STICKIES_BY_STAMP_COUNT=5]="SORT_STICKIES_BY_STAMP_COUNT",e[e.SORT_STICKIES_BY_STAMP_TYPE=6]="SORT_STICKIES_BY_STAMP_TYPE",e[e.MIND_MAP_GENERATE_IDEAS=7]="MIND_MAP_GENERATE_IDEAS",e))(p||{});let m=(0,o.eU)(0),h=(0,o.eU)(null,(e,t,n)=>{t(m,n)});function f(e){o.zl.set(h,e)}function g(){let[e,t]=(0,o.fp)(m),n=(0,a.useRef)(null),p=function(){let{summarizeCanvasSelection:e}=(0,u.ss)(s.cfv.ABOVE,void 0,"QUICK_ACTION"),t=(0,d.PX)(),{expandSelectedMindmapNode:n}=(0,c.S)();return i=>{switch(i){case 0:(0,l.xi)("AI Actions",'Unexpected AI action "none" requested');break;case 1:e();break;case 2:case 3:case 4:case 5:case 6:{let e=function(e){switch(e){case 2:return d.Uj.CLUSTER;case 3:return d.Uj.CLUSTER_BY_COLOR;case 4:return d.Uj.CLUSTER_BY_AUTHOR;case 5:return d.Uj.CLUSTER_BY_STAMP_COUNT;case 6:return d.Uj.CLUSTER_BY_STAMP_TYPE;default:return}}(i);if(!e){(0,l.xi)("AI Actions","Unexpected AI action requested",{action:i});return}t({type:e,disabled:!1,displayText:""});break}case 7:n();break;default:(0,r.xb)(i)}}}();return(0,a.useEffect)(()=>{(async()=>{if(0!==e&&e!==n.current){n.current=e;try{p(e),await new Promise(e=>setTimeout(e,1e3))}finally{t(0),n.current=null}}})()},[e,t,p]),(0,i.jsx)(i.Fragment,{})}},827651:(e,t,n)=>{n.d(t,{Cw:()=>C,Su:()=>v,v:()=>y});var i=n(104076),a=n(716976),r=n(276800),s=n(795033),o=n(192075),l=n(111297),d=n(422872),c=n(692042),u=n(143277),p=n(563554),m=n(6449),h=n(894981),f=n(654200),g=n(132078),_=n(441030),x=n(709449);let y=(0,s.eU)(!1),v="organize";function b({onClose:e}){let t=(0,x.Cb)(),n=(0,c.LE)({subscribeToUpdates_expensive:t});return a.useEffect(()=>{t||e()},[t,e]),(0,i.jsx)("div",{style:{opacity:n?0:1,transition:"ease-in-out 0.1s all"},children:(0,i.jsx)(g.Dv,{targetType:"dom",targetKey:v,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:r.lQ,children:(0,i.jsx)(h.mI,{bodyText:(0,i.jsx)("span",{style:{maxWidth:184},children:(0,o.tx)("whiteboard.organize_menu.onboarding_text_base",{boldText:(0,i.jsx)("b",{children:(0,o.tx)("whiteboard.organize_menu.onboarding_text_bold_text")})})}),buttonText:(0,o.tx)("whiteboard.organize_menu.onboarding_dismiss_button_text"),onButtonClick:()=>{e()}})})})}function C(){let[e,t]=(0,s.fp)(y),{show:n,isShowing:r,complete:o}=(0,d.e)({overlay:_.YiU,priority:u.N.SECONDARY_MODAL});return a.useEffect(()=>{n({canShow:()=>e})},[e,n]),(0,i.jsx)(m.M,{isShowing:r,testId:"FigJamAISummarizationEntrpointPointerOverlay",children:(0,i.jsx)(l.fu,{name:p.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP,children:(0,i.jsx)(b,{onClose:()=>{t(!1),o()}})})})}},385984:(e,t,n)=>{n.d(t,{S:()=>b,o:()=>v});var i=n(104076),a=n(716976),r=n(933135);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 4.5a7.5 7.5 0 0 0-7.484 7A.527.527 0 0 1 4 12a.48.48 0 0 1-.486-.5A8.5 8.5 0 0 1 19 7.177V5.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1h1.845A7.5 7.5 0 0 0 12 4.5M7.5 16H5.655a7.5 7.5 0 0 0 13.829-3.5c.018-.275.24-.5.516-.5s.502.224.485.5A8.5 8.5 0 0 1 5 16.823V18.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1m2-7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V10h1.5v4H11a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-.5v-4H14v.5a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.5 4A7.5 7.5 0 0 0 4 11.5c0 .27-.213.5-.484.5h-.032A.477.477 0 0 1 3 11.53v-.03a8.5 8.5 0 0 1 16-4.004V5.5a.5.5 0 1 1 1 0v3a.5.5 0 0 1-.5.5h-3a.5.5 0 1 1 0-1h1.635A7.5 7.5 0 0 0 11.5 4m-4 12h-2a7.501 7.501 0 0 0 13.439-3.532.53.53 0 0 1 .515-.468.48.48 0 0 1 .484.53A8.501 8.501 0 0 1 5 16.978V18.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1m2-7a.5.5 0 0 0-.5.5v.8a.5.5 0 0 0 1 0V10h1v3h-.3a.5.5 0 1 0 0 1h1.6a.5.5 0 0 0 0-1H12v-3h1v.3a.5.5 0 1 0 1 0v-.8a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})})});var o=n(266808),l=n(170627),d=n(812714),c=n(795033),u=n(192075),p=n(297869),m=n(553065),h=n(754446),f=n(200503),g=n(415567),_=n(426984),x=n(965815),y=n(892864);function v(e){let t=(0,g.uQ)()||"",n=(0,h.kl)("embedData"),i=decodeURIComponent(m.E7(n)?.originalText||""),r=(0,p.tq)(n),s=(0,c.Xr)(f.n);return a.useCallback(()=>{i&&(r(p.yc.CONVERT_TO_TEXT),s({type:"MINIMIZE"}),(0,l.l7)(e,"convert-embed-to-text",()=>o.glU?.replaceNodeWithText(t,i)))},[i,r,s,t,e])}function b(e){let t=(0,c.md)(f.n),n=(0,g.uQ)()||"",a=(0,h.kl)("embedData"),r=decodeURIComponent(m.E7(a)?.originalText||""),l=v(o.zkO.USER);return a&&n&&r&&(!t||e.inModal)?(0,d.kc)().figjam_a11y_inline_toolbar?(0,i.jsx)(_.V,{variant:"button",tooltip:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),ariaLabel:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:l,recordingKey:"embedConvertToTextControl",children:(0,i.jsx)(s,{})}):(0,i.jsx)(x.K0,{svg:y.A,active:"NONE",tooltip:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:l,recordingKey:"embedConvertToTextControl"}):null}},112339:(e,t,n)=>{n.d(t,{e:()=>v,f:()=>y});var i=n(104076),a=n(716976),r=n(903927),s=n(7688),o=n(812714),l=n(795033),d=n(192075),c=n(952460),u=n(297869),p=n(553065),m=n(754446),h=n(200503),f=n(426984),g=n(965815),_=n(305639);let x=()=>{let e=(0,m.kl)("embedData");return decodeURIComponent(p.E7(e)?.url||p.E7(e)?.srcUrl||"")};function y(){let e=(0,r.wA)(),t=x(),n=(0,m.kl)("embedData"),i=(0,u.tq)(n);return a.useCallback(()=>{t&&(i(u.yc.OPEN_PREVIEW),e((0,c.RK)({rawInput:t})))},[t,e,i])}function v(e){let t=(0,l.md)(h.n),n=x(),a=y();return n&&(e.inModal||!t)?(0,o.kc)().figjam_a11y_inline_toolbar?(0,i.jsx)(f.V,{variant:"button",tooltip:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),ariaLabel:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),onClick:a,recordingKey:"embedOpenExternalControl",children:(0,i.jsx)(s.V,{})}):(0,i.jsx)(g.K0,{svg:_.A,active:"NONE",tooltip:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),onClick:a,recordingKey:"embedOpenExternalControl"}):null}},841058:(e,t,n)=>{n.d(t,{nG:()=>G,tT:()=>Z});var i=n(104076),a=n(716976),r=n(903927),s=n(276800),o=n(307829),l=n(962856),d=n(240803),c=n(814982);let u=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M5.5 5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5M4 5.5A1.5 1.5 0 0 1 5.5 4h4A1.5 1.5 0 0 1 11 5.5v4A1.5 1.5 0 0 1 9.5 11h-4A1.5 1.5 0 0 1 4 9.5zm12.015 7.94L15.5 15.5l-2.06.515c-.505.126-.505.844 0 .97l2.06.515.515 2.06c.126.505.844.505.97 0l.515-2.06 2.06-.515c.505-.126.505-.844 0-.97L17.5 15.5l-.515-2.06c-.126-.505-.844-.505-.97 0M9.5 14h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5m-4-1A1.5 1.5 0 0 0 4 14.5v4A1.5 1.5 0 0 0 5.5 20h4a1.5 1.5 0 0 0 1.5-1.5v-4A1.5 1.5 0 0 0 9.5 13zm9-8h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5m-1.5.5A1.5 1.5 0 0 1 14.5 4h4A1.5 1.5 0 0 1 20 5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4A1.5 1.5 0 0 1 13 9.5z",clipRule:"evenodd"})})});var p=n(812714),m=n(795033);n(120440);var h=n(511570),f=n.n(h),g=n(219199),_=n(316862),x=n(578854),y=n(856909),v=n(652539),b=n(236631),C=n(192075),E=n(171660),j=n(443192),w=n(111297),T=n(235711),k=n(894210),I=n(954741),S=n(973369);function N(){return(0,i.jsx)(l.E,{variant:"defaultFilled",size:"md",children:(0,C.tx)("qa.ai")})}var A=n(964549),L=n(792794),O=n(827651),R=n(426984),P=n(709449),M=n(965815),D=n(97919),F=n(726135),B=n(735248),U=n(759863),H=n(228231);let V="figjam_organize_sort_stickies_sub_menu",G="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",z="used_figjam_ai_quick_actions",K=(0,T.r1)(z);function W(e){switch(e){case P.Uj.SUMMARIZE:return"summarize";case P.Uj.CLUSTER:return"sort stickies";case P.Uj.CREATE_FIGMA_SLIDES_OUTLINE:return"copy to slides";case P.Uj.CLUSTER_BY_AUTHOR:return"sort by author";case P.Uj.CLUSTER_BY_COLOR:return"sort by color";case P.Uj.CLUSTER_BY_STAMP_COUNT:return"sort by stamp count";case P.Uj.CLUSTER_BY_STAMP_TYPE:return"sort by stamp type";case P.Uj.OPEN_CLUSTER_BY_MORE_MENU:return"sort by more dropdown button";case P.Uj.TIDY_UP:return"tidy up";case P.Uj.WRAP_IN_SECTION:return"wrap in section";default:return"other organize action"}}function Z(){let e=(0,P.Yh)(),t=e.filter(e=>!e?.disabled&&!e?.isInClusterSubmenu),n=e.filter(e=>e?.disabled&&!e?.isInClusterSubmenu),s=(0,_.g)(),u=(0,P.PX)(),[h,f]=(0,m.fp)(P.Y),g=(0,P.Wb)(),x=(0,P.Pn)();a.useEffect(()=>g,[g]),a.useEffect(()=>{h||x()},[h,x]);let y=(0,P.z1)(),v=function(){let e=(0,P.Yh)(),t=(0,P.QL)(),n=(0,P.E0)(),i=[...e];for(let e of(n&&(i=[...i,...t]),i))if(e&&P.IW[e.type])return!0;return!1}(),E=(0,C.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"),T=[...t,...n],{getTriggerProps:I,manager:S}=o.b(),A=(0,r.wA)(),O=(0,L.CI)(),M=(0,m.md)(K).data;return(0,p.kc)().figjam_a11y_inline_toolbar?(0,i.jsx)(w.fu,{name:"organize_menu_dropdown",children:(0,i.jsxs)(o.bL,{manager:S,children:[(0,i.jsx)(R.V,{variant:"menu",getTriggerProps:()=>I({onClick:()=>{v&&A(j.b({[z]:!0}))}}),tooltip:(0,C.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label"),ariaLabel:(0,C.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label"),dataTestId:"inline_menu_organize_dropdown_button",recordingKey:"inline_menu_organize_dropdown_button",trackingProperties:{text:"organize dropdown button"},isMenuOpen:S.isOpen,children:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:[(0,i.jsx)(c.t,{}),(0,C.tx)("whiteboard.inline_menu.organize_button_text"),!M&&O&&(0,i.jsx)(w.fu,{name:"organize_actions_onboarding_badge",children:(0,i.jsx)(l.E,{variant:"brandFilled",children:(0,C.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2")})})]})}),(0,i.jsxs)(o.mc,{children:[(0,i.jsx)(o.YJ,{children:T.map(e=>{if(!e)return null;let{type:t,disabled:n,displayText:a,fplIcon:r,disabledTooltipText:s,tooltipOverrides:l}=e,c=l?.tooltip||(n&&s?s:void 0),p=l?.tooltipType||k.Ib.TEXT,m=(0,P.Ef)(e);return t===P.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,i.jsx)($,{disabled:n},t):(0,i.jsxs)(o.q7,{disabled:n,onClick:()=>u(e),recordingKey:J(t),"data-testid":J(t),"aria-label":a,htmlAttributes:{"data-tooltip":c,"data-tooltip-type":p,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-tip-align-left":!0},children:[r&&(0,i.jsx)(o.Q$,{children:(0,i.jsx)("div",{className:"x30jfuo",children:r})}),a,m&&(0,i.jsx)(o.Ov,{children:(0,i.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,i.jsx)(N,{})})})]},t)})}),(0,i.jsx)(o.N_,{href:G,newTab:!0,trusted:!0,children:(0,i.jsx)(F._,{})})]})]})}):(0,i.jsx)(w.fu,{name:"organize_menu_dropdown",children:(0,i.jsx)(D.Fn,{OptionWrapper:function({children:e}){return(0,i.jsx)("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":E,id:s,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:e})},additionalContentsBottom:(0,i.jsx)("div",{className:b.s.mt4.$}),additionalContentsTop:(0,i.jsx)("div",{className:b.s.mt4.$}),onChange:(e,t)=>{t.preventDefault(),t.stopPropagation(),u(e)},options:T,overrideMenuOpenState:{isOpenOverride:h,setIsOpenOverride:f},popoverClassName:"organize_actions_control--popover--l143N",positionX:e=>e.x,renderButton:({onClick:e,onKeyDown:t,ref:n})=>(0,i.jsx)(q,{disabled:!1,onClick:e,onKeyDown:e=>y(e,t),buttonRef:n,ariaWrapperId:s,trackingProperties:{text:"organize dropdown button"},dropdownContainsAiOption:v}),renderOption:Y,value:void 0})})}let q=(0,w.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:o,disabled:l,dropdownContainsAiOption:d}){let c=(0,r.wA)(),u=(0,m.md)(K).data,p=(0,L.CI)(),[h,g]=a.useState(0),_=(0,C.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label");return(0,i.jsx)(M.$n,{ref:n,ariaControls:o,ariaLabel:_,buttonChildrenStyle:{justifyContent:"initial",width:"initial"},buttonStyle:{width:"auto",paddingRight:24},caret:"down",disabled:l,onClick:l?s.lQ:()=>{e(),d&&c(j.b({[z]:!0}))},onKeyDown:t,onboardingKey:O.Su,recordingKey:"inline_menu_organize_dropdown_button",role:"combobox",testId:"inline_menu_organize_dropdown_button",tooltip:l?S.w:void 0,tooltipType:l?k.Ib.SPECIAL:void 0,children:(0,i.jsxs)("div",{className:"organize_actions_control--withBadge--2qE6m",children:[(0,i.jsx)("div",{className:"organize_actions_control--buttonIconContainer--7BE5y",children:(0,i.jsx)(v.B,{svg:H.A,className:f()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":l})})}),(0,C.tx)("whiteboard.inline_menu.organize_button_text"),!u&&p&&(0,i.jsx)(w.fu,{name:"organize_actions_onboarding_badge",children:(0,i.jsx)("div",{style:{paddingLeft:8},ref:e=>{g(e?.offsetWidth||h)},children:(0,i.jsx)(y.Ex,{text:(0,C.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:y.zE.FIGJAM,size:y.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-",dataTestId:"figjam_ai_quick_actions_onboarding_badge"})})})]})})});function X({isFocused:e}){let t=(0,L.v1)(),n=(0,P.PX)(),r=(0,P.QL)(),o=(0,m.md)(P.u3),[l,d]=(0,m.fp)(P.UI),[c,u]=(0,m.fp)(P.kw),[p,h]=a.useState(!1);return(a.useEffect(()=>{let e=setTimeout(()=>{h(!0)},200);return()=>{clearTimeout(e)}},[h]),a.useEffect(()=>{e?u(!0):u(!1)},[e,u]),t)?(0,i.jsxs)("div",{onMouseEnter:()=>{p&&d(!0)},onMouseLeave:()=>{d(!1)},"data-testid":"whiteboard_organize_sort_sub_menu_wrapper",children:[(0,i.jsx)(Q,{ariaLabel:(0,C.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),disabled:!1,displayText:(0,C.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2"),id:`${P.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,isAiOption:!1,isFocused:e,isSubMenu:!0,onClick:()=>{l||d(!l)},onKeyDown:()=>{d(!l)},svgSrc:B.A,trackingProperties:{text:W(P.Uj.OPEN_CLUSTER_BY_MORE_MENU)},type:P.Uj.OPEN_CLUSTER_BY_MORE_MENU},`${P.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`),l&&(0,i.jsx)(w.fu,{name:V,children:(0,i.jsx)("div",{className:"organize_actions_control--submenuPopover--3lKOZ",children:(0,i.jsx)("div",{className:"organize_actions_control--submenuContainer--TmBn7",children:(0,i.jsx)(M.W1,{children:(0,i.jsx)("div",{className:b.s.flex.flexColumn.py6.w200.$,"aria-label":(0,C.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:r.map((e,t)=>Y({value:e,onClick:()=>n(e),onKeyDown:s.lQ,isSelected:!1,isFocused:o===t}))})})})})})]}):null}let Y=e=>{let{value:t,onClick:n,id:a,isFocused:r,onKeyDown:s}=e;if(!t)return null;let o=(0,P.Ef)(t),{type:l,disabled:d,displayText:c,svgSrc:u,disabledTooltipText:p,tooltipOverrides:m}=t,h=W(l);return l===P.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,i.jsx)(X,{isFocused:r},P.Uj.OPEN_CLUSTER_BY_MORE_MENU):(0,i.jsx)(Q,{disabled:d,disabledTooltipText:p,displayText:c,id:a,isAiOption:o,isFocused:r,onClick:n,onKeyDown:s,svgSrc:u,tooltipOverrides:m,trackingProperties:{text:h},type:l},`${l}-menu-option`)};function J(e){return`inline_menu_organize_option-${e}`}let Q=(0,w.tf)(function({id:e,type:t,displayText:n,svgSrc:a,disabledTooltipText:r,disabled:o,onClick:l,onKeyDown:c,isFocused:u,tooltipOverrides:p,isAiOption:m,isSubMenu:h,ariaLabel:_}){let y=p?.tooltip||(o&&r?r:""),C=p?.tooltipType||k.Ib.TEXT;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{"aria-label":_??n,"aria-selected":"false",className:f()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":o,"organize_actions_control--optionContainerIsFocused--8x27n":u}),"data-tooltip":y,"data-tooltip-offset-x":6,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-type":C,id:e,role:"option",tabIndex:-1,children:(0,i.jsx)(I.c$,{children:(0,i.jsxs)("div",{className:b.s.flex.justifyBetween.itemsCenter.gap8.$,children:[(0,i.jsx)(E.E,{truncate:!0,children:n}),m&&(0,i.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,i.jsx)(A.v,{location:"INLINE_TOOLBAR",hoverStyleClassName:f()({"organize_actions_control--aiBetaBadge--F1z9L":!o}),onPointerUp:()=>{(0,x.Lf)(G)||g.Ay.unsafeRedirect(G,"_blank")}})}),h&&(0,i.jsx)("span",{className:b.s.pl4.mr0.$,children:(0,i.jsx)(v.B,{svg:U.A})})]}),additionalStylesClassName:void 0,"data-testid":J(t),dataTestId:J(t),disabled:o,fullWidth:!0,height:32,ignoreCheck:!0,onKeyDown:o?s.lQ:c,onMouseUp:o?s.lQ:l,recordingKey:J(t),selected:!1,style:{width:"95%",marginBottom:0},svg:a,value:t},`option-${t}`)})})});function $({disabled:e}){let t=(0,L.v1)(),n=(0,P.QL)(),a=(0,P.PX)();return t?(0,i.jsx)(w.fu,{name:V,children:(0,i.jsxs)(o.g8,{children:[(0,i.jsxs)(o.ZP,{disabled:e,recordingKey:J(P.Uj.OPEN_CLUSTER_BY_MORE_MENU),"data-testid":J(P.Uj.OPEN_CLUSTER_BY_MORE_MENU),"aria-label":(0,C.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),children:[(0,i.jsx)(o.Q$,{children:(0,i.jsx)("div",{className:"x30jfuo",children:(0,i.jsx)(u,{})})}),(0,C.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2")]}),(0,i.jsx)(o.MJ,{children:(0,i.jsx)(o.YJ,{children:n.map(e=>{if(!e)return null;let{type:t,disabled:n,displayText:r,svgSrc:s}=e,l=(0,P.Ef)(e);return(0,i.jsxs)(o.q7,{disabled:n,onClick:()=>a(e),recordingKey:J(t),"data-testid":J(t),"aria-label":r,children:[s&&(0,i.jsx)(o.Q$,{children:(0,i.jsx)("div",{className:"x30jfuo",children:(0,i.jsx)(v.B,{svg:s})})}),r,l&&(0,i.jsx)(o.Ov,{children:(0,i.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,i.jsx)(N,{})})})]},t)})})})]})}):null}},787981:(e,t,n)=>{n.d(t,{p:()=>p});var i=n(104076),a=n(716976),r=n(423128);n(120440);var s=n(511570),o=n.n(s),l=n(431632),d=n(352630),c=n(192075),u=n(111297);let p=(0,a.memo)(function(e){let{leftContent:t,content:n,rightContent:a,trackingContext:s="DLT Banner",onClose:p,isFloatingBanner:f,shouldHide:g}=e;return(0,l.h8)({isFigjamDLTBanner:!0,bannerType:e.bannerType}),(0,i.jsx)(u.fu,{name:s,children:(0,i.jsxs)("div",{className:o()(f?"dlt_banner--floatingBanner--Gv-Xd":"dlt_banner--banner--nGI-J",{"dlt_banner--hide--MO-Ze":g}),children:[(0,i.jsx)(m,{leftContent:t}),(0,i.jsx)(h,{content:n}),a,a&&p&&(0,i.jsx)("div",{className:"x1xc55vz"}),p?(0,i.jsx)(d.Me,{"aria-label":(0,c.t)("common.close"),onClick:p,recordingKey:"dltBannerCloseButton",htmlAttributes:{"data-testid":"dltBannerCloseButton"},trackingEventName:"dlt_banner_closed",children:(0,i.jsx)(r.A,{})}):null]})})}),m=(0,a.memo)(function(e){let{icon:t,text:n}=e.leftContent??{},a=t&&(0,i.jsx)("div",{className:"dlt_banner--icon--gtxyL",children:t}),r=n&&(0,i.jsx)("b",{children:n});return(0,i.jsxs)("div",{className:o()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",n&&t?"dlt_banner--leftContentIconAndText--QjRmB":n?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN"),children:[a,r]})}),h=(0,a.memo)(function(e){let{content:t}=e;return(0,i.jsx)("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd",children:t})})},80852:(e,t,n)=>{n.d(t,{X:()=>Y,O:()=>en});var i=n(104076),a=n(716976),r=n(903927),s=n(276800),o=n(266808),l=n(812714),d=n(795033),c=n(511570),u=n.n(c),p=n(653899),m=n(681398),h=n(192075),f=n(443192),g=n(422872),_=n(477536),x=n(381059),y=n(235711),v=n(354114),b=n(968169),C=n(74620),E=n(143277),j=n(856520),w=n(951824),T=n(122559),k=n(919853),I=n(437540),S=n(147046),N=n(373235),A=n(506192),L=n(564941),O=n(61102),R=n(643330),P=n(337726);function M({dismissModal:e,targetKey:t=P.oi.ZOOM}){let n=(0,r.wA)(),s=(0,I.R)(({mirror:{appModel:e}})=>e.showUi),l=(0,A.Um)(),d=(0,a.useRef)(!1),c=(0,N.q)(),u=(0,a.useCallback)(()=>{e(),n(S.oB())},[e,n]);return(0,a.useEffect)(()=>{d.current&&!(0,L.TY)(l)&&e()},[e,l]),(0,a.useEffect)(()=>{if(c&&!d.current){if((0,L.TY)(l))n(S.ho({type:L.pi,data:{selectionToUpdate:o.m7W.PREFERENCES}}));else{let e=s?42:0;n(S.j7({type:L.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}d.current=!0}},[n,l,c,s]),(0,i.jsx)(O.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:u,targetKey:t,emphasized:!0,title:(0,h.tx)("mouse_controls_modal.new_user.title"),description:(0,h.tx)("mouse_controls_modal.new_user.description"),arrowPosition:R.F_.LEFT_TITLE})}var D=n(441030),F=n(787981);function B(){return(0,i.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),(0,i.jsx)("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),(0,i.jsx)("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),(0,i.jsx)("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),(0,i.jsx)("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),(0,i.jsx)("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),(0,i.jsx)("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),(0,i.jsx)("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),(0,i.jsx)("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),(0,i.jsx)("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),(0,i.jsx)("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),(0,i.jsx)("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),(0,i.jsx)("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),(0,i.jsx)("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"})]})}function U(){return(0,i.jsxs)("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",children:[(0,i.jsx)("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),(0,i.jsx)("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"})]})}function H(){return(0,i.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,i.jsx)("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),(0,i.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),(0,i.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),(0,i.jsx)("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),(0,i.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"})]})}function V(){return(0,i.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),(0,i.jsx)("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),(0,i.jsx)("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),(0,i.jsx)("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),(0,i.jsx)("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),(0,i.jsx)("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),(0,i.jsx)("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),(0,i.jsx)("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),(0,i.jsx)("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),(0,i.jsx)("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),(0,i.jsx)("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),(0,i.jsx)("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),(0,i.jsx)("path",{d:"M12 16H14V26H12V16Z",fill:"white"})]})}let G="figjam_pan_zoom_onboarding--icon--TaGJG",z="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",K={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function W({children:e}){return(0,i.jsx)("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN",children:e})}function Z(e){let{onNext:t,onManualDismiss:n}=e,s=(0,r.wA)(),l=(0,a.useCallback)(()=>{s(f.b({[K.NEW_USER_ZOOM]:!0}))},[s]),d=(0,a.useCallback)(()=>{l(),n()},[l,n]),c=(0,a.useCallback)(()=>{l(),t()},[l,t]);return(0,a.useEffect)(()=>(o.glU?.setUsedZoomAction(!1),v.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",c),()=>{v.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",c)}),[s,c]),(0,i.jsx)(F.p,{trackingContext:"FigJam New User Zoom Banner",content:(0,i.jsx)("div",{className:z,children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",{boldTextPinch:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:u()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",G),children:(0,i.jsx)(B,{})}),(0,i.jsx)(W,{children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch")})]}),boldTextScroll:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:G,children:(0,i.jsx)(U,{})}),(0,i.jsx)(W,{children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll")})]})})}),rightContent:(0,i.jsx)(X,{onChangePreferences:e.onChangePreferences}),onClose:d})}function q(e){let{onManualDismiss:t}=e,[n,s]=(0,a.useState)(!1),l=(0,r.wA)();(0,p.h)(()=>{setTimeout(()=>{s(!0)},1e3)});let d=(0,a.useCallback)(()=>{l(f.b({[K.NEW_USER_PAN]:!0}))},[l]),c=(0,a.useCallback)(()=>{d(),t()},[d,t]);return((0,a.useEffect)(()=>{if(n)return o.glU?.setUsedPanAction(!1),v.Y5.fromFullscreen.on("panActionMessageForOnboarding",c),()=>{v.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",c)}},[l,n,c]),n)?(0,i.jsx)(F.p,{trackingContext:"FigJam New User Pan Banner",content:(0,i.jsx)("div",{className:z,children:(0,h.tx)("rcs.figjam_pan.move_instructions",{boldTextSwipe:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:G,children:(0,i.jsx)(V,{})}),(0,i.jsx)(W,{children:(0,h.tx)("rcs.figjam_pan.move_instructions_bold_text_swipe")})]}),boldTextRightClick:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:G,children:(0,i.jsx)(H,{})}),(0,i.jsx)(W,{children:(0,h.tx)("rcs.figjam_pan.hold_right_click")})]})})}),rightContent:(0,i.jsx)(X,{onChangePreferences:e.onChangePreferences}),onClose:c}):null}function X({onChangePreferences:e}){return(0,i.jsx)("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,h.tx)("rcs.figjam_pan_zoom_change_prefs")})}function Y(){let e=(0,C.aV)(),t=(0,k.Td)(),n=(0,r.d4)(e=>e.isMakeSomethingV2Active);return t||e||n?null:(0,i.jsx)(et,{})}let J=(0,y.r1)(K.NEW_USER_PAN),Q=(0,y.r1)(K.NEW_USER_ZOOM),$=(0,y.Fu)("figjam_editor_onboarded"),ee=[function(e){let{isOverlayShowing:t,next:n,complete:a,onChangePreferences:r}=e;return t?(0,i.jsx)(Z,{onNext:n,onManualDismiss:a,onChangePreferences:r}):null},function(e){let{isOverlayShowing:t,complete:n,onChangePreferences:a}=e;return t?(0,i.jsx)(q,{onNext:n,onManualDismiss:n,onChangePreferences:a}):null}];function et(){let e=(0,d.md)(J),t=(0,d.md)(Q),n=(0,d.md)($),r=(0,d.md)(x.Fy),o=(0,d.md)(x.g5),l=(0,d.md)(x.NT),c=(0,d.md)(T.w),[u,p]=(0,a.useState)(!1),h=(0,_.A)({numSteps:ee.length,onComplete:s.lQ}),{show:f,complete:y,isShowing:v}=(0,g.e)({overlay:D.eD$,priority:E.N.DEFAULT_MODAL},[e,t,n,r,o,l]);(0,a.useEffect)(()=>{let e=[T.tX.NOT_STARTED,T.tX.COMPLETED].includes(c),t=h.currentStep===ee.length-1;v||!e||t||f({canShow:(e,t,n,i,a,r)=>{let s=!m.Xb&&!m.aR,o=(0,w.d)({emailValidatedAt:a,jobTitle:r});return![T.tX.USE_CASE_STEPS,T.tX.MODAL_SHOWING].includes(c)&&(!!n||o)&&!i&&!e&&!t&&s}})},[v,c,f,h.currentStep]);let b=(0,a.useCallback)(()=>{p(!0)},[p]),C=(0,a.useCallback)(()=>{p(!1)},[p]);return v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.U,{currentStep:h.currentStep,children:ee.map((e,t)=>a.createElement(e,{isOverlayShowing:h.currentStep===t,next:h.next,complete:y,onChangePreferences:b})),isShowing:!0}),u?(0,i.jsx)(M,{dismissModal:C,targetKey:1===h.currentStep?P.oi.PAN:P.oi.ZOOM}):null]}):null}function en(){return(0,l.kc)().figjam_nav_new_user_onboarding&&(0,b.UK)().scrollWheelZoom.getCopy()&&(0,b.UK)().rightClickPan.getCopy()}},610029:(e,t,n)=>{n.d(t,{q:()=>K,x:()=>V});var i=n(104076),a=n(716976),r=n(903927),s=n(795033),o=n(511570),l=n.n(o),d=n(755444),c=n(1188),u=n(236631),p=n(891943),m=n(411017),h=n(835258),f=n(851461),g=n(288747),_=n(592726),x=n(530299),y=n(96213),v=n(894210),b=n(598430),C=n(994847),E=n(233067),j=n(544452),w=n(914837),T=n(53251),k=n(851669),I=n(942385),S=n(734264),N=n(183507),A=n(378410),L=n(488922),O=n(362073),R=n(404343),P=n(231704),M=n(43857);let D=R.YCy,F=[{src:(0,d.ck)("9cd2eb2ff31cb221dce81ca1e67aa51e12b24166"),zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:(0,d.ck)("276fdbb8f6edbcb958f84235ebfc58b63eab0fc2"),zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:(0,d.ck)("94db9cf93e2a26f927d5f1a7f066f8b045985011"),zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:(0,d.ck)("004b50b1460d47029608e9aaa66c09c1c94c6741"),zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function B({recentItems:e,toolbarIconScale:t,isModalOpen:n}){let a=(0,w.ws)(e);return(0,i.jsx)("div",{className:l()(M.z6,M.ac,P.JY),style:{width:112*t},children:F.map((e,r)=>{var s,o;let l=a[r];return(0,i.jsx)(H,{zIndex:D+1+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:n,transform:(s={x:e.translateStart.x*t,y:e.translateStart.y*t},o=e.rotateStart,`translate(calc(-50% + ${s.x}px), calc(-50% + ${s.y}px)) rotate(${o}deg)`),children:l?(0,i.jsx)(k.E,{item:l,width:e.width*t,height:e.height*t,disableTooltips:!0}):(0,i.jsx)("img",{src:e.src,alt:"",className:P.VF})},l?.id||e.src)})})}function U({onClick:e,isSelected:t,isHovered:n}){return(0,i.jsx)("div",{className:u.s.flex.itemsCenter.justifyCenter.mx20.h40.w40.$,children:(0,i.jsx)(N.I,{toolType:"universal-insert-collage",recordingKey:(0,j.hx)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":v.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2,children:(0,i.jsx)(I.gd,{toolType:"universal-insert-collage",inactiveIcon:(0,i.jsx)(A.nX,{}),hoveredIcon:(0,i.jsx)(A.ZH,{}),activeIcon:(0,i.jsx)(A.cs,{}),isSelected:t,isHovered:n})})})}function H({zIndex:e,width:t,height:n,transform:a,isModalOpen:r,children:s}){return(0,i.jsx)("div",{className:l()(P.s,{[P.r3]:r}),style:{zIndex:e,width:t,height:n,transform:a},children:(0,i.jsx)("div",{className:P.f_,children:s})})}function V(e,t){let[n,i]=(0,a.useState)(!1),r=(0,a.useRef)(!1),s=(0,a.useRef)([]);return s.current=t,(0,a.useEffect)(()=>{e||r.current||(r.current=!0,async function(){let e=[];for(let t of s.current)t&&e.push(new Promise(e=>{let n=new Image;n.src=t,n.addEventListener("load",()=>e()),n.addEventListener("error",()=>e())}));await Promise.all(e),i(!0)}())},[e]),n}function G({toolbarIconScale:e}){let t=(0,_.TA)(),[n,o]=(0,a.useState)(!1),l=(0,r.wA)(),d=(0,w.NT)(),c=(0,s.md)(E.c5),u=(0,f.XM)(),v=(0,g.sZ)(),T=(0,r.d4)(e=>e.universalInsertModal.showing),I=(0,m.fG)(),A=(0,O.r)(T,c?.stage!=="FULL"?C.p.MORE:void 0);(0,a.useEffect)(()=>{l(b.cd.fetchTemplatesMetadata({key:y.$A.FigJam,orgId:v?.id})),l(b.cd.fetchWidgetsMetadata({key:y.$A.FigJam})),o(!0)},[l,v?.id]);let R=(0,x.oh)(p.fC),D=(0,x.oh)(b.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:y.$A.FigJam})),F=(0,x.oh)(b.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:y.$A.FigJam})),H=V(!n||R||D||F,d.map(e=>(0,k.h)(e,I,t??void 0)))?d.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",G=u&&c?.stage==="MINIMIZED_ZERO"||c?.stage==="MINIMIZED"||c?.stage==="CUT_OFF";return(0,i.jsx)(S.XN,{alignment:"CENTER",children:(0,i.jsx)(N.I,{toolType:"universal-insert-collage",recordingKey:(0,j.hx)("universal-insert-collage"),isSelected:T,className:h.pb.isGoogleClassroomIntegration()?M.vy:M.qs,onClick:A,ariaLabel:"browse-all-resources-dlt",onboardingKey:L.yl,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:T,children:t=>(0,i.jsx)(S.ti,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0,children:(0,i.jsxs)("div",{className:P.Ge,"data-element-target":L.b,"data-cancel-insertable-resource-drag-and-drop":!0,children:[!G&&(0,i.jsx)(B,{recentItems:d,toolbarIconScale:e,isModalOpen:T},H),(0,i.jsx)(U,{onClick:A,isSelected:T,isHovered:t})]})})})})}function z(){return(0,i.jsx)(S.XN,{alignment:"CENTER",children:(0,i.jsx)("div",{"data-element-target":L.b,className:P.V6,children:(0,i.jsx)(T.Hm,{})})})}let K=(0,a.memo)(function({toolbarIconScale:e}){return(0,i.jsx)(c.tH,{fallback:(0,i.jsx)(z,{}),boundaryKey:"UniversalInsertCollage",children:(0,i.jsx)(G,{toolbarIconScale:e})})})},403607:(e,t,n)=>{n.d(t,{U:()=>f,j:()=>g});var i=n(104076),a=n(17140);let r="M14.9998 22.0001C16.6567 22.0001 17.9998 23.3433 17.9998 25.0001V29.0001C17.9998 30.657 16.6567 32.0001 14.9998 32.0001H10.9998C9.39474 32.0001 8.08406 30.7396 8.00376 29.1544L7.99985 29.0001V25.0001C7.99985 23.3433 9.34299 22.0001 10.9998 22.0001H14.9998ZM27.9998 26.0001H31.9998V28.0001H27.9998V32.0001H25.9998V28.0001H21.9998V26.0001H25.9998V22.0001H27.9998V26.0001ZM10.9998 24.0001L10.8973 24.005C10.3932 24.0563 9.99985 24.4824 9.99985 25.0001V29.0001L10.0047 29.1027C10.0526 29.5731 10.4269 29.9473 10.8973 29.9952L10.9998 30.0001H14.9998L15.1024 29.9952C15.5728 29.9473 15.9471 29.5731 15.995 29.1027L15.9998 29.0001V25.0001C15.9998 24.4824 15.6065 24.0563 15.1024 24.005L14.9998 24.0001H10.9998ZM11.7372 7.44836C12.5227 6.80757 13.6816 6.85379 14.4139 7.58605L18.4139 11.5861L18.5516 11.7374C19.1924 12.523 19.1462 13.6819 18.4139 14.4142L14.4139 18.4142C13.6816 19.1464 12.5227 19.1927 11.7372 18.5519L11.5858 18.4142L7.58579 14.4142C6.80474 13.6331 6.80474 12.3671 7.58579 11.5861L11.5858 7.58605L11.7372 7.44836ZM26.9998 8.00012C29.7613 8.00012 31.9998 10.2387 31.9998 13.0001C31.9998 15.7615 29.7613 18.0001 26.9998 18.0001C24.2384 18.0001 21.9998 15.7615 21.9998 13.0001C21.9998 10.2387 24.2384 8.00012 26.9998 8.00012ZM8.99985 13.0001L12.9998 17.0001L16.9998 13.0001L12.9998 9.00012L8.99985 13.0001ZM26.9998 10.0001C25.343 10.0001 23.9998 11.3433 23.9998 13.0001C23.9998 14.657 25.343 16.0001 26.9998 16.0001C28.6567 16.0001 29.9998 14.657 29.9998 13.0001C29.9998 11.3433 28.6567 10.0001 26.9998 10.0001Z",s="M29.5788 26.1828C29.7208 25.6148 30.5284 25.6149 30.6706 26.1828L31.2497 28.5001L33.5671 29.0792C34.1352 29.2213 34.1352 30.029 33.5671 30.171L31.2497 30.7501L30.6706 33.0675C30.5284 33.6354 29.7208 33.6355 29.5788 33.0675L28.9997 30.7501L26.6823 30.171C26.1147 30.0288 26.1147 29.2215 26.6823 29.0792L28.9997 28.5001L29.5788 26.1828ZM17.4342 10.3097C18.2606 7.89508 21.7387 7.89512 22.5651 10.3097L22.6383 10.5587L23.8981 15.6007L28.9411 16.8615C31.602 17.527 31.6851 21.2117 29.1901 22.0656L28.9411 22.1388L23.8981 23.3986L22.6383 28.4416C21.9513 31.1881 18.048 31.1881 17.361 28.4416L16.1003 23.3986L11.0583 22.1388C8.31197 21.4517 8.31197 17.5486 11.0583 16.8615L16.1003 15.6007L17.361 10.5587L17.4342 10.3097ZM20.6979 11.0441C20.516 10.3171 19.4833 10.3171 19.3014 11.0441L17.7497 17.2501L11.5436 18.8019C10.8169 18.9839 10.8169 20.0164 11.5436 20.1984L17.7497 21.7501L19.3014 27.9562C19.4719 28.6378 20.3909 28.6805 20.6549 28.0841L20.6979 27.9562L22.2497 21.7501L28.0827 20.2912L28.4557 20.1984C29.1373 20.0279 29.1801 19.1088 28.5837 18.8449L28.4557 18.8019L22.2497 17.2501L20.6979 11.0441ZM9.32878 5.93276C9.47084 5.36482 10.2784 5.3649 10.4206 5.93276L10.9997 8.25015L13.3171 8.82925C13.8852 8.97127 13.8852 9.77902 13.3171 9.92105L10.9997 10.5001L10.4206 12.8175C10.2784 13.3854 9.47084 13.3855 9.32878 12.8175L8.74967 10.5001L6.43229 9.92105C5.86469 9.77879 5.86469 8.9715 6.43229 8.82925L8.74967 8.25015L9.32878 5.93276Z";function o(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"white"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:r,fill:"black",fillOpacity:"0.9"})]})}function l(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:r,fill:"black",fillOpacity:"0.9"})]})}function d(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:r,fill:"white"})]})}function c(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:r,fill:"black",fillOpacity:"0.9"})})]})}function u(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"white"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})]})}function p(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})]})}function m(){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"white"})]})}function h(){return(0,i.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,i.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,i.jsx)("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})})]})}function f(){let e=!(0,a.q8)();return{Inactive:e?u:o,GrayHover:e?p:l,Active:e?m:d}}function g(){return(0,a.q8)()?(0,i.jsx)(c,{}):(0,i.jsx)(h,{})}},709449:(e,t,n)=>{n.d(t,{Cb:()=>G,E0:()=>U,Ef:()=>B,IW:()=>L,PX:()=>z,Pn:()=>F,QL:()=>V,UI:()=>O,Uj:()=>A,Wb:()=>D,Y:()=>M,Yh:()=>H,kw:()=>P,u3:()=>R,z1:()=>K});var i=n(104076),a=n(716976),r=n(276800),s=n(889366),o=n(649220),l=n(116285),d=n(185377),c=n(170627),u=n(812714),p=n(795033),m=n(221586),h=n(17140),f=n(192075),g=n(330378),_=n(354114),x=n(54092),y=n(894210),v=n(973369),b=n(516813),C=n(571267),E=n(210170),j=n(792794),w=n(4521),T=n(712559),k=n(339098),I=n(796779),S=n(853229),N=n(371621),A=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster_by_topic",e.TIDY_UP="tidy_up",e.WRAP_IN_SECTION="wrap_in_section",e.CLUSTER_BY_AUTHOR="cluster_by_author",e.CLUSTER_BY_COLOR="cluster_by_color",e.CLUSTER_BY_STAMP_COUNT="cluster_by_stamp_count",e.CLUSTER_BY_STAMP_TYPE="cluster_by_stamp_type",e.OPEN_CLUSTER_BY_MORE_MENU="open_cluster_by_more_menu",e.CREATE_FIGMA_SLIDES_OUTLINE="create_figma_slides_outline",e))(A||{});let L={summarize:!0,cluster_by_topic:!0,create_figma_slides_outline:!0,tidy_up:!1,wrap_in_section:!1,cluster_by_author:!1,cluster_by_color:!1,cluster_by_stamp_count:!1,cluster_by_stamp_type:!1,open_cluster_by_more_menu:!1},O=(0,p.eU)(!1),R=(0,p.eU)(null),P=(0,p.eU)(!1),M=(0,p.eU)(!1);function D(){let e=F(),[t,n]=(0,p.fp)(M),i=(0,p.Xr)(P);return a.useCallback(()=>{e(),n(!1),i(!1)},[e,n,i])}function F(){let[e,t]=(0,p.fp)(R),[n,i]=(0,p.fp)(O);return a.useCallback(()=>{t(null),i(!1)},[t,i])}function B(e){return!!e&&(L[e.type]||!1)}function U(){return(0,j.v1)()}function H(){let e=(0,h.q8)(),t=(0,u.kc)().figjam_synthesize_handbrake||!1,n=[],a=(0,j.V)()&&!e,r=(0,j.cF)(),c=(0,b.IR)(),p=U(),m=(0,x.Zr)("create-section-from-selection"),_=(0,x.Zr)("tidy-up"),C=(0,x.Zr)("align-top"),E={tooltip:v.w,tooltipType:y.Ib.SPECIAL};return p&&n.push({type:"open_cluster_by_more_menu",disabled:!1,isInClusterSubmenu:!1,displayText:"",disabledTooltipText:""}),a&&n.push({type:"summarize",disabled:!r||t,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:k.A,fplIcon:(0,i.jsx)(s.O,{}),disabledTooltipText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?E:void 0,isInClusterSubmenu:!1}),_&&C&&n.push({type:"tidy_up",disabled:!1,displayText:(0,g.A)("tidy-up"),svgSrc:N.A,fplIcon:(0,i.jsx)(o.D,{}),tooltipOverrides:{tooltip:"tidy-up",tooltipType:y.Ib.LOOKUP}}),m&&n.push({type:"wrap_in_section",disabled:!1,displayText:(0,g.A)("create-section-from-selection"),svgSrc:S.A,fplIcon:(0,i.jsx)(l.c,{}),tooltipOverrides:{tooltip:"create-section-from-selection",tooltipType:y.Ib.LOOKUP}}),c&&n.push({type:"create_figma_slides_outline",disabled:t,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline"),svgSrc:I.A,fplIcon:(0,i.jsx)(d.x,{}),disabledTooltipText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?E:void 0,isInClusterSubmenu:!1}),n}function V(){return[...function(){let e=(0,h.q8)(),t=(0,j.v1)();if(e)return[];let n=!!(0,u.kc)().figjam_synthesize_handbrake,i=[],a=(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),r={tooltip:v.w,tooltipType:y.Ib.SPECIAL};return i.push({type:"cluster_by_topic",disabled:!t||n,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic_2"),disabledTooltipText:a,tooltipOverrides:n?r:void 0,isInClusterSubmenu:!0}),i}(),...function(){let e=(0,j.v1)(),t=(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),n=[];return n.push({type:"cluster_by_color",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color_2"),disabledTooltipText:t}),n.push({type:"cluster_by_author",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author_2"),disabledTooltipText:t}),n.push({type:"cluster_by_stamp_count",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count_2"),disabledTooltipText:t}),n.push({type:"cluster_by_stamp_type",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type_2"),disabledTooltipText:t}),n}()].filter(e=>e?.isInClusterSubmenu&&"open_cluster_by_more_menu"!==e.type)}function G(){return!!H().find(e=>e?.type==="summarize"||e?.type==="cluster_by_topic"||e?.type==="open_cluster_by_more_menu")}function z(){let e=(0,p.md)(T.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,w.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:n}=(0,E.f)(),{cluster:i}=(0,E.J)(C.Gq,!1),{cluster:a}=(0,E.J)(C.MS,!1),{cluster:s}=(0,E.J)(C.bM,!0),{cluster:o}=(0,E.J)(C.ON,!1),l=(0,b.iX)(),d=D();return e=>{let u=r.lQ,p="";if(e){switch(e.type){case"cluster_by_author":u=i,p="inline-menu-organize-cluster-by-author";break;case"cluster_by_color":u=a,p="inline-menu-organize-cluster-by-color";break;case"cluster_by_stamp_count":u=s,p="inline-menu-organize-cluster-by-stamp-count";break;case"cluster_by_stamp_type":u=o,p="inline-menu-organize-cluster-by-stamp-type";break;case"summarize":u=t,p="inline-menu-organize-summarize";break;case"create_figma_slides_outline":u=l,p="inline-menu-organize-create-figma-slides-outline";break;case"cluster_by_topic":u=n,p="inline-menu-organize-cluster";break;case"tidy_up":u=()=>_.Y5.triggerActionInUserEditScope("tidy-up"),p="inline-menu-organize-tidy-up";break;case"wrap_in_section":u=()=>_.Y5.triggerActionInUserEditScope("create-section-from-selection"),p="inline-menu-organize-wrap-in-section"}c.l7.user(p,u),"open_cluster_by_more_menu"!==e.type&&d()}}}function K(){let[e,t]=(0,p.fp)(O),[n,i]=(0,p.fp)(R),[a,r]=(0,p.fp)(P),s=V(),o=z();return(r,l)=>{if(r.shiftKey||r.altKey||r.ctrlKey){l(r);return}if(e)switch(r.keyCode){case m.Uz.ESCAPE:t(!1),i(null);break;case m.Uz.DOWN_ARROW:null===n?i(0):n+1<s.length&&i(n+1);break;case m.Uz.UP_ARROW:null===n?i(s.length-1):n-1>=0&&i(n-1);break;case m.Uz.RIGHT_ARROW:null===n&&i(0);break;case m.Uz.LEFT_ARROW:i(null),t(!1);break;case m.Uz.ENTER:null!==n&&n<s.length&&(r.preventDefault(),r.stopPropagation(),o(s[n]))}else if(a)switch(r.keyCode){case m.Uz.RIGHT_ARROW:t(!0);break;case m.Uz.LEFT_ARROW:t(!1);break;default:l(r)}else l(r)}}},199984:(e,t,n)=>{n.d(t,{V3:()=>L,ML:()=>K,w:()=>A,HG:()=>O});var i=n(104076),a=n(716976),r=n(903927),s=n(420680),o=n(423128),l=n(266808),d=n(138564),c=n(858959),u=n(561839),p=n(430),m=n(641518),h=n(72138),f=n(192075),g=n(659062),_=n(562951),x=n(520960),y=n(141524),v=n(835307),b=n(410187),C=n(849038),E=n(279915),j=n(526818),w=n(174318),T=n(223837),k=n(692042);function I({nodePosition:e,isExpanded:t,children:n}){let r=(0,k._X)({subscribeToUpdates_expensive:!0}),s=(0,a.useMemo)(()=>(0,k.Yb)(r,e.absoluteBounds),[e.absoluteBounds,r]),o=(0,a.useMemo)(()=>(0,k.ZT)(s,r),[s,r]),l=(0,a.useMemo)(()=>{if(!s)return{};let e=s.x+r.x,n=s.y+r.y;return{width:s.width,height:s.height,position:"fixed",transform:`translate(${e}px, ${n}px)`,pointerEvents:"none",zIndex:t?1:0}},[r.x,r.y,s,t]);return o?(0,i.jsx)("div",{style:l,children:(0,i.jsx)("div",{style:{pointerEvents:"all"},children:n({viewportZoom:r.zoomScale})})}):null}var S=n(404343),N=n(895528);let A=32,L=7.5,O=256;var R=(e=>(e.DEFAULT="default",e.HOVERED="hovered",e.SELECTED="selected",e.DIMMED="dimmed",e))(R||{}),P=(e=>(e.LARGE="large",e.MEDIUM="medium",e.SMALL="small",e.X_SMALL="xSmall",e))(P||{});function M({clientHeight:e,scrollHeight:t,scrollTop:n}){return 1>Math.abs(t-e-n)}function D({nodeVoteInfo:e,isMostVoted:t,isSelected:n,isHoveredInModal:r,isOtherPinSelected:s,selectPin:o,deselectPin:d,nodePosition:c,currentUserId:u}){let[p,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(p),[g,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!p){f(!1);return}let e=setTimeout(()=>f(!0),100);return()=>clearTimeout(e)},[p]);let x=(0,a.useCallback)(()=>o(e.guid),[o,e.guid]),y=(0,a.useCallback)(()=>d(e.guid),[d,e.guid]),v=n?"selected":h||r?"hovered":s?"dimmed":"default",b="selected"===v||"hovered"===v;return(0,a.useEffect)(()=>{b&&!g?(l.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!0),_(!0)):!b&&g&&(l.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!1),_(!1))},[b,g,e.guid]),(0,i.jsx)(I,{nodePosition:c,isExpanded:["selected","hovered"].includes(v),children:({viewportZoom:n})=>(0,i.jsx)(F,{recordingKey:`votePin-nodeId${e.guid}`,nodeVoteInfo:e,isMostVoted:t,pinState:v,setIsHovered:m,selectPin:x,deselectPin:y,viewportSize:n>.75?"large":n>.5?"medium":n>.25?"small":"xSmall",currentUserId:u})})}let F=a.memo(function({nodeVoteInfo:e,isMostVoted:t,pinState:n,setIsHovered:r,selectPin:l,deselectPin:p,viewportSize:_,currentUserId:y,recordingKey:v}){let b=(0,a.useRef)(null),C=(0,a.useRef)(null),[E,j]=(0,a.useState)(0),[T,k]=(0,a.useState)(!1),[I,O]=(0,a.useState)(!0),[R,P]=(0,a.useState)(0),[D,F]=(0,a.useState)(!1),V=(0,w.oC)(e),z={large:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"10px",paddingRight:"10px"},medium:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"8px",paddingRight:"8px"},small:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"7px",paddingRight:"7px"},xSmall:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"6px",paddingRight:"6px"}}[_],K={large:1,medium:.9,small:.8,xSmall:.7}[_];(0,a.useEffect)(()=>{if("selected"!==n)return;let e=e=>{(0,x.n3)(e.target,b.current)||p()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[n,p,e.guid]);let W=t?g.sx.colorBgvotingtertiary.$.backgroundColor:g.sx.colorBg.$.backgroundColor,Z={default:{transform:`scale(${K})`,backgroundColor:W,borderColor:W,opacity:1,...z},dimmed:{transform:`scale(${K})`,backgroundColor:W,borderColor:W,opacity:.5,...z},hovered:{transform:"scale(1)",backgroundColor:W,borderColor:W,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"},selected:{transform:"scale(1)",backgroundColor:W,...g.sx.colorBorderSelectedStrong.$,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"}},q={default:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},dimmed:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},hovered:{width:S.$tX,height:S.$tX,marginLeft:"8px",marginRight:"12px",opacity:0},selected:{width:S.$tX,height:S.$tX,marginLeft:"8px",marginRight:"12px",opacity:1}},X=(0,a.useMemo)(()=>{let t=(0,w.zi)(y);return Object.entries(e.userIdToNodeVotes).sort((e,n)=>t(e[0],n[0]))},[e.userIdToNodeVotes,y]),Y=X.length>3,J=Y?X.slice(0,2):X,Q=Y?X.slice(2):[],$={hovered:{height:`${A}px`},selected:{height:"auto"}},ee=(0,a.useCallback)(e=>{let t=0!==e;t!==T&&k(t);let n=C.current?.getScrollHeight(),i=C.current?.getTrackHeight(),a=void 0===n||void 0===i||M({clientHeight:i,scrollHeight:n,scrollTop:e});a!==I&&O(a)},[T,I]),et=(0,a.useCallback)(e=>{if(!e||!C.current){k(!1),O(!0);return}let t=C.current.getScrollTop(),n=C.current.getScrollHeight(),i=C.current.getTrackHeight();k(0!==t),O(M({clientHeight:i,scrollHeight:n,scrollTop:t}))},[]);return(0,i.jsxs)(d.x,{transition:{duration:.1,ease:"easeInOut"},children:[(0,i.jsx)("div",{role:"button",tabIndex:0,className:N.UD,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:m.rf(v,"click",l),ref:b,style:{transform:`translateX(${10-E}px)`},id:e.guid,children:(0,i.jsxs)(c.P.div,{className:N.yM,initial:!1,animate:n,variants:Z,children:[(0,i.jsxs)("p",{className:N.wx,children:[(0,i.jsx)(B,{numTotalVotes:V,isMostVoted:t}),(0,i.jsx)(c.P.span,{className:N.cG,initial:!1,animate:n,variants:q,children:"selected"===n&&(0,i.jsx)(s.K,{onClick:e=>{e.stopPropagation(),p(),r(!1)},"aria-label":(0,f.t)("general.close"),children:(0,i.jsx)(o.A,{})})})]}),(0,i.jsx)(u.N,{children:["selected","hovered"].includes(n)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.P.div,{className:N.W0,animate:"selected"===n&&T&&!D?"scrolled":"notScrolled",initial:{marginTop:"0px",opacity:0},variants:{notScrolled:{marginTop:"4px",opacity:0},scrolled:{marginTop:"4px",opacity:1}},exit:{marginTop:"0px",opacity:0}}),(0,i.jsx)(c.P.div,{className:N.sI,initial:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/K})`},animate:{width:"240px",height:"auto",opacity:1,transform:"scale(1)"},exit:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/K})`},children:(0,i.jsx)(h.P,{ref:C,maxHeight:A*L,width:240,allowScrollAndZoomOver:!0,onScroll:ee,onCanScrollChange:et,forceRerenderCount:R,children:(0,i.jsxs)("ul",{className:N.hQ,children:[J.map(([e,t])=>(0,i.jsx)(H,{userId:e,nodeVotes:t},e)),Y&&(0,i.jsxs)(c.P.div,{initial:!1,animate:n,variants:$,onAnimationStart:()=>F(!0),onAnimationComplete:()=>{F(!1),P(e=>e+1)},children:["hovered"===n&&(0,i.jsx)(G,{overflowCount:X.length-J.length}),"selected"===n&&Q.map(([e,t])=>(0,i.jsx)(H,{userId:e,nodeVotes:t},e))]})]})})}),(0,i.jsx)(c.P.div,{className:N.W0,animate:"selected"!==n||I||D?"hide":"show",initial:{opacity:0},variants:{show:{opacity:1},hide:{opacity:0}},exit:{opacity:0}})]})})]})}),(0,i.jsx)(U,{reportWidth:j,numTotalVotes:V,isMostVoted:t,scale:K,padding:z})]})});function B({numTotalVotes:e,isMostVoted:t}){return(0,i.jsxs)("span",{className:N.TK,children:[(0,i.jsx)("span",{children:(0,f.tx)("voting.pin.votes",{numVotes:e})}),t&&(0,i.jsx)("img",{src:j.Ys,className:N.C0,alt:(0,f.t)("voting.pin.medal_img_alt")})]})}function U({reportWidth:e,numTotalVotes:t,isMostVoted:n,scale:r,padding:s}){let o=a.useRef(null);return a.useLayoutEffect(()=>{let t=o.current;if(t){let{width:n}=t.getBoundingClientRect();window.myEl=t,e(n)}},[o,t,n,r,s.paddingLeft,s.paddingRight,s.paddingTop,s.paddingBottom,e]),(0,i.jsx)("div",{className:N.D9,style:{transform:`scale(${r})`},"aria-hidden":!0,children:(0,i.jsx)("span",{style:s,ref:o,children:(0,i.jsx)(B,{numTotalVotes:t,isMostVoted:n})})})}function H({userId:e,nodeVotes:t}){let n=t.length>3,a=n?t.slice(0,2):t,r=t.length-2;return(0,i.jsxs)("li",{className:N.QE,children:[(0,i.jsx)(V,{userId:e}),(0,i.jsxs)("div",{className:N.WK,children:[a.map(e=>(0,i.jsx)(z,{stampId:e},e)),n&&(0,i.jsx)("span",{className:N._v,children:r})]})]},e)}function V({userId:e}){let{user:t,loading:n}=(0,y.wW)(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.v,{userId:e,user:t,loading:n,size:24,loadingClassName:N.SD}),(0,i.jsx)(E.m,{userId:e,user:t,loading:n,defaultClassName:N.nT,loadingClassName:N.fK})]})}function G({overflowCount:e}){return(0,i.jsxs)("li",{className:N.Qf,children:[(0,i.jsx)("div",{className:N.EA,children:(0,i.jsx)(j.xL,{})}),(0,i.jsx)("span",{className:N.iG,children:(0,f.tx)("voting.pin.voter_list_overflow",{numOverflowingVoters:e})})]})}function z({stampId:e}){let t=(0,p.fU)(),n=(0,v.Fk)((e,t)=>{let n=e.get(t);return n?n.name:null},e),a=(()=>{let e=C.WJ.find(e=>e.label===n);return e&&(0,b.k6)(e,t)||C.tR})(),r=n?(0,f.t)("voting.pin.stamp_preview_alt_with_type",{stampType:n}):(0,f.t)("voting.pin.stamp_preview_alt_without_type");return(0,i.jsx)("img",{className:N.O8,src:a,alt:r})}function K({votedNodes:e,votingStage:t,selectedNodeId:n,currentUserId:s}){let o=(0,r.wA)(),d=(0,r.d4)(e=>e.voting.hoveredInModalVotePinId),c=(0,a.useMemo)(()=>(0,w.yn)(e),[e]),u=(0,a.useCallback)(e=>o(_.w9({votePinId:e})),[o]),p=(0,a.useCallback)(e=>o(_.rT({votePinId:e})),[o]),m=function({votedNodes:e}){let[t,n]=(0,a.useState)({}),i=(0,a.useMemo)(()=>e.map(e=>e.guid),[e]);return(0,a.useEffect)(()=>{if(!i.length){n({});return}let e="vote-pins",t=(0,T.EE)(e,i,e=>{n(t=>({...t,[e.nodeId]:e.position}))});return n(Object.entries(t.currentNodePosition).reduce((e,[t,n])=>(n&&(e[t]=n.position),e),{})),()=>{(0,T.lB)(e)}},[i]),t}({votedNodes:e});return(0,i.jsx)(i.Fragment,{children:e.map(e=>{let a=m[e.guid];if(!a)return null;let r=1===c.size&&c.has(e.guid)&&t===l.W8Y.ENDED;return(0,i.jsx)(D,{currentUserId:s,deselectPin:p,isHoveredInModal:d===e.guid,isMostVoted:r,isOtherPinSelected:!!n&&n!==e.guid,isSelected:n===e.guid,nodePosition:a,nodeVoteInfo:e,selectPin:u},e.guid)})})}},526818:(e,t,n)=>{n.d(t,{BV:()=>l,CB:()=>I,Cu:()=>L,D5:()=>x,EW:()=>h,G7:()=>r,Gg:()=>A,H$:()=>R,H0:()=>c,HK:()=>M,I5:()=>H,JK:()=>k,Mi:()=>E,N$:()=>d,QD:()=>B,QZ:()=>D,R8:()=>O,Un:()=>T,Vq:()=>F,Yl:()=>_,Ys:()=>s,_K:()=>g,ak:()=>C,c1:()=>N,dA:()=>w,dH:()=>m,h9:()=>f,kj:()=>y,lm:()=>S,pt:()=>b,qn:()=>j,rQ:()=>v,sJ:()=>U,xL:()=>o,xf:()=>p,yc:()=>u,zp:()=>P});var i=n(104076),a=n(755444);let r=(0,a.ck)("054596349bf8a2ae155aa7818cf2a3cbf483a9f4"),s=(0,a.ck)("295306027f272a9b0931ddec9321361f7cd8299b");function o(){return(0,i.jsx)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3.5C8.5 4.88071 7.38071 6 6 6C4.61929 6 3.5 4.88071 3.5 3.5C3.5 2.11929 4.61929 1 6 1C7.38071 1 8.5 2.11929 8.5 3.5ZM9.5 3.5C9.5 5.433 7.933 7 6 7C4.067 7 2.5 5.433 2.5 3.5C2.5 1.567 4.067 0 6 0C7.933 0 9.5 1.567 9.5 3.5ZM17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5ZM18 5C18 6.65685 16.6569 8 15 8C13.3431 8 12 6.65685 12 5C12 3.34315 13.3431 2 15 2C16.6569 2 18 3.34315 18 5ZM13.2108 10.4215C13.7492 10.1518 14.3569 10 15 10C17.2091 10 19 11.7909 19 14H20C20 11.2386 17.7614 9 15 9C14.1612 9 13.3706 9.20657 12.6763 9.57162C12.8743 9.83933 13.0532 10.1234 13.2108 10.4215ZM12 14H11C11 11.2386 8.76142 9 6 9C3.23858 9 1 11.2386 1 14H0C0 10.6863 2.68629 8 6 8C9.31371 8 12 10.6863 12 14Z"})})}function l({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4137_211384)",children:(0,i.jsxs)("g",{clipPath:"url(#clip1_4137_211384)",children:[(0,i.jsx)("rect",{width:"64",height:"64",transform:"translate(0 16.3726) rotate(-15)",fill:e}),(0,i.jsx)("rect",{x:"12.7651",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.7651 25.3755)",fill:"black",fillOpacity:"0.15"}),(0,i.jsx)("rect",{x:"15.871",y:"36.9666",width:"32",height:"6",transform:"rotate(-15 15.871 36.9666)",fill:"black",fillOpacity:"0.15"})]})}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_4137_211384",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,i.jsx)("clipPath",{id:"clip1_4137_211384",children:(0,i.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(0 16.3726) rotate(-15)"})})]})]})}function d(){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4119_210884)",children:[(0,i.jsx)("rect",{x:"1.93188",y:"17.8704",width:"40",height:"40",rx:"8",transform:"rotate(-15 1.93188 17.8704)",fill:"white"}),(0,i.jsx)("rect",{x:"4.65869",y:"35.7747",width:"4",height:"4",transform:"rotate(-15 4.65869 35.7747)",fill:"black",fillOpacity:"0.8"}),(0,i.jsx)("path",{d:"M6.55591 33.1958L4.61477 25.9514C3.47123 21.6836 5.43444 17.4495 9.59547 16.3346L33.1641 10.0194C37.3251 8.90444 41.1423 11.5897 42.2859 15.8574L44.227 23.1019",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{d:"M8.62646 40.9232L10.5676 48.1676C11.7111 52.4354 15.5284 55.1206 19.6894 54.0057L43.258 47.6905C47.419 46.5755 49.3822 42.3414 48.2387 38.0737L46.2976 30.8293",stroke:"black",strokeOpacity:"0.2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.2731 19.058L14.8865 23.7167L15.4041 25.6486L23.1315 23.578L28.3079 42.8965L30.2398 42.3789L25.0634 23.0604L32.7908 20.9898L32.2731 19.058Z",fill:"black",fillOpacity:"0.8"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4119_210884",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function c(){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4119_210979)",children:[(0,i.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),(0,i.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4791 74.8821)",width:"10",x:"17.4791",y:"74.8821"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6782 27.9006L46.2859 22.7045L48.2177 22.1868L49.5833 27.2831L54.6798 25.9175L55.1974 27.8493L50.0013 29.2416L49.5104 27.4096L47.6782 27.9006ZM32.6806 33.8827L27.4845 35.275L26.9668 33.3431L32.0632 31.9775L30.6977 26.8814L32.6296 26.3637L34.0219 31.5598L34.1216 31.5331L47.5783 27.9274L49.5101 27.4097L50.0278 29.3416L53.6335 42.7982L54.1511 44.7301L52.2193 45.2477L38.7626 48.8534L36.8308 49.3711L36.8308 49.3711L38.6628 48.8802L40.0551 54.0763L38.1232 54.594L36.7577 49.4977L31.6615 50.8632L31.1438 48.9314L36.3399 47.5391L36.3131 47.4392L32.7074 33.9826L32.1898 32.0507L32.1897 32.0508L32.6806 33.8827ZM48.0959 29.8592L34.6393 33.4649L38.245 46.9216L51.7016 43.3159L48.0959 29.8592ZM54.278 44.8033L59.3744 43.4378L58.8568 41.5059L53.6607 42.8982L54.1515 44.73L52.3193 45.221L53.7116 50.4171L55.6435 49.8994L54.278 44.8033Z",fill:"#0D99FF"}),(0,i.jsx)("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#0D99FF",strokeWidth:"2"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4119_210979",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function u(){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4121_211214)",children:[(0,i.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),(0,i.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4789 74.8821)",width:"10",x:"17.4789",y:"74.8821"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.8154 33.1697L40.4705 25.1453L48.5141 29.7671L43.859 37.7915L35.8154 33.1697ZM37.1696 49.4156L29.1452 44.7605L33.767 36.7169L41.7914 41.372L37.1696 49.4156ZM53.4151 48.061L48.76 56.0855L40.7164 51.4636L45.3715 43.4392L53.4151 48.061ZM60.0855 36.4702L52.0611 31.8151L47.4393 39.8587L55.4637 44.5138L60.0855 36.4702Z",fill:"#8638E5"}),(0,i.jsx)("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#9747FF",strokeWidth:"2"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4121_211214",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function p(){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4591_210267)",children:[(0,i.jsx)("rect",{x:"-2",y:"15.4233",width:"48",height:"48",rx:"9.6",transform:"rotate(-15 -2 15.4233)",fill:"white"}),(0,i.jsx)("rect",{x:"-1.26515",y:"15.8476",width:"46.8",height:"46.8",rx:"9",transform:"rotate(-15 -1.26515 15.8476)",stroke:"black",strokeOpacity:"0.2",strokeWidth:"1.2"}),(0,i.jsx)("circle",{cx:"31.4811",cy:"24.4658",r:"4.2",transform:"rotate(-15 31.4811 24.4658)",stroke:"black",strokeOpacity:"0.8",strokeWidth:"2.4"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.606 20.7418L36.1064 13.909C37.3868 13.566 38.7028 14.3258 39.0458 15.6061L45.8786 41.1065C46.2217 42.3868 45.4619 43.7028 44.1816 44.0459L42.4018 44.5228L21.5894 30.0419L20.6167 29.3651L19.9277 30.3293L13.2094 39.7307L8.90894 23.6812C8.56588 22.4009 9.32568 21.0849 10.606 20.7418ZM14.0138 42.7329L15.7418 49.1817C16.0848 50.462 17.4008 51.2218 18.6812 50.8787L39.368 45.3357L21.1914 32.6888L14.0138 42.7329ZM6.59072 24.3024C5.9046 21.7418 7.4242 19.1097 9.98483 18.4236L35.4853 11.5908C38.0459 10.9047 40.6779 12.4243 41.364 14.9849L48.1969 40.4854C48.883 43.046 47.3634 45.678 44.8028 46.3641L19.3023 53.197C16.7417 53.8831 14.1097 52.3635 13.4235 49.8028L6.59072 24.3024Z",fill:"black",fillOpacity:"0.8"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4591_210267",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function m({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4121_211235)",children:(0,i.jsx)("rect",{y:"16.5644",width:"64",height:"64",rx:"3",transform:"rotate(-15 0 16.5644)",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4121_211235",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function h({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4171_210078)",children:(0,i.jsx)("rect",{x:"-5.5",y:"14.4346",width:"88.7204",height:"72.0853",rx:"25.2992",transform:"rotate(-15 -5.5 14.4346)",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4171_210078",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function f({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4171_210088)",children:(0,i.jsx)("path",{d:"M16.5562 8.25247C16.8973 6.92671 18.0926 6 19.4615 6L89.4516 6C91.4118 6 92.8454 7.84915 92.357 9.74752L73.765 82.0085C73.4239 83.3342 72.2286 84.2609 70.8596 84.2609H0.869569C-1.09063 84.2609 -2.52423 82.4118 -2.0358 80.5134L16.5562 8.25247Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4171_210088",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function g({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4173_210152)",children:(0,i.jsx)("path",{d:"M75.9438 8.25247C75.6027 6.92671 74.4074 6 73.0385 6L3.04841 6C1.08821 6 -0.34539 7.84915 0.143036 9.74752L18.735 82.0085C19.0761 83.3342 20.2714 84.2609 21.6404 84.2609H91.6304C93.5906 84.2609 95.0242 82.4118 94.5358 80.5134L75.9438 8.25247Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4173_210152",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function _({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4119_210848)",children:(0,i.jsx)("circle",{cx:"40",cy:"46",r:"40",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4119_210848",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function x({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4119_210856)",children:(0,i.jsx)("g",{clipPath:"url(#clip1_4119_210856)",children:(0,i.jsx)("path",{d:"M18.693 6.40686C19.2012 4.50766 21.9085 3.78226 23.2982 5.17292L82.5015 64.4167C83.7556 65.6717 82.9788 67.752 81.0647 68.2649L0.211739 89.9294C-1.70237 90.4423 -3.41521 89.029 -2.95662 87.3152L18.693 6.40686Z",fill:e})})}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_4119_210856",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,i.jsx)("clipPath",{id:"clip1_4119_210856",children:(0,i.jsx)("rect",{width:"89.0428",height:"77.1705",fill:"white",transform:"translate(-22.3394 16.0794) rotate(-15)"})})]})]})}function y({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_4121_211255)",children:(0,i.jsx)("path",{d:"M51.3523 84.6094C52.5437 86.3294 55.5163 86.0834 56.4088 84.191L94.4305 3.57293C95.2359 1.86524 93.7104 0.0603115 91.6086 0.234234L2.83059 7.58081C0.728861 7.75473 -0.479214 9.78588 0.59593 11.3379L51.3523 84.6094Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4121_211255",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function v({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4119_210865)",children:[(0,i.jsx)("ellipse",{cx:"36.0212",cy:"10.0459",rx:"36.2221",ry:"8.35894",transform:"rotate(-15 36.0212 10.0459)",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.0853 4.68736C67.4361 9.37258 54.7615 15.1933 39.2535 19.3486C21.2873 24.2612 6.9678 24.914 1.84497 22.4498L15.4556 73.2452L15.4564 73.2483L15.4564 73.2483C16.6513 77.7075 33.2845 77.1251 52.6077 71.9474C71.9309 66.7698 86.6269 58.9575 85.4321 54.4984L72.0853 4.68736Z",fill:e})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4119_210865",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function b({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4171_210106)",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30957 14.019C11.2258 17.2597 17.7809 30.6301 22.2705 47.3855C27.6619 67.5064 28.033 84.8893 23.0994 86.2112C22.8341 86.2823 22.5589 86.3055 22.2747 86.2826L22.3557 86.5848L94.06 67.3717L94.072 67.3685L94.0839 67.3652L94.4168 67.276L94.4086 67.2455C98.6089 65.2803 97.911 48.5964 92.7387 29.2931C87.5664 9.98975 79.8288 -4.80791 75.2087 -4.40965L75.2005 -4.44026L6.30957 14.019Z",fill:e}),(0,i.jsx)("ellipse",{rx:"37.1231",ry:"8.56687",transform:"matrix(-0.258819 -0.965926 -0.965926 0.258819 12.747 50.7267)",fill:e})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4171_210106",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function C({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4121_211283)",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.808 -0.216748L71.1184 12.1379L84.015 60.2684C84.2789 61.2533 83.6944 62.2656 82.7096 62.5295L14.95 80.6856C13.9636 80.9499 12.9501 80.3633 12.6879 79.3764L0.985107 35.3241L17.2244 30.9728C18.2736 30.6916 18.8962 29.6132 18.6151 28.564L14.2374 12.2262L65.5469 -1.52218C66.5318 -1.78607 67.5441 -1.20161 67.808 -0.216748ZM14.1879 12.2394L12.5651 12.6743L12.5663 12.6788L14.1879 12.2394Z",fill:e}),(0,i.jsx)("path",{d:"M0.453613 33.7343L15.3437 29.7445C16.2999 29.4883 16.8674 28.5054 16.6112 27.5492L12.6214 12.6591L0.453613 33.7343Z",fill:e})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4121_211283",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function E({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_4121_211302)",children:[(0,i.jsx)("path",{d:"M1.59945 13.1347C1.69191 12.2997 2.28702 11.6068 3.09854 11.3894L33.2368 3.31384C34.0484 3.09639 34.9102 3.39889 35.4078 4.07583L43.442 15.006L0.106658 26.6177L1.59945 13.1347Z",fill:e}),(0,i.jsx)("path",{d:"M0.49585 28.071L77.3176 7.48667C78.4055 7.19517 79.5237 7.84077 79.8152 8.92866L93.0608 58.3616C93.3523 59.4495 92.7067 60.5677 91.6188 60.8592L16.7668 80.9157C15.6789 81.2072 14.5607 80.5616 14.2692 79.4737L0.49585 28.071Z",fill:e})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_4121_211302",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function j({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10125)",children:(0,i.jsx)("path",{d:"M114.56 0.523225L5.97986 10.0227C2.09706 10.3624 -0.43629 14.2562 0.826349 17.9436L23.8419 80.1745C24.7355 82.7842 27.2933 84.4483 30.0413 84.2079L103.746 77.7596C106.494 77.5192 108.724 75.4361 109.151 72.7109L121.01 7.42886C121.613 3.57818 118.442 0.183524 114.56 0.523225Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10125",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function w({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1_2)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0018 18.1129C2.35849 15.712 3.7829 13.2449 6.18378 12.6015L8.11564 12.0839L28.0447 86.4602L26.1128 86.9778C23.712 87.6211 21.2448 86.1967 20.6015 83.7958L3.0018 18.1129ZM30.9425 85.6837L11.0134 11.3074L67.0371 -3.70406L86.9662 70.6722L30.9425 85.6837ZM89.864 69.8958L69.9349 -4.48052L71.8667 -4.99815C74.2676 -5.64147 76.7348 -4.21705 77.3781 -1.81617L94.9778 63.8668C95.6211 66.2677 94.1967 68.7348 91.7958 69.3781L89.864 69.8958Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1_2",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function T({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_9936)",children:(0,i.jsx)("path",{d:"M1.28373 39.4007L27.401 4.53364C29.0584 2.33788 31.9967 1.55056 34.5299 2.62346L74.5817 19.7606C76.9322 20.7561 78.3955 23.1298 78.2289 25.677L74.5428 65.0534C74.3751 67.6187 72.5917 69.7921 70.1085 70.4574L30.506 81.0689C28.0228 81.7343 25.3917 80.7438 23.9638 78.606L1.08334 46.3481C-0.334505 44.2255 -0.254107 41.4381 1.28373 39.4007Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_9936",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function k({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_9948)",children:(0,i.jsx)("path",{d:"M77.1821 12.7227L54.9038 -0.139714C53.5257 -0.935364 51.8879 -1.15098 50.3509 -0.739117L23.3659 6.49148C21.8288 6.90334 20.5183 7.90893 19.7227 9.28704L6.8603 31.5654C6.06465 32.9435 5.84904 34.5812 6.2609 36.1183L13.4915 63.1032C13.9034 64.6403 14.9089 65.9508 16.2871 66.7465L38.5654 79.6089C39.9435 80.4045 41.5812 80.6201 43.1183 80.2083L70.1032 72.9777C71.6403 72.5658 72.9508 71.5602 73.7465 70.1821L86.6089 47.9038C87.4045 46.5257 87.6201 44.888 87.2083 43.3509L79.9777 16.3659C79.5658 14.8288 78.5602 13.5183 77.1821 12.7227Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_9948",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function I({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_9990)",children:(0,i.jsx)("path",{d:"M4.38961 47.4437L8.7529 18.3221C9.07419 15.9214 10.8074 13.9494 13.147 13.3225L79.3093 -4.40567C81.6489 -5.03256 84.1359 -4.1913 85.6145 -2.2729L103.954 20.7655C104.931 22.033 105.361 23.6381 105.149 25.2242L100.785 54.3458C100.464 56.7465 98.7309 58.7186 96.3914 59.3454L30.229 77.0736C27.8895 77.7005 25.4024 76.8592 23.9238 74.9408L5.58431 51.9024C4.60744 50.635 4.17733 49.0298 4.38961 47.4437Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_9990",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function S({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10069)",children:(0,i.jsx)("path",{d:"M78.3034 46.7945L75.2573 11.9772C74.9685 8.67607 72.0583 6.23413 68.7572 6.52293L5.97724 12.0155C2.67614 12.3043 0.234196 15.2145 0.523004 18.5156L3.56912 53.3329C3.75676 55.4776 5.07913 57.3574 7.03428 58.2588L40.0733 74.3612C42.003 75.2509 44.2594 75.0535 46.0054 73.8422L75.7463 52.2473C77.5152 51.0201 78.4911 48.9392 78.3034 46.7945Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10069",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function N({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10082)",children:(0,i.jsx)("path",{d:"M53.8362 -0.906348L28.8877 3.49274C25.6243 4.06816 23.4453 7.18012 24.0207 10.4435L25.9888 21.6046C26.5642 24.868 24.3852 27.98 21.1218 28.5554L9.96064 30.5234C6.69727 31.0988 4.51826 34.2108 5.09368 37.4741L9.49277 62.4226C10.0682 65.686 13.1801 67.865 16.4435 67.2896L27.6047 65.3216C30.868 64.7461 33.98 66.9252 34.5554 70.1885L36.5234 81.3496C37.0988 84.613 40.2108 86.792 43.4741 86.2166L68.4226 81.8175C71.686 81.2421 73.865 78.1301 73.2896 74.8668L71.3216 63.7056C70.7462 60.4423 72.9252 57.3303 76.1885 56.7549L87.3497 54.7869C90.613 54.2115 92.792 51.0995 92.2166 47.8362L87.8175 22.8877C87.2421 19.6243 84.1302 17.4453 80.8668 18.0207L69.7057 19.9887C66.4423 20.5641 63.3304 18.3851 62.7549 15.1218L60.7869 3.96061C60.2115 0.697243 57.0996 -1.48177 53.8362 -0.906348Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10082",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function A({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10095)",children:(0,i.jsx)("path",{d:"M53.9511 20.3098L42.1525 3.16336C39.1912 0.00572091 33.9624 0.927699 32.2597 4.90774L27.0372 25.0555C26.4488 26.4308 25.3678 27.5367 24.0063 28.1564L3.71302 33.8825C-0.294145 35.7063 -1.03771 41.0813 2.32381 43.9245L20.084 54.7429C21.247 55.7266 21.9924 57.1158 22.1689 58.6287L21.3874 79.2433C21.8923 83.5712 26.6965 85.9346 30.4331 83.6935L46.7061 70.2694C47.9748 69.5084 49.4799 69.243 50.9323 69.5242L70.8153 76.573C75.0931 77.401 78.7991 73.537 77.7934 69.2974L70.0084 50.1933C69.6568 48.7113 69.8821 47.1509 70.6385 45.8288L83.6275 29.5885C85.8139 25.767 83.2768 20.9705 78.8875 20.6272L57.8597 22.1872C56.3683 22.0705 54.9743 21.401 53.9511 20.3098Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10095",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function L({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10138)",children:(0,i.jsx)("path",{d:"M12.85 78.4563L1.39908 13.5151C0.701528 9.55913 4.01276 6.04841 8.00276 6.51361L106.493 17.9966C109.127 18.3037 111.247 20.3031 111.707 22.9144L118.224 59.876C118.8 63.1393 116.621 66.2513 113.357 66.8267L19.8007 83.3233C16.5373 83.8987 13.4254 81.7197 12.85 78.4563Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10138",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function O({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10170)",children:(0,i.jsx)("path",{d:"M3.52293 10.7657C3.23413 7.46464 5.67607 4.55445 8.97717 4.26564L88.0582 -2.65305C91.3593 -2.94186 94.2695 -0.499919 94.5583 2.80118L98.93 52.7701C99.3106 57.1197 95.0142 60.5495 90.7364 59.6753C85.6875 58.6434 79.1215 57.7867 72.6631 58.3517C59.3871 59.5132 46.8006 72.394 33.8579 73.5263C25.4977 74.2577 16.8948 72.2143 12.2232 70.8232C10.0275 70.1694 8.54803 68.2028 8.34835 65.9205L3.52293 10.7657Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10170",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function R({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10181)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3176 14.6705C1.88439 9.71881 5.54731 5.35352 10.499 4.92031L74.9606 -0.719357C77.7924 -0.967105 80.3366 0.794636 81.185 3.38441L12.8314 9.36458C8.98009 9.70152 6.13115 13.0967 6.4681 16.948L10.3685 61.53L7.72221 60.9899C6.90554 60.8233 6.29563 60.1395 6.22298 59.3092L2.3176 14.6705ZM13.0928 12.3532L15.0852 12.1789L81.6029 6.35932L83.1972 6.21983C86.4983 5.93102 89.4085 8.37296 89.6973 11.6741L93.3699 53.6516C93.7502 57.9988 89.453 61.4325 85.1642 60.627C80.8923 59.8246 75.5894 59.2269 70.3662 59.6838C64.4909 60.1979 58.7686 63.3152 53.0827 66.4127C47.4685 69.4711 41.8899 72.5101 36.2345 73.0049C29.1375 73.6258 21.8422 71.9786 17.6488 70.7666C15.4459 70.1298 13.96 68.1595 13.7601 65.8752L13.4347 62.1558L9.63099 18.679L9.45668 16.6866C9.26414 14.4858 10.8921 12.5457 13.0928 12.3532Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10181",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function P({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1508_10194)",children:(0,i.jsx)("path",{d:"M13.5958 79.9017C8.77167 80.3237 5.46072 75.1516 7.86364 70.9473L21.5019 47.0847C22.744 44.9115 22.5064 42.1954 20.9058 40.2709L3.33102 19.1391C0.234531 15.4159 2.59704 9.74744 7.42117 9.32538L90.1645 2.08628C92.2987 1.89955 94.3706 2.86499 95.6004 4.61925L115.109 32.4478C116.341 34.205 116.541 36.4863 115.633 38.4307L101.253 69.2241C100.346 71.1653 98.4734 72.4758 96.3391 72.6626L13.5958 79.9017Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1508_10194",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function M({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_2094_1753)",children:(0,i.jsx)("path",{d:"M16.731 20.0212C13.2433 16.3882 7.10166 18.409 6.4527 23.4032L1.37881 62.4502C0.884517 66.2541 4.03759 69.5386 7.85853 69.1999L47.08 65.7235C52.0965 65.2788 54.3663 59.2248 50.8786 55.5917L46.4318 50.9596L85.863 13.1058C88.2534 10.811 88.331 7.01278 86.0361 4.62231L69.0925 -13.0273C66.7977 -15.4178 62.9995 -15.4953 60.609 -13.2005L21.1778 24.6533L16.731 20.0212Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2094_1753",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function D({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_2094_1725)",children:(0,i.jsx)("path",{d:"M52.9651 15.8477L35.2998 41.0764L59.9709 58.3513C64.1126 51.7654 65.9172 43.6796 64.4598 35.4144C63.0477 27.4063 58.8158 20.6037 52.9651 15.8477ZM49.7126 13.5191L32.0232 38.7821L6.79163 21.1147C11.5638 14.9703 18.5448 10.5091 26.81 9.05173C35.0608 7.59689 43.133 9.39265 49.7126 13.5191ZM4.53573 24.4182L29.7289 42.0587L12.4783 66.6951C6.35043 61.9235 1.90212 54.9524 0.447277 46.7016C-0.962241 38.7078 0.67945 30.8817 4.53573 24.4182ZM15.779 68.955C22.2492 72.8262 30.089 74.4763 38.0971 73.0642C46.0909 71.6547 52.8835 67.4354 57.6382 61.601L33.0055 44.353L15.779 68.955Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2094_1725",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function F({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_2094_1739)",children:[(0,i.jsx)("path",{d:"M28.644 8.74898L34.0412 39.3575L64.2193 34.0363C62.5252 26.3602 58.0606 19.2724 51.1138 14.4082C44.3027 9.63898 36.299 7.84315 28.644 8.74898Z",fill:e}),(0,i.jsx)("path",{d:"M25.4365 9.29133L30.8376 39.9224L0.206747 45.3234C-0.826765 37.5308 0.944422 29.3435 5.80863 22.3967C10.6728 15.45 17.7605 10.9854 25.4365 9.29133Z",fill:e}),(0,i.jsx)("path",{d:"M0.79417 48.523L31.4025 43.126L36.7236 73.3038C28.9311 74.3373 20.7439 72.5661 13.7972 67.7019C6.98606 62.9327 2.56115 56.0261 0.79417 48.523Z",fill:e}),(0,i.jsx)("path",{d:"M39.9232 72.7164C47.4263 70.9495 54.3331 66.5246 59.1023 59.7134C63.8715 52.9023 65.6673 44.8987 64.7616 37.2438L34.606 42.5611L39.9232 72.7164Z",fill:e})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2094_1739",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function B({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_2094_1770)",children:(0,i.jsx)("path",{d:"M16.7681 5.48015C8.61136 6.30146 2.66482 13.5796 3.48613 21.7363L5.92497 45.9576C6.74628 54.1143 14.0244 60.0609 22.1811 59.2396L22.4765 59.2098L23.2086 66.48C23.4012 68.393 25.6685 69.2962 27.1238 68.0396L39.3133 57.5145L68.2606 54.5998C76.4174 53.7785 82.3639 46.5004 81.5426 38.3436L79.1038 14.1224C78.2825 5.96563 71.0043 0.01909 62.8476 0.840394L16.7681 5.48015Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2094_1770",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function U({color:e="#699BF7"}){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_2094_1787)",children:(0,i.jsx)("path",{d:"M4.01281 14.3118C3.61202 11.0224 5.95368 8.03096 9.24306 7.63016L9.73939 7.56969L10.5256 14.022L4.07329 14.8081L4.01281 14.3118ZM4.43614 17.7861L12.7213 85.7832C13.122 89.0726 16.1135 91.4143 19.4029 91.0135L19.8992 90.953L10.8884 16.9999L4.43614 17.7861ZM13.8664 16.6371L22.8772 90.5902L106.757 80.3698C110.046 79.969 112.388 76.9776 111.987 73.6882L103.702 5.69107L13.8664 16.6371ZM103.339 2.71309L103.279 2.21676C102.878 -1.07262 99.8864 -3.41428 96.597 -3.01349L12.7174 7.20684L13.5035 13.6591L103.339 2.71309Z",fill:e})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2094_1787",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function H(){return(0,i.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_5859_244544)",children:(0,i.jsxs)("g",{clipPath:"url(#clip1_5859_244544)",children:[(0,i.jsx)("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"#2F2746"}),(0,i.jsx)("rect",{x:"12.5732",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.5732 25.3755)",fill:"#514670"}),(0,i.jsx)("rect",{x:"23.4062",y:"34.8961",width:"32",height:"6",transform:"rotate(-15 23.4062 34.8961)",fill:"#514670"}),(0,i.jsx)("rect",{x:"26.5122",y:"46.4872",width:"32",height:"6",transform:"rotate(-15 26.5122 46.4872)",fill:"#514670"}),(0,i.jsx)("rect",{x:"21.8906",y:"60.1488",width:"6",height:"6",transform:"rotate(-15 21.8906 60.1488)",fill:"#514670"})]})}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_5859_244544",children:(0,i.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,i.jsx)("clipPath",{id:"clip1_5859_244544",children:(0,i.jsx)("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"white"})})]})]})}},174318:(e,t,n)=>{n.d(t,{$_:()=>k,Av:()=>T,DG:()=>E,FJ:()=>O,Ld:()=>w,Pd:()=>P,YR:()=>R,e_:()=>I,hr:()=>S,oC:()=>N,yn:()=>A,zi:()=>L});var i=n(716976),a=n(903927),r=n(266808),s=n(795033),o=n(681398),l=n(192075),d=n(366535),c=n(244399),u=n(571430),p=n(354114),m=n(211862),h=n(944350),f=n(104836),g=n(498726),_=n(103345),x=n(191265),y=n(211261),v=n(880820),b=n(226762),C=n(428827);function E(e){let t=(0,l.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:e.userVoteLimit});return e.title||t}let j=()=>!((0,o.wg)()||(0,o.o4)());function w(){let e=(0,C.jz)();return!!(e?.length&&e?.length>0)}function T(){let e=I(),t=!!(0,C.C3)(),n=j()&&("eligible"===e||"eligibleWithUpgrade"===e),[a,r]=i.useState(t&&n);return i.useEffect(()=>{if(!t){r(!1);return}n&&r(!0)},[t,n]),n||a}var k=(e=>(e.FEATURE_DISABLED="featureDisabled",e.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",e.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",e.ELIGIBLE="eligible",e))(k||{});function I(){let e=(0,m.q5)(),t=(0,a.d4)(t=>e&&e.teamId?t.teams[e.teamId]:null),n=(0,a.d4)(e=>e.isFreeUser),i=(0,c.DG)(e?.key||"").enabled,r=e?.isTryFile,s=!!e&&(e.canEdit||i);return r||!s?"featureDisabled":e.parentOrgId?"eligible":t?(0,f.PS)(t)?"eligible":"eligibleWithUpgrade":n?"eligibleWithUpgrade":"eligibleWithMoveFileToPaidTeam"}function S(){let e=(0,a.d4)(e=>e.mirror.appModel.votingSessionInfo),t=p.BI.getUserId(),n=t&&e.userIdToVoteStampIds[t]?.length||0;return e.userVoteLimit-n}function N(e){return Object.values(e.userIdToNodeVotes).reduce((e,t)=>e+t.length,0)}function A(e){return new Set(e.reduce((e,t)=>{let n=N(t),i=e.voteCount;return n<i?e:n>i?{voteCount:n,nodes:[t]}:{voteCount:i,nodes:[...e.nodes,t]}},{voteCount:0,nodes:[]}).nodes.map(e=>e.guid))}function L(e){return function(t,n){return t===e?-1:n===e?1:t.localeCompare(n)}}function O(){let e=(0,a.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,s.Xr)(y.Qs);i.useEffect(()=>{(e===r.W8Y.JOINED||e===r.W8Y.NOT_JOINED)&&t({type:"SET_VIEW",payload:y.iN.DEFAULT})},[e,t])}function R(){let e=(0,a.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,s.Xr)(y.Qs),n=(0,x.$)(),o=(0,v.qU)();i.useEffect(()=>{e!==r.W8Y.ENDED||n||(t({type:"VOTING_ENDED"}),(0,b.D)(o))},[e,t,n,o])}function P(e){let t=I(),n=(0,m.q5)(),r=(0,a.d4)(e=>n&&n.teamId?e.teams[n.teamId]??null:null),s=(0,a.wA)();return i.useCallback(()=>{if("eligibleWithUpgrade"===t)s(d.to({type:_.DV,data:{team:r,resource:g.Bi.VOTING,editorType:h._Y.WHITEBOARD,currentPlan:u.F.Plan.STARTER,upsellPlan:u.F.Plan.PRO}}));else if("eligible"===t)return e(),!0;return!1},[s,t,r,e])}},178266:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(104076),a=n(716976),r=n(454851),s=n(111297),o=n(894210);let l=(0,a.memo)((0,a.forwardRef)(function({tooltip:e,isActive:t,onClick:n,recordingKey:a,dataElementTarget:s,onboardingKey:l,disabled:d,dataTestId:c,children:u},p){return(0,i.jsx)(r.d,{ref:p,"aria-expanded":t,htmlAttributes:{"data-tooltip-type":e.type,"data-testid":c,"data-tooltip":e.type===o.Ib.TEXT?e.text:e.key,"data-element-target":s,"data-fullscreen-intercept":!0,"data-onboarding-key":l},onClick:n,recordingKey:a,"aria-label":e.type===o.Ib.TEXT?e.text:e.ariaLabel,disabled:d,children:u})})),d=(0,s.tf)(l)},313742:(e,t,n)=>{n.d(t,{AE:()=>z,B8:()=>M,HB:()=>F,Kq:()=>U,OP:()=>D,U_:()=>B,Yg:()=>O,ar:()=>R,es:()=>H,jR:()=>W,ke:()=>P,uB:()=>V,yX:()=>G});var i=n(716976),a=n(903927),r=n(266808),s=n(812714),o=n(795033),l=n(440327),d=n(428147),c=n(366535),u=n(571430),p=n(354114),m=n(484495),h=n(211862),f=n(664326),g=n(433802),_=n(592726),x=n(944350),y=n(331497),v=n(904017),b=n(295253),C=n(498726),E=n(564914),j=n(278151),w=n(955715),T=n(489396),k=n(103345),I=n(338052),S=n(233067),N=n(516960),A=n(452532),L=n(573552);function O(){return(0,y.ut)(r.Ez5?.figjamState().isShapesSidebarOpen,!1)}function R(){let[e,t]=(0,o.fp)(S.oh);return i.useCallback(()=>{r.Ez5?.figjamState().isShapesSidebarOpen.set(!0),t({type:"close",source:S.Yg.OpenedShapesSidebar})},[t])}function P(){let e=(0,o.Xr)(N.oW),t=(0,o.Xr)(N.Ai),[n,a]=(0,o.fp)(N.Hf);return i.useCallback(()=>{(0,A.ko)({event:A.fT.ClosedPanel,searchState:n}),a({state:"inactive"}),e(""),t(!1),r.Ez5?.figjamState().isShapesSidebarOpen.set(!1)},[n,a,e,t])}function M(){let e=(0,_.TA)(),t=(0,o.md)(N.Rg),[n,a]=(0,o.fp)(N.Gn);(0,i.useEffect)(()=>{if(e)return;let i=()=>{a(n.map(e=>{if(e.lastAddedAtByUserId&&t in e.lastAddedAtByUserId){let{[t]:n,...i}=e.lastAddedAtByUserId;return{...e,lastAddedAtByUserId:i}}return e}).filter(e=>e.lastAddedAtByUserId&&Object.keys(e.lastAddedAtByUserId).length>0))};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[e,n,t,a]);let r=e??t;return i.useMemo(()=>n.filter(e=>r in(e.lastAddedAtByUserId??{})).map(e=>e.id),[n,r])}function D(e,t){let n=(0,T.dF)(e);return t?`${n} - ${t}`:n}function F(e){let t=(0,o.md)(l.yE);if(!(0,a.d4)(e=>e?.mirror?.appModel?.currentTool===r.NLJ.SHAPE_WHITEBOARD_PLATFORM)||!t)return!1;let n=e.type===E.PW.COMPONENT?e.component_key:e.key,i=e.type,s=e.userFacingVersion.toString();return e.library_key===t.libraryKey&&s===t.assetVersion&&n===t.assetKey&&i===t.assetType}function B(){return(0,i.useCallback)(e=>{let t=e.relatedTarget;if(!t||t.classList.contains("focus-target"))return;let n=t.classList.contains(L.Fu);for(;!n&&t.parentElement;)n=(t=t.parentElement).classList.contains(L.Fu);n||r.glU?.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_DEFAULT_FIGJAM,{})},[])}function U({insertAction:e,recordingKey:t}){let n=(0,i.useMemo)(()=>({resource:{},clickToInsert_DEPRECATED:!1,onDragStart:()=>p.Y5.triggerActionEnum(r.rcl.SET_TOOL_DEFAULT)}),[]);return(0,f.t)(n,{insertAction:e,getDragPreviewSrc:()=>"",onPointerDownCallback:A.Ln,onPointerUpCallback:A.UH,dragPreviewPointerPosition:g.N.CENTERED,recordingKey:t})}function H(){let e=(0,v.X$)("useAreAdvancedShapesLocked");return(0,v.YY)(e).unwrapOr(!1)}function V(){let e=(0,h.q5)(),t=(0,a.wA)();return(0,i.useCallback)(()=>{e&&t((0,c.to)({type:d.V,data:{upsellSource:b.b.SHAPES_SIDEBAR,teamId:e.team?.id,openCheckoutInNewTab:!0}}))},[e,t])}function G(){let e=(0,h.q5)(),t=(0,a.wA)(),n=u.F.useShouldHideStarterCtaForOpenFile();return(0,i.useCallback)(()=>{e&&t((0,c.to)({type:k.DV,data:{team:e.team,resource:C.Bi.ADVANCED_SHAPES,action:j.ZN.INSERT_ADVANCED_SHAPE,editorType:x._Y.WHITEBOARD,currentPlan:u.F.Plan.STARTER,upsellPlan:u.F.Plan.PRO,hideUpsellPlanCta:n}}))},[e,t,n])}function z(){return K((0,m.w)())}let K=(0,I.n)(e=>"developer"===e);function W(e){(0,i.useEffect)(()=>{if(!(0,s.kc)().fpl_figjam_keyboard_controls)return;let t=e=>{"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),(0,w.$z)())},n=e.current;if(n)return n.addEventListener("keydown",t),()=>n.removeEventListener("keydown",t)},[e])}},517178:(e,t,n)=>{n.d(t,{C:()=>d,V:()=>c});var i=n(716976),a=n(266808),r=n(883765),s=n(965685),o=n(822764),l=n(313742);function d(){let e=(0,l.ar)();return i.useCallback(t=>{r.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_open",{}),e(),a.glU&&(t?.setToolToDefault??!0)&&a.glU.triggerActionEnum(a.rcl.SET_TOOL_DEFAULT,{})},[e])}function c(){let e=(0,o.LR)();return i.useCallback(()=>{(0,s.$v)("toggle-menu"),e()},[e])}},875997:(e,t,n)=>{n.d(t,{g:()=>l});var i=n(716976),a=n(903927),r=n(795033),s=n(211862),o=n(768300);function l(){let e=(0,s.tS)(),t=(0,a.d4)(e=>e.fileVersion),n=(0,r.Xr)(o.ME);return(0,i.useCallback)((i,a)=>n({fileKey:e,fileVersion:t,template:i},a),[e,t,n])}},674135:(e,t)=>{var n,i;function a(e){return null!=e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&e.message.includes("IPC")}function r(e){try{return e()}catch(e){if(a(e)){console.warn("suppressingErrorsCausedByWindowClose: ignoring IPC error:",e);return}throw e}}function s(e,t){return r(()=>{let n=e.__figmaFloatingWindow;if(null==n)throw Error("withFloatingWindowAPI: bindings not found");return t(n)})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{FloatingWindowHorizontalZone:function(){return i},FloatingWindowVerticalZone:function(){return n},isErrorCausedByWindowClose:function(){return a},suppressingErrorsCausedByWindowClose:function(){return r},withFloatingWindowAPI:function(){return s}}),function(e){e[e.NN=0]="NN",e[e.N=1]="N",e[e.S=2]="S",e[e.SS=3]="SS"}(n||(n={})),function(e){e[e.WW=0]="WW",e[e.W=1]="W",e[e.E=2]="E",e[e.EE=3]="EE"}(i||(i={}))},630213:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE0SURBVHgBnVJJboQwEGw8nhUOnDiCuPKq/CDkBUleEM0PkkfxAOAEEhIcEDukC8WIMIlGmpIsjF3VXd1tjRhxHL+O4+hP02Sez2eyLIvWSNOUqqoiTdNyXp+2bb/IKIo+uq7z+74nFtNut6Mt2raluq5JCGFKKf0wDAvBWZ4g4i/dAzicBNtnyVnMYRjuCtQCoJGXy4U4/ULY7/dzPYrE9uYzwzCWQIfDgbRp4xG1BEFAx+Nx/m+ahjzPIzRtDbm1hQZBhKhrq1sIehA3GXlOs721ddR5w0uSZMKclkjcKNM0Z8sqUFEU8xiwB1CGRAcRVdWi6zqdTqdf0bMso7IsFyHGJ/CMYAWHav0FdffDzWH+Cnv/CbZicLmML+E4zhu/zyuPIIfF9RgUcIY7cFj87rqu/w2Oa5mJ2/ljqgAAAABJRU5ErkJggg=="},317240:e=>{e.exports="data:image/png;base64,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"},795595:e=>{e.exports="data:image/png;base64,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"},947615:e=>{e.exports="data:image/png;base64,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"},377832:e=>{e.exports="data:image/png;base64,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"},491645:(e,t,n)=>{n.d(t,{K0:()=>p,Zf:()=>f,bL:()=>u,wi:()=>h});var i=n(104076),a=n(716976),r=n(982449),s=n(454851),o=n(420680),l=n(120440),d=n(299986);function c({children:e,width:t}){return(0,a.useEffect)(()=>{let e=document.documentElement.style;return e.setProperty("--left-rail-width",`${t}px`),()=>{e.removeProperty("--left-rail-width")}},[t]),(0,i.jsx)(r.N,{"aria-label":"Navigation Bar",orientation:"vertical",...l.Ay.props(x.base,x.baseWidth(t)),children:e})}function u({menuButton:e,children:t,width:n,isFileLoading:r}){let s=[],o=[];return(a.Children.forEach(t,e=>{a.isValidElement(e)&&(e.type===h?o.push(e):s.push(e))}),r)?(0,i.jsx)("div",{...l.Ay.props(x.base,x.baseWidth(n),x.animateLeft),children:(0,i.jsxs)("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1nfngrj",children:[(0,i.jsx)(g,{}),(0,i.jsx)(m,{}),Array.from({length:s.length},(e,t)=>(0,i.jsx)(g,{},t))]})}):(0,i.jsxs)(c,{width:n,children:[(0,i.jsxs)("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1nfngrj",children:[e,(0,i.jsx)(m,{}),s]}),(0,i.jsx)("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1nfngrj",children:o})]})}function p({active:e,disabled:t,icon:n,label:a,onClick:r}){return(0,i.jsx)(s.d,{"aria-label":a,"aria-expanded":e,"data-tooltip-show-right":!0,disabled:t,onClick:r,size:"lg",children:n})}function m(){return(0,i.jsx)("div",{className:"x1n5zjp5 xkwerj4 x1ah0xmj",role:"separator"})}function h({children:e}){return(0,i.jsx)(i.Fragment,{children:e})}function f({canvasActionName:e,children:t,onClose:n,additionalButtons:a}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"xvrflz7 x78zum5 x1qughib x6s0dn4 x1n5zjp5 xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:[e,(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj",children:[a,(0,i.jsx)(o.K,{onClick:n,"aria-label":"Close",children:(0,i.jsx)(d.L,{})})]})]}),t]})}function g(){return(0,i.jsx)("div",{className:"x19y5rnk x1v626bs xgbwgrv xgmrwhi xmdyy31 xa4qsjk x1esw782 x100nsjd x1j4bni0"})}let _={kzqmXN:"x5lhr3w",$$css:!0},x={base:{kWkggS:"x1yjdb4r",km2aEK:"xspf3my",kWqL5O:null,k2ei4v:null,ke9TFa:null,kSWEuD:null,kVhnKS:null,k8ry5P:null,k26BEO:null,kGJrpR:null,kBCPoo:null,k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kZKoxP:"xqmztoh",kjj79g:"x1qughib",kLKAdn:"x1vi7shn",kGO01o:"x1vamu9a",kVAEAm:"x1n2onr6",kY2c9j:"x1w0boku",k87sOh:"x167uce1",kB7OPa:"x9f619",$$css:!0},baseWidth:e=>[_,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],animateLeft:{kKVMdj:"xpkg1mr",k44tkh:"x7t6ubo",k821Mx:"xx6zgt6",$$css:!0}}},460705:(e,t,n)=>{n.d(t,{M:()=>s});var i=n(104076),a=n(716976),r=n(933135);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414zm-2.147 8.353a.501.501 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 1 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.854 2.146a.5.5 0 0 0-.708 0l-5 5a.5.5 0 0 0 0 .708l1.5 1.5a.5.5 0 1 0 .708-.707L3.207 7.5 7.5 3.207 11.793 7.5l-1.147 1.147a.5.5 0 0 0 .707.707l1.5-1.5a.5.5 0 0 0 0-.708zm-3.208 8.5a.5.5 0 0 0 .707.708L7 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .707-.707l-2.5-2.5a.5.5 0 0 0-.707 0z",clipRule:"evenodd"})})})},426642:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(104076),a=n(716976),r=n(933135);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.3 5.163a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.169.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.406l-.057-.037-.433-.26a4.5 4.5 0 0 0-4.63 0L8 4.416l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.494.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.8 5.476a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.168.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.405l-.057-.038-.433-.26a4.5 4.5 0 0 0-4.63 0L7.5 4.73l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.493.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})})})},260619:(e,t,n)=>{n.d(t,{l:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M14.655 11.976c.441-1.286 2.34-1.243 2.683.128l.315 1.262 1.263.317c1.416.354 1.416 2.366 0 2.72l-1.263.316-.315 1.262c-.354 1.417-2.367 1.417-2.72 0L14.3 16.72l-1.262-.316c-1.416-.354-1.416-2.366 0-2.72l1.262-.317.316-1.261zm1.653.386c-.086-.343-.575-.343-.66 0l-.47 1.881-1.881.47c-.343.086-.343.574 0 .66l1.88.47.47 1.88c.08.323.515.343.64.061l.02-.06.47-1.881 1.704-.426.177-.044c.322-.08.342-.515.06-.64l-.06-.02-1.88-.47zM12 5a6 6 0 0 1 5.76 4.32c.105.358-.365.622-.713.486a.45.45 0 0 1-.27-.288A5.002 5.002 0 0 0 7 11v4.105c0 .19 0 .307.003.396a1 1 0 0 0 .008.101.5.5 0 0 0 .386.387c.004 0 .029.005.102.008.089.003.205.003.396.003h2.526c.166 0 .31.104.379.255.14.31-.06.745-.4.745H7.895c-.276 0-.448 0-.58-.014l-.123-.018a1.5 1.5 0 0 1-1.133-1.052l-.027-.108a1.6 1.6 0 0 1-.028-.27L6 15.104V11a6 6 0 0 1 6-6"})})})},199871:(e,t,n)=>{n.d(t,{m:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69H8.063l-1.1 2.69a.5.5 0 1 1-.926-.379L6.982 17H5a2 2 0 0 1-2-2zm4.7 3.2.315-1.26c.126-.505.844-.505.97 0L9.3 10.2l1.26.315c.505.126.505.844 0 .97L9.3 11.8l-.315 1.26c-.126.505-.844.505-.97 0L7.7 11.8l-1.26-.315c-.505-.126-.505-.844 0-.97zM12.5 9a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})})},892554:(e,t,n)=>{n.d(t,{s:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 9.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm9 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm-8-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m.5 8.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})})},239045:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708z",clipRule:"evenodd"})})})},608341:(e,t,n)=>{n.d(t,{G:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M10.908 15.5h-.158a.25.25 0 0 0-.25.25v1c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1a.25.25 0 0 0-.25-.25zm3.325-.522c.17-.194.29-.426.35-.668.115-.468.329-.94.593-1.517l.015-.032c.23-.502.5-1.089.668-1.707A4.004 4.004 0 0 0 12 6a4 4 0 0 0-3.86 5.054c.17.618.439 1.205.669 1.707l.015.033c.264.576.477 1.048.593 1.516.06.242.18.474.35.668-.167.213-.267.48-.267.772v1a1.75 1.75 0 0 0 1.5 1.732v.018a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.518 1.75 1.75 0 0 0 1.5-1.732v-1c0-.291-.1-.56-.267-.772m-1.14-.478c.25 0 .46-.186.52-.43.141-.575.398-1.134.654-1.694.24-.523.48-1.047.628-1.585q.104-.379.105-.791a3 3 0 1 0-5.895.791c.147.538.387 1.062.628 1.585.256.56.513 1.119.655 1.694.06.244.269.43.52.43zM11 10a1 1 0 0 1 1-1 .5.5 0 0 0 0-1 2 2 0 0 0-2 2 .5.5 0 0 0 1 0",clipRule:"evenodd"})})})},878879:(e,t,n)=>{n.d(t,{a:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.11 14.052c-.463-1.181.652-2.348 1.83-1.985l.115.04 5.982 2.351h.001l.12.053c1.155.565 1.091 2.258-.105 2.733l-.123.043-2.02.62-.62 2.02c-.418 1.355-2.31 1.428-2.83.108zm6.543-10.044A1.5 1.5 0 0 1 20 5.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L18.5 9H9v9.5l-.008.153a1.5 1.5 0 0 1-1.339 1.34L7.5 20h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L4 18.5v-13a1.5 1.5 0 0 1 1.347-1.492L5.5 4h13zm-4.963 9.03a.5.5 0 0 0-.649.649l2.35 5.982a.5.5 0 0 0 .91.043l.033-.08.777-2.524 2.525-.776a.5.5 0 0 0 .036-.943zM5 18.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V16H7a.5.5 0 0 1 0-1h1v-2H7a.5.5 0 0 1 0-1h1V9H5zM5.5 5a.5.5 0 0 0-.5.5V8h3V5zM9 8h3V7a.5.5 0 0 1 1 0v1h2V7a.5.5 0 0 1 1 0v1h2.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9z"})})})},479902:(e,t,n)=>{n.d(t,{B:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m18.015 5.441-.315 1.26-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L19.3 8.3l1.26-.315c.505-.126.505-.844 0-.97L19.3 6.7l-.315-1.26c-.126-.505-.844-.505-.97 0M8.5 10.001a.5.5 0 0 0 0 1h7a.5.5 0 1 0 0-1zM8 13.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5M14.5 7a.5.5 0 0 1 0 1h-7A1.5 1.5 0 0 0 6 9.5v6A1.5 1.5 0 0 0 7.5 17h9a1.5 1.5 0 0 0 1.5-1.5v-4a.5.5 0 0 1 1 0v4a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 5 15.5v-6A2.5 2.5 0 0 1 7.5 7z",clipRule:"evenodd"})})})},261804:(e,t,n)=>{n.d(t,{z:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M19 5a2 2 0 0 1 2 2v10a2 2 0 0 1-1.796 1.99L19 19H5l-.204-.01a2 2 0 0 1-1.785-1.786L3 17V7a2 2 0 0 1 2-2zM5 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm4.749 2c.205 0 .39.126.466.317l2.75 7 .027.098a.501.501 0 0 1-.959.268L10.98 13H8.018l-1.054 2.683a.501.501 0 0 1-.932-.366l2.75-7A.5.5 0 0 1 9.25 8zm5.751 7a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1m.455-7a2.045 2.045 0 0 1 .914 3.874l-.145.073A1.31 1.31 0 0 0 16 13.118v.382a.5.5 0 0 1-1 0v-.382a2.31 2.31 0 0 1 1.276-2.065l.146-.074A1.046 1.046 0 0 0 15.955 9H15.5a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 0 1 2-2zm-7.544 4h2.176L9.499 9.231z"})})})},211764:(e,t,n)=>{n.d(t,{W:()=>s});var i=n(104076),a=n(716976),r=n(933135);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.646 5.646a.5.5 0 0 1 .708 0l4.5 4.5a.5.5 0 0 1-.708.708L12.5 7.207V18a.5.5 0 0 1-1 0V7.207l-3.646 3.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.146 5.146a.5.5 0 0 1 .708 0l5 5a.5.5 0 0 1-.708.708L12 6.707V17.5a.5.5 0 0 1-1 0V6.707l-4.146 4.147a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})})})},447899:(e,t,n)=>{n.d(t,{g:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"m9.4 16.5.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.083.333.557 0 .64l-1.12.28-.28 1.12c-.083.333-.557.333-.64 0L9.4 17.7l-1.12-.28c-.333-.083-.333-.557 0-.64zm5.377-10.195a2.177 2.177 0 1 1 1.947 3.893l-3.606 1.803 3.606 1.803a2.177 2.177 0 0 1-1.948 3.894l-.243-.122a2.45 2.45 0 0 1-1.329-2.537l.249-1.753-7.677-3.838-.086-.054a.5.5 0 0 1 .439-.876l.095.036L12 11.44l1.453-.725-.249-1.752a2.45 2.45 0 0 1 1.33-2.537zm-.584 8.876a1.45 1.45 0 0 0 .787 1.5l.243.123a1.177 1.177 0 1 0 1.053-2.106l-1.88-.94zm-4.322-2.663a.5.5 0 0 1 .438.877l-.085.053-4 2-.095.036a.5.5 0 0 1-.439-.876l.086-.054 4-2zm6.932-4.793a1.176 1.176 0 0 0-1.578-.526l-.245.122a1.45 1.45 0 0 0-.787 1.501l.203 1.422 1.88-.94c.582-.29.817-.998.527-1.58"})})})},457996:(e,t,n)=>{n.d(t,{d:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6z",clipRule:"evenodd"})})})},468812:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(104076);let a=(0,n(716976).memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"m16.7 7.7.315-1.259c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 9.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM15 11a.5.5 0 0 1 .462.308l1.666 4 .834 2 .03.096a.501.501 0 0 1-.905.377l-.049-.089L16.333 16h-3.166l-.705 1.692a.5.5 0 0 1-.924-.384l.834-2 1.666-4 .034-.067A.5.5 0 0 1 14.5 11zM9.5 5a.5.5 0 0 1 .5.5V7h3.5a.5.5 0 0 1 0 1h-1.282l-.054.16c-.503 1.487-1.088 2.537-2.031 3.705l1.527 1.91a.501.501 0 1 1-.781.624l-1.407-1.758c-.69.77-1.538 1.631-2.618 2.713a.5.5 0 0 1-.708-.707c1.147-1.148 2.012-2.03 2.692-2.8L7.21 9.814a.5.5 0 1 1 .781-.626l1.501 1.878c.773-.986 1.249-1.867 1.668-3.065H5.5a.5.5 0 0 1 0-1H9V5.5a.5.5 0 0 1 .5-.5m4.083 10h2.334l-1.167-2.8z"})})})}}]);

//# debugId=a8006ee6-85c6-512c-bede-e0dff9cefd61

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/bfda9b8f2d32528eccd5aa6ae5dcab2a92547e1f/5286-0016d8d3afdaa98a.min.js.map