"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="51f23bf3-106a-5652-a301-25abe49395db")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[9741],{959607:(e,t,s)=>{s.d(t,{h:()=>r,s:()=>i});let r="appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",i="appearance_panel--opacityIconContainer---kdX-"},770574:(e,t,s)=>{s.d(t,{h:()=>r,k:()=>i});let r="independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",i="independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO"},748128:(e,t,s)=>{s.d(t,{D_:()=>h,G1:()=>g,qA:()=>p,J2:()=>u,Si:()=>f,yq:()=>x,hM:()=>m,pF:()=>_});var r=s(314220),i=s(795033),n=s(997477),l=s(905885),a=s(985416),o=s(441513);let d=o.z.object({key:o.z.string()}).optional();var c=s(576240);let u=(0,a.Wh)(()=>(0,i.eU)([])),p=(0,a.Wh)(()=>(0,i.eU)("idle")),h=(0,a.Wh)(()=>(0,i.eU)(!1)),m=(0,a.Wh)(()=>(0,i.eU)(null)),g=(0,a.Wh)(()=>(0,i.eU)(null)),f=(0,i.E2)("ai_assistant_selected_model",void 0,d),x=(0,i.eU)(e=>{let t=e(f),s=e(l.eb);return function(e,t,s){let i=t.configs.length>0?t.configs:r.yP.configs;if(s?.configurationKey)return{makeEditsOpaqueConfigurationKey:s.configurationKey,makeEditsGlobalOptionOverrides:{},productString:"debug_only",productStringEnglishFallback:"Debug Only"};if(e?.key){let t=i.find(t=>t.productString===e.key);if(t)return t}let n=i.find(e=>!0===e.default);if(n)return n;let l=i[0];if(!l)throw Error("No available configs");return l}(t,(0,r.GU)((0,n.gP)("make_edits_global_configuration").value),s)}),_=(0,i.eU)(e=>(function(e,t){if(e)return{configurationKey:e.configurationKey,options:e.options,serverOptionDebugOverrides:e.serverOptionDebugOverrides};let s=c.n.safeParse(t.makeEditsOpaqueConfigurationKey);if(!s.success)throw Error("Invalid make_edits_global_configuration statsig value");let r=s.data;return{configurationKey:r,options:{...c.Q[r],...t.makeEditsGlobalOptionOverrides}}})(e(l.eb),e(x)))},361915:(e,t,s)=>{s.d(t,{Kj:()=>c,ag:()=>p});var r=s(716976),i=s(563276),n=s(428436),l=s(350869),a=s(74620),o=s(835307);function d(e){return{isTextNode:"TEXT"===e.type,collectionStableId:e.getNearestDakotaCollectionId()??void 0,itemStableId:e.getNearestDakotaCollectionItemId()??void 0,fieldSchemaStableId:e.getDakotaFieldId()??void 0,fieldSchemaStableIds:e.getDakotaFieldIds()??[]}}function c(e=u){let t=(0,a.eY)(),s=(0,l.U)(),i=(0,a.KH)(),o=e(t,(0,r.useMemo)(()=>Object.keys(i),[i])),d=(0,n.uE)(o?.collectionStableId);if(!s)return!1;let p=o?.fieldSchemaStableIds??[];return 0!==p.length&&p.some(e=>d.some(t=>t.stableId===e))}function u(e,t){if(0===t.length)return null;let s=t[0],r=e.get(s);if(!r)return null;let n=d(r);for(let s=1;s<t.length;s++){let r=t[s],l=e.get(r);if(!l)return null;let a=d(l);if(!(n.isTextNode===a.isTextNode&&n.collectionStableId===a.collectionStableId&&n.itemStableId===a.itemStableId&&n.fieldSchemaStableId===a.fieldSchemaStableId&&(0,i._f)(new Set(n.fieldSchemaStableIds||[]),new Set(a.fieldSchemaStableIds||[]))))return null}return n}function p(e){return(0,o.Fk)(u,e)}},905885:(e,t,s)=>{s.d(t,{BZ:()=>d,eb:()=>o});var r=s(576240),i=s(542145),n=s(795033),l=s(441513);let a=l.z.object({configurationKey:r.n.or(l.z.string()),options:i.b3,serverOptionDebugOverrides:i.EV.optional()}),o=(0,n.E2)("makeEditsDebugConfiguration",null,a.nullable(),{subscribeToChanges:!0});function d(){let[e,t]=(0,n.fp)(o);return[e,t]}},698876:(e,t,s)=>{s.d(t,{BS:()=>ex});var r=s(104076),i=s(716976),n=s(903927),l=s(454851),a=s(929590),o=s(460705),d=s(803126),c=s(266808),u=s(170627),p=s(812714),h=s(511570),m=s.n(h),g=s(641518),f=s(316862),x=s(665261),_=s(192075),y=s(147046),b=s(850701),j=s(366535),C=s(324109),v=s(701038),k=s(354114),S=s(512038),w=s(842013),T=s(894210),N=s(386958),E=s(565526),I=s(215853),M=s(920764),A=s(104932),P=s(374823),O=s(912138);s(501883);var L=s(492978),R=s(737139),D=s(827826),F=s(82991),K=s(596763),B=s(989941),G=s(623411),H=s(420680),z=s(884955),V=s(649238),U=s(365120),W=s(171660),$=s(489175),Y=s(581993),X=s(168940),q=s(415567);let J="bubbled_instances_list--instanceName--09LuV",Z="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",Q="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq",ee="bubbled_instances_list--ui3LineContainer--OdBbV",et="bubbled_instances_list--ui3Line--SIYpX";function es(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:s,wideContainer:l,scrollableContainer:a}=e,o=(0,n.d4)(X.K4),[d,p]=(0,i.useState)(!1),h=(0,q.uQ)(),f=t?o:o?.filter(e=>e.isBubbled),x=e=>{u.l7.user("toggle-props-bubbled",()=>c.glU?.togglePropsAreBubbled(e)),c.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},y=e=>{c.Ez5?.canvasViewState().temporarilyHoveredNodes.set(e)},b=()=>{c.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},j=0,C=!t&&!d&&null!=f&&f.length>5,v=C?f.slice(0,4):f;return C&&(j=f.length-4),i.useEffect(()=>()=>{b()},[]),i.useEffect(()=>{b()},[h]),(0,r.jsxs)("div",{className:m()({"bubbled_instances_list--scrollableContainer--ob0LQ":a}),children:[v?.map((i,n)=>{let a=i.connectedGUIDs.slice(0).sort();return r.jsx(U.S.recordableDiv,{className:"bubbled_instances_list--instanceSection--tLYN0",onMouseEnter:()=>y(i.connectedGUIDs),onMouseLeave:b,recordingKey:g.Pt(e,a[0])??"",children:t?r.jsx(el,{data:i,showNumHidden:s,onUnbubbleInstance:x,recordingKey:g.Pt(e,"checkbox",a[0]),wideContainer:l}):r.jsx(ei,{data:i,onUnbubbleInstance:x,recordingKey:g.Pt(e,"unbubble",a[0]),wideContainer:l})},n)}),!d&&j>0&&(0,r.jsx)(Y.t8,{label:(0,_.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:j}),onClick:()=>p(!0)})]})}function er({data:e,onUnbubbleInstance:t,showNumHidden:s,wideContainer:i,recordingKey:n}){return(0,r.jsxs)("div",{className:i?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7",children:[(0,r.jsx)(B.S,{checked:e.isBubbled,onChange:()=>{e.connectedGUIDs[0]&&t(e.connectedGUIDs[0])},recordingKey:n,label:(0,r.jsx)(G.J,{children:(0,r.jsx)(W.E,{truncate:"line-clamp",lineClamp:2,children:e.name})})}),s&&!!e.numHidden&&(0,r.jsx)("div",{className:"bubbled_instances_list--numHidden--fW-Sr",children:(0,_.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})})]})}function ei({data:e,onUnbubbleInstance:t,recordingKey:s,wideContainer:i}){let{bubbledNestedInstances:n}=e,l=(0,r.jsx)(K.DE,{label:null,input:(0,r.jsxs)("div",{className:Q,children:[(0,r.jsx)("div",{className:"bubbled_instances_list--instanceIcon--aRlGl",children:(0,r.jsx)(z.y,{})}),(0,r.jsx)("p",{className:J,children:e.name})]}),icon:(0,r.jsx)("div",{className:"bubbled_instances_list--minusIcon--dY8i-",children:(0,r.jsx)(H.K,{"aria-label":(0,_.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:s,htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":T.Ib.TEXT,onMouseDown:$.dG},children:(0,r.jsx)(V.f,{})})})});return 0===n.length?l:(0,r.jsx)(en,{data:e,row:l,wideContainer:i})}function en({data:e,row:t,wideContainer:s}){return(0,r.jsx)(Y.R$,{row:t,isCollapsedByDefault:!0,children:e.bubbledNestedInstances.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(K.DE,{label:null,input:(0,r.jsxs)("div",{className:Q,children:[(0,r.jsx)("div",{className:ee,children:(0,r.jsx)("div",{className:et})}),(0,r.jsx)("div",{className:s?Z:J,children:e.name})]}),icon:null})},t))})}function el({data:e,onUnbubbleInstance:t,recordingKey:s,showNumHidden:i,wideContainer:n}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.Ad,{label:null,input:(0,r.jsx)(er,{data:e,onUnbubbleInstance:t,showNumHidden:i,wideContainer:n,recordingKey:s})}),e.bubbledNestedInstances.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(K.Ad,{label:null,input:(0,r.jsxs)("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc",children:[(0,r.jsx)("div",{className:ee,children:(0,r.jsx)("div",{className:et})}),(0,r.jsx)("div",{className:n?Z:J,children:e.name})]})})},t))]})}var ea=s(361170),eo=s(739710),ed=s(643330);function ec(){let e="bubbledPropsPicker",t=(0,n.d4)(e=>e.pickerShown),s=(0,n.wA)(),i=new ea.Mi(t?.initialX,t?.initialY);return t?.id!==eo.Dd?null:(0,r.jsx)(ed.Ao,{title:(0,_.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:i,initialWidth:eo.wh,headerSize:"small",onClose:()=>{s(b.XE())},recordingKey:e,children:(0,r.jsx)("div",{className:"bubbled_props_picker--container--I6VX-",children:(0,r.jsx)(es,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})})})}var eu=s(415680),ep=s(564236),eh=s(540864),em=s(388332);let eg="props_panel--dropdownRowWithIcon--03FtD",ef="props_panel--dropdownRowWithoutIcon--F8Ra-";function ex({recordingKey:e,isInSelectionActionsPanel:t}){let s=(0,n.wA)(),l=(0,n.d4)(D.i$),d=(0,n.d4)(eh.od),h=!(0,n.d4)(ep.Jp),m=(0,n.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===eo.C4),T=(0,n.d4)(e=>!!e.modalShown&&e.modalShown.type===eu.n.type),{componentDescription:F}=(0,M.z6)(),B=(0,n.d4)(e=>e.pickerShown),G=m||T||B?.id===eo.Dd,H=!!(0,n.d4)(X.Z3).length,z=(0,n.d4)(X.K4),V=!!z?.length,U=(0,n.d4)(w.Dr),W=(0,n.d4)(w.Ct),{allowLibraryPublish:$}=(0,i.useContext)(S.s),{submit:q,apply:J}=(0,v.wP)(),Z=i.useRef(null),Q=i.useRef(null),ee=(0,P.d$)(),et=i.useCallback(e=>{B&&s(b.XE()),m?s(y.oB()):s(y.j7({type:eo.C4}))},[s,B,m]),er=i.useCallback(e=>{(0,eo.Pp)(d,!1,e,eo.Fv.ICON);let t=Q.current,r=t?(0,N.cn)(t,eo.wh):{};s(j.to({type:eu.n,data:{propType:e,initialX:r?.x??0,initialY:r?.y??0}}))},[s,d]),ei=i.useCallback(()=>{d&&(d.isLooseComponent?k.Y5.triggerActionInUserEditScope(ee?"add-variant-to-template-set":"create-state-group"):er(c.J0O.VARIANT))},[er,d,ee]),en=i.useCallback(()=>{let e=Q.current,t=e?(0,N.cn)(e,eo.wh):{};s(b.u1({id:eo.Dd,initialX:t?.x,initialY:t?.y}))},[s]),el=i.useCallback(async()=>{if(!d)return;let e=(await q({components:[d],clientLifecycleId:(0,f.g)()}))[0];e&&u.l7.user("apply-suggested-props",()=>{J(e)})},[q,J,d]),ea=d?.isAlive&&d.isCodeComponent,ed=[...(0,p.kc)().ds_variable_props_number_def?[c.J0O.NUMBER]:[],c.J0O.TEXT,c.J0O.BOOL,...ea?[]:[c.J0O.INSTANCE_SWAP],...(0,C.$)()?[c.J0O.SLOT]:[]];return d?(0,r.jsxs)(R.Zk,{ref:Q,style:t?{paddingBottom:0,borderBottom:"none"}:void 0,children:[(0,r.jsx)(A.Q,{}),h?null:(0,r.jsx)(O.n,{description:F}),(0,r.jsx)(e_,{isPanelEmpty:h,isAddPropButtonSelected:G,hasBubbledInstances:H,stateGroupSelectionMode:l,selectAddPropOptionRef:Z,toggleAddPropDropdown:et,recordingKey:e,isInSelectionActionsPanel:t}),m&&Z.current&&(0,r.jsxs)(I.Cf,{targetRect:Z.current.getBoundingClientRect(),propagateCloseClick:!0,children:[(0,r.jsx)(x.c$,{disabled:!0,className:ef,children:(0,_.tx)("design_systems.component_properties.create_property")}),!ea&&(0,r.jsxs)(x.c$,{className:eg,onClick:ei,recordingKey:g.Pt("openCreatePropModal",(0,eo.xb)(c.J0O.VARIANT)),children:[(0,r.jsx)(E.Nu,{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.m,{})})}),(0,_.tx)("design_systems.component_properties.across_variants")]}),ed.map(e=>(0,r.jsxs)(x.c$,{className:eg,onClick:()=>er(e),recordingKey:g.Pt("openCreatePropModal",(0,eo.xb)(e)),children:[(0,r.jsx)(E.Nu,{children:(0,eo.zn)(e,!0)}),(0,eo.xb)(e)]},e)),V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.wv,{}),(0,r.jsx)(x.c$,{disabled:!0,className:ef,children:(0,_.tx)("design_systems.component_properties.expose_nested_instances")}),(0,r.jsxs)(x.c$,{className:eg,onClick:en,recordingKey:"openBubbledPropPicker",children:[(0,r.jsx)(E.Nu,{children:(0,r.jsx)(o.M,{})}),(0,_.t)("design_systems.component_properties.choose_instances")]})]}),(0,p.kc)().first_draft_suggest_props&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.wv,{}),(0,r.jsxs)(x.c$,{className:eg,onClick:el,recordingKey:"suggestProps",children:[(0,r.jsx)(E.Nu,{children:(0,r.jsx)(o.M,{})}),(0,_.t)("first_draft.suggest_properties")]})]})]}),B?.id===eo.Dd&&(0,r.jsx)(ec,{}),(0,r.jsx)(Y.e6,{containerWidth:eo.O2.RESIZABLE_SIDEBAR,propDimension:eo.OE.DEFINITION,guids:[d.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"props_panel--bubbledInstancesHeading--C26v2",children:(0,_.t)("design_systems.component_properties.bubbled_instances")}),(0,r.jsx)(es,{recordingKey:e})]}),U&&W&&$?(0,r.jsx)(K.Ad,{label:null,input:(0,r.jsx)(L.U,{})}):null]}):null}function e_({isAddPropButtonSelected:e,stateGroupSelectionMode:t,selectAddPropOptionRef:s,toggleAddPropDropdown:n,isInSelectionActionsPanel:a}){let o=i.useRef(null),u=g.rf("openCreatePropModalDropdown","click",n),p=g.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return(0,r.jsx)(F.pG,{onClick:u,onMouseDown:p,ref:o,input:(0,_.tx)("design_systems.component_properties.properties"),label:null,appendedClassName:m()(a?"props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"props_panel--ui3PanelHeaderRow--Ab8Jz",{[em.yf]:!e}),icon:t!==c.iCO.STATE?(0,r.jsx)("div",{ref:s,className:"props_panel--addButtonContainer--a58gi",children:(0,r.jsx)(l.d,{"aria-expanded":e,htmlAttributes:{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.component_panel.create_component_property")},"aria-label":(0,_.t)("design_systems.component_panel.create_component_property"),children:(0,r.jsx)(d.e,{})})}):void 0})}},156816:(e,t,s)=>{s.d(t,{Ay:()=>k,BZ:()=>j,m4:()=>C});var r=s(104076),i=s(716976),n=s(903927),l=s(795033),a=s(755444),o=s(192075),d=s(244205),c=s(422872),u=s(381059),p=s(235711),h=s(643077),m=s(74620),g=s(835307),f=s(143277),x=s(765516),_=s(61102),y=s(654200),b=s(441030);let j="ui3-layers-horizontal-scroll-onboarding-key",C="ui2-layers-horizontal-scroll-onboarding-key",v=(0,p.r1)("seen_ui3_layers_horizontal_scroll_overlay");function k(){let e=(0,m.aV)(),t=(0,l.md)(u.Fy),s=(0,n.d4)(e=>e.mirror.appModel.currentPage),p=(0,g.Fk)((e,t)=>!(0,h.zC)(e,t),s),C=(0,l.md)(v),{show:k,isShowing:S,complete:w}=(0,c.e)({overlay:b.vlG,priority:f.N.SECONDARY_MODAL},[t,C]);return i.useEffect(()=>{k({canShow:(t,s)=>t&&!e&&p&&!s})},[k,e,p,t]),(0,r.jsx)(_.rq,{arrowPosition:y.F_.RIGHT_TITLE,description:(0,o.tx)("ui3_layers_horizontal_scroll_overlay.ui3_description"),disableHighlight:!0,isShowing:S,media:(0,r.jsx)(x.w,{src:(0,a.ck)("86193716c443398bbd6b55d19b65db2eaf0fe3c1"),aspectRatio:16/9}),onClose:w,primaryCta:{label:(0,o.tx)("general.got_it"),ctaTrackingDescriptor:d.c.GOT_IT,type:"button",onClick:w},targetKey:j,title:(0,o.tx)("ui3_layers_horizontal_scroll_overlay.ui3_title"),trackingContextName:"UI3 Layers Horizontal Scroll Overlay"})}},413358:(e,t,s)=>{s.d(t,{j:()=>l});var r=s(440819),i=s(441030);let n=(0,r.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,r.nr)("curator_content_shown","no_figma_basics_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===i.WD4.id})]},{id:"no_figma_basics_onboarding_was_shown_in_current_session",terminal:!0}]}),l=(0,r.rn)("track_no_figma_basics_onboarding_shown",n)},193317:(e,t,s)=>{s.d(t,{T:()=>C,g:()=>j});var r=s(104076),i=s(716976),n=s(903927),l=s(192075),a=s(482996),o=s(443192),d=s(244205),c=s(90844),u=s(422872),p=s(211862),h=s(592726),m=s(174730),g=s(143277),f=s(61102),x=s(2972),_=s(643330),y=s(441030),b=s(957128);let j={[b.a5]:!1,[b.fc]:!1,[b.bo]:!1};function C(){let e=(0,p.MY)(),t=(0,p.q5)(),s=(0,n.wA)(),C=(0,h.iZ)(),{show:v,isShowing:k,complete:S,uniqueId:w}=(0,u.e)({overlay:y.TrJ,priority:g.N.SECONDARY_MODAL},[e]),T=(0,a.te)(),N=!!(0,m.f)(b.fc),E=t?.canEdit,{currentView:I,visualAssetsType:M}=(0,x.wV)();return(0,c.E)(w,["Reset Visual Assets Tooltips",b.io],()=>{C&&t&&s(o.b(j))}),(0,i.useEffect)(()=>{E&&T()&&!N&&M&&I===x.S5.VisualAssets&&v(),k&&I!==x.S5.VisualAssets&&S()},[v,S,k,E,T,N,M,I]),(0,r.jsx)(f.rq,{arrowPosition:_.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,l.tx)("rcs.visual_assets.drag_visual_assets_description"),disableHighlight:!0,isShowing:k,onClose:S,pointToLeftEdge:!0,primaryCta:{label:(0,l.tx)("onboarding_pointers.got_it"),type:"button",onClick:S,ctaTrackingDescriptor:d.c.GOT_IT},targetKey:b.ko,title:(0,l.tx)("rcs.visual_assets.drag_visual_assets_title"),trackingContextName:"Visual Assets Search Tooltip",userFlagOnShow:b.fc})}},382256:(e,t,s)=>{s.d(t,{J:()=>_});var r=s(104076),i=s(716976),n=s(266808),l=s(170627),a=s(812714),o=s(795033),d=s(883765),c=s(819851),u=s(272841),p=s(692042),h=s(721101),m=s(859490),g=s(644033),f=s(583607);let x=s(967749).zS;function _(){let[e,t]=(0,o.fp)(f.ph),s=(0,o.md)(f.KG),_=(0,o.md)(f.kh),y=(0,p._X)({subscribeToUpdates_expensive:!0}),[b,j]=(0,i.useState)(null),C="whiteboard"===(0,c.lg)(),v=i.useCallback(()=>{if(e){let{emojis:t,index:s}=e;if(t&&s>=0&&s<t.length){let e=(0,u._Q)(t[s]);e&&l.l7.user("insert-emoji",()=>{(0,d.sx)("inserted_editor_emoji",{emoji:e}),n.SmY?.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),k=i.useCallback(()=>{t(null)},[t]);if(!_||!e||null===s)return null;let S=(0,p.Yb)(y,_);if(!(0,p.ZT)(S,y))return null;let w={top:S.y+y.y-8,bottom:S.y+y.y+S.height+8,left:S.x+y.x,right:S.x+y.x+S.width,height:S.height,width:S.width},T=b&&w.height>0&&w.bottom>y.height-b&&w.top>y.height-w.bottom?{positionFromBottom:{left:w.left,bottom:y.height+y.y-w.top},direction:m.ri.UPWARDS}:{targetRect:w,direction:m.ri.DOWNWARDS};return(0,r.jsxs)("div",{children:[(0,r.jsx)(h.j_,{dispatchTypeahead:t,onClear:k,onInsert:v,typeahead:e,width:168,...T,emojiImageSet:s,isFigJam:C,recordingKey:"emojiTypeaheadView",setMaxTypeaheadHeight:j,zIndex:x}),(0,a.kc)().figjam_a11y_typeahead&&(0,r.jsx)(g.p,{ariaControls:h.z,ariaActivedescendant:(0,h.yn)(e.emojis[e.index]?.id??"")})]})}},454903:(e,t,s)=>{s.d(t,{L:()=>d});var r=s(104076),i=s(716976),n=s(266808),l=s(772523),a=s(331497),o=s(833536);let d=i.memo(function(){return(0,a.ut)((0,l.aY)(),n.FAf.DESIGN),(0,r.jsx)(o.B,{stackHeader:!1,hideResolve:!1})})},190764:(e,t,s)=>{s.d(t,{o:()=>eR});var r=s(104076),i=s(716976),n=s(266808),l=s(1188),a=s(375627),o=s(551037),d=s(968169),c=s(373235),u=s(381605),p=s(508011),h=s(74620),m=s(592726),g=s(99723),f=s(795033),x=s(111297),_=s(72138),y=s(236631),b=s(903927),j=s(511570),C=s.n(j),v=s(883765),k=s(686549),S=s(755444),w=s(806484),T=s(544394),N=s(192075),E=s(211862),I=s(853039),M=s(176203),A=s(389396);function P(){let e=(0,b.wA)(),t=(0,m.iZ)(),{isEditingFile:s,unsortedTeams:n}=(0,A.DF)(),l=(0,E.q5)(),a=(0,M.sL)(l?.editorType),o=i.createRef();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:C()(y.s.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,y.s.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,v.sx)("help_widget_get_help",{isEditingFile:s,editorType:a,source:"in-product-help-panel-button"}),(0,S.sL)()){(0,k.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===n.filter(I.w5).length;o.current?.open({ticketForms:e?w.Fb.FREE:w.Fb.PAID,locale:t?.locale})},children:(0,N.t)("help_widget.menu.contact_support")}),(0,r.jsx)(T.F,{ref:o,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})}var O=s(420680),L=s(423128),R=s(289050);function D(){let{hideInProductHelpView:e}=(0,R.A5)();return(0,r.jsxs)("div",{className:y.s.flex.flexRow.justifyBetween.itemsCenter.$,children:[(0,r.jsx)("p",{className:y.s.font16.colorText.fpl__textHeadingLargeFontWeight.$,children:(0,N.t)("in_product_help_and_learning.first_level_header.title")}),(0,r.jsx)(O.K,{onClick:()=>{e()},"aria-label":(0,N.t)("general.close"),children:(0,r.jsx)(L.A,{})})]})}var F=s(293422),K=s(232600),B=s(915459);function G(){let e=(0,x.j6)(),t=(0,m.Pc)().locale,[s,n]=i.useState(""),[l,a]=i.useState(!1),o=i.createRef(),d=i.createRef(),c=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:s});let r=(0,K.lF)({query:s});(0,k.FJ)(`https://help.figma.com/hc/${(0,R.FI)(t)}/search?${r}`,"_blank","noopener")};return i.useEffect(()=>{if(d.current&&o.current){let e=o.current.offsetWidth;d.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[d,o]),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:d,children:[(0,r.jsx)(B.IW,{className:C()(y.s.h32.wFull.colorBgSecondary.bRadius8.$,{"first_level_resource_search_bar--isFocused--1E4mp":l}),clearSearch:()=>n(""),focusOnMount:!0,hasTransparentBackground:!0,hideXIcon:!0,iconClassName:y.s.colorIconSecondary.$,isFocused:l,onBlur:()=>a(!1),onChange:n,onFocus:()=>a(!0),query:s}),s.length>0&&(0,r.jsx)("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp",children:(0,r.jsx)(F.$n,{variant:"primary",type:"submit",ref:o,children:(0,N.tx)("in_product_help_and_learning.search")})})]})}var H=s(812714),z=s(652539),V=s(352630),U=s(205084);function W({sectionName:e,sectionOptions:t}){return(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$,children:[(0,r.jsx)("p",{className:y.s.mb2.$,children:e}),t]})}var $=s(491732);let Y=()=>{let e=!!(0,H.kc)().web_help_widget_report_translations&&U.Gq()?.getPrimaryLocale(!0)!=="en";return[{label:(0,N.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,N.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,N.t)("help_widget.menu.release_notes"),href:"https://www.figma.com/release-notes/"},{label:(0,N.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,N.t)("help_widget.menu.submit_feedback"),href:"https://forum.figma.com/submit-feedback"},...e?[{label:(0,N.t)("help_widget.menu.report_translation_issues"),href:"https://form.asana.com/?k=2lONzHHSiZJo3FThA47peg&d=10497086658021",onClick:()=>{(0,v.sx)("help_widget_report_translations",{source:"in_product_help_and_learning_panel"})}}]:[],{label:(0,N.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"}]},X=i.memo(function(){let e=Y().map(e=>(0,r.jsx)("span",{className:y.s.flex.gap8.colorTextBrand.cursorPointer.$,children:(0,r.jsx)(V.$z,{variant:"link",onClick:()=>{(0,k.FJ)(e.href,"_blank","noopener"),e.onClick?.()},iconPrefix:(0,r.jsx)(z.B,{svg:$.A,width:"16px",className:y.s.colorIconBrand.mr8.$}),children:e.label})},e.label)),t=(0,N.t)("in_product_help_and_learning.more_help_resources.section_title");return(0,r.jsx)(W,{sectionName:t,sectionOptions:e})});var q=s(816565),J=s(659062),Z=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(Z||{});function Q(e){switch(e){case 0:return[{displayString:(0,N.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:0x182dc2b40797},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:0x183601f04d17},{displayString:(0,N.t)("in_product_help_and_learning.article.combine_layers"),articleId:0x1833cfa8cf97},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:0x53d40dbffa},{displayString:(0,N.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:0x53d4225f82},{displayString:(0,N.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:0x53d41dbafe},{displayString:(0,N.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:0x53d40ed782},{displayString:(0,N.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:0x53d40ed7d2}];case 1:return[{displayString:(0,N.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:0x53d425e791},{displayString:(0,N.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:0x53677016397},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:0x53d4154d2d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:0x53d3fb49a6},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactions"),articleId:0x53d4133b7d},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:0x53d40ef5fa},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_actions"),articleId:0x53d40ef622},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_animations"),articleId:0x53d4166285},{displayString:(0,N.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:0x53d40dc9e6}];case 2:return[{displayString:(0,N.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:0x53d3fa03f2},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:0x53d401725d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:0x53d5094712},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:0x53d5518626},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_component_properties"),articleId:0x513129d7517}];default:return[]}}function ee({resource:e}){let t=(0,x.j6)(),s=(0,R.Yj)(),i=(0,f.Xr)(R.J9),n=(0,f.Xr)(R.Zf),l=(0,f.Xr)(R.QU);return(0,r.jsxs)("button",{className:y.s.cursorPointer.$,style:J.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===Z.DESIGN_FIRST_BUTTON){let t=await s(0xcce00915a97);t&&(i(2),n(e),l(t))}else e.resource===Z.VIDEO_TUTORIALS?(0,k.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(i(2),n(e))},children:[(0,r.jsx)(q.oW,{src:e.image,alt:"",style:J.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$,children:[(0,r.jsx)("p",{className:y.s.colorText.fpl__textBodyMediumStrongFontWeight.$,children:e.title}),(0,r.jsx)("p",{className:y.s.colorTextSecondary.$,children:e.description})]})]},e.title)}function et(){let e=[{resource:0,title:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:(0,S.ck)("a657c232671f190106d0943282bf1a970f036718")},{resource:1,title:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:(0,S.ck)("033919a9d852c5a37b60923805a0e11f625cd9b1")},{resource:2,title:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:(0,S.ck)("4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab")},{resource:3,title:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:(0,S.ck)("13d91474245b8e3949763a713a12805283cfe2a2")},{resource:4,title:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:(0,S.ck)("02377d4618e4b063422da13c18efd5debece9591")}];return(0,r.jsxs)("div",{className:y.s.flex.flexColumn.rowGap8.$,children:[(0,r.jsx)("p",{className:y.s.font13.colorText.fpl__textBodyMediumStrongFontWeight.$,children:(0,N.t)("in_product_help_and_learning.popular_resources.section_title")}),e.map(e=>(0,r.jsx)(ee,{resource:e},e.title))]})}var es=s(717466),er=s(366535),ei=s(354114),en=s(874747);function el({option:e}){return(0,r.jsx)("span",{className:y.s.flex.colorTextBrand.cursorPointer.$,children:(0,r.jsx)(V.$z,{variant:"link",onClick:e.onClick,children:e.label})})}function ea(){let e=(0,b.wA)(),t=[{label:(0,N.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){ei.Y5.isReady()&&(e(es.FU({tab:"layout"})),ei.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,N.t)("help_widget.menu.change_languages"),onClick:function(){e((0,er.to)({type:en.kA,data:{source:en.IO.HELP}}))}},{label:(0,N.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{ei.Y5.isReady()&&ei.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>(0,r.jsx)(el,{option:e},e.label)),s=(0,N.t)("in_product_help_and_learning.settings.section_title");return(0,r.jsx)(W,{sectionName:s,sectionOptions:t})}function eo({isFloatingModal:e}){return(0,r.jsx)("div",{children:(0,r.jsxs)(x.fu,{name:"First Level",children:[(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap16.p16.pb8.$,children:[(0,r.jsx)(D,{}),(0,r.jsx)(G,{})]}),(0,r.jsx)(_.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz",children:(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap16.pb16.$,children:[(0,r.jsx)(et,{}),(0,r.jsx)(ea,{}),(0,r.jsx)(X,{})]})}),(0,r.jsx)(P,{})]})})}var ed=s(361170),ec=s(643330);function eu({propertiesPanelWidth:e,view:t}){let[s,n]=(0,i.useState)((0,R.iM)({propertiesPanelWidth:e})),l=(0,i.useCallback)(()=>{n((0,R.iM)({propertiesPanelWidth:e}))},[e]);return(0,i.useEffect)(()=>{let e=(0,g.s)(()=>{l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l]),(0,i.useEffect)(()=>{l()},[e,l]),(0,r.jsx)(ec.Ao,{initialWidth:R.yx,initialHeight:.8*window.innerHeight,initialPosition:new ed.Mi(s.x,s.y),maxHeight:.8*window.innerHeight,children:(0,r.jsx)("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj",children:t})})}var ep=s(684742),eh=s(149073);function em(){let e=(0,f.md)(R.J9),{hideInProductHelpView:t}=(0,R.A5)(),s=(0,f.Xr)(R.J9);return(0,r.jsxs)("div",{className:y.s.flex.flexRow.justifyBetween.p16.pl12.$,children:[(0,r.jsxs)(ep.E,{onClick:()=>{s(e-1)},"aria-label":(0,N.t)("general.back"),className:y.s.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,children:[(0,r.jsx)(eh.C,{}),(0,N.tx)("general.back")]}),(0,r.jsx)(O.K,{onClick:()=>{t()},"aria-label":(0,N.t)("general.close"),children:(0,r.jsx)(L.A,{})})]})}var eg=s(929302),ef=s(91478),ex=s(268389),e_=s(78468),ey=s.n(e_);let eb="third_level_resources--helpCenterArticle--Fnl-a";function ej({afterArticleChildren:e}){let{name:t}=(0,x.j6)(),s=(0,f.md)(R.Zf),n=(0,f.md)(R.J9),l=(0,f.md)(R.QU),a=i.createRef(),[o,d]=i.useState(),c=i.useCallback(()=>{a.current?.scrollTo(0,0)},[a]);return((0,i.useEffect)(()=>{Array.from(document.querySelectorAll(`.${eb} a`)).forEach(e=>{if(-1===e.href.indexOf("#"))e.target="_blank";else{let t=e.href.split("#",2);e.href=`#${t[1]}`}e.onclick=()=>{(0,v.sx)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:l?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let s=e.parentNode;s&&s.insertBefore(t,e)}}catch(e){console.error(e)}}}(l),Array.from(document.querySelectorAll(`.${eb} img`)).forEach(e=>{e.onclick=()=>{d({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),s=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===s.length){let t=0,r=t=>{e.forEach((e,s)=>{s===t?e.classList.add("active"):e.classList.remove("active")}),s.forEach((e,s)=>{s===t?e.style.display="block":e.style.display="none"})};e.forEach((e,s)=>{e.onclick=()=>r(s),e.classList.contains("active")&&(t=s)}),r(t)}c()},[l]),l)?(0,r.jsx)("div",{children:(0,r.jsxs)(x.fu,{name:"Help Center Article",properties:{articleId:l.id},children:[(0,r.jsx)(em,{}),!!s&&3===n&&(0,r.jsxs)("h3",{className:"third_level_resources--breadcrumb--yQHOD",children:[s.title," /"," ",(0,r.jsx)("span",{className:y.s.fpl__textBodySmallStrongFontWeight.$,children:l.name})]}),(0,r.jsx)("h1",{className:y.s.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$,children:l.name}),(0,r.jsxs)("div",{className:"third_level_resources--container--RY81c",ref:a,children:[(0,r.jsx)("div",{className:C()(y.s.p16.pt8.$,eb),dangerouslySetInnerHTML:{__html:ey().sanitize(l.body)}}),e,(0,r.jsx)(eC,{image:o,onClose:()=>d(void 0)})]})]})}):null}function eC({image:e,onClose:t}){let s=eg.hS({open:!!e,onClose:t});return(0,r.jsx)(ef.bL,{manager:s,width:"fit-content",children:(0,r.jsx)("div",{className:"third_level_resources--enlargedImageContainer--EqCOz",children:(0,r.jsx)(ex.vo,{children:(0,r.jsx)(q.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"})})})})}function ev(){let e=(0,f.Xr)(R.J9),t=(0,f.md)(R.Zf),s=(0,f.md)(R.QU);if(!t)return null;let i=null;return t.resource===Z.DESIGN_FIRST_BUTTON?(0,r.jsx)(ej,{afterArticleChildren:s&&0xcce00915a97===s.id?(0,r.jsx)(eS,{}):void 0}):t.resource===Z.VIDEO_TUTORIALS?(e(1),null):(i=(0,r.jsx)(ek,{details:function(e){switch(e){case 0:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:(0,S.ck)("6db4a35b80ddb5910781af9bc60c66bf902dff3a"),mp4:(0,S.ck)("88dea447c3d80062d168b864c9c01aa5645790e5"),articles:Q(0)};case 1:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:(0,S.ck)("23c86354e978f77d1ca96b6cc52dfdc216f5a99d"),mp4:(0,S.ck)("fd204bb233c3be09b2e29f8621d93342c24b07af"),articles:Q(1)};case 2:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:(0,S.ck)("0f0aad5b442ba063078c23b06010aab77ecf0c07"),mp4:(0,S.ck)("34285a0d04fb97f14cc2611ddc825950aec93300"),articles:Q(2)}}}(t.resource)}),(0,r.jsx)("div",{children:(0,r.jsxs)(x.fu,{name:"Second Level",children:[(0,r.jsx)(em,{}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.p16.pt8.pb0.$,children:[(0,r.jsx)("p",{className:y.s.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$,children:t.title}),i]})]})}))}function ek({details:e}){let t=(0,R.Yj)(),s=(0,f.Xr)(R.J9),i=(0,f.Xr)(R.QU);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:y.s.wFull.hAuto.borderBox.mt16.bRadius5.$,children:[(0,r.jsx)("source",{type:"video/webm",src:e.webm}),(0,r.jsx)("source",{type:"video/mp4",src:e.mp4})]}),(0,r.jsx)("div",{className:y.s.flex.flexColumn.gap16.pt24.$,children:e.articles.map(e=>(0,r.jsx)("span",{className:y.s.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$,children:(0,r.jsx)(V.$z,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let r=await t(e.articleId);r&&(s(3),i(r))},children:e.displayString})},e.displayString))})]})}function eS(){let e=(0,R.Yj)(),t=(0,f.Xr)(R.QU);return(0,r.jsxs)("button",{className:y.s.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:J.sx.add({height:"74px"}).$,onClick:async()=>{let s=await e(0x130e9f996b97);s&&t(s)},children:[(0,r.jsx)(q.oW,{src:(0,S.ck)("c657cef6e7f2fec74ceef573832e097f2d0ce4cd"),alt:"",style:J.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:J.sx.add({margin:"auto 12px"}).$,children:[(0,r.jsx)("p",{className:y.s.colorText.fpl__textBodyMediumStrongFontWeight.$,children:(0,N.tx)("in_product_help_and_learning.article.design_an_interactive_button")}),(0,r.jsxs)("p",{className:y.s.colorTextSecondary.$,children:[(0,N.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,N.tx)("in_product_help_and_learning.minute_estimate",{minutes:20})]})]})]},"design-an-interactive-button")}var ew=s(88314),eT=s(876621),eN=s(278491),eE=s(331497),eI=s(852415),eM=s(993767);function eA({view:e}){let{inProductHelpViewType:t}=(0,R.A5)(),s=(0,eE.J2)(n.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:(0,r.jsx)(eT.V,{children:(0,r.jsx)(eM.b,{children:(0,r.jsx)(eI.lY,{className:C()("dynamic_panel--sidePanelPosition--YOgLo",eN.Dm),size:s,onResize:e=>{!function(e){let t=(0,ew.qE)(e,R.Jm,R.tL);n.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0,children:(0,r.jsx)("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${s}px`},"data-testid":"in-product-help-side-panel",children:e})})})})}function eP({propertiesPanelWidth:e}){let t;let{inProductHelpViewType:s,hideInProductHelpView:n,updateInProductHelpViewOnWindowWidthResize:l}=(0,R.A5)(),a=(0,f.md)(R.J9);return(1===a?t=(0,r.jsx)(eo,{isFloatingModal:"floating_modal"===s}):2===a?t=(0,r.jsx)(ev,{}):3===a&&(t=(0,r.jsx)(ej,{})),i.useEffect(()=>{let e=(0,g.s)(()=>{"hidden"!==s&&l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[s,e,l]),i.useEffect(()=>()=>n(),[n]),"side_panel"===s)?(0,r.jsx)(x.fu,{name:"In Product Help Panel",children:(0,r.jsx)(eA,{view:t})}):"floating_modal"===s?(0,r.jsx)(x.fu,{name:"In Product Help Floating",children:(0,r.jsx)(eu,{propertiesPanelWidth:e,view:t})}):null}var eO=s(948311),eL=s(446071);function eR({boundaryKey:e,children:t}){let s=(0,h.aV)(),g=(0,c.q)(),f=(0,h.p8)("topLevelMode"),x=(0,m.iZ)(),_=s?u.R.topLevelMode:f,y=(0,p.TY)(),b=(0,o.k)(),j=_===n.lyf.LAYOUT||_===n.lyf.BRANCHING||y||!!x&&_===n.lyf.PREVIEW||_===n.lyf.HISTORY,C=(0,d.qw)();(0,a.tt)();let{inProductHelpViewType:v}=(0,R.A5)(),{setPropertiesPanelCollapsed:k}=(0,a.iT)();return(i.useEffect(()=>{b&&k(!0)},[k,b]),b)?(0,r.jsx)("div",{className:eL.KF,children:(0,r.jsx)(eO.v2,{})}):(0,r.jsx)(l.tH,{boundaryKey:e,fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING,children:j&&g&&(0,r.jsxs)(r.Fragment,{children:[t,"hidden"!==v&&(0,r.jsx)(eP,{propertiesPanelWidth:C})]})})}},369392:(e,t,s)=>{s.d(t,{k:()=>y});var r=s(104076),i=s(716976),n=s(903927),l=s(951002),a=s(266808),o=s(582789),d=s(795033),c=s(666875),u=s(55029),p=s(819851),h=s(754446),m=s(692042),g=s(331497),f=s(712559),x=s(594440),_=s(790621);function y({children:e,isShown:t,centerInFrame:s,anchorToRect:l,showInReadOnly:o,respectPreferredPosition:d,disableAnimation:c,zIndex:u,obstacleMargin:p}){let f;let[x,y]=i.useState(!1),[j,C]=i.useState(!1),v=i.useRef(null),{markPositionChanged:k,markSelectionChanged:S}=(0,_.LP)(v),w=(0,n.d4)(({mirror:{appModel:e}})=>[a.QOV.DEFAULT,a.QOV.SELECTING_TEXT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),T=(0,n.d4)(({mirror:{appModel:e}})=>e.isReadOnly),N=(0,m._X)({subscribeToUpdates_expensive:t}),E=(0,g.J2)(a.Ez5.canvasViewState().selectionBoundingRect),I=(0,g.J2)(a.Ez5.canvasViewState().inlineMenuTarget),M=l||I?.boundingBox||E,A=(0,_.JI)(),P=(0,n.d4)(e=>e.mirror.sceneGraphSelection),O=(0,h.kl)("isTableSublayerSelected"),L=(f=a.cfv.ABOVE,I?.preferredPosition?f=I.preferredPosition:O&&(f=a.cfv.BELOW),f),R=!!A||!N||!M||!w||T&&!o||!t;i.useEffect(()=>{(R||j)&&x&&y(!1)},[R,x,j]);let D=N?.offsetX||0,F=N?.offsetY||0;return(i.useEffect(()=>{y(!1)},[P,D,F]),i.useEffect(()=>{S(P)},[P,S]),R)?(0,r.jsx)(_.C_,{disableAnimation:c,ref:v,children:null}):(0,r.jsx)(b,{animationContainerRef:v,boundingBox:M,centerInFrame:s,disableAnimation:c,isHovering:x,markPositionChanged:k,obstacleMargin:p,preferredRelativePosition:L,respectPreferredPosition:d,setIsHovering:y,setSizeChanged:C,viewport:N,zIndex:u,children:e})}function b({children:e,viewport:t,animationContainerRef:s,centerInFrame:n,boundingBox:h,preferredRelativePosition:g,setSizeChanged:y,isHovering:b,setIsHovering:j,markPositionChanged:C,respectPreferredPosition:v,disableAnimation:k,zIndex:S,obstacleMargin:w}){let[T,N]=(0,d.fp)(f.f),E=T.positionRelativeToSelection,I=i.useRef(null),M=(0,p.lg)(),A=(0,_.v2)(),P=n?0:A,O=i.useRef(null),L=(0,u.FQ)(O,w),R=(0,m.Yb)(t,h),D=i.useMemo(()=>({...R,x:R.x+t.x,y:R.y+t.y}),[R,t]),F=i.useCallback((e,s,r,i)=>{if(t){let n=e-t.x,l=s-t.y,o=(0,m.$$)(t,{x:n,y:l-i/window.devicePixelRatio});a.glU.figjamInlineMenuPositionUpdate(o.x,o.y,r.height)}C({x:e+r.width/2,y:s+r.height/2});let n=(0,_.iv)(D,e,s,g);E!==n&&N({type:"SET_POS_RELATIVE_TO_SELECTION",payload:n})},[t,C,D,E,N,g]),K=i.useCallback((e,t,s)=>{switch(s){case a.cfv.ABOVE:return[(0,x.Al)(e,t),n?(0,x.tJ)(e,t):(0,x.T1)(e,t,P)];case a.cfv.BELOW:return[(0,x.Al)(e,t),n?(0,x.tJ)(e,t):(0,x.DH)(e,t,P)];case a.cfv.LEFT:return[(0,x.Dl)(e,t,20),n?(0,x.tJ)(e,t):e.y];case a.cfv.RIGHT:return[(0,x.Yh)(e,20),n?(0,x.tJ)(e,t):e.y];default:(0,l.xb)(s)}},[P,n]),B=i.useCallback((e,t,s)=>{let[r,i]=K(e,t,s);return o.r.fromOriginAndSize(r,i,t.width,t.height)},[K]),G=i.useCallback((e,t,s,r,i)=>!n&&s===a.cfv.ABOVE&&r.top()>i.top()?B(e,t,a.cfv.BELOW):!n&&s===a.cfv.BELOW&&r.top()<i.top()?B(e,t,a.cfv.ABOVE):s===a.cfv.LEFT&&r.left()>i.left()?B(e,t,a.cfv.RIGHT):s===a.cfv.RIGHT&&r.left()<i.left()?B(e,t,a.cfv.LEFT):r,[B,n]),H=i.useCallback((e,s,r,i)=>{let n=o.r.fromOriginAndSize(t.x,t.y,t.width,t.height),l=B(e,s,g),a=L(l,n,i),d=G(e,s,g,a,l);return d===a||v||(a=L(d,n,i)),[a.left(),a.top()]},[g,v,t.height,t.width,t.x,t.y,L,B,G]),[z]=(0,c.A)((0,m.ZT)(R,t),500);if(!z)return(0,r.jsx)(_.C_,{disableAnimation:k,ref:s,children:null});let V="whiteboard"===M&&b?{transition:"transform 0.1s"}:{};return V.WebkitUserSelect="none",(0,r.jsx)(x.lM,{frozen:b,offset:P,onMouseEnter:()=>{j(!0),I.current&&clearTimeout(I.current),I.current=null},onMouseLeave:()=>{I.current=setTimeout(()=>j(!1),100)},onPosition:F,positionXY:H,setSizeChanged:y,style:V,targetRect:D,zIndex:S,children:(0,r.jsx)("div",{ref:O,children:(0,r.jsx)(_.C_,{disableAnimation:k,ref:s,children:e})})})}},539607:(e,t,s)=>{s.d(t,{b:()=>C,A:()=>j});var r=s(104076),i=s(716976),n=s(903927),l=s(454851),a=s(719423),o=s(795033),d=s(641518),c=s(192075),u=s(111297),p=s(384068),h=s(842013),m=s(422836),g=s(564914),f=s(143277),x=s(699914),_=s(115473),y=s(39532),b=s(705596);function j({entrypoint:e,hideIfNoUpdates:t,initialTabOverride:s}){let r=(0,y.Xm)(),l=(0,o.md)(m.Lc),d=(0,o.md)((0,h.Xh)(r)),u=(0,_.c)(),f=(0,p.n)({type:x.T,data:{entrypoint:e,initialTab:s??(u?g.Wv.RECOMMENDED:l?g.Wv.UPDATES:g.Wv.LIBRARIES)}}),j=(0,n.d4)(e=>e.modalShown?.type===x.T.type),C=i.useMemo(()=>l?(0,c.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):d?(0,c.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,c.t)("fullscreen.libraries_button.tooltip.no_updates"),[l,d]),v=l||d;(0,b.Pf)({showBadge:v,hasChangesToPull:l,disabled:!1});let k=!(t&&!l&&!d);return{expanded:j,label:C,icon:a.l,onClick:f,shouldShow:k,badge:v}}function C({recordingKey:e,onSetKeyboardNavigationElement:t,entrypoint:s,hideIfNoUpdates:n,initialTabOverride:l}){let{expanded:a,label:o,icon:c,onClick:u,shouldShow:p,badge:h}=j({entrypoint:s,hideIfNoUpdates:n,initialTabOverride:l});return p?(0,r.jsx)("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library",children:(0,r.jsxs)(v,{"aria-label":o,"aria-expanded":a,ref:t,recordingKey:d.Pt(e,"teamLibrary"),onClick:u,htmlAttributes:{"data-onboarding-key":f.D},children:[i.createElement(c),h?(0,r.jsxs)("div",{className:"library_modal_button--badgeContainer--ebOHQ",children:[(0,r.jsx)("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," "]}):null]})}):null}let v=(0,u.tf)(l.d)},581660:(e,t,s)=>{s.d(t,{iV:()=>n,se:()=>l});var r=s(716976);s(491488),s(266808),s(564914);var i=s(573278);let n="asset-description-preview";function l(){let{closeFlyout:e}=(0,i.JA)();return r.useCallback(()=>{e()},[e])}},576044:(e,t,s)=>{s.d(t,{g:()=>oT});var r=s(104076),i=s(716976),n=s(511570),l=s.n(n),a=s(883765),o=s(265149),d=s(653899),c=s(1188),u=s(271761),p=s(236631),h=s(192075),m=s(46805),g=s(211862),f=s(374794),x=s(299117),_=s(957128),y=s(482996),b=s(244205),j=s(422872),C=s(296831),v=s(74620),k=s(174730),S=s(143277),w=s(61102),T=s(2972),N=s(654200),E=s(441030),I=s(413358);function M(){let e=(0,v.aV)(),t=g.q5()?.canEdit,s=(0,g.MY)(),{show:n,isShowing:l,complete:a}=(0,j.e)({overlay:E.QI3,priority:S.N.SECONDARY_MODAL},[s]),o=(0,y.te)(),{currentView:d}=(0,T.wV)(),c=!!(0,k.f)(_.bo),u="no_figma_basics_onboarding_was_shown_in_current_session"===(0,C.zl)(I.j).currentState;return(0,i.useEffect)(()=>{!e&&t&&o()&&!c&&!u&&d===T.S5.Libraries&&n(),l&&d!==T.S5.Libraries&&a()},[n,a,t,l,o,c,u,d,e]),(0,r.jsx)(w.rq,{arrowPadding:_.fg,arrowPosition:N.F_.LEFT_TITLE,description:(0,h.tx)("rcs.visual_assets.explore_within_assets_tab"),disableHighlight:!0,isShowing:l,onClose:a,primaryCta:{label:(0,h.tx)("onboarding_pointers.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:b.c.GOT_IT},targetKey:_.Bs,title:(0,h.tx)("rcs.visual_assets.elevate_your_designs"),trackingContextName:"Visual Asset Packs Tooltip",userFlagOnShow:_.bo})}var A=s(193317);function P({width:e}){return(0,r.jsxs)(x.p,{children:[(0,r.jsx)("div",{style:{left:`${e}px`,top:"195px"},className:"visual_assets_tooltip_and_target--hiddenNuxAnchor--i4n3a","data-onboarding-key":_.ko}),(0,r.jsx)(A.T,{}),(0,r.jsx)(M,{})]})}var O=s(121969),L=s(903927),R=s(649621),D=s(878604),F=s(268389),K=s(917360),B=s(812714),G=s(795033),H=s(983500),z=s(328167),V=s(221586),U=s(361170),W=s(848561),$=s(911990),Y=s(12606),X=s(285626),q=s(928818),J=s(249586),Z=s(563792),Q=s(727612),ee=s(50593),et=s(380917),es=s(380494),er=s(449572),ei=s(936817),en=s(259936),el=s(592726),ea=s(944350),eo=s(59849),ed=s(562311),ec=s(904017),eu=s(568383);function ep(e){let t=(0,ec.D6)("useCanViewPlaygroundQuery"),s=(0,L.d4)(ed.getPermissionsState),r=(0,g.q5)(),n=(0,el.TA)(),{currentUserOrgId:l}=s,a=!!(l&&(0,ed.canGuestOrg)(l,s)),o=(0,er.Rs)(eo.dHY,{},{enabled:(0,ei._X)(ei.Pw.GROUP_7)}),d=!!(n&&(0,ed.hasActiveEduTeam)(s,n)),c=(0,en.MF)({oldValue:es.Qw.loaded(d),newValue:o.transform(e=>e?.currentUser.inStudentPlan),label:en.A5.CanViewPlayground.hasActiveEduTeam,enableFullRead:(0,ei.DQ)(ei.Pw.GROUP_7)});return(0,i.useMemo)(()=>es.Qw.transformAll([t,c],(t,s)=>{if(!r||!n)return!1;let i=t.key.type===ea.h4.ORG_USER;return!!((0,en.HZ)({oldValue:a,newValue:i,label:en.A5.CanViewPlayground.canGuestOrg,contextArgs:{planUserType:t.key.type,planUserParentId:t.key.parentId},enableFullRead:(0,ei.DQ)(ei.Pw.GROUP_7),maxReports:10})||t.seatTypeLicenseTypes?.includes(ea.G_.DESIGN))||!!s||G.zl.get(eu.TG).has(e)}),[t,r,n,a,c,e])}var eh=s(499036),em=s(601887),eg=s(614784),ef=s(354114),ex=s(88180),e_=s(624155),ey=s(280335),eb=s(842013),ej=s(564914),eC=s(96213),ev=s(959834),ek=s(368680),eS=s(658749),ew=s(10019),eT=s(927671),eN=s(854284),eE=s(643330),eI=s(284467),eM=s(189385),eA=s(805733),eP=s(207291),eO=s(495905),eL=s(288747),eR=s(853039),eD=s(104836),eF=s(237494),eK=s(490307);let eB="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",eG="asset_file_path--skeletonText--PIxni";function eH({assetLibraryKey:e,assetNodeId:t}){let s=(0,eD.ol)(),n=(0,eL.sZ)(),l=!!n||(0,eR.w5)(s),a=n?.id,{fileContext:o,fileName:d,isPresetLibrary:c,isLoading:u}=function(e){let t=(0,er.Rs)(eo.ffQ,{libraryKey:e}),s=(0,eO.fd)(e);return i.useMemo(()=>({fileContext:t.data?.libraryKeyToFile?.file,fileName:t.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name??t.data?.libraryKeyToFile?.file?.name,isPresetLibrary:s,isLoading:"loading"===t.status}),[s,t.data?.libraryKeyToFile?.file,t.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name,t.status])}(e),h=function(e,t){let s=(0,eA.b)({libraryKey:e,nodeId:t}),r=(0,L.d4)(g.tB);return i.useMemo(()=>{if(r?.libraryKey===e)return null;let t=s.data;return null==t?null:t.link},[e,r,s])}(e,t),m=o?.teamLimitedInfo?.id,f=m?function(e,t){let s=location.origin;return t?`${s}/files/${t}/team/${e}`:`${s}/files/team/${e}`}(m,a):void 0,x=o?.teamLimitedInfo?.name,_=m&&x&&l,y=o?.computedWorkspace?.workspace?.id,b=y&&a?eF.fO(y,a):void 0,j=o?.computedWorkspace?.workspace?.name,C=y&&j&&l;return u?(0,r.jsxs)("div",{className:eB,"data-testid":"asset-file-path-loader",children:[(0,r.jsx)(eI.Wi,{className:eG,opacity:50})," ",l&&(0,r.jsxs)(r.Fragment,{children:["/",(0,r.jsx)(eI.Wi,{className:eG,opacity:50})]})]}):(0,r.jsxs)("div",{className:eB,children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eM.q,{tooltipText:j,children:(0,r.jsx)(eK.X,{href:b??"",newTab:!0,children:j})}),"/"]}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eM.q,{tooltipText:x,children:(0,r.jsx)(eK.X,{href:f??"",newTab:!0,children:x})}),"/"]}),(0,r.jsx)(eM.q,{tooltipText:d,children:h?(0,r.jsx)(eK.X,{href:h,newTab:!0,children:d}):(0,r.jsx)("span",{children:d})}),c&&(0,r.jsx)("div",{className:p.s.flex.alignCenter.justifyCenter.ml2.$,children:(0,r.jsx)(eP.E,{libraryKey:e,showTooltip:!0})})]})}var ez=s(827695),eV=s(266808),eU=s(328341),eW=s(836982),e$=s(349951),eY=s(293422),eX=s(420680),eq=s(391085),eJ=s(915123),eZ=s(555013),eQ=s(943568),e0=s(652539),e1=s(402776),e3=s(828244),e2=s(567325),e4=s(894210),e5=s(739710),e6=s(622659),e7=s(87535),e8=s(664320),e9=s(949701),te=s(115989),tt=s(142914),ts=s(351625),tr=s(469603);function ti({assetKey:e,type:t,updatedAt:s}){let n=(0,tr.R8)({assetKey:e,type:t}),{avatar:l,authorName:a}=i.useMemo(()=>{if("loaded"!==n.status||!n.data?.assetAttribution)return{avatar:null,authorName:null};let e=(0,e9.oA)(n.data.assetAttribution);if(!e)return{avatar:null,authorName:null};if(e.type===ea.GC.COMMUNITY)return{avatar:(0,r.jsx)(ts.e,{entity:(0,tr.M)(e),size:tt.Pf.SMALL}),authorName:e.name};let t=(0,tr.G5)(e);return null!=t&&t.img_url&&(t.handle||t.name)?{avatar:(0,r.jsx)(tt.H8,{user:t,size:tt.Pf.SMALL}),authorName:t.handle}:{avatar:null,authorName:null}},[n]);return"loading"===n.status?(0,r.jsx)(eI.Wi,{className:p.s.h16.w100.$,animationType:eI.JR.LIGHT_SHIMMER}):l&&a?(0,r.jsxs)("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy",children:[l,(0,r.jsx)("span",{className:"asset_updated_details--handle--63B8y",children:a}),s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"asset_updated_details--dot--SoliI",children:"\xb7"}),(0,r.jsx)(te.h1,{date:s})]}):null]}):s?(0,r.jsx)("div",{className:"asset_updated_details--updatedAt--eam-d",children:(0,h.tx)("design_systems.assets_panel.updated_at",{updatedAt:(0,r.jsx)(te.h1,{date:s})})}):null}var tn=s(985929),tl=s(330489),ta=s(846680),to=s(787010),td=s(347080);let tc=(0,H.jz)(td.figmaComponentFlyoutTextMaxCollapsedHeight);function tu({description:e,description_rt:t}){let s=i.useRef(null),[n,a]=i.useState(!0),[o,d]=i.useState(!1),c=(0,eU.ZC)(e);i.useEffect(()=>{if(e&&s.current&&c!==e){let e=s.current.scrollHeight>tc;a(e),d(e)}},[e,c]);let u=i.useCallback(()=>{n&&d(!0),a(!n)},[n]);if(!e&&!t)return null;let p=!!e&&(n||o);return(0,r.jsxs)("div",{className:"truncated_component_description--documentationSection--87RCO",children:[t?(0,r.jsx)("div",{children:(0,r.jsx)(ta.C,{value:t,valueFormat:(0,tl.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:n?to.D6:to.kF,innerRef:s})}):(0,r.jsx)("div",{ref:s,className:l()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":n},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto",children:e}),p&&(0,r.jsx)("button",{className:"truncated_component_description--showMore--brfX6",onClick:u,children:n?(0,h.tx)("design_systems.assets_panel.show_more"):(0,h.tx)("design_systems.assets_panel.show_less")})]})}var tp=s(372209),th=s(230645),tm=s(689324);function tg({renderedAssetData:e,errorType:t,canViewPlayground:s,onInsert:n,shouldHideError:l,onSetShouldHideError:a}){let o=(0,v.T3)(),[d,c]=i.useState(!1);i.useEffect(()=>{c(!1),a(!1)},[e.asset,a]);let u=(0,tn.S)(e.asset),p=(0,e6.Y)(e.asset),m=i.useMemo(()=>(0,e2.kH)(e.asset.name??""),[e.asset.name]),g=i.useRef(null),f=(0,eJ.NG)({text:m,textRef:g}),x=(0,e8.w$)(e.nodeData?.modeData??{}),_=e.asset,y=i.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let s=o.get(t);if(!s)return"";let r=o.get(s.symbolId??"");return r?(r.isState?r.parentGuid:r.guid)??"":""},[e,o]),b=i.useMemo(()=>{if(t)return{errorType:t,shouldHideError:l,setShouldHideError:a}},[t,l,a]),j=(0,h.tx)("design_systems.assets_panel.insert_instance");return(0,r.jsxs)("div",{className:"component_flyout_body--bodyWrapper--CoGX-",children:[u&&!d&&(0,r.jsx)("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,r.jsx)(eQ.z,{orientation:"vertical",iconSrc:th.A,onClose:()=>c(!0),variant:"design",children:(0,h.tx)("design_systems.assets_panel.update_banner")})}),(0,r.jsxs)("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p",children:[(0,r.jsx)("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":f?m:void 0,"data-tooltip-type":e4.Ib.TEXT,ref:g,children:m}),!!p&&p>1&&(0,r.jsx)("div",{className:"component_flyout_body--numVariants--nureW",children:(0,h.tx)("design_systems.assets_panel.variant_count",{numVariants:p})})]}),(0,r.jsx)("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p",children:(0,r.jsx)(tu,{description:_.description,description_rt:_.description_rt})}),_.updated_at&&(0,r.jsx)("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p",children:(0,r.jsx)(ti,{assetKey:(0,e_.Av)(_),type:_.type,updatedAt:_.updated_at})}),(0,r.jsx)("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p",children:(0,B.kc)().dse_fpl_wave_1?(0,r.jsx)(eY.IK,{onClick:n,recordingKey:"component_flyout_insert",children:j}):(0,r.jsx)(eZ.$$,{onClick:n,fullWidth:!0,recordingKey:"component_flyout_insert",children:j})}),s&&!e?.nodeData&&!b&&(0,r.jsxs)("div",{className:"component_flyout_body--skeletonWrapper--urKH5",children:[(0,r.jsx)(eI.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),(0,r.jsx)(eI.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})]}),s&&(e?.nodeData||b)&&(0,r.jsxs)(v.q0.Provider,{value:o,children:[(0,r.jsx)("div",{className:"component_flyout_body--propsContainer--w8pmU",children:(0,r.jsx)(e3.x,{componentProps:e.nodeData?.componentProps,containerWidth:e5.O2.UNBOUNDED,errorData:b,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",label:(0,r.jsx)(tf,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:y,sceneGraph:o,shouldShowDividerAboveProps:!0})}),(0,r.jsx)("div",{className:"component_flyout_body--modeContainer--8n5p5",children:(0,r.jsx)(e1.b,{fill:!0,modes:x})})]})]})}function tf({renderedAssetData:e}){let t=i.useCallback(()=>{e.refetchAndResetScene()},[e]);return(0,r.jsxs)("div",{className:"component_flyout_body--playgroundHeader--lQfDc",children:[(0,r.jsxs)("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,r.jsx)(e0.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:tp.A}),(0,h.tx)("design_systems.assets_panel.playground_label")]}),(0,B.kc)().dse_fpl_wave_1?(0,r.jsx)("span",{className:"component_flyout_body--resetButtonContainer--fCSjD",children:(0,r.jsx)(eX.K,{"aria-label":(0,h.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,h.t)("design_systems.playground.reset_properties"),"data-tooltip-type":e4.Ib.TEXT},children:(0,r.jsx)(eq.N,{})})}):(0,r.jsx)(e7.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:tm.A,onClick:t,"data-tooltip":(0,h.t)("design_systems.playground.reset_properties"),"data-tooltip-type":e4.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"})]})}var tx=s(223850),t_=s(757887),ty=s(96329),tb=s(760800),tj=s(581660);let tC="component_flyout_thumbnail--thumbnail--p3jV2";function tv({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:s,setFlyoutHidden:n,sectionPosition:l,sectionNameForTracking:a,sectionDepth:o}){let d=i.useCallback(()=>{n(!0)},[n]),{onInsertableResourcePointerDown:c,dragState:u}=(0,ty.j)({resource:t.asset,isList:!1,clickToInsert_DEPRECATED:!1,sourceForTracking:tj.iV,fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:d,onPointerUpWithoutInsert:s,sectionPosition:l,sectionNameForTracking:a,sectionDepth:o}),p=i.useMemo(()=>{let e=(0,Z.zR)(t.asset,null);if(null!=e)return tx.F.format(e)},[t.asset]),m=tk(t.hasChangesToReset,t.nodeData?.modeData??null);return(0,r.jsxs)("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:p?{backgroundColor:p}:void 0,children:[e&&t?.thumbnailData&&m?(0,r.jsx)("img",{className:tC,src:t.thumbnailData.src,alt:(0,h.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):(0,r.jsx)(tb.M,{className:tC,draggable:!1,item:t.asset,localThumbnailGenerationBehavior:"skip"},(0,et.V)(t.asset)),(0,r.jsx)(t_.q,{dragState:u,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0})]})}let tk=(e,t)=>i.useMemo(()=>{if(e)return!0;let s=eV.glU?.getPlaygroundScene();return!!s&&Object.values(t||{}).some(e=>{let t=e.inheritMode;return"MIXED"!==t&&!!t&&eV.CWU?.getVariableSetDefaultModeForScene(e.collectionID,s)!==t.guid})},[e,t]),tS={maxWidth:640,maxHeight:480};function tw({asset:e,onInsert:t,onLoaded:s,flyoutHidden:n,onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:o,sectionNameForTracking:d,sectionDepth:c}){let u=ep(e.library_key),[p,h]=i.useState(!1),m=i.useCallback(()=>h(!1),[]),g=(0,e$.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:s,onError:m,thumbnailOptions:tS}),f=(0,ey.H)(),x=(0,L.d4)(e=>e.fileVersion),_=(0,eU.ZC)(x);if(i.useEffect(()=>{g?.state==="LOADED"&&g?.currentAssetData?.nodeData?.playgroundGUID&&null!=_&&_!==x&&(f(),eV.glU?.clearPlaygroundScene())},[x,_,f,e.type,g]),!g)return(0,r.jsx)("div",{className:"component_flyout--spinner--c-wap",children:(0,r.jsx)(ez.k,{})});let y="LOADED"===g.state?g.currentAssetData:g.previousAssetData,b="ERROR"===g.state?g.errorType:void 0;return(0,r.jsx)(eW.k,{name:"props_playground",children:(0,r.jsxs)("div",{className:"component_flyout--wrapper--96Jih",children:[(0,r.jsx)(tv,{renderedAssetData:y,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:o,sectionNameForTracking:d,sectionDepth:c}),!n&&(0,r.jsx)(tg,{renderedAssetData:y,errorType:b,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:h,shouldHideError:p})]})})}var tT=s(435119),tN=s(573278),tE=s(404343);let tI=(0,H.jz)(tE.LdP),tM=(0,H.jz)(tE.wkK);function tA({asset:e,searchSessionId:t,query:s,sectionPosition:n,sectionNameForTracking:l,assetTypeDropdownSelection:o,sectionDepth:c,containerWidth:u,onGetKeyboardNavigationItemById:m,sourceForTracking:f}){let x=i.useRef(null),_=i.useRef(null),y=(0,G.Xr)(tT.T),b=ep(e.library_key),j=(0,G.md)(eu.TG),C=(0,eT.H)(e.library_key),v=(0,eS._9)(e.library_key,"asset_panel_visual_assets_flyout_insert"),{closeFlyout:k}=(0,tN.JA)(),S=(0,Q.fV)(e.library_key),w=(0,g.q5)(),T=(0,L.wA)(),N=(0,L.d4)(e=>(0,eb.e_)(e).local.thumbnails),E=(0,ey.H)(),I=i.useCallback(({source:e})=>{"outside"!==e&&k()},[k]),M=(0,L.d4)(e=>e.instanceSwapPickerShown),A=(0,ew.k)(),P=(0,eg.tM)(f??"assets-panel");(0,d.h)(()=>{a.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,et.V)(e),assetType:(0,et.q)(e.type),assetLibraryKey:e.library_key,isLocal:e.isLocal,fileParentOrgId:w?.parentOrgId??void 0,fileTeamId:w?.teamId??void 0,assetsPanelVersion:A,partnerType:(0,em.X)(e.library_key),queryId:P??void 0})}),(0,d.h)(()=>()=>{T((0,Y.vq)()),y(!1)}),i.useEffect(()=>{if(!(0,e_.dx)(e)||!e.isLocal)return;let t=e.node_id?N[e.node_id]:null,s=e.type===ej.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==s&&requestAnimationFrame(()=>{let t=(0,Z.r2)(e.node_id);null!=t&&T(q.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],styleKind:ej.AT.LOCAL}))})},[e,T,N]);let H=i.useCallback(()=>{requestAnimationFrame(()=>x?.current?.ensureModalOnScreen())},[]),es=i.useCallback(()=>{M?.isShown&&T((0,Y.vq)())},[T,M]),er=(0,eg.Hu)(e.library_key),ei=(0,eN.Nv)(!0),en=(0,O.CK)(),el=i.useCallback(()=>{if("loaded"!==b.status)return;let r=ef.Y5.getViewportInfo(),i={canvasPosition:{x:r.offsetX,y:r.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new U.Mi(.5,.5),storeInRecentsKey:eC.$A.Design,useSmartPositioning:!0,fromPlayground:b.data};e.type===ej.PW.COMPONENT?(T((0,X.FU)({item:e,...i})),C&&v(!0)):e.type===ej.PW.STATE_GROUP?T((0,X.b$)({item:e,...i})):e.type===ej.PW.MODULE&&T((0,X.Bs)({item:e,...i,insertionCallback:()=>ef.Y5.triggerAction("commit")}));let d={aiResultsEnabled:ei,assetKey:(0,e_.Av)(e),assetType:(0,et.q)(e.type),queryId:P??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:o,assetsPanelVersion:A,fileKey:w?.key??void 0,fileParentOrgId:w?.parentOrgId??void 0,fileTeamId:w?.teamId??void 0,isExample:(0,eh.o)(e,j),libraryKey:e.library_key,partnerType:(0,em.X)(e.library_key),sectionDepth:c,sourceSection:l??void 0,productType:(0,J.pi)({editorType:w?.editorType})};a.az.trackDefinedEvent("assets_panel.flyout_insert",{...d,libraryType:er,searchSessionId:t??void 0,searchQuery:s,sectionPosition:n}),f!==ek.tM?a.az.trackDefinedEvent("asset_search.result_inserted",{...d,libraryType:er,position:n,reciprocalRank:(0,R.Et)(n)?1/(1+n):void 0,query:s,sessionId:t??void 0,entryPoint:"assets-panel",componentSuggestionSessionId:en}):(0,ek.k1)({...d,position:n})},[en,b.status,b.data,e,ei,P,o,A,w?.key,w?.parentOrgId,w?.teamId,w?.editorType,j,c,l,er,t,s,n,T,C,v,f]);i.useEffect(()=>{let e=e=>{let t=x.current?.getEl()??_.current;if(t){if(!t.contains(e.target)){if(y(!1),(0,z.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;k();return}y(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[k,T,y]);let ea=i.useCallback((t,s)=>{let r=t.code??t.key,i=(0,et.V)(e),n=m?.(i);if(!n)return;let l=t.keyCode===V.Uz.TAB,a=t.shiftKey;if((0,W.c2)(t,!1)){n.getItemAbove()?.focus(),s?.();return}if((0,W.Nt)(t,!1)){n.getItemBelow()?.focus(),s?.();return}if((0,W.yn)(t,!1)||l&&a){n.getItemToTheLeft()?.focus(),s?.();return}if((0,W.lv)(t,!1)||l&&!a){n.getItemToTheRight()?.focus(),s?.();return}if("Enter"===r){el(),s?.();return}},[e,el,m]),eo=i.useCallback(e=>{ea(e.event,()=>e.accept())},[ea]);var ed=(0,r.jsxs)("div",{className:p.s.minW0.flex1.$,children:[(0,r.jsx)("h1",{children:(0,h.t)("design_systems.assets_panel.details")}),(0,r.jsxs)($.Y,{spacing:0,direction:"horizontal",children:[e&&(0,r.jsx)(eH,{assetLibraryKey:e.library_key,assetNodeId:e.node_id}),S&&(0,r.jsx)("div",{className:p.s.pr4.$,children:(0,r.jsx)(ee.KP,{libraryKey:e.library_key,variant:"secondary",tooltipLocation:"below"})})]})]});let[ec,ev,eI]=(0,ex.J)(!1),eM=i.useCallback(()=>{ec.current&&E()},[ec,E]);return"loaded"!==b.status?null:(0,B.kc)().dse_fpl_wave_2?(0,r.jsx)(D.bL,{onClose:I,defaultPosition:new U.Mi(u+1,tI),width:tM,htmlAttributes:{"data-testid":"component-flyout-modal",id:tN.Ev,hidden:ev,onKeyDown:ea},ref:_,maxHeight:"100vh",children:(0,r.jsxs)(F.vo,{children:[(0,r.jsx)(F.Y9,{children:(0,r.jsx)(K.J,{style:{margin:0,minWidth:0},children:ed})}),(0,r.jsx)(F.nB,{style:{padding:0},scrolling:"none",children:(0,r.jsx)(tw,{asset:e,onLoaded:H,onInsert:el,flyoutHidden:ev,onCloseIfHidden:eM,setFlyoutHidden:eI,sectionPosition:n,sectionNameForTracking:l,sectionDepth:c})})]})}):(0,r.jsx)(eE.Ao,{ref:x,allowAutoExpanding:!0,alwaysEnsureModalOnScreen:!0,canRenderBelowViewport:!1,dataTestId:"component-flyout-modal",headerSize:"large",hidden:ev,id:tN.Ev,initialPosition:new U.Mi(u+1,tI),initialWidth:tM,noCancelDragAndDrop:!0,onClick:es,onClose:E,onKeyDown:eo,title:ed,truncateTitleText:!0,children:(0,r.jsx)("div",{"data-not-draggable":!0,children:(0,r.jsx)(tw,{asset:e,onLoaded:H,onInsert:el,flyoutHidden:ev,onCloseIfHidden:eM,setFlyoutHidden:eI,sectionPosition:n,sectionNameForTracking:l,sectionDepth:c})})})}let tP=(0,ev.Ju)(tA,tN.VI);var tO=s(638004),tL=s(719423),tR=s(769109),tD=s(428147),tF=s(366535),tK=s(443192),tB=s(111297),tG=s(295253);function tH(){let e=(0,L.wA)(),t=(0,g.q5)(),s=(0,L.d4)(e=>e.user?.id);if(!t)return null;let i=t.teamId,n=(0,r.jsx)(eZ.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,a.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:i,userId:s}),e((0,tF.to)({type:tD.V,data:{upsellSource:tG.b.LIBRARY_UPSELL_BADGE,teamId:i??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:b.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button",children:(0,h.tx)("design_systems.assets_panel.library_upsell_upgrade")});return(0,r.jsx)(c.tH,{boundaryKey:"LibraryUpsellBanner",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:tO.e.MONETIZATION_UPGRADES},children:(0,r.jsx)(tB.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId},children:(0,r.jsx)("div",{className:"library_upsell_banner--bannerBackground--WlTVY",children:(0,r.jsxs)("div",{className:"library_upsell_banner--bannerContainer--SqSHa",children:[(0,r.jsx)(tR.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,a.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:i,userId:s}),e(tK.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),(0,r.jsxs)("div",{className:"library_upsell_banner--bannerContent--SUcpT",children:[(0,r.jsx)("div",{className:"library_upsell_banner--bannerHeader--Lbg8d",children:(0,r.jsx)(tL.l,{})}),(0,r.jsx)("p",{className:"library_upsell_banner--bannerTitle--AN3mP",children:(0,h.tx)("design_systems.assets_panel.library_upsell_header")}),(0,r.jsx)("p",{className:"library_upsell_banner--bannerBody--GSg3l",children:(0,h.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:n})})]})]})})})})}var tz=s(490698),tV=s(926653),tU=s(91834),tW=s(716597),t$=s(977629),tY=s(544995),tX=s(758994),tq=s(109527),tJ=s(530299),tZ=s(727954),tQ=s(9781);let t0=!1;var t1=s(95314),t3=s(684742),t2=s(361341),t4=s(957586),t5=s(366815),t6=s(702021);let t7="asset_panel_folder--folderButton---mVgX",t8="asset_panel_folder--selected--U7Cz3",t9="asset_panel_folder--blankThumbnail--6v5uo";var se=s(113877);let st=(0,H.jz)(se.CT),ss={height:st,width:st},sr=i.forwardRef(function({keyPrefix:e,name:t,onClick:s,onContextMenu:i,previewAssetOrUrl:n,recordingKey:a,disabled:o,selected:d,variant:c,customThumbnailData:u,pageInfo:p,hoverable:h,role:m},g){let f=(0,r.jsxs)(r.Fragment,{children:["preview"===c||"preview-no-padding"===c?(0,r.jsx)("div",{className:"asset_panel_folder--folderPreview--0ezgC",children:n?(0,r.jsx)(t6.V,{keyPrefix:e,previewAssetOrUrl:n,type:"preview-no-padding"===c?"no-padding":void 0,customThumbnailData:u,...ss,pageInfo:p}):(0,r.jsx)("div",{className:t9,style:ss})}):(0,r.jsx)("div",{className:"asset_panel_folder--folderIcon--FnZdp",children:(0,r.jsx)(t2.x,{})}),(0,r.jsx)("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa",children:t}),(0,r.jsx)("div",{className:l()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c}),children:(0,r.jsx)(t4.n,{})})]});return(0,r.jsx)("div",{className:"asset_panel_folder--folderContainer--UPeR-",role:m,children:s?(0,B.kc)().dse_fpl_wave_1?(0,r.jsx)(t3.E,{"aria-label":t,className:l()(t7,{[t8]:d}),onClick:s,ref:g,recordingKey:a,disabled:o,htmlAttributes:{onContextMenu:i},children:f}):(0,r.jsx)(t5.GG,{"aria-label":t,className:l()(t7,{[t8]:d}),onClick:s,onContextMenu:i,forwardedRef:g,recordingKey:a,disabled:o,children:f}):(0,r.jsx)("div",{className:l()(t7,{[t8]:d,"asset_panel_folder--hover--BjmYh":!!h}),children:f})})});var si=s(455582),sn=s(207116),sl=s(807474);function sa({subtree:e,index:t,keyPrefix:s,depth:n}){let l=(0,si.sN)(),{folderPath:a,currentView:o}=(0,T.wV)(),[d]=(0,sl.MA)(),{previewAsset:c}=e,{navigateToFolder:u}=(0,T.wV)(),p=i.useCallback(()=>{l("folderRow",u(e.name))},[l,u,e.name]),h=i.useMemo(()=>[tZ.ON.CONTENTS,tZ.lM.ASSETS+n,tZ.tM.FOLDERS,t],[n,t]),{keyboardNavigationItem:m,setKeyboardNavigationElement:g}=(0,W.M3)({path:h,id:e.key,disabled:(a?.length??0)>n}),{focusFirstItem:f,focusSearchBar:x}=(0,sn.rl)();(0,sn.C0)(m,0===t&&n===(a?.length??0)&&o===T.S5.Assets);let _=(0,sn.MB)({onBoth:p,onKeyDown:f,onClick:x}),y=i.useMemo(()=>a&&a.length>n,[a,n]);return(0,r.jsx)(sr,{name:e.name,onClick:_,keyPrefix:`${s}${e.name}`,previewAssetOrUrl:c,recordingKey:`assetsFolder.${e.name}`,ref:g,disabled:y,variant:"list"===d?"icon":"preview",role:"list"===d?"listitem":"gridcell"})}var so=s(104177),sd=s(613997),sc=s(350019),su=s(286138),sp=s(892073),sh=s(641518),sm=s(795161),sg=s(587114),sf=s(675477),sx=s(258807),s_=s(679437),sy=s(549090),sb=s(659),sj=s(76365),sC=s(955715),sv=s(140255),sk=s(648952),sS=s(89184),sw=s(854684),sT=s(674355),sN=s(243021),sE=s(91704);let sI="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",sM="asset_panel_tile--secondary--6CWeS",sA="asset_panel_tile--nameWrapper--6O-iS",sP="asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",sO="asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",sL="asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM",sR="asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM";function sD({asset:e,fileName:t,sourceForTracking:s,thumbLayout:n,thumbHeight:a,thumbWidth:o,displayType:d,viewMode:c,sectionNameForTracking:u,sectionPosition:p,sectionDepth:m,hideInlineName:f,keyboardPosition:x,isFirstTile:_=!1,isExample:y=!1,keyboardPanelDepth:b=0,disableClickPropagation:j=!1,libraryItemTileProps:C,isVisualAsset:v=!1,onSuccessfulAssetInsert:k}){let S=i.useContext(sk.U),{isFlyoutOpen:w}=(0,tN.JA)(),N=(0,g.tS)(),E=(0,G.md)(eu.TG),{currentView:I}=(0,T.wV)(),M=i.useMemo(()=>y??(0,eh.Nz)(e,{isPreset:(0,eO.lR)(e,E)}),[e,y,E]),A=(0,tn.J)(e,p,u),P=(0,sS.n)(e),O=(0,s_.u)({canSwap:!M,openFileKey:N??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),R=i.useCallback(()=>{w&&!P&&A()},[w,P,A]),D=i.useCallback(()=>{w||S?.onOpenFlyout(e,p,u,m,s)},[w,S,e,p,u,m,s]),F=i.useCallback(e=>{j&&e.stopPropagation(),D()},[j,D]),K=`assetPanelTile.${p}`,H=sh.rf(K,"click",F),z=i.useMemo(()=>({...x,path:[tZ.ON.CONTENTS,tZ.lM.ASSETS+b,...x.path]}),[x,b]),{folderPath:V}=(0,T.wV)(),[U]=(0,sl.ye)(),$=I===T.S5.Assets&&V&&U&&(V?.length??0)>b,{setKeyboardNavigationElement:Y,keyboardNavigationItem:X}=(0,W.M3)({...z,id:(0,et.V)(e),onFocus:R,disabled:$});(0,sn.C0)(X,_&&I===T.S5.Assets&&!$);let[q]=(0,sl.MA)(),J=(0,sg.N)({colIndex:z.column,rowIndex:z.path[z.path.length-1],isList:"list"===q,keyboardNavigationItem:X,onComponentInsertSwap:O,onOpenFlyout:D,item:e,sectionNameForTracking:u,sectionPosition:p,shouldRefocusAfterKeyboardInsert:I===T.S5.Recents,sourceForTracking:s===ek.tM?s:eS.mZ}),Z=(0,sw.F)(e,sN.K.ASSETS_PANEL,p,u),Q=function(e,t){let s=(0,L.d4)(sj.dK),r=e.isLocal&&(0,sm.PN)()?(0,sE.eT)(e.node_id,s).join("-"):e.node_id;return sh.rf(`componentThumb.${r}`,"contextmenu",e=>{t(e)})}(e,Z);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t3.E,{onClick:H,className:l()("asset_panel_tile--focusableElementWrapper--YzHK7","asset_panel_tile--button--oNPUz",{"asset_panel_tile--transparentBackground--ht3B-":v}),ref:Y,htmlAttributes:{onKeyDown:J,onContextMenu:Q},"aria-describedby":"asset-panel-tile-hint",children:(0,r.jsx)(sF,{asset:e,disableClickPropagation:j,displayType:d,fileName:t,hideInlineName:f,isVisualAsset:v,libraryItemTileProps:C,onSuccessfulAssetInsert:k,sectionDepth:m,sectionNameForTracking:u,sectionPosition:p,sourceForTracking:s,thumbHeight:a,thumbLayout:n,thumbWidth:o,viewMode:c})}),(0,B.kc)().dse_fpl_wave_2&&(0,r.jsx)(su.E,{id:"asset-panel-tile-hint","aria-hidden":!0,children:(0,h.t)("design_systems.assets_panel.asset_tile_sr_hint")})]})}function sF({asset:e,fileName:t,sourceForTracking:s,thumbHeight:n,thumbWidth:a,sectionNameForTracking:o,sectionPosition:d,sectionDepth:c,hideInlineName:u,displayType:p,libraryItemTileProps:h,isVisualAsset:m,onSuccessfulAssetInsert:g}){let f=(0,L.wA)(),x=(0,sy.I)(sb.Cn.AssetsPanel),_=(0,L.d4)(sj.dK),y=(0,L.d4)(eb.F9),b=(0,G.md)(tT.T),j=x.searchOption?.type===sv.I.ALL,C=(0,Q.fV)(e.library_key),v=(0,eO.fd)(e.library_key),k=(0,eT.H)(e.library_key),S=(0,eS._9)(e.library_key,"asset_panel_visual_assets"),w=j&&(C||v||k),T=i.useRef(null),N=(0,e2.kH)(e.name),E=(0,eJ.NG)({text:N,textRef:T}),I=i.useRef(null),M=(0,eJ.NG)({text:t??"",textRef:I}),A=!!x.query,P=(0,sS.n)(e),O=(0,eU.ZC)(P);i.useEffect(()=>{P&&!O&&f(sf.jD())},[P,f,O]);let R=e.isLocal&&(0,sm.PN)()?(0,sE.eT)(e.node_id,_).join("-"):e.node_id,D="Local components"===o||"Local private components"===o||e.isLocal,F="grid"===p,K=!u&&F,H=(0,B.kc)().api_asset_search_with_scores,z=(0,e6.Y)(e),V=i.useCallback(()=>{(0,sC.$z)(),k&&S(!0),g?.()},[S,k,g]),U={showName:!0,height:n,width:a,draggable:i.useMemo(()=>({sourceForTracking:s,clickToInsert:!1,afterSuccessfulInsert:V,sectionNameForTracking:o,sectionDepth:c}),[V,c,o,s]),shouldHideTooltip:!0,recordingNodePath:R,isSearch:A,useBaseTile:!0,hideNameOverlay:K,numVariants:z,displayType:F?"grid":"list-no-padding",sectionPosition:d,showTooltipImmediately:!1,fileName:E||M?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},W=D?(0,r.jsx)(sT.MT,{item:e,isFilePublished:y,...U}):(0,r.jsx)(sT.lX,{item:e,...U,...h});return(0,r.jsxs)("div",{className:m?"asset_panel_tile--visualAssetsGridWrapper--zA9N1 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":F?sO:sP,children:[(0,r.jsx)("div",{className:l()(F?sL:sR,{"asset_panel_tile--shownInFlyout--7Luo3":P,"asset_panel_tile--selectedFlyoutFocus--GGV8E":P&&b}),children:W}),K&&(0,r.jsxs)("div",{className:sA,style:{width:a-2},children:[(0,r.jsx)("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:T,children:N}),(0,r.jsx)("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d",children:(0,r.jsx)(sp.e,{"aria-hidden":!0})})]}),K&&!!t&&(0,r.jsxs)($.Y,{spacing:0,direction:"horizontal",height:"hug-contents",children:[(0,r.jsx)("div",{className:l()(sI,sM),ref:I,style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:t}),w&&(0,r.jsx)(sx.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})]}),H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l()(sI,sM),style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:"Score: "+("score"in e?e.score?.toFixed(2)??"N/A":"N/A")}),(0,r.jsx)("div",{className:l()(sI,sM),style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")"})]})]})}var sK=s(822764);function sB(){let e=i.useContext(sk.U);return e?.isUi3?e:{...e,width:0}}function sG({width:e,children:t}){let s=function(e){let t=(0,L.wA)(),{query:s,searchSessionId:r}=(0,eg.Gq)(),n=(0,si.ht)(),l=(0,W.q_)(),a=(0,sK.LR)(),o=(0,L.d4)(e=>e.universalInsertModal.showing),d=i.useCallback(()=>{o&&a()},[a,o]),{setFlyoutProps:c}=(0,tN.JA)(),u=i.useCallback((i,a,o,u,p)=>{d();let h={asset:i,searchSessionId:r??void 0,query:s??void 0,sectionPosition:a,sectionNameForTracking:o,assetTypeDropdownSelection:n,containerWidth:e,onGetKeyboardNavigationItemById:l,sectionDepth:u,sourceForTracking:p};(0,B.kc)().dse_fpl_wave_2?c(h):t((0,tF.to)({type:tP,data:h}))},[d,r,s,n,e,l,c,t]);return i.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:n,isUi3:!0,width:e}),[u,n,e])}(e);return(0,r.jsx)(sk.U.Provider,{value:s,children:t})}var sH=s(92722);let sz="asset_panel_virtualization--virtualRow--TxsS-",sV="asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-",sU="asset_panel_virtualization--virtualRowList--COnhA",sW=(0,H.jz)(sH.Nz),s$=(0,H.jz)(sH.cP),sY=(0,H.jz)(sH.FX),sX=(0,H.jz)(se.$c),sq=(0,H.jz)(se.d5),sJ=(0,H.jz)(sH.ZI),sZ=(0,G.eU)(!1);function sQ(e,t,s={}){if("list"===t)return sJ;let r=e;return s.hideAssetName||(r+=sW),s.showFileName&&(r+=s$),s.hasTopPadding&&(r+=sY),s.showAiDebugScores&&(r+=2*(0,H.jz)(sH.uY)),r}function s0(e,t,s,i,n,l,a){let o=[],d="list"===i.displayType?"listitem":"gridcell";for(let c=0;c<e.length;c+=t){let u=e.slice(c,c+t),p=[];u.forEach((e,o)=>{if(e){let u=c+o,h=a?.getFileName?.(e);p.push((0,r.jsx)("div",{role:d,children:(0,r.jsx)(sD,{asset:e,fileName:h,isExample:a?.isExample,isFirstTile:a?.includesFirstTile&&0===u,keyboardPanelDepth:a?.keyboardPanelDepth,keyboardPosition:(0,sn.pg)(l,u,t,a?.hasHeader),sectionDepth:a?.depth,sectionNameForTracking:n,sectionPosition:c+o,...i},`${s}-${(0,et.V)(e)}`)}))}}),o.push({element:(0,r.jsx)("div",{className:"list"===i.displayType?sU:0===c?sV:sz,children:p}),key:`${s}:row-${c/t}`,keys:u.map(e=>(0,et.V)(e)),height:sQ(i.thumbHeight,i.displayType,{showFileName:!!a?.getFileName,hasTopPadding:0!==c,showAiDebugScores:!!(0,B.kc)().api_asset_search_with_scores})})}return o.length>0&&(o.unshift({element:(0,r.jsx)(sd.hK,{height:sX}),key:`${s}:spacer-top`,height:sX,ariaHidden:!0}),o.push({element:(0,r.jsx)(sd.hK,{height:sq}),key:`${s}:spacer-bottom`,height:sq,ariaHidden:!0})),o}function s1({elements:e,hideScrollbar:t,initialScrollTop:s,onScroll:n,anchorScroll:l,role:a}){let o=i.useRef(null),d=(0,sc.Te)({count:e.length,getScrollElement:()=>o.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:s}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:s,enabled:r,virtualizer:n,getKeys:l}){let[a,o]=i.useState(t??e.current?.scrollTop),[d,c]=i.useState(e.current?.scrollHeight),{width:u}=sB(),p=(0,eU.ZC)(u),h=i.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let s=e.getVirtualItems().find(e=>e.start>=t);return s?{keys:l(s),offset:s.start-t}:{keys:[],offset:void 0}},[l]),[m,g]=i.useState(()=>h(n,t??e.current?.scrollTop)),f=i.useCallback((e,t)=>{s?.(e,t),r&&(o(e),g(h(n,e)))},[r,h,s,n]);return i.useEffect(()=>{let t=p&&u&&p!==u,s=e.current?.scrollHeight&&d&&e.current?.scrollHeight!==d;if(t&&c(e.current?.scrollHeight),void 0!==a&&void 0!==m.offset&&r&&t&&s){let t=n.getVirtualItems().find(e=>l(e).some(e=>m.keys.includes(e)));if(t)n.scrollToOffset(t.start-m.offset);else{let t=a/d,s=e.current.scrollHeight*t;n.scrollToOffset(s)}}},[m.keys,m.offset,r,l,p,e,d,a,n,u]),f}({enabled:l,scrollContainerRef:o,initialScrollTop:s,onScroll:n,virtualizer:d,getKeys:i.useCallback(t=>{let s=e[t.index];return s?s.keys??[s.key]:[]},[e])}),[u,p]=(0,G.fp)(sZ);return i.useEffect(()=>{if(!u)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(d.scrollToIndex(t,{align:"start"}),p(!1))},[e,d,p,u]),(0,r.jsx)(sd.xU,{scrollContainerRef:o,hideScrollbar:t,initialScrollTop:s,onScroll:c,children:(0,r.jsx)("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},role:a,children:d.getVirtualItems().map(t=>{let s=e[t.index];return s?(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`},role:"grid"===a?"row":void 0,"aria-hidden":s.ariaHidden,children:s.element},t.key):null})})})}var s3=s(999083),s2=s(605439),s4=s(905009),s5=s(244920),s6=s(89221);function s7(e){let t=(0,e2.ke)(e.name),s=e.type===ej.PW.RESPONSIVE_SET?e.containingFrame?.name:e.containing_frame?.name;return s?[s,...t]:t}function s8(e,t="",{isPreset:s,sortingFn:r}={isPreset:!1,sortingFn:void 0}){let i=new Map,n=[];r?e.sort(r):(0,eh.gO)(e,{sortFn:e=>s7(e).join("/"),priorityFn:e=>(0,eh.Nz)(e,{isPreset:s})});let l=Object.create(null);for(let s of e){let e=s7(s),r="";for(let a=0;a<e.length;a++){let o=e[a],d=r,c=a<e.length-1;r+=o+(c?"/":"");let u=null;if(l[d]&&(u=l[d]),c){let s=l[r]??{name:o,key:`${t}-${e.slice(0,a+1).join("/")}`,items:[],subtrees:new Map,type:tq.l$.NAME_GROUP,previewAsset:void 0};l[r]||(l[r]=s,u?u.subtrees.set(o,s):i.set(o,s))}c||(u?u.items.push(s):n.push(s))}}return i.forEach(e=>{(function e(t){t.previewAsset=rr(t),t.subtrees.forEach(t=>e(t))})(e)}),{sortedItems:n,sortedSubtrees:i}}function s9(e,t,{isPreset:s}){let r=new Map,{itemsByPageId:i,pageNamesByPageId:n,itemsWithoutPage:l}=(0,s4.tz)(e,e=>e),{itemsByPageId:a,pageNamesByPageId:o,itemsWithoutPage:d}=(0,s4.tz)(t,e=>e),c={...n,...o};(0,s4.fM)(i,c,l),(0,s4.fM)(a,c,d,!0);let u=Object.keys(c);for(let e of((0,eh.gO)(u,{sortFn:e=>c[e],priorityFn:e=>(0,eh.dS)(c[e],{isPreset:s})}),u)){let t=c[e],n=e in i?i[e]:void 0,l=n,o=[],d=null,u=null;if(n&&n.length>0){l=n.filter(e=>!(0,eh.Nz)(e,{isPreset:s}));let{sortedItems:e,sortedSubtrees:t}=s8(o=n.filter(e=>(0,eh.Nz)(e,{isPreset:s})),"examples",{isPreset:s});o.length>0&&(u={name:(0,h.t)("design_systems.assets_panel.examples"),items:e,subtrees:t,key:tZ.nE,type:tq.l$.COMPONENTS,previewAsset:void 0})}if(l&&l.length>0){let{sortedItems:e,sortedSubtrees:t}=s8(l,"components",{isPreset:s});d={name:(0,h.t)("design_systems.assets_panel.components"),items:e,subtrees:t,key:tZ.c_,type:tq.l$.COMPONENTS,previewAsset:void 0}}let p=null,m=a[e];if(m&&m.length>0){let{sortedItems:e,sortedSubtrees:t}=s8(m,"templates",{isPreset:s});p={name:(0,h.t)("design_systems.assets_panel.templates"),items:e,subtrees:t,key:tZ.JS,type:tq.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:g,sortedSubtrees:f}=s8([...o??[],...l??[],...m??[]],"assets",{isPreset:s}),x={name:t,items:g,subtrees:f,key:tZ.Mk,type:tq.l$.COMPONENTS,previewAsset:void 0},_={name:t,id:e,previewAsset:function({componentSubtree:e,exampleSubtree:t,templateSubtree:s}){let r=rr(t),i=rr(s),n=rr(e);return r||i||n}({componentSubtree:d,exampleSubtree:u,templateSubtree:p}),components:d,examples:u,templates:p,assets:x,type:tZ.yW.DESIGN};r.set(e,_)}return r}function re(e,t,s,r){let i=new Map,{itemsByPageId:n,pageNamesByPageId:l,itemsWithoutPage:a}=(0,s4.tz)(e,e=>({containing_frame:e.containingFrame??void 0}));(0,s4.fM)(n,l,a);let o=Object.keys(l);for(let e of((0,s3.v7)(o,e=>l[e]),o)){let r=l[e],a=n[e]??[];if(!r||0===a.length)continue;let{sortedItems:o,sortedSubtrees:d}=s8(a,"assets",{sortingFn:s}),c={name:r,items:o,subtrees:d,key:tZ.Mk,type:tq.l$.RESPONSIVE_SETS,previewAsset:void 0},u={name:r,id:e,previewAsset:t[e]??rr(c),assets:c,type:tZ.yW.SITE,numAssets:function e(t){return t.items.length+Array.from(t.subtrees.values()).reduce((t,s)=>t+e(s),0)}(c)};i.set(e,u)}if(r){let e=(0,s6.u)();if(e.length>0){let t={name:(0,h.t)("design_systems.assets_panel.site_blocks.embeds"),id:"embeds",embeds:e,previewAsset:void 0,assets:{name:"",items:[],subtrees:new Map,key:"EMPTY_ASSETS_NOT_USED",type:tq.l$.COMPONENTS,previewAsset:void 0},type:tZ.yW.SITE,numAssets:e.length};i.set("embeds",t)}}return i}function rt(e,t){let{allItems:s,publishedItems:r,privateItems:i,numPublished:n}=e;return n>0&&t&&i.length>0?r:s}function rs(e){let t=Array.from(e.items.values());for(let[s,r]of e.subtrees.entries())t.push(...rs(r));return t}function rr(e){let t=e?rs(e):[];return t.length>0?t[0]:void 0}var ri=s(985416),rn=s(286764);let rl=(0,G.Iz)(()=>(0,ri.rt)(0));function ra({libraryKey:e,pageId:t,folderPath:s}={}){let{lastNavAction:r}=(0,rn.ZX)(),n=r===rn.r6.Back||r===rn.r6.Mount||r===rn.r6.ToggleView&&!s,[l,a]=(0,G.fp)(rl("libraries")),[o,d]=(0,G.fp)(rl(`pages-${e}`)),[c,u]=(0,G.fp)(rl(`assets-${e}-${t}-${(s??[]).join("-")}`));return{librariesScrollTop:n?l:0,pagesScrollTop:n?o:0,assetsScrollTop:n?c:0,handleScrollLibraries:i.useCallback(e=>{a(e)},[a]),handleScrollPages:i.useCallback(t=>{e&&d(t)},[d,e]),handleScrollAssets:i.useCallback(s=>{e&&t&&u(s)},[u,e,t])}}function ro({elementMinSize:e,spaceAvailable:t,gap:s}){return Math.max(1,Math.floor((t+s)/(e+s)))}function rd({numElements:e,spaceAvailable:t,gap:s}){return Math.floor((t-(e-1)*s)/e)}function rc({width:e,widthToHeightRatio:t=1,maxHeight:s}){let r=Math.floor(e/t);return void 0===s?Math.max(0,r):Math.max(0,Math.min(s,r))}let ru=(0,H.jz)(se.H0),rp=2*(0,H.jz)(se.Mj),rh={NORMAL:115,WIDE:void 0,SMALL:72},rm={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:rh.NORMAL},rg={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:rh.WIDE},rf={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:rh.SMALL},rx=e=>{switch(e){case t1.rp.WIDE:return rg;case t1.rp.SMALL:return rf;default:return rm}};function r_(e,t){let[s]=(0,sl.MA)(),r=i.useMemo(()=>t&&"grid"===s?t:[],[s,t]),n=i.useMemo(()=>r.every(e=>e.fullPage)?.85:Math.max(r.map(e=>e.mainThumbnailInfo.width/e.mainThumbnailInfo.height).reduce((e,t)=>Math.abs(t-1)<Math.abs(e-1)?t:e),.7),[r]),l=e-rp,a=i.useMemo(()=>ro({elementMinSize:144,gap:ru,spaceAvailable:l}),[l]),o=n>1?1:Math.min(2,a),d=i.useMemo(()=>rd({numElements:o,gap:ru,spaceAvailable:l}),[o,l]),c=i.useMemo(()=>rc({width:d,widthToHeightRatio:n,maxHeight:void 0}),[n,d]);return"list"===s||0===r.length?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:d,tileHeight:c,numColumns:o}}function ry(){let{width:e}=sB(),{componentLayouts:t,exampleLayout:s}=function({sidebarWidth:e}){let t=i.useMemo(()=>e-rp,[e]),s=i.useMemo(()=>{let e={};for(let s of[t1.rp.NORMAL,t1.rp.WIDE,t1.rp.SMALL]){let{minColumns:r,maxColumns:i,aspectRatio:n,maxHeight:l}=rx(s),a=Math.max(Math.min(i,ro({elementMinSize:l??t,gap:ru,spaceAvailable:t})),r),o=rd({numElements:a,gap:ru,spaceAvailable:t}),d=rc({width:o,maxHeight:l,widthToHeightRatio:n});e[s]={width:o,height:d,columns:a}}return e},[t]),r=i.useMemo(()=>Math.max(ro({elementMinSize:200,gap:ru,spaceAvailable:t}),1),[t]),n=i.useMemo(()=>rd({numElements:r,gap:ru,spaceAvailable:t}),[r,t]),l=i.useMemo(()=>rc({width:n,widthToHeightRatio:1.5,maxHeight:200}),[n]);return i.useMemo(()=>({componentLayouts:s,exampleLayout:{width:n,height:l,columns:r}}),[s,r,n,l])}({sidebarWidth:e}),[r,n]=i.useMemo(()=>{let e={},s={};for(let[r,i]of Object.entries(t))e[r]={thumbHeight:i.height,thumbWidth:i.width,viewMode:eS.Bk.Grid,thumbLayout:r,sourceForTracking:eS.mZ,displayType:"grid"},s[r]=i.columns;return[e,s]},[t]),l=i.useMemo(()=>({thumbHeight:s.height,thumbWidth:s.width,viewMode:eS.Bk.Grid,thumbLayout:t1.rp.NORMAL,sourceForTracking:eS.mZ,displayType:"grid"}),[s.height,s.width]),a=i.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:eS.Bk.List,thumbLayout:t1.rp.NORMAL,sourceForTracking:eS.mZ,displayType:"list"}),[]);return i.useMemo(()=>({componentTilePropsByLayout:r,numColumnsByLayout:n,listProps:a,exampleTileProps:l,numExampleColumns:s.columns}),[r,n,a,l,s.columns])}function rb(e,t,s,r=!1){return"list"===t?{props:e.listProps,numColumns:1}:r?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[s],numColumns:e.numColumnsByLayout[s]}}var rj=s(120440),rC=s(772963),rv=s(330308),rk=s(883170),rS=s(94968),rw=s(842062);let rT=(0,H.jz)(se._K);function rN({asset:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionDepth:n,sectionPosition:a,keyboardPosition:o,isFirstTile:d=!1,keyboardPanelDepth:c=0,thumbHeight:u,thumbWidth:h,libraryName:m,hideName:g=!1,onDragStart:f}){let x=(0,e2.kH)(e.name),{currentView:_,folderPath:y}=(0,T.wV)(),[b]=(0,sl.ye)(),[j]=(0,sl.MA)(),C="list"===j,v=(0,rS.jx)(),k=null!=t,S=i.useMemo(()=>({...o,path:[tZ.ON.CONTENTS,tZ.lM.ASSETS+c,...o.path]}),[o,c]),w=_===T.S5.Assets&&y&&b&&(y?.length??0)>c,{setKeyboardNavigationElement:N,keyboardNavigationItem:E}=(0,W.M3)({...S,id:(0,et.V)(e),disabled:w});(0,sn.C0)(E,d&&_===T.S5.Assets&&!w);let{logInsert:I}=rE({item:e,sectionNameForTracking:s,sectionPosition:a,sourceForTracking:eS.mZ,isList:C}),M=i.useCallback(()=>{I("drag"),(0,sC.$z)()},[I]),A=i.useMemo(()=>({sourceForTracking:eS.mZ,sectionNameForTracking:s,sectionDepth:n,afterSuccessfulInsert:M,onDragStart:f}),[s,n,M,f]),P=function({item:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionPosition:r,sourceForTracking:n,isList:l}){let a=(0,L.wA)(),{logInsert:o,logKeyboardInsert:d}=rE({item:e,sectionNameForTracking:s,sectionPosition:r,sourceForTracking:n,isList:l}),c=i.useCallback(()=>{a((0,X.jR)({item:e,cmsCollectionMappings:t,insertAsChildOfCanvas:!1,useSmartPositioning:!0})),(0,sC.$z)()},[a,e,t]);return i.useCallback(e=>{let t=0===e.detail;t&&d(),o(t?"keyboard":"click"),c()},[c,o,d])}({item:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionPosition:a,sourceForTracking:eS.mZ,isList:C}),O=i.useMemo(()=>(0,rk.NR)(x),[x]),{listProps:R}=ry(),D=i.useMemo(()=>{if(g&&!C&&!k)return{"data-tooltip-type":e4.Ib.TEXT,"data-tooltip":O}},[O,g,C,k]);return(0,r.jsxs)(t3.E,{className:C?l()("asset_panel_responsive_set_tile--tileList--3j7Tn asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",sP):l()("asset_panel_responsive_set_tile--tileGrid--C-Qj3 asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",rI({isFirstTile:d,isInLibraryFlyout:v,isCmsBlock:k})),ref:N,onClick:P,"aria-label":O,...D,children:[(0,r.jsx)("div",{className:l()(C?sR:sL,p.s.relative.$),children:(0,r.jsx)(sT.lX,{alwaysShowBorder:!1,cmsCollectionMappings:t,displayType:C?"list-no-padding":"grid",draggable:A,height:C?R.thumbHeight:u,item:e,sectionPosition:a,shouldHideTooltip:!0,showName:C,thumbPaddingGrid:rT,thumbWrapperClassName:"asset_panel_responsive_set_tile--thumbWrapper--3Geap asset_panel_tile--thumbWrapper--bNG-Y",useBaseTile:!0,width:C?R.thumbWidth:h})}),!g&&!C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:sA,style:{width:h-2},children:(0,r.jsx)(rC.G,{text:O})}),m&&(0,r.jsx)("div",{style:{width:h-2},children:(0,r.jsx)(rC.G,{text:m,className:l()(sI,sM)})})]})]})}function rE({item:e,sectionNameForTracking:t,sectionPosition:s,sourceForTracking:r,isList:n}){let l=(0,eN.Nv)(!0),o=(0,g.tS)(),d=(0,T._m)(),c=(0,eg.Ew)({assetKey:(0,rv.u2)(e),assetLibraryKey:e.sourceLibraryKey,assetType:e.type,isList:n,sectionNameforTracking:t,sectionPosition:s,sourceForTracking:r??eS.mZ,isExample:!1,partnerType:void 0}),u=(0,rw.r6)([e]),p=(0,O.CK)(),h=!!c.searchSessionId,m=i.useCallback(t=>{let{type:s,sectionPosition:r,searchQuery:i,searchSessionId:n,...o}=c;a.az.trackDefinedEvent("asset_search.result_inserted",{...o,aiResultsEnabled:l,assetType:s,position:r,reciprocalRank:1/(1+r),query:i,sessionId:n,entryPoint:eS.mZ,componentSuggestionSessionId:p}),a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:(0,rk.NR)((0,e2.kH)(e.name)),type:"responsive set",group:u(e),isFullPage:e.fullPage,fileKey:c.fileKey,fileTeamId:c.fileTeamId,fileOrgId:c.fileOrgId,sectionPosition:r,searchQuery:c.searchQuery,searchSessionId:c.searchSessionId,searchType:h?d?"site kit":"all":void 0,viewMode:c.viewMode?.toLocaleLowerCase(),queryId:c.queryId,action:t})},[c,l,p,e,u,h,d]),f=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.keyboard_insert",{...c,aiResultsEnabled:l,assetsPanelVersion:3,fileKey:o??void 0})},[c,l,o]);return i.useMemo(()=>({logInsert:m,logKeyboardInsert:f}),[m,f])}let rI=({isFirstTile:e,isInLibraryFlyout:t,isCmsBlock:s})=>s?"x19y5rnk x12tve8b":t?e?"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":sO;var rM=s(754245),rA=s(170627),rP=s(441513),rO=s(816565),rL=s(999473),rR=s(664326),rD=s(433802),rF=s(95584),rK=s(222525),rB=s(513390);let rG=2*(0,H.jz)(se.Mj),rH=(0,H.jz)("4px");function rz({embeds:e}){let{thumbWidth:t,thumbHeight:s}=function(){let[e]=(0,sl.MA)(),{width:t}=sB(),{listProps:s}=ry();if("list"===e)return{thumbWidth:s.thumbWidth,thumbHeight:s.thumbHeight};let r=Math.floor(t-rG),i=Math.floor(r/2);return{thumbWidth:r,thumbHeight:i}}();return(0,r.jsx)(r.Fragment,{children:e.map((e,i)=>(0,r.jsx)(rV,{embed:e,sectionPosition:i,keyboardPosition:{path:[tZ.ON.CONTENTS,tZ.lM.ASSETS,i],column:null},thumbHeight:s,thumbWidth:t,isFirstTile:0===i},e.name))})}function rV({embed:e,sectionPosition:t,keyboardPosition:s,sectionNameForTracking:n="Site kit",isFirstTile:o=!1,thumbHeight:d,thumbWidth:c,libraryName:u,onDragStart:h}){var m;let[g]=(0,sl.MA)(),f="list"===g,{currentView:x}=(0,T.wV)(),_=function(e,t,s){let[r]=(0,sl.MA)(),n=(0,eg.Ew)({assetKey:e.name,assetLibraryKey:(0,tV.l)(s5.Yl),assetType:"embed",isList:"list"===r,sectionNameforTracking:s,sectionPosition:t,sourceForTracking:eS.mZ,isExample:!1,partnerType:void 0}),l=(0,T._m)(),o=(0,O.CK)();return i.useCallback(s=>{a.az.trackDefinedEvent("asset_search.result_inserted",{...n,entryPoint:eS.mZ,componentSuggestionSessionId:o});let r=!!n.searchSessionId;a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:e.name,type:"embed",group:"Embeds",fileKey:n.fileKey,fileTeamId:n.fileTeamId,fileOrgId:n.fileOrgId,sectionPosition:t,searchQuery:n.searchQuery,searchSessionId:n.searchSessionId,searchType:r?l?"site kit":"all":void 0,viewMode:n.viewMode?.toLocaleLowerCase(),queryId:n.queryId,action:s}),"keyboard"===s&&a.az.trackDefinedEvent("assets_panel.keyboard_insert",n)},[n,e.name,l,t,o])}(e,t,n),{onInsertableResourcePointerDown:y,dragState:b}=(m={resource:e,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:()=>{_("drag"),(0,sC.$z)()},onDragStart:h},(0,rR.t)({resource:m.resource,draggingThumbMaxDimensions:m.draggingThumbMaxDimensions,onDragStart:m.onDragStart,isDraggingDisabled:m.isDraggingDisabled,recomputeCancelRectsOnPointerUp:m.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:m.clickToInsert_DEPRECATED,afterSuccessfulInsert:m.afterSuccessfulInsert},{insertAction:e=>{let t=e.pointerPercentageOffset||new U.Mi;return rW(m.resource,e.dropPosition,t),Promise.resolve()},dragPreviewPointerPosition:rD.N.CENTERED,getDragPreviewSrc:()=>m.resource.preview_url,onPointerDownCallback:()=>{eV.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!0,{x:m.resource.width,y:m.resource.height})},onPointerUpCallback:()=>{eV.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!1,null)},recordingKey:sh.Pt("html-widget",m.resource.name)})),j=rA.nc.user("insert-embed",y),C=i.useMemo(()=>({...s,path:[tZ.ON.CONTENTS,tZ.lM.ASSETS,...s.path]}),[s]),{setKeyboardNavigationElement:v,keyboardNavigationItem:k}=(0,W.M3)({...C});(0,sn.C0)(k,o&&x===T.S5.Assets);let S=i.useCallback(t=>{let s=ef.Y5.getViewportInfo();rW(e,new U.Mi(s.offsetX,s.offsetY),new U.Mi(.5,.5)),_(t),(0,sC.$z)()},[e,_]),w=i.useCallback(()=>S("keyboard"),[S]),N=i.useCallback(()=>S("click"),[S]),E=(0,sn.MB)({onKeyDown:w,onClick:N}),I=f?"site_kit_embeds--buttonList--dJCdj site_kit_embeds--_buttonBase--PU9Mw asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":rY(o),M=f?rB.vZ:"site_kit_embeds--embedNameWrapper--7DR-c asset_panel_tile--nameWrapper--6O-iS";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(r$,{dragState:b,opacityOverride:.5}),(0,r.jsx)(rL.n.div,{onPointerDown:j,className:p.s.flex.if(f,p.s.wFull).$,children:(0,r.jsxs)(t3.E,{className:I,ref:v,onClick:E,children:[(0,r.jsx)("div",{className:"site_kit_embeds--thumbContainer--SgHWz",style:{width:c,height:d},children:(0,r.jsx)(rO.oW,{src:e.thumbnail_url,className:"site_kit_embeds--thumbnail---2jDe"})}),(0,r.jsx)("div",{className:l()(M,sM),style:f?void 0:{width:c-2-rH},children:(0,r.jsx)(rC.G,{text:e.name})}),u&&!f&&(0,r.jsx)("div",{style:{width:c-2},children:(0,r.jsx)(rC.G,{text:u,className:l()(sI,sM)})})]})})]})}let rU=(0,rF.P)("recently-used-site-embeds","name",rP.z.object({name:rP.z.string()}),{transform:e=>({name:e.name})});function rW(e,t,s){G.zl.set(rU,e),rA.l7.user("insert-embed",()=>{eV.glU?.insertEmbed(e.initial_url,{x:t.x,y:t.y,percentOffsetX:s.x,percentOffsetY:s.y},!1,{x:e.width,y:e.height}),ef.Y5.triggerAction("commit")})}function r$(e){let t=e.dragState;if(!t?.dragPosition||!t?.grabbedPointerPercentageOffset)return null;let s=function(e){let{draggingResource:t}=e,{zoomScale:s,x:r}=ef.Y5.getViewportInfo(),i=e.dragPosition?.x;return(!i||i<r)&&e.draggingThumbSize?e.draggingThumbSize:new U.Mi(t.width,t.height).scale(s)}(t),i=t.dragPosition;return i=i.subtract(new U.Mi(t.grabbedPointerPercentageOffset.x*s.x,t.grabbedPointerPercentageOffset.y*s.y)),(0,rM.createPortal)((0,r.jsx)("div",{className:l()(rK.Wy,{[rK.ce]:t.isDraggingOverCanvas}),style:{left:i.x,top:i.y,width:s?.x,height:s?.y,maxWidth:t.draggingThumbMaxDimensions?.x||void 0,maxHeight:t.draggingThumbMaxDimensions?.y||void 0,zIndex:e.zIndexOverride,opacity:e.opacityOverride?e.opacityOverride:1},children:(0,r.jsx)(rO.oW,{src:t.draggingResource.preview_url,alt:""})}),document.getElementById("fullscreen-root"))}let rY=e=>e?"site_kit_embeds--buttonGridForFirstItem--hvYlI site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw",rX=(0,H.jz)(se.HE),rq=(0,H.jz)(se._q),rJ=(0,H.jz)(se.RQ),rZ=(0,H.jz)(se.$c),rQ=(0,H.jz)(se.d5);function r0({page:e,libraryKey:t,hideScrollbar:s}){let{assetsScrollTop:n,handleScrollAssets:l}=ra({libraryKey:t,pageId:e.id}),[a]=(0,sl.MA)(),{width:o}=sB(),d=i.useMemo(()=>rs(e.assets),[e.assets]),{tileHeight:c,tileWidth:u,numColumns:p}=r_(o,d),h=i.useMemo(()=>{let e=[];return e.push(...r4(d,p,u,c,a,"assets","Site kit",[tZ.tM.COMPONENTS],{includesFirstTile:!0,hideName:!0})),e},[d,a,p,c,u]);return(0,r.jsx)(s1,{elements:h,hideScrollbar:s,initialScrollTop:n,onScroll:l,anchorScroll:!0,role:a})}function r1({subtree:e,currentFolderPath:t,hideScrollbar:s,onScroll:i,initialScrollTop:n,role:l}){let a=r3({subtree:e,currentFolderPath:t});return(0,r.jsx)(s1,{elements:a,hideScrollbar:s,onScroll:i,initialScrollTop:n,role:l})}let r3=({subtree:e,currentFolderPath:t})=>{let{folderPath:s}=(0,T.wV)(),[n]=(0,sl.MA)(),{width:l}=sB(),{tileHeight:a,tileWidth:o,numColumns:d}=r_(l,e?.items),c=t.join("/"),u=t.length,p=s?.length??0,h=i.useCallback(({subtree:e,elements:t})=>{let s=e.items.length>0;if(s){let s=[tZ.tM.COMPONENTS];t.push(...r4(e.items,d,o,a,n,e.key,"Site kit",s,{includesFirstTile:u===p,keyboardPanelDepth:u,depth:u,hideName:!0}))}let i=Array.from(e.subtrees.values());s&&i.length>0&&t.push({element:(0,r.jsx)(sd.cG,{}),key:"divider",height:rJ}),i.forEach((s,i)=>{t.push({element:(0,r.jsx)(sa,{subtree:s,index:i+e.items.length,keyPrefix:c,depth:u}),key:s.key,height:"list"===n?rX:rq})})},[d,o,a,u,p,c,n]);return i.useMemo(()=>{let t=[];return e&&h({subtree:e,elements:t}),t},[h,e])};function r2(e){return e.type===ej.PW.RESPONSIVE_SET}function r4(e,t,s,i,n,l,a,o,d={}){let c=[];for(let u=0;u<e.length;u+=t){let p=e.slice(u,u+t),h=[];p.forEach((e,n)=>{let c=u+n;r2(e)?h.push((0,r.jsx)(rN,{asset:e,hideName:d.hideName,isFirstTile:d?.includesFirstTile&&0===c,keyboardPanelDepth:d?.keyboardPanelDepth,keyboardPosition:(0,sn.pg)(o,c,t),libraryName:d.libraryNameForAsset?.(e),sectionDepth:d?.depth,sectionNameForTracking:a,sectionPosition:u+n,thumbHeight:i,thumbWidth:s},`${l}-${(0,et.V)(e)}`)):h.push((0,r.jsx)(rV,{embed:e,sectionNameForTracking:a,sectionPosition:u+n,keyboardPosition:(0,sn.pg)(o,c,t),isFirstTile:d?.includesFirstTile&&0===c,thumbHeight:i,thumbWidth:s,libraryName:d.libraryNameForAsset?.(e)},e.name))}),c.push({element:(0,r.jsx)("div",{className:"list"===n?sU:0===u?sV:sz,role:"row",children:h}),key:`${l}:row-${u/t}`,keys:p.map(e=>r2(e)?(0,et.V)(e):e.name),height:sQ(i,n,{showFileName:!!d.libraryNameForAsset,hasTopPadding:0!==u,showAiDebugScores:!!(0,B.kc)().api_asset_search_with_scores,hideAssetName:!!d.hideName})})}return c.length>0&&(c.unshift({element:(0,r.jsx)(sd.hK,{height:rZ}),key:`${l}:spacer-top`,height:rZ}),c.push({element:(0,r.jsx)(sd.hK,{height:rQ}),key:`${l}:spacer-bottom`,height:rQ})),c}function r5({children:e,index:t,width:s}){let n=(0,G.md)(si.h),a=i.useMemo(()=>e.flat().filter(e=>!!e),[e]),o=i.useMemo(()=>{let e=r6(-Math.min(t,a.length-1)),s=`translateX(${e})`;return{transform:s,WebkitTransform:s}},[a.length,t]),d=l()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":n});return(0,r.jsx)("div",{style:o,"data-testid":"slide-carousel",className:d,children:a.map((e,i)=>(0,r.jsx)("div",{className:"slide_carousel--item--w20ND",style:{width:s},"data-testid":"slide-carousel-item","aria-hidden":i!==t,inert:i!==t?"":void 0,children:e},i))})}let r6=e=>`${100*e}%`,r7=(0,H.jz)(se.HE),r8=(0,H.jz)(se._q),r9=(0,H.jz)(se.ce),ie=(0,H.jz)(se.RQ);function it({page:e,width:t}){let{libraryKey:s,currentView:n}=(0,T.wV)(),{getPage:l}=(0,so.G)(),{previousPageId:a}=(0,T.RR)(),o=i.useMemo(()=>n===T.S5.Pages?l(s,a):e,[n,l,s,e,a]);return s&&o?(0,r.jsx)(is,{libraryKey:s,page:o,width:t}):(0,r.jsx)("div",{style:{width:t}})}function is({libraryKey:e,page:t,width:s,hideScrollbar:i}){let[n]=(0,sl.ye)();if((0,tZ.AZ)(t))return(0,r.jsx)(id,{page:t});if(n)return(0,r.jsx)(ii,{page:t,libraryKey:e,width:s,hideScrollbar:i});switch(t.type){case tZ.yW.DESIGN:return(0,r.jsx)(ir,{page:t,libraryKey:e});case tZ.yW.SITE:return(0,r.jsx)(r0,{page:t,libraryKey:e,hideScrollbar:i})}}function ir({page:e,libraryKey:t}){let{assetsScrollTop:s,handleScrollAssets:n}=ra({libraryKey:t,pageId:e.id}),[l]=(0,sl.MA)(),a=ry(),{componentSectionNameForTracking:o,templateSectionNameForTracking:d}=(0,si.zf)(),c=i.useMemo(()=>{let t=[];if(e.templates){let s=rs(e.templates),{props:i,numColumns:n}=rb(a,l,t1.rp.NORMAL,!0);t.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:r9}),t.push(...s0(s,n,"templates",i,d,[tZ.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let s=rs(e.examples),{props:r,numColumns:i}=rb(a,l,t1.rp.NORMAL,!0);t.push(...s0(s,i,"examples",r,o,[tZ.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.components")}),key:"components:header",height:r9});let s=rs(e.components),{props:i,numColumns:n}=rb(a,l,(0,t1.PI)(s,!0));t.push(...s0(s,n,"components",i,o,[tZ.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,a,l,d,o]);return(0,r.jsx)(s1,{elements:c,initialScrollTop:s,onScroll:n,anchorScroll:!0,role:l})}function ii({page:e,width:t,libraryKey:s,hideScrollbar:n}){let{folderPath:l}=(0,T.wV)(),{getFolder:a}=(0,so.G)(),{previousFolderPath:o,previousPageId:d}=(0,T.RR)(),c=e.id,[u,p]=i.useMemo(()=>{let t=[],i=o??l??[],u=0;for(let o=-1;o<i.length;o++){let p=i.slice(0,o+1),h=a(s,c??d,p);if(h){if((0,T.xc)(h))continue;t.push((0,r.jsx)(ia,{page:e,libraryKey:s,currentFolderPath:p,hideScrollbar:n},`components-${p?p.join("/"):"root"}`)),o===(l??[]).length-1&&(u=t.length-1)}}return[t,u]},[l,a,n,s,e,c,o,d]);return(0,r.jsx)(r5,{index:p,width:t,children:u})}function il(e,t){let s=e;for(let e of t){let t=s.subtrees.get(e);if(!t)return null;s=t}return s}function ia({page:e,libraryKey:t,currentFolderPath:s,hideScrollbar:n}){let[l]=(0,sl.MA)(),a=i.useMemo(()=>e.type===tZ.yW.DESIGN?il(e.assets,s):null,[s,e.assets,e.type]),o=i.useMemo(()=>e.type===tZ.yW.SITE?il(e.assets,s):null,[s,e.assets,e.type]),{folderPath:d}=(0,T.wV)(),c=(0,eO.fd)(t),u=e.id,p=s.length,h=d?.length??0,{assetsScrollTop:m,handleScrollAssets:g}=ra({libraryKey:t,pageId:u,folderPath:s});switch(e.type){case tZ.yW.DESIGN:return(0,r.jsx)(io,{subtree:a,currentFolderPath:s,hideScrollbar:n||p<h,onScroll:g,initialScrollTop:m,role:l,isPreset:c});case tZ.yW.SITE:return(0,r.jsx)(r1,{subtree:o,currentFolderPath:s,hideScrollbar:n||p<h,onScroll:g,initialScrollTop:m,role:l})}}function io({subtree:e,currentFolderPath:t,isPreset:s,hideScrollbar:i,onScroll:n,initialScrollTop:l,role:a}){let o=ic({subtree:e,currentFolderPath:t,isPreset:s});return(0,r.jsx)(s1,{elements:o,hideScrollbar:i,onScroll:n,initialScrollTop:l,role:a})}function id({page:e}){let[t]=(0,sl.MA)();return(0,r.jsx)(sd.xU,{children:(0,r.jsx)("div",{className:"grid"===t?"asset_panel_assets--embeds--kl79b":p.s.flex.flexColumn.itemsCenter.$,children:(0,r.jsx)(rz,{embeds:e.embeds})})})}let ic=({subtree:e,currentFolderPath:t,isPreset:s})=>{let n=ry(),{componentSectionNameForTracking:l}=(0,si.zf)(),{folderPath:a}=(0,T.wV)(),[o]=(0,sl.MA)(),d=t.join("/"),c=t.length,u=a?.length??0,p=i.useMemo(()=>!!(s&&e?.items)&&e?.items.every(e=>eh.Nz(e,{isPreset:s})),[s,e?.items]),h=i.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,eh.dS)(t.name,{isPreset:s})},[s]),m=i.useCallback(({subtree:e,elements:t})=>{let s=e.items.length>0,i=h(e);if(s){let s=[tZ.tM.COMPONENTS],{props:r,numColumns:i}=rb(n,o,(0,t1.PI)(e.items,!0),p);t.push(...s0(e.items,i,e.key,r,l,s,{hasHeader:!1,includesFirstTile:c===u,keyboardPanelDepth:c,isExample:p}))}let a=Array.from(e.subtrees.values());s&&a.length>0&&!i&&t.push({element:(0,r.jsx)(sd.cG,{}),key:"divider",height:ie,ariaHidden:!0}),a.forEach((s,n)=>{t.push({element:(0,r.jsx)(sa,{subtree:s,index:n+e.items.length,keyPrefix:d,depth:c}),key:s.key,height:"list"===o?r7:r8}),0===n&&i&&a.length>1&&t.push({element:(0,r.jsx)(sd.cG,{}),key:"examples_divider",height:ie,ariaHidden:!0})})},[h,n,o,p,l,c,u,d]);return i.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};var iu=s(414191),ip=s(818778),ih=s(382629),im=s(833805),ig=s(665261),ix=s(659062),i_=s(147046),iy=s(949052),ib=s(309112),ij=s(418463);let iC="asset-panel-library-context-menu",iv=sh.Pt("assetsLibrary","contextMenu"),ik=ig.ms,iS=ig.c$,iw=i.memo(({dropdownShown:e,usePortal:t})=>{let[{data:s}]=(0,im.IT)((0,eO.Re)(e?.data?.partnerType));if(!e||e.type!==iC)return null;let{data:i}=e;if(!i)return null;let{libraryHref:n,position:l,isLocalLibrary:a,hideUnsubscribe:o=!1,onGoToLibrary:d,onPublish:c,onUnsubscribe:u,onSendFeedback:p}=i,m=a?(0,r.jsx)(iS,{onClick:c,recordingKey:sh.Pt(iv,"publishLibrary"),children:(0,h.tx)("design_systems.assets_panel.publish_library")}):null,g=[m,o||a?null:(0,r.jsx)(iS,{onClick:u,recordingKey:sh.Pt(iv,"unsubscribe"),children:(0,h.tx)("design_systems.assets_panel.remove_library_from_file")}),a||!n?null:(0,r.jsx)(iS,{href:n,target:"_blank",recordingKey:sh.Pt(iv,"goToLibrary"),onClick:d,children:(0,h.tx)("design_systems.assets_panel.go_to_library")}),!a&&s?(0,r.jsx)(iS,{href:s,target:"_blank",recordingKey:sh.Pt(iv,"sendFeedback"),onClick:p,children:(0,h.tx)("design_systems.assets_panel.send_feedback_to_creator")}):null].filter(ih.Vq);if(!l||!g.length)return null;let f=(0,r.jsxs)(ik,{style:ix.sx.add({top:`${l.top}px`,right:`${l.right}px`,bottom:`${l.bottom}px`,left:`${l.left}px`}).add(ix.sx.fixed).$,children:[...g]});return t?rM.createPortal(f,document.body):f});var iT=s(980852);let iN="asset-panel-page-context-menu",iE=sh.Pt("assetsLibrary","contextMenu"),iI=ig.ms,iM=ig.c$,iA=i.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==iN)return null;let{data:s}=e;if(!s)return null;let{libraryPageHref:i,position:n,isLocalLibrary:l,onClickLocalPage:a,onClickSubscribedPage:o}=s;if(!n)return null;let d=l?(0,r.jsx)(iM,{recordingKey:sh.Pt(iE,"goToLibrary"),onClick:a,children:(0,h.tx)("design_systems.assets_panel.go_to_page")}):i?(0,r.jsx)(iM,{href:i,target:"_blank",recordingKey:sh.Pt(iE,"goToLibrary"),onClick:o,children:(0,h.tx)("design_systems.assets_panel.go_to_page")}):null;if(!d)return null;let c=(0,r.jsx)(iI,{style:ix.sx.add({top:`${n.top}px`,right:`${n.right}px`,bottom:`${n.bottom}px`,left:`${n.left}px`}).add(ix.sx.fixed).$,children:d});return t?rM.createPortal(c,document.body):c});function iP(){let e=(0,L.d4)(e=>e.dropdownShown),t=(0,L.d4)(iu.h),s=e?.type===sN.K.ASSETS_PANEL&&!!e?.data?.component,n=e?.type===iN&&!!e?.data?.pageId,l=e?.type===iC&&!!e?.data,a=(0,ip.K)(!0),o=i.useContext(sk.U);return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)(sN.h,{selectedView:t,dropdownShown:e,onJumpToLocalComponent:a,onOpenFlyout:o?.onOpenFlyout,usePortal:!0}),n&&(0,r.jsx)(iA,{dropdownShown:e,usePortal:!0}),l&&(0,r.jsx)(iw,{dropdownShown:e,usePortal:!0})]})}var iO=s(345288),iL=s(172096),iR=s(383698),iD=s(331497),iF=s(62865),iK=s(70041),iB=s(755444),iG=s(246144),iH=s(316862),iz=s(444878),iV=s(849275),iU=s(415567),iW=s(15900),i$=s(544603),iY=s(725837);let iX={loadTimeMs:2e3,numSuggestions:4},iq="mockAutoSuggestConfig";function iJ(){return(0,iB.b5)()&&(0,B.kc)().anticipation_mock}iJ()?window.mockAutoSuggestConfig={get(){if(!iJ())return;let e=localStorage.getItem(iq);return e?{...iX,...JSON.parse(e)}:iX},set(e){if(!iJ())return;let t={...this.get(),...e};localStorage.setItem(iq,JSON.stringify(t))},reset(){iJ()&&localStorage.setItem(iq,JSON.stringify(iX))}}:localStorage.removeItem(iq);let iZ=(0,ri.rt)(new Map);async function iQ({targetNodeGuid:e}){if(!iJ())return{suggestions:[]};let t=window.mockAutoSuggestConfig?.get();if(!t)return{suggestions:[]};let s=G.zl.get(iZ),r=s.get(e);if(!r){let t=iY.D.getState(),i=[...Object.values(t.library.publishedByLibraryKey.components).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2),...Object.values(t.library.publishedByLibraryKey.stateGroups).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2)];if(0===i.length)throw Error("MOCK: COULD NOT FIND ANY ASSETS - maybe they are still loading?");r=i.sort(()=>Math.random()-.5).map(e=>({...e,suggestionSource:iK.Ou.RECENTS}));let n=new Map(s);n.set(e,r),G.zl.set(iZ,n)}return await new Promise(e=>{setTimeout(()=>{e({suggestions:r.slice(0,t.numSuggestions)})},t.loadTimeMs)})}var i0=s(548947),i1=s(214237);let i3=e=>e?`${e.name} ${e.guid}`:"NO TARGET";async function i2(e){return(0,B.kc)().anticipation_mock?await iQ({targetNodeGuid:e.targetNode.guid}):await (0,iW.A)(e)}var i4=s(347598),i5=s(837080),i6=s(453373);let i7="asset_panel_recents--resultsWrapper--k79Vy",i8="asset_panel_recents--resultsWrapperList--peuzW";var i9=s(961125);let ne=T.S5.Libraries,nt=(0,H.jz)(i9.$A),ns=(0,G.eU)(0);function nr({suggestions:e,analyticsData:t,hasLibraries:s,subscribedLibraries:n}){let l=na(),a=(0,G.Xr)(iF.a),o=i.useCallback(()=>{(0,ek.gb)(t,iK.GG.RESULT_INSERTED,iK.qd.ASSET_PANEL)},[t]),d=ry(),c=i.useMemo(()=>{let e={};return n?.forEach(t=>{e[t.libraryKey]=t.name}),e},[n]),u=i.useMemo(()=>{let{props:t,numColumns:s}=rb(d,sl.$H.GRID,t1.rp.NORMAL);return e.map((e,i)=>(0,r.jsx)(sD,{asset:e,fileName:c?c[e.library_key]:"",sectionPosition:i,keyboardPosition:(0,sn.pg)([tZ.ON.SUGGESTIONS],i,s),onSuccessfulAssetInsert:o,...t,sourceForTracking:ek.tM},`${e.id}-${i}`))},[e,d,c,o]);i.useEffect(()=>{e.length>0&&t.queryId&&((0,ek.gb)(t,iK.GG.RESULTS_SHOWN,iK.qd.ASSET_PANEL),a())},[e,t,a]);let p=(0,h.tx)("auto_suggest.asset_panel.no_libraries"),m=(0,h.tx)("auto_suggest.suggestion_shelf_no_suggestions"),g=(0,r.jsx)("div",{className:"xh8yej3 x1iyjqo2 x1r8uery x1l90r2v",children:(0,r.jsx)("div",{className:i7,children:u})});return(0,O.NB)(),(0,r.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k",style:{minHeight:l},children:s?u.length>0?g:m:p})}function ni(){let e;let{width:t}=sB(),s=(0,f.He)().size>0,n=!s,l=(0,f.je)(),a=i.useRef(null),{suggestions:o,isLoading:d,analyticsData:c,debugString:u,isInitialized:p}=function(e=!1){let t=function(e){(0,iB.Ay)().anticipation_config||((0,iB.Ay)().anticipation_config=iK.PV);let t=(0,iB.Ay)().anticipation_config.dominantFrameConfig;return function({targetNodeGuid:e,disabled:t}){let[{suggestions:s,analyticsData:r},n]=(0,G.fp)(iF.P),{isLoaded:l}=(0,iV.y)(),a=function(){let{isLoaded:e}=(0,iV.y)();return{isLoaded:e,assets:(0,iz.g5)(eC.$A.Design).productComponents.map(e=>({...e,suggestionSource:iK.Ou.RECENTS}))}}(),o=i.useMemo(()=>l&&a.isLoaded,[l,a.isLoaded]),[d,c]=i.useState(o);i.useEffect(()=>{!d&&o&&(c(!0),0===s.length&&n({suggestions:a.assets,analyticsData:iK.YQ}))},[o,a,d,s.length,n]);let{suggestions:u,analyticsData:p,isLoading:h,suggestionsNodeGuid:m,debugString:x}=function({targetNodeGuid:e,disabled:t}){let[s,r]=i.useState([]),[n,l]=i.useState(`${e} - INIT`),[a,o]=i.useState(iK.YQ),[d,c]=i.useState(!1),[u,p]=i.useState(void 0),h=(0,g.tS)(),m=(0,f.He)(),x=(0,i1.r8)();return i.useEffect(()=>{if(t||!x)return;let s=(0,iT.UN)(),i=e?s.get(e):void 0,n=new AbortController;if(i&&h){if(i&&iK.b4.includes(i.type)){c(!0),r([]),p(i.guid),l(i3(i)+" - STARTED");let e={fileKey:h,queryId:(0,iH.g)(),selectionId:i?.guid};o(e);let t=(0,i1.k1)(),s=new ek.O({analyticsData:e,config:t,entryPoint:iK.qd.ASSET_PANEL}),{signal:a}=n,d=new i$.I(eV.otU.COMPONENTS,n);i2({targetNode:i,openFileKey:h,signal:a,subscribedLibraryKeys:m,autoSuggestSession:d,logger:s,config:t}).then(({suggestions:e})=>{a.aborted||r(e)}).catch(e=>{if((0,iG.x1)("auto_suggest","Error fetching suggestions",{error:e}),"AbortError"===e.name)return}).finally(()=>{a.aborted||(c(!1),l(i3(i)+" - FINISHED"));try{d.destroy()}catch(e){}})}else i&&(c(!1),r([]),p(i.guid),l(i3(i)+" - INVALID TARGET"))}else r([]),l(i3(i)+" - NO TARGET/OPEN FILE"),c(!1),p(void 0),o(iK.YQ);return()=>{n&&n.abort()}},[e,t,h,m,x]),{suggestions:s,isLoading:d,analyticsData:a,suggestionsNodeGuid:u,debugString:n}}({targetNodeGuid:e,disabled:t});i.useEffect(()=>{u.length>0&&n({suggestions:u,analyticsData:p})},[u,p,n]);let _=(0,i1.r8)();return t||!_?{suggestions:[],analyticsData:iK.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:{suggestions:s,analyticsData:r,isLoading:h,isInitialized:d||s.length>0,suggestionsNodeGuid:m,debugString:x}}({targetNodeGuid:function({selectedNode:e,config:t,disabled:s}){let r=!(0,B.kc)().anticipation,[n,l]=i.useState(void 0),{debouncedViewportInfo:a,viewportIsStable:o}=(0,i0.pJ)(r),d=!!e&&iK.b4.includes(e.type)&&(0,i0.Mw)(e,a,.4),c=(0,i0.pW)(a,s||r||d,t);return i.useEffect(()=>{if(o&&!r){if(d){l(e.findContainingFragmentOrSelf());return}l(c)}},[c,d,e,r,o]),n}({selectedNode:(0,iU.Vr)(),config:t,disabled:e}),disabled:e})}(e);return e?{suggestions:[],analyticsData:iK.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:t}(n),m=(0,G.Xr)(ns),x=na(),_=(0,iD.ut)(eV.Ez5?.editorPreferences().showAssetAutoSuggest,!0),[y,b]=i.useState(null),j=_&&o.length>0&&s&&p||!!y,C=i.useCallback(()=>{let e=!j;eV.Ez5?.editorPreferences().showAssetAutoSuggest.set(e),b(e),(0,ek.gb)(c,e?iK.GG.PANEL_OPENED:iK.GG.PANEL_CLOSED,iK.qd.ASSET_PANEL)},[j,c]);i.useEffect(()=>{if(a.current?.clientHeight)m(a.current?.clientHeight);else{let e=nt+8;j&&(e+=x),(0,B.kc)().anticipation_trigger_debug&&(e+=16),m(e)}},[j,x,m]);let{currentView:v}=(0,T.wV)(),k=v===T.S5.Libraries?0:1,S=(0,G.md)(iF.a);return n||(!p||j&&d||j&&"loading"===l.status?e=(0,r.jsx)(ez.k,{size:"md"}):j||(e=(0,r.jsx)("div",{...{0:{className:"xw4jnvo x1qx5ct2 xy3p2pi x78zum5 x6s0dn4 xl56j7k x16rqkct xcr9a89 x1fgql6j"},1:{className:"xw4jnvo x1qx5ct2 xy3p2pi x78zum5 x6s0dn4 xl56j7k x16rqkct x1v8gsql x1n0bwc9"}}[!!S<<0],children:o.length}))),(0,r.jsxs)("div",{className:"x1n5zjp5 x1e56ztr",ref:a,children:[(0,r.jsx)(i4.B,{children:(0,r.jsxs)(i5.H,{children:[(0,r.jsxs)(t3.E,{onClick:C,className:"x1iyjqo2",children:[(0,r.jsx)(i6.g,{isExpanded:j}),(0,h.tx)("auto_suggest.asset_panel.title")]}),(0,r.jsx)("div",{className:"x78zum5 x6s0dn4",children:e})]})}),j&&(0,r.jsxs)(r5,{index:k,width:t,children:[(0,r.jsx)("div",{children:(0,r.jsx)(nr,{suggestions:o,analyticsData:c,hasLibraries:s,subscribedLibraries:l.data})}),(0,r.jsx)("div",{})]}),(0,B.kc)().anticipation_trigger_debug&&(0,r.jsx)("div",{className:"xh8yej3 xlup9mm xw2csxc x10wlt62",children:u})]})}function nn(){let e=(0,i1.r8)(),{currentView:t}=(0,T.wV)();return e&&t===ne}function nl(){let e=nn();return(function(){let e=(0,G.md)(T.W9),t=(0,eU.ZC)(e),{suggestions:s,analyticsData:r}=(0,G.md)(iF.P),{currentView:n}=(0,T.wV)(),l=(0,eU.ZC)(n);i.useEffect(()=>{!1===t&&!0===e&&s.length>0&&r.queryId&&l===ne&&(0,ek.gb)(r,iK.GG.STARTED_SEARCH,iK.qd.ASSET_PANEL)},[t,e,s,r,l])}(),e)?(0,r.jsx)(ni,{}):null}function na(){let e=ry();return Math.max(i.useMemo(()=>{let t=e.numColumnsByLayout[t1.rp.NORMAL];return Math.ceil(iK.lS/t)*(sQ(e.componentTilePropsByLayout[t1.rp.NORMAL].thumbHeight,sl.$H.GRID,{showFileName:!0})+16)},[e]),150)}var no=s(573845),nd=s(288054),nc=s(149073),nu=s(744449),np=s.n(nu),nh=s(278491),nm=s(506192),ng=s(718085),nf=s(336971),nx=s(117012),n_=s(148233),ny=s(22106);function nb(){(0,nx.K)();let{subscribedFileDataByLibraryKey:e,hubFilesByLibraryKey:t}=(0,n_.N)(),s=(0,L.d4)(g.tB),r=(0,L.d4)(eb.e_),n=(0,L.d4)(eb.MH),l=(0,L.d4)(eb.dM),a=(0,L.d4)(nf.P),o=(0,tY.n1)(),d=(0,Q.Fl)(),c=(0,G.md)(eT.lj),u=i.useMemo(()=>s?.teamId?a[s.teamId]:null,[s?.teamId,a]),p=i.useMemo(()=>!!u&&(0,eR.w5)(u),[u]),m=i.useMemo(()=>(0,eS.Sg)(n,l),[n,l]),f=(0,eS.$1)({library:r,fileDataByLibraryKey:e}),x=(0,eS.oV)({library:r,hubFilesByLibraryKey:t,visualAssetLibraryKeys:c}),_=i.useMemo(()=>o?x:null,[o,x]),{url:y,shouldCover:b}=(0,ny.t)(),j=(0,rw.Nn)(),C=i.useMemo(()=>{let e=[];for(let t of j)t.data&&e.push(t.data);return e},[j]),v=(0,rw.fi)(),k=(0,rw.Bv)(),S=(0,G.md)(eu.TG);return i.useMemo(()=>(function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:s,localThumbnailShouldCover:r,subscribedComponentsInfo:i,subscribedCommunityComponentsInfo:n,canPublish:l,openFileKey:a,openFileLibraryKey:o,approvedLibraryKeysByResourceType:d,siteKitsAssetData:c,siteKitThumbnailComponents:u,siteKitSortingFn:p,presetLibraryKeys:m}){let{libraryKeyToSubscribedItems:g,subscribedFiles:f}=i,x=function({subscribedFiles:e,libraryKeyToSubscribedComponents:t,approvedLibraryKeysByResourceType:s}){let r=new Map;for(let i of(0,si.uo)(e,s)){if(!i.library_key)continue;let e=(0,tV.l)(i.library_key),s=t[e]??[],n=s9(s,[],{isPreset:!1}),l={name:i.name,libraryKey:(0,tV.l)(i.library_key??""),pages:n,numComponents:s.length,numTemplates:0,thumbnailUrl:i.thumbnail_url_override??i.thumbnail_url,thumbnailShouldCover:!!i.thumbnail_guid,type:tZ.yW.DESIGN,libraryType:"team"};r.set(e,l)}return r}({subscribedFiles:[...f],libraryKeyToSubscribedComponents:g,approvedLibraryKeysByResourceType:d}),_=function(e,t){if(!e)return new Map;let{libraryKeyToSubscribedItems:s,subscribedHubFiles:r}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},i=new Map;for(let e of(0,si.LH)(r)){if(!e.library_key)continue;let r=(0,tV.l)(e.library_key),n=s[r]??[],l=s9(n,[],{isPreset:t.has(e.library_key)});if(n.length>0){let t={name:(0,s2.oA)(e),libraryKey:(0,tV.l)(e.library_key??""),pages:l,numComponents:n.length,numTemplates:0,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:tZ.yW.DESIGN,libraryType:"community"};i.set(r,t)}}return i}(n,m),y=function(e,t,s,r,i,n,l,a){let{privateItems:o,numPublished:d}=e,{privateItems:c,numPublished:u}=t??{privateItems:[],numPublished:0},p=d+u>0&&i&&o.length+c.length>0,m=rt(e,i),g=t?rt(t,i):[],f=!!a?.has(l),x=s9(m,g,{isPreset:f}),_={name:(0,h.t)("design_systems.assets_panel.created_in_this_file"),libraryKey:l,pages:x,numComponents:m.length,numTemplates:g.length,thumbnailUrl:s,thumbnailShouldCover:r,type:tZ.yW.DESIGN,libraryType:"team"};if(p){let e=null;if(o.length>0){let{sortedItems:t,sortedSubtrees:s}=s8(o,"p_components",{isPreset:f});e={name:(0,h.t)("design_systems.assets_panel.components"),items:t,subtrees:s,key:tZ.c_,type:tq.l$.COMPONENTS,previewAsset:void 0}}let t=null;if(c.length>0){let{sortedItems:e,sortedSubtrees:s}=s8(c,"p_templates",{isPreset:f});t={name:(0,h.t)("design_systems.assets_panel.templates"),items:e,subtrees:s,key:tZ.JS,type:tq.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:s,sortedSubtrees:r}=s8([...o??[],...c??[]],"assets",{isPreset:f}),i={name:(0,h.t)("design_systems.assets_panel.assets"),items:s,subtrees:r,key:tZ.Mk,type:tq.l$.COMPONENTS,previewAsset:void 0},n={name:(0,h.t)("design_systems.assets_panel.hidden"),id:tZ.o8,previewAsset:o[0]??c[0],components:e,examples:null,templates:t,assets:i,type:tZ.yW.DESIGN};_.pages.set(tZ.o8,n)}return _}(e,t,s,r,l,0,o,m),b=new Map([...x,..._]);b.set(y.libraryKey,y);let j=null;if(c){for(let e of(j=new Map,c)){let t=(0,s5.Pv)(e);if(!t)continue;let s=t.library.libraryKey,r=re(t.assets,u[s]??{},p,s===s5.Yl),i={...t.library,pages:r};j.set(s,i),b.set(s,i)}let e=(0,s6.V)();if(e){let t=re([],{},p,!0),s={...e,pages:t};j.set((0,tV.l)(s5.Yl),s),b.set((0,tV.l)(s5.Yl),s)}}return{localAssets:y,libraries:x,presets:_,siteKits:j,allLibrariesUnsorted:b}})({localComponentsInfo:m,localThumbnailUrl:y,localThumbnailShouldCover:b,subscribedComponentsInfo:f,subscribedCommunityComponentsInfo:_??void 0,canPublish:p,openFileKey:s?.key??"",openFileLibraryKey:(0,tV.l)(s?.libraryKey??""),approvedLibraryKeysByResourceType:d,siteKitsAssetData:C.length>0?C:void 0,siteKitThumbnailComponents:v,siteKitSortingFn:k,presetLibraryKeys:S}),[m,y,b,p,s?.key,s?.libraryKey,d,C,v,k,f,_,S])}var nj=s(757396);let nC="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",nv="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function nk({stubs:e}){let{collapsibleStubs:t,lastStub:s,numHiddenStubs:n,breadcrumbRef:l,ellipsisRef:a,stubRefs:o}=nS(e),d=i.useCallback(()=>a.current?{top:a.current.getBoundingClientRect().bottom,left:a.current.getBoundingClientRect().left}:{top:0,left:0},[a]),c=n===t.length;return(0,r.jsxs)("div",{className:p.s.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:ix.sx.add({flexBasis:"content"}).$,ref:l,role:"navigation","data-onboarding-key":ng.we,children:[(0,r.jsx)(nN,{shouldEllipsize:c}),n>0&&(0,r.jsx)(nT,{allStubs:t,numHiddenStubs:n,getDropdownTarget:d,ref:a}),t.map((e,t)=>t<n?null:(0,r.jsx)(nE,{i:t,name:e,ref:e=>o.current[t]=e},t)),e.length>0?(0,r.jsx)(nI,{name:s,firstSlash:0===t.length,shouldEllipsize:c}):null]})}let nS=e=>{let[t,s]=i.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,n]=i.useState([]),l=i.useRef([]);i.useEffect(function(){l.current.length>t.length&&(l.current=l.current.slice(0,t.length)),r.length>t.length&&n(e=>e.slice(0,t.length))},[t,r.length,e.length]);let a=i.useRef(null),o=i.useRef(null),{width:d}=sB();return i.useLayoutEffect(function(){let e=a.current;if(!e)return;let t=e.children,s=e.offsetWidth-np()(Array.from(t).map(e=>e.scrollWidth));if(s<0){let e=l.current[r.length];e&&n(t=>[...t,e.scrollWidth])}else if(0===s)return;else if(r.length>0){let e=r.length-1;s>r[e]-(o.current&&1===r.length?o.current.scrollWidth:0)&&n(e=>e.slice(0,-1))}},[r,l,e,d]),{collapsibleStubs:t,lastStub:s,numHiddenStubs:r.length,breadcrumbRef:a,ellipsisRef:o,stubRefs:l}},nw="asset-panel-ellipsis-menu",nT=i.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:s},n)=>{let a=(0,si.sN)(),o=(0,nm.Um)(),d=o?.type===nw,c=(0,L.wA)(),u=i.useCallback(()=>c((0,i_.oB)()),[c]),h=i.useCallback(()=>c((0,i_.j7)({type:nw,data:{position:s()}})),[c,s]),{isCurrentlySkippingPage:m,isCurrentlySkippingFirstFolder:g,navigateBackToPathIndex:f}=(0,T.wV)(),x=i.useMemo(()=>t.slice(0,e),[t,e]),_=i.useMemo(()=>x.join(" / "),[x]),y=i.useMemo(()=>{if(d)return o.data?.position},[o?.data?.position,d]),b=i.useCallback(e=>{a("breadcrumb",f(nA(e,m,g)))},[g,m,a,f]),{focusBackButton:j,focusSearchBar:C}=(0,sn.rl)(),v=(0,sn.NR)({onBoth:e=>()=>{b(e)},onKeyDown:()=>()=>{setTimeout(()=>j(),0)},onClick:()=>C}),{setKeyboardNavigationElement:k}=(0,W.M3)({path:[tZ.ON.BREADCRUMB],column:tZ.Yv.ELLIPSIS}),S=l()(nC,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":d});return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{ref:n,className:p.s.flex.itemsCenter.$,children:[(0,r.jsx)(nM,{}),(0,r.jsx)("button",{ref:k,className:S,onClick:h,"data-tooltip-type":e4.Ib.TEXT,"data-tooltip":_,"aria-label":_,"aria-haspopup":"listbox","aria-expanded":d,children:"\u2026"})]}),d&&rM.createPortal((0,r.jsx)(ig.X3,{className:nh.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:u,autofocusPrevElementOnEsc:!0,children:x.map((e,t)=>(0,r.jsx)(ig.c$,{onClick:v(t),children:e},e))}),document.body)]})});function nN({shouldEllipsize:e}){let t=(0,g._G)(),{allLibrariesByLibraryKey:s}=(0,nj.g)(),{currentView:n,libraryKey:a,visualAssetsType:o,navigateToLibrary:d,isCurrentlySkippingPage:c,isCurrentlySkippingFirstFolder:u,folderPath:m}=(0,T.wV)(),{setLastNavAction:f}=(0,rn.ZX)(),{focusBackButton:x,focusSearchBar:_}=(0,sn.rl)(),y=function(){let{libraries:e,siteLibraries:t,librariesForConnectedProject:s}=(0,nj.g)(),r=nb().localAssets,n=s.length>0,l=i.useMemo(()=>{let s=e.length>0,i=r.numComponents+r.numTemplates>0;return s||i||"disabled"!==t.status},[e,t.status,r]);return n&&!l}(),b=i.useMemo(()=>a?a===t?(0,h.t)("design_systems.assets_panel.created_in_this_file"):s.get(a)?.name:void 0,[a,t,s]),j=(0,si.sN)(),C=n===T.S5.Libraries,v=n===T.S5.Pages,k=n===T.S5.Recents,S=n===T.S5.VisualAssets,w=i.useMemo(()=>!!v||!!c&&(!m||!!u&&1===m.length),[m,u,c,v]),N=i.useCallback(e=>{let t=d(e);f(rn.r6.Back),j("breadcrumb",t)},[j,d,f]),E=(0,sn.MB)({onBoth:()=>N(a??(0,tV.l)("")),onKeyDown:x,onClick:_}),{setKeyboardNavigationElement:I}=(0,W.M3)({path:[tZ.ON.BREADCRUMB],column:tZ.Yv.LIBRARY}),M=l()(v?nv:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return C?(0,r.jsx)("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",children:y?(0,h.tx)("design_systems.libraries_modal.connected_project_libraries"):(0,h.tx)("design_systems.assets_panel.dropdown_type_all_libraries")}):k?(0,r.jsx)("div",{className:nv,children:(0,h.tx)("design_systems.assets_panel.dropdown_type_recents")}):S?(0,r.jsx)("div",{className:nv,children:o===T.G3.IconSets?(0,h.tx)("design_systems.assets_panel.icon_sets"):(0,h.tx)("design_systems.assets_panel.illustrations")}):(0,r.jsx)("div",{className:p.s.flex.overflowHidden.$,children:(0,r.jsx)("button",{onClick:E,className:M,disabled:w,ref:I,type:"button",children:b})})}let nE=i.forwardRef(({name:e,i:t},s)=>{let{isCurrentlySkippingPage:n,isCurrentlySkippingFirstFolder:l,navigateBackToPathIndex:a}=(0,T.wV)(),o=(0,si.sN)(),d=i.useCallback(e=>{o("breadcrumb",a(e))},[o,a]),c=i.useMemo(()=>nA(t,n,l),[t,l,n]),{setKeyboardNavigationElement:u}=(0,W.M3)({path:[tZ.ON.BREADCRUMB],column:tZ.Yv.STUBS+t}),{focusBackButton:h,focusSearchBar:m}=(0,sn.rl)(),g=(0,sn.MB)({onBoth:()=>d(c),onKeyDown:h,onClick:m});return e?(0,r.jsxs)("div",{ref:s,className:p.s.flex.itemsCenter.$,children:[(0,r.jsx)(nM,{}),(0,r.jsx)("button",{ref:u,onClick:g,className:nC,children:e})]}):null});function nI({name:e,shouldEllipsize:t}){let s=i.useRef(null),{pageId:n,folderPath:l}=(0,T.wV)(),{width:a}=sB(),[o,d]=i.useState(!1);return(i.useEffect(()=>{d(!!(0,eJ._C)({text:e??"",textRef:s}))},[e,a]),i.useEffect(()=>{setTimeout(()=>d(!!(0,eJ._C)({text:"",textRef:s})),0)},[n,l]),e)?(0,r.jsxs)("div",{className:p.s.noWrap.flex.itemsCenter.if(t,p.s.overflowHidden).$,children:[(0,r.jsx)(nM,{}),(0,r.jsx)("div",{"data-tooltip-type":e4.Ib.TEXT,"data-tooltip":o?e:void 0,ref:s,className:p.s.mx4.px2.if(t,p.s.overflowHidden.pre.ellipsis).$,"aria-current":"location",children:e})]}):null}function nM(){return(0,r.jsx)("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0,children:" / "})}let nA=(e,t,s)=>{let r=e;return t&&r++,s&&r++,r-1};var nP=s(819851);function nO(){let e=(0,g._G)(),{getLibrary:t}=(0,so.G)(),{libraries:s,presets:r,siteLibraries:n,librariesForConnectedProject:l}=(0,nj.g)(),a=i.useMemo(()=>t(e??void 0),[t,e]),o=i.useMemo(()=>!a||(a.type===tZ.yW.DESIGN?0===a.numComponents&&0===a.numTemplates:0===a.numResponsiveSets),[a]),d=0===s.length,c=0===r.length,u=0===l.length,p=(0,nP.cJ)(),[h]=(0,G.fp)(T.aK);return i.useMemo(()=>p?"Blocks"!==h&&o&&d&&c&&u:o&&d&&c&&u&&"disabled"===n.status,[o,d,c,u,n,p,h])}function nL({page:e}){let{currentView:t,folderPath:s,onBack:n,libraryKey:l,isCurrentlySkippingPage:a,isCurrentlySkippingFirstFolder:o}=(0,T.wV)(),d=(0,si.sN)(),{closeFlyout:c}=(0,tN.JA)(),{setBackButtonKeyboardItem:u,focusSearchBar:p}=(0,sn.rl)(),m=i.useCallback(()=>{d("backButton",n()),c()},[n,d,c]),g=i.useCallback(()=>{t===T.S5.Recents?l||p():t===T.S5.Pages?p():t===T.S5.Assets&&a&&!s&&p()},[t,p,s,a,l]),f=(0,sn.MB)({onBoth:m,onKeyDown:g,onClick:p}),x=i.useMemo(()=>{if(t===T.S5.Search||t===T.S5.Recents)return[];let r=e?.name&&!a?[e.name]:[],i=s??[];return[...r,...o?i.slice(1):i]},[t,s,a,o,e?.name]),_=nO(),y=t!==T.S5.Libraries&&t!==T.S5.Search;return _?null:(0,r.jsx)(r.Fragment,{children:t!==T.S5.Search&&(0,r.jsxs)("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA",children:[y&&(0,r.jsx)(eX.K,{"aria-label":(0,h.t)("design_systems.assets_panel.back"),onClick:f,ref:u,recordingKey:"assetsPanelBack",children:(0,r.jsx)(nc.C,{})}),(0,r.jsx)(nk,{stubs:x})]})})}var nR=s(76404),nD=s(557276),nF=s(72138),nK=s(511295),nB=s(272438),nG=s(421874),nH=s(470076),nz=s(185245);function nV(){let{closeOverlay:e}=(0,nH.h)(),[t,s]=(0,G.fp)(nz.s0),n=i.useCallback(()=>{s(eV.Nfd.DAKOTA),e()},[s,e]);return(0,r.jsx)("div",{...rj.Ay.props(nG.A.p16),children:(0,r.jsxs)("div",{...rj.Ay.props(nG.A.flex,nG.A.flexColumn,nG.A.itemsCenter,nG.A.textCenter,nG.A.gap8),children:[(0,r.jsx)(nB.T,{className:"x1aue78i"}),(0,r.jsx)("div",{...rj.Ay.props(nG.A.textBodyMediumStrong,nG.A.colorText),children:(0,h.tx)("dakota.site_blocks.create_cms_collection")}),(0,r.jsx)("div",{...rj.Ay.props(nG.A.textBodyMedium,nG.A.colorTextSecondary),children:(0,h.tx)("dakota.site_blocks.dynamically_connect_and_update")}),(0,r.jsx)(eY.IK,{onClick:n,children:(0,h.tx)("dakota.site_blocks.create_collection_button")})]})})}var nU=s(479414),nW=s(150184),n$=s(275033),nY=s(239004);function nX(e){let{data:t}=(0,nK.gL)(e);return(0,i.useMemo)(()=>t?function(e){let t=e.sort((e,t)=>(0,nU.Ez)(t.position,e.position)),s=t.filter(e=>e.fieldType===n$._j.PLAIN_TEXT||e.fieldType===n$._j.DATE),r=s.find(e=>"title"===e.name.toLowerCase())||s[0],i=s.find(e=>e.id!==r?.id),n=t.find(e=>e.fieldType===n$._j.RICH_TEXT),l=t.find(e=>e.fieldType===n$._j.IMAGE);return{primaryTextFieldId:r?.id??null,secondaryTextFieldId:i?.id??null,richTextFieldId:n?.id??null,imageFieldId:l?.id??null}}(t.fieldSchemas||[]):{primaryTextFieldId:null,secondaryTextFieldId:null,richTextFieldId:null,imageFieldId:null},[t])}function nq(e){let t=(0,rw.t0)();return(0,i.useMemo)(()=>t?Object.fromEntries([[t.primaryTextFieldId,e.primaryTextFieldId],[t.secondaryTextFieldId,e.secondaryTextFieldId],[t.imageFieldId,e.imageFieldId],[t.richTextFieldId,e.richTextFieldId]].filter(e=>null!=e[0]&&null!=e[1])):{},[t,e])}function nJ(e,t,{isPageBlock:s}={}){let r=(0,rw.t0)(),n=r?.assetNames;return(0,i.useMemo)(()=>{if(!n)return null;let r=function(e,t,s){let{primaryTextFieldId:r,secondaryTextFieldId:i,imageFieldId:n}=e,l=null!==r,a=null!==i,o=l||a,d=null!==n;return(a&&!l&&(0,nY.sD)("Unexpected CMS block fields",{primaryTextFieldId:r,secondaryTextFieldId:i,imageFieldId:n}),s)?d?l&&!a?t.imageSingleTextPage??null:o?t.textImagePage??null:t.imageOnlyPage??null:o?t.textOnlyPage??null:null:d?l&&!a?t.imageSingleTextList:o?t.textImageList:t.imageOnlyList:o?t.textOnlyList:null}(e,n,s);return r?t.find(e=>e.name===r)??null:null},[e,t,n,s])}function nZ({collections:e,assets:t,renderFlyoutListItem:s,renderFlyoutPageItem:i}){return(0,r.jsx)(r.Fragment,{children:e.map((e,n)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(nQ,{assets:t,collectionId:e.id,collectionName:e.name,children:e=>s({...e,index:n})}),(0,r.jsx)(n0,{assets:t,collectionId:e.id,collectionName:e.name,children:e=>i({...e,index:n})})]},e.id))})}function nQ({collectionId:e,collectionName:t,assets:s,children:r}){let i=nX(e),n=nq(i);return r({asset:nJ(i,s),cmsCollectionMappings:{blockType:"list",collectionId:e,collectionName:t,fieldSchemaMappings:n}})}function n0({collectionId:e,collectionName:t,assets:s,children:r}){let i=nX(e),n=function(e){let{data:t}=(0,nW.Vp)(e);if(!t||0===t.length)return null;let[s]=(0,nW.BM)(t);return s.id}(e),l=nq(i);return r({asset:nJ(i,s,{isPageBlock:!0}),cmsCollectionMappings:{blockType:"page",collectionId:e,itemId:n,collectionName:t,fieldSchemaMappings:l}})}function n1(){return(0,r.jsx)("div",{...rj.Ay.props(nG.A.p16),children:(0,r.jsx)(ez.k,{})})}var n3=s(443208),n2=s(222714);let n4=(0,i.createContext)(void 0);function n5(){let e=(0,i.useContext)(n4);if(void 0===e)throw Error("useFlyoutContext must be used within a FlyoutProvider");return e}function n6({page:e,libraryKey:t,onDragStart:s,children:n}){let l=(0,i.useMemo)(()=>rs(e.assets),[e.assets]),a=function(){let{windowInnerWidth:e}=(0,n2.l)();return(0,i.useMemo)(()=>Math.min(Math.max(Math.floor(15*e/64),144),220),[e])}(),o=(0,i.useMemo)(()=>a-8,[a]),d=(0,i.useMemo)(()=>a-2*sT.$A-8,[a]),c=(0,i.useMemo)(()=>({page:e,libraryKey:t,assets:l,panelWidth:a,embedThumbWidth:o,thumbWidth:d,onDragStart:s}),[e,t,l,a,o,d,s]);return(0,r.jsx)(n4.Provider,{value:c,children:n})}let n7=i.forwardRef(({hide:e,libraryKey:t,onMouseEnter:s,onMouseLeave:n,onDragStart:l},a)=>{let{getLibrary:o}=(0,so.G)(),{isLeftPanelCollapsed:d}=(0,i.useContext)(n3.t),c=(0,u.b)();if(d)return null;let p=o(t);if(!p)return null;let h=(0,T.Cg)(p);return h&&h.type===tZ.yW.SITE?rM.createPortal((0,r.jsx)("div",{ref:a,...rj.Ay.props(ln.flyout,ln.flyoutPosition(c),e&&ln.hidden),onMouseEnter:s,onMouseLeave:n,"data-fullscreen-prevent-event-capture":!0,"data-testid":"asset-panel-library-flyout","aria-hidden":e,children:(0,r.jsx)(n6,{libraryKey:t,page:h,onDragStart:l,children:(0,r.jsx)(n9,{})})}),document.body):null}),n8="Site kit";function n9(){let{page:e,libraryKey:t,assets:s,embedThumbWidth:i,thumbWidth:n,onDragStart:l}=n5();return(0,rw.VF)()(t)?(0,r.jsx)(le,{}):(0,tZ.AZ)(e)?(0,r.jsx)(lt,{children:(0,r.jsx)(ls,{styleXStyle:ln.gap16,children:e.embeds.map((e,t)=>(0,r.jsx)(rS.Ay.Provider,{value:rS.W7.Embed,children:(0,r.jsx)(rV,{embed:e,sectionPosition:t,keyboardPosition:{path:[tZ.ON.CONTENTS,tZ.lM.ASSETS,t],column:null},thumbHeight:Math.floor(i/2),thumbWidth:i,isFirstTile:0===t,onDragStart:l},e.name)},e.name))})}):(0,r.jsx)(lt,{children:(0,r.jsx)(ls,{styleXStyle:ln.gap16,children:s.map((e,t)=>(0,r.jsx)(rS.Ay.Provider,{value:e.fullPage?rS.W7.Webpage:rS.W7.Block,children:(0,r.jsx)(rN,{asset:e,sectionPosition:t,thumbWidth:n,isFirstTile:0===t,sectionNameForTracking:n8,keyboardPosition:(0,sn.pg)([tZ.tM.COMPONENTS],t,1),hideName:!0,onDragStart:l},e.name)},e.name))})})}function le(){let e=(0,g.tS)(),{data:t,status:s}=(0,nK.c$)(e),{libraryKey:n,assets:l,thumbWidth:a,onDragStart:o}=n5(),d=(0,i.useMemo)(()=>l.filter(e=>e.type===ej.PW.RESPONSIVE_SET),[l]),c=(0,i.useCallback)(({asset:e,cmsCollectionMappings:t,index:s})=>e?(0,r.jsx)(rN,{asset:e,cmsCollectionMappings:t,hideName:!0,keyboardPosition:(0,sn.pg)([tZ.tM.COMPONENTS],s,1),onDragStart:o,sectionNameForTracking:n8,sectionPosition:s,thumbWidth:a},e.name):null,[o,a]);return"loading"===s||null==t?(0,r.jsx)(ls,{styleXStyle:ln.justifyCenter,children:(0,r.jsx)(n1,{})}):0===t.length?(0,r.jsx)(ls,{styleXStyle:ln.justifyCenter,children:(0,r.jsx)(nV,{})}):(0,r.jsx)(lt,{children:(0,r.jsx)(ls,{styleXStyle:ln.my4,children:(0,r.jsx)(rS.Ay.Provider,{value:rS.W7.Block,children:(0,r.jsx)(nZ,{collections:t,assets:d,renderFlyoutListItem:c,renderFlyoutPageItem:c})},n)})})}function lt({children:e}){let{libraryKey:t,page:s}=n5(),{assetsScrollTop:i,handleScrollAssets:n}=ra({libraryKey:t,pageId:s.id});return(0,r.jsx)(nF.P,{hideScrollbar:!0,onScroll:n,initialScrollTop:i,children:e})}function ls({styleXStyle:e,children:t}){let{thumbWidth:s}=n5();return(0,r.jsx)("div",{...rj.Ay.props(e,ln.flyoutWrapper,ln.flyoutWrapperWidth(s)),children:t})}let lr={kbCHJM:"xgq9j65",kLqNvP:"",kt4wiu:"",$$css:!0},li={kzqmXN:"x5lhr3w",$$css:!0},ln={flyout:{kVAEAm:"x10l6tqk",kjj79g:"xl56j7k",k87sOh:"x13vifvy",krVfgx:"x1ey2m1c",k1xSpc:"x78zum5",kWkggS:"x1yjdb4r",km2aEK:"xspf3my",kWqL5O:null,k2ei4v:null,ke9TFa:null,kSWEuD:null,kVhnKS:null,k8ry5P:null,k26BEO:null,kGJrpR:null,kBCPoo:null,kMv6JI:"x1v78wtz",kmVPX3:"x9dr4nv",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kY2c9j:"xybi4ul",$$css:!0},flyoutPosition:e=>[lr,{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(var(--left-panel-width) + ${e?nD._+1:0}px)`)}],hidden:{k1xSpc:"x1s85apg",$$css:!0},flyoutWrapper:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",$$css:!0},my4:{keoZOQ:"x15r87gk",k1K539:"x1ah0xmj",$$css:!0},gap16:{kOIVth:"x1r05qx8",khm7nJ:null,k1C7PZ:null,$$css:!0},justifyCenter:{kjj79g:"xl56j7k",$$css:!0},flyoutWrapperWidth:e=>[li,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e+2*sT.$A+8)}]},ll=(0,G.eU)(null);var la=s(373547);let lo={width:"unset"},ld=[{name:"pages",url:(0,iB.ck)("99bf5f7ad969ea1167c7b09340ffc4486185e71a"),background:{light:"--ramp-blue-300",dark:"--ramp-pale-blue-600"},style:{...lo,filter:"drop-shadow(0px 2px 8px rgba(0, 49, 124, 0.10))"}},{name:"navigation",url:(0,iB.ck)("a84d6d275dd4af825b41cf6a782d8950a38ccf28"),background:{light:"--ramp-persimmon-300",dark:"--ramp-pale-persimmon-600"},style:{...lo,filter:"drop-shadow(0px 2px 6px rgba(185, 42, 0, 0.10))"}},{name:"heroes",url:(0,iB.ck)("2314584dee6e81eb3a90596302b184d88f6b00f3"),background:{light:"--ramp-pink-300",dark:"--ramp-pale-pink-600"},style:{...lo,filter:"0px 2px 6px 0px rgba(165, 0, 117, 0.10)"}},{name:"features",url:(0,iB.ck)("c9c8ec535fe73557c9729a00cebbffbdf6e3bd00"),background:{light:"--ramp-yellow-400",dark:"--ramp-pale-yellow-600"},style:{...lo,filter:"drop-shadow(0px 2px 6px rgba(197, 92, 0, 0.10))"}},{name:"embeds",url:(0,iB.ck)("b6ff5202c5344702953b4d618f6d06a362b63e1b"),background:{light:"--ramp-violet-400",dark:"--ramp-pale-violet-600"},style:{...lo,filter:"drop-shadow(0px 2px 8px rgba(51, 19, 179, 0.10))"}}],lc=(0,H.jz)(se.Sx),lu=(0,H.jz)(se.T5);function lp({library:e,previewHeight:t,cardWidth:s,keyboardSection:n,rowIndex:l,columnIndex:o=0,hideUnsubscribe:d,flyoutHandlers:c,isFolderView:u,folderVariant:p="preview"}){let{focusFirstItem:m,focusSearchBar:f}=(0,sn.rl)(),{navigateToLibrary:x}=(0,T.wV)(),_=(0,g.q5)(),b=(0,G.md)(ll),j=(0,eT.H)(e.libraryKey),[C]=(0,sl.MA)(),v=((0,y.GM)()()?sl.$H.LIST:C)===sl.$H.LIST,k=(0,si.sN)(),S=i.useCallback(()=>{k("libraryCard",x(e.libraryKey))},[e.libraryKey,k,x]),{currentView:w}=(0,T.wV)(),N=w!==T.S5.Libraries,{setKeyboardNavigationElement:E}=(0,W.M3)({path:[tZ.ON.CONTENTS,tZ.lM.LIBRARIES,n,l],column:o,id:e.libraryKey,disabled:N}),I=(0,sn.MB)({onBoth:S,onKeyDown:m,onClick:f}),M=i.useCallback(t=>{c?c.onClick(e.libraryKey):I(t)},[c,I,e.libraryKey]),A=i.useCallback(t=>c?.onMouseEnter?.(t,e.libraryKey),[c,e.libraryKey]),P=i.useCallback(t=>c?.onMouseLeave(t,e.libraryKey),[c,e.libraryKey]),O=i.useCallback(t=>c?.onMouseMove(t,e.libraryKey),[c,e.libraryKey]),R=i.useMemo(()=>{let t=e.libraryKey===_?.libraryKey?"localLibrary":e.libraryKey;return sh.Pt("assetsLibrary",t)},[e.libraryKey,_?.libraryKey]),D=function(e,t=!1){let s=(0,g.q5)(),r=(0,L.wA)(),n=e.libraryKey===s?.libraryKey,l=(0,eS._9)(e.libraryKey,"assets_panel_library_context_menu"),o=i.useCallback(()=>l(!1),[l]),d=function(){let e=(0,L.wA)(),t=(0,g.q5)(),s=(0,L.d4)(e=>e.teams),r=(0,L.d4)(eb.fA),n=i.useCallback(()=>{e(tF.to({type:iy.dD,data:{entrypoint:ib.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),l=t?.teamId&&s[t.teamId],a=i.useCallback(()=>{e(tF.to({type:ij.$3,data:{afterFileMove:n,team:l||null}}))},[e,n,l]);return i.useCallback(()=>{r?n():a()},[r,n,a])}(),c=(0,em.X)(e.libraryKey),u=(0,eA.b)({libraryKey:e.libraryKey}),p=u.data?.link,h=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.libraryKey,s]),m=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:c})},[e.libraryKey,s,c]),f=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0})},[e.libraryKey,s]);return i.useCallback(s=>{e.type!==tZ.yW.SITE&&(s.preventDefault(),s.stopPropagation(),r((0,i_.j7)({type:iC,data:{libraryHref:p,isLocalLibrary:n,partnerType:c,hideUnsubscribe:t,onGoToLibrary:h,onPublish:d,onUnsubscribe:o,onSendFeedback:m,position:{top:s.clientY,left:s.clientX}}})),f())},[e.type,r,p,n,c,t,h,d,o,m,f])}(e,d),F=!!(0,rw.dj)(e.libraryKey),K=function(e,t){let s="dark"===(0,la.DP)()?"dark":"light";return i.useMemo(()=>{if(!t)return;let r=ld.find(t=>t.name===e.toLowerCase()||e===(0,h.t)("design_systems.assets_panel.site_embeds")&&"embeds"===t.name);if(r)return{url:r.url,backgroundToken:`var(${r.background[s]})`,style:r.style}},[t,e,s])}(e.name,F||e.libraryKey===s5.Yl);return(0,r.jsx)(t5.GG,{"aria-label":e.name,className:u?"":"asset_panel_library--library--5bw5-",forwardedRef:E,onClick:M,onContextMenu:D,onMouseEnter:A,onMouseLeave:P,onMouseMove:O,recordingKey:R,style:{width:v||u?"100%":s},tabIndex:N?-1:0,children:u?(0,r.jsx)(sr,{keyPrefix:e.libraryKey,name:e.name,hoverable:!0,previewAssetOrUrl:K?.url??(e.thumbnailUrl||void 0),selected:b?.persisted&&b?.key===e.libraryKey,recordingKey:R||"assetsLibraryFolder",variant:p,customThumbnailData:K}):(0,r.jsx)(lh,{library:e,previewHeight:t,isList:v,showAuthor:j})})}function lh({library:e,previewHeight:t,isList:s,showAuthor:n}){let{thumbnailUrl:l}=e,[a,o]=i.useState(l),d=i.useMemo(()=>{if(a)return`url(${a})`},[a]),c=i.useCallback(()=>{o(l)},[l]),u=i.useMemo(()=>s?{height:lc,width:lu}:{height:t},[s,t]);return(0,r.jsxs)("div",{className:s?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e",children:[(0,r.jsxs)("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr",children:[(0,r.jsx)("div",{style:{backgroundImage:d,...u},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),l&&(0,r.jsx)(rO.oW,{src:l,onLoad:c,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})]}),(0,r.jsx)(lm,{library:e,isList:s,showAuthor:n})]})}function lm({library:e,isList:t,showAuthor:s}){let n=(0,G.md)(eT.Rs),l=e.type!==tZ.yW.SITE,a=i.useMemo(()=>e.type===tZ.yW.SITE?"":e.numComponents>0?(0,h.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents}):"",[e]),o=n?.[e.libraryKey]?.author_name||e.authorName;return(0,r.jsx)("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":l?"asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooterWithoutLibraryStats--FnrKN asset_panel_library--libraryFooter--jXcDc",children:(0,r.jsxs)("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T",children:[(0,r.jsxs)("div",{className:"asset_panel_library--nameAndIconForList--UCm5F",children:[(0,r.jsx)("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa",children:e.name}),(0,r.jsx)("div",{className:"asset_panel_library--libraryIcon--6s19b",children:(0,r.jsx)(sx.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"})})]}),l&&(0,r.jsx)("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa",children:s?(0,h.tx)("community.by_publisher",{publisher:o}):a})]})})}function lg(){return(0,r.jsxs)("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",children:[(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern0_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern1_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"#85C9E4"}),(0,r.jsxs)("g",{filter:"url(#filter0_dd_4378_11285)",children:[(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern2_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern3_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"#E5F4FF"}),(0,r.jsx)("g",{clipPath:"url(#clip0_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter1_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"40.8477",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M38.7913 22.7412L56.2288 40.1787M56.2288 22.7412L38.7913 40.1787M44.6973 22.46V40.46M47.5097 22.46V40.46M50.3225 22.46V40.46M56.51 28.6475L38.51 28.6475M56.51 31.4599L38.51 31.4599M56.51 34.2726L38.51 34.2726M53.135 31.46C53.135 34.5666 50.6166 37.085 47.51 37.085C44.4034 37.085 41.885 34.5666 41.885 31.46C41.885 28.3534 44.4034 25.835 47.51 25.835C50.6166 25.835 53.135 28.3534 53.135 31.46ZM50.3225 31.46C50.3225 33.0133 49.0633 34.2725 47.51 34.2725C45.9567 34.2725 44.6975 33.0133 44.6975 31.46C44.6975 29.9067 45.9567 28.6475 47.51 28.6475C49.0633 28.6475 50.3225 29.9067 50.3225 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M46.8393 29.3914H46.3369C46.0243 29.3914 45.8679 29.3914 45.7485 29.4522C45.6435 29.5057 45.5582 29.591 45.5047 29.6961C45.4438 29.8155 45.4438 29.9719 45.4438 30.2845V32.4054C45.4438 32.718 45.4438 32.8742 45.5047 32.9936C45.5582 33.0986 45.6435 33.1841 45.7485 33.2376C45.8678 33.2984 46.024 33.2984 46.336 33.2984H48.4587C48.7706 33.2984 48.9266 33.2984 49.0459 33.2376C49.1509 33.1841 49.2365 33.0985 49.2901 32.9935C49.3508 32.8742 49.3508 32.7182 49.3508 32.4062V31.903M49.6299 30.5077V29.1123M49.6299 29.1123H48.2345M49.6299 29.1123L47.6764 31.0658",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip1_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter2_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"55.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M53.6882 22.7412L71.1257 40.1787M71.1257 22.7412L53.6882 40.1787M59.5943 22.46V40.46M62.4066 22.46V40.46M65.2194 22.46V40.46M71.407 28.6475L53.407 28.6475M71.407 31.4599L53.407 31.4599M71.407 34.2726L53.407 34.2726M68.032 31.46C68.032 34.5666 65.5136 37.085 62.407 37.085C59.3004 37.085 56.782 34.5666 56.782 31.46C56.782 28.3534 59.3004 25.835 62.407 25.835C65.5136 25.835 68.032 28.3534 68.032 31.46ZM65.2195 31.46C65.2195 33.0133 63.9603 34.2725 62.407 34.2725C60.8537 34.2725 59.5945 33.0133 59.5945 31.46C59.5945 29.9067 60.8537 28.6475 62.407 28.6475C63.9603 28.6475 65.2195 29.9067 65.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M64.911 33.9649L63.704 32.758M63.704 32.758C64.1063 32.3557 64.3552 31.7999 64.3552 31.186C64.3552 29.9582 63.3599 28.9629 62.1321 28.9629C60.9043 28.9629 59.9089 29.9582 59.9089 31.186C59.9089 32.4138 60.9043 33.4091 62.1321 33.4091C62.746 33.4091 63.3017 33.1603 63.704 32.758Z",stroke:"#007BE5",strokeWidth:"0.555781",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip2_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter3_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"25.7964",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M23.7397 7.68945L41.1772 25.127M41.1772 7.68945L23.7397 25.127M29.6458 7.4082V25.4082M32.4582 7.4082V25.4082M35.2709 7.4082V25.4082M41.4585 13.5957L23.4585 13.5957M41.4585 16.4081L23.4585 16.4081M41.4585 19.2209L23.4585 19.2209M38.0835 16.4082C38.0835 19.5148 35.5651 22.0332 32.4585 22.0332C29.3519 22.0332 26.8335 19.5148 26.8335 16.4082C26.8335 13.3016 29.3519 10.7832 32.4585 10.7832C35.5651 10.7832 38.0835 13.3016 38.0835 16.4082ZM35.271 16.4082C35.271 17.9615 34.0118 19.2207 32.4585 19.2207C30.9052 19.2207 29.646 17.9615 29.646 16.4082C29.646 14.8549 30.9052 13.5957 32.4585 13.5957C34.0118 13.5957 35.271 14.8549 35.271 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M31.0159 13.8096C30.3787 13.8096 29.8621 14.3262 29.8621 14.9634V17.5596V17.848C29.8621 18.4852 30.3787 19.0019 31.0159 19.0019H33.9005C34.5377 19.0019 35.0544 18.4852 35.0544 17.848V17.5596V14.9634C35.0544 14.3262 34.5377 13.8096 33.9005 13.8096H31.0159ZM31.0159 14.3865H33.9005C34.2193 14.3865 34.4774 14.6447 34.4774 14.9634L34.4786 16.7507C34.2542 16.5424 34.0254 16.4121 33.7742 16.4057C33.7652 16.4054 33.7655 16.4057 33.7563 16.4057C33.4283 16.4057 33.0637 16.6578 32.8188 16.9737C32.7562 16.8324 32.693 16.6927 32.6203 16.5589C32.2799 15.9303 31.9081 15.5412 31.4486 15.5403C31.058 15.5395 30.7228 15.8588 30.4367 16.2961L30.439 14.9634C30.439 14.6447 30.6972 14.3865 31.0159 14.3865ZM33.6121 14.9634C33.4528 14.9634 33.3236 15.0926 33.3236 15.2519C33.3236 15.4111 33.4528 15.5403 33.6121 15.5403C33.7713 15.5403 33.9005 15.4111 33.9005 15.2519C33.9005 15.0926 33.7713 14.9634 33.6121 14.9634ZM31.4486 16.1173C31.6165 16.1175 31.8715 16.3789 32.1155 16.8295C32.2124 17.0077 32.2993 17.2042 32.3772 17.3974C32.4239 17.5128 32.4599 17.6011 32.4761 17.6496C32.5548 17.8852 32.8745 17.9187 32.9991 17.7038C33.0115 17.6824 33.034 17.6415 33.0712 17.5867C33.1335 17.4944 33.2045 17.4009 33.2786 17.3161C33.4638 17.1038 33.6423 16.9826 33.7563 16.9826C33.8714 16.9855 34.0491 17.1064 34.234 17.3161C34.309 17.4012 34.3782 17.4944 34.4414 17.5867C34.4613 17.6155 34.4642 17.6291 34.4774 17.6496V17.848C34.4774 18.1668 34.2193 18.4249 33.9005 18.4249H31.0159C30.6972 18.4249 30.439 18.1668 30.439 17.848V17.6046C30.4572 17.5532 30.4814 17.4924 30.52 17.3974C30.5988 17.2042 30.6842 17.008 30.7817 16.8295C31.0277 16.378 31.281 16.117 31.4486 16.1173Z",fill:"#007BE5"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip3_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter4_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"40.8477",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M38.7915 7.68945L56.229 25.127M56.229 7.68945L38.7915 25.127M44.6975 7.4082V25.4082M47.5099 7.4082V25.4082M50.3227 7.4082V25.4082M56.5103 13.5957L38.5103 13.5957M56.5103 16.4081L38.5103 16.4081M56.5103 19.2209L38.5103 19.2209M53.1353 16.4082C53.1353 19.5148 50.6169 22.0332 47.5103 22.0332C44.4037 22.0332 41.8853 19.5148 41.8853 16.4082C41.8853 13.3016 44.4037 10.7832 47.5103 10.7832C50.6169 10.7832 53.1353 13.3016 53.1353 16.4082ZM50.3228 16.4082C50.3228 17.9615 49.0636 19.2207 47.5103 19.2207C45.957 19.2207 44.6978 17.9615 44.6978 16.4082C44.6978 14.8549 45.957 13.5957 47.5103 13.5957C49.0636 13.5957 50.3228 14.8549 50.3228 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("g",{clipPath:"url(#clip4_4378_11285)",children:(0,r.jsx)("path",{d:"M47.6765 15.2739C47.0718 13.8547 44.9556 14.0058 44.9556 15.8198C44.9556 17.6338 47.6765 19.1454 47.6765 19.1454C47.6765 19.1454 50.3974 17.6338 50.3974 15.8198C50.3974 14.0058 48.2811 13.8547 47.6765 15.2739Z",stroke:"#007BE5",strokeWidth:"0.605407",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),(0,r.jsx)("g",{clipPath:"url(#clip5_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter5_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"55.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M53.6885 7.68945L71.126 25.127M71.126 7.68945L53.6885 25.127M59.5945 7.4082V25.4082M62.4069 7.4082V25.4082M65.2197 7.4082V25.4082M71.4072 13.5957L53.4072 13.5957M71.4072 16.4081L53.4072 16.4081M71.4072 19.2209L53.4072 19.2209M68.0322 16.4082C68.0322 19.5148 65.5138 22.0332 62.4072 22.0332C59.3006 22.0332 56.7822 19.5148 56.7822 16.4082C56.7822 13.3016 59.3006 10.7832 62.4072 10.7832C65.5138 10.7832 68.0322 13.3016 68.0322 16.4082ZM65.2197 16.4082C65.2197 17.9615 63.9605 19.2207 62.4072 19.2207C60.8539 19.2207 59.5947 17.9615 59.5947 16.4082C59.5947 14.8549 60.8539 13.5957 62.4072 13.5957C63.9605 13.5957 65.2197 14.8549 65.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M60.2761 16.3467V18.4809C60.2761 18.7755 60.515 19.0144 60.8097 19.0144H64.011C64.3056 19.0144 64.5445 18.7755 64.5445 18.4809V16.3467",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M60.8088 14.6122C60.8088 14.2439 61.1074 13.9453 61.4758 13.9453V13.9453C61.9914 13.9453 62.4095 14.3633 62.4095 14.879V15.2792H61.4758C61.1074 15.2792 60.8088 14.9806 60.8088 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M64.0107 14.6122C64.0107 14.2439 63.7121 13.9453 63.3438 13.9453V13.9453C62.8281 13.9453 62.4101 14.3633 62.4101 14.879V15.2792H63.3438C63.7121 15.2792 64.0107 14.9806 64.0107 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M60.009 15.2803H64.811V16.3474H60.009V15.2803Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M62.4099 16.3467V19.0144",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip6_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter6_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"25.7964",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M23.74 22.7412L41.1775 40.1787M41.1775 22.7412L23.74 40.1787M29.646 22.46V40.46M32.4584 22.46V40.46M35.2712 22.46V40.46M41.4587 28.6475L23.4587 28.6475M41.4587 31.4599L23.4587 31.4599M41.4587 34.2726L23.4587 34.2726M38.0837 31.46C38.0837 34.5666 35.5653 37.085 32.4587 37.085C29.3521 37.085 26.8337 34.5666 26.8337 31.46C26.8337 28.3534 29.3521 25.835 32.4587 25.835C35.5653 25.835 38.0837 28.3534 38.0837 31.46ZM35.2712 31.46C35.2712 33.0133 34.012 34.2725 32.4587 34.2725C30.9054 34.2725 29.6462 33.0133 29.6462 31.46C29.6462 29.9067 30.9054 28.6475 32.4587 28.6475C34.012 28.6475 35.2712 29.9067 35.2712 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M32.3423 28.5566C31.3514 28.5566 30.6687 29.2395 30.6687 30.2303C30.6687 30.3656 30.6687 30.7798 30.6687 30.7882C30.6687 30.878 30.6233 30.9391 30.4682 31.0671C30.4506 31.0816 30.3768 31.145 30.3549 31.1631C30.0019 31.4549 29.8282 31.7282 29.8318 32.1829C29.8356 32.6426 30.2103 33.0144 30.6687 33.0197H31.5546C31.5546 33.0197 31.5055 33.1902 31.5055 33.2987C31.5055 33.7609 31.8801 34.1355 32.3423 34.1355C32.8045 34.1355 33.1792 33.7609 33.1792 33.2987C33.1792 33.1902 33.1323 33.0197 33.1323 33.0197H34.016C34.4734 33.0214 34.8534 32.6446 34.8528 32.1829C34.8523 31.7316 34.6782 31.4535 34.3298 31.1631C34.3069 31.1438 34.226 31.0822 34.2076 31.0671C34.0559 30.9405 34.016 30.8769 34.016 30.7882C34.016 30.4395 34.016 30.2303 34.016 30.2303C34.016 29.2395 33.3331 28.5566 32.3423 28.5566ZM32.3423 29.1145C33.0252 29.1145 33.4581 29.5474 33.4581 30.2303C33.4581 30.2303 33.4581 30.4395 33.4581 30.7882C33.4581 31.0844 33.5831 31.2713 33.8503 31.4942C33.8715 31.5118 33.961 31.5821 33.9811 31.5988C34.2149 31.7938 34.2946 31.9257 34.2949 32.1829C34.2952 32.3346 34.1652 32.4624 34.016 32.4618C33.9633 32.4616 33.1513 32.4616 32.3423 32.4618C31.5335 32.4621 30.7279 32.4624 30.6687 32.4618C30.513 32.4599 30.391 32.3377 30.3897 32.1829C30.3877 31.9263 30.4674 31.7941 30.7035 31.5988C30.7228 31.5829 30.8053 31.5109 30.8256 31.4942C31.097 31.2699 31.2266 31.0872 31.2266 30.7882C31.2266 30.7798 31.2266 30.3656 31.2266 30.2303C31.2266 29.5474 31.6596 29.1145 32.3423 29.1145ZM32.3423 33.0197C32.4963 33.0197 32.6213 33.1447 32.6213 33.2987C32.6213 33.4527 32.4963 33.5776 32.3423 33.5776C32.1884 33.5776 32.0634 33.4527 32.0634 33.2987C32.0634 33.1447 32.1884 33.0197 32.3423 33.0197Z",fill:"#007BE5"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip7_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter7_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"10.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M8.68848 7.68945L26.126 25.127M26.126 7.68945L8.68848 25.127M14.5945 7.4082V25.4082M17.4069 7.4082V25.4082M20.2197 7.4082V25.4082M26.4072 13.5957L8.40723 13.5957M26.4072 16.4081L8.40723 16.4081M26.4072 19.2209L8.40723 19.2209M23.0322 16.4082C23.0322 19.5148 20.5138 22.0332 17.4072 22.0332C14.3006 22.0332 11.7822 19.5148 11.7822 16.4082C11.7822 13.3016 14.3006 10.7832 17.4072 10.7832C20.5138 10.7832 23.0322 13.3016 23.0322 16.4082ZM20.2197 16.4082C20.2197 17.9615 18.9605 19.2207 17.4072 19.2207C15.8539 19.2207 14.5947 17.9615 14.5947 16.4082C14.5947 14.8549 15.8539 13.5957 17.4072 13.5957C18.9605 13.5957 20.2197 14.8549 20.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M18.1308 16.0168L17.0145 17.1331L16.4564 16.5749M15.061 17.6354V16.143C15.061 15.9939 15.061 15.9193 15.0792 15.8499C15.0952 15.7884 15.1218 15.7302 15.1575 15.6776C15.1978 15.6183 15.2538 15.5691 15.366 15.4709L16.706 14.2984C16.914 14.1164 17.018 14.0253 17.1352 13.9907C17.2385 13.9601 17.3486 13.9601 17.4519 13.9907C17.5692 14.0254 17.6734 14.1165 17.8817 14.2988L19.2212 15.4709C19.3335 15.5691 19.3895 15.6183 19.4298 15.6776C19.4654 15.7302 19.4918 15.7884 19.5079 15.8499C19.526 15.9193 19.5262 15.9939 19.5262 16.143V17.6364C19.5262 17.9484 19.5262 18.1045 19.4654 18.2238C19.4119 18.3288 19.3263 18.4141 19.2212 18.4677C19.102 18.5284 18.946 18.5284 18.634 18.5284H15.9532C15.6412 18.5284 15.485 18.5284 15.3657 18.4677C15.2607 18.4141 15.1754 18.3288 15.1219 18.2238C15.061 18.1044 15.061 17.948 15.061 17.6354Z",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip8_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter8_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"10.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M8.68823 22.7412L26.1257 40.1787M26.1257 22.7412L8.68823 40.1787M14.5943 22.46V40.46M17.4066 22.46V40.46M20.2194 22.46V40.46M26.407 28.6475L8.40698 28.6475M26.407 31.4599L8.40698 31.4599M26.407 34.2726L8.40698 34.2726M23.032 31.46C23.032 34.5666 20.5136 37.085 17.407 37.085C14.3004 37.085 11.782 34.5666 11.782 31.46C11.782 28.3534 14.3004 25.835 17.407 25.835C20.5136 25.835 23.032 28.3534 23.032 31.46ZM20.2195 31.46C20.2195 33.0133 18.9603 34.2725 17.407 34.2725C15.8537 34.2725 14.5945 33.0133 14.5945 31.46C14.5945 29.9067 15.8537 28.6475 17.407 28.6475C18.9603 28.6475 20.2195 29.9067 20.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M17.2926 28.5586C15.752 28.5586 14.5032 29.8074 14.5032 31.348C14.5032 32.8886 15.752 34.1374 17.2926 34.1374C18.8332 34.1374 20.082 32.8886 20.082 31.348C20.082 29.8074 18.8332 28.5586 17.2926 28.5586ZM17.2926 29.1165C17.6608 29.1165 18.0653 29.9622 18.1269 31.0682L16.4616 31.0716C16.523 29.9656 16.9244 29.1165 17.2926 29.1165ZM16.3076 29.3405C16.0678 29.8071 15.9394 30.4258 15.9085 31.0696L15.0772 31.0671C15.1604 30.307 15.6722 29.6693 16.3076 29.3405ZM18.2789 29.3419C18.9144 29.6707 19.4131 30.2905 19.5093 31.0716L18.6784 31.0691C18.6522 30.3996 18.504 29.811 18.2789 29.3419ZM15.0789 31.6281L15.9099 31.6211C15.9408 32.2649 16.07 32.8942 16.3088 33.3558C15.6415 33.0214 15.1749 32.3667 15.0789 31.6281ZM16.4572 31.6303L18.1224 31.6267C18.0611 32.7324 17.6608 33.5795 17.2926 33.5795C16.9244 33.5795 16.5185 32.7363 16.4572 31.6303ZM18.6798 31.6275L19.5071 31.625C19.4112 32.3639 18.9448 33.0239 18.2778 33.3528C18.5255 32.8406 18.6488 32.2713 18.6798 31.6275Z",fill:"#007BE5"})]})})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"pattern0_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern1_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})}),(0,r.jsxs)("filter",{id:"filter0_dd_4378_11285",x:"4",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"0.25"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11285",result:"effect2_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsx)("pattern",{id:"pattern2_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern3_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})}),(0,r.jsxs)("filter",{id:"filter1_d_4378_11285",x:"4.51214",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter2_d_4378_11285",x:"19.4091",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter3_d_4378_11285",x:"-10.5394",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter4_d_4378_11285",x:"4.51239",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter5_d_4378_11285",x:"19.4094",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter6_d_4378_11285",x:"-10.5391",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter7_d_4378_11285",x:"-25.5906",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter8_d_4378_11285",x:"-25.5909",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsx)("clipPath",{id:"clip0_4378_11285",children:(0,r.jsx)("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip1_4378_11285",children:(0,r.jsx)("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip2_4378_11285",children:(0,r.jsx)("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip3_4378_11285",children:(0,r.jsx)("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip4_4378_11285",children:(0,r.jsx)("rect",{width:"7.25582",height:"7.25582",fill:"white",transform:"translate(44.0486 12.9473)"})}),(0,r.jsx)("clipPath",{id:"clip5_4378_11285",children:(0,r.jsx)("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip6_4378_11285",children:(0,r.jsx)("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip7_4378_11285",children:(0,r.jsx)("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip8_4378_11285",children:(0,r.jsx)("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})})]})]})}function lf(){return(0,r.jsxs)("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",children:[(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern0_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern1_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"#F8D4C4"}),(0,r.jsx)("g",{filter:"url(#filter0_dd_4378_11342)",children:(0,r.jsxs)("g",{clipPath:"url(#clip0_4378_11342)",children:[(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern2_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern3_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"#FFFBEB"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9114 27.9895C23.8542 28.1061 23.6358 28.1415 23.4926 28.1662C22.3258 28.3713 17.2683 28.4774 16.7815 28.0637C16.3556 27.7102 16.5918 21.933 17.007 21.6996C17.5439 21.385 23.3996 21.3249 23.8076 21.6466C24.1047 21.8906 24.2908 27.1727 23.9114 27.9895ZM23.7181 21.7208C23.3924 21.4521 17.6728 21.6537 17.1573 21.9012C16.8817 22.6295 16.7028 27.2046 16.9712 27.8551C17.4079 28.1521 22.7589 28.1415 23.6931 27.8551C24.0582 26.9889 23.9222 21.8906 23.7181 21.7208ZM38.1462 21.1021C38.2881 21.342 38.4798 21.5495 38.7086 21.7109C38.9375 21.8724 39.1984 21.9842 39.4741 22.0391C39.4825 22.0369 39.4914 22.0367 39.4999 22.0385C39.5085 22.0402 39.5165 22.0439 39.5234 22.0492C39.5303 22.0545 39.5359 22.0612 39.5397 22.069C39.5436 22.0767 39.5456 22.0852 39.5456 22.0939C39.5456 22.1025 39.5436 22.111 39.5397 22.1187C39.5359 22.1265 39.5303 22.1333 39.5234 22.1385C39.5165 22.1438 39.5085 22.1475 39.4999 22.1492C39.4914 22.151 39.4825 22.1508 39.4741 22.1487C38.8441 22.3113 38.0245 21.7456 38.0245 21.1233C38.0216 21.1074 38.0253 21.091 38.0347 21.0777C38.0441 21.0645 38.0585 21.0554 38.0746 21.0526C38.0907 21.0498 38.1073 21.0534 38.1208 21.0627C38.1342 21.072 38.1433 21.0862 38.1462 21.1021ZM41.0704 17.9378V18.2913C41.0704 18.3382 41.0516 18.3832 41.018 18.4163C40.9845 18.4495 40.9389 18.4681 40.8915 18.4681C40.8443 18.4672 40.7993 18.4483 40.7659 18.4153C40.7326 18.3824 40.7134 18.3379 40.7125 18.2913V17.9378C40.7125 17.8909 40.7314 17.8459 40.7649 17.8128C40.7985 17.7796 40.844 17.761 40.8915 17.761C40.9389 17.761 40.9845 17.7796 41.018 17.8128C41.0516 17.8459 41.0704 17.8909 41.0704 17.9378ZM37.5019 18.2736C37.5019 18.3205 37.4831 18.3655 37.4495 18.3986C37.4159 18.4318 37.3704 18.4504 37.3229 18.4504C37.2755 18.4504 37.23 18.4318 37.1964 18.3986C37.1628 18.3655 37.144 18.3205 37.144 18.2736V17.8352C37.144 17.7883 37.1628 17.7434 37.1964 17.7102C37.23 17.6771 37.2755 17.6584 37.3229 17.6584C37.3704 17.6584 37.4159 17.6771 37.4495 17.7102C37.4831 17.7434 37.5019 17.7883 37.5019 17.8352C37.5162 17.9873 37.5019 18.164 37.5019 18.2736Z",fill:"black"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7486 43.8508C16.7721 43.8114 16.8054 43.7785 16.8453 43.7553C17.1531 43.6068 18.8282 43.6811 19.1754 43.6952C19.1145 34.4214 24.0611 28.6371 31.2411 26.9789C32.5583 26.6749 32.5619 26.6536 32.5976 26.6749L32.841 26.0137C32.1538 25.9925 31.5919 25.4692 30.9619 25.5753C30.4859 25.6531 30.2461 26.0703 29.7772 26.2471C28.9826 26.544 27.5688 26.0879 27.1357 25.3419C26.9138 24.953 27.1106 24.55 26.971 24.2813C26.7205 24.0656 26.0082 23.7191 25.8042 23.4681C25.3854 22.9519 25.3675 21.7957 25.5572 21.1699C25.8997 20.4618 26.3662 19.819 26.9352 19.2713C27.5543 18.6821 28.1031 18.025 28.571 17.3126C29.1472 16.1777 29.1687 14.6079 29.6447 13.4234C30.1694 12.354 30.9817 11.4477 31.9928 10.8036C32.9802 10.1146 34.1708 9.76773 35.3787 9.81713C36.5062 9.88784 36.9465 10.3616 37.4726 10.5243C37.9988 10.6869 38.1097 10.5243 38.9652 10.8955C39.3048 11.0999 39.6073 11.3593 39.86 11.6627C39.9674 11.7759 39.9602 11.7829 40.1427 11.79C40.3393 11.7754 40.5367 11.7754 40.7333 11.79C41.0685 11.8635 41.389 11.9913 41.6818 12.1683C43.6755 13.3492 43.1386 15.7251 43.8902 17.4717C44.4021 18.6597 45.8266 19.8017 45.9483 21.0427C45.9914 21.6133 45.8672 22.1841 45.5904 22.6867C44.7206 24.1964 43.4715 23.012 42.8236 23.9348C42.6196 24.2247 42.4657 24.5075 42.0863 24.5641C41.6031 24.6277 40.9445 24.2494 40.5508 23.9701C40.4681 24.0654 40.3744 24.1508 40.2716 24.2247C39.9227 24.457 39.548 24.6492 39.1549 24.7975L40.064 26.0526C41.7677 25.8617 44.3842 26.4062 46.07 26.9188C46.1309 26.4945 46.6606 22.9908 47.0615 22.8211C47.6163 22.5806 53.4397 23.2489 53.7941 23.6272C54.0554 23.903 53.5865 29.1533 53.0782 29.9382C53.0031 30.0584 52.7454 30.062 52.6022 30.0655C53.4397 30.6312 54.2487 31.204 54.5386 31.4126C54.7641 30.6418 55.9488 26.5653 56.3855 25.897C56.5108 25.7026 56.6253 25.7061 57.2016 25.897C57.53 24.2782 57.9458 22.6778 58.4471 21.1028C58.2592 20.7975 58.109 20.4711 57.9997 20.1305C57.8663 19.591 57.8468 19.0301 57.9425 18.4829C57.5058 18.6278 54.8965 19.335 54.4741 19.1299C54.3607 19.0499 54.2766 18.9358 54.2343 18.8046C53.7726 17.8076 52.9816 14.4028 52.9207 13.3244C52.8957 13.1864 52.9197 13.044 52.9888 12.9214C53.4075 12.49 59.0413 10.8884 59.5173 11.1006C59.8073 11.2314 60.5911 13.7735 60.6734 14.074C61.3571 16.3403 61.0099 15.8418 61.3893 15.9726C61.826 16.1246 62.2018 17.0333 62.3557 17.454C62.5096 17.8748 62.6707 18.4405 62.4881 18.7728C62.5623 18.908 62.5921 19.0625 62.5735 19.2152C62.5549 19.3678 62.4888 19.5109 62.3843 19.6249C62.4982 19.7502 62.5724 19.9057 62.5978 20.0722C62.6232 20.2387 62.5988 20.4089 62.5275 20.5618C62.4237 20.8836 61.7759 21.0957 61.4537 21.1876C61.7081 21.8646 61.9196 22.5566 62.0873 23.2595C62.3728 24.3502 62.601 25.4548 62.7709 26.5688C62.8768 27.1101 62.9117 27.6627 62.8747 28.2128L63.4617 28.4745C63.4843 28.4847 63.5034 28.5012 63.5167 28.5219C63.5301 28.5426 63.5371 28.5666 63.5369 28.5912C63.5369 28.5912 63.4259 32.8763 61.9978 36.4366C60.2726 40.7465 57.4342 42.1891 53.114 40.5768C53.0751 40.9151 52.9908 41.2469 52.8635 41.5633C52.799 41.6764 52.5807 41.6976 52.434 41.7118C51.1633 41.7529 49.8913 41.7139 48.6256 41.5951L47.5518 48.3127C47.8418 49.14 51.1311 58.5659 51.0846 59.4428C51.0846 59.5347 51.0488 59.6054 50.8949 59.6761C49.9464 60.111 40.9588 61.2707 40.6188 60.3019C40.5329 60.065 40.3253 58.5553 40.2859 58.269L35.2284 57.7174L30.4071 58.0321C30.3552 58.5089 30.2691 58.9815 30.1494 59.4463C30.1065 59.5524 30.0564 59.609 29.9311 59.5983C29.455 59.5524 26.9173 59.0998 26.2158 58.969C23.5242 58.467 23.585 58.4245 23.6638 58.1629C23.8535 57.5442 25.6145 52.7181 26.3017 50.4659C25.2964 50.5719 24.2825 50.5719 23.2772 50.4659C23.2663 50.5042 23.2459 50.5391 23.2178 50.5676C23.1896 50.596 23.1547 50.617 23.1162 50.6285C22.4612 50.8654 16.609 50.5366 16.1294 50.0628C15.6963 49.6845 16.4229 44.3882 16.7486 43.8508ZM59.5102 11.2526C59.4708 11.1925 59.4851 11.1677 59.1702 11.2137C57.8566 11.3975 53.5614 12.7658 53.1892 13.0876C53.1176 13.8972 54.1806 18.3415 54.5994 18.8789C54.9037 18.9814 56.9224 18.4723 57.2338 18.391C59.6032 17.7793 59.5102 17.6838 60.0507 17.5601C60.3298 17.4646 60.3585 17.4611 60.3513 17.4222C60.3504 17.4135 60.3463 17.4053 60.3396 17.3995C60.333 17.3936 60.3244 17.3903 60.3155 17.3904C59.9934 17.3904 59.1308 17.3656 58.9196 17.1181C58.873 17.0678 58.8382 17.0079 58.8177 16.9428C58.7973 16.8776 58.7916 16.8088 58.8012 16.7413C58.8108 16.6737 58.8353 16.6091 58.8731 16.552C58.9109 16.4949 58.961 16.4468 59.0198 16.411C59.4798 16.229 59.9606 16.1031 60.4515 16.0362C60.5983 16.008 60.7772 15.9585 60.9562 15.9373C60.7092 14.8341 59.8932 11.8395 59.5102 11.2526ZM62.5848 28.0962V27.5482C62.5526 26.8764 62.2268 25.1121 62.1302 24.6277C61.9727 23.8428 61.9369 23.6661 61.4788 21.9619C61.4788 21.9159 61.2032 21.1558 61.2032 21.1558C61.1982 21.1426 61.1962 21.1285 61.1972 21.1145C61.1982 21.1004 61.2022 21.0868 61.209 21.0744C61.2158 21.062 61.2252 21.0512 61.2365 21.0427C61.2478 21.0342 61.2609 21.0281 61.2748 21.025C61.3141 21.025 62.2447 20.7987 62.3485 20.5052C62.4523 20.2118 62.4738 19.8582 62.2125 19.7027C62.2029 19.6958 62.1951 19.6867 62.1897 19.6763C62.1843 19.6658 62.1815 19.6543 62.1815 19.6426C62.1815 19.6308 62.1843 19.6193 62.1897 19.6088C62.1951 19.5984 62.2029 19.5893 62.2125 19.5825C62.3269 19.4897 62.4039 19.3595 62.4295 19.2155C62.4551 19.0716 62.4277 18.9233 62.3521 18.7976C62.2698 18.6314 62.7101 18.7127 62.1875 17.5212C62.055 17.2277 61.6076 16.3262 61.3034 16.2272C61.034 16.2012 60.7621 16.2313 60.5052 16.3156C60.0566 16.3854 59.6156 16.4966 59.188 16.6479C59.1609 16.6623 59.1374 16.6828 59.1195 16.7076C59.1016 16.7325 59.0898 16.7611 59.085 16.7912C59.0801 16.8213 59.0824 16.8521 59.0916 16.8813C59.1008 16.9104 59.1166 16.937 59.1379 16.959C59.2952 17.0471 59.4675 17.1058 59.6462 17.1323C60.7737 17.3515 60.5732 17.1075 60.72 17.4858C61.1507 17.4609 61.5813 17.5372 61.9763 17.7086C62.1302 17.7404 62.0658 17.8394 61.9548 17.8217C61.4753 17.6665 60.9624 17.6409 60.4694 17.7475C60.1834 17.7991 59.9038 17.8809 59.6355 17.9914C59.3921 18.0891 59.176 18.2431 59.0055 18.4405C58.9751 18.5153 58.9637 18.5963 58.9724 18.6765C58.9812 18.7566 59.0097 18.8334 59.0556 18.9001C59.1415 19.0309 59.5567 18.9425 59.7142 18.9001C59.929 18.8364 60.1545 18.7834 60.3656 18.7162C60.6627 18.6243 60.6305 18.5996 60.7236 18.6066C61.0518 18.6526 61.3729 18.7393 61.6792 18.8647C61.6879 18.8657 61.6962 18.8686 61.7036 18.8733C61.7109 18.8779 61.7171 18.8841 61.7216 18.8915C61.7262 18.8989 61.7289 18.9071 61.7297 18.9157C61.7305 18.9243 61.7293 18.9329 61.7263 18.941C61.7232 18.949 61.7183 18.9563 61.7119 18.9622C61.7055 18.9681 61.6979 18.9725 61.6896 18.975C61.6812 18.9775 61.6724 18.9781 61.6638 18.9768C61.6552 18.9755 61.647 18.9722 61.6398 18.9673C61.3657 18.8909 61.0855 18.8377 60.8023 18.8082C60.6412 18.8082 60.745 18.8082 60.3406 18.9673C60.158 19.0344 59.9826 19.0875 59.7894 19.1511C59.665 19.1932 59.5367 19.2228 59.4064 19.2395C59.1773 19.4516 59.0127 19.9466 59.3205 20.035C59.4414 20.0556 59.5658 20.0409 59.6784 19.9926C60.4981 19.7274 59.9433 19.5365 61.7222 19.8971C61.7367 19.8989 61.75 19.9061 61.7594 19.9173C61.7687 19.9285 61.7733 19.9428 61.7723 19.9572C61.7723 20.0492 61.7114 19.9926 60.7271 19.9572C60.6081 19.9454 60.4882 19.9454 60.3692 19.9572C60.0614 20.1128 59.6032 20.378 59.2489 20.2754C58.8158 20.1375 58.8301 19.6638 59.1093 19.3173C59.2095 19.1971 59.2203 19.2324 59.1344 19.2183C59.0715 19.2116 59.0108 19.1921 58.956 19.161C58.9012 19.13 58.8534 19.0881 58.8158 19.038C58.731 18.9225 58.6836 18.7843 58.6798 18.6417C58.676 18.4991 58.7159 18.3587 58.7943 18.2389L58.193 18.4157C58.074 18.9633 58.0838 19.5306 58.2216 20.0739C58.26 20.2065 58.3103 20.3355 58.372 20.4593C58.6333 21.0038 58.7299 21.0214 58.6977 21.124C58.2003 22.7215 57.7905 24.3443 57.47 25.9854C58.8194 26.4521 61.2927 27.5269 62.5848 28.0962ZM34.262 52.665C32.7301 52.7287 29.4371 52.8454 27.9267 52.7994C28.0305 53.2449 28.0949 53.5277 28.1128 53.5914C28.8323 53.5914 33.4817 52.7959 34.262 52.665ZM27.3469 52.4847C28.3061 52.7075 40.7584 52.2266 41.825 51.7776C41.714 50.9856 40.6689 46.5343 40.4577 45.6257C39.5183 45.9097 38.541 46.0528 37.5585 46.0499C37.2006 46.2338 36.61 46.552 36.2557 46.7182C36.295 47.0187 36.3917 47.7293 36.1769 47.9415C35.9622 48.1536 31.0192 49.9462 26.6847 50.4482C26.8595 51.1408 27.0808 51.8211 27.3469 52.4847ZM40.5723 43.9745C40.7371 43.9251 40.8895 43.842 41.0197 43.7306C41.1127 43.6316 41.0805 43.3311 41.0197 43.1896C40.9864 43.1209 40.9273 43.0676 40.855 43.0411C40.7676 43.0036 40.6745 42.9809 40.5794 42.974C40.551 42.9733 40.5234 42.9641 40.5005 42.9476C40.4775 42.931 40.4602 42.9079 40.4508 42.8814C40.4415 42.8549 40.4406 42.8262 40.4482 42.7991C40.4558 42.7721 40.4716 42.7479 40.4935 42.73C40.7029 42.5558 40.8487 42.3186 40.9087 42.0547C40.9087 41.8603 40.8335 41.6587 40.5186 41.4819C40.1606 41.5102 39.0869 42.3871 38.5893 41.8815C38.0918 41.3759 38.6788 40.1915 38.124 40.0925C37.5693 39.9935 37.2901 41.641 37.1934 41.8214C36.8713 42.4401 36.0051 42.882 35.5112 43.3912C35.8095 44.445 36.0484 45.5144 36.227 46.5944C36.9429 46.2161 37.4726 45.8873 37.5263 45.8873C38.2744 45.8625 40.2823 45.6575 40.8049 45.1307C40.8978 45.0598 40.9615 44.9578 40.9839 44.844C41.0063 44.7301 40.9859 44.6121 40.9266 44.512C40.8885 44.4455 40.8372 44.3874 40.7756 44.3412C40.7141 44.295 40.6437 44.2617 40.5687 44.2432C40.538 44.2358 40.5108 44.2184 40.4915 44.1937C40.4721 44.1691 40.4618 44.1387 40.4622 44.1075C40.4627 44.0763 40.4738 44.0462 40.4937 44.022C40.5137 43.9979 40.5414 43.9811 40.5723 43.9745ZM36.585 32.201C37.2499 32.1382 37.9179 32.1122 38.5858 32.1232C38.6717 32.1232 38.7433 32.1656 38.7683 32.247C38.8292 32.4732 39.8421 39.8273 39.8922 40.1879C40.107 36.6523 40.3289 32.9293 40.4935 30.1999C39.2479 32.1621 39.1406 32.3566 38.9437 32.2187C38.28 31.6795 37.6523 31.0985 37.0646 30.4792C36.9572 30.8716 36.7854 31.5116 36.585 32.201ZM33.3099 30.96C33.5533 30.6064 33.7931 30.2529 33.8826 30.1221L32.7265 27.2476L33.3099 30.96ZM32.476 26.9011C31.1222 27.1769 29.8022 27.5953 28.5388 28.1492C28.5924 28.3154 29.2832 30.4014 30.1101 32.8904C30.4895 32.8445 32.6621 32.5828 33.3314 32.5121L32.476 26.9011ZM33.9399 30.5145L33.3743 31.356L33.5533 32.4874L34.1081 32.4167C34.0258 31.6494 33.9685 30.9211 33.9399 30.5145ZM24.0575 34.2446C24.062 34.7049 24.1075 35.1639 24.1935 35.6164C25.4212 35.3053 36.1304 32.7031 37.2185 33.3147C37.7625 33.6258 39.5522 40.8809 39.724 41.535L39.8528 41.4713C39.2873 37.5433 38.5357 32.3919 38.5357 32.3778C37.3151 32.2399 25.5572 33.5551 24.0575 34.2446ZM30.3033 41.6375C31.1051 41.5845 34.2871 41.4289 34.9564 41.8673C35.0602 41.938 35.1031 41.9522 35.4718 43.2603C35.9478 42.7618 36.746 42.2916 37.0145 41.7365C37.1362 41.4925 37.333 39.7106 38.167 39.8485C39.2909 40.0359 37.8556 42.3234 39.5164 41.6163C39.409 41.1673 37.648 33.6789 37.1576 33.4031C36.1196 32.8197 24.7984 35.6659 23.3667 36.0654C23.449 36.9281 24.5013 41.5314 24.6946 42.3729C26.5483 42.0211 28.421 41.7755 30.3033 41.6375ZM35.8154 16.906C35.615 17.0404 35.6221 17.3621 35.6579 17.5954C35.9085 19.1759 37.512 20.134 38.6251 18.6208C38.8793 18.2672 39.0761 17.1429 38.9043 16.8954C38.7898 16.7504 37.8663 16.7434 37.6802 16.7434C37.3366 16.7469 35.9944 16.7999 35.8297 16.906H35.8154ZM40.0783 17.1606C40.0783 17.8253 40.3038 18.9284 40.9016 19.2466C41.8644 19.7416 42.8415 18.9567 42.8666 17.9349C42.9033 17.5618 42.8852 17.1855 42.8129 16.8176L42.7771 16.7999C42.8344 16.7009 40.3181 16.6691 40.0926 16.8919C40.085 16.9813 40.085 17.0712 40.0926 17.1606H40.0783ZM38.8327 24.8576C38.2135 25.0343 37.2149 24.9495 36.7353 24.4651C36.7252 24.4546 36.7196 24.4407 36.7196 24.4262C36.7196 24.4118 36.7252 24.3978 36.7353 24.3873C36.8176 24.2883 36.7353 24.4793 37.6659 24.6171C38.5965 24.755 39.1585 24.6171 40.0998 24.0126C40.5325 23.6199 40.8565 23.1246 41.0411 22.5736C41.4265 21.641 41.6679 20.6566 41.757 19.6532C41.4201 19.7077 41.0744 19.6518 40.7727 19.4941C40.4798 19.3249 40.2529 19.0634 40.1284 18.7516C40.2492 19.1252 40.3484 19.5053 40.4255 19.89C40.4423 19.9393 40.4448 19.9922 40.4328 20.0428C40.4208 20.0934 40.3947 20.1397 40.3575 20.1764C40.11 20.3259 39.8186 20.3882 39.5307 20.3532C39.5222 20.3554 39.5134 20.3556 39.5048 20.3538C39.4963 20.352 39.4883 20.3484 39.4814 20.3431C39.4745 20.3378 39.4689 20.331 39.4651 20.3233C39.4612 20.3155 39.4592 20.307 39.4592 20.2984C39.4592 20.2898 39.4612 20.2813 39.4651 20.2735C39.4689 20.2658 39.4745 20.259 39.4814 20.2537C39.4883 20.2484 39.4963 20.2448 39.5048 20.243C39.5134 20.2413 39.5222 20.2415 39.5307 20.2436C39.743 20.2203 39.948 20.1528 40.132 20.0456C40.2143 19.989 40.1785 20.0244 40.1535 19.9077C40.1284 19.7911 39.6631 18.1046 39.6381 17.9985C39.5271 17.9985 39.1048 17.9419 39.1048 17.8394C39.1048 17.7369 39.4412 17.7086 39.5665 17.7157C39.5665 17.6697 39.545 17.6308 39.5343 17.5954C39.5286 17.5814 39.5288 17.5657 39.5348 17.5517C39.5409 17.5378 39.5522 17.5268 39.5665 17.5212C39.5807 17.5156 39.5966 17.5158 39.6107 17.5217C39.6248 17.5277 39.636 17.539 39.6416 17.553C39.7669 17.7934 39.681 17.705 39.8492 17.7475C39.7847 17.4206 39.7847 17.0844 39.8492 16.7575C40.0533 16.4464 41.281 16.5171 41.6818 16.5418C41.4778 15.3574 40.6832 14.774 40.1964 13.8265C40.0601 13.6066 39.8783 13.4174 39.6631 13.2714C39.5557 13.2431 39.3446 13.5083 39.2157 13.5719C39.0869 13.6356 38.9652 13.9856 38.8578 14.1058C38.5202 14.4855 38.1311 14.8175 37.7017 15.0922C37.3438 15.3433 36.7854 15.3822 36.542 15.7039C36.4392 15.9775 36.3894 16.2677 36.3953 16.5595C36.857 16.5312 38.7826 16.5029 39.0117 16.8282C39.2193 17.0899 39.1298 18.2849 38.8256 18.7445C38.0596 19.89 36.882 19.9608 35.9622 18.9284C35.8633 18.8065 35.7792 18.6736 35.7116 18.5324C35.0244 19.5931 34.4839 20.2259 34.4589 21.4705C34.4302 23.0473 34.8812 25.6601 33.1524 25.989L32.8554 26.7986C34.2871 30.3554 34.2119 30.1327 34.2119 30.168C34.2119 30.2034 34.2799 31.2287 34.4052 32.4025C35.0924 32.3318 35.7331 32.2717 36.3022 32.2257C36.3451 32.0808 36.8785 30.2069 36.8677 30.168C36.814 29.9913 37.0825 29.6448 37.2901 29.3372C38.0686 28.2238 38.9186 27.1609 39.8349 26.1551L38.8327 24.8576ZM40.0926 26.2506C40.0318 26.3425 37.4547 29.1427 37.1397 30.1716C37.7188 30.8056 38.3445 31.3965 39.0117 31.9394C39.2515 31.6282 39.8994 30.6029 40.515 29.6448C40.6259 27.7956 40.7011 26.5087 40.719 26.24C40.5186 26.2258 40.2931 26.2364 40.107 26.2506H40.0926ZM52.8742 29.7862C53.2823 29.0791 53.8478 24.4828 53.7153 23.7757C53.7153 23.712 53.7153 23.6908 53.4147 23.6095C52.1333 23.2807 47.6377 22.9024 47.1653 23.0615C46.8074 23.7509 46.0235 28.2517 46.2096 28.9447C46.5747 29.2346 51.8219 29.9665 52.8885 29.7862H52.8742ZM52.6237 41.4183C53.0353 40.6193 53.3395 35.4962 53.1355 35.3017C52.8313 35.0118 47.1187 34.7643 46.5783 34.9729C46.2204 35.7154 45.7121 40.2763 45.9233 40.895C46.4101 41.2557 51.779 41.6092 52.638 41.4183H52.6237ZM44.4522 35.4926C44.1945 35.4255 42.3977 34.9729 42.1829 34.8456C42.029 34.7572 41.8536 35.0436 44.8638 26.8835C44.5059 26.5582 41.3776 26.141 40.8837 26.293C40.8837 26.4875 40.4148 34.7396 40.0461 41.3617C40.2215 41.2769 40.4756 41.1461 40.6367 41.2345C41.3096 41.588 41.3525 42.1749 40.855 42.7477C40.9479 42.7702 41.0342 42.8139 41.107 42.8753C41.1797 42.9367 41.2368 43.0141 41.2738 43.1012C41.3312 43.234 41.3556 43.3783 41.345 43.5222C41.3344 43.6661 41.2891 43.8055 41.2129 43.9286C41.1295 44.0075 41.0341 44.0731 40.9302 44.123C41.0371 44.1938 41.1215 44.2931 41.1736 44.4094C41.2205 44.5096 41.2484 44.6175 41.2559 44.7276L44.4522 35.4926ZM35.5434 57.4947L40.2179 58.0073C40.1964 57.8376 39.6703 53.7399 39.5021 52.3504C38.5285 52.4352 37.3545 52.5095 36.0982 52.5766C35.8906 55.1258 35.5255 56.8865 35.5577 57.4947H35.5434ZM35.2964 57.4664C35.2463 56.6603 35.9192 52.6191 35.9228 52.5837L35.5649 52.6014C34.3479 52.8241 31.2125 53.3722 30.8724 53.4287C30.7579 54.5672 30.4716 57.2189 30.4036 57.7634C35.7402 57.424 35.164 57.4522 35.3143 57.4664H35.2964ZM16.3048 49.9002C16.6627 50.183 21.9207 50.6568 23.0052 50.4235C23.424 49.6209 23.7211 44.5013 23.517 44.3069C23.2092 44.0134 17.4967 43.773 16.9634 43.9781C16.6269 44.717 16.1079 49.2956 16.3191 49.9002H16.3048Z",fill:"black"})]})}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"pattern0_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern1_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})}),(0,r.jsxs)("filter",{id:"filter0_dd_4378_11342",x:"3.99829",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11342"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"0.25"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11342",result:"effect2_dropShadow_4378_11342"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11342",result:"shape"})]}),(0,r.jsx)("pattern",{id:"pattern2_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern3_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})}),(0,r.jsx)("clipPath",{id:"clip0_4378_11342",children:(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"white"})}),(0,r.jsx)("image",{id:"image0_4378_11342",width:"1200",height:"687"}),(0,r.jsx)("image",{id:"image1_4378_11342",width:"1200",height:"600"})]})]})}function lx({type:e}){let{navigateToVisualAssets:t}=(0,T.wV)(),s=(0,si.sN)(),n=i.useCallback(e=>{s("visualAssetPacks",e)},[s]),l=i.useCallback(()=>{n(t(e))},[t,n,e]);return(0,r.jsx)("div",{className:"asset_panel_visual_asset_packs--assetPanelRow--zIB-D",children:(0,r.jsx)("button",{onClick:l,className:"asset_panel_visual_asset_packs--assetPackContainer--hci-7",children:(0,r.jsx)(l_,{type:e})})})}function l_({type:e}){let t=e===T.G3.IconSets?(0,r.jsx)(lg,{}):(0,r.jsx)(lf,{}),s=e===T.G3.IconSets?(0,h.t)("design_systems.assets_panel.icon_sets"):(0,h.t)("design_systems.assets_panel.illustrations");return(0,r.jsxs)("div",{className:"asset_panel_visual_asset_packs--assetPack--cBQV4",children:[t,(0,r.jsx)("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa",children:s})]})}let ly=(0,H.jz)(se.RU)+1,lb=(0,H.jz)(se.nT),lj=16/9;function lC({sidebarWidth:e,minCardWidth:t=180,previewPadding:s=ly,widthToHeightRatio:r=lj,rowPadding:n=lb}){let l=e-2*n,a=i.useMemo(()=>ro({elementMinSize:t,spaceAvailable:l,gap:0}),[t,l]),o=i.useMemo(()=>rd({numElements:a,spaceAvailable:l,gap:0}),[a,l]),d=i.useMemo(()=>o-2*s,[o,s]),c=i.useMemo(()=>rc({width:d,widthToHeightRatio:r}),[d,r]);return i.useMemo(()=>({cardWidth:o,previewWidth:d,previewHeight:c,numColumns:a}),[o,d,c,a])}let lv="asset_panel_libraries--row--nHi0j",lk="asset_panel_libraries--libraryPrimaryButton--hs6a7",lS=(0,H.jz)(se.YJ),lw=(0,H.jz)(se.RQ),lT=(0,H.jz)(se.ce),lN=(0,H.jz)(se.Kv),lE=(0,H.jz)(se.PK),lI=(0,H.jz)(se.vr),lM=(0,H.jz)(se.CT)+16;function lA({width:e,hideScrollbar:t,localAssets:s}){let{libraries:i,presets:n,siteLibraries:l,librariesForConnectedProject:a}=(0,nj.g)(),o=nO(),d=(0,G.md)(T.aK)===T.t6.Blocks;return o?(0,r.jsx)("div",{style:{width:e},children:(0,r.jsx)(no.od,{})}):d?(0,r.jsx)(lR,{siteLibraries:l,hideScrollbar:t,width:e}):(0,r.jsx)(lP,{localAssets:s,subscribedLibraries:i,librariesForConnectedProject:a,presetLibraries:n,hideScrollbar:t,width:e})}function lP({localAssets:e,subscribedLibraries:t,presetLibraries:s,librariesForConnectedProject:n,width:l,hideScrollbar:a}){let{librariesScrollTop:o,handleScrollLibraries:d}=ra(),c=!!(0,y.GM)()(),{currentView:u}=(0,T.wV)(),[p]=(0,sl.MA)(),m=(0,G.md)(ns),g=nn(),f=c?sl.$H.LIST:p,{cardWidth:x,previewHeight:b,numColumns:j}=lC({sidebarWidth:l}),C=f===sl.$H.GRID?j:1,v="grid"===f?lS+b+2:lN,k=t.length>0,S=e.numComponents+e.numTemplates>0,w=s.length>0,N=n.length>0,E=N&&(k||S),I=w&&(N||k||S),M=i.useMemo(()=>{let i=[];g&&(i.push({element:(0,r.jsx)(nl,{}),key:"asset_suggestions",height:m}),i.push({element:(0,r.jsx)(nL,{page:void 0}),key:"breadcrumb",height:lT}));let l=[];S&&l.push(e),k&&l.push(...t);for(let e=0;e<l.length;e+=C){let t=l.slice(e,e+C);i.push({element:(0,r.jsx)("div",{className:lv,children:t.map((t,s)=>(0,r.jsx)(lp,{library:t,keyboardSection:tZ.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:s,cardWidth:x,previewHeight:b},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}E&&(i.push({element:(0,r.jsx)(sd.cG,{}),key:"connected_project_divider",height:lw}),i.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.libraries_modal.connected_project_libraries")}),key:"connected_project_header",height:lT}));for(let e=0;e<n.length;e+=C){let t=n.slice(e,e+C);i.push({element:(0,r.jsx)("div",{className:lv,children:t.map((t,s)=>(0,r.jsx)(lp,{library:t,keyboardSection:tZ.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:s,cardWidth:x,previewHeight:b},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}I&&(i.push({element:(0,r.jsx)(sd.cG,{}),key:"presets_divider",height:lw}),i.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.ui_kits")}),key:"preset_libraries_header",height:lT}));for(let e=0;e<s.length;e+=C){let t=s.slice(e,e+C);i.push({element:(0,r.jsx)("div",{className:lv,children:t.map((t,s)=>(0,r.jsx)(lp,{library:t,keyboardSection:tZ.gP.PRESETS,rowIndex:e,columnIndex:s,cardWidth:x,previewHeight:b},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}return c&&(i.push({element:(0,r.jsx)(sd.cG,{}),key:"va_packs_divider",height:lw}),i.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.assets_from_community"),onboardingKey:_.Bs}),key:"visual_assets_header",height:lT}),i.push({element:(0,r.jsx)(lx,{type:T.G3.IconSets}),key:"visual_assets_icon_sets",height:lI}),i.push({element:(0,r.jsx)(lx,{type:T.G3.Illustrations}),key:"visual_assets_illustrations",height:lI})),i.push(c?{element:(0,r.jsx)(lL,{}),key:"browse_more_assets_button",height:lE}:{element:(0,r.jsx)(lO,{}),key:"add_more_libraries_button",height:lE}),i},[g,S,k,I,c,m,v,C,b,x,e,t,E,n,s]);return(0,r.jsx)(s1,{elements:M,hideScrollbar:a,initialScrollTop:o,onScroll:d,anchorScroll:u===T.S5.Libraries})}function lO(){let{onToggleLibraryModal:e}=(0,iR.u)({entrypoint:nd.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor",initialTab:ej.Wv.RECOMMENDED});return(0,r.jsx)("div",{className:lk,children:(0,r.jsx)(eY.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries",children:(0,h.tx)("design_systems.assets_panel.add_more_libraries")})})}function lL(){return(0,r.jsx)(tB.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"visual_assets_browse_more_assets_clicked",text:"Browse more assets"},to:new iL.$E({categorySlug:iO.LJ.icons}).to,className:lk,target:"_blank",children:(0,r.jsx)(eY.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets",children:(0,h.tx)("design_systems.assets_panel.browse_more_assets")})})}function lR({siteLibraries:e,width:t,hideScrollbar:s}){let{librariesScrollTop:n,handleScrollLibraries:l}=ra(),a=i.useRef(null),{cardWidth:o,previewHeight:d}=lC({sidebarWidth:t}),{libraryKeys:c}=(0,G.md)(rw.AS),u=c.length+1,{flyout:p,...h}=function(e,t){let s=(0,i.useRef)(new Map),n=(0,i.useRef)(null),l=(0,i.useRef)(null),[a,o]=(0,G.fp)(ll),d=a?.key,[c,u]=(0,i.useState)(!1),{setSafePolygon:p,isInSafePolygon:h,cursorXSpeedRef:m}=function(){let e=(0,i.useRef)(null),t=(0,i.useCallback)(t=>{e.current=t},[]),s=function(){let e=(0,i.useRef)(0),t=(0,i.useRef)(null),s=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=i=>{let n=i.clientX,l=i.timeStamp;if(t.current&&s.current){let r=t.current,i=l-s.current;i>0&&(e.current=(n-r)/i)}t.current=n,s.current=l,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e.current=0},50)};return document.addEventListener("mousemove",i),()=>{document.removeEventListener("mousemove",i),r.current&&clearTimeout(r.current)}},[]),e}();return{setSafePolygon:t,isInSafePolygon:(0,i.useCallback)(t=>!!e.current&&function(e,t){let[s,r]=e,i=!1,n=t.length;for(let e=0,l=n-1;e<n;l=e++){let[n,a]=t[e]||[0,0],[o,d]=t[l]||[0,0];a>=r!=d>=r&&s<=(o-n)*(r-a)/(d-a)+n&&(i=!i)}return i}(t,e.current)&&s.current>.1,[s]),cursorXSpeedRef:s}}(),g=(0,i.useRef)(null),f=i.useCallback(()=>{o(null),u(!1),p(null),n.current&&(clearTimeout(n.current),n.current=null)},[o,p]);(0,i.useEffect)(()=>{let t=t=>{let r=t.target;d&&s.current.get(d)?.contains(r)||e?.current?.contains(r)||f()};return document.addEventListener("pointerdown",t),()=>{document.removeEventListener("pointerdown",t)}},[e,f,d]);let x=(0,i.useCallback)((e,t)=>{if(g.current&&(clearTimeout(g.current),g.current=null),l.current=null,d===t){let r=s.current.get(t)?.getBoundingClientRect();r&&p([[e.clientX-1,e.clientY],[r.left,r.top],[r.left,r.bottom]])}else n.current&&(clearTimeout(n.current),n.current=null)},[d,p]),_=(0,i.useCallback)(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),y=i.useCallback(()=>p(null),[p]),b=i.useCallback(()=>null!==a&&(f(),!0),[a,f]);(0,nR.O1)(b,nR.KD.OVERLAY);let[j,C]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=[...t,s5.Yl];C((0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(n7,{hide:d!==e,onMouseEnter:y,onMouseLeave:_,libraryKey:e,ref:t=>s.current.set(e,t),onDragStart:c?void 0:f},e))}))},[t,d,x,f,y,_,c]),{flyout:j,onMouseEnter:(e,t)=>{if(l.current=t,!c&&!n.current){n.current=setTimeout(()=>{o({key:t,persisted:c})},200);return}if(!c){if(h([e.clientX,e.clientY]))return;o({key:t,persisted:c})}},onMouseLeave:x,onClick:e=>{if(e===d&&c){f();return}o({key:e,persisted:!0}),u(!0),p(null),n.current&&clearTimeout(n.current)},onMouseMove:(e,t)=>{g.current&&(clearTimeout(g.current),g.current=null),!c&&d&&d!==t&&(h([e.clientX,e.clientY])?(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{0===m.current&&o({key:t,persisted:c})},100)):o({key:t,persisted:c}))}}}(a,c),m=i.useMemo(()=>{if("disabled"!==e.status){let t=e.data??[];return 0===t.length?Array.from({length:u},(e,t)=>({element:(0,r.jsx)(sr,{keyPrefix:"blocks",name:"",recordingKey:"assetsLibrary.siteKitLoading",disabled:!1,variant:"preview-no-padding"}),key:`site kit loading-${t}`,keys:[`site kit loading-${t}`],height:lM})):t.map((e,t)=>({element:(0,r.jsx)(lp,{cardWidth:o,columnIndex:1,flyoutHandlers:h,folderVariant:"preview-no-padding",isFolderView:!0,keyboardSection:tZ.gP.SITE_KIT,library:e,previewHeight:d,rowIndex:t},e.libraryKey),key:e.libraryKey,keys:[e.libraryKey],height:lM}))}return[]},[e.status,e.data,u,d,o,h]);return(0,r.jsxs)("div",{ref:a,children:[(0,r.jsx)(s1,{elements:m,hideScrollbar:s,initialScrollTop:n,onScroll:l,anchorScroll:!0}),p]})}function lD({page:e,index:t}){let s=(0,si.sN)(),[n]=(0,sl.MA)(),{navigateToPage:l,libraryKey:o,currentView:d}=(0,T.wV)(),c=i.useCallback(()=>{s("pageRow",l(e.id))},[s,l,e.id]),u=e.id,p=d!==T.S5.Pages,{keyboardNavigationItem:h,setKeyboardNavigationElement:m}=(0,W.M3)({path:[tZ.ON.CONTENTS,tZ.lM.PAGES,t],id:e.id,disabled:p}),{focusFirstItem:f,focusSearchBar:x}=(0,sn.rl)();(0,sn.C0)(h,d===T.S5.Pages&&0===t);let _=(0,sn.MB)({onBoth:c,onKeyDown:f,onClick:x}),y=function(e,t){let s=(0,g.q5)(),r=(0,L.wA)(),n=e===s?.libraryKey,l=e&&!!t,o=(0,eA.b)({libraryKey:e,nodeId:t}),d=i.useMemo(()=>{if(o.data?.type==="team")return o.data.link},[o]),c=i.useCallback(()=>(0,iT.UN)().setCurrentPageAsync(t??""),[t]),u=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e??"",pageId:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,isLocal:n})},[n,e,s?.key,s?.parentOrgId,s?.teamId,t]),p=i.useCallback(()=>{c(),u()},[c,u]),h=i.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e??"",pageId:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0})},[e,s?.key,s?.parentOrgId,s?.teamId,t]),m=(0,eO.fd)(e);return i.useCallback(e=>{l&&!m&&(e.preventDefault(),e.stopPropagation(),r((0,i_.j7)({type:iN,data:{libraryPageHref:d,pageId:t,isLocalLibrary:n,onClickLocalPage:p,onClickSubscribedPage:u,position:{top:e.clientY,left:e.clientX}}})),h())},[l,m,r,d,t,n,p,u,h])}(o,e.id),b=i.useMemo(()=>"list"===n?"icon":"preview",[n]),j={pageId:e.id,libraryKey:o||""};return(0,r.jsx)(sr,{ref:m,disabled:p,keyPrefix:u,name:e.name,onClick:_,onContextMenu:y,pageInfo:j,previewAssetOrUrl:e.previewAsset,recordingKey:`assetsPage.${e.id}`,variant:b})}var lF=s(698266);let lK="performance.ds_eco.asset_panel_pages_view_loading",lB=new lF.jk(lK,{});function lG({didFinishLoading:e}){let t=lB.stop();(0,a.sx)(lK,{elapsedMs:t,isNewAssetPanelFetch:!0,didFinishLoading:e},{forwardToDatadog:!0})}var lH=s(708669);let lz=(0,H.jz)(se.Mj),lV=(0,H.jz)(se.$c),lU=(0,H.jz)(se.d5),lW=2*lz,l$=(0,H.jz)(se.Kd),lY=(0,H.jz)(se.y4),lX=(0,H.jz)(se.Gd),lq=(0,H.jz)(se.xP);function lJ({page:e,thumbWidth:t,thumbHeight:s,row:n,column:l}){let a=(0,si.sN)(),{navigateToPage:o,currentView:d}=(0,T.wV)(),c=i.useCallback(()=>{a("pageRow",o(e.id))},[a,o,e.id]),u=d!==T.S5.Pages,{keyboardNavigationItem:h,setKeyboardNavigationElement:m}=(0,W.M3)({path:[tZ.ON.CONTENTS,tZ.lM.PAGES,n],column:l,id:e.id,disabled:u}),{focusFirstItem:g,focusSearchBar:f}=(0,sn.rl)();(0,sn.C0)(h,d===T.S5.Pages&&0===n&&0===l);let x=(0,sn.MB)({onBoth:c,onKeyDown:g,onClick:f}),{widthForCentering:_,textRef:y,iconRef:b}=function(e){let[t,s]=i.useState(void 0),r=i.useCallback(e=>s(e?.scrollWidth),[]),[n,l]=i.useState(void 0);return{textRef:r,iconRef:i.useCallback(e=>l(e?.scrollWidth),[]),widthForCentering:i.useMemo(()=>t&&n?Math.max(Math.min(e-(t+n)-1,n),0):-1,[n,t,e])}}(t),j=(0,tZ.AZ)(e)?e.embeds[0]?.thumbnail_url:e.previewAsset;return(0,r.jsxs)(t3.E,{className:"site_kit_pages--tile--GWdsc",onClick:x,ref:m,"aria-label":e.name,disabled:u,children:[j?(0,r.jsx)(t6.V,{previewAssetOrUrl:j,type:"no-padding",height:s,width:t,keyPrefix:e.id}):(0,r.jsx)("div",{className:t9,style:{height:s,width:t}}),(0,r.jsx)("div",{className:p.s.flex.flexColumn.itemsCenter.wFull.$,style:{width:t},children:(0,r.jsxs)("span",{className:"site_kit_pages--pageName--ARhz3 site_kit_pages--text--gyBIU",children:[_>0&&(0,r.jsx)("div",{className:p.s.flexShrink0.$,style:{width:_}}),(0,r.jsx)(rC.G,{text:e.name,ref:y}),(0,r.jsx)("div",{className:"site_kit_pages--chevron--MPDzd",ref:b,children:(0,r.jsx)(lH.k,{})})]})})]})}let lZ=(0,H.jz)(se.RQ),lQ=(0,H.jz)(se._q),l0=(0,H.jz)(se.HE);function l1({library:e,width:t,hideScrollbar:s,isLoading:n}){!function({isLoading:e}){let{currentView:t}=(0,T.wV)(),s=(0,eU.ZC)(t);i.useEffect(()=>(s===T.S5.Libraries&&t===T.S5.Pages&&lB.start(),t===T.S5.Pages&&!e&&lB.isRunning&&lG({didFinishLoading:!0}),()=>{s===T.S5.Pages&&t!==T.S5.Pages&&lB.isRunning&&lG({didFinishLoading:!1})}),[e,t,s])}({isLoading:n});let[l]=(0,sl.MA)(),{pagesScrollTop:a,handleScrollPages:o}=ra({libraryKey:e?.libraryKey}),d=i.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,eO.fd)(e?.libraryKey),{thumbWidth:u,thumbHeight:p,numColumns:h}=function(){let{width:e}=sB(),t=i.useMemo(()=>e-lW,[e]),s=Math.max(Math.min(3,ro({elementMinSize:98,gap:l$,spaceAvailable:t})),2),r=rd({numElements:s,gap:l$,spaceAvailable:t})-2*lX;return{thumbWidth:r,thumbHeight:r,numColumns:s}}(),m=i.useMemo(()=>{if(e?.type===tZ.yW.SITE&&"grid"===l)return function(e,t,s,i){let n=Array.from(e.pages),l=[],a=s+2*lX+lY+lq;for(let e=0;e<n.length;e+=i){let o=0===e?"site_kit_pages--virtualRowFirst--pNAgS site_kit_pages--virtualRow--F7pf9":"site_kit_pages--virtualRow--F7pf9",d=n.slice(e,e+i),c=[],u=d.map(([e])=>e);d.forEach(([i,n],l)=>{n&&c.push((0,r.jsx)(lJ,{page:n,row:e,column:l,thumbWidth:t,thumbHeight:s},i))}),l.push({element:(0,r.jsx)("div",{className:o,style:{gap:l$},role:"row",children:c}),key:u.join("-"),keys:u,height:a+(0===e?0:lz)})}return l.length>0&&(l.unshift({element:(0,r.jsx)(sd.hK,{height:lV}),key:"spacer-top",height:lV}),l.push({element:(0,r.jsx)(sd.hK,{height:lU}),key:"spacer-bottom",height:lU})),l}(e,u,p,h);let t=[];return d.forEach(([e,s],i)=>{t.push({element:(0,r.jsx)(lD,{page:s,index:i}),height:"list"===l?l0:lQ,key:e}),0===i&&(0,eh.dS)(s.name,{isPreset:c})&&t.push({element:(0,r.jsx)(sd.cG,{}),key:"examples_divider",height:lZ})}),t},[e,l,d,u,p,h,c]);return n?(0,r.jsx)("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner",children:(0,r.jsx)(ez.k,{})}):0===d.length?(0,r.jsx)("div",{style:{width:t}}):(0,r.jsx)(s1,{elements:m,hideScrollbar:s,initialScrollTop:a,onScroll:o})}var l3=s(518016),l2=s.n(l3),l4=s(336989);function l5(){let e=rw.ce().data?.assetsByLibraryKey,t=i.useMemo(()=>e?[...e.values()].flat():[],[e]),s=i.useMemo(()=>(0,s6.u)(),[]),r=(0,l4.o)(ej.PW.RESPONSIVE_SET),n=(0,G.md)(rU),l=(0,el.TA)(),a=i.useMemo(()=>{if(!l)return[];let e=[...r,...n].filter(e=>e.lastAddedAtUserId[l]);return(0,s3.hR)(e,e=>-(e.lastAddedAtUserId[l]??0)),e},[r,n,l]);return i.useMemo(()=>{let e=l2()(t??[],"key"),r=l2()(s,"name");return a.map(t=>"key"in t?e[t.key]:r[t.name]).filter(R.Gh)},[a,t,s])}function l6(){let{productComponents:e}=(0,iz.g5)(eC.$A.Design),t=l5(),{getLibrary:s}=(0,so.G)(),[n]=(0,sl.MA)(),l="list"===n,a=i.useCallback(e=>{let t=s(e);return t?.name||""},[s]),o=ry(),{props:d,numColumns:c}=i.useMemo(()=>rb(o,n,t1.rp.NORMAL),[o,n]),{componentSectionNameForTracking:u}=(0,si.zf)(),p=e.length>0,m=t.length>0;return(0,r.jsxs)(sd.xU,{children:[m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.site_blocks")}),(0,r.jsx)("div",{className:l?i8:i7,children:t.map((e,t)=>"embed"===e.type?(0,r.jsx)(rV,{embed:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,sn.pg)([tZ.tM.SITE_KIT],t,c),thumbHeight:d.thumbHeight,thumbWidth:d.thumbWidth,libraryName:(0,h.t)("design_systems.assets_panel.site_blocks.embeds")},e.name):(0,r.jsx)(rN,{asset:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,sn.pg)([tZ.tM.SITE_KIT],t,c),thumbHeight:d.thumbHeight,thumbWidth:d.thumbWidth,libraryName:a(e.sourceLibraryKey)},`assetPanelRecents:siteKit:${(0,et.V)(e)}`))})]}),m&&p&&(0,r.jsx)("div",{className:"asset_panel_recents--buffer--URYGQ"}),p&&(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),(0,r.jsx)("div",{className:l?i8:i7,children:e.map((e,t)=>(0,r.jsx)(sD,{asset:e,fileName:a(e.library_key),sectionNameForTracking:u,sectionPosition:t,keyboardPosition:(0,sn.pg)([tZ.tM.COMPONENTS],t,c),...d},`assetPanelRecents:component:${(0,et.V)(e)}`))})]}),(0,r.jsx)("div",{className:"asset_panel_recents--bottomPadding--9BTkl"})]})}var l7=s(276800),l8=s(12866),l9=s(851824),ae=s(880233),at=s(67154),as=s(243690),ar=s(182019);let ai=function({isLoading:e,children:t}){return e?(0,r.jsx)("div",{className:"maybe_loading--loadingContainer--Wfq03",children:(0,r.jsx)(ez.k,{})}):(0,r.jsx)(r.Fragment,{children:t})},an=new(s(150156)).KH({keys:[{name:"name",weight:.6},{name:"containingFrame.name",weight:.1},{name:"containingFrame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0});function al(){var e;let t=(0,nP.lg)()===ea._Y.SITES,s=(0,rw.ce)(),r=s.data?.assetsByLibraryKey,n=i.useMemo(()=>(0,s6.u)(),[]),l=i.useMemo(()=>{let e=r?[...r?.values()].flat():[];return e?[...e,...n]:void 0},[r,n]),{query:a,searchOption:o}=(0,sy.I)(sb.Cn.AssetsPanel),c=t&&o&&[sv.I.SITE_KIT,sv.I.ALL].includes(o?.type),u=(0,tz.$)(l),p=(0,eU.ZC)(a),[h,m]=i.useState([]),[g,f]=i.useState(!1);return i.useLayoutEffect(()=>{(async function(){if(u&&an.set(l??[]),!a||0===an.list().length){m([]);return}p||f(!0);let e=[];try{e=(await an.search(a)).map(e=>e.item)}catch(e){(0,iG.x1)(tO.e.DESIGN_SYSTEMS_ECOSYSTEM,"error in site kit search",{message:e.message},{reportAsSentryError:!0})}m(e),f(!1)})()},[l,p,a,u]),e=h.length,i.useEffect(()=>{(0,rv.hw)(e)},[e]),(0,d.h)(()=>()=>(0,rv.hw)(0)),{results:c?h:[],loading:g,query:a}}let aa="asset_panel_search_results--empty--72Hqc",ao=(0,H.jz)(se.ce),ad=(0,H.jz)(se.GH),ac=(0,H.jz)(se.RX),au="Search keywords and filter results by specific libraries, templates, and components.",ap=({moreResults:e,query:t,showMoreDefault:s})=>{let n=!!(0,y.GM)()(),[l,a]=i.useState(!1),o=s||l||n,d=i.useCallback(()=>a(!0),[]);i.useEffect(()=>a(!1),[t]);let{visualAssetsType:c}=(0,T.wV)(),u=n&&!!c,p=i.useMemo(()=>e.map(e=>e.library_key),[e]),{data:m}=(0,as.U)(p),g=i.useCallback(e=>m?.[e.library_key]??"",[m]),[f]=(0,sl.MA)(),x=ry(),{props:_,numColumns:b}=i.useMemo(()=>rb(x,f,t1.rp.NORMAL),[x,f]),{componentSectionNameForTracking:j}=(0,si.zf)({moreSearchResults:!0}),C=i.useMemo(()=>s0(e,b,"components:moreResults",_,j,[tZ.tM.COMPONENTS,1],{getFileName:g}),[e,b,_,j,g]);return i.useMemo(()=>{if(0===e.length)return[];let t=[];return u||t.push({element:(0,r.jsxs)("div",{className:n?"asset_panel_search_results--visualAssetsShowMoreText--sxfrf asset_panel_search_results--visualAssetsShowMore--MJbt7":"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j",children:[o&&(0,h.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&(0,r.jsx)("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:d,children:(0,h.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length})})]}),key:"components:showMoreText",height:n?ac:ad}),o&&t.push(...C),t},[e.length,o,d,C,u,n])};function ah({components:e,moreComponents:t,siteKitAssets:s,query:n,getLibraryNameFromKey:l}){let a=ay(e),o=ay(t),d=a.length+o.length>0,c=s.length>0,u=i.useCallback(e=>l(e.library_key),[l]),[p]=(0,sl.MA)(),m=ry(),{props:g,numColumns:f}=i.useMemo(()=>rb(m,p,t1.rp.NORMAL),[m,p]),{componentSectionNameForTracking:x}=(0,si.zf)(),_=i.useMemo(()=>s0(a,f,"components",g,x,[tZ.tM.COMPONENTS,0],{getFileName:u}),[a,f,g,x,u]),y=ap({moreResults:o,query:n,showMoreDefault:0===a.length&&o.length>0}),[b,j]=(0,i.useState)(!1),[C,v]=(0,i.useState)(!1),k=(0,rw.r6)(s),S=i.useMemo(()=>r4(s,f,g.thumbWidth,g.thumbHeight,p,"assets","Site kit search results",[tZ.tM.SITE_KIT],{libraryNameForAsset:k}),[p,f,g.thumbHeight,g.thumbWidth,k,s]),w=i.useMemo(()=>{let e=[];return c&&(e.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.site_blocks"),numResults:s.length,toggleExpanded:()=>j(e=>!e),isExpanded:!b,collapsible:!0}),key:"sitesHeader",height:ao}),b||e.push(...S)),d&&(c&&e.push({element:(0,r.jsx)(sd.X3,{title:(0,h.t)("design_systems.assets_panel.dropdown_type_all_libraries"),numResults:a.length,toggleExpanded:()=>v(e=>!e),isExpanded:!C,collapsible:!0}),key:"componentsHeader",height:ao}),C||(e.push(..._),e.push(...y))),e},[c,d,s.length,b,S,C,a.length,_,y]);return(0,r.jsx)(s1,{elements:w,anchorScroll:!0})}function am(){return(0,T._m)()?(0,r.jsx)(af,{}):(0,r.jsx)(ag,{})}function ag(){let{query:e,results:t,isLoading:s}=(0,sy.I)(sb.Cn.AssetsPanel),{normalizedSearchResults:n,unsubscribedSearchResults:l}=t,a=al(),o=(0,ar.U)(),{libraryKey:d}=(0,T.wV)(),{getLibrary:c}=(0,so.G)(),u=i.useMemo(()=>n.map(e=>e.library_key),[n]),{data:p,status:m}=(0,as.U)(u),g=ax(e),f="loading"===m,x=f&&g,_=i.useCallback(e=>p?.[e]??c(e)?.name??"",[p,c]),y=i.useMemo(()=>d?c(d)?.name:void 0,[c,d]),[,b]=i.useMemo(()=>(0,rv._2)(n.filter(e=>_(e.library_key))),[n,_]),[,j]=i.useMemo(()=>(0,rv._2)(l),[l]),C=b.length+j.length>0,v=a.results.length>0,k=x||s||o||a.loading;return a_({query:e,isLoading:k,isLoadingBreakdown:{isLibraryNamesLoadingWithTimeout:x,isSearchLoading:s,isSubscribedComponentsLoading:o},additionalLogData:{isLibraryNamesLoading:f,isLibraryNamesLoadingTimerActive:g}}),e?(0,r.jsx)(ai,{isLoading:k,children:C||v?(0,r.jsx)(ah,{components:b,moreComponents:j,siteKitAssets:a.results,query:e,getLibraryNameFromKey:_}):(0,r.jsx)("div",{className:aa,children:y?(0,h.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:y}):(0,h.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e})})}):(0,r.jsx)("div",{className:aa,children:au})}function af(){let{results:e,loading:t,query:s}=al(),{libraryKey:n}=(0,T.wV)(),[l]=(0,sl.MA)(),{getLibrary:a}=(0,so.G)(),o=i.useMemo(()=>n?a(n)?.name:void 0,[a,n]),{width:d}=sB(),{tileHeight:c,tileWidth:u,numColumns:p}=function(e){let[t]=(0,sl.MA)(),s=e-rp,r=Math.min(i.useMemo(()=>ro({elementMinSize:120,gap:ru,spaceAvailable:s}),[s]),3),n=i.useMemo(()=>rd({numElements:r,gap:ru,spaceAvailable:s}),[r,s]),l=i.useMemo(()=>rc({width:n,widthToHeightRatio:1,maxHeight:void 0}),[n]);return"list"===t?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:n,tileHeight:l,numColumns:r}}(d),m=i.useMemo(()=>r4(e,p,u,c,l,"assets","Site kit search results",[tZ.tM.COMPONENTS],{includesFirstTile:!0}),[l,p,e,c,u]);return s?(0,r.jsx)(ai,{isLoading:t,children:e.length>0?(0,r.jsx)(s1,{elements:m,anchorScroll:!0}):(0,r.jsx)("div",{className:aa,children:(0,h.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:s,libraryName:o})})}):(0,r.jsx)("div",{className:aa,children:au})}let ax=e=>{let t=(0,eU.ZC)(e),{isActive:s,start:r}=(0,at.Z)(l7.lQ);return i.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),s},a_=({isLoading:e,isLoadingBreakdown:t,additionalLogData:s,query:r})=>{let n=(0,eU.ZC)(e),l=(0,eU.ZC)(r),[o,d]=i.useState(null),c=(0,el.iZ)(),u=(0,l8.DP)().version,p=(0,eg.tM)("assets-panel"),h=(0,eU.ZC)(p),m=(0,f.je)(),x=(0,L.d4)(e=>e.fileVersion),_=(0,L.d4)(e=>e.loadingState),y=(0,g.q5)(),b=y?.key,j=(0,tJ.oh)(ae.fi),C=i.useCallback(r=>{if(!o)return;let i=Date.now()-o;if(i<5e3)return;let n=m.data?.map(e=>{let t=e_.Mb(e.libraryKey);return{libraryKey:e.libraryKey,isLoading:!tJ.D2(_,t)}}),l=y&&null!=x&&(0,tQ.yD)(y.key)||null,d=!(null!=l&&(0,tJ.D2)(_,l));a.az.trackDefinedEvent("assets_panel.search_long_loading",{...t,...s,fileKey:b,userId:c?.id,uiThemeVersion:u,queryId:p??h??void 0,loadingTimeMS:i,isLoading:e,queryCancelled:r,isLoadingSubscribedComponentsAndStateGroups:d,isLoadingRecentlyUsedItems:j,subscribedLibariesLoading:JSON.stringify(n)})},[m,x,_,y,o,e,t,j,b,s,c?.id,u,p,h]),v=(0,l9.A)(C,100,{leading:!0,trailing:!1}),k=i.useRef(C);i.useEffect(()=>{k.current=C},[C]);let{start:S,cancel:w}=(0,at.Z)(()=>v(!1)),T=i.useCallback(()=>{C(!0),d(Date.now()),S(5e3)},[C,S]);i.useEffect(()=>{e&&!n?T():!e&&n&&(w(),C(!1),d(null))},[e,n,T,C,w]),i.useEffect(()=>{r!==l&&T()},[r,l,T]),i.useEffect(()=>()=>{k.current(!0)},[])};function ay(e){let{visualAssetsType:t}=(0,T.wV)(),s=!!(0,y.GM)()(),r=(0,G.md)(eT.QN),n=(0,G.md)(eT.r9),l=s&&!!t;return i.useMemo(()=>l?e.filter(e=>e.hub_file_id&&(t===T.G3.IconSets?r.includes(e.library_key):n.includes(e.library_key))):e,[l,e,t,r,n])}var ab=s(964068);function aj({libraryKey:e,numComponents:t,size:s}){let{focusSearchBar:n}=(0,sn.rl)(),{navigateToLibrary:l}=(0,T.wV)(),a=(0,si.sN)(),o=i.useCallback(()=>{a("visualAssetMoreTile",l(e))},[e,a,l]),d=i.useCallback(e=>{e.stopPropagation(),o(),n()},[n,o]),c=t-11,u=c>=1e3?(c/1e3).toFixed(1)+"k":c.toString();return(0,r.jsx)("button",{onClick:d,className:"asset_panel_visual_asset_more_tile--tile--r9fF-",style:{width:s,height:s},children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_more_tile--moreText--QNS99 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:["+",u]})})}function aC({libraryKey:e,sectionIndex:t}){let{width:s}=sB(),n=(0,G.md)(eT.Rs),{getLibrary:l}=(0,so.G)(),a=l(e),o=a?.type===tZ.yW.DESIGN?a.numComponents:0,d=i.useMemo(()=>{if(a?.type===tZ.yW.DESIGN)return Array.from(a.pages.values())},[a]),c=[];if(d?.[0]?.components&&a?.libraryKey){let e=n?.[a?.libraryKey]?.asset_panel_component_ids||[];if(e.length>=11){let t=[];d.forEach(s=>{if(s.components){let r=rs(s.components).filter(t=>"component_key"in t&&e.includes(t.component_key||""));t.push(...r)}});let s=t.reduce((e,t)=>("component_key"in t&&t.component_key&&(e[t.component_key||""]=t),e),{});c=e.map(e=>s[e]).filter(e=>!!e)}else c=rs(d[0].components).slice(0,11)}let u=(0,t1.PI)(c,!0),p=(s-24-24)/4,h={showName:!1,noBackground:!0};return c.length?(0,r.jsx)("div",{className:"asset_panel_visual_asset_components--container--qLYh4",children:[0,1,2].map(s=>(0,r.jsxs)("div",{className:"asset_panel_visual_asset_components--row--leYBr",children:[c.slice(4*s,(s+1)*4).map((e,i)=>(0,r.jsx)(sD,{asset:e,disableClickPropagation:!0,displayType:"grid",fileName:void 0,hideInlineName:!0,isFirstTile:!1,isVisualAsset:!0,keyboardPosition:{path:[t,s],column:i},libraryItemTileProps:h,sectionDepth:i,sectionNameForTracking:"Visual assets panel",sectionPosition:s*i,sourceForTracking:"visual-assets-panel",thumbHeight:p,thumbLayout:u,thumbWidth:p,viewMode:eS.Bk.Grid},`$visualAssetsPanel:component:${(0,et.V)(e)}`)),2===s&&(0,r.jsx)(aj,{libraryKey:e,numComponents:o,size:p})]},s))}):null}function av({library:e,sectionIndex:t}){let{navigateToLibrary:s}=(0,T.wV)(),n=(0,g.q5)(),[a,o]=i.useState(!1),d=(0,si.sN)(),c=i.useCallback(()=>{d("visualAssetLibraryCard",s(e.libraryKey))},[e,d,s]),u=i.useMemo(()=>{let t=e.libraryKey===n?.libraryKey?"localLibrary":e.libraryKey;return sh.Pt("assetsLibrary",t)},[e.libraryKey,n?.libraryKey]);return(0,r.jsx)(t5.GG,{className:l()("asset_panel_visual_asset_library--library--ta4FR",{"asset_panel_visual_asset_library--hovered--r37Mn":a}),"aria-label":e.name,onClick:c,style:{width:"100%"},recordingKey:u,children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--libraryCard--ljr--",children:[(0,r.jsx)(aC,{libraryKey:e.libraryKey,sectionIndex:t}),(0,r.jsx)(ak,{library:e,setHovered:o})]})})}function ak({library:e,setHovered:t}){let s=(0,G.md)(eT.Rs),i=s?.[e.libraryKey]?.author_name||e.authorName;return(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryFooter--WtYtC",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--libraryNameAndAuthor---pya2",children:[(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--nameAndIconForList--Opwld",children:[(0,r.jsx)("h3",{className:"asset_panel_visual_asset_library--libraryName--y8FNs ellipsis--ellipsis--Tjyfa",children:e.name}),(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryIcon--FWTh-",children:(0,r.jsx)(sx.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"})})]}),i&&(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryStats--NtW2u ellipsis--ellipsis--Tjyfa",children:(0,h.tx)("community.by_publisher",{publisher:i})})]})})}var aS=s(364275);function aw({width:e}){let{visualAssetsType:t}=(0,T.wV)(),s=(0,eU.qd)(t),i=t??s,[n]=(0,sl.MA)(),a="list"===n,o=(0,ab.lY)(),d=o.length>0,c=(0,G.md)(eT.QN),u=(0,G.md)(eT.r9),{cardWidth:p,previewHeight:h}=lC({sidebarWidth:e}),m=o.filter(e=>i===T.G3.IconSets?c.includes(e.library_key):u.includes(e.library_key));return(0,r.jsxs)(sd.xU,{children:[d&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:l()("asset_panel_visual_assets--list--APKhG",{"asset_panel_visual_assets--gridGap--DCeF2":!a}),children:m.map((e,t)=>{let s=(0,aS.x)(e);return a?(0,r.jsx)(lp,{library:s,keyboardSection:tZ.gP.VISUAL_ASSETS,rowIndex:t,columnIndex:0,cardWidth:p,previewHeight:h,hideUnsubscribe:!0},e.library_file_key):(0,r.jsx)(av,{library:s,sectionIndex:t},e.library_file_key)})})}),(0,r.jsx)("div",{className:"asset_panel_visual_assets--bottomPadding--OULyc"})]})}var aT=s(159348);let aN=(e,t,s)=>e===T.S5.Libraries?0:s?e===T.S5.VisualAssets?1:e===T.S5.Pages||t?2:3:e===T.S5.Pages||t?1:2;function aE({assetPanelItemsByLibraryKey:e,width:t}){let{libraryKey:s,pageId:n,currentView:l,isNavigatingVisualAssets:o}=(0,T.wV)(),{previousLibraryKey:d}=(0,T.RR)(),c=aI(),u=!!(0,y.GM)()(),{getPage:p,getLibrary:h}=(0,so.G)(),m=(0,ar.q)()(s);(function(e){let t=(0,L.d4)(e=>e.loadingState),s=(0,L.d4)(e=>e.fileVersion),r=(0,g.q5)(),n=(0,ew.k)(),l=r&&null!=s&&(0,tQ.yD)(r.key)||null,o=!(null!=l&&(0,tJ.D2)(t,l));i.useEffect(()=>{o||function(e,t,s){if(t0)return;let{numLibraries:r,numComponents:i,numComponentsWithLimit:n}=e();(0,a.sx)("Assets Panel Initial Load",{numLibraries:r,numComponents:i,numComponentsWithLimit:n,assetsPanelVersion:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0}),t0=!0}(e,n,r)},[e,o,r,n])})(i.useCallback(()=>{let t=0,s=0,r=0,{allLibrariesUnsorted:i}=e;for(let[n,l]of i)if(l.type===tZ.yW.DESIGN){if(e.localAssets.libraryKey===n){l.numComponents>=0&&(t+=1);continue}t+=1,s+=l.numComponents,r+=Math.min(l.numComponents,20)}return{numLibraries:t,numComponents:s,numComponentsWithLimit:r}},[e])),aM(),function(){let e=(0,L.wA)(),t=i.useRef(!1),s=(0,L.d4)(e=>e.loadingState),r=(0,tY.n1)(),n=(0,eU.qd)(r),l=(0,G.md)(eo.fy7.Query({group:(0,t$.M)()})),a=(0,f.je)();i.useEffect(()=>{if(!t.current&&!0===r&&!1===n&&"loaded"===l.status){t.current=!0;let e=new Set(a?.data?.map(e=>e.libraryKey)??[]);for(let t of l?.data?.libraryPresetSubscriptionsV2??[]){let s=(0,tV.l)((0,tU.oA)(t.libraryKey)??"");s&&e.has(s)&&(0,tW.n)({libraryKey:s})}}},[e,r,n,s,l,a])}();let x=i.useMemo(()=>h(s??d),[h,s,d]),_=i.useMemo(()=>p(s,n),[p,s,n]),b=aN(l,c,u&&o),{libraries:j,presets:C,librariesForConnectedProject:v}=(0,nj.g)(),{localAssets:k}=e;return!function(e,t,s,r){let n=(0,g.q5)(),[l,o]=(0,G.fp)(aT.GT),d=t.length+s.length+r.length;e.numComponents+e.numTemplates>0&&(d+=1),i.useEffect(()=>{if(!l){o(!0);let e=aT._o.stop();e&&(0,a.sx)(aT.YS,{elapsedMs:e,fileKey:n?.key,teamId:n?.teamId,orgId:n?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:d,numComponents:0,numComponentsShown:0,numSectionsShown:d},{forwardToDatadog:!0})}},[l,o,d,n])}(k,j,C,v),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(iP,{}),l===T.S5.Search?(0,r.jsx)(am,{}):l===T.S5.Recents?(0,r.jsx)(l6,{}):(0,r.jsxs)(r5,{index:b,width:t,children:[(0,r.jsx)(lA,{width:t,hideScrollbar:0!==b,localAssets:k}),u&&o&&(0,r.jsx)(aw,{width:t}),!c&&(0,r.jsx)(l1,{library:x,width:t,isLoading:m,hideScrollbar:1!==b}),(0,r.jsx)(it,{page:_,width:t})]})]})}let aI=()=>{let{getLibrary:e}=(0,so.G)(),{libraryKey:t}=(0,T.wV)(),s=(0,ar.q)()(t),r=e(t);return!!r&&!s&&!!(0,T.Cg)(r)},aM=()=>{let{libraryKey:e}=(0,T.wV)(),t=(0,tX.R)(),s=(0,tz.$)(e),r=(0,eO.fd)(e);i.useEffect(()=>{r&&s&&t({updateSource:"ui3_library_expand"})},[s,r,t])};var aA=s(224781),aP=s(902892),aO=s(299986),aL=s(997477),aR=s(85598),aD=s(539607),aF=s(167151),aK=s(144949),aB=s(476816),aG=s(695777),aH=s(681398),az=s(789263);function aV({libraryName:e}){let t=(0,L.wA)(),{currentView:s,startSearch:n,onBack:l,libraryKey:o,visualAssetsType:d}=(0,T.wV)(),c=s===T.S5.Search,p=(0,T._m)(),m=(0,nP.cJ)(),{inputRef:f,focusSearchBar:x}=(0,sn.rl)(),_=(0,u.b)(),y=(0,L.d4)(e=>e.leftPanel.shouldFocusSearchBar)||_,{query:b,setQuery:j,setSearchOption:C}=(0,sy.I)(sb.Cn.AssetsPanel),v=(0,g._G)(),k=i.useCallback(()=>{c&&l()},[c,l]),S=i.useMemo(()=>o?o===v?{type:sv.I.LOCAL}:p?{type:sv.I.SITE_KIT}:{type:sv.I.FILE,libraryKey:o}:{type:sv.I.ALL},[p,o,v]),w=i.useCallback(e=>{j(e),C(S),""===e?k():c||n()},[j,C,S,k,c,n]),N=i.useRef(void 0),E=(0,eN.Nv)(!0);i.useEffect(()=>{c&&(b&&N.current!==o&&(a.az.trackDefinedEvent("asset_search.misc_feature_usage",{aiResultsEnabled:E,entryPoint:"asset-panel",featureSlug:"library-filter-usage"}),C(S)),N.current=o)},[t,c,b,S,E,C,o]);let I=i.useCallback(()=>{""===b&&k()},[k,b]),M=i.useCallback(()=>{w(""),x(),k()},[w,x,k]),A=(0,L.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);i.useEffect(()=>{let e=e=>{(aH.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===V.Uz.KEY_2:e.altKey&&e.keyCode===V.Uz.KEY_2)&&A!==eV.m1T.TEXT&&(x(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[A,x]);let P=i.useMemo(()=>e?(0,h.t)("design_systems.assets_panel.search_library"):m?(0,h.t)("design_systems.assets_panel.search_all_sites_inserts"):d?d===T.G3.IconSets?(0,h.t)("design_systems.assets_panel.search_all_icon_sets"):(0,h.t)("design_systems.assets_panel.search_all_illustrations"):(0,h.t)("design_systems.assets_panel.search_all_libraries"),[e,d,m]);return(0,r.jsxs)("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k",children:[(0,r.jsx)("div",{children:(0,r.jsx)(aB.h,{})}),(0,r.jsx)(az.E1,{autofocus:y,column:tZ.Wy.SEARCH,entryPointForTracking:"editor:assets_panel",forwardedRef:f,isNewAssetsPanel:!0,isVisible:!0,onBlur:I,onChange:w,onClearSearch:M,onFocus:l7.lQ,path:[tZ.ON.HEADER,tZ.my.SEARCH_AND_FILTER],placeholder:P,query:b,recordingKey:"componentsLibrarySearch",selectOnFocus:!0})]})}function aU({library:e}){let{navigateToTop:t}=(0,T.wV)(),{focusSearchBar:s}=(0,sn.rl)(),n=(0,si.sN)(),l=i.useCallback(()=>{n("searchFilterChip",t()),s()},[s,n,t]),{setKeyboardNavigationElement:a}=(0,W.M3)({path:[tZ.ON.HEADER,tZ.my.LIBRARY_SEARCH_CHIP]});return e?(0,r.jsx)(aK.v,{"aria-label":(0,h.t)("design_systems.assets_panel.search_chip_label"),hasCloseButton:!0,onClose:l,recordingKey:"asset-panel-search-chip",ref:a,htmlAttributes:{"data-testid":"asset-panel-search-chip"},children:e.name}):null}function aW({visualAssetsType:e}){let{navigateToTop:t}=(0,T.wV)(),{focusSearchBar:s}=(0,sn.rl)(),n=(0,si.sN)(),l=i.useCallback(()=>{n("visualAssetsSearchFilterChip",t()),s()},[s,n,t]),{setKeyboardNavigationElement:a}=(0,W.M3)({path:[tZ.ON.HEADER,tZ.my.LIBRARY_SEARCH_CHIP]});return e?(0,r.jsxs)("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-visual-assets-search-chip",children:[(0,r.jsx)("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa",children:e===T.G3.IconSets?(0,h.tx)("design_systems.assets_panel.icon_sets"):(0,h.tx)("design_systems.assets_panel.illustrations")}),(0,r.jsx)(t3.E,{className:"asset_panel_search--libraryChipRemove--kJiJn",onClick:l,recordingKey:"asset-panel-visual-assets-search-chip",ref:a,children:(0,r.jsx)(aG.f,{})})]}):null}var a$=s(240803),aY=s(454851),aX=s(995639),aq=s(814982),aJ=s(560566),aZ=s(543206),aQ=s(140008),a0=s(869141);let a1="assets-panel-settings";function a3({includeFolderSetting:e=!0}){let t=i.useRef(null),{setKeyboardNavigationElement:s}=(0,W.M3)({path:[tZ.ON.HEADER,tZ.my.SEARCH_AND_FILTER],column:tZ.Wy.SETTINGS}),n=(0,g.tS)(),l=(0,nm.Um)(),o=l?.type===a1,d=(0,L.wA)(),c=i.useCallback(()=>{o?d((0,i_.oB)()):(d((0,i_.j7)({type:a1,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),a.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:n??void 0,assetsPanelVersion:3}))},[d,n,o]),u=i.useMemo(()=>{if(o)return l.data?.position},[l?.data?.position,o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a$.o,{eventListeners:o?["onMouseDown"]:[],children:(0,r.jsx)(aY.d,{onClick:c,"aria-expanded":o,ref:(0,aQ.Ay)(t,s),"aria-label":(0,h.t)("design_systems.assets_panel.settings_label"),"aria-haspopup":"listbox",htmlAttributes:{"data-testid":"asset-panel-settings-button"},children:(0,r.jsx)(aX.A,{})})}),o&&(0,r.jsx)(a2,{position:u,includeFolderSetting:e,buttonRef:t})]})}function a2({position:e,includeFolderSetting:t,buttonRef:s}){let n=(0,L.wA)(),o=i.useCallback(()=>{n((0,i_.oB)())},[n]),d=(0,si.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c}=(0,iz.g5)(eC.$A.Design),u=l5(),[m]=(0,sl.ye)(),{currentView:f,libraryKey:x}=(0,T.wV)(),{getLibrary:_}=(0,so.G)(),b=(0,g.tS)(),j=(0,g._G)(),[C]=(0,sl.MA)(),v=!!(0,y.GM)()()&&f===T.S5.Libraries,k=v?sl.$H.LIST:C,S=(0,nP.cJ)()||v,w=i.useMemo(()=>f!==T.S5.Search&&(c.length>0||u.length>0),[f,c.length,u.length]),N=i.useMemo(()=>b&&j?_(j):void 0,[_,b,j]),E=N?.type===tZ.yW.DESIGN&&(N.numComponents>0||N.numTemplates>0),{libraries:I,presets:M,librariesForConnectedProject:A}=(0,nj.g)(),{goToLibrary:P,goToAll:O,goToRecents:R,changeAssetsView:D,toggleShowFolders:F}=function(e){let t=(0,g.q5)(),s=(0,si.sN)(),{navigateToLibrary:r,navigateToTop:n,navigateToRecents:l}=(0,T.wV)(),{setLastNavAction:o}=(0,rn.ZX)(),[,d]=(0,sl.MA)(),[,c]=(0,sl.ye)(),{focusSearchBar:u}=(0,sn.rl)(),p=(0,G.Xr)(T.aK),h=i.useCallback(e=>{s("settingsMenu",e)},[s]),m=i.useCallback(e=>{h(r(e)),u(),p(T.t6.Libraries)},[u,r,p,h]),f=i.useCallback(()=>{h(n()),u()},[u,n,h]),x=i.useCallback(()=>{h(l()),u()},[u,l,h]),_=i.useCallback(()=>e.current?.focus(),[e]),y=i.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),d(e),o(rn.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,d,o]),b=(0,sn.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>_}),j=i.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:m,goToAll:f,goToRecents:x,changeAssetsView:b,toggleShowFolders:(0,sn.NR)({onBoth:e=>()=>j(e),onKeyDown:()=>_})}}(s),K=i.useMemo(()=>{let e=[];return e.push(a4({text:(0,h.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:f===T.S5.Libraries||f===T.S5.Search&&!x,onClick:O})),w&&e.push(a4({text:(0,h.t)("design_systems.assets_panel.dropdown_type_recents"),checked:f===T.S5.Recents&&c.length>0,onClick:R})),E&&e.push(a4({text:N.name,checked:f!==T.S5.Recents&&x===N.libraryKey,onClick:()=>P(N.libraryKey)})),(I.length>0||M.length>0)&&e.push((0,r.jsx)(ig.wv,{})),e.push(...I.map(({name:e,libraryKey:t})=>a4({text:e,isApproved:(0,a0.sF)(t),checked:f!==T.S5.Recents&&x===t,onClick:()=>P(t)}))),e.push(...M.map(({name:e,libraryKey:t})=>a4({text:e,isApproved:(0,a0.sF)(t),isPreset:!0,checked:f!==T.S5.Recents&&x===t,onClick:()=>P(t)}))),A.length>0&&(e.push((0,r.jsx)(ig.wv,{})),e.push((0,r.jsx)("div",{className:l()(p.s.textBodyMedium.$,"asset_panel_settings--optionSubtitle--9d2Ib"),children:(0,h.t)("design_systems.libraries_modal.connected_project_libraries")})),e.push(...A.map(({name:e,libraryKey:t})=>a4({text:e,isApproved:(0,a0.sF)(t),checked:f!==T.S5.Recents&&x===t,onClick:()=>P(t)})))),e.push((0,r.jsx)(ig.wv,{})),S||(e.push(a4({text:(0,h.t)("design_systems.assets_panel.view_toggle_grid"),checked:k===sl.$H.GRID,onClick:D(sl.$H.GRID),icon:(0,r.jsx)(aq.t,{})})),e.push(a4({text:(0,h.t)("design_systems.assets_panel.view_toggle_list"),checked:k===sl.$H.LIST,onClick:D(sl.$H.LIST),icon:(0,r.jsx)(aJ.Z,{})}))),t&&e.push(a4({text:(0,h.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:m,onClick:F(!m),icon:(0,r.jsx)(aZ.e,{})})),e},[f,x,O,w,E,I,M,A,t,c.length,R,N,P,k,D,m,F,S]),B=i.useMemo(()=>({...e,maxHeight:d}),[d,e]);return rM.createPortal((0,r.jsx)(ig.X3,{className:l()(nh.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:B,id:a1,hideDropdown:o,autofocusPrevElementOnEsc:!0,children:K}),document.body)}function a4({text:e,isApproved:t,isPreset:s,checked:i,onClick:n,icon:l}){return(0,r.jsx)(ig.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!i,onClick:n,children:(0,r.jsxs)("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X",children:[(0,r.jsx)("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa",children:l?(0,r.jsxs)("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm",children:[l,(0,r.jsx)("span",{children:e})]}):e}),(0,r.jsx)("div",{className:"asset_panel_settings--optionRightIcon--zi-2v",children:t?(0,r.jsx)(ee.FX,{}):s?(0,r.jsx)("div",{className:p.s.ml2.$,children:(0,r.jsx)(eP.E,{libraryKey:void 0})}):null})]})},e)}var a5=s(11165),a6=s(186437),a7=s(71905),a8=s(674524),a9=s(171660),oe=s(113985),ot=s(835307),os=s(25870),or=s(271899),oi=s(946847),on=s(288971),ol=s(38119),oa=s(659639),oo=s(712242),od=s(132078);let oc="visual_search_assets_panel";function ou({onDismiss:e}){let[t,s]=i.useState(!1),{width:n}=sB(),l=Math.min(.7*n,240),a=(0,L.d4)(sj.vD),o=(0,ot.Fk)((e,t)=>{let s=e.get(t);return s?.name},a),{getConfig:d}=(0,aL.I7)("assets_panel_visual_search"),c="component_filter"===d().get("variant","control"),u=i.useCallback(()=>{a&&((0,on.$I)({moduleToOpen:{type:"custom",module:(0,eN.P5)()?(0,r.jsx)(ol.z6,{initialSearchTagType:c?oa.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):(0,r.jsx)(oo.WS,{}),beforeModuleOpen:()=>(0,oo.jp)(oe.G4.ASSETS_PANEL_VISUAL_SEARCH),name:oi.Sn.VISUAL_SEARCH},trackingData:{source:oe.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e())},[a,e,c]),p=i.useCallback(t=>{(0,on.$I)({moduleToOpen:{type:"custom",module:(0,eN.P5)()?(0,r.jsx)(ol.z6,{initialSearchTagType:c?oa.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):(0,r.jsx)(oo.WS,{}),beforeModuleOpen:()=>(0,oo.qF)(oe.G4.ASSETS_PANEL_VISUAL_SEARCH,t),name:oi.Sn.VISUAL_SEARCH},trackingData:{source:oe.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e()},[e,c]),m=i.useMemo(()=>{if(!a)return null;let e=(0,iT.UN)().get(a);if(!e)return null;let t=(0,oe.T1)(e);return t?t.startsWith("data:image")?t:`data:image/png;base64,${t}`:null},[a]),g=i.useCallback(e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData?.files;t?.length===1&&t[0]?.type.startsWith("image/")&&p(t[0])},[p]);i.useEffect(()=>{if(t)return document.addEventListener("paste",g),()=>document.removeEventListener("paste",g)},[g,t]);let f=i.useCallback(e=>(!!e.metaKey||!!e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),u(),!0),[u]),x=(0,a8.fo)(void 0,"keydown",e=>{f(e.event)&&e.accept()});i.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[f]),i.useEffect(()=>{let t=t=>{let s=t.target;s.closest(".modalContainer")||s.closest("canvas")||e()};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e]);let _=i.useMemo(()=>o||(0,h.tx)("design_systems.assets_panel.visual_search.select_layer"),[o]),y=i.useMemo(()=>a?(0,r.jsx)("div",{className:"xl010v5",children:(0,r.jsx)(or.Bf,{guid:a})}):(0,r.jsx)(a5.y,{}),[a]);return(0,nR.O1)(()=>(e(),!0),nR.KD.MODAL),(0,r.jsx)(os.vL,{name:"visual_search_modal",handleKeyDown:x,focusOnMount:!0,children:(0,r.jsx)(od.NJ,{className:"visual_search_button--modalContainer--RU-Vk pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",dismissModal:e,width:l,targetKey:oc,arrowPosition:N.F_.TOP,backgroundColor:"var(--color-bg, $figmaFGWhite)",shouldNotWrapInParagraphTag:!0,noAnimation:!0,pointerOffsetOverride:l-12,children:(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4",children:[(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np xl56j7k x6s0dn4 xod5an3 x1s2d0ae xxk0z11",children:[y,(0,r.jsx)(a9.E,{fontWeight:"medium",truncate:!0,children:_})]}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"xh8yej3 xekxv85 x19y5rnk x1v8gsql x78zum5 xdt5ytf x6s0dn4 xl56j7k",children:(0,r.jsx)("img",{src:m||"",alt:"Preview",className:"xeu0yli x14r61f x1tamke2 x19kjcj4"})}),(0,r.jsx)("div",{className:"x78zum5 x13a6bvl xh8yej3 x14vqqas",children:(0,r.jsxs)(eY.$n,{variant:"secondary",onClick:u,children:[(0,r.jsx)(a9.E,{children:(0,h.tx)("design_systems.assets_panel.visual_search.search")}),(0,r.jsx)(eY.$n.Shortcut,{children:"\u2318\u23CE"})]})})]}):(0,r.jsxs)("div",{className:"xo1570h x192jxwq x2b8uid x1ypdohk xzlr0fm xdnk06y xh8yej3",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",className:"x1s85apg",id:"visual-search-file-input",onChange:e=>{let t=e.target.files?.[0];t&&p(t)}}),(0,r.jsx)("button",{className:"xh8yej3",onClick:e=>{e.preventDefault(),e.stopPropagation(),document.getElementById("visual-search-file-input")?.click()},children:(0,r.jsx)("div",{className:"xggk2y7",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files?.[0];t&&p(t)},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x1jnr06f",children:[(0,r.jsx)(a6.A,{}),(0,r.jsx)(a9.E,{children:(0,h.tx)("design_systems.assets_panel.visual_search.drag_or_upload")})]})})})]})]})})})}function op(){let[e,t]=i.useState(!1),{setKeyboardNavigationElement:s}=(0,W.M3)({path:[tZ.ON.HEADER,tZ.my.SEARCH_AND_FILTER],column:tZ.Wy.VISUAL_SEARCH_BUTTON});return(0,r.jsxs)(a$.o,{eventListeners:e?["onMouseDown"]:[],children:[(0,r.jsx)(aY.d,{"data-onboarding-key":oc,ref:s,onClick:()=>{t(!e),a.az.trackDefinedEvent("fragment_search.assets_panel_visual_search_button_clicked",{})},"aria-expanded":e,"aria-label":(0,h.t)("design_systems.assets_panel.visual_search.label"),children:(0,r.jsx)(a7.T,{})}),e&&(0,r.jsx)(ou,{onDismiss:()=>t(!1)})]})}let oh=new class{constructor(){this.format=e=>{switch(e){case T.t6.Blocks:return(0,h.t)("design_systems.assets_panel.blocks");case T.t6.Libraries:return(0,h.t)("design_systems.assets_panel.dropdown_libraries")}}}};function om(){let{getPage:e,getLibrary:t}=(0,so.G)(),{currentView:s,libraryKey:n,pageId:l}=(0,T.wV)(),a=i.useMemo(()=>e(n,l),[e,n,l]),o=i.useMemo(()=>t(n),[t,n]),d=!nn()&&s!==T.S5.Search,[c,u]=(0,G.fp)(T.aK),p=(0,aF.cJ)()&&s!==T.S5.Search&&s!==T.S5.Recents?[T.t6.Blocks,T.t6.Libraries]:void 0;return(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf xw6ie8e",children:[(0,r.jsx)(of,{library:o}),!!p&&(0,r.jsx)(ox,{legend:(0,h.tx)("design_systems.assets_panel.assets"),value:c,onChange:e=>{(0,si.hB)(()=>u(e))},children:p.map(e=>(0,r.jsx)(aA.RT,{value:e,label:oh.format(e)},e))}),d&&(0,r.jsx)(og,{page:a})]})}function og({page:e}){let{currentView:t}=(0,T.wV)(),s=(0,aF.cJ)(),[i]=(0,G.fp)(T.aK),n=nO(),l=(0,aR.HY)(),a=!n&&l;if(s){if(i===T.t6.Blocks&&t!==T.S5.Recents||i===T.t6.Libraries&&n)return null;a=t===T.S5.Libraries&&i===T.t6.Libraries}return(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4",children:[(0,r.jsx)(nL,{page:e}),a&&(0,r.jsx)("div",{className:"x15bdqvn x1y8zg4n",children:(0,r.jsx)(aD.b,{entrypoint:nd.r6.ASSETS_PANEL_BUTTON,hideIfNoUpdates:!1})})]})}function of({library:e}){let{currentView:t,visualAssetsType:s}=(0,T.wV)(),i=(0,eN.Ko)(),{getConfig:n}=(0,aL.I7)("assets_panel_visual_search"),l=(0,u.b)(),{closeOverlay:a}=(0,nH.h)(),o=!(0,aF.cJ)()&&i&&"control"!==n().get("variant","control");return(0,r.jsxs)("div",{...{0:{className:"xrvj5dj x52fmzj x1eavx82 x1on1db2 x1jnr06f x6s0dn4 xet2fuk x21xpn4 x1y8zg4n"},1:{className:"xrvj5dj x52fmzj x1eavx82 x1on1db2 x1jnr06f x6s0dn4 xet2fuk x21xpn4 xvq5f2v x1o1pmfc"}}[!!l<<0],children:[(0,r.jsx)("div",{...{0:{className:"x1ms6mhf xgkxs2y"},1:{className:"x1ms6mhf xgkxs2y x5jayri"}}[!!l<<0],children:(0,r.jsx)(aV,{libraryName:e?.name})}),o&&(0,r.jsx)("div",{className:"x1ms6mhf x1npkx4u",children:(0,r.jsx)(op,{})}),(0,r.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 x1ms6mhf x1npkx4u"},1:{className:"x78zum5 x6s0dn4 x1ms6mhf x1k3v4rp"}}[!!o<<0],children:(0,r.jsx)(a3,{includeFolderSetting:[T.S5.Libraries,T.S5.Pages,T.S5.Assets].includes(t)})}),l&&(0,r.jsx)("div",{className:"x1ms6mhf x1k3v4rp",children:(0,r.jsx)(eX.K,{"aria-label":(0,h.t)("design_systems.assets_panel.close_inserts"),onClick:a,children:(0,r.jsx)(aO.L,{})})}),t===T.S5.Search&&e&&(0,r.jsx)("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y",children:(0,r.jsx)(aU,{library:e})}),t===T.S5.Search&&s&&(0,r.jsx)("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y",children:(0,r.jsx)(aW,{visualAssetsType:s})})]})}function ox({legend:e,value:t,onChange:s,children:i}){return(0,r.jsx)("div",{className:"x1swld1g x1xmf6yo xv42yna",children:(0,r.jsx)(aA.bL,{legend:(0,r.jsx)(aP.q,{children:e}),value:t,onChange:s,children:i})})}var o_=s(339619);let oy=e=>i.useCallback(t=>{t()||e()},[e]);var ob=s(495896),oj=s(475961),oC=s(937749);function ov({width:e}){let t=nb(),s=function(e){let t=(0,el.iZ)(),s=(0,g.q5)(),r=(0,oj.jO)(),n=(0,k.f)("has_dismissed_component_sidebar_library_upsell_banner"),l=(0,L.d4)(e=>e.isFreeUser),a=(0,L.d4)(nf.P),o=s?.teamId?a[s.teamId]:null,d=(0,er.Rs)(eo.kQI,{id:s?.teamId??""},{enabled:!!s?.teamId}),c=s?.canEdit??!1,u=d.data?.team?.hasPermission??!1,p=e.numComponents>0||e.numTemplates>0;return i.useMemo(()=>!n&&l&&(!o||!(0,eR.w5)(o)&&u)&&c&&r&&p&&(0,ob.Hz)(t?.id),[n,l,o,u,c,r,p,t])}(t.localAssets),n="loading"===(0,f.je)().status,l=i.useRef(null),c=o.wY(l)?.width||e,[u]=(0,sl.MA)(),p=(0,g.q5)();(0,d.h)(()=>{(0,a.sx)("Component Sidebar Viewed",{viewMode:u,assetsPanelVersion:3,fileKey:p?.key,fileTeamId:p?.teamId??void 0,fileOrgId:p?.parentOrgId??void 0,componentSuggestionSessionId:(0,O.r6)()})});let{isFlyoutOpen:h,closeFlyout:x,flyoutProps:_}=(0,tN.JA)(),y=i.useCallback(e=>{let t=document.getElementById(tN.Ev);h||!t||!l.current||!e.relatedTarget||l.current.contains(e.relatedTarget)||t.contains(e.relatedTarget)||x()},[h,x]);return(0,r.jsxs)(ok,{assetPanelItemsByLibraryKey:t,width:c,children:[(0,r.jsx)("div",{className:oC.kL,"data-testid":"component-sidebar",translate:"no",ref:l,onBlur:y,children:(0,r.jsxs)("div",{className:oC.kL,style:{width:c},children:[(0,r.jsx)(om,{}),(0,r.jsx)(ai,{isLoading:n,children:(0,r.jsx)(aE,{assetPanelItemsByLibraryKey:t,width:c})}),s&&(0,r.jsx)(tH,{}),(0,r.jsx)("div",{style:{left:`${c}px`,top:"240px"},className:oC.b3,"data-onboarding-key":m.RJ}),(0,r.jsx)(P,{width:c})]})}),_&&(0,r.jsx)(tA,{..._})]})}function ok({children:e,width:t,assetPanelItemsByLibraryKey:s}){let i=(0,u.b)();return(0,r.jsx)(rn.P3,{children:(0,r.jsx)(so.K,{assetPanelItemsByLibraryKey:s,children:(0,r.jsx)(sn.tM,{className:l()(oC.kL,i&&oC.Nb),children:(0,r.jsx)(oS,{children:(0,r.jsx)(sG,{width:t,children:e})})})})})}function oS({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:s,navigateToTop:r,navigateToPage:n,navigateToPath:l,navigateToLibrary:a,currentView:o,onBack:d}=(0,T.wV)(),c=(0,ar.q)(),u=c(e),{getLibrary:p,getFolder:h}=(0,so.G)(),{setLastNavAction:m}=(0,rn.ZX)(),g=oy(r),f=(0,nj.g)().allLibrariesByLibraryKey,[x,_]=(0,G.fp)(o_.dL);i.useEffect(()=>{x&&f.size>0&&((0,si.hB)(()=>a(x)),_(null))},[a,f.size,x,_]),(0,T.sH)(),i.useEffect(function(){if(o!==T.S5.Assets&&o!==T.S5.Pages)return;let i=p(e),a=f.get(e);if(!i){if(c(e)&&a&&o!==T.S5.Assets)return;g(r);return}if(t){if(!i?.pages.get(t)){let e=(0,T.Cg)(i);e?g(()=>n(e.id)):g(d);return}if(s&&!h(e,t,s)){let r=s.slice(0,-1),i=h(e,t,r);for(;!i&&r.length>0;)i=h(e,t,r=r.slice(0,-1));if(!i)return g(()=>n(t));let a=parent?(0,T.xc)(i):void 0;return void(a?g(()=>l([...r,a.name])):(g(()=>l(r)),m(rn.r6.Back)))}}},[d,u,o,t,s,r,n,p,h,l,m,g,c,f,e]),i.useEffect(function(){let r=p(e);if(!r||u)return;let i=(0,T.Cg)(r);if(o===T.S5.Pages&&i)n(i.id);else if(o===T.S5.Assets){let r=h(e,t,s);if(!r)return;let i=(0,T.xc)(r);i&&l([...s??[],i.name])}},[u,o,s,h,p,n,l,d,t,e])}(),(0,r.jsx)(r.Fragment,{children:e})}function ow(){return(0,r.jsx)("div",{className:p.s.colorTextSecondary.my8.mx16.$,children:(0,h.tx)("design_systems.assets_panel.error")})}function oT({width:e}){return(0,r.jsx)(c.tH,{boundaryKey:"AssetPanelUI3",fallback:(0,r.jsx)(ow,{}),children:(0,r.jsx)(ov,{width:e})})}},217961:(e,t,s)=>{s.d(t,{C:()=>i,X:()=>n});var r=s(795033);let i=(0,s(985416).Wh)(()=>(0,r.eU)(0)),n=(0,r.eU)(!1)},705909:(e,t,s)=>{s.d(t,{vx:()=>eN,oo:()=>eP,OG:()=>eE});var r=s(104076),i=s(716976),n=s(903927),l=s(638004),a=s(670425),o=s(266808),d=s(681958),c=s(980852),u=s(812714),p=s(795033),h=s(674524),m=s(511570),g=s.n(m),f=s(76616),x=s(983500),_=s(73359),y=s(221586),b=s(641518),j=s(550209),C=s(652539),v=s(236631),k=s(192075),S=s(659062),w=s(428045),T=s(736216),N=s(968169),E=s(893178),I=s(568590),M=s(371952),A=s(692042),P=s(106112),O=s(582689),L=s(331497),R=s(448711),D=s(835307),F=s(894210),K=s(294745),B=s(336547),G=s(91704),H=s(579337),z=s(737139),V=s(390036),U=s(740419);function W({modeNames:e}){if(0===e.length)return null;let t=1===e.length?e[0]:e[0]+" + "+(e.length-1);return(0,r.jsx)("div",{className:U.Io,"data-testid":"variable-mode-pill","data-tooltip-type":F.Ib.TEXT,"data-tooltip":(0,k.t)("variables.mode_pill.tooltip",{listOfModes:(0,V.Yx)(e)}),children:(0,r.jsx)("div",{className:U.XW,children:t})})}var $=s(170462),Y=s(167151),X=s(382827),q=s(684742),J=s(602755),Z=s(708669),Q=s(92299),ee=s(291355),et=s(566447),es=s(15890),er=s(221154),ei=s(405864),en=s(597304);function el(){return(0,r.jsx)("div",{className:v.s.flex.itemsCenter.justifyCenter.$,children:(0,r.jsx)("div",{className:U.xE})})}class ea extends i.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let s=`[${t}]`,i=-1!==this.props.isLastMaskedAtLevels.indexOf(s),n=-1!==this.props.isMaskedAtLevels.indexOf(s),l=t===this.props.level&&this.props.mask,a=t===this.props.level&&this.props.hasChildren,o=g()(U.dK,U.co,{[U.TY]:this.props.displayOrder===Q.k.DOM});e.push((0,r.jsx)("span",{className:U.pZ},t)),i?e.push((0,r.jsx)(C.B,{svg:a?ei.A:en.A,className:o},`${t}-mask`)):n?e.push((0,r.jsx)(C.B,{svg:a?er.A:es.A,className:o},`${t}-mask`)):l&&e.push((0,r.jsx)(C.B,{svg:a?et.A:ee.A,className:o},`${t}-mask`)),this.props.hasBullet&&t===this.props.level?e.push((0,r.jsx)(q.E,{recordingKey:b.Pt(this.props,"expandCaret"),className:U.OI,actionOnPointerDown:!0,onClick:this.expandMouseDown,htmlAttributes:{"data-testid":this.props.isMeasurementNode?void 0:"new-frame-bullet"},children:(0,r.jsx)(el,{})},"expand-caret")):a&&e.push((0,r.jsx)(q.E,{recordingKey:b.Pt(this.props,"expandCaret"),className:g()(U.GE,U.Fq),actionOnPointerDown:!0,onClick:this.expandMouseDown,children:this.props.isExpanded?(0,r.jsx)(J.O,{}):(0,r.jsx)(Z.k,{})},"expand-caret"))}return e}render(){return(0,r.jsx)("span",{ref:this.props.indentsRefCallback,className:U.Wm,children:this.renderNodeIndents()})}}ea.displayName="Indents";var eo=s(271899),ed=s(4921),ec=s(207321),eu=s(819974),ep=s(11048);let eh=i.memo(function(e){let{locked:t,isAncestorLocked:s,onMouseDown:n,recordingKey:l}=e,a=(0,i.useRef)(null),o=i.useCallback(e=>{e&&n(e)},[n]),d=b.rf(l,"mousedown",o),c=i.useMemo(()=>({onMouseDown:d,onKeyDownCapture:e=>{(e?.code==="Space"||e?.key==="Enter")&&d(new MouseEvent("mousedown",{altKey:e.altKey}))},onMouseLeave:()=>{a?.current&&document?.activeElement===a?.current&&a.current?.blur()},onDoubleClick:e=>e.stopPropagation()}),[d]),u=i.useMemo(()=>s&&!t?ep.Zy:(0,r.jsx)(ec.s,{"data-testid":"locked-icon"}),[s,t]),p=i.useMemo(()=>(0,r.jsx)(eu.r,{"data-testid":"unlocked-icon"}),[]);return(0,r.jsx)("span",{className:U.hz,children:(0,r.jsx)(ed.f,{ref:a,"aria-label":(0,k.t)("fullscreen.object_row.toggle_lock"),checked:t||s,onIcon:u,offIcon:p,htmlAttributes:c})})}),em=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H10v8h.5a.5.5 0 1 1 0 1h-2a.5.5 0 0 1 0-1H9V4h-.5a.5.5 0 0 1-.5-.5m3 2a.5.5 0 0 1 .5-.5h1A1.5 1.5 0 0 1 14 6.5v3a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 1-.5-.5M2.5 7a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 1 1 0 1h-4A1.5 1.5 0 0 1 2 9.5v-2a.5.5 0 0 1 .5-.5m2.515-3.56L4.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L4.7 6.3l.315 1.26c.126.505.844.505.97 0L6.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L6.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"})})});var eg=s(141330),ef=s(868187);function ex({disabled:e}){let t=(0,i.useMemo)(()=>({"data-tooltip-type":F.Ib.SPECIAL,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip":ef.S,"data-tooltip-ai-beta-text":(0,k.t)("fullscreen.context_menu.auto_rename_layers"),"data-tooltip-ai-beta-action":eg.JT.AUTO_RENAME_LAYERS}),[]);return(0,r.jsx)(q.E,{className:U.J0,onClick:()=>{(0,T.Br)({source:o.uQ6.LAYERS_PANEL_ACTION_ROW,trackingDataSource:"layers_panel_action_row"})},htmlAttributes:e?void 0:t,disabled:e,children:(0,r.jsx)(em,{})})}var e_=s(45754),ey=s(185245);function eb({guid:e,className:t}){let s=(0,Y.cJ)(),i=(0,p.md)(ey.s0),n=(0,L.J2)((0,N.UK)().showSemanticTagsOnLayerRows),l=(0,D.Fk)((e,t)=>{let s=e.get(t);return s?.isAccessibilityAnnotatable},e);return s&&i===o.Nfd.FILE&&(0,u.kc)().sts_a11y_layers_semantic_tags&&n&&l?(0,r.jsx)(ej,{guid:e,className:t}):null}function ej({guid:e,className:t}){let s=(0,e_.Nf)(e);return s?(0,r.jsx)("span",{className:t,"data-testid":`semantic-label-${e}`,children:s}):null}var eC=s(604355),ev=s(531509);let ek=i.memo(function(e){let{visible:t,isAncestorHidden:s,onMouseDown:n,recordingKey:l}=e,a=(0,i.useRef)(null),o=i.useCallback(e=>{e&&n(e)},[n]),d=b.rf(l,"mousedown",o),c=i.useMemo(()=>({onMouseDown:d,onKeyDownCapture:e=>{(e?.code==="Space"||e?.key==="Enter")&&d(new MouseEvent("mousedown",{altKey:e.altKey}))},onMouseLeave:()=>{a?.current&&document?.activeElement===a?.current&&a.current?.blur()},onDoubleClick:e=>e.stopPropagation(),"data-testid":"object-row-toggle-visibility"}),[d]),u=i.useMemo(()=>s?ep.Zy:(0,r.jsx)(eC.l,{"data-testid":"visible-icon"}),[s]),p=i.useMemo(()=>(0,r.jsx)(ev.f,{"data-testid":"hidden-icon"}),[]);return(0,r.jsx)("span",{className:U.yk,children:(0,r.jsx)(ed.f,{ref:a,"aria-label":(0,k.t)("fullscreen.object_row.toggle_visibility"),checked:t,onIcon:u,offIcon:p,htmlAttributes:c})})});ek.displayName="VisibilityToggle";var eS=s(404343),ew=s(347080),eT=s(864187);let eN="layer-panel-onboarding-key";function eE(e){let t=(0,Y.cJ)(),s=(0,X.sO)(),r=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isWebpage&&e.isSiteHomepage?r=(0,k.t)("sites.panel.home"):s&&"SLIDE"===e.nodeType&&(r=(0,k.t)("slides.layers_panel.slide_number",{orderNum:e.name})),e.shouldShowGuids){let t=o.Egt.getOverridePathForNode(e.guid);return`${r} (${e.guid}): [${t}]`}return r}function eI({isPrimaryBreakpoint:e}){return(0,r.jsx)("div",{className:v.s.flex.$,children:e&&(0,r.jsx)("span",{className:v.s.colorTextBrand.pr8.$,children:(0,k.t)("sites.panel.primary")})})}function eM(e){let[t,s]=(0,i.useState)(null),[n,l]=(0,i.useState)(!1),a=(0,Y.cJ)(),o=(0,p.md)((0,B.r8)(e.guid)),{showVisualLayerIcons:d}=i.useContext(O.y0);(0,i.useEffect)(()=>{s(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=eE({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isSiteHomepage:e.isSiteHomepage,isWebpage:e.isWebpage,nodeType:e.nodeType}),u=b.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{R.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),h=(0,i.useRef)(null),m=(0,i.useCallback)(e=>{e&&(h.current=e,h.current.select())},[]),f=b.AF(e.recordingKey,"change",e=>{s(e.currentTarget?.value)}),x=b.v_(e.recordingKey,"keydown",t=>{if(!n){if(t.keyCode===y.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===y.Uz.ENTER)e.stopRenaming(!0,h.current?.value,c);else{if(t.keyCode!==y.Uz.TAB)return(0,E.jr)(t,E.W0.NO),b.aH;t.preventDefault(),e.stopRenaming(!0,h.current?.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),j=b.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,h.current?.value,c)}),S=!e.isFixedOnHScroll,w="SLIDE_ROW"===e.nodeType,T=d&&(0,_.m)().ce_il_root;return(0,r.jsxs)(r.Fragment,{children:[w?null:T?(0,r.jsx)($.N,{guid:e.guid,size:e.iconSize,navigateAndPanTo:e.navigateAndPanTo,isMeasurementNode:e.isMeasurementNode,rowSelected:e.isSelected}):(0,r.jsx)(eo.Bf,{disabled:e.disabled,guid:e.guid,hovered:e.hovered,isSiteHomepage:e.isSiteHomepage,locked:e.locked,navigateAndPanTo:e.navigateAndPanTo,outOfView:e.outOfView,panelType:e.panelType,scrollLeft:e.scrollLeft,useUI3Icon:e.useUI3Icons}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&(0,r.jsx)(C.B,{"data-tooltip":e.isFavicon?(0,k.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,k.t)("fullscreen.object_row.social_image"):(0,k.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":F.Ib.TEXT,className:U.V3,svg:eT.A}),e.isRenaming&&(0,r.jsx)(z.ks,{autoCapitalize:"off",autoCorrect:"off",className:g()(U.hF,e.inputTextOverridesClassName),innerRef:m,onBlur:j,onChange:f,onCompositionEnd:()=>l(!1),onCompositionStart:()=>l(!0),onKeyDown:x,spellCheck:!1,value:null!==t?t:e.name}),!e.isRenaming&&(0,r.jsxs)("span",{className:g()(U.qg,e.staticTextOverridesClassName,{[v.s.justifyBetween.$]:a,[v.s.eventsAuto.$]:e.isFixedOnHScroll}),onDoubleClick:e.focusOnSingleClick?void 0:u,onClick:e.focusOnSingleClick?u:void 0,dir:"auto",children:[(0,r.jsx)("div",{className:U.Xv,ref:e.layerNamePlaceholderRef,children:c}),(0,r.jsx)("div",{className:g()(U._k,{[U.r]:!S||e.isHovered||e.displaySemanticLabel}),ref:e.layerNameRef,children:o&&"pending"!==o.state?o.name:c}),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&(0,r.jsx)("div",{className:U.pS,children:(0,r.jsx)(W,{modeNames:e.explicitVariableModeNames})}),!e.isHovered&&a&&(0,r.jsx)(eI,{isPrimaryBreakpoint:e.isPrimaryBreakpoint})]})]})}let eA=i.memo(function(e){var t;f.sn.start("object-row-inner-render-timer");let{topLevelObjectRowHeight:s,nestedObjectRowHeight:n,rowSelectionGap:m,topLevelIconSize:_,nestedIconSize:y,boldLayerNames:C}=i.useContext(O.y0),k=(0,i.useRef)(null),[E,I]=(0,i.useState)(null),[M,A]=(0,i.useState)(null),R=(0,i.useCallback)(e=>{I(e)},[]),z=(0,i.useCallback)(e=>{A(e)},[]),V=(0,p.md)(w.eC),W=(t=e.guid,(0,p.md)(w.Fj).has(t)),[$,Y]=(0,i.useState)(!1),[X,q]=(0,i.useState)(!1),J=(0,D.Fk)((e,t)=>e.get(t)?.name??"",e.guid),Z=(0,D.Fk)((e,t)=>{let s=e.get(t);return s&&s.isState?s.stateAbbreviatedName:null},e.guid),Q=eE({abbreviatedStateName:Z,name:J,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isSiteHomepage:e.isSiteHomepage,isWebpage:e.isWebpage,nodeType:e.nodeType}),ee=(0,i.useCallback)(()=>{let e=k.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),et=(0,i.useCallback)(()=>{Y(ee())},[Y,ee]),{onContextMenu:es}=e,er=(0,h.rf)(e.recordingKey,"contextmenu",(0,i.useCallback)(t=>{es&&es(e.guid,t)},[es,e.guid])),{onMouseEnter:ei}=e,en=(0,h.rf)(e.recordingKey,"mouseenter",(0,i.useCallback)(t=>{et(),q(!0),ei&&ei(e.guid,t)},[ei,e.guid,et])),el=(0,i.useCallback)(()=>{q(!1)},[]),{lockMouseDown:eo}=e,ed=(0,i.useCallback)(t=>{eo&&eo(e.guid,t)},[eo,e.guid]),{visibleMouseDown:ec}=e,eu=(0,i.useCallback)(t=>{ec&&ec(e.guid,t)},[ec,e.guid]),{onDragStartCallback:em}=e,eg=(0,i.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=em&&em(e.guid,t)},[em,e.guid]),{onDragOverCallback:ef}=e,e_=(0,i.useCallback)(t=>{null!=ef&&ef(e.guid,t)},[ef,e.guid]),{onDragDropCallback:ey}=e,ej=(0,i.useCallback)(t=>{null!=ey&&ey(e.guid,t)},[ey,e.guid]),{onDragEnterCallback:eC}=e,ev=(0,i.useCallback)(t=>{null!=eC&&eC(e.guid,t)},[eC,e.guid]),{onDragLeaveCallback:eT}=e,eI=(0,i.useCallback)(t=>{null!=eT&&eT(e.guid,t)},[eT,e.guid]),eA=(0,i.useCallback)(()=>null!=e.nodeMemoryUsage&&null!=e.rootMemoryUsage?(0,P.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0):((0,j.$D)(l.e.SCENEGRAPH_AND_SYNC,Error("node memory usage or root memory usage is null")),""),[e.nodeMemoryUsage,e.rootMemoryUsage]),eP=!e.visible||e.isAncestorHidden&&e.panelType!==G.g$.CodeComponent,eO=e.locked||e.isAncestorLocked,eL=(e.level+3)*(0,x.jz)(ew.indentWidthWithMargin),eR=(0,x.jz)(ew.scrollBarYWidth)+(0,x.jz)(ew.trackPadding),eD=void 0!==e.panelWidth&&eL+eR>e.panelWidth+e.scrollLeft,eF=0===e.level,eK=(0,T.A0)(o.uQ6.LAYERS_PANEL_ACTION_ROW),eB=(0,c.UN)().get(e.guid),eG=eK&&eF&&X&&eB&&(0,T.sq)(eB),eH="REACT_FIBER"!==e.nodeType&&"SLIDE"!==e.nodeType&&"SLIDE_ROW"!==e.nodeType,ez=p.md(B.r8(e.guid))?.state==="pending",eV=(0,L.J2)((0,N.UK)().showSemanticTagsOnLayerRows),eU=e.visible&&!e.isAncestorHidden&&(0,u.kc)().sts_a11y_layers_semantic_tags&&eV,eW=eF?s:n,e$=eF?_:y,eY={transform:`translate3d(0px, ${e.top}px, 0)`,height:eW,"--row-actions-width":eG?eS.gdM:eS.yj4,"--object-row-height":`${eW}px`,"--selection-height":`${eW-2*m}px`},eX=e.fixed&&0!==e.panelWidth,eq="FRAME"===e.nodeType,eJ=g()({[U.nM]:!0,[U.M4]:eF,[U.Gt]:eq&&!(0,ep.Rt)(e)&&!e.resizeToFit&&!e.isStateGroup,[U.Os]:eq&&!(0,ep.Rt)(e)&&e.resizeToFit,[U.t$]:eq&&(0,ep.Rt)(e),[U.DT]:e.isStateGroup,[U.a6]:(0,d.MT)(e.nodeType),[U.uW]:"SECTION"===e.nodeType,[U.HR]:"SYMBOL"===e.nodeType,[U.rS]:"CODE_COMPONENT"===e.nodeType,[U.bY]:"CODE_INSTANCE"===e.nodeType,[U.$E]:e.componentLike,[U.qm]:e.layerLikeCodeNode||"REACT_FIBER"===e.nodeType,[U.xG]:"MODULE"===e.nodeType,[U.KJ]:"INSTANCE"===e.nodeType,[U.iE]:e.isStamp,[U.Zt]:"HIGHLIGHT"===e.nodeType,[U.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[U.j3]:e.isDescendantOfSymbol,[U.cb]:e.isDescendantOfInstanceExcludingSlotSublayers,[U.vp]:e.isDescendantOfModule,[U.dK]:e.mask,[U.WO]:(0,G.qW)(e.panelType),[U.i9]:e.isWebpage,[U.Cr]:C,[U.Zu]:!!eX,[U.lh]:!!e.layerAbove,[U.yo]:e.isHovered,[U.wH]:e.isSelected,[U.ct]:e.isAncestorSelected,[U.r9]:eP,[U.xt]:eO,[U.sz]:e.hasChildren&&e.isExpanded,[U.uC]:e.isLayerAboveSelected&&e.isLayerBelowSelected,[U.ow]:e.isLayerAboveSelected&&!e.isLayerBelowSelected,[U.sc]:e.isLayerBelowSelected&&!e.isLayerAboveSelected}),eZ=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,eQ=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&eZ,{registerWidth:e0}=(0,H.gz)(),e1=!!eX,{observeWithResizeObserver:e3,unobserveWithResizeObserver:e2}=e;(0,i.useEffect)(()=>{if(E&&M){if(e1)return;let t=()=>{let t=E.getBoundingClientRect().right-M.getBoundingClientRect().left+(0,x.jz)(ew.rowActionsWidth);e0(e.guid,t)};return t(),e3(E,t),e3(M,t),()=>{e2(E),e2(M)}}},[e1,E,M,e.guid,e0,e3,e2]),(0,i.useEffect)(()=>{let e="object-row-inner-render-timer",t=f.sn.get(e);t&&t.isRunning&&!t.isUnreliable&&f.sn.tryStop(e)});let e4=!(0,u.kc)().eu_perf_layers_toggle_render||X||!e.visible||e.locked||e.isAncestorLocked||e.isAncestorHidden,e5=(0,r.jsxs)(r.Fragment,{children:[eG&&(0,r.jsx)(ex,{disabled:ez}),eH&&e4&&(0,r.jsx)(eh,{recordingKey:b.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:ed}),eH&&e4&&(0,r.jsx)(ek,{recordingKey:b.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:eu})]}),e6=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!eD,e7=(0,r.jsx)("div",{className:U.u4,"data-tooltip-type":F.Ib.TEXT,"data-tooltip":$?Q:null,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,style:void 0===e.panelWidth?void 0:{width:e1?`${e.panelWidth}px`:`${e.panelWidth+e.scrollLeft}px`},children:function(t=!1){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea,{currentPage:e.currentPage,disabled:eP,dispatch:e.dispatch,displayOrder:e.displayOrder,expandMouseDown:e.expandMouseDown,guid:e.guid,hasBullet:W,hasChildren:e.hasChildren,hovered:e.isHovered,indentsRefCallback:z,isExpanded:e.isExpanded,isLastMaskedAtLevels:e.isLastMaskedAtLevels,isMaskedAtLevels:e.isMaskedAtLevels,isMeasurementNode:t,level:e.level,locked:eO,mask:e.mask,outOfView:eD,recordingKey:t?void 0:b.Pt(e,"indents"),scrollLeft:e.scrollLeft}),(0,r.jsx)(eM,{...e,abbreviatedStateName:Z,disabled:eP,displaySemanticLabel:eU,hovered:e.isHovered,iconSize:e$,isFixedOnHScroll:e1,isMeasurementNode:t,layerNamePlaceholderRef:R,layerNameRef:k,locked:eO,name:J,outOfView:eD,recordingKey:t?void 0:e.recordingKey,scrollLeft:e.scrollLeft,useUI3Icons:!0}),e.hasWarning&&(0,r.jsx)("div",{className:g()(v.s.flex.alignCenter.mr16.$,U.QW),"data-tooltip-type":F.Ib.TEXT,"data-tooltip":e.warningMessage,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,children:(0,r.jsx)(a.R,{})}),eQ&&(0,r.jsx)("span",{className:U.HY,dir:"auto",children:eA()}),eU&&(0,r.jsx)(eb,{guid:e.guid,className:U.R4}),e6&&(0,r.jsx)("div",{className:U.cm})]})}()});return(0,r.jsxs)("div",{className:eJ,"data-onboarding-key":e.guid===V&&e.isSelected&&(!e.isRowInView||e.isRowInView(e,M))?eN:void 0,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row",draggable:!1,onContextMenu:er,onDragEnter:ev,onDragLeave:eI,onDragOver:e_,onDragStart:eg,onDrop:ej,onMouseEnter:en,onMouseLeave:el,style:eY,children:[e6&&(0,r.jsxs)("div",{className:U.cm,style:S.sx.absolute.wFull.eventsNone.$,children:[(0,r.jsx)("div",{className:v.s.wFull.$}),(0,r.jsx)("div",{className:U.V0,children:(0,r.jsx)("div",{className:U.Hz,children:e5})})]}),(0,r.jsx)(K.e,{condition:e1,wrapper:e=>(0,r.jsx)("div",{style:S.sx.absolute.wFull.eventsNone.$,children:(0,r.jsx)("div",{className:U.n4,children:(0,r.jsx)("div",{children:e})})}),children:e7})]})});eA.displayName="ObjectRow";let eP=i.memo(function(e){let t=(0,n.d4)(t=>t.mirror.appModel.hoveredNode===e.guid),s=e.hasRefToHoveredDef||t||e.isTemporarilyHovered,l=(0,I.Z)("prototype_sections_zoom"),a=i.useCallback(e=>{l((0,A.QZ)({nodeId:e,alwaysPan:!0}))},[l]),o=(0,M.o3)(e.guid);return(0,r.jsx)(eA,{...e,isHovered:s,explicitVariableModeNames:o,navigateAndPanTo:a})})},156928:(e,t,s)=>{s.d(t,{X:()=>e$});var r=s(104076),i=s(716976),n=s(903927),l=s(951002),a=s(792875),o=s(638004),d=s(266808),c=s(170627),u=s(681958),p=s(980852),h=s(812714),m=s(795033),g=s(511570),f=s.n(g),x=s(385446),_=s.n(x),y=s(851824),b=s(883765),j=s(76616),C=s(983500),v=s(597581),k=s(73359),S=s(221586),w=s(787144),T=s(681398),N=s(641518),E=s(550209),I=s(264830),M=s(361170),A=s(876621),P=s(72138),O=s(549571),L=s(147046),R=s(278491),D=s(469191),F=s(819851),K=s(354114),B=s(968169),G=s(510232),H=s(772523),z=s(508011),V=s(120074),U=s(587277),W=s(592726),$=s(582689),Y=s(331497),X=s(835307);class q{constructor(e,t,s,r,i={}){this.component=e,this.onMouseDown=t,this.onMouseMove=s,this.onMouseUp=r,this.options=i,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let s=!1;if(this.deferredDragStart=r=>{if(s)return!1;let i=r.clientX-t.clientX,n=r.clientY-t.clientY;return!(10>Math.sqrt(i*i+n*n))&&(s=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let r=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==r||s||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,s){this.oldTouch=s;let r=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});return Object.defineProperty(r,"target",{value:t.target}),Object.defineProperty(r,"currentTarget",{value:t.currentTarget}),r}}var J=s(440910),Z=s(739710),Q=s(299117),ee=s(124125),et=s(192075),es=s(244205),er=s(90844),ei=s(422872),en=s(428045),el=s(219971),ea=s(143277),eo=s(61102),ed=s(705909),ec=s(643330),eu=s(441030);function ep(){let{show:e,isShowing:t,complete:s,uniqueId:n}=(0,ei.e)({overlay:eu.xtb,priority:ea.N.SECONDARY_MODAL}),l=el.y.isApple(),a=i.useMemo(()=>(0,r.jsx)(ee.S,{shortcut:l?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[l]);return(0,er.E)(n,en.in,()=>{e({canShow:()=>!!(0,h.kc)().ce_al_show_msal_onboarding})}),(0,r.jsx)(eo.rq,{arrowPosition:ec.F_.LEFT_TITLE,description:(0,et.tx)("fullscreen.msal_onboarding.body"),disableHighlight:!0,emphasized:!0,isShowing:t,onClose:s,onTargetLost:s,primaryCta:{label:(0,et.tx)("general.got_it"),type:"button",onClick:s,variantOverride:"primary",ctaTrackingDescriptor:es.c.GOT_IT},secondaryCta:{label:(0,et.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5731482952599#suggest",ctaTrackingDescriptor:es.c.LEARN_MORE},targetKey:ed.vx,title:(0,r.jsx)("p",{"data-testid":"msal-onboarding-title",children:(0,et.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:a})}),trackingContextName:"MSAL Onboarding Overlay"})}var eh=s(156816),em=s(336547),eg=s(383310),ef=s(170462),ex=s(769183),e_=s.n(ex),ey=s(666875),eb=s(311272),ej=s(211862);function eC({ids:e,thumbnailEdits:t,focusedNodeId:s,width:n,height:l}){let a=(0,ej.tS)(),[o,d]=(0,i.useState)([]),[c]=(0,ey.A)(o,100,{equalityFn:ew});(0,i.useEffect)(()=>{if(c.length){let e=[...c];s&&e.includes(s)&&(e=[s,...e.filter(e=>e!==s)]),e_()(e,5).forEach((e,t)=>{e.forEach(e=>{let r=e===s;setTimeout(()=>(0,eb.I6)(e,r,a||"",n,l),40*t)})}),d(t=>t.filter(t=>!e.includes(t)))}},[c,s,a,n,l]);let u=(0,i.useCallback)(e=>{d(t=>t.includes(e)?t:[...t,e])},[]);return(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(eS,{guid:e,editCount:t.get(e)||0,requestThumbnailGeneration:u},e))})}let ev=(0,s(985416).Wh)(()=>(0,m.eU)({})),ek=(0,m.Iz)(e=>(0,m.eU)(t=>t(ev)[e]??null,(t,s,r)=>{let i=t(ev);s(ev,{...i,[e]:r})}));function eS({guid:e,editCount:t,requestThumbnailGeneration:s}){let[n,l]=(0,m.fp)(ek(e)),[a]=(0,ey.A)(t,400);return(0,i.useEffect)(()=>()=>{l(a)},[a,l]),(0,i.useEffect)(()=>{a===n&&(0,eb.lp)(e)||s(e)},[e,a,s,n]),(0,r.jsx)(r.Fragment,{})}function ew(e,t){return e.length===t.length&&e.every((e,s)=>e===t[s])}function eT(e){let{topLevelIconSize:t}=i.useContext($.y0),s=(0,X.wA)((e,t)=>t.filter(t=>{let s=e.get(t)?.type;return!!s&&!ef.w.includes(s)}),e.ids),n=(0,X.$y)((e,t)=>d.glU?d.glU.getLastEditTimes(t).reduce((e,s,r)=>(e.set(t[r],s),e),new Map):new Map,e.ids);return(0,r.jsx)(eC,{ids:s,thumbnailEdits:n,focusedNodeId:e.focusedNodeId,width:2*t,height:2*t})}var eN=s(217961),eE=s(236631),eI=s(579337),eM=s(740419);function eA({guid:e,objectRow:t,setRowWidth:s}){let n=(0,i.useRef)(null),[l,a]=(0,i.useState)(),{rowWidthsCache:o}=(0,eI.gz)();return(0,i.useEffect)(()=>{if(!n.current||!e)return;let t=o[e];void 0!==t&&(t!==l?.width||e!==l?.guid)&&a({width:t,guid:e})}),(0,i.useEffect)(()=>{l?.guid===e&&s({guid:e,width:l.width})},[l,e,s]),(0,r.jsx)("div",{ref:n,className:f()(eE.s.absolute.invisible.$,eM.Qr),"data-testid":"autoscroll-measurement-node",children:t})}var eP=s(652539),eO=s(91704),eL=s(630701);function eR(e){let{top:t,width:s,guid:n,level:l,onMouseEnter:a,recordingKey:o}=e,{nestedObjectRowHeight:d}=i.useContext($.y0),c=N.rf(o,"click",e=>{H.bd([n])}),u={transform:`translate3d(0px, ${t}px, 0)`,width:s,height:d},p={width:eO.iy*l*2,marginRight:1===l?eO.iy/2:0};return(0,r.jsxs)("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:u,onMouseDown:e=>e.stopPropagation(),onClick:c,onMouseEnter:a,role:"button",tabIndex:0,children:[(0,r.jsx)("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:p}),(0,r.jsx)("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW",children:(0,r.jsx)(eP.B,{svg:eL.A})}),(0,r.jsx)("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa",children:(0,et.tx)("design_systems.component_properties.see_all_layers")})]})}var eD=s(224764);class eF extends N.o6{renderPlainIndents(e){let t=[];for(let s=0;s<e+1;s++)t.push((0,r.jsx)("span",{className:eM.pZ},s));return(0,r.jsx)("span",{className:eM.Wm,children:t})}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:eD.n,"--selection-height":`${eD.n}px`,"--row-gap":"0px"},t=f()(eM.nM,eM.bV,{[eM.ct]:this.props.isParentSelected,[eM.j3]:this.props.isDescendantOfSymbol,[eM.cb]:this.props.isDescendantOfInstanceExcludingSlotSublayers,[eM.sc]:this.props.isParentSelected&&this.props.sectionHasChildren});return(0,r.jsxs)("div",{className:t,style:e,children:[this.renderPlainIndents(this.props.level),this.props.sectionType===d.KjJ.FIXED?(0,et.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,et.t)("fullscreen.properties_panel.scrolls")]})}}eF.displayName="SectionRow";var eK=s(656948),eB=s(967749),eG=s(347080);let eH="objects_panel--dropTargetBox--4SX8i",ez=new w.V;function eV(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class eU extends N.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1,rowToScrollToData:null},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.heightByGuid=Object.create(null),this.totalHeight=0,this.cachedAllObjectRowDataMap={},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||(0,p.UN)(),this.initializeRows=e=>{let t=this.getScene(),s=e.customRowBuilder?e.customRowBuilder():(0,eK.Sk)({sceneGraph:t,rootNodeGuids:e.topNodeProperties?.children??[],showImmutableFrameSublayers:e.showImmutableFrameSublayers,temporarilyExpandedInstanceLayers:e.temporarilyExpandedInstanceLayers,topLevelObjectRowHeight:e.topLevelObjectRowHeight,nestedObjectRowHeight:e.nestedObjectRowHeight,focusedNodes:e.focusedNodes});this.topByGuid=s.topByGuid,this.leftByGuid=s.leftByGuid,this.heightByGuid=s.heightByGuid,this.sectionById=s.sectionById,this.totalHeight=s.totalHeight,this.cachedAllRowData=s.rowData,m.zl.set(eN.X,s.rowData.filter(eO.N1).some(e=>e.isExpanded&&e.hasChildren)),this.cachedAllObjectRowDataMap=s.rowData.filter(eO.N1).reduce((e,t)=>(e[t.guid]=t,e),{})},this.updateAllVisibleRowGuids=()=>{let e=[];for(let t of this.cachedAllRowData)(0,eO.N1)(t)&&e.push(t.guid);this.context.registerGuids(e)},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let s=this.topByGuid[e],r=void 0!==s,i=this.state.rowToScrollToData?.guid===e;if(!r||!i){let t=this.getScene().get(e);t&&t.parentGuid&&H.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}let n=this.heightByGuid[e],l=!this.isVerticallyVisible(s,s+n),a=this.shouldHorizontallyAutoscroll(e);(l||a)&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.hasTrackedHScrollEvent=!1,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),m.zl.set(em.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)),this.hasTrackedHScrollEvent||((0,b.sx)("layers_horizontal_scroll"),this.hasTrackedHScrollEvent=!0)},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,E.xO)(o.e.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),s=e.parentGuid?t.get(e.parentGuid):null;for(;s&&s.guid!==this.props.currentPage;){if(this.isNodeSticky(s))return!0;s=s.parentGuid?t.get(s.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let s=this.state.scrollTop,r=(e,t,s)=>{if("object"!==e.rowType)return!1;let r=this.findStickyHeader(e,t,s);if(r){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=r:this.renderedVisibleRowProps.push(r)}return!!r},i=null;for(let n=0;n<e.length;n++)if(0===(t=e[n]).level){if(i&&r(i,i.top,t.top)||t.top>s)return;i=t}(0,l.KF)(!!i,"has at least one top level section"),r(i,i.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let s=t&&t.fromAIRename||!1,r=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid!==e||!this.scrollContainerEl||!this.scrollContainer)return;let i=this.topByGuid[e],n=this.heightByGuid[e],l=this.state.scrollTop,a=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){r&&this.scrollContainer.scrollTo(i-1);return}let o=this.getScene().get(e);if(!o)return;s||m.zl.set(em.uK,{autoScroll:!1});let d=this.isAncestorSticky(o);if(d&&i<l+n?this.scrollContainer.scrollTo(i-n):!d&&i<l?this.scrollContainer.scrollTo(i):i+n>l+a&&this.scrollContainer.scrollTo(i-a/2),this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid===e&&this.state.rowToScrollToData?.width){let t=this.getNewHorizontalAutoscrollPosition(e,this.state.rowToScrollToData?.width);void 0!==t&&this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let s=this.getScene().get(e);if(!s)return;(0,J.sp)(this.getScene(),this.props.sceneGraphSelection,s.guid)||this.updateSelection(s.guid);let{clientX:r,clientY:i}=t;this.props.dispatch(L.j7({type:R.Rb,data:{clientX:r,clientY:i}}))},this.rowContainerMouseDown=N.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t||(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),this.props.ignoreRightClickForSelection&&2===e.button))return;if(this.props.onSelectNodesFromLayersPanel?.(),(this.props.allowToggleSelection??!0)&&(0,S.Fo)(e)){this.toggleSelected(t);return}(0,h.kc)().version_diffing&&this.props.editModeType===d.m1T.COMPARE_CHANGES&&d.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let s=(0,a.IL)(this.props.sceneGraphSelection),r=null;if(s?r=s:this.rangeSelectAnchorNodeId&&(0,J.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(r=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&r){H.GL(r,t),K.Y5.commit();return}(0,J.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,D.i)(e)||this.setState({mouseDown:new M.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,l.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,eO.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=(0,eO.g2)(e.path,this.getScene(),this.props.currentPage),s=this.topByGuid[t]+this.heightByGuid[t]/2;return{clientY:this.clientY(s),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),s=this.state.scrollTop,r=this.scrollContainerHeight();if(r>0){if(t<s){this.scrollContainer.scrollTo(s-(0,eO.bm)(s-t,this.props.topLevelObjectRowHeight));return}if(t>s+r){this.scrollContainer.scrollTo(s+(0,eO.bm)(t-s-r,this.props.topLevelObjectRowHeight));return}}let i=(0,eO.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eO.g$.Object,this.props.topNodeProperties,this.props.insertionLineBoxOffset);this.state.dropTarget&&i&&this.state.dropTarget.index!==i.index&&v.H.trigger(d.JA.SNAP),(this.hasCrossedDragThreshold||!i)&&(this.expandDropTargetIfNeeded(i,t),this.setState({dropTarget:i}))}},this.onMouseUp=N.cZ(this,"mouseup",e=>{let t=this.getScene(),s=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(s=!0,3>=this.state.mouseDown.distanceTo(new M.Mi(e.clientX,e.clientY))){if(!(0,D.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):s=!1}}else if(!this.props.isReadOnly){let s=(0,eO.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eO.g$.Object,this.props.topNodeProperties,this.props.insertionLineBoxOffset);if(!s)return;let{parentGuid:r,index:i,section:n}=s,l=t.get(r);if(!l||void 0===i)return;let a=e.altKey,o=(0,eO.Lc)(l,i);a?(this.props.onSelectNodesFromLayersPanel?.(),c.l7.user("duplicate-selection",()=>H.kH(l.guid,o,n))):(this.props.onSelectNodesFromLayersPanel?.(),c.l7.user("reparent-selection",()=>H.Yu(l.guid,o,n))),H.hq(l.guid),d.Egt.clearTemporarilyExpanded(),K.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(s=!0,this.isDraggingToToggle=null,K.Y5.commit()),!s)return N.aH},{recordMetadata:e=>{let t=this.getScene(),s=this.guidAtMousePosition(e.clientY),r=this.relativeY(e.clientY);(0,l.KF)(!!s,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let i=this.topByGuid[s],n=this.heightByGuid[s];return{path:(0,eO.eT)(s,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new M.Mi(e.clientX,e.clientY))),belowAll:r>i+n,clientX:e.clientX,aboveAll:r<i}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=(0,eO.g2)(e.path,this.getScene(),this.props.currentPage),s=this.topByGuid[t]+this.heightByGuid[t]/2;return e.belowAll&&(s+=this.heightByGuid[t]),e.aboveAll&&(s-=this.heightByGuid[t]),{clientY:this.clientY(s),clientX:e.clientX}}}}),this.setRowToScrollToData=e=>{this.setState({rowToScrollToData:e})},this.getNewHorizontalAutoscrollPosition=(e,t)=>{let s=this.leftByGuid[e];if(void 0===s)return;let r=s-16;return this.isOutOfViewLeft(e)?Math.max(0,r):this.isOutOfViewRight(e)&&t?t-s>(this.props.width??0)?r:t-(this.props.width??0):void 0},this.onScrollContainerMouseDown=()=>{H.wr(),K.Y5.commit()},this.cachedScrollContainerHeight=0,this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=e?.getClipContainer(),this.scrollContainerEl&&(0,h.kc)().obj_panel_caching&&(this.setupScrollContainerResizeObserver(this.scrollContainerEl),this.cachedScrollContainerHeight=this.scrollContainerEl.clientHeight)},this.containerMouseLeave=e=>{H.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s)return;t.stopPropagation(),(0,b.sx)("objects_panel_expand",{nonInteraction:0});let r=!s.isExpanded;t.altKey?H.sK(s.guid,r):(0,S.Fo)(t)&&!(0,a.Im)(this.props.sceneGraphSelection)?H.yF(s.guid,r):H.sq(s.guid,r),this.justToggledExpandedGuid=s.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s||this.props.isReadOnly)return;t.stopPropagation();let r=!s.locked;this.isDraggingToToggle={locked:r},c.l7.user("set-locked",()=>{H.tU(s.guid,r,t.altKey)})},this.visibleMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s||this.props.isReadOnly)return;t.stopPropagation();let r=!s.visible;this.isDraggingToToggle={visible:r},c.l7.user("set-visible",()=>{H.pr(s.guid,r,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let s=this.getScene().get(e);if(!s)return;let r=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&c.l7.user("set-locked",()=>(function(e,t,s){e&&eY(e,s,e=>{e.locked=t})})(s,e,!1)),null!=t&&c.l7.user("set-visible",()=>(function(e,t,s){e&&eY(e,s,e=>{e.visible=t})})(s,t,!1))}this.state.mouseDown||H.Uc(s.guid)};T.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=r:r()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new q(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500}),this.getIsRowInView=(e,t)=>{if(!this.scrollContainer)return!0;let s=this.scrollContainer.getClipContainer().getBoundingClientRect();if(!t)return!0;let r=t.getBoundingClientRect();return e.fixed&&(this.props.width??0)!==0||r.top>=s.top&&r.bottom<=s.bottom},this.recalculateLayout(),this.initializeRows(this.props),this.scrollContainerInnerRef=i.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),K.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=d.glU&&d.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e}),this.updateAllVisibleRowGuids(),this.props.scrollContainerInnerRef?.(this.scrollContainerInnerRef);let t="objects-panel-inner-render-timer",s=j.sn.get(t);s&&s.isRunning&&!s.isUnreliable&&j.sn.tryStop(t)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),K.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode),this.scrollContainerResizeObserver&&(this.scrollContainerResizeObserver.disconnect(),this.scrollContainerResizeObserver=void 0)}updateSelection(e){this.props.onSelectionUpdated?this.props.onSelectionUpdated(e):((0,U.S)("panel"),H.tJ([e]),K.Y5.commit())}UNSAFE_componentWillUpdate(e){if(e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid)this.scrollToNodeIdAfterUpdate=e.renamingGuid;else if(e.currentPage&&e.currentPage!==this.props.currentPage){let e=d.glU&&d.glU.getFirstSelectedNodeIdForCurrentPage();e&&(this.scrollToNodeIdAfterUpdate=e)}let t=this.props.focusedNodes!==e.focusedNodes,s=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,r=this.props.customRowBuilder!==e.customRowBuilder;if((s||r||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!_()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!_()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes)||t&&(0,h.kc)().ce_il_layer_focus||!_()(this.props.topNodeProperties?.children,e.topNodeProperties?.children))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,s){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,eO.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,s=null;for(let r of this.renderedVisibleRowProps)"object"===r.rowType&&this.scrollContainer&&(0,eO.U$)(r,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[r.guid])&&(null===t||t>r.top)&&(t=r.top,this.anchorNodeId=r.guid),(null===s||s>r.top)&&(s=r.top,this.topNodeDelta=this.topByGuid[r.guid]-r.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),!this.scrollContainer)return;if(this.updateAllVisibleRowGuids(),this.scrollToNodeIdAfterUpdate){this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate);let e=void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate],t=this.state.rowToScrollToData?.guid===this.scrollToNodeIdAfterUpdate;e&&t&&(this.scrollToNodeIdAfterUpdate=null)}else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let s of this.renderedVisibleRowProps)if("object"===s.rowType&&s.guid===this.anchorNodeId){t=(0,eO.U$)(s,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}let s="objects-panel-inner-render-timer",r=j.sn.get(s);r&&r.isRunning&&!r.isUnreliable&&j.sn.tryStop(s)}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),s=1/0;for(let r of t){let t=this.topByGuid[r];t<s&&(s=t,e=r)}return e}findStickyHeader(e,t,s){let r=this.state.scrollTop,i=this.getScene().get(e.guid);if(!i||!e.hasChildren||!(e.isExpanded||e.isTemporarilyExpanded))return null;let n=t<=r&&s>r+e.height,l=s>r&&s<=r+e.height;return(this.scrollAfterNodeExpanded||n||l)&&this.isNodeSticky(i)?n?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):l?{...e,top:s-e.height,layerAbove:!0}:this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):null:null}expandDropTargetIfNeeded(e,t){let s=null;if(e&&"sticky"!==e.parentTop){let r=this.getScene().get(e.parentGuid);(0,l.KF)(!!r,"parentGuid should point to a valid node");let i=this.heightByGuid[e.parentGuid],n=t>e.parentTop+i/3&&t<e.parentTop+2*i/3;r.uiOrderedChildren.length&&n&&(s=r.guid)}this.lastExpansionTarget!==s&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),s&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&H.Ir(s,!0)},1e3)),this.lastExpansionTarget=s)}toggleSelected(e){this.props.sceneGraphSelection[e]?H.D$([e]):(H.Dh([e]),this.rangeSelectAnchorNodeId=e),K.Y5.commit()}relativeY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,I.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let s=this.state.scrollTop,r=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return s<e&&t<r}isOutOfViewLeft(e){let t=this.leftByGuid[e];return void 0!==t&&t<this.state.scrollLeft-50}isOutOfViewRight(e){let t=this.leftByGuid[e];return void 0!==t&&t+(0,C.jz)(eG.indentWidth)>this.state.scrollLeft+(this.props.width??0)-50}shouldHorizontallyAutoscroll(e){return this.props.renamingGuid!==e&&(this.isOutOfViewLeft(e)||this.isOutOfViewRight(e))}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,eO.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<this.props.topLevelObjectRowHeight?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,s,r){return"sticky"===e?Math.min(t-s,r):Math.min(t-e,r-(e-s))}scrollContainerHeight(){return(0,h.kc)().obj_panel_caching&&this.cachedScrollContainerHeight?this.cachedScrollContainerHeight:this.scrollContainerEl?.clientHeight??0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let s=this.scrollContainerHeight(),i=e.bottomForCanvasStackReparenting,n=this.heightByGuid[e.parentGuid],l="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;i&&s&&(n=this.computeStackOutlineHeight(l?"sticky":e.parentTop,i,this.state.scrollTop,s)),t=l?(0,r.jsx)("div",{"data-testid":"drop-target-box",className:eH,style:{position:"sticky",width:this.props.width??0,height:n,zIndex:eB.Wb}},"drop-target-box"):(0,r.jsx)("div",{"data-testid":"drop-target-box",className:eH,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:n}},"drop-target-box")}let s=null;return null!=e.lineTop&&(s=(0,r.jsx)("div",{"data-testid":"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}},"drop-target-line")),[t,s]}setupScrollContainerResizeObserver(e){(0,h.kc)().obj_panel_caching&&this.observedScrollContainerEl!==e&&(this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.disconnect(),this.scrollContainerResizeObserver=new ResizeObserver(t=>{for(let s of t)if(s.target===e){let e=s.contentRect.height;e!==this.cachedScrollContainerHeight&&(this.cachedScrollContainerHeight=e);return}}),this.scrollContainerResizeObserver.observe(e),this.observedScrollContainerEl=e)}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,s,i){let n=t.getNode(e.guid);if(!n||!n.parentGuid)return null;let l=t.getAncestorInfo(n.parentGuid),a=t.getMaskInfo(e.guid),o=null!=e.isSelected?e.isSelected:(0,J.K3)(this.props.sceneGraphSelection,e.guid);if(!l||!a)return null;let d=(l.isAncestorSelected||o)&&!l.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(n),c=!!e.prevNodeGuid&&t.getAncestorInfo(e.prevNodeGuid).isAncestorSelected,p=(!!e.prevNodeGuid&&(0,J.K3)(this.props.sceneGraphSelection,e.prevNodeGuid)||c)&&eK.OZ(this.cachedAllRowData)?.guid!==e.guid,h=!!e.nextNodeGuid&&t.getAncestorInfo(e.nextNodeGuid).isAncestorSelected,m=("FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===n.scrollBehavior||l.isAncestorFixed)&&l.isAncestorSelected,g=(!!e.nextNodeGuid&&(0,J.K3)(this.props.sceneGraphSelection,e.nextNodeGuid)||h)&&eK.w6(this.cachedAllRowData)?.guid!==e.guid,f=n.isLayerLikeCodeNode&&!n.isInstanceSublayer&&!n.isSymbolSublayer,x=(n.isCodeInstance||n.isCodeFile||n.isCodeComponent)&&!f;return(0,r.jsx)(ed.oo,{isReadOnly:this.props.isReadOnly,...e,booleanOperation:n.booleanOperation,componentLike:x,cornerRadius:n.cornerRadius,currentPage:this.props.currentPage,dispatch:this.props.dispatch,displayOrder:l.childrenDisplayOrder,expandMouseDown:this.expandMouseDown,hasChildren:n.isExpandable||e.hasChildren||(0,Z.vo)(n,this.getScene()),hasRefToHoveredDef:d,hideRowActions:this.props.hideRowActions,isAncestorHidden:l.isAncestorHidden,isAncestorLocked:l.isAncestorLocked,isAncestorSelected:!e.ignoreAncestorSelection&&l.isAncestorSelected,isDragging:!!this.state.dropTarget,isExpanded:e.isExpanded||e.isTemporarilyExpanded,isFavicon:this.props.faviconGuid===e.guid,isGIF:n.hasEnabledAnimatedPaint,isLastMaskedAtLevels:a.isLastMaskedAtLevels,isLayerAboveSelected:p,isLayerBelowSelected:g||m,isMaskedAtLevels:a.isMaskedAtLevels,isPrimaryBreakpoint:n.isPrimaryBreakpointFrame,isRenaming:this.props.renamingGuid===e.guid,isRowInView:s,isSelected:o,isSiteHomepage:this.props.topNodeProperties?.siteHomepageId===e.guid,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isStamp:(0,u.GI)(n),isState:n.isState,isStateGroup:n.isStateGroup,isStaticImage:n.hasEnabledStaticImagePaint,isTemporarilyHovered:this.props.temporarilyHoveredNodes.includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,isWebpage:n.isResponsiveSetOrWebpage,isWidgetSublayer:!!n.isInWidget,layerLikeCodeNode:f,lockMouseDown:this.lockMouseDown,locked:n.locked,mask:n.mask,nodeMemoryUsage:this.props.showInFileMemoryPercentage?n.nodeMemoryUsage:null,nodeType:n.type,objectsPanelThumbnailId:n.objectsPanelThumbnailId,observeWithResizeObserver:this.props.observeWithResizeObserver,onContextMenu:this.rowContextMenu,onDragDropCallback:this.onDragDrop,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,onDragOverCallback:this.onDragOver,onMouseEnter:this.rowMouseEnter,panelType:this.props.panelType??eO.g$.Object,panelWidth:this.props.width,recordingKey:i?void 0:e.recordingKey,renderResourceUse:this.props.renderResourceUse,resizeToFit:n.resizeToFit,rootMemoryUsage:this.props.showInFileMemoryPercentage?n.rootMemoryUsage:null,scrollDirection:n.scrollDirection,scrollLeft:this.state.scrollLeft,shouldShowGuids:this.props.shouldShowGuids,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,showMemoryUsage:this.props.showMemoryUsage,stackMode:n.stackMode,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,unobserveWithResizeObserver:this.props.unobserveWithResizeObserver,userId:this.props.userId,versionHistory:this.props.versionHistory,visible:n.visible,visibleMouseDown:this.visibleMouseDown},ez.getKeyForId(e.guid))}renderLayerExpansionRow(e){let t=ez.getKeyForId(eV(e)),s=void 0===this.props.width?"100%":this.props.width+this.state.scrollLeft;return(0,r.jsx)(eR,{top:e.top,width:s,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>H.Uc(""),dispatch:this.props.dispatch,recordingKey:N.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)},t)}renderSectionHeader(e){let t=this.sectionById[e.sectionId],s=t&&(0,J.sp)(this.getScene(),this.props.sceneGraphSelection,t.parentGuid),i=!0;if(t?.parentGuid&&t?.type!==d.KjJ.FIXED){let e=this.props.sceneGraph.get(t?.parentGuid);e&&e.fixedChildrenCount===e.uiOrderedChildren.length&&(i=!1)}let n=Math.max(this.props.scrollWidth,this.props.width??0);return(0,r.jsx)(eF,{...e,width:n,isParentSelected:s,sectionHasChildren:i,dispatch:this.props.dispatch},ez.getKeyForId(e.sectionId))}render(){j.sn.start("objects-panel-inner-render-timer");let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let s of(this.renderedVisibleRowProps=(0,eO.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,eO.Mq)(s,this.windowInnerHeight,this.state.scrollTop)||ez.freeKeyForId(eV(s));this.renderedVisibleRowProps.sort((e,t)=>ez.getKeyForId(eV(e))-ez.getKeyForId(eV(t)));let s=this.props.nodeInfoCache,i=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?i.push(this.renderObjectRow(e,s,this.getIsRowInView)):"layer-expansion"===e.rowType?i.push(this.renderLayerExpansionRow(e)):i.push(this.renderSectionHeader(e));var n=null;if(this.scrollToNodeIdAfterUpdate){let e=this.cachedAllObjectRowDataMap[this.scrollToNodeIdAfterUpdate];void 0!==e&&(0,eO.N1)(e)&&(n=this.renderObjectRow(e,s,this.getIsRowInView,!0))}if(!this.props.hideCanvasDropTargets&&this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,s=this.props.sceneGraph.get(t);s&&i.push(...this.renderDropTarget((0,eO.Gs)(s,this.topByGuid,this.heightByGuid,this.props.sceneGraph,this.totalHeight,this.props.insertionLineBoxOffset,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&i.push(...this.renderDropTarget(this.state.dropTarget));let l=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG",a={width:`max(${this.props.scrollWidth??0}px, 100%)`,height:this.totalHeight,"--row-gap":`${this.props.rowSelectionGap}px`};return(0,r.jsxs)(r.Fragment,{children:[this.props.showVisualLayerIcons&&(0,k.m)().ce_il_root&&(0,r.jsx)(eT,{ids:this.renderedVisibleRowProps.filter(e=>"object"===e.rowType).map(e=>e.guid),focusedNodeId:this.getTopSelectedNodeId()}),(0,r.jsx)(eA,{objectRow:n,setRowWidth:this.setRowToScrollToData,guid:this.scrollToNodeIdAfterUpdate}),(0,r.jsx)(eO.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return s.getNode(e)??null}}),(0,r.jsxs)(P.P,{ref:this.scrollContainerRef,className:f()(l,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),dataOnboardingKey:this.props.isUI3?void 0:eh.m4,enableOverscroll:!0,horizontalScrollBarEnabled:!0,initialScrollTop:this.props.initialScrollTop,innerClassName:f()({"objects_panel--reserveBottomHeight--yfmtq":this.props.reserveBottomHeight}),minContentWidth:this.props.width,onContextMenu:this.onContextMenu,onMouseDown:this.onScrollContainerMouseDown,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,recordingKey:N.Pt(this.props,"scrollContainer"),scrollContainerRef:this.scrollContainerInnerRef,width:this.props.width,children:[(0,r.jsx)(eg.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),(0,r.jsx)(A.V,{children:(0,r.jsx)("div",{className:f()("objects_panel--rowContainer--03VQD","objects_panel--horizontalScrollBarPadding--JfnK4"),style:a,onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel",children:i})})]})]})}}function eW(e){let t=(0,n.wA)(),s=(0,Y.J2)((0,B.UK)().showImmutableFrameSublayers),l=(0,Y.ut)(d.Ez5?.uiState().reparentIntoStackInfo,null),a=(0,z.NF)(),o=(0,z.Ht)(),c=(0,Y.J2)(d.Ez5.uiState().hoveredComponentPropDef),u=(0,z.no)(),g=(0,Y.J2)(d.Ez5.canvasViewState().temporarilyHoveredNodes),f=(0,W.TA)(),x=(0,n.d4)(e=>e.mirror.sceneGraphSelection),_=(0,n.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),b=(0,n.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),j=(0,n.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),C=(0,F.m0)(),v=(0,O._I)(),k=(0,G.E)(),S=(0,p.UN)(),w=(0,X.wA)((e,t)=>{let s=e.get(t);return s?{guid:s.guid,children:s.uiOrderedChildren,siteHomepageId:s.siteHomepageId}:null},e.currentPage),T=(0,eI.el)(),{topLevelObjectRowHeight:N,nestedObjectRowHeight:E,rowSelectionGap:I,insertionLineBoxOffset:M,showVisualLayerIcons:A}=i.useContext($.y0);(0,eO.SV)();let[P,L]=(0,m.fp)(eN.C),R=(0,y.A)(L,200),D=(0,X.Fk)(e=>e.getCurrentPage()?.webMetadata?.faviconID),K=(0,X.Fk)(e=>{let t=e.getCurrentPage();return(0,h.kc)().derived_prop_slow_selectors?(t?t.socialImageGuidsOnPage:[]).join(","):[t?.webMetadata?.socialImageID,...t?.childrenNodes.map(e=>e.isResponsiveSetOrWebpage&&e.webMetadata?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")}),H=(0,Y.J2)((0,B.UK)().showGuids),U=(0,V._Z)().isLoading,q=(0,i.useMemo)(()=>new eK.nV(S,x),[S,_,x]),J=i.useRef(null),Z=i.useRef(new Map);i.useEffect(()=>{let e=Z.current;return J.current=new ResizeObserver(t=>{for(let s of t){let t=e.get(s.target);t?.(s)}}),()=>{J.current?.disconnect(),e.clear()}},[]);let ee=i.useCallback((e,t)=>{!e||Z.current.has(e)||(Z.current.set(e,t),J.current?.observe(e))},[]),et=i.useCallback(e=>{e&&(J.current?.unobserve(e),Z.current.delete(e))},[]);if(C&&!v)return null;let es=null===e.topNodeProperties?w:e.topNodeProperties;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eU,{...e,currentPage:e.currentPage,dispatch:t,editModeType:j,faviconGuid:D,focusedNodes:e.focusedNodes,hasPending:U,hoveredPropDef:c,initialScrollTop:P,insertionLineBoxOffset:M,nestedObjectRowHeight:E,nodeInfoCache:q,objectsPanelRowRebuildCounter:_,observeWithResizeObserver:ee,onScroll:R,onSelectNodesFromLayersPanel:e.onSelectNodesFromLayersPanel,recordingKey:e.recordingKey??"objectsPanel",renderResourceUse:a,reparentIntoStackInfo:l,reserveBottomHeight:e.reserveBottomHeight,rowSelectionGap:I,sceneGraph:S,sceneGraphSelection:x,scrollWidth:T,shouldShowGuids:H,showImmutableFrameSublayers:s,showInFileMemoryPercentage:u,showMemoryUsage:o,showViewChangesNotification:k,showVisualLayerIcons:A,socialImageGuids:K,temporarilyExpandedInstanceLayers:b,temporarilyHoveredNodes:g,topLevelObjectRowHeight:N,topNodeProperties:es,unobserveWithResizeObserver:et,userId:f??void 0}),(0,r.jsx)(Q.p,{featureFlag:"auto_auto_layout",children:(0,r.jsx)(ep,{})})]})}function e$(e){return(0,r.jsx)(eI.Rp,{children:(0,r.jsx)(eW,{...e})})}function eY(e,t,s){if(s(e),t)for(let t of e.uiOrderedChildren)eY((0,p.UN)().get(t),!0,s)}eU.displayName="ObjectsPanelView",eU.contextType=eI.$V},582730:(e,t,s)=>{s.d(t,{o:()=>N});var r=s(104076),i=s(903927),n=s(680909),l=s(684742),a=s(420680),o=s(663806),d=s(523442),c=s(523758),u=s(266808),p=s(795033);s(120440);var h=s(641518),m=s(192075),g=s(330378),f=s(489175),x=s(736216),_=s(211862),y=s(894210),b=s(564941),j=s(156816),C=s(217961),v=s(156928),k=s(558720),S=s(141330),w=s(390452),T=s(578420);function N({isLayersOpen:e,onToggleLayers:t,recordingKey:s,...i}){let a=(0,_.q5)(),d=a?.thumbnailGuid||null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.bL,{isOpen:e,toggle:t,height:"fill",children:[(0,r.jsxs)(n.Y9,{variant:"leftPanel",size:"lg","data-onboarding-key":j.BZ,children:[(0,r.jsx)(n.JU,{recordingKey:h.Pt(s,"layersCollapsedRow"),htmlAttributes:{onContextMenu:f.jo},children:(0,m.tx)("fullscreen.pages_panel.layers_tab")}),e&&(0,r.jsx)(n.X0,{children:(0,r.jsx)(E,{recordingKey:h.Pt(s,"layersOptionMenu")})})]}),(0,r.jsx)(n.UC,{children:(0,r.jsx)(v.X,{...i,thumbnailGuid:d})})]}),i.reserveBottomHeight&&i.showAllLayers&&(0,r.jsx)("div",{className:"x78zum5 xl56j7k x10l6tqk x1ey2m1c xu96u03 x3m8u43 xsdox4t x1yjdb4r xoegz02",children:(0,r.jsxs)(l.E,{onClick:i.showAllLayers,className:"x1hlb6i2 x1db2dqx x78zum5 x6s0dn4 x1rjybxy x19y5rnk xxk0z11 xh8yej3 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x10e2c7l xv2f06h x1n0bwc9 x1c5oinq",children:[(0,r.jsx)(o.f,{}),(0,m.tx)("sites.layer_view.show_all_layers")]})})]})}function E(e){let t=(0,i.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.md)(C.X),n="collapse-layers",l=()=>{u.glU?.triggerActionEnumInUserEditScope(u.rcl.COLLAPSE_LAYERS,{})};if((0,x.A0)(u.uQ6.LAYERS_PANEL_OVERFLOW_MENU)){let s=[{displayText:(0,g.A)(n),callback:l,sideText:(0,b.c1)(t,n),rightJustifySideText:!0,icon:(0,r.jsx)(d._,{}),recordingKey:n},{displayText:(0,g.A)("auto-rename-layers"),callback:()=>{(0,x.Br)({source:u.uQ6.LAYERS_PANEL_OVERFLOW_MENU,trackingDataSource:"layers_panel_overflow_menu"})},icon:(0,r.jsx)(c._,{}),rightIcon:(0,r.jsx)(T.y,{variant:w.x.ON_MENU,helpUrlVariant:S.JT.AUTO_RENAME_LAYERS}),recordingKey:"auto-rename-layers"}];return(0,r.jsx)(k.U,{dropdownItems:s,lean:"left",recordingKey:e.recordingKey})}return s?(0,r.jsx)(a.K,{"aria-label":(0,g.A)(n),onClick:l,recordingKey:h.Pt(e.recordingKey,n),htmlAttributes:{"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,g.A)(n)},children:(0,r.jsx)(d._,{})}):(0,r.jsx)(r.Fragment,{})}},685040:(e,t,s)=>{s.d(t,{v:()=>G});var r=s(104076),i=s(716976),n=s(903927),l=s(276800),a=s(989941),o=s(623411),d=s(12866),c=s(812714),u=s(883765),p=s(641518),h=s(836982),m=s(361170),g=s(192075),f=s(850701),x=s(197055),_=s(278491),y=s(354114),b=s(553065),j=s(754446),C=s(805384),v=s(894210),k=s(386958),S=s(987405),w=s(536358),T=s(221586);let N="mixed_checkbox--mixed--xYUsQ";class E extends i.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===T.Uz.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}classNameForInput(){let{someChecked:e}=this.props,t="mixed_checkbox--checkboxInput--aoLHh";return e&&(t+=` ${N}`),this.props.inputClassName&&(t+=` ${this.props.inputClassName}`),t}classNameForCheckmark(){let{someChecked:e}=this.props,t="mixed_checkbox--checkmark--B6ca7";return e?t+=` ${N}`:t+=" mixed_checkbox--checked--w0eLb",this.props.disabled&&(t+=" mixed_checkbox--disabled--NP7v9"),this.props.checkmarkClassName&&(t+=` ${this.props.checkmarkClassName}`),t}render(){let{allChecked:e,someChecked:t}=this.props;return(0,r.jsxs)("label",{className:["mixed_checkbox--checkboxHitbox--QsCWQ",this.props.className].filter(e=>!!e).join(" "),children:[(0,r.jsx)("input",{id:this.props.id,"data-testid":this.props["data-testid"],"data-onboarding-key":this.props["data-onboarding-key"],type:"checkbox",onFocus:this.onFocus,checked:e,className:this.classNameForInput(),onChange:this.props.onChange,disabled:this.props.disabled}),(t||e)&&(0,r.jsx)("div",{className:this.classNameForCheckmark(),children:e?(0,r.jsx)(S.l,{}):(0,r.jsx)(w.w,{})})]})}}E.displayName="MixedCheckbox";class I extends p.o6{constructor(e){super(e),this.onChange=p.Z7(this,"change",e=>{this.props.onChange?.(e.target.checked)})}render(){let e=(0,b.hS)(this.props.property)&&!!(0,b.E7)(this.props.property),t=(0,b.gl)(this.props.property);return(0,r.jsx)(E,{className:["checkbox--checkboxHitbox--HBFVf mixed_checkbox--checkboxHitbox--QsCWQ",this.props.className].filter(e=>!!e).join(" "),inputClassName:"checkbox--checkboxInput--IHKak mixed_checkbox--checkboxInput--aoLHh",checkmarkClassName:"checkbox--checkmark--pzYni mixed_checkbox--checkmark--B6ca7",allChecked:e,someChecked:t,disabled:this.props.disabled,id:this.props.id,"data-testid":this.props["data-testid"],onChange:this.onChange})}}I.displayName="Checkbox";var M=s(239395),A=s(691967),P=s(501883),O=s(737139),L=s(251951),R=s(659159),D=s(7087),F=s(211251),K=s(167151),B=s(596763);function G(e){let t=(0,i.useRef)(null),s=(0,d.DP)(),S=(0,n.wA)(),w=(0,K.cJ)(),{backgroundColor:T,backgroundEnabled:N,backgroundOpacity:E,exportBackgroundDisabled:A}=(0,j.zj)("backgroundColor","backgroundEnabled","backgroundOpacity","exportBackgroundDisabled"),G=e=>y.Y5.updateSelectionProperties({backgroundEnabled:e}),z=e=>{y.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},V=i.useMemo(()=>{let e=(0,b.E7)(T),t=(0,b.E7)(E);return null!=e&&null!=t?{...e,a:t}:T||b.oV},[T,E]),U=i.useMemo(()=>(0,b.hS)(E)&&"number"==typeof E&&isNaN(E)?0:E,[E]),W=()=>{if(e.setDefaultToolOnPickerOpen&&y.Y5.triggerAction("set-tool-default"),e.pickerShown&&e.pickerShown.id===_.k8)S(f.XE());else{(0,c.kc)().ce_properties_panel_tracking&&(0,u.sx)("editor-background-panel-color-picker-show");let e=t.current?(0,k.cn)(t.current):{x:0,y:0};S(f.u1({id:_.k8,initialX:e.x,initialY:e.y})),S(x.sw())}},$=()=>(0,r.jsx)(H,{backgroundColor:T,backgroundEnabled:N,backgroundOpacity:E,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey,toggleColorPicker:W}),Y=()=>({color:(0,b.E7)(T)??void 0,opacity:(0,b.E7)(U)??void 0,type:"SOLID",blendMode:"NORMAL",visible:(0,b.E7)(N)??void 0}),X=()=>(0,r.jsx)(F.a,{...e,ref:t,dragging:!1,hasFocus:!1,onPreviewClick:W,onRowFocus:l.lQ,paint:Y(),previewActive:!1,secondIconButton:q(),selected:e.pickerShown?.id===_.k8,singletonRow:!0}),q=()=>void 0===N?void 0:(0,r.jsx)("span",{className:"background_panel--visible--2-4Ns",children:(0,r.jsx)(R.B,{visible:N,onChange:G,recordingKey:p.Pt(e,"visibleToggle")})});return(0,r.jsx)(h.k,{name:"background_panel",children:(0,r.jsxs)(O.Zk,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(O.fI,{className:"background_panel--panelTitleRow--uNINf",children:[(0,r.jsx)(P.Q,{children:w?(0,g.tx)("fullscreen.properties_panel.background"):(0,g.tx)("fullscreen.properties_panel.page")}),(0,r.jsx)(D.M,{showLibrarySets:!0,recordingKey:"pageLevel"})]}),"ui2"===s.version?(0,r.jsxs)(O.fI,{ref:t,children:[$(),q()]}):(0,r.jsx)(C.Q.Consumer,{children:e=>e.useLargePreviewRows?X():(0,r.jsx)(B.DE,{ref:t,label:null,input:$(),icon:q()})})]}),e.hasExports?"ui3"===s.version?(0,r.jsx)(B.Ad,{label:(0,r.jsx)(r.Fragment,{}),input:(0,r.jsx)(a.S,{muted:!0,mixed:A===b.oV,checked:!1===A,onChange:z,recordingKey:p.Pt(e,"exportDisableCheckbox"),label:(0,r.jsx)(o.J,{htmlAttributes:{"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT},children:(0,g.tx)("fullscreen.properties_panel.show_in_exports")}),htmlAttributes:{"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT}})}):(0,r.jsxs)(O.fI,{className:"background_panel--checkboxLabelRow--r-hmK",children:[(0,r.jsx)(I,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:A===b.oV?b.oV:!A,onChange:z,recordingKey:p.Pt(e,"exportDisableCheckbox")}),(0,r.jsx)(O.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),children:(0,g.tx)("fullscreen.properties_panel.show_in_exports")})]}):void 0,e.pickerShown?.id===_.k8&&(0,r.jsx)(M.h,{disabledVariableIds:new Set,initialPosition:new m.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,b.hS)(V)?(0,b.E7)(V):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let s=e.a;e.a=1,y.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:s,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:p.Pt(e,"colorPicker")}),(0,r.jsx)(L.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})]})})}function H(e){let t=i.useMemo(()=>{let t=(0,b.E7)(e.backgroundColor),s=(0,b.E7)(e.backgroundOpacity);return null!=t&&null!=s?{...t,a:s}:e.backgroundColor||b.oV},[e.backgroundColor,e.backgroundOpacity]),s=i.useMemo(()=>(0,b.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),l=(0,b.E7)(e.backgroundColor),a=(0,b.E7)(e.backgroundEnabled),o={color:l??void 0,opacity:(0,b.E7)(s)??void 0,type:"SOLID",blendMode:"NORMAL",visible:a??void 0};return(0,r.jsx)("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t",children:(0,r.jsx)(A.y,{recordingKey:e.recordingKey,togglePicker:e.toggleColorPicker,chitOverride:{color:t,opacity:s},paint:o,onChange:(t,s)=>{let r=!(0,n.bN)(t.color,e.backgroundColor),i=t.opacity!==e.backgroundOpacity;y.Y5.updateSelectionProperties({backgroundColor:r&&t?.color?{...t.color,a:1}:void 0,backgroundOpacity:i?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:s})},shouldAutoComplete:!1})})}},179863:(e,t,s)=>{s.d(t,{J:()=>x,N:()=>f});var r=s(104076),i=s(716976),n=s(773314),l=s(641518),a=s(192075),o=s(241421),d=s(553065),c=s(879018),u=s(954741),p=s(763268);let h=new o.SU;class m extends u.c${}let g=u.l6;class f extends i.PureComponent{render(){let e=this.props.includePassThrough?p.j4:p.r5;return(0,r.jsx)(g,{ariaLabel:(0,a.t)("fullscreen.properties_panel.color_picker.blend_mode_select.tooltip.blend_mode"),chevronClassName:this.props.chevronClassName,className:this.props.className,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownWidth:this.props.isUI3?120:"auto",enablePreview:!0,formatter:h,icon:this.props.isUI3?(0,r.jsx)(n.N,{}):(0,r.jsx)(c.MK,{value:(0,d.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),id:x(this.props.id),inputClassName:this.props.inputClassName,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,property:this.props.property,recordingKey:this.props.recordingKey,willShowDropdown:this.props.willShowDropdown,children:e.map((e,t)=>"SELECT_DIVIDER"===e?(0,r.jsx)(u.sK,{},t):(0,r.jsx)(m,{value:e,recordingKey:l.Pt(this.props,e)},t))})}}function x(e){return`blend-mode-select-${e}`}f.displayName="BlendMode"},104932:(e,t,s)=>{s.d(t,{c:()=>M,Q:()=>P});var r=s(104076),i=s(716976),n=s(903927),l=s(420680),a=s(403809),o=s(266808),d=s(511570),c=s.n(d),u=s(641518),p=s(192075),h=s(772523),m=s(512038),g=s(842013),f=s(894210),x=s(739710),_=s(581993),y=s(415567),b=s(437540),j=s(835307),C=s(540864),v=s(912138),k=s(492978),S=s(737139),w=s(476996),T=s(596763),N=s(920764),E=s(978526),I=s(388332);let M=i.memo(function(e){let{stateGroupSelectionMode:t,containingProductComponent:s,componentDescription:l}=(0,N.z6)(),a=i.useRef(null);(0,N.Od)(a),(0,N.h$)(a);let d=(0,n.d4)(g.Dr),u=(0,n.d4)(g.Ct),{allowLibraryPublish:h}=i.useContext(m.s);return t!==o.iCO.STATE?null:s?s&&s.isAlive?(0,r.jsxs)(S.Zk,{className:"component_panel--componentPanel--aKD1Q",style:e.isInSelectionActionsPanel?{paddingBottom:0,borderBottom:"none"}:void 0,ref:a,children:[(0,r.jsx)(P,{}),(0,r.jsx)(v.n,{description:l}),(0,r.jsx)(T.DE,{appendedClassName:c()(e.isInSelectionActionsPanel?"component_panel--ui3PanelHeaderRowSAP--3-23z props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"component_panel--ui3PanelHeaderRow--hU6q6 props_panel--ui3PanelHeaderRow--Ab8Jz",I.yf),label:null,input:(0,p.tx)("design_systems.component_panel.current_variant"),icon:(0,r.jsx)(A,{recordingKey:e.recordingKey})}),t===o.iCO.STATE&&(0,r.jsx)(_.e6,{containerWidth:x.O2.REGULAR,propDimension:x.OE.DEFINITION,guids:[s.guid],recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}),d&&u&&h&&(0,r.jsx)(k.x,{})]}):null:(0,r.jsx)(w.j,{recordingKey:"createStateGroup"})});function A(e){let t=function(){let e=(0,b.R)(C.Lg);return(0,j.g0)(e)}();return t&&("SYMBOL"===t.type&&!t.isState||t.isStateGroup)?(0,r.jsx)(l.K,{recordingKey:u.Pt(e.recordingKey,"goToParent"),"aria-label":(0,p.t)("design_systems.component_panel.select_component"),onClick:()=>{h.tJ([t.guid])},htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.component_panel.select_component"),"data-tooltip-type":f.Ib.TEXT},children:(0,r.jsx)(a.r,{})}):null}function P(){let e=(0,y.I9)();return e&&e.length>1?(0,r.jsx)(T.Ad,{label:null,appendedClassName:"component_panel--ui3ComponentRenameInputRow--nU8OK",input:(0,r.jsx)(E.R,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:"component_panel--ui3ComponentRenameUnfocusedInputOverride--n2SfL"})}):null}},357173:(e,t,s)=>{s.d(t,{ei:()=>y,j2:()=>b});var r=s(104076),i=s(716976),n=s(454851),l=s(662466),a=s(266808),o=s(812714),d=s(883765),c=s(437540),u=s(641518),p=s(933688),h=s(192075),m=s(354114),g=s(746005),f=s(76365),x=s(304812),_=s(567253);function y({recordingKey:e,rowRef:t}){let{selectedGUIDs:s}=(0,c.R)(e=>({selectedGUIDs:(0,f.Sh)(e)})),n=(0,_.Jo)(),l=(0,_.Df)(),o=(0,g.kG)("corner-smoothing"),[d,p]=i.useState(!1),h=l.cornerRadius,y=l.rectangleCornerRadii,j=n.cornerRadius,C=n.rectangleCornerRadii;i.useEffect(()=>{p(!!a.glU&&a.glU.getCornerRadiusToolPreferencesForFile()&&h&&y&&j&&C)},[s,h,y,j,C]);let v=(0,i.useCallback)(()=>{o.hide(),m.Y5.deselectProperty()},[o]),k=null;return h&&y?k=(0,r.jsx)(b,{recordingKey:e,disabled:!j||!C,rectangleCornerToolIndependentActive:d,setRectangleCornerToolIndependentActive:p}):h&&!y&&(k=(0,r.jsx)(x.E,{recordingKey:u.Pt(e,"cornerSmoothingToggle"),rowRef:t})),{cornerRadiusEnabled:h&&j,cornerControlIconButton:k,independentCornerControlEnabled:d,hideCornerSmoothing:v,cornerSmoothingPicker:o}}let b=i.memo(function({rectangleCornerToolIndependentActive:e,setRectangleCornerToolIndependentActive:t,disabled:s,recordingKey:i}){return(0,r.jsx)(p.E,{name:"independent_corner_radius_toggle",children:(0,r.jsx)(n.d,{actionOnPointerDown:!0,"aria-expanded":e,onClick:()=>{a.glU&&a.glU.setCornerRadiusToolPreferencesForFile(!e),t(!e),(0,o.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:e})},"aria-label":(0,h.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:s,htmlAttributes:{"data-testid":"individual-corners-toggle-button"},recordingKey:u.Pt(i,"rectangleCornerToolIndependentToggle"),children:(0,r.jsx)(l.Q,{})})})})},912138:(e,t,s)=>{s.d(t,{n:()=>o});var r=s(104076),i=s(716976),n=s(136192),l=s(553065),a=s(596763);function o({description:e}){let t=i.useMemo(()=>(0,l.gl)(e)?"":(0,n.At)(e),[e]);return""===t?null:(0,r.jsx)(a.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:(0,r.jsx)("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",children:t})})}},800354:(e,t,s)=>{s.d(t,{Ay:()=>L});var r=s(104076),i=s(716976),n=s(945741),l=s(983317),a=s(667693),o=s(276800),d=s(420680),c=s(989941),u=s(623411),p=s(293422),h=s(307829),m=s(454851),g=s(129011),f=s(90757),x=s(781767),_=s(146815),y=s(980852),b=s(795033);s(120440);var j=s(997629),C=s(641518),v=s(236631),k=s(192075),S=s(748128),w=s(315361),T=s(354114),N=s(581993),E=s(596763),I=s(737139),M=s(572427);let A={layout:"Include layout properties",rendering:"Include rendering properties",text:"Include text properties",interactivity:"Include interactivity properties"},P={...Object.fromEntries((0,n._0)().filter(e=>"boolean"===e.type).map(e=>[e.name,!1])),...n.KQ},O={...P,includeInstanceOverrides:!0,includeTypescriptTypes:!0};function L({recordingKey:e}){let[t,s]=(0,i.useState)(!1),[l,a]=(0,i.useState)(""),[h,m]=(0,i.useState)({}),[g,x]=(0,i.useState)({}),[b,S]=(0,i.useState)(""),[A,P]=(0,i.useState)(void 0),[L,D]=(0,i.useState)(""),[F,K]=(0,i.useState)(!1),[B,G]=(0,i.useState)(""),[H,z]=(0,i.useState)(0),[V,U]=(0,i.useState)({x:0,y:0}),[W,$]=(0,i.useState)(void 0),[Y,X]=(0,i.useState)({layout:!0,rendering:!0,text:!0,interactivity:!0}),q=(0,w.uQ)(),[J,Z]=(0,i.useState)(O),Q=(0,i.useMemo)(()=>B?(0,y.UN)().get(B):null,[B]),ee=(0,i.useCallback)(async e=>{if(J)try{let t=await (0,j.oy)(e,{...J,filterFunction:e=>e.visible,fieldGroups:Object.entries(Y).filter(([e,t])=>t).map(([e])=>e),focusNodeId:Q?Q.guid:void 0,maxSerializeNodes:H});a(t.jsxStr),m(t.componentInfoByJSXName),x(t.assetsByName),S(t.variablesObjDefinition??""),P(t.styleInfoCategorized);let s=e.isInstance?(0,y.UN)().get(e.symbolId):e;if(!J.ignoreFetchingComponentData&&s&&((0,_.B)(e)||e.isStateGroup||e.isInstance)){let e=await (0,j.gZ)(s,{serializeVariants:{strategy:"all"}}),t=Array.from(new Set(e.prefixTypes)).join("\n");D(t+"\n"+e.jsxStr)}else D("")}catch(e){if(e instanceof n.LV&&"Focus node is not a descendant of the node"===e.message){G(""),z(0);return}throw e}},[a,Y,J,Q,H]),et=(0,i.useCallback)(async()=>{if(!t||!q)return;let e=(0,y.UN)().get(q);e&&(await ee(e),T.Y5.triggerAction("commit"))},[t,q,ee]);async function es(e){if(!J)return;let t={...J,assetsByName:g,styleInfoCategorized:A,originalSize:J.normalizePxToRange01&&V.x>0&&V.y>0?V:void 0};$(void 0);try{if(q){let s=(0,y.UN)().get(q);if(!s)throw Error("Node not found");await (0,j.Go)({jsxStr:e,node:s,options:t})}else if(!(await (0,j.LZ)(e,t)).node)throw Error("Couldn't parse JSX")}catch(e){console.error(e),$(`JSX Error: ${e.message}`)}}(0,i.useEffect)(()=>{if(F)return(0,y.UN)().onChange(()=>{et()},{allowDeferral:!1})},[F,et]),(0,i.useEffect)(()=>{et()},[et]);let er=Object.values(h).map(e=>e.typescriptType).filter(e=>null!==e).join("\n");return(0,r.jsxs)(I.Zk,{children:[(0,r.jsxs)(M.Wv,{titleTx:(0,k.tx)("fullscreen.properties_panel.jsx_debug.title"),children:[(0,r.jsx)(d.K,{"aria-label":"Copy JSX",onClick:()=>{navigator.clipboard.writeText(l)},children:(0,r.jsx)(f.a,{})}),(0,r.jsx)(R,{serializerOptions:J,setSerializerOptions:Z,selectedFieldGroups:Y,setSelectedFieldGroups:X})]}),(0,r.jsxs)("div",{className:v.s.px16.$,children:[(0,r.jsx)(c.S,{checked:t,onChange:e=>s(e),label:(0,r.jsx)(u.J,{children:"Enabled"})}),t&&(0,r.jsxs)(r.Fragment,{children:[W&&(0,r.jsx)(u.J,{className:"x172n1ly",children:W}),(0,r.jsxs)(N.R$,{row:(0,r.jsx)("span",{className:v.s.flex.wFull.py8.$,children:(0,r.jsx)(u.J,{className:v.s.fontMedium.$,children:"Additional settings"})}),isCollapsedByDefault:!0,isChevronAlwaysVisible:!0,recordingKey:C.Pt(e,"additionalSettingsCollapsibleRow"),children:[(0,r.jsx)(u.J,{children:"Focus node guid and max nodes"}),(0,r.jsx)(E.fn,{leftLabel:null,leftInput:(0,r.jsx)(I.jT,{onBlur:e=>G(e.currentTarget.value),placeholder:"GUID"}),rightLabel:null,rightInput:(0,r.jsx)(I.jT,{value:H,onChange:e=>z(Number(e.currentTarget.value)),placeholder:"Max nodes"}),icon:null}),(0,r.jsx)(u.J,{children:"Original size"}),(0,r.jsx)(E.fn,{leftLabel:null,leftInput:(0,r.jsx)(I.jT,{value:V.x,onChange:e=>U({x:Number(e.currentTarget.value),y:V.y}),placeholder:"X"}),rightLabel:null,rightInput:(0,r.jsx)(I.jT,{value:V.y,onChange:e=>U({x:V.x,y:Number(e.currentTarget.value)}),placeholder:"Y"}),icon:null})]}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:15,value:l,style:{width:"100%"},onChange:e=>a(e.target.value)})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16},children:[(0,r.jsx)(p.$n,{onClick:()=>es(l),children:q?"Update node":"Create node"}),(0,r.jsx)(c.S,{checked:F,onChange:e=>K(e),label:(0,r.jsx)(u.J,{children:"Live Update"})})]})]}),Object.keys(h).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Components:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(h,null,2),onChange:o.lQ})})]}),er.length>0&&(0,r.jsxs)("div",{children:["Typescript definitions:",(0,r.jsx)("textarea",{rows:10,style:{width:"100%"},value:er})]}),Object.keys(g).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Assets:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(g,null,2),onChange:o.lQ})})]}),b&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Variables:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:b,onChange:o.lQ})})]}),A&&Object.keys(A).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Styles:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(A,null,2),onChange:o.lQ})})]}),L&&(0,r.jsxs)("div",{children:["React function component definition:",(0,r.jsx)("textarea",{rows:10,style:{width:"100%"},value:L,onChange:o.lQ})]})]})]})}function R({serializerOptions:e,setSerializerOptions:t,selectedFieldGroups:s,setSelectedFieldGroups:o}){let{getTriggerProps:d,manager:c}=h.b(),u={"Default Web Preset":O},p=b.md(S.pF)?.options;p&&Object.assign(u,{"Make Edits Serializer Preset":(0,l.k3)(p),"Make Edits Component Serializer Preset":(0,l.R0)(p)});let f=i.useCallback(e=>{o&&o(t=>({...t,[e]:!t[e]}))},[o]),_=i.useCallback((e,s)=>{t(t=>({...t,[e]:s}))},[t]),y=(0,n._0)();return(0,r.jsxs)(h.bL,{manager:c,children:[(0,r.jsx)(m.d,{...d(),"aria-label":"JSX debug settings",children:(0,r.jsx)(x.J,{})}),(0,r.jsxs)(h.mc,{children:[(0,r.jsx)(h.YJ,{title:(0,r.jsx)(h.hE,{children:"Presets"}),children:Object.entries(u??{}).map(([s,i])=>{let n={...P,...i},l=(0,a.c2)(n,e);return(0,r.jsx)(g.H_,{checked:l,onChange:()=>t(n),children:s},s)})}),(0,r.jsx)(h.YJ,{title:(0,r.jsx)(h.hE,{children:"Field groups"}),children:Object.entries(s??{}).map(([e,t])=>(0,r.jsx)(g.H_,{checked:t,onChange:()=>f(e),children:A[e]},e))}),y.filter(e=>"select"===e.input).map(t=>{let s=t.optional?[void 0]:[];return s.push(...t.choices),(0,r.jsx)(h.YJ,{title:(0,r.jsx)(h.hE,{children:t.description??t.name}),children:s.map(s=>(0,r.jsx)(g.H_,{checked:e[t.name]===s,onChange:()=>_(t.name,s),children:`${s}`},`${t.name}-${s}`))},t.name)}),(0,r.jsx)(h.YJ,{title:(0,r.jsx)(h.hE,{children:"Other options"}),children:y.filter(e=>"checkbox"===e.input).map(t=>(0,r.jsx)(g.H_,{checked:!!e[t.name],onChange:()=>_(t.name,!e[t.name]),children:t.description??t.name},t.name))})]})]})}},794354:(e,t,s)=>{s.d(t,{X2:()=>e_,Rv:()=>em,ZJ:()=>eg,qP:()=>ef,I_:()=>ex});var r=s(104076),i=s(716976),n=s(903927),l=s(443945),a=s(266808),o=s(437540),d=s(641518),c=s(192075),u=s(354114),p=s(553065),h=s(754446),m=s(76365),g=s(754788),f=s(563733),x=s(717206),_=s(950241),y=s(217062),b=s(357173),j=s(737139),C=s(177612),v=s(567253),k=s(729591),S=s(569527),w=s(111683),T=s(572427),N=s(251951),E=s(7087),I=s(596763),M=s(454851),A=s(900943),P=s(371952),O=s(894210),L=s(664320),R=s(681801),D=s(488748);let F=(0,x.Tn)();function K(e){let t=i.useMemo(x.On,[]),{isDefReferencedBySelection:s,visibilityIsBoundToComponentProp:n}=(0,o.R)(e=>({isDefReferencedBySelection:!!t(e,"VISIBLE"),visibilityIsBoundToComponentProp:F(e,(0,m.Sh)(e),"VISIBLE")})),{consumedVariable:l}=(0,L.u3)(["VISIBLE"]),a=i.useRef(null),[u,p]=(0,R.ND)("binding-icon"),h=(0,R.$V)(),g=(0,P.u)(h),f=!!l&&!!g||n||s,_=i.useCallback(()=>p(a.current),[p]),y=d.rf(d.Pt(e,"visibilityVariableBindingControl"),"mousedown",e=>{e&&!f&&1&e.buttons&&(_(),e.preventDefault(),e.stopPropagation())});return(0,r.jsx)("div",{className:D.RK,children:(0,r.jsx)(M.d,{ref:a,recordingKey:d.Pt(e,"visibilityVariableBindingControl"),"aria-expanded":u,"aria-label":(0,c.t)("proto.apply_assignment_property"),disabled:f,htmlAttributes:{"data-testid":"visibility-variable-binding-control","data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,c.t)("proto.apply_assignment_property"),onMouseDown:y},children:(0,r.jsx)(A.u,{})})})}var B=s(465157),G=s(642315),H=s(258816),z=s(744715),V=s(420680),U=s(240803),W=s(307829),$=s(812714),Y=s(674524),X=s(883765),q=s(241421),J=s(489175),Z=s(506192),Q=s(179863),ee=s(899413),et=s(763268),es=s(879018),er=s(954741),ei=s(167151);let en=new q.SU;class el extends er.c${}function ea(e){return(0,r.jsx)(er.l6,{...e,renderInput:({onMouseDown:e,props:t})=>(0,r.jsx)(V.K,{recordingKey:(0,Y.Pt)(t.recordingKey,"blendMode"),"aria-label":(0,c.t)("properties.dropdown.apply_blend_mode"),onClick:e,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":O.Ib.TEXT},children:(0,r.jsx)(es.MK,{value:t.property,defaultBlendMode:"PASS_THROUGH"})})})}function eo(e){return(0,$.kc)().eu_fpl_migration_menu?(0,r.jsx)(ep,{recordingKey:d.Pt(e.recordingKey,"blendMode"),id:e.id}):(0,r.jsx)(ed,{...e})}function ed({blendModeRowId:e,id:t,recordingKey:s}){let[i,l]=(0,et.sL)(),a=(0,n.wA)(),o=(0,Z.Um)(),u=(0,ei.cJ)(),p=!(0,et.qg)(i,"PASS_THROUGH"),h=et.j4.map((e,t)=>{let i="LINEAR_BURN"===e&&u;return"SELECT_DIVIDER"===e?(0,r.jsx)(er.sK,{},t):(0,r.jsx)(el,{value:e,disabled:i,recordingKey:d.Pt(s,"blendMode",e)},t)});return p&&o?.type!==t||o?.type===(0,Q.J)(e)?(0,r.jsx)(M.d,{"aria-label":(0,c.t)("properties.dropdown.remove_blend_mode"),"aria-expanded":!0,actionOnPointerDown:!0,onClick:()=>l("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":O.Ib.TEXT},children:(0,r.jsx)(es.MK,{value:i,defaultBlendMode:"PASS_THROUGH"})}):(0,r.jsx)(ea,{ariaLabel:(0,c.t)("properties.dropdown.blend_mode"),className:"selection_blend_mode_icon_button--container--Wv9Hd",disableSelectFocus:!0,dispatch:a,dropdownAlignment:"right",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",dropdownShown:o,enablePreview:!0,formatter:en,id:t,minTop:6,onChange:l,onMouseDown:J.dG,property:i,recordingKey:d.Pt(s,"blendMode"),willShowDropdown:()=>((0,X.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),children:h})}let ec=(0,et.GZ)(et.j4),eu="PASS_THROUGH";function ep({recordingKey:e,id:t}){let[s,i]=(0,et.sL)(),{getTriggerProps:n,manager:l,updatePreview:a,onSubmit:o,valueBeforePreview:d}=(0,ee.Z)({id:t,blendMode:s,onChange:i}),{onClick:u,...p}=n();return(0,et.qg)(s,eu)||l.isOpen?(0,r.jsx)(U.o,{eventListeners:["onWheel"],children:(0,r.jsxs)(W.bL,{manager:l,children:[(0,r.jsx)(M.d,{recordingKey:e,"aria-label":(0,c.t)("properties.dropdown.apply_blend_mode"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":O.Ib.TEXT},onClick:e=>{(0,X.sx)("editor-blend-mode-dropdown-show"),u(e)},...p,children:(0,r.jsx)(es.MK,{value:s,defaultBlendMode:eu})}),(0,r.jsx)(W.mc,{children:(0,r.jsx)(ee.m,{selectedItem:d??s,options:ec,onChange:o,recordingKey:e,onFocus:a})})]})}):(0,r.jsx)(V.K,{"aria-label":(0,c.t)("properties.dropdown.remove_blend_mode"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":O.Ib.TEXT},onClick:()=>i(eu),children:(0,r.jsx)(es.MK,{value:s,defaultBlendMode:eu})})}var eh=s(959607);let em="layer-blend-mode",eg="layer-blend-mode-select",ef=["OPACITY"];function ex(){let e=(0,v.Jo)(),t=(0,v.Df)(),s=(0,h.kl)("visible"),r=(0,R.$H)(),n=i.useMemo(x.On,[]),{isDefReferencedBySelection:l,selectedGUIDs:a}=(0,o.R)(e=>({isDefReferencedBySelection:!!n(e,"VISIBLE"),selectedGUIDs:(0,m.Sh)(e)})),d=!(0,g.Yc)("VISIBLE",a)||l,[c]=(0,h.lJ)("opacity"),p=i.useRef(null),f=i.useCallback((e,t)=>{u.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!l&&u.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[l]),_=(0,R.AP)();return{shown:t,enabled:e,visible:s,visibilityIsBoundToVariable:r,shouldShowVisibilityBindingIcon:d,shouldShowPropPill:!r,opacity:c,opacityInputRef:p,onOpacityChange:f,handleMirroring:(0,h.kl)("handleMirroring"),isVectorEditMode:_,selectedGUIDs:a}}let e_=i.memo(function(e){let t=(0,i.useRef)(null),{shown:s,enabled:o,visible:u,visibilityIsBoundToVariable:h,shouldShowVisibilityBindingIcon:m,shouldShowPropPill:x,opacity:v,opacityInputRef:M,onOpacityChange:A,handleMirroring:P,isVectorEditMode:O,selectedGUIDs:L}=ex(),{cornerRadiusEnabled:R,cornerControlIconButton:D,independentCornerControlEnabled:F,hideCornerSmoothing:z,cornerSmoothingPicker:V}=(0,b.ei)({recordingKey:e.recordingKey,rowRef:t}),U=(0,n.wA)(),W=P&&O&&(0,r.jsx)(w.Cs,{handleMirroring:P,recordingKey:d.Pt(e,"mirroring")});return(0,r.jsxs)(j.Zk,{"data-testid":"appearance-panel",children:[(0,r.jsxs)(T.Wv,{titleTx:(0,c.tx)("fullscreen.appearance_panel.appearance"),children:[!h&&!m&&(0,r.jsx)(g.yQ,{parameterField:"VISIBLE",defaultValue:u,guids:L}),(0,r.jsx)(E.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),(0,r.jsx)(B.C,{recordingKey:e.recordingKey}),m&&(0,r.jsx)(K,{recordingKey:e.recordingKey}),(0,r.jsx)(eo,{id:eg,blendModeRowId:em,recordingKey:e.recordingKey})]}),(0,r.jsx)(I.fn,{ref:t,leftInput:(0,r.jsx)(y.sA,{recordingKey:d.Pt(e,"layerOpacityInputWrapper"),fields:ef,disabled:!1,resolvedType:a.rXF.FLOAT,currentFieldValue:(0,p.hS)(v)?v:void 0,inputRef:M,hasBindingContextMenu:!0,children:(0,r.jsx)(_.Pd,{dispatch:U,forwardedRef:M,inputClassName:eh.h,isTokenizable:!0,mixedMathHandler:ey,noBorderOnHover:!0,onValueChange:A,recordingKey:d.Pt(e,"opacity"),ui3RightJustifyPercentSign:!1,value:v,children:(0,r.jsx)("div",{className:eh.s,children:(0,r.jsx)(l.N,{})})})}),rightInput:(0,r.jsx)(C.C,{recordingKey:e.recordingKey,disabled:!R}),icon:D,leftLabel:(0,c.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,c.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),W&&(0,r.jsx)(I.DE,{label:(0,c.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:W,icon:null}),F&&(0,r.jsx)(S.j,{recordingKey:d.Pt(e,"independentCornerRadius")}),(s.count||s.starInnerScale)&&(0,r.jsx)(w.cU,{countShown:s.count,countDisabled:!o.count,starInnerScaleShown:s.starInnerScale,starInnerScaleDisabled:!o.starInnerScale,recordingKey:e.recordingKey}),s.arcData&&(0,r.jsx)(w.Je,{arcDataDisabled:!o.arcData,recordingKey:e.recordingKey}),(0,r.jsx)(G.r,{id:em,blendModeSelectId:eg,recordingKey:e.recordingKey}),x&&(0,r.jsx)(f.L,{parameterField:"VISIBLE",label:null}),(0,r.jsx)(N.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),(0,r.jsx)(H.m,{}),V.showing&&(0,r.jsx)(k.K,{defaultPosition:V.initialPosition,onClose:z,recordingKey:d.Pt(e,"advanced")})]})}),ey=new z.b},465157:(e,t,s)=>{s.d(t,{C:()=>v});var r=s(104076),i=s(716976),n=s(4921),l=s(782747),a=s(243816),o=s(437540),d=s(641518),c=s(192075),u=s(354114),p=s(553065),h=s(754446),m=s(371952),g=s(76365),f=s(894210),x=s(717206),_=s(217062),y=s(664320),b=s(681801),j=s(488748);let C=(0,x.Tn)();function v(e){let t=i.useCallback(e=>{u.Y5.updateSelectionProperties({visible:e})},[]),s=i.useMemo(x.On,[]),{isDefReferencedBySelection:v,visibilityIsBoundToComponentProp:k}=(0,o.R)(e=>({isDefReferencedBySelection:!!s(e,"VISIBLE"),visibilityIsBoundToComponentProp:C(e,(0,g.Sh)(e),"VISIBLE")})),S=(0,m.SG)(["VISIBLE"]).data??[],[w]=(0,h.lJ)("visible"),{consumedVariable:T}=(0,y.u3)(["VISIBLE"]),N=i.useRef(null),[E,I]=(0,b.ND)("visibility-icon"),M=(0,b.$V)(),A=(0,m.u)(M),P=!!T&&!!A,O=P||k||v,L=!P&&!k&&S.length>0,R=w?(0,c.t)("fullscreen.properties_panel.tooltip_hide"):(0,c.t)("fullscreen.properties_panel.tooltip_show");return(0,r.jsx)("div",{className:j.RK,children:(0,r.jsx)(_.JQ,{ref:N,currentFieldValue:!!(0,p.gl)(w)||w,isActive:E,disabled:e.disabled||!L,onPickerOpen:()=>I(N.current),recordingKey:d.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0,children:(0,r.jsx)(n.f,{"aria-label":R,checked:!O&&!w,disabled:O,htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":R,"data-tooltip-type":f.Ib.TEXT},mixed:!O&&(0,p.gl)(w),offIcon:(0,r.jsx)(l._,{}),onChange:()=>t(w===p.oV||!w),onIcon:(0,r.jsx)(a.j,{}),recordingKey:d.Pt(e,"visibleToggle"),variant:"highlighted"})})})}},642315:(e,t,s)=>{s.d(t,{r:()=>f});var r=s(104076),i=s(903927),n=s(420680),l=s(649238),a=s(883765),o=s(437540),d=s(641518),c=s(192075),u=s(894210),p=s(179863),h=s(763268),m=s(596763),g=s(488748);function f({blendModeSelectId:e,id:t,recordingKey:s,showDefault:f}){let x=(0,i.wA)(),[_,y]=(0,h.sL)(),b=(0,o.R)(e=>e.dropdownShown),j=!f&&(0,h.qg)(_,"PASS_THROUGH");return(b?.type===e||j)&&b?.type!==(0,p.J)(t)?null:(0,r.jsx)(m.DE,{label:(0,c.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:(0,r.jsx)(p.N,{chevronClassName:g.ai,className:g.jK,dispatch:x,dropdownShown:b,id:t,includePassThrough:!0,inputClassName:g.Df,isUI3:!0,onChange:y,property:_,recordingKey:d.Pt(s,"blendMode"),willShowDropdown:()=>((0,a.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())}),icon:f&&(0,h.qg)(_,"PASS_THROUGH")?null:(0,r.jsx)(n.K,{htmlAttributes:{"data-tooltip":(0,c.t)("general.remove"),"data-tooltip-type":u.Ib.TEXT},"aria-label":(0,c.t)("general.remove"),onClick:()=>y("PASS_THROUGH"),actionOnPointerDown:!0,children:(0,r.jsx)(l.f,{})})})}},258816:(e,t,s)=>{s.d(t,{m:()=>m});var r=s(104076),i=s(420680),n=s(286643),l=s(192075),a=s(371952),o=s(894210),d=s(664320),c=s(13073),u=s(691415),p=s(596763),h=s(681801);function m(){let{consumedVariable:e,clearVariableConsumption:t}=(0,d.u3)(["VISIBLE"]),s=(0,h.$V)(),m=(0,a.u)(s),g=m?.name,f=!!e&&!!m,x=(0,a.BQ)(s);return f?(0,r.jsx)(p.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:(0,r.jsx)(u.P,{value:g||(0,l.t)("fullscreen.mixed"),variableId:s,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!m&&(0,c.eF)(m),fullWidth:!0,variablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==x?x:void 0}),icon:(0,r.jsx)("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN",children:(0,r.jsx)(i.K,{onClick:()=>t(),"aria-label":(0,l.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,l.t)("variables.binding_ui.detach_variable_tooltip")},children:(0,r.jsx)(n.U,{})})}),label:null}):null}},304812:(e,t,s)=>{s.d(t,{E:()=>h});var r=s(104076),i=s(716976),n=s(454851),l=s(995639),a=s(812714),o=s(883765),d=s(192075),c=s(746005),u=s(894210),p=s(386958);let h=i.memo(function({rowRef:e,recordingKey:t}){let s=(0,c.kG)("corner-smoothing");return(0,r.jsx)(n.d,{actionOnPointerDown:!0,recordingKey:t,"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"aria-expanded":!!s.showing,onClick:t=>{t.stopPropagation(),(0,a.kc)().ce_properties_panel_tracking&&(0,o.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:s.showing}),s.toggle(()=>(0,p.cn)(e.current))},htmlAttributes:{"data-tooltip":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":u.Ib.TEXT,"data-testid":"cornerSmoothingToggle"},children:(0,r.jsx)(l.A,{})})})},744715:(e,t,s)=>{s.d(t,{b:()=>n}),s(104076),s(716976),s(903927),s(266808);var r=s(170627);s(511570),s(883765),s(437540),s(641518),s(836982),s(192075),s(911990),s(354114),s(772523),s(553065);var i=s(567862);s(754446),s(371952),s(448711),s(76365),s(294570),s(894210),s(754788),s(563733),s(717206),s(950241),s(217062),s(179863),s(128579),s(501883),s(737139),s(251951),s(664320),s(13073),s(691415),s(7087),s(465157),s(681801),s(83792),s(818642),s(488748);class n extends i.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){r.l7.user("set-opacity",()=>{e.opacity=t})}}new n},400059:(e,t,s)=>{s.d(t,{B:()=>_});var r=s(104076),i=s(716976),n=s(99723),l=s(816299),a=s(623411),o=s(641518),d=s(836982),c=s(192075),u=s(354114),p=s(553065),h=s(294570),m=s(501883),g=s(737139),f=s(746023),x=s(596763);function _(e){let{maskType:t}=e,s=i.useId();return(0,r.jsx)(d.k,{name:"mask_panel",children:(0,r.jsxs)(g.Zk,{children:[(0,r.jsx)(g.fI,{children:(0,r.jsx)(m.Q,{id:s,children:(0,c.tx)("fullscreen.mask_panel.mask")})}),(0,r.jsx)(x.Ad,{input:(0,r.jsx)(C,{maskType:t,recordingKey:e.recordingKey}),label:null})]})})}function y(e,t=h.zk.YES){u.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})}let b="Mixed",j={format:e=>{switch(e){case"ALPHA":return(0,c.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,c.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,c.t)("fullscreen.mask_panel.luminance");case"Mixed":return(0,c.t)("fullscreen.mixed")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,c.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,c.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,c.t)("fullscreen.mask_panel.luminance_extended")};case"Mixed":return{text:(0,c.t)("fullscreen.mixed")}}}};function C({maskType:e,recordingKey:t}){let{valueBeforePreview:s,updatePreview:i,onSubmit:d,clearPreview:u}=(0,f.g)({id:"mask-type-dropdown",property:e,onChange:y}),h=(0,p.gl)(e)||(0,p.gl)(s),m=h?b:s??e,g=(0,n.s)(e=>{if(e!==b){if(!e&&s&&!(0,p.gl)(s)){i(s);return}i(e)}},50);return(0,r.jsxs)(l.bL,{value:m,onChange:e=>{e!==b&&d(e)},onSelectionChange:g,onOpenChange:e=>{s&&!e&&u()},recordingKey:o.Pt(t,"maskType"),children:[(0,r.jsx)(l.l9,{width:"fill",label:(0,r.jsx)(a.h,{children:(0,c.tx)("fullscreen.mask_panel.mask")}),children:j.format(m)}),(0,r.jsxs)(l.mc,{children:[h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.c$,{value:b,disabled:!0,children:(0,c.tx)("fullscreen.mixed")}),(0,r.jsx)(l.wv,{})]}),(0,r.jsx)(l.c$,{value:"ALPHA",children:j.formatExtended("ALPHA")?.text}),(0,r.jsx)(l.c$,{value:"OUTLINE",children:j.formatExtended("OUTLINE")?.text}),(0,r.jsx)(l.c$,{value:"LUMINANCE",children:j.formatExtended("LUMINANCE")?.text})]})]})}},455516:(e,t,s)=>{s.d(t,{C:()=>c});var r=s(104076),i=s(266808),n=s(641518),l=s(836982),a=s(192075),o=s(737139),d=s(900701);class c extends n.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return(0,r.jsx)(l.k,{name:"remove_group_fill_and_stroke_panel",children:(0,r.jsx)(o.Zk,{children:(0,r.jsx)(d.u,{title:"Background",addProperty:this.noop,removeProperty:i.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0,children:(0,r.jsx)(o.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq",children:(0,r.jsx)(o.nV,{className:"remove_group_fill_and_stroke_panel--label--orOpK",children:(0,a.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported")})})})})})}}},219636:(e,t,s)=>{s.d(t,{j:()=>e4});var r=s(104076),i=s(716976),n=s(903927),l=s(746175),a=s(88314),o=s(266808),d=s(387092),c=s(264993),u=s(812714),p=s(795033),h=s(930508),m=s(511570),g=s.n(m),f=s(983500),x=s(221586),_=s(743072),y=s(404722),b=s(836982),j=s(876621),C=s(205084),v=s(816622),k=s(607804),S=s(988681),w=s(511295),T=s(197055),N=s(797715),E=s(278491),I=s(819851),M=s(968169),A=s(83202),P=s(553065),O=s(328835),L=s(74620),R=s(211862),D=s(490499),F=s(530299),K=s(331497),B=s(443208),G=s(837500),H=s(289050),z=s(25870),V=s(343933),U=s(406310),W=s(825911),$=s(72138),Y=s(467111),X=s(64004),q=s(7718),J=s(641518),Z=s(361170),Q=s(192075),ee=s(258709),et=s(772523),es=s(624155),er=s(390669),ei=s(293422),en=s(878604),el=s(268389),ea=s(980852),eo=s(298836),ed=s(555013),ec=s(850701),eu=s(292658),ep=s(913014),eh=s(382827),em=s(29335),eg=s(255004),ef=s(121179),ex=s(643330),e_=s(691201);function ey({initialPosition:e,styleNameInputPrefix:t,styleType:s,inheritStyleKeyField:l,onCreate:a,recordingKey:d}){let c=(0,n.wA)(),p=(0,n.d4)(e=>e.mirror.selectedStyleProperties),h=(0,n.d4)(e=>e.mirror.sceneGraphSelection),m=1===Object.keys(h).length?Object.keys(h)[0]:null,g=m?ea.UN().get(m)?.type==="CMS_RICH_TEXT":null,f=i.useRef(!g&&Object.keys(h).length>0),[x,_]=i.useState(!f.current&&void 0),y=(0,eh.sO)(),[b,j]=i.useState((0,em.s1)()),C=y&&(0,eg.Rc)(s),{styleRef:v,createStyle:k}=(0,eu.u)({inheritStyleKeyField:l,isCreatingFromSelection:f.current,trackingOptions:{styleType:s},shouldUseEyedropperStyleCreationFlow:!1}),S=J.of(d,"submit",()=>{let e=k();C&&o.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",b),c(ec.XE()),g||c(ec.Uv()),c(T.sw()),a&&a(e||"")}),w=(0,n.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(s){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}}),N=e=>{switch(e){case"FILL":return(0,Q.t)("design_systems.create_style.color");case"TEXT":return(0,Q.t)("design_systems.create_style.text");case"EFFECT":return(0,Q.t)("design_systems.create_style.effect");case"EXPORT":return(0,Q.t)("design_systems.create_style.export");case"GRID":return(0,Q.t)("design_systems.create_style.guide");default:return(0,Q.t)("design_systems.create_style.create_new_style_generic")}};if(!p.styleType)return null;let E=(0,r.jsxs)("div",{className:e_.FY,children:[(0,r.jsx)(ep.O8,{isInspectPanel:!1,onEnterPressed:S,recordingKey:"createStyleModal",selectedStyleProperties:p,setSlideThemeId:j,showProperties:x,showSlideThemeField:C,slideThemeId:b,styleNameInputPrefix:t,type:p.styleType}),!v&&(0,r.jsx)("div",{className:"create_style_modal--errorMessage--8ZpFE",children:(0,Q.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")}),(0,r.jsxs)(eo.AutoLayout,{horizontalAlignItems:f.current?void 0:"end",verticalAlignItems:"center",spacing:f.current?"auto":void 0,padding:8,children:[f.current&&(0,r.jsx)(ei.$n,{variant:"link",onClick:()=>_(!x),recordingKey:J.Pt("createStyleModal","moreOptions"),children:x?(0,Q.tx)("design_systems.create_style.hide_options"):(0,Q.tx)("design_systems.create_style.show_more_options")}),(0,u.kc)().ce_tv_fpl_create_style_modal?(0,r.jsx)(ei.$n,{onClick:S,disabled:!w||!v,children:(0,Q.tx)("design_systems.create_style.create_style")}):(0,r.jsx)(ed.$$,{style:{justifySelf:"right"},onClick:S,disabled:!w||!v,tabIndex:0,children:(0,Q.tx)("design_systems.create_style.create_style")})]})]});return(0,u.kc)().ce_tv_fpl_create_style_modal?(0,r.jsx)(W.zK.Provider,{value:W.zM.CREATE_STYLE,children:(0,r.jsx)(en.bL,{onClose:({source:e})=>{"outside"!==e&&c(T.sw())},width:ef.tA,defaultPosition:e,draggable:"header",recordingKey:J.Pt("createStyleModal"),children:(0,r.jsxs)(el.vo,{children:[(0,r.jsx)(el.Y9,{children:(0,r.jsx)(el.hE,{children:N(p.styleType)})}),(0,r.jsx)(el.nB,{padding:0,children:E})]})})}):(0,r.jsx)(W.zK.Provider,{value:W.zM.CREATE_STYLE,children:(0,r.jsx)(ex.Ao,{title:N(p.styleType),headerSize:"small",initialWidth:ef.tA,initialPosition:e,onClose:()=>{c(T.sw())},recordingKey:J.Pt("createStyleModal"),dragHeaderOnly:!0,children:E})})}var eb=s(136192),ej=s(835307);function eC({canEdit:e,isInspectPanel:t,isRenaming:s,recordingKey:i,stylePreviewShown:l}){let a=(0,n.wA)(),o=(0,n.d4)(e=>e.mirror.selectedStyleProperties),d=(0,es.IW)(l),u=(0,c.dI)(o.guid),p=(0,L.p8)("isReadOnly"),h=!!d||!e||p,m="",g="",[f,x]=(0,ej.Fk)((e,t)=>{if(d)return["",""];let s=e.get(t);return[s?.name||"",s?.description||""]},u);return d?(m=d.name||"",g=d.description_rt?(0,eb.At)(d.description_rt):d.description||""):(0,c.dI)(o.guid)&&(m=f,g=(0,eb.At)(x)),(0,r.jsx)(W.zK.Provider,{value:W.zM.EDIT_STYLE,children:(0,r.jsx)(ep.O8,{recordingKey:i,isInspectPanel:t,isRenaming:s,onEnterPressed:()=>a(T.sw()),selectedStyleProperties:o,styleDescription:g,styleName:m,type:o.styleType,viewOnly:h})})}var ev=s(475477),ek=s(805733),eS=s(737139);function ew({stylePreviewShown:e}){let t=(0,es.IW)(e),s=(0,ek.b)({libraryKey:t?.library_key,nodeId:t?.node_id}),n=i.useMemo(()=>s.data?.type==="team",[s.data]),l=i.useMemo(()=>s.data?.type==="team"?s.data.link:null,[s.data]);return l&&n?(0,r.jsx)(b.k,{name:"external_style_options",children:(0,r.jsx)(eS.Zk,{children:(0,r.jsx)(eS.fI,{children:(0,r.jsx)("div",{className:e_.lf,children:(0,r.jsx)(ev.N,{newTab:!0,href:l,trusted:!0,children:(0,Q.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")})})})},"external-style-options")}):null}function eT({onCloseStylePreviewModal:e,recordingKey:t}){let s=(0,R.q5)(),i=(0,K.ut)((0,et.aY)(),o.FAf.DESIGN),l=(0,L.p8)("topLevelMode"),a=(0,n.d4)(e=>e.library),d=(0,n.d4)(e=>e.stylePreviewShown),u=(0,O.b)("guid"),p=(0,O.b)("styleType");if(!d.isShown||![o.FAf.DESIGN,o.FAf.SITE,o.FAf.INSPECT,o.FAf.ILLUSTRATION].includes(i))return null;let h=new Z.Mi(d.rowLeft-ef.tA,d.rowTop);if(d.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:s}=d;return(0,r.jsx)(ey,{recordingKey:"createStyleModal",initialPosition:h,styleNameInputPrefix:s,styleType:e,inheritStyleKeyField:t})}let m=(0,P.E7)(u),g=(0,P._W)(p,q.s4.NONE);if(null===m)return null;let f=!(0,ee.eE)(d.style,s),x=(0,c.dI)(m);if(!(a.local.styles[x]&&!a.local.styles[x]?.is_soft_deleted)&&!f)return null;let _=s?.canEdit??!1,y=f||!_||l===o.lyf.BRANCHING;return(0,r.jsx)(W.zK.Provider,{value:W.zM.EDIT_STYLE,children:(0,r.jsx)(ex.Ao,{title:function(e,t){if(t)switch(e){case"FILL":return(0,Q.t)("design_systems.styles.view_color_style");case"TEXT":return(0,Q.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,Q.t)("design_systems.styles.view_effect_style");case"GRID":return(0,Q.t)("design_systems.styles.view_guide_style");default:return(0,Q.t)("design_systems.styles.view_style")}switch(e){case"FILL":return(0,Q.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,Q.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,Q.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,Q.t)("design_systems.styles.edit_guide_style");default:return(0,Q.t)("design_systems.styles.edit_style")}}(g,y),headerSize:"small",initialWidth:ef.tA,initialPosition:h,onClose:e,recordingKey:J.Pt(t,"modal"),dragHeaderOnly:!0,children:(0,r.jsxs)("div",{className:e_.FY,children:[(0,r.jsx)(er.VF,{isVisible:!0,children:()=>(0,r.jsx)(eC,{recordingKey:J.Pt(t,"stylePreviewPanel"),canEdit:_,isInspectPanel:i===o.FAf.INSPECT,isRenaming:a.isRenamingSelectedStyle,stylePreviewShown:d},"style-preview-panel")}),(0,r.jsx)(er.VF,{isVisible:f,children:()=>(0,r.jsx)(ew,{stylePreviewShown:d})})]})},(0,es.Gj)(d.style))})}function eN({onCloseStylePreviewModal:e,onKeyDown:t,recordingKey:s,shouldAnimate:i}){return(0,r.jsx)(z.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:t,children:(0,r.jsxs)(j.V,{className:g()(e_.Lp,e_.Ph),children:[(0,r.jsx)($.P,{hideScrollbar:!0,scrollingDisabled:!0,className:g()(e_.ux,e_.KE,E.Dm,e_.Ph,{[e_.eu]:i}),width:X.iP,children:(0,r.jsx)("div",{className:e_.eh,"data-non-interactive":!0,children:(0,r.jsx)(Y.B7,{})})}),(0,r.jsx)(eT,{onCloseStylePreviewModal:e,recordingKey:s})]})})}var eE=s(246144),eI=s(365120),eM=s(12606),eA=s(489175),eP=s(551037),eO=s(354114),eL=s(506192),eR=s(746005),eD=s(581660),eF=s(766317),eK=s(167151),eB=s(510314),eG=s(904946);function eH({activeTab:e,children:t,isStyleEditMode:s,recordingKey:l,refMainScrollContainer:a}){var d;let c=(0,n.wA)(),u=(0,L.p8)("isReadOnly"),h=(0,L.p8)("topLevelMode"),m=(0,eL.Um)(),f=(0,eR.Xo)(),[x,_]=(0,p.fp)(eF.jM),y=(0,eK.cJ)(),b=!!(m||f?.modal),j=J.rf(l,"mousedown",()=>{eO.Y5.deselectProperty(),c(ec.XE()),c((0,eM.vq)()),c(T.sw()),c(ec.Uv()),y&&(_([]),o.glU?.setSelectedInteractions([]))}),C=(0,eD.se)(),v=(0,I.m0)(),k=u&&!v,S=e===o.FAf.COMMENT,w=(0,eh.sO)(),N=!s||!b,E=!S&&N,M=(0,eA.ft)(),A=(0,eB.G$)();d={tab:o.FAf[e],topLevelMode:o.lyf[h],shouldRenderInspectTab:A},0===i.Children.toArray(t).length&&(0,eE.x1)("PropertiesPanel","Rendering empty properties panel",d);let P=(0,eP.k)(),O=S&&!k&&!w,R=(0,r.jsx)(eI.S.div,{className:g()({[e_.By]:O,[e_.eh]:!O,[e_.w1]:P,[e_._W]:S&&k}),onMouseDown:M?void 0:j,onPointerDown:M?j:void 0,"data-non-interactive":!0,children:t});return S?R:(0,r.jsx)("div",{className:e_.gq,onFocus:C,children:(0,r.jsx)($.P,{enableOverscroll:!0,ref:a,className:e_.jG,containerId:ef.rp,hideScrollbar:!E,onContextMenu:eG.GY,scrollingDisabled:S||(s?b:!!m),children:R},e)})}eH.displayName="PropertiesPanel";var ez=s(132760),eV=s(883765),eU=s(11395),eW=s(361915),e$=s(59975),eY=s(375e3),eX=s(73359),eq=s(176203);function eJ(e,t){return({[o.FAf.DESIGN]:{label:(0,Q.t)("fullscreen.properties_panel.design"),tab:o.FAf.DESIGN,className:e_.Mf,recordingKey:"designTab",analyticsName:"design"},[o.FAf.PROTOTYPE]:{label:t?(0,Q.t)("fullscreen.properties_panel.interactive"):(0,Q.t)("fullscreen.properties_panel.prototype"),tab:o.FAf.PROTOTYPE,className:e_.Mf,recordingKey:t?"interactionsTab":"prototypeTab",analyticsName:t?"interactions":"prototype"},[o.FAf.INSPECT]:{label:(0,Q.t)("fullscreen.properties_panel.properties"),tab:o.FAf.INSPECT,className:e_.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[o.FAf.COMMENT]:{label:(0,Q.t)("fullscreen.properties_panel.comments"),tab:o.FAf.COMMENT,className:e_.Mf,recordingKey:"commentTab",analyticsName:"comment"},[o.FAf.EXPORT]:{label:(0,Q.t)("fullscreen.properties_panel.export"),tab:o.FAf.EXPORT,className:e_.Mf,recordingKey:"exportTab",analyticsName:"export"},[o.FAf.SLIDE]:{label:(0,Q.t)("fullscreen.properties_panel.design"),tab:o.FAf.SLIDE,className:e_.Mf,recordingKey:"designTab",analyticsName:"design"},[o.FAf.SLIDE_ANIMATION]:{label:(0,Q.t)("slides.properties_panel.animate"),tab:o.FAf.SLIDE_ANIMATION,className:e_.Mf,recordingKey:"animateTab",analyticsName:"animate"},[o.FAf.SITE]:{label:(0,Q.t)("fullscreen.properties_panel.design"),tab:o.FAf.SITE,className:e_.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[o.FAf.DAKOTA]:{label:(0,Q.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:o.FAf.DAKOTA,className:e_.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[o.FAf.ILLUSTRATION]:{label:(0,Q.t)("fullscreen.properties_panel.draw"),tab:o.FAf.ILLUSTRATION,className:e_.Mf,recordingKey:"illustrationTab",analyticsName:"illustration"},[o.FAf.COOPER]:{label:(0,Q.t)("fullscreen.properties_panel.design"),tab:o.FAf.COOPER,className:e_.Mf,recordingKey:"designTab",analyticsName:"design"}})[e]}function eZ({activeTab:e,recordingKey:t}){let s=(0,S.e)(),l=(0,eB.G$)(),a=(0,n.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,L.dH)(),c=(0,L.p8)("isReadOnly"),p=(0,I.m0)(),h=c&&!p,m=(0,eh.sO)(),g=(0,eK.cJ)(),f=(0,k.to)(),x=(0,n.d4)(e=>{var t;return t=e.selectedView,!!(0,eX.m)().ce_il_root&&"fullscreen"===t.view&&t.editorType===eq.nT.Illustration}),_=(0,eW.Kj)(),y=!!(0,u.kc)().ui3p_properties_panel_view_tab_logging,b=i.useMemo(()=>{if(y)return p?"dev_mode":m?"slides":g?"sites":f?"buzz":x?"draw":"design"},[y,p,m,g,f,x]);i.useEffect(()=>{_||e!==o.FAf.DAKOTA||(0,et.NT)(o.FAf.SITE)},[_,e]);let j=(0,K.ut)(o.Ez5?.interopToolMode(),o.nQ7.SELF)===o.nQ7.DESIGN,C=(()=>{let t=m||g?[o.FAf.COMMENT]:[o.FAf.COMMENT,o.FAf.INSPECT];switch(a){case o.lyf.LAYOUT:if(h)return t;if(e===o.FAf.COMMENT)return[o.FAf.COMMENT];if(x)return[o.FAf.ILLUSTRATION];if(g){if(s)return[o.FAf.DAKOTA];return _?[o.FAf.SITE,o.FAf.PROTOTYPE,o.FAf.DAKOTA]:[o.FAf.SITE,o.FAf.PROTOTYPE]}if(m)return[o.FAf.SLIDE,o.FAf.SLIDE_ANIMATION];if(f)return[o.FAf.DESIGN];return l?[o.FAf.DESIGN,o.FAf.PROTOTYPE,o.FAf.INSPECT]:[o.FAf.DESIGN,o.FAf.PROTOTYPE];case o.lyf.PREVIEW:case o.lyf.DEV_HANDOFF:return t;case o.lyf.BRANCHING:return[o.FAf.INSPECT];default:return[o.FAf.DESIGN,o.FAf.PROTOTYPE,o.FAf.INSPECT]}})(),v=C.find(t=>t===e),w=C.map((t,s)=>{let r=eJ(t,g),i=r.tab===e||0===s&&void 0===v,n=r.className;return i&&(n=C.length>1?e_.yR:e_.iV),{...r,className:n,active:i,topLevelMode:a,currentTool:d}});return C.length&&(!f||j)?(0,r.jsx)(eQ,{recordingKey:t,tabInfo:w,editorTypeForLogging:b}):null}function eQ({tabInfo:e,recordingKey:t,editorTypeForLogging:s}){let i=!!(0,u.kc)().ui3p_properties_panel_view_tab_logging,l=(0,eP.k)(),a=(0,eU.WN)(),d=e=>{i&&eV.az.trackDefinedEvent("ui3_platform.properties_panel_view_tabs_on_set_tab",{editorType:s,triggerCondition:e})},c=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),p=e.find(e=>e.active),[h,,m]=ez.t.useManagedTabs(c,p?.tab.toString()??"",e=>{let t=parseInt(e),s=eJ(t,g).analyticsName;if((0,eV.sx)("properties-panel-select-tab",{tab:s}),f===o.NLJ.SCALE&&t===o.FAf.PROTOTYPE&&(eO.Y5.triggerAction("set-tool-default"),d("exit scale tool when entering prototype mode")),t===o.FAf.INSPECT&&l){a(o.rcl.ENTER_INSPECT_MODE),d("logged out comment user inspecting");return}(0,et.NT)(t),x===o.lyf.PREVIEW&&(t===o.FAf.COMMENT?(eO.Y5.triggerAction("set-tool-comments"),d("preview top level mode and comment tab set")):(eO.Y5.triggerAction("set-tool-default"),d("preview top level mode and non comment tab set")))},{recordingKey:J.Pt(t,"tabs")}),g=(0,eK.cJ)(),f=(0,L.dH)(),x=(0,n.d4)(e=>e.mirror.appModel.topLevelMode);return(0,r.jsxs)("div",{className:e_.A7,children:[(0,r.jsx)("div",{className:e_.tq,children:(0,r.jsx)(ez.t.TabStrip,{manager:m,children:e.map((e,t)=>(0,r.jsx)(ez.t.Tab,{...h[e.tab],children:e.label},`props-panel-tab-${t}`))})}),(0,r.jsx)("div",{className:e_.wR,children:(0,r.jsx)(eY.H,{recordingKey:J.Pt(t,"zoomMenu")})}),(0,r.jsx)("div",{"data-onboarding-key":e$.D9,className:e_.qq})]})}var e0=s(852415),e1=s(948311),e3=s(993767),e2=s(404343);function e4({activeTab:e,children:t,getPanelMode:s,recordingKey:l,refMainScrollContainer:a,trackingAlwaysEnabled:p=!1,shouldDeferCanvasUpdateOnPanelResize:h}){let m=(0,n.wA)(),g=(0,L.aV)(),f=(0,O.b)("guid"),_=(0,c.fn)((0,P.E7)(f)),y=(0,i.useCallback)(e=>{_&&(e.event.keyCode===x.Uz.ESCAPE?(e.accept(),o.glU?.selectStyle(d.n3.INVALID,d.IA.INVALID)):e.event.keyCode===x.Uz.F&&o.glU?.selectStyle(d.n3.INVALID,d.IA.INVALID))},[_]),j=(0,n.d4)(e=>e.loadingState),C=(0,F.VP)(j,"edit_button_upgrading_to_edit"),v=g||C,k=(0,i.useCallback)(()=>{o.glU?.selectStyle(d.n3.INVALID,d.IA.INVALID),m(T.sw()),m((0,N.B)())},[m]),S=e===o.FAf.COMMENT,w=(0,i.useCallback)(()=>void 0,[]),E=function(e){let t=(0,L.p8)("currentPage")||"0:1",s=(0,L.KH)(),r=e();return(0,i.useCallback)(()=>({pageId:t,selectedNodeIds:Object.keys(s),panelMode:r}),[t,s,r])}(s??w),I=(0,i.useCallback)(({styleType:e,inheritStyleKeyField:t,nodeId:s,rowLeft:r,rowTop:i})=>{m(T.sw()),m(T.Zs({rowLeft:r,rowTop:i,styleType:e,inheritStyleKeyField:t,nodeId:s}))},[m]);return v?(0,r.jsx)(eN,{onKeyDown:y,onCloseStylePreviewModal:k,shouldAnimate:g}):(0,r.jsx)(b.k,{name:"properties_panel",trackingEnabled:(0,u.kc)().trackable_properties||p,alsoTrack:E,trackImpressions:!1,children:(0,r.jsx)(z.vL,{name:"propertiesPanel",focusOnMount:!S,handleKeyDown:y,children:(0,r.jsx)(W.lk.Provider,{value:I,children:(0,r.jsx)(e5,{activeTab:e,recordingKey:l,refMainScrollContainer:a,onCloseStylePreviewModal:k,shouldDeferCanvasUpdateOnPanelResize:h,children:t})})})})}function e5({activeTab:e,children:t,recordingKey:s,refMainScrollContainer:n,onCloseStylePreviewModal:l,shouldDeferCanvasUpdateOnPanelResize:d}){let m=(0,S.e)(),f=(0,O.b)("guid"),x=(0,c.fn)((0,P.E7)(f)),b=e===o.FAf.COMMENT,C=(0,L.p8)("topLevelMode")===o.lyf.HISTORY,T=function(){let e=(0,M.qw)();return"number"!=typeof e||e<tt?((0,M.UK)().propertiesPanelSplitPosition.set(tt),tt):e}(),N=(0,K.ut)(o.Ez5?.uiState().inProductHelpSidePanelWidth,0),{inProductHelpViewType:F}=(0,H.A5)(),{isRightPanelCollapsed:z}=(0,i.useContext)(B.t),W=z,$=(0,A.q)(),Y=(0,k.to)(),X=(0,v.CA)();Y&&b&&(W=!1);let q=(0,L.p8)("showUi"),J=(0,R.tS)(),Z=(0,w.fk)(J),Q=(0,D.o3)(D.nt.newResizablePanel),ee=(0,K.ut)((0,M.UK)().renderRulers,!1),et=(0,A.T)(),es=(0,u.kc)().properties_panel_resize_lag_fix,er=(0,p.Xr)(V.At),[ei,en]=i.useState(null),[el,ea]=i.useState(0),eo=(0,I.lg)(),{setRulerVisibilityOnInitialSizeChange:ed,setRulerVisibilityOnDragEnd:ec,shouldShowGhostRulers:eu}=(0,U.M)({shouldDeferCanvasUpdateOnPanelResize:!!d}),ep=(0,r.jsxs)(eG._w,{showRightSidebarPill:W,children:[(0,r.jsx)(e1.v2,{recordingKey:s}),C&&(0,r.jsx)(G.yU,{recordingKey:"versionHistoryView",fileHasCMSData:Z}),!W&&!C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eZ,{recordingKey:s,activeTab:e}),(0,r.jsx)(eH,{recordingKey:s,activeTab:e,isStyleEditMode:x,refMainScrollContainer:n,children:t})]}),(0,r.jsx)(eT,{onCloseStylePreviewModal:l,recordingKey:s})]});return Q?(0,r.jsx)(j.V,{children:(0,r.jsx)(h.G,{className:g()(e_.Lp,{[e_.R]:!q,[e_.dn]:W,[e_.Ph]:!$&&!m||X,[e_.Fo]:"side_panel"===F,[e_.Ar]:(0,u.kc)().properties_panel_isolate,[e_.K8]:eu}),"data-cancel-insertable-resource-drag-and-drop":!0,"data-onboarding-key":"properties-panel","data-testid":"properties-panel",defaultSize:T,maxSize:te,minSize:tt,onContextMenu:eG.GY,onDragEnd:e=>{if(d&&(ts(e),ec()),er(!1),ei){let t=(0,a.qE)(e,tt,te);ei.addContext({distanceResized:Math.abs(t-el)}),ei.stop(),en(null)}},onDragStart:()=>{let e=_.J6.createVital("PropertiesPanelContainer.NewResizablePanel.ResizePanel",{level:y.$.INFO,trackFps:!0});e.start(),e.addContext({editorType:eo}),en(e),ea((0,a.qE)(T,tt,te))},onInitialSizeChange:()=>{d&&(ts(tt),ed()),er(!0)},onSizeChange__SLOW:e=>{d||ts(e)},recordingKey:"propertiesPanelContainer.resizablePanel",shouldDeferCanvasUpdateOnPanelResize:d,side:"left",style:{"--inProductHelpSidePanelWidth":`${N}px`},children:(0,r.jsx)(e6,{disabled:b,children:(0,r.jsx)("div",{className:g()(e_.ux,E.Dm,{[e_.ew]:ee,[e_.Ph]:!$&&!m||X,[e_.Jq]:!et}),children:ep})})})}):(0,r.jsx)(j.V,{className:g()(e_.Lp,{[e_.IV]:es,[e_.R]:!q,[e_.dn]:W,[e_.Ph]:!$&&!m||X,[e_.Fo]:"side_panel"===F,[e_.Ar]:(0,u.kc)().properties_panel_isolate}),style:{width:es?void 0:T,"--inProductHelpSidePanelWidth":`${N}px`},children:(0,r.jsx)(e6,{disabled:b,children:(0,r.jsx)(e8,{isCollapsed:z,isUIMinimized:$,width:T,children:ep})})})}function e6({children:e,disabled:t}){return t?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(e3.b,{children:e})}let e7=e=>{ts(e)};function e8({children:e,isUIMinimized:t,width:s}){let n=(0,S.e)(),l=(0,v.CA)(),o=(0,K.ut)((0,M.UK)().renderRulers,!1),d=(0,A.T)(),[c,u]=i.useState(null),[p,h]=i.useState(0),m=(0,I.lg)();return(0,r.jsx)(e0.lY,{className:g()(e_.ux,E.Dm,{[e_.ew]:o,[e_.Ph]:!t&&!n||l,[e_.Jq]:!d}),"data-cancel-insertable-resource-drag-and-drop":!0,"data-onboarding-key":"properties-panel","data-testid":"properties-panel",onContextMenu:eG.GY,onDragEnd:()=>{if(c){let e=(0,a.qE)(s,tt,te);c.addContext({distanceResized:Math.abs(e-p)}),c.stop(),u(null)}},onDragStart:()=>{let e=_.J6.createVital("PropertiesPanelContainer.OldResizablePanel.ResizePanel",{level:y.$.INFO,trackFps:!0});e.start(),e.addContext({editorType:m}),u(e),h((0,a.qE)(s,tt,te))},onResize:e7,recordingKey:"propertiesPanelContainer.resizablePanel",side:"left",size:s,children:e})}let e9={aaa:1,aal:1.3,en:1,"es-es":1,"es-la":1,"ko-kr":1,ja:1,"pt-br":1,fr:1,de:1,"du-ds":1},te=500,tt=function(e){let t=(0,f.jz)(e)+1;if(!(0,u.kc)().ui3p_locale_aware_properties_panel)return t;let s=[...l.EO,...l.iJ],r=(0,C.Gq)().getPrimaryLocale(!0);for(let e of s)if(r===e)return Math.min(Math.ceil(t*e9[e]),te);return t}(e2.uj0);function ts(e){let t=(0,a.qE)(e,tt,te);(0,M.UK)().propertiesPanelSplitPosition.set(t),(0,u.kc)().properties_panel_resize_lag_fix&&document.documentElement.style.setProperty("--properties-panel-width",`${t}px`)}},904946:(e,t,s)=>{s.d(t,{GY:()=>y,_w:()=>b,qh:()=>j});var r=s(104076),i=s(492737),n=s(266808),l=s(812714),a=s(824570),o=s(511570),d=s.n(o),c=s(192075),u=s(816622),p=s(988681),h=s(83202),m=s(754446),g=s(490499),f=s(122010),x=s(901465),_=s(691201);function y(e){let t=e.target;if(t){let s=t.tagName,r=t.type;s&&"INPUT"===s.toUpperCase()&&r&&"TEXT"===r.toUpperCase()||t.isContentEditable||e.preventDefault()}}function b({children:e,showRightSidebarPill:t}){let s=(0,p.e)(),n=(0,i.U1)(),a=(0,h.q)(),o=(0,u.CA)(),m=(0,g.o3)(g.nt.newResizablePanel);return(0,r.jsx)(f.m,{role:"region","aria-label":(0,c.t)("fullscreen_actions.right_sidebar_label"),children:(0,r.jsx)("div",{ref:n,className:d()(_.KE,{[_.IV]:(0,l.kc)().properties_panel_resize_lag_fix&&!m,[_.tM]:t,[_.Ph]:!a&&!s||o}),children:e})})}function j(){let e=(0,m.Gt)("numSelectedByType");return(0,a.k9)(()=>(function(e){if(e)return(0,x.aZ)(n.rrT.FILL,e)})(e),[e])}},492978:(e,t,s)=>{s.d(t,{U:()=>f,x:()=>x});var r=s(104076),i=s(716976),n=s(903927),l=s(293422),a=s(192075),o=s(366535),d=s(624155),c=s(76365),u=s(564914),p=s(949052),h=s(309112),m=s(170907);function g(){let e=(0,n.d4)(e=>e.library.local),t=(0,n.d4)(c.Sh),s=i.useMemo(()=>{let s=new Set;for(let r of t){let t=(0,d.n5)(r,e);t&&(t.type===u.PW.COMPONENT||t.type===u.PW.STATE_GROUP)&&!(0,d.zE)(t)?s.add(t.node_id):t&&t.type===u.PW.MODULE&&s.add(t.node_id)}return s},[e,t]),r=(0,n.wA)(),l=i.useCallback(()=>{r(o.to({type:p.dD,data:{initiallyCheckedItemIDs:s,entrypoint:h.RR.PROPERTIES_PANEL}}))},[r,s]);return{validNodeIds:s,onClick:l}}function f(){let{validNodeIds:e,onClick:t}=g(),s=(0,n.d4)(e=>e.library.local),i=(0,n.d4)(c.Sh).some(e=>{let t=(0,d.n5)(e,s);return t&&!(0,d.HF)(t.status)});return e.size?(0,r.jsx)(l.$n,{variant:"secondary",onClick:t,children:i?(0,a.t)("design_systems.updates.publish"):(0,a.t)("design_systems.component_panel.publish_new_changes")}):null}function x(){let{validNodeIds:e,onClick:t}=g();return e.size?(0,r.jsx)(m.z,{onClick:t,children:(0,a.t)("design_systems.component_panel.publish_new_changes")}):null}},900701:(e,t,s)=>{s.d(t,{u:()=>g});var r=s(104076),i=s(716976),n=s(420680),l=s(803126),a=s(156412),o=s(641518),d=s(192075),c=s(489175),u=s(553065),p=s(737139),h=s(85471),m=s(818642);function g({addProperty:e,children:t,contentsVisibleOrMixed:s,minusDisabled:g,plusDisabled:f,recordingKey:x,removeProperty:_,showButton:y,title:b,dataTestId:j,dataOnboardingKey:C,shouldHideButton:v,plusButtonLabel:k,minusButtonLabel:S}){let w=(0,i.useCallback)(()=>{!1!==s||f||e()},[e,s,f]),T=s===u.oV,N=!T&&!s;null==y&&(y=!0===s?"-":"+");let E="+"===y?(0,r.jsx)(n.K,{recordingKey:o.Pt(x,"addButton"),onClick:e,disabled:f,"aria-label":k??(0,d.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:c.dG,"data-testid":j??"","data-tooltip-type":"text","data-tooltip":k??""},children:(0,r.jsx)(l.e,{})}):(0,r.jsx)(n.K,{recordingKey:o.Pt(x,"removeButton"),onClick:_,disabled:g,"aria-label":S??(0,d.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:c.dG,"data-testid":j??"","data-tooltip-type":"text","data-tooltip":S??""},children:(0,r.jsx)(a.O,{})});return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)(h.n,{onMouseDown:w,faded:N,isEmpty:N,titleTx:(0,r.jsx)("span",{children:b}),icon:v?void 0:E,dataOnboardingKey:C}),T&&(0,r.jsx)(p.fI,{children:(0,r.jsx)(p.nV,{className:m.Pf,children:(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content")})}),!T&&!N&&t]})}},936774:(e,t,s)=>{s.d(t,{q:()=>M});var r=s(104076),i=s(716976),n=s(903927),l=s(649621),a=s(136206),o=s(266808),d=s(511570),c=s.n(d),u=s(166887),p=s(652539),h=s(192075),m=s(968169),g=s(553065),f=s(754446),x=s(294570),_=s(894210),y=s(950241),b=s(217062),j=s(777807),C=s(954741),v=s(387271),k=s(211264),S=s(425045),w=s(259595),T=s(489587),N=s(962815);let E="STACK_COUNTER_SPACING",I=[E];function M({focusOnMount:e,source:t,onCanvasUI:s,...d}){let M=(0,n.wA)(),{smallNudgeAmount:A,bigNudgeAmount:P}=(0,m.sT)(),[O,L]=(0,f.lJ)("stackCounterSpacing"),R=(0,f.kl)("stackCounterSpacingSynced"),[D,F]=(0,f.lJ)("stackCounterAlignContent"),K=(0,u.am)(),B=(0,i.useRef)(!1),G=(0,g.gl)(D)?g.oV:"SPACE_BETWEEN"===D?g.Q8:O,H=(0,i.useRef)(null);i.useEffect(()=>{e&&(H.current?.focus(),H.current?.select())},[e]);let{boundVariable:z,consumedVariable:V}=(0,k.O)(E,o.rXF.FLOAT);(0,i.useEffect)(()=>{z&&"SPACE_BETWEEN"===D&&F("AUTO",x.zk.NO)},[z,D,F]);let{clearVariableConsumption:U}=(0,k.O)(E,o.rXF.FLOAT),W=(0,S.lW)({smallNudgeAmount:A,bigNudgeAmount:P,min:0,allowEmpty:!0}),$=(e,s)=>{s&&(K("autolayout_counter_spacing_changed",{source:t,input:B.current?"scrub":"textfield",value:(0,g.SX)(e)?"Auto":e}),o.glU.temporarilyHideOverlay(o.hJs.SELECTION)),"number"==typeof e||null===e?(F("AUTO",x.zk.NO),L(e,s)):(U(),F("SPACE_BETWEEN",s))},Y=(0,h.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),X="spacing-rows-vertical-icon",q=[(0,r.jsx)(C.c$,{value:(0,l.Et)(O)?O:P},"value"),(0,r.jsx)(C.c$,{value:g.Q8},"auto")],J=R&&"SPACE_BETWEEN"!==D;if(!s){let e=(0,r.jsx)(a.W,{});return(0,r.jsx)(j.ow,{value:{select:w.pW,inputComponent:w.gm},children:(0,r.jsx)(C.tV,{value:{chevron:v.t},children:(0,r.jsx)(k.S,{allowEmpty:!0,dropdownAlignment:"right",dropdownWidth:140,formatter:W,icon:e,iconId:X,id:"stackCounterSpacing",inputClassName:d.inputClassName,inputRef:H,inputTestId:d.inputTestId,mixedMathHandler:S.lL,noBorderOnFocus:d.noBorderOnFocus,noLeftBorder:d.noLeftBorder,onBlur:d.onBlur,onChange:$,onFocus:d.onFocus,onKeyDown:d.onKeyDown,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onNudge:d.onNudge,onPaste:d.onPaste,onScrubBegin:d.onScrubBegin,onScrubEnd:d.onScrubEnd,options:q,outerClassName:c()(d.outerClassName,T.Sz),placeholder:J&&(0,g.hS)(G)?W.format(G):void 0,recordingKey:d.recordingKey,scrubStartValue:J?G:void 0,shiftVariableOptionToAlign:!0,source:t,squareRightBorder:d.squareRightBorder,tooltipText:Y,value:J?void 0:G,variableField:E})})})}return(0,r.jsx)(b.sA,{recordingKey:d.recordingKey,inputClassName:d.outerClassName,fields:I,currentFieldValue:(0,g.hS)(O)?O:void 0,resolvedType:o.rXF.FLOAT,disableEntryPoint:s,children:(0,r.jsx)(y.Se,{allowEmpty:!0,bigNudgeAmount:P,"data-tooltip":Y,"data-tooltip-proxy-element-id":V?X:void 0,"data-tooltip-type":_.Ib.TEXT,dataTestId:d.inputTestId,dispatch:M,forwardedRef:H,inputClassName:c()(T.hF,d.inputClassName),isTokenizable:!0,min:0,mixedMathHandler:S.bd,noBorderOnFocus:d.noBorderOnFocus,noBorderOnHover:!0,noLeftBorder:d.noLeftBorder,onBlur:d.onBlur,onFocus:d.onFocus,onKeyDown:d.onKeyDown,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onNudge:d.onNudge,onPaste:d.onPaste,onScrubBegin:e=>{B.current=!0,d.onScrubBegin?.(e)},onScrubEnd:e=>{B.current=!1,d.onScrubEnd?.(e)},onValueChange:$,placeholder:J&&(0,g.hS)(G)?W.format(G):void 0,recordingKey:d.recordingKey,scrubMultiplier:A,scrubStartValue:J?G:void 0,smallNudgeAmount:A,squareRightBorder:d.squareRightBorder,value:J?void 0:G,wheelMultiplier:A,children:(0,r.jsx)(p.B,{className:c()(T.QK,d.svgClassName),svg:N.A,"data-tooltip-type":V?_.Ib.TEXT:void 0,"data-tooltip":V?Y:void 0,id:X})})})}},34246:(e,t,s)=>{s.d(t,{s:()=>C,U:()=>v});var r=s(104076),i=s(716976),n=s(903927),l=s(999083),a=s(266808),o=s(511570),d=s.n(o),c=s(968169),u=s(553065),p=s(294570),h=s(894210),m=s(950241),g=s(217062),f=s(664320),x=s(328341),_=s(758735);function y({setShowSinglePaddingControl:e,containsFocus:t}){let s=(0,i.useContext)(_.p),r=s?.isShowingBindingUI,n=(0,x.ZC)(r),l=(0,x.ZC)(t);return(0,i.useEffect)(()=>{n&&!r&&e?.(!1)},[r,e,n]),(0,i.useEffect)(()=>{t||!l||r||e?.(!1)},[t,l,r,e]),null}var b=s(425045),j=s(489587);function C({paddingSelection:e,focusOnMount:t,source:s,disableVariablesEntryPoint:o,setShowSinglePaddingControl:x,..._}){let C=(0,n.wA)(),[v,S]=(0,b.HF)(e),{smallNudgeAmount:w,bigNudgeAmount:T}=(0,c.sT)(),N=(0,i.useRef)(!1),E=b.C8[e],I=`stack-padding-input-icon-${e}`,M=(0,b.wH)(e),A=(0,i.useRef)(null);i.useEffect(()=>{t&&(A.current?.focus(),A.current?.select())},[e,t]);let P=i.useMemo(()=>(0,b.Jj)(e),[e]),O=i.useMemo(()=>k(e),[e]),{consumedVariable:L}=(0,f.u3)(O),R=d()(j.QK,_.svgClassName),[D,F]=i.useState(!1),K=i.useCallback(()=>{F(!0)},[F]),B=i.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||F(!1)},[F]),G=(0,i.useCallback)(()=>{x?.(!1)},[x]),{inputClassName:H,noBorderOnFocus:z,noLeftBorder:V,squareRightBorder:U,onFocus:W,onBlur:$,onNudge:Y,onMouseEnter:X,onMouseLeave:q,onClick:J,onKeyDown:Z,onPaste:Q,inputTestId:ee,onScrubBegin:et,recordingKey:es,onScrubEnd:er}=_,ei=i.useMemo(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{setShowSinglePaddingControl:x,containsFocus:D}),(0,r.jsx)(m.ig,{bigNudgeAmount:T,"data-tooltip":M,"data-tooltip-proxy-element-id":L?I:void 0,"data-tooltip-show-on-target-only":!0,"data-tooltip-type":h.Ib.TEXT,dataTestId:ee,dispatch:C,forwardedRef:A,inputClassName:d()(j.hF,H),isTokenizable:!0,mixedMathHandler:P,noBorderOnFocus:z,noBorderOnHover:!0,noLeftBorder:V,onBlur:$,onClick:J,onFocus:W,onKeyDown:Z,onMouseEnter:X,onMouseLeave:q,onNudge:Y,onPaste:Q,onScrubBegin:e=>{N.current=!0,et?.(e)},onScrubEnd:e=>{N.current=!1,er?.(e)},onValueChange:(e,t)=>{t===p.zk.YES&&a.glU.temporarilyHideOverlay(a.hJs.SELECTION),S(e,t,{source:s,input:N.current?"scrub":"textfield"})},recordingKey:es,scrubMultiplier:w,smallNudgeAmount:w,squareRightBorder:U,value:v,wheelMultiplier:w,children:(0,r.jsx)("div",{className:R,"data-tooltip-type":L?h.Ib.TEXT:void 0,"data-tooltip":L?M:void 0,id:I,children:(0,r.jsx)(E,{})})})]}),[x,D,H,v,w,T,P,C,z,V,U,M,L,I,W,$,Y,X,q,J,Z,Q,es,ee,R,E,S,s,et,er]);return(0,r.jsx)(g.sA,{recordingKey:_.recordingKey,fields:O,disableEntryPoint:o,resolvedType:a.rXF.FLOAT,inputClassName:_.outerClassName,currentFieldValue:(0,u.hS)(v)&&(0,l.Ef)(v)?v[0]:void 0,onClickDetachButton:G,onFocus:K,onBlur:B,children:ei})}function v(){let e=k(b.mx.HORIZONTAL),{consumedVariable:t}=(0,f.u3)(e),s=k(b.mx.VERTICAL),{consumedVariable:r}=(0,f.u3)(s);return!(0,u.hS)(t)||!(0,u.hS)(r)}function k(e){switch(e){case b.mx.TOP:return["STACK_PADDING_TOP"];case b.mx.RIGHT:return["STACK_PADDING_RIGHT"];case b.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case b.mx.LEFT:return["STACK_PADDING_LEFT"];case b.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case b.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case b.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},729591:(e,t,s)=>{s.d(t,{K:()=>x});var r=s(104076),i=s(716976),n=s(878604),l=s(268389),a=s(177833),o=s(641518),d=s(192075),c=s(435049),u=s(354114),p=s(553065),h=s(754446),m=s(294570),g=s(813371),f=s(737139);function x(e){return(0,r.jsx)(n.bL,{...e,children:(0,r.jsxs)(l.vo,{children:[(0,r.jsx)(l.Y9,{children:(0,r.jsx)(l.hE,{children:(0,d.tx)("fullscreen.properties_panel.transform_panel.corner_smoothing")})}),(0,r.jsx)(l.nB,{padding:0,children:(0,r.jsx)(f.Id,{children:(0,r.jsx)("div",{className:"corner_smoothing--modalControl--AXovi",children:(0,r.jsx)(_,{recordingKey:e.recordingKey})})})})]})})}function _({recordingKey:e}){let t=(0,i.useMemo)(()=>new c.LN,[]),s=(0,p._W)((0,h.kl)("cornerSmoothing"),0);return(0,r.jsxs)("div",{className:"corner_smoothing--root--tqWdN",children:[(0,r.jsx)("div",{className:"corner_smoothing--sliderWrapper--j9nGR",children:(0,r.jsx)(a.A,{"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),bigStep:.1,defaultValue:0,hints:[.6],max:1,min:0,onChange:(e,{commit:t})=>y(e,t),rangeAnchor:0,recordingKey:o.Pt(e,"slider"),step:.01,value:s})}),(0,r.jsx)(g.Q7,{recordingKey:o.Pt(e,"modal"),className:"corner_smoothing--cornerSmoothingInput--diqdz",formatter:t,property:s,onChange:e=>void y(e,!0)}),(0,r.jsx)("div",{className:"corner_smoothing--labelWrapper--4qKuC",children:(0,r.jsx)(f.nV,{className:"corner_smoothing--label--WzFGN",onClick:()=>{y(.6,!0)},children:(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os")})})]})}function y(e,t){e=Math.round(100*e)/100,u.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?m.zk.YES:m.zk.NO})}},569527:(e,t,s)=>{s.d(t,{j:()=>w});var r=s(104076),i=s(716976),n=s(903927),l=s(266808),a=s(641518),o=s(285626),d=s(553065),c=s(371952),u=s(894210),p=s(386958),h=s(950241),m=s(217062),g=s(304812),f=s(414941),x=s(623891),_=s(758735),y=s(664320),b=s(13073),j=s(699290),C=s(831330),v=s(596763),k=s(567253),S=s(770574);function w({hideVariableIcon:e,recordingKey:t}){let s=(0,f.GI)(),n=s(f.OK.TOP_LEFT).value,l=s(f.OK.TOP_RIGHT).value,o=s(f.OK.BOTTOM_LEFT).value,u=s(f.OK.BOTTOM_RIGHT).value,h=s(f.OK.TOP_LEFT).setter,m=s(f.OK.TOP_RIGHT).setter,x=s(f.OK.BOTTOM_LEFT).setter,_=s(f.OK.BOTTOM_RIGHT).setter,y=i.useMemo(()=>[(0,f.cv)(f.OK.TOP_LEFT)],[]),b=i.useMemo(()=>[(0,f.cv)(f.OK.TOP_RIGHT)],[]),C=i.useMemo(()=>[(0,f.cv)(f.OK.BOTTOM_LEFT)],[]),k=i.useMemo(()=>[(0,f.cv)(f.OK.BOTTOM_RIGHT)],[]),S=(0,c.SG)(y).data??[],w=(0,c.SG)(b).data??[],I=(0,c.SG)(C).data??[],M=(0,c.SG)(k).data??[],A=i.useRef(null),P=i.useRef(null),O=i.useRef(null),L=i.useRef(null),R=i.useRef(null),[D,F]=i.useState(null),K=i.useCallback((e,t)=>{t&&F({corner:e,initialPosition:(0,p.VZ)(t,j.d9)})},[]),B=i.useCallback(()=>{F(null)},[]);function G(e){switch(e){case f.OK.TOP_LEFT:return{value:n,variableFields:y,variablesForField:S,inputRef:A,onChange:h,mixedMathHandler:f.dB};case f.OK.TOP_RIGHT:return{value:l,variableFields:b,variablesForField:w,inputRef:P,onChange:m,mixedMathHandler:f.c5};case f.OK.BOTTOM_LEFT:return{value:o,variableFields:C,variablesForField:I,inputRef:O,onChange:x,mixedMathHandler:f.fN};case f.OK.BOTTOM_RIGHT:return{value:u,variableFields:k,variablesForField:M,inputRef:L,onChange:_,mixedMathHandler:f.ih}}}function H({corner:t,recordingKey:s}){let i=G(t);return(0,r.jsx)(N,{variableFields:i.variableFields,isPickerOpen:D?.corner===t,onPickerOpen:()=>K(t,i.inputRef.current),children:(0,r.jsx)(T,{ref:i.inputRef,disableEntryPoint:0===i.variablesForField.length,hideVariableIcon:e,mixedMathHandler:i.mixedMathHandler,onChange:i.onChange,recordingKey:s,tooltip:(0,f.gP)(t),ui3Icon:(0,f.ve)(t),value:i.value,variableFields:i.variableFields})})}return(0,r.jsxs)("div",{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.fn,{leftInput:H({corner:f.OK.TOP_LEFT,recordingKey:a.Pt(t,"rectangleTopLeftCornerRadiusInput")}),rightInput:H({corner:f.OK.TOP_RIGHT,recordingKey:a.Pt(t,"rectangleTopRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:null}),(0,r.jsx)(v.fn,{ref:R,leftInput:H({corner:f.OK.BOTTOM_LEFT,recordingKey:a.Pt(t,"rectangleBottomLeftCornerRadiusInput")}),rightInput:H({corner:f.OK.BOTTOM_RIGHT,recordingKey:a.Pt(t,"rectangleBottomRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:(0,r.jsx)(g.E,{recordingKey:a.Pt(t,"cornerSmoothingToggle"),rowRef:R})})]}),function(){if(!D)return null;let{corner:e,initialPosition:t}=D,s=G(e),i=(0,d._W)(s.value,0);return(0,r.jsx)(E,{corner:e,initialPosition:t,currentFieldValue:i,variableFields:s.variableFields,onClose:B})}()]})}let T=i.forwardRef(({variableFields:e,value:t,tooltip:s,recordingKey:l,disableEntryPoint:a,onChange:o,ui3Icon:c,hideVariableIcon:p,mixedMathHandler:g},f)=>{let x=(0,n.wA)(),{smallNudgeAmount:_,bigNudgeAmount:b,wheelMultiplier:j,scrubMultiplier:C}=(0,k.Xs)(),{consumedVariable:v}=(0,y.u3)(e),w=i.useId();return(0,r.jsx)(m.sJ,{ref:f,currentFieldValue:(0,d._W)(t,0),disableEntryPoint:a,hideIcon:p,children:(0,r.jsx)(h.$j,{bigNudgeAmount:b,"data-tooltip":s,"data-tooltip-proxy-element-id":v?w:void 0,"data-tooltip-type":u.Ib.TEXT,dispatch:x,inputClassName:S.h,isTokenizable:!0,mixedMathHandler:g,noBorderOnHover:!0,onValueChange:o,recordingKey:l,scrubMultiplier:.1*C,smallNudgeAmount:_,value:(0,d.gl)(t)?t:t??0,wheelMultiplier:j,children:(0,r.jsx)("div",{className:S.k,"data-tooltip-type":v?u.Ib.TEXT:void 0,"data-tooltip":v?s:void 0,id:w,children:c})})})});function N({variableFields:e,isPickerOpen:t,onPickerOpen:s,children:i}){let{consumedVariable:n}=(0,y.u3)(e),a=(0,b.MH)(n),o=(0,c.u)(a??void 0),d=!!o&&(0,b.eF)(o),[u,p,h]=(0,x.JV)(e,l.rXF.FLOAT);return(0,r.jsx)(_.p.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:d,isShowingBindingUI:t,showBindingUI:s,onVariableSelected:h},children:i})}function E({corner:e,initialPosition:t,currentFieldValue:s,variableFields:a,onClose:d}){let c=(0,n.wA)(),{updateVariableConsumption:u,clearVariableConsumption:p}=(0,y.u3)(a),h=i.useCallback(e=>{e?c((0,o.Yi)({item:e,callback:e=>{u((0,y.y$)(l.rXF.FLOAT,e))}})):p()},[c,u,p]);return(0,r.jsx)(C.jp,{fields:[(0,f.cv)(e)],resolvedType:l.rXF.FLOAT,initialPosition:t,currentFieldValue:s,onVariableSelected:h,onClose:d})}},85471:(e,t,s)=>{s.d(t,{I:()=>u,n:()=>c});var r=s(104076),i=s(716976),n=s(511570),l=s.n(n),a=s(231828),o=s(82991),d=s(388332);let c=i.forwardRef(function({titleTx:e,icon:t,faded:s,isEmpty:i,appendedClassName:n,onClick:c,onMouseDown:u},p){return(0,r.jsx)(o.pG,{ref:p,onClick:c,onMouseDown:u,appendedClassName:l()(d.En,d.VJ,{[d.yf]:s,[d.ry]:i},n),input:(0,r.jsx)(a.Mw,{children:e}),label:null,icon:t})}),u=i.forwardRef(function({titleTx:e,faded:t,isEmpty:s,children:i,...n},c){return(0,r.jsx)(o.SP,{dataOnboardingKey:n.dataOnboardingKey,onClick:n.onClick,ref:c,appendedClassName:l()(d.En,{[d.yf]:t,[d.ry]:s}),input:(0,r.jsx)(a.Mw,{children:e}),children:i})})},644033:(e,t,s)=>{s.d(t,{p:()=>l});var r=s(716976),i=s(568156);let n=["aria-activedescendant","aria-controls","aria-expanded"];function l(e){return!function(e){let{ariaControls:t,ariaActivedescendant:s}=e,l=e.ariaExpanded??!0,[a]=r.useState(()=>{let e={};for(let t of n)e[t]=i.IM.customFocusElementReadWrite?.getAttribute(t);return e});r.useEffect(()=>()=>{for(let e of n){let t=a[e];t?i.IM.customFocusElementReadWrite?.setAttribute(e,t):i.IM.customFocusElementReadWrite?.removeAttribute(e)}},[a]),r.useEffect(()=>{let e=i.IM.customFocusElementReadWrite;e&&(e.getAttribute("aria-controls")!==t&&e.setAttribute("aria-controls",t),e.getAttribute("aria-activedescendant")!==s&&e.setAttribute("aria-activedescendant",s),e.getAttribute("aria-expanded")!==l.toString()&&e.setAttribute("aria-expanded",l.toString()))},[s,t,l])}({ariaControls:e.ariaControls,ariaActivedescendant:e.ariaActivedescendant,ariaExpanded:e.ariaExpanded}),null}},170462:(e,t,s)=>{s.d(t,{N:()=>j,w:()=>b});var r=s(104076),i=s(684742),n=s(739815),l=s(116285),a=s(408168),o=s(718859),d=s(736158),c=s(193589),u=s(790009),p=s(120440),h=s(816565),m=s(284467),g=s(192075),f=s(373547),x=s(311272),_=s(211862),y=s(835307);let b=["TEXT","SECTION","SLICE","STICKY","CONNECTOR","STAMP"];function j(e){let t;let s=(0,y.Fk)((e,t)=>e.get(t)?.visible,e.guid),b=(0,y.Fk)((e,t)=>e.get(t)?.type,e.guid),j=(0,_.tS)(),v=(0,f.DP)(),k=(0,x.ic)(e.guid);if(!b)return null;switch(b){case"TEXT":t=(0,r.jsx)(n.e,{className:"xmauxvm"});break;case"SECTION":t=(0,r.jsx)(l.c,{className:"xmauxvm"});break;case"SLICE":t=(0,r.jsx)(a.h,{className:"xmauxvm"});break;case"STICKY":t=(0,r.jsx)(o.i,{className:"xmauxvm"});break;case"CONNECTOR":t=(0,r.jsx)(d.y,{className:"xmauxvm"});break;case"STAMP":t=(0,r.jsx)(c.y,{className:"xmauxvm"});break;default:t=k&&j?(0,r.jsx)(h.oW,{className:"x5yr21d xh8yej3 x4ouu4z",style:{objectFit:"contain",opacity:s?1:.5},src:k,alt:(0,g.t)("layer_icon.thumbnail.alt_text")}):(0,r.jsx)(m.Qp,{className:"x5yr21d xh8yej3 x4ouu4z",animationType:m.JR.LIGHT_SHIMMER})}return(0,r.jsx)(i.E,{"aria-label":(0,g.t)("layer_icon.button.pan_to_node"),htmlAttributes:{onDoubleClick:t=>{e.navigateAndPanTo&&(t.currentTarget?.blur(),e.navigateAndPanTo(e.guid))}},className:"x11g6tue",children:(0,r.jsx)("span",{...p.Ay.props(C.iconHeight(e.size),C.iconWidth(e.size),C.iconContainer,"light"===v?C.lightBackground:C.darkBackground,e.rowSelected&&C.selected),children:(0,r.jsx)(u.J,{mode:"light",children:t})})})}let C={iconHeight:e=>[{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],iconWidth:e=>[{kzqmXN:null!=e?"x5lhr3w":e,$$css:!0},{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],darkBackground:{kC7eKd:"x14ju1db",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,$$css:!0},lightBackground:{kC7eKd:"x1usue9s",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,$$css:!0},iconContainer:{kjVXCG:"xeutv01",kvZwPi:"x19y5rnk",kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kB7OPa:"x9f619",k1xSpc:"x78zum5",kkeX5w:"x6s0dn4",kGmCso:"xl56j7k",$$css:!0},selected:{kmVPX3:"xyf9f8g",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kQgIW9:"x1daebow",kMzoRj:null,kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:null,kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:null,kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,$$css:!0}}},903152:(e,t,s)=>{s.d(t,{YD:()=>o,ZN:()=>a,ZP:()=>d,fM:()=>c,tk:()=>u});var r=s(716976),i=s(414318);let n=()=>Math.random().toString(36).substring(2,15);function l(e){return(0,r.useMemo)(()=>{let t=new Map,s=new Map;return Object.entries(e).forEach(([e,r])=>{if(e.startsWith("row-")){let s=e.substring(4);t.set(s,parseFloat(r))}else if(e.startsWith("column-")){let t=e.substring(7);s.set(t,parseFloat(r))}}),{sortedRowGuids:Array.from(t.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),sortedColumnGuids:Array.from(s.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}},[e])}function a(e,t=n){let s={},r=e.split("\n").map(e=>e.split(",").map(e=>e.trim())),i=new Map,l=new Map;for(let e=0;e<r.length;e++){let r=t();i.set(e,r),s[`row-${r}`]=((e+1)*.1).toString()}let o=Math.max(0,...r.map(e=>e.length));for(let e=0;e<o;e++){let r=t();l.set(e,r),s[`column-${r}`]=((e+1)*.1).toString()}for(let e=0;e<r.length;e++){let t=r[e];if(!t)continue;let n=i.get(e);for(let e=0;e<t.length;e++){let r=t[e],i=l.get(e);r&&(s[`${n}:${i}`]=r)}}return s}function o(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return(0,r.useMemo)(()=>{if(0===t.length)return{columnDefs:[],rowData:[]};let r=t[0],i=s.map(t=>e[`${r}:${t}`]||""),n=t.slice(1),l=s.length>0&&n.some(t=>{let r=s[s.length-1],i=e[`${t}:${r}`];return i&&""!==i.trim()}),a=[...i];l&&(a=[...i,""]);let o=a.map(e=>({headerName:e,field:e,editable:!0})),d=n.map(t=>{let r={};return a.forEach((n,l)=>{if(l<i.length){let i=s[l];n&&i&&(r[n]=e[`${t}:${i}`]||"")}else r[n]=""}),r}),c=d[d.length-1];return d.length>0&&c&&Object.values(c).some(e=>""!==e)&&d.push(a.reduce((e,t)=>({...e,[t]:""}),{})),{columnDefs:o,rowData:d}},[e,t,s])}function d(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return(0,r.useMemo)(()=>{if(0===Object.keys(e).length||t.length<2)return{data:[],keys:[]};let r=t[0],i=t.slice(1),n=s[0],l=s.slice(1),a=i.map(t=>e[`${t}:${n}`]).filter(e=>!!e);return{data:l.map(t=>{let s=e[`${r}:${t}`];if(!s)return null;let l={date:s};return i.forEach(s=>{let r=e[`${s}:${n}`];if(!r)return;let i=e[`${s}:${t}`],a=i?parseFloat(i):0;l[r]=isNaN(a)?0:a}),l}).filter(e=>null!==e),keys:a}},[e,t,s])}function c(e){let t=function(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return t.slice(1).map(t=>e[`${t}:${s[0]}`])}(e),{color1:s,color2:i,color3:n,color4:a,color5:o}=e;return(0,r.useMemo)(()=>{let e=[s,i,n,a,o],r=["color1","color2","color3","color4","color5"];return e.map((s,i)=>({color:s,key:r[i]||"",drillDownKeys:t.filter((t,s)=>s%e.length===i).map(e=>`bar-${e}`)}))},[s,i,n,a,o,t])}function u(e,t=n){let{sortedRowGuids:s,sortedColumnGuids:a}=l(e);return(0,r.useCallback)((r,n,l,o)=>{let d={...e},c=s[l],u=a[n],p=!c&&l===s.length,h=!u&&n===a.length;if(p){c=t();let r=s[s.length-1],i=r?parseFloat(e[`row-${r}`]):0,n=`row-${c}`,l=(i+.1).toPrecision(15);d[n]=l}if(h){u=t();let r=a[a.length-1],i=r?parseFloat(e[`column-${r}`]):0,l=`column-${u}`,o=(i+.1).toPrecision(15);if(d[l]=o,s.length>0){let e=s[0];d[`${e}:${u}`]=`Column ${n+1}`}}c&&u&&(d[`${c}:${u}`]=o,(0,i.$H)(r,d))},[e,s,a,t])}},729940:(e,t,s)=>{s.d(t,{nh:()=>N,oH:()=>w,tA:()=>T});var r=s(104076),i=s(716976),n=s(903927),l=s(293422),a=s(684742),o=s(827695),d=s(878604),c=s(268389),u=s(266808),p=s(170627),h=s(980852);s(120440);var m=s(755444),g=s(9109),f=s(816565),x=s(192075),_=s(203679),y=s(76365),b=s(414318),j=s(903152),C=s(91340),v=s.n(C),k=s(246758);function S({fileInputRef:e,onChange:t}){return(0,r.jsx)("input",{type:"file",ref:e,onChange:t,accept:".csv,.xlsx,.xls,.json",style:{display:"none"}})}let w=170,T=460;function N({defaultPosition:e,nodeId:t,isOpen:s,onClose:g}){let C=i.useRef(null),[N,I]=i.useState(null),[M,A]=i.useState(null),P=(0,n.d4)(y.Sh),{importFile:O,isLoading:L}=function(){let[e,t]=(0,i.useState)(null),[s,r]=(0,i.useState)(!1),n=(0,i.useCallback)(e=>new Promise((t,s)=>{v().parse(e,{header:!0,dynamicTyping:!1,complete:async s=>{t({csv:await e.text(),type:"csv"})},error:e=>{console.error("Error parsing CSV file:",e),s(e)}})}),[]);return{error:e,isLoading:s,importFile:(0,i.useCallback)(async e=>{r(!0),t(null);try{let t=e.name.split(".").pop()?.toLowerCase();if("csv"===t)return await n(e);throw Error(`Unsupported file type: ${t}`)}catch(e){t({message:"Failed to import file",details:e instanceof Error?e:Error(String(e))})}finally{r(!1)}},[n])}}(),[R,D]=i.useState(null),F=t||R,K=(0,b.Cd)(F??"");i.useEffect(()=>{s||(D(null),A(null),I(null))},[s]);let B=()=>{C.current?.click()},G=(e,t,s,r)=>{p.l7.user("chart-createChartOnSlide",()=>{let i=e.createNode("JSX");i.resizeWithConstraints(800,480);let n=t.size,l=i.size;i.x=(n.x-l.x)/2,i.y=(n.y-l.y)/2,t.appendChild(i),(0,b.$H)(i.id,{...(0,j.ZN)(s),chartType:r}),D(i.guid)})},H=(e,t)=>{if(t){let s=e.get(t);if(s&&"SLIDE"===s.type)return s}let s=u.Ez5?.canvasGrid();if(s){let t=(0,_.zR)(),r=s.getClosestGridCoord(t,null),i=s.canvasGridArray.getCopy(),n=i[r.row]?.[r.col];if(n)return e.get(n)}return null},z=async e=>{let t=e.target.files?.[0];if(!t)return;A(t.name);let{csv:s}=await O(t)||{};if(s){if(F){if((0,h.UN)().get(F)){let e=K?.chartType||N;e&&p.l7.user("chart-updateExistingChart",()=>{(0,b.$H)(F,{...(0,j.ZN)(s),chartType:e})})}}else{let e=(0,h.UN)(),t=H(e,P[0]);t&&N&&G(e,t,s,N)}}},V=[{type:k.N.BAR_GROUPED,icon:"e3bae6898ed50d51dc6ca312b486d7d4eb64883f",title:(0,x.t)("slides.charts.bar")}],U=(0,r.jsx)("div",{className:"x78zum5 x1jnr06f",children:F?(0,r.jsx)(l.$n,{variant:"secondary",onClick:B,children:(0,x.t)("slides.charts.reupload_file")}):N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.$n,{variant:"secondary",onClick:()=>{if(!N)return;let e=(0,h.UN)(),t=H(e,P[0]);t&&G(e,t,"City,2011-10-01,2011-10-02,2011-10-03,2011-10-04,2011-10-05,2011-10-06,2011-10-07,2011-10-08,2011-10-09,2011-10-10,2011-10-11,2011-10-12\nNew York,63.4,58.0,53.3,55.7,64.2,58.8,57.9,61.8,69.3,71.2,68.7,61.8\nSan Francisco,53.4,48.0,43.3,45.7,54.2,48.8,47.9,51.8,59.3,61.2,58.7,51.8",N)},children:(0,x.t)("slides.charts.start_from_scratch")}),(0,r.jsx)(l.$n,{variant:"primary",onClick:B,children:(0,x.t)("slides.charts.upload_csv")})]}):null});return s?(0,r.jsx)(d._L,{onClose:g,defaultPosition:e,defaultWidth:T,defaultHeight:w,children:(0,r.jsxs)(c.vo,{children:[(0,r.jsx)(c.Y9,{children:(0,r.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4 xh8yej3 xmzs88n",children:[(0,r.jsx)(c.hE,{children:M||(0,x.t)("slides.charts.charts")}),U]})}),(0,r.jsx)(c.nB,{children:F?(0,r.jsx)(function(){return F?(0,r.jsxs)("div",{className:"x78zum5",children:[(0,r.jsx)(E,{jsxProps:K,nodeId:F,fallback:null}),(0,r.jsx)(S,{fileInputRef:C,onChange:z})]}):null},{}):L?(0,r.jsx)(function(){return(0,r.jsxs)("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d x167g77z",children:[(0,r.jsx)(o.k,{}),(0,r.jsx)("div",{className:"x1n0bwc9",children:(0,x.t)("slides.charts.import_data_modal.loading")})]})},{}):(0,r.jsx)(function(){return(0,r.jsxs)("div",{className:"x78zum5",children:[V.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(a.E,{className:"x78zum5 xdt5ytf x167g77z",onClick:()=>I(e.type),children:(0,r.jsx)(f.oW,{src:(0,m.ck)(e.icon),alt:e.title,className:{0:{className:"xfj9a5l xur7f20 x1ypdohk"},1:{className:"xfj9a5l xur7f20 x1ypdohk x1fa9rx7"}}[!(N!==e.type)<<0].className})}),(0,r.jsx)("div",{children:e.title})]},e.type)),(0,r.jsx)(S,{fileInputRef:C,onChange:z})]})},{})})]})}):null}let E=(0,g.s_)("LazyTable",()=>Promise.all([s.e(9641),s.e(4963)]).then(s.bind(s,804963)).then(e=>e.DataTable),{componentName:"LazyTable",error:g.H4.NONE})},246758:(e,t,s)=>{s.d(t,{N:()=>i,c:()=>g});var r=s(441513),i=(e=>(e.BAR_GROUPED="bar-grouped",e.BAR_STACKED="bar-stacked",e))(i||{});let n=r.z.string().startsWith("row-"),l=r.z.string().startsWith("column-"),a=r.z.string().includes(":"),o=r.z.literal("chartType"),d=r.z.string(),c=r.z.nativeEnum(i),u=r.z.union([r.z.literal("color1"),r.z.literal("color2"),r.z.literal("color3"),r.z.literal("color4"),r.z.literal("color5")]),p=r.z.string(),h=r.z.union([n,l,a,o,u]),m=r.z.union([d,c,p]),g=r.z.record(h,m).refine(e=>Object.entries(e).every(([e,t])=>e.startsWith("row-")||e.startsWith("column-")||e.includes(":")?d.safeParse(t).success:"chartType"===e?c.safeParse(t).success:("color1"===e||"color2"===e||"color3"===e||"color4"===e||"color5"===e)&&p.safeParse(t).success)).transform(e=>({...e,chartType:e.chartType??"bar-grouped",color1:e.color1??"#6c5efb",color2:e.color2??"#c998ff",color3:e.color3??"#a44afe",color4:e.color4??"#7a28fb",color5:e.color5??"#9f87ff"}))},540570:(e,t,s)=>{s.d(t,{_:()=>v,f:()=>S});var r=s(104076),i=s(382629),n=s(264993),l=s(74620),a=s(835307),o=s(716976),d=s(293422),c=s(816299),u=s(623411),p=s(170627),h=s(498520),m=s(192075),g=s(737139),f=s(414318),x=s(921486),_=s(903152),y=s(729940),b=s(246758);function j({nodeId:e,jsxProps:t,drillDownKey:s}){let[i,n]=(0,o.useState)(!1),l=t.chartType??b.N.BAR_GROUPED,a=s=>{p.l7.user("chart-setChartType",()=>{(0,f.$H)(e,{...t,chartType:s})})},h=(0,f.mn)(e);return(0,r.jsxs)(g.Zk,{children:[(0,r.jsx)(d.$n,{onClick:()=>n(!0),children:(0,m.t)("react-scenegraph.chart.edit_data")}),h&&(0,r.jsx)(d.$n,{onClick:()=>p.l7.user("chart-clearOverrides",()=>(0,f.od)(e)),children:(0,m.t)("react-scenegraph.chart.clear_overrides")}),(0,r.jsxs)(c.bL,{value:l,onChange:e=>a(e),children:[(0,r.jsx)(c.l9,{label:(0,r.jsx)(u.J,{children:(0,m.t)("react-scenegraph.chart.chart_type")})}),(0,r.jsxs)(c.mc,{children:[(0,r.jsx)(c.c$,{value:b.N.BAR_GROUPED,children:(0,m.t)("react-scenegraph.chart.bar_grouped")}),(0,r.jsx)(c.c$,{value:b.N.BAR_STACKED,children:(0,m.t)("react-scenegraph.chart.bar_stacked")})]})]}),(0,r.jsx)(C,{nodeId:e,jsxProps:t,drillDownKey:s}),(0,r.jsx)(y.nh,{nodeId:e,isOpen:i,onClose:()=>n(!1)})]})}function C({nodeId:e,jsxProps:t,drillDownKey:s}){let i=(0,_.fM)(t);return(0,r.jsx)(r.Fragment,{children:i.filter(e=>!s||e.drillDownKeys.includes(s)).map(s=>(0,r.jsx)(x.u,{pickerId:`chart-color-picker-${s.key}`,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleKey:void 0,inheritStyleName:void 0,inheritStyleId:void 0,hideCustomColorPickerFillTypeToggle:!1,paint:function(e){let t=(0,h.H0)(e);return t?{type:"SOLID",color:{r:t.r,g:t.g,b:t.b,a:1},opacity:t.a,blendMode:"NORMAL",visible:!0}:{type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL",visible:!0}}(s.color),onChange:r=>{p.l7.user("chart-setColor",()=>{(0,f.$H)(e,{...t,[s.key]:function(e){if(!e.color||"SOLID"!==e.type)return"#FFFFFF";let t={...e.color};return void 0!==e.opacity&&1!==e.opacity&&(t.a=e.opacity),(0,h.F_)(t)}(r)})})}},s.key))})}function v(){let{jsxNodeId:e,jsxDrillDownKey:t}=S();return e?(0,r.jsx)(k,{jsxNodeId:e,jsxDrillDownKey:t}):null}function k({jsxNodeId:e,jsxDrillDownKey:t}){let s=(0,f.Cd)(e);return s?(0,r.jsx)(j,{nodeId:e,jsxProps:s,drillDownKey:t}):null}function S(){let e=(0,l.KH)();return(0,a.wA)((e,t)=>{let s=Object.keys(t);if(1===s.length){let t=s[0];if(!t)return{jsxNodeId:null,jsxDrillDownKey:null};if(e.get(t)?.isJSX)return{jsxNodeId:t,jsxDrillDownKey:null}}if(s.length>1){let t=s.map(t=>e.get(t)).filter(e=>e?.isJsxSublayer).filter(i.Vq);if(t.length!==s.length)return{jsxNodeId:null,jsxDrillDownKey:null};let r=t[0]?.containingJSXGuid,l=t[0]?.jsxDrillDownKey;if(!r||!l||r===n.AD)return{jsxNodeId:null,jsxDrillDownKey:null};if(t.every(e=>e.containingJSXGuid===r&&e.jsxDrillDownKey===l))return{jsxNodeId:r,jsxDrillDownKey:l}}return{jsxNodeId:null,jsxDrillDownKey:null}},e)}},414318:(e,t,s)=>{s.d(t,{$H:()=>c,Cd:()=>o,mn:()=>p,od:()=>u});var r=s(716976),i=s(980852),n=s(246144),l=s(835307),a=s(246758);function o(e){let t=(0,l.wA)((e,t)=>e.get(t)?.jsxProps||{},e);return(0,r.useMemo)(()=>d(e,t),[e,t])}function d(e,t){if(!(0,i.UN)().get(e))return null;let s=a.c.safeParse(t);return s.success?s.data:(s.error&&(0,n.x1)("onJSXPropsChange","Invalid props",s.error.flatten(),{reportAsSentryError:!0}),null)}function c(e,t){let s=(0,i.UN)().get(e);if(!s)return;let r=d(e,t);r&&s.setJSXProps(r)}function u(e){let t=(0,i.UN)().get(e);t&&t.clearJSXOverrides()}function p(e){return(0,l.Fk)((e,t)=>Object.keys(e.get(t)?.jsxOverrides||{}).length>0,e)}},766317:(e,t,s)=>{s.d(t,{Cw:()=>n,jM:()=>i,uW:()=>l});var r=s(795033);let i=(0,r.eU)([]),n=(0,r.eU)(e=>new Set(e(i).map(e=>"object"==typeof e?e.componentId:e)).size),l=(0,r.eU)(null)},921486:(e,t,s)=>{s.d(t,{u:()=>F});var r=s(104076),i=s(716976),n=s(903927),l=s(240803);let a=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M2.486 5.143a1 1 0 0 0 0 1.715L4.39 8 2.486 9.143a1 1 0 0 0 0 1.715l4.485 2.69a2 2 0 0 0 2.058 0l4.486-2.69a1 1 0 0 0 0-1.715L11.61 8l1.905-1.142a1 1 0 0 0 0-1.715L9.029 2.45a2 2 0 0 0-2.058 0zM9.666 8l.973-.583 1.39-.834L13 6l-.972-.583-3.514-2.108a1 1 0 0 0-1.028 0L3.972 5.417 3 6l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0zm-4.304.583 1.609.966a2 2 0 0 0 2.058 0l1.61-.966 1.39.834L13 10l-.972.583-3.514 2.108a1 1 0 0 1-1.028 0l-3.514-2.108L3 10l.972-.583z",clipRule:"evenodd"})})});var o=s(266808),d=s(767446),c=s(933688),u=s(361170),p=s(36767),h=s(270112),m=s(236631),g=s(192075),f=s(850701),x=s(41076),_=s(354114),y=s(553065),b=s(176836),j=s(371952),C=s(386958),v=s(561437),k=s(547029),S=s(460434),w=s(26423),T=s(486935),N=s(276800),E=s(684742),I=s(602755),M=s(511570),A=s.n(M),P=s(641518),O=s(617045),L=s(744626);function R({paint:e,onColorChange:t,openColorPicker:s,closeColorPicker:n,isPickerOpen:l,icon:a,recordingKey:o}){let[d,c]=i.useState(!1),u=i.useRef(null),p=()=>{l?(n(),u.current?.blur()):(s(),u.current?.focus(),u.current?.select())};return(0,r.jsxs)("div",{className:A()(L.oE,{[L.in]:d}),children:[(0,r.jsx)(D,{onClick:p,recordingKey:P.Pt(o,"chit"),"aria-label":(0,g.t)("slides.properties_panel.color_picker.open.aria_label"),children:a}),(0,r.jsx)(O.S,{focusableRef:u,noBorderOnFocus:!0,onBlur:()=>c(!1),onColorChange:e=>{t(e),n()},onFocus:()=>{c(!0)},onMouseDown:e=>{e.stopPropagation(),d&&n()},onTypeMouseDown:N.lQ,paint:e,recordingKey:o,visible:!0}),(0,r.jsx)(D,{onClick:p,recordingKey:P.Pt(o,"chevron"),children:(0,r.jsx)(I.O,{})})]})}function D({onClick:e,recordingKey:t,children:s,...i}){return(0,r.jsx)(E.E,{className:m.s.hFull.px4.bgTransparent.$,onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},actionOnPointerDown:!0,recordingKey:t,"aria-label":i["aria-label"],children:s})}function F({paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:l,inheritStyleId:a,pickerId:d,inheritStyleKeyField:c,hideCustomColorPickerFillTypeToggle:p,recordingKey:h}){let m=(0,n.d4)(e=>e.pickerShown&&e.pickerShown.id===d?e.pickerShown:null),g=(0,i.useRef)(null),x=!!e&&(0,y.hS)(e)&&(0,b.bn)(e.type),{openColorPicker:j,closeColorPicker:v}=function(e,t,s,r,l){let a=(0,n.wA)(),d=(0,n.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,S.jj)(e);return{openColorPicker:i.useCallback(()=>{if(!s){if(r.current){let{x:e,y:s}=(0,C.cn)(r.current,l?T.jP:w.pg);a(f.u1({id:t,initialX:e-16,initialY:s})),c()}else console.error("rowRef.current is null")}},[t,s,a,r,l,c]),closeColorPicker:i.useCallback(()=>{d===o.m1T.GRADIENT&&_.Y5.triggerAction("leave-edit-mode"),a(f.XE())},[a,d])}}(e,d,m,g,x);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{ref:g,children:(0,r.jsx)(K,{paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:l,inheritStyleId:a,isPickerOpen:!!m,openColorPicker:j,closeColorPicker:v,recordingKey:h})}),m&&e&&(x?(0,r.jsx)(T.Ph,{paint:e,onChange:t,onClose:v,initialPosition:new u.Mi(m.initialX,m.initialY),enableGradients:!0,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c}):(0,r.jsx)(w.GY,{paint:e,onChange:t,onClose:v,pickerShown:m,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c}))]})}function K({paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:n,inheritStyleId:o,isPickerOpen:u,openColorPicker:f,closeColorPicker:_,recordingKey:j}){let C=(0,S.Gc)(),w=!!e&&(0,y.hS)(e)&&(0,b.bn)(e.type),T=!!e&&(0,y.hS)(e)&&(0,b.sb)(e.type),N=(0,S.Mg)("FILL",s,o),E=(0,p.e)(e),I=(()=>{if((0,y.gl)(e))return null;let t=e?.colorVar?.value?.alias;return t?d.dI(t):null})(),M=()=>(0,y.gl)(e)||(0,y.gl)(n)?(0,g.t)("fullscreen.mixed"):n||(C?(0,g.t)("slides.properties_panel.color_picker.multiple"):w?(0,g.t)("slides.properties_panel.fill.fill_type_gradient"):x.TI.format(E[0])),A=i.useMemo(()=>C?(0,r.jsx)(a,{}):N?(0,r.jsx)(v.zi,{dsStyle:N,disableTooltip:!0}):(0,r.jsx)(p.v,{colors:E,paint:e,forceNonInteractive:!0}),[C,N,E,e]),P=i.useCallback(()=>{u?_():f()},[u,_,f]),O=!C&&T&&!e.colorVar&&!N;return(0,r.jsx)(c.E,{name:"slides_color_input",children:O?(0,r.jsx)(R,{paint:e,onColorChange:e=>t((0,S.NQ)(e)),openColorPicker:f,closeColorPicker:_,isPickerOpen:u,icon:A,recordingKey:j}):(0,r.jsx)(l.o,{eventListeners:["onMouseDown"],children:(0,r.jsx)(k.C,{isOpen:u,onClick:P,recordingKey:j,"aria-label":(0,g.t)("slides.properties_panel.color_picker.open.aria_label"),children:(0,r.jsxs)("span",{className:m.s.pl4.inlineFlex.gap6.overflowHidden.$,children:[A,!n&&I?(0,r.jsx)(B,{variableId:I,fallbackText:M()}):(0,r.jsx)(h.o,{text:M()})]})})})})}function B({variableId:e,fallbackText:t}){let s=(0,j.u)(e);return(0,r.jsx)(h.o,{lastClassName:m.s.overflowHidden.noWrap.ellipsis.$,text:s?.name??t})}},547029:(e,t,s)=>{s.d(t,{C:()=>u});var r=s(104076),i=s(716976),n=s(684742),l=s(602755),a=s(511570),o=s.n(a),d=s(236631),c=s(467633);let u=i.forwardRef(function({isOpen:e,onClick:t,children:s,recordingKey:i,...a},u){return(0,r.jsxs)(n.E,{actionOnPointerDown:!0,ref:u,className:o()("slides_flyout_input--input--cM6kp ellipsis--ellipsis--Tjyfa",c.t,{"slides_flyout_input--selected--CgFEs":e}),onClick:t,recordingKey:i,"aria-label":a["aria-label"],"aria-expanded":e,"aria-describedby":"slides-flyout-input-label",children:[(0,r.jsx)("span",{className:"slides_flyout_input--content--hygOt",id:"slides-flyout-input-label",children:s}),(0,r.jsx)("div",{className:d.s.flexShrink0.$,"aria-hidden":!0,children:(0,r.jsx)(l.O,{})})]})})},576240:(e,t,s)=>{s.d(t,{Q:()=>o,n:()=>n});var r=s(580953),i=s(983317);let n=r.z.enum(["release-0","release-1-default","release-1-fast","experimental","default","silly-goose","default-v2-prompt","first-party","code-diff","agent-enabled","claude-4-image","brave-lion","cute-rabbit","friendly-elephant","clever-fox","gpt-oss-120b","old-ghost","new-ghost"]),l=(0,i.KS)(i.UF,{includeExtraContext:!0,previewIncrementalEdits:!1,disableSerializationTimeout:!0,maxNodesToSerialize:1e3,maxNodesToSerializeForExtraContext:100,includeViewportInfo:!0}),a=(0,i.KS)(l,{jsxSerializerOverrides:{flavor:"flow",checkEditQuality:!0,repairEditQuality:!0}}),o={"release-0":l,"release-1-default":a,"release-1-fast":i.kw,experimental:(0,i.KS)(a,{agentEnabled:!0,agentDesignCriticEnabled:!0,selfHealing:!0,silentOnNoChanges:!0,harness:{userMessageFormat:"blocks",sendImage:!0,outputFormat:"jsx-query"}}),"silly-goose":i.UF,default:i.UF,"default-v2-prompt":(0,i.KS)(i.UF,{harness:{userMessageFormat:"text-with-components",sendImage:!0,outputFormat:"hybrid-aider"}}),"code-diff":(0,i.KS)(l,{harness:{userMessageFormat:"blocks",sendImage:!0,outputFormat:"jsx-query"}}),"agent-enabled":(0,i.KS)(l,{agentEnabled:!0,agentDesignCriticEnabled:!0,selfHealing:!0,silentOnNoChanges:!0}),"first-party":i.kw,"claude-4-image":i.kw,"brave-lion":i.kw,"gpt-oss-120b":i.kw,"cute-rabbit":(0,i.KS)(i.kw,{harness:{userMessageFormat:"text",outputFormat:"hybrid-aider-with-thinking",sendImage:!1}}),"friendly-elephant":i.kw,"clever-fox":i.kw,"old-ghost":i.UF,"new-ghost":(0,i.KS)(i.UF,{harness:{userMessageFormat:"text-with-components",sendImage:!0,outputFormat:"hybrid-aider"}})}},983317:(e,t,s)=>{s.d(t,{KS:()=>d,R0:()=>o,UF:()=>r,k3:()=>a,kw:()=>i});let r={jsxSerializerOverrides:{},componentSerializerOverrides:{},previewIncrementalEdits:!0,agentEnabled:!1,agentDesignCriticEnabled:!1,maxNodesToSerialize:1e3,imageIconGenerationMode:"text",harness:{userMessageFormat:"blocks",sendImage:!0,outputFormat:"hybrid-aider"}},i=d(r,{harness:{userMessageFormat:"text",sendImage:!1,outputFormat:"hybrid-aider"},jsxSerializerOverrides:{normalizeRootXY:!0}}),n={flavor:"default",includeIDs:!0,includeInstanceOverrides:!0,includeNames:!0,inlineVectorData:!1,strict:!1,tailwind:!1,tailwindOnly:!1,materializeInvisibleChildren:!0,replaceIrregularWhitespace:!0,ignoreFetchingComponentData:!0},l={...n,includeIDs:!1,forcePopulateOverrideKey:!0};function a(e,t={}){return{...n,includeStyles:e.enableStyles,...e.includeExtraContext?{maxSerializeNodes:e.maxNodesToSerialize,maxExtraContextNodes:e.maxNodesToSerializeForExtraContext,serializeAllFocusNodeAncestors:!0}:{},...e.jsxSerializerOverrides,...t}}function o(e,t={}){return{...l,includeStyles:e.enableStyles,...e.jsxSerializerOverrides,...e.componentSerializerOverrides,...t}}function d(e,t){return{...e,...t,harness:{...e.harness,...t.harness},jsxSerializerOverrides:{...e.jsxSerializerOverrides,...t.jsxSerializerOverrides},componentSerializerOverrides:{...e.componentSerializerOverrides,...t.componentSerializerOverrides}}}},314220:(e,t,s)=>{s.d(t,{GU:()=>d,yP:()=>o});var r=s(580953),i=s(542145),n=s(576240);let l=r.z.object({makeEditsOpaqueConfigurationKey:n.n,makeEditsGlobalOptionOverrides:i.b3.partial().optional(),productString:r.z.string().describe("The translation key for the product string to display in the UI. But also used as a key to persist the user selection."),productStringEnglishFallback:r.z.string(),default:r.z.boolean().optional().describe("If not specified, the first config will be used as the default.")}),a=r.z.object({configs:r.z.array(l).min(1)}),o={configs:[{makeEditsOpaqueConfigurationKey:"release-0",makeEditsGlobalOptionOverrides:{},productString:"ai_assistant.model_picker.models.default",productStringEnglishFallback:"Default",default:!0}]};function d(e){if("object"!=typeof e||null===e)return o;let t=a.safeParse(e);return t.success?t.data:o}}}]);

//# debugId=51f23bf3-106a-5652-a301-25abe49395db

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/28dab713df8540b3d43dc354be7a3770760bcd78/9741-bb48ff9d35483fb3.min.js.map